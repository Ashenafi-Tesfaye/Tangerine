/*! modernizr 3.2.0 (Custom Build) | MIT *
 * http://modernizr.com/download/?-setclasses !*/
!function(n,e,s){function o(n,e){return typeof n===e}function a(){var n,e,s,a,i,l,r;for(var c in f)if(f.hasOwnProperty(c)){if(n=[],e=f[c],e.name&&(n.push(e.name.toLowerCase()),e.options&&e.options.aliases&&e.options.aliases.length))for(s=0;s<e.options.aliases.length;s++)n.push(e.options.aliases[s].toLowerCase());for(a=o(e.fn,"function")?e.fn():e.fn,i=0;i<n.length;i++)l=n[i],r=l.split("."),1===r.length?Modernizr[r[0]]=a:(!Modernizr[r[0]]||Modernizr[r[0]]instanceof Boolean||(Modernizr[r[0]]=new Boolean(Modernizr[r[0]])),Modernizr[r[0]][r[1]]=a),t.push((a?"":"no-")+r.join("-"))}}function i(n){var e=r.className,s=Modernizr._config.classPrefix||"";if(c&&(e=e.baseVal),Modernizr._config.enableJSClass){var o=new RegExp("(^|\\s)"+s+"no-js(\\s|$)");e=e.replace(o,"$1"+s+"js$2")}Modernizr._config.enableClasses&&(e+=" "+s+n.join(" "+s),c?r.className.baseVal=e:r.className=e)}var t=[],f=[],l={_version:"3.2.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(n,e){var s=this;setTimeout(function(){e(s[n])},0)},addTest:function(n,e,s){f.push({name:n,fn:e,options:s})},addAsyncTest:function(n){f.push({name:null,fn:n})}},Modernizr=function(){};Modernizr.prototype=l,Modernizr=new Modernizr;var r=e.documentElement,c="svg"===r.nodeName.toLowerCase();a(),i(t),delete l.addTest,delete l.addAsyncTest;for(var u=0;u<Modernizr._q.length;u++)Modernizr._q[u]();n.Modernizr=Modernizr}(window,document);
/*!
 * jQuery JavaScript Library v1.11.3
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-04-28T16:19Z
 */

(function( global, factory ) {

  if ( typeof module === "object" && typeof module.exports === "object" ) {
    // For CommonJS and CommonJS-like environments where a proper window is present,
    // execute the factory and get jQuery
    // For environments that do not inherently posses a window with a document
    // (such as Node.js), expose a jQuery-making factory as module.exports
    // This accentuates the need for the creation of a real window
    // e.g. var jQuery = require("jquery")(window);
    // See ticket #14549 for more info
    module.exports = global.document ?
      factory( global, true ) :
      function( w ) {
        if ( !w.document ) {
          throw new Error( "jQuery requires a window with a document" );
        }
        return factory( w );
      };
  } else {
    factory( global );
  }

// Pass this if window is not defined yet
}(typeof window !== "undefined" ? window : this, function( window, noGlobal ) {

// Can't do this because several apps including ASP.NET trace
// the stack via arguments.caller.callee and Firefox dies if
// you try to trace through "use strict" call chains. (#13335)
// Support: Firefox 18+
//

var deletedIds = [];

var slice = deletedIds.slice;

var concat = deletedIds.concat;

var push = deletedIds.push;

var indexOf = deletedIds.indexOf;

var class2type = {};

var toString = class2type.toString;

var hasOwn = class2type.hasOwnProperty;

var support = {};



var
  version = "1.11.3",

  // Define a local copy of jQuery
  jQuery = function( selector, context ) {
    // The jQuery object is actually just the init constructor 'enhanced'
    // Need init if jQuery is called (just allow error to be thrown if not included)
    return new jQuery.fn.init( selector, context );
  },

  // Support: Android<4.1, IE<9
  // Make sure we trim BOM and NBSP
  rtrim = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,

  // Matches dashed string for camelizing
  rmsPrefix = /^-ms-/,
  rdashAlpha = /-([\da-z])/gi,

  // Used by jQuery.camelCase as callback to replace()
  fcamelCase = function( all, letter ) {
    return letter.toUpperCase();
  };

jQuery.fn = jQuery.prototype = {
  // The current version of jQuery being used
  jquery: version,

  constructor: jQuery,

  // Start with an empty selector
  selector: "",

  // The default length of a jQuery object is 0
  length: 0,

  toArray: function() {
    return slice.call( this );
  },

  // Get the Nth element in the matched element set OR
  // Get the whole matched element set as a clean array
  get: function( num ) {
    return num != null ?

      // Return just the one element from the set
      ( num < 0 ? this[ num + this.length ] : this[ num ] ) :

      // Return all the elements in a clean array
      slice.call( this );
  },

  // Take an array of elements and push it onto the stack
  // (returning the new matched element set)
  pushStack: function( elems ) {

    // Build a new jQuery matched element set
    var ret = jQuery.merge( this.constructor(), elems );

    // Add the old object onto the stack (as a reference)
    ret.prevObject = this;
    ret.context = this.context;

    // Return the newly-formed element set
    return ret;
  },

  // Execute a callback for every element in the matched set.
  // (You can seed the arguments with an array of args, but this is
  // only used internally.)
  each: function( callback, args ) {
    return jQuery.each( this, callback, args );
  },

  map: function( callback ) {
    return this.pushStack( jQuery.map(this, function( elem, i ) {
      return callback.call( elem, i, elem );
    }));
  },

  slice: function() {
    return this.pushStack( slice.apply( this, arguments ) );
  },

  first: function() {
    return this.eq( 0 );
  },

  last: function() {
    return this.eq( -1 );
  },

  eq: function( i ) {
    var len = this.length,
      j = +i + ( i < 0 ? len : 0 );
    return this.pushStack( j >= 0 && j < len ? [ this[j] ] : [] );
  },

  end: function() {
    return this.prevObject || this.constructor(null);
  },

  // For internal use only.
  // Behaves like an Array's method, not like a jQuery method.
  push: push,
  sort: deletedIds.sort,
  splice: deletedIds.splice
};

jQuery.extend = jQuery.fn.extend = function() {
  var src, copyIsArray, copy, name, options, clone,
    target = arguments[0] || {},
    i = 1,
    length = arguments.length,
    deep = false;

  // Handle a deep copy situation
  if ( typeof target === "boolean" ) {
    deep = target;

    // skip the boolean and the target
    target = arguments[ i ] || {};
    i++;
  }

  // Handle case when target is a string or something (possible in deep copy)
  if ( typeof target !== "object" && !jQuery.isFunction(target) ) {
    target = {};
  }

  // extend jQuery itself if only one argument is passed
  if ( i === length ) {
    target = this;
    i--;
  }

  for ( ; i < length; i++ ) {
    // Only deal with non-null/undefined values
    if ( (options = arguments[ i ]) != null ) {
      // Extend the base object
      for ( name in options ) {
        src = target[ name ];
        copy = options[ name ];

        // Prevent never-ending loop
        if ( target === copy ) {
          continue;
        }

        // Recurse if we're merging plain objects or arrays
        if ( deep && copy && ( jQuery.isPlainObject(copy) || (copyIsArray = jQuery.isArray(copy)) ) ) {
          if ( copyIsArray ) {
            copyIsArray = false;
            clone = src && jQuery.isArray(src) ? src : [];

          } else {
            clone = src && jQuery.isPlainObject(src) ? src : {};
          }

          // Never move original objects, clone them
          target[ name ] = jQuery.extend( deep, clone, copy );

        // Don't bring in undefined values
        } else if ( copy !== undefined ) {
          target[ name ] = copy;
        }
      }
    }
  }

  // Return the modified object
  return target;
};

jQuery.extend({
  // Unique for each copy of jQuery on the page
  expando: "jQuery" + ( version + Math.random() ).replace( /\D/g, "" ),

  // Assume jQuery is ready without the ready module
  isReady: true,

  error: function( msg ) {
    throw new Error( msg );
  },

  noop: function() {},

  // See test/unit/core.js for details concerning isFunction.
  // Since version 1.3, DOM methods and functions like alert
  // aren't supported. They return false on IE (#2968).
  isFunction: function( obj ) {
    return jQuery.type(obj) === "function";
  },

  isArray: Array.isArray || function( obj ) {
    return jQuery.type(obj) === "array";
  },

  isWindow: function( obj ) {
    /* jshint eqeqeq: false */
    return obj != null && obj == obj.window;
  },

  isNumeric: function( obj ) {
    // parseFloat NaNs numeric-cast false positives (null|true|false|"")
    // ...but misinterprets leading-number strings, particularly hex literals ("0x...")
    // subtraction forces infinities to NaN
    // adding 1 corrects loss of precision from parseFloat (#15100)
    return !jQuery.isArray( obj ) && (obj - parseFloat( obj ) + 1) >= 0;
  },

  isEmptyObject: function( obj ) {
    var name;
    for ( name in obj ) {
      return false;
    }
    return true;
  },

  isPlainObject: function( obj ) {
    var key;

    // Must be an Object.
    // Because of IE, we also have to check the presence of the constructor property.
    // Make sure that DOM nodes and window objects don't pass through, as well
    if ( !obj || jQuery.type(obj) !== "object" || obj.nodeType || jQuery.isWindow( obj ) ) {
      return false;
    }

    try {
      // Not own constructor property must be Object
      if ( obj.constructor &&
        !hasOwn.call(obj, "constructor") &&
        !hasOwn.call(obj.constructor.prototype, "isPrototypeOf") ) {
        return false;
      }
    } catch ( e ) {
      // IE8,9 Will throw exceptions on certain host objects #9897
      return false;
    }

    // Support: IE<9
    // Handle iteration over inherited properties before own properties.
    if ( support.ownLast ) {
      for ( key in obj ) {
        return hasOwn.call( obj, key );
      }
    }

    // Own properties are enumerated firstly, so to speed up,
    // if last one is own, then all properties are own.
    for ( key in obj ) {}

    return key === undefined || hasOwn.call( obj, key );
  },

  type: function( obj ) {
    if ( obj == null ) {
      return obj + "";
    }
    return typeof obj === "object" || typeof obj === "function" ?
      class2type[ toString.call(obj) ] || "object" :
      typeof obj;
  },

  // Evaluates a script in a global context
  // Workarounds based on findings by Jim Driscoll
  // http://weblogs.java.net/blog/driscoll/archive/2009/09/08/eval-javascript-global-context
  globalEval: function( data ) {
    if ( data && jQuery.trim( data ) ) {
      // We use execScript on Internet Explorer
      // We use an anonymous function so that context is window
      // rather than jQuery in Firefox
      ( window.execScript || function( data ) {
        window[ "eval" ].call( window, data );
      } )( data );
    }
  },

  // Convert dashed to camelCase; used by the css and data modules
  // Microsoft forgot to hump their vendor prefix (#9572)
  camelCase: function( string ) {
    return string.replace( rmsPrefix, "ms-" ).replace( rdashAlpha, fcamelCase );
  },

  nodeName: function( elem, name ) {
    return elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();
  },

  // args is for internal usage only
  each: function( obj, callback, args ) {
    var value,
      i = 0,
      length = obj.length,
      isArray = isArraylike( obj );

    if ( args ) {
      if ( isArray ) {
        for ( ; i < length; i++ ) {
          value = callback.apply( obj[ i ], args );

          if ( value === false ) {
            break;
          }
        }
      } else {
        for ( i in obj ) {
          value = callback.apply( obj[ i ], args );

          if ( value === false ) {
            break;
          }
        }
      }

    // A special, fast, case for the most common use of each
    } else {
      if ( isArray ) {
        for ( ; i < length; i++ ) {
          value = callback.call( obj[ i ], i, obj[ i ] );

          if ( value === false ) {
            break;
          }
        }
      } else {
        for ( i in obj ) {
          value = callback.call( obj[ i ], i, obj[ i ] );

          if ( value === false ) {
            break;
          }
        }
      }
    }

    return obj;
  },

  // Support: Android<4.1, IE<9
  trim: function( text ) {
    return text == null ?
      "" :
      ( text + "" ).replace( rtrim, "" );
  },

  // results is for internal usage only
  makeArray: function( arr, results ) {
    var ret = results || [];

    if ( arr != null ) {
      if ( isArraylike( Object(arr) ) ) {
        jQuery.merge( ret,
          typeof arr === "string" ?
          [ arr ] : arr
        );
      } else {
        push.call( ret, arr );
      }
    }

    return ret;
  },

  inArray: function( elem, arr, i ) {
    var len;

    if ( arr ) {
      if ( indexOf ) {
        return indexOf.call( arr, elem, i );
      }

      len = arr.length;
      i = i ? i < 0 ? Math.max( 0, len + i ) : i : 0;

      for ( ; i < len; i++ ) {
        // Skip accessing in sparse arrays
        if ( i in arr && arr[ i ] === elem ) {
          return i;
        }
      }
    }

    return -1;
  },

  merge: function( first, second ) {
    var len = +second.length,
      j = 0,
      i = first.length;

    while ( j < len ) {
      first[ i++ ] = second[ j++ ];
    }

    // Support: IE<9
    // Workaround casting of .length to NaN on otherwise arraylike objects (e.g., NodeLists)
    if ( len !== len ) {
      while ( second[j] !== undefined ) {
        first[ i++ ] = second[ j++ ];
      }
    }

    first.length = i;

    return first;
  },

  grep: function( elems, callback, invert ) {
    var callbackInverse,
      matches = [],
      i = 0,
      length = elems.length,
      callbackExpect = !invert;

    // Go through the array, only saving the items
    // that pass the validator function
    for ( ; i < length; i++ ) {
      callbackInverse = !callback( elems[ i ], i );
      if ( callbackInverse !== callbackExpect ) {
        matches.push( elems[ i ] );
      }
    }

    return matches;
  },

  // arg is for internal usage only
  map: function( elems, callback, arg ) {
    var value,
      i = 0,
      length = elems.length,
      isArray = isArraylike( elems ),
      ret = [];

    // Go through the array, translating each of the items to their new values
    if ( isArray ) {
      for ( ; i < length; i++ ) {
        value = callback( elems[ i ], i, arg );

        if ( value != null ) {
          ret.push( value );
        }
      }

    // Go through every key on the object,
    } else {
      for ( i in elems ) {
        value = callback( elems[ i ], i, arg );

        if ( value != null ) {
          ret.push( value );
        }
      }
    }

    // Flatten any nested arrays
    return concat.apply( [], ret );
  },

  // A global GUID counter for objects
  guid: 1,

  // Bind a function to a context, optionally partially applying any
  // arguments.
  proxy: function( fn, context ) {
    var args, proxy, tmp;

    if ( typeof context === "string" ) {
      tmp = fn[ context ];
      context = fn;
      fn = tmp;
    }

    // Quick check to determine if target is callable, in the spec
    // this throws a TypeError, but we will just return undefined.
    if ( !jQuery.isFunction( fn ) ) {
      return undefined;
    }

    // Simulated bind
    args = slice.call( arguments, 2 );
    proxy = function() {
      return fn.apply( context || this, args.concat( slice.call( arguments ) ) );
    };

    // Set the guid of unique handler to the same of original handler, so it can be removed
    proxy.guid = fn.guid = fn.guid || jQuery.guid++;

    return proxy;
  },

  now: function() {
    return +( new Date() );
  },

  // jQuery.support is not used in Core but other projects attach their
  // properties to it so it needs to exist.
  support: support
});

// Populate the class2type map
jQuery.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function(i, name) {
  class2type[ "[object " + name + "]" ] = name.toLowerCase();
});

function isArraylike( obj ) {

  // Support: iOS 8.2 (not reproducible in simulator)
  // `in` check used to prevent JIT error (gh-2145)
  // hasOwn isn't used here due to false negatives
  // regarding Nodelist length in IE
  var length = "length" in obj && obj.length,
    type = jQuery.type( obj );

  if ( type === "function" || jQuery.isWindow( obj ) ) {
    return false;
  }

  if ( obj.nodeType === 1 && length ) {
    return true;
  }

  return type === "array" || length === 0 ||
    typeof length === "number" && length > 0 && ( length - 1 ) in obj;
}
var Sizzle =
/*!
 * Sizzle CSS Selector Engine v2.2.0-pre
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-16
 */
(function( window ) {

var i,
  support,
  Expr,
  getText,
  isXML,
  tokenize,
  compile,
  select,
  outermostContext,
  sortInput,
  hasDuplicate,

  // Local document vars
  setDocument,
  document,
  docElem,
  documentIsHTML,
  rbuggyQSA,
  rbuggyMatches,
  matches,
  contains,

  // Instance-specific data
  expando = "sizzle" + 1 * new Date(),
  preferredDoc = window.document,
  dirruns = 0,
  done = 0,
  classCache = createCache(),
  tokenCache = createCache(),
  compilerCache = createCache(),
  sortOrder = function( a, b ) {
    if ( a === b ) {
      hasDuplicate = true;
    }
    return 0;
  },

  // General-purpose constants
  MAX_NEGATIVE = 1 << 31,

  // Instance methods
  hasOwn = ({}).hasOwnProperty,
  arr = [],
  pop = arr.pop,
  push_native = arr.push,
  push = arr.push,
  slice = arr.slice,
  // Use a stripped-down indexOf as it's faster than native
  // http://jsperf.com/thor-indexof-vs-for/5
  indexOf = function( list, elem ) {
    var i = 0,
      len = list.length;
    for ( ; i < len; i++ ) {
      if ( list[i] === elem ) {
        return i;
      }
    }
    return -1;
  },

  booleans = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",

  // Regular expressions

  // Whitespace characters http://www.w3.org/TR/css3-selectors/#whitespace
  whitespace = "[\\x20\\t\\r\\n\\f]",
  // http://www.w3.org/TR/css3-syntax/#characters
  characterEncoding = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",

  // Loosely modeled on CSS identifier characters
  // An unquoted value should be a CSS identifier http://www.w3.org/TR/css3-selectors/#attribute-selectors
  // Proper syntax: http://www.w3.org/TR/CSS21/syndata.html#value-def-identifier
  identifier = characterEncoding.replace( "w", "w#" ),

  // Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors
  attributes = "\\[" + whitespace + "*(" + characterEncoding + ")(?:" + whitespace +
    // Operator (capture 2)
    "*([*^$|!~]?=)" + whitespace +
    // "Attribute values must be CSS identifiers [capture 5] or strings [capture 3 or capture 4]"
    "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + identifier + "))|)" + whitespace +
    "*\\]",

  pseudos = ":(" + characterEncoding + ")(?:\\((" +
    // To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:
    // 1. quoted (capture 3; capture 4 or capture 5)
    "('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|" +
    // 2. simple (capture 6)
    "((?:\\\\.|[^\\\\()[\\]]|" + attributes + ")*)|" +
    // 3. anything else (capture 2)
    ".*" +
    ")\\)|)",

  // Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter
  rwhitespace = new RegExp( whitespace + "+", "g" ),
  rtrim = new RegExp( "^" + whitespace + "+|((?:^|[^\\\\])(?:\\\\.)*)" + whitespace + "+$", "g" ),

  rcomma = new RegExp( "^" + whitespace + "*," + whitespace + "*" ),
  rcombinators = new RegExp( "^" + whitespace + "*([>+~]|" + whitespace + ")" + whitespace + "*" ),

  rattributeQuotes = new RegExp( "=" + whitespace + "*([^\\]'\"]*?)" + whitespace + "*\\]", "g" ),

  rpseudo = new RegExp( pseudos ),
  ridentifier = new RegExp( "^" + identifier + "$" ),

  matchExpr = {
    "ID": new RegExp( "^#(" + characterEncoding + ")" ),
    "CLASS": new RegExp( "^\\.(" + characterEncoding + ")" ),
    "TAG": new RegExp( "^(" + characterEncoding.replace( "w", "w*" ) + ")" ),
    "ATTR": new RegExp( "^" + attributes ),
    "PSEUDO": new RegExp( "^" + pseudos ),
    "CHILD": new RegExp( "^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + whitespace +
      "*(even|odd|(([+-]|)(\\d*)n|)" + whitespace + "*(?:([+-]|)" + whitespace +
      "*(\\d+)|))" + whitespace + "*\\)|)", "i" ),
    "bool": new RegExp( "^(?:" + booleans + ")$", "i" ),
    // For use in libraries implementing .is()
    // We use this for POS matching in `select`
    "needsContext": new RegExp( "^" + whitespace + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" +
      whitespace + "*((?:-\\d)?\\d*)" + whitespace + "*\\)|)(?=[^-]|$)", "i" )
  },

  rinputs = /^(?:input|select|textarea|button)$/i,
  rheader = /^h\d$/i,

  rnative = /^[^{]+\{\s*\[native \w/,

  // Easily-parseable/retrievable ID or TAG or CLASS selectors
  rquickExpr = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,

  rsibling = /[+~]/,
  rescape = /'|\\/g,

  // CSS escapes http://www.w3.org/TR/CSS21/syndata.html#escaped-characters
  runescape = new RegExp( "\\\\([\\da-f]{1,6}" + whitespace + "?|(" + whitespace + ")|.)", "ig" ),
  funescape = function( _, escaped, escapedWhitespace ) {
    var high = "0x" + escaped - 0x10000;
    // NaN means non-codepoint
    // Support: Firefox<24
    // Workaround erroneous numeric interpretation of +"0x"
    return high !== high || escapedWhitespace ?
      escaped :
      high < 0 ?
        // BMP codepoint
        String.fromCharCode( high + 0x10000 ) :
        // Supplemental Plane codepoint (surrogate pair)
        String.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );
  },

  // Used for iframes
  // See setDocument()
  // Removing the function wrapper causes a "Permission Denied"
  // error in IE
  unloadHandler = function() {
    setDocument();
  };

// Optimize for push.apply( _, NodeList )
try {
  push.apply(
    (arr = slice.call( preferredDoc.childNodes )),
    preferredDoc.childNodes
  );
  // Support: Android<4.0
  // Detect silently failing push.apply
  arr[ preferredDoc.childNodes.length ].nodeType;
} catch ( e ) {
  push = { apply: arr.length ?

    // Leverage slice if possible
    function( target, els ) {
      push_native.apply( target, slice.call(els) );
    } :

    // Support: IE<9
    // Otherwise append directly
    function( target, els ) {
      var j = target.length,
        i = 0;
      // Can't trust NodeList.length
      while ( (target[j++] = els[i++]) ) {}
      target.length = j - 1;
    }
  };
}

function Sizzle( selector, context, results, seed ) {
  var match, elem, m, nodeType,
    // QSA vars
    i, groups, old, nid, newContext, newSelector;

  if ( ( context ? context.ownerDocument || context : preferredDoc ) !== document ) {
    setDocument( context );
  }

  context = context || document;
  results = results || [];
  nodeType = context.nodeType;

  if ( typeof selector !== "string" || !selector ||
    nodeType !== 1 && nodeType !== 9 && nodeType !== 11 ) {

    return results;
  }

  if ( !seed && documentIsHTML ) {

    // Try to shortcut find operations when possible (e.g., not under DocumentFragment)
    if ( nodeType !== 11 && (match = rquickExpr.exec( selector )) ) {
      // Speed-up: Sizzle("#ID")
      if ( (m = match[1]) ) {
        if ( nodeType === 9 ) {
          elem = context.getElementById( m );
          // Check parentNode to catch when Blackberry 4.6 returns
          // nodes that are no longer in the document (jQuery #6963)
          if ( elem && elem.parentNode ) {
            // Handle the case where IE, Opera, and Webkit return items
            // by name instead of ID
            if ( elem.id === m ) {
              results.push( elem );
              return results;
            }
          } else {
            return results;
          }
        } else {
          // Context is not a document
          if ( context.ownerDocument && (elem = context.ownerDocument.getElementById( m )) &&
            contains( context, elem ) && elem.id === m ) {
            results.push( elem );
            return results;
          }
        }

      // Speed-up: Sizzle("TAG")
      } else if ( match[2] ) {
        push.apply( results, context.getElementsByTagName( selector ) );
        return results;

      // Speed-up: Sizzle(".CLASS")
      } else if ( (m = match[3]) && support.getElementsByClassName ) {
        push.apply( results, context.getElementsByClassName( m ) );
        return results;
      }
    }

    // QSA path
    if ( support.qsa && (!rbuggyQSA || !rbuggyQSA.test( selector )) ) {
      nid = old = expando;
      newContext = context;
      newSelector = nodeType !== 1 && selector;

      // qSA works strangely on Element-rooted queries
      // We can work around this by specifying an extra ID on the root
      // and working up from there (Thanks to Andrew Dupont for the technique)
      // IE 8 doesn't work on object elements
      if ( nodeType === 1 && context.nodeName.toLowerCase() !== "object" ) {
        groups = tokenize( selector );

        if ( (old = context.getAttribute("id")) ) {
          nid = old.replace( rescape, "\\$&" );
        } else {
          context.setAttribute( "id", nid );
        }
        nid = "[id='" + nid + "'] ";

        i = groups.length;
        while ( i-- ) {
          groups[i] = nid + toSelector( groups[i] );
        }
        newContext = rsibling.test( selector ) && testContext( context.parentNode ) || context;
        newSelector = groups.join(",");
      }

      if ( newSelector ) {
        try {
          push.apply( results,
            newContext.querySelectorAll( newSelector )
          );
          return results;
        } catch(qsaError) {
        } finally {
          if ( !old ) {
            context.removeAttribute("id");
          }
        }
      }
    }
  }

  // All others
  return select( selector.replace( rtrim, "$1" ), context, results, seed );
}

/**
 * Create key-value caches of limited size
 * @returns {Function(string, Object)} Returns the Object data after storing it on itself with
 *  property name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)
 *  deleting the oldest entry
 */
function createCache() {
  var keys = [];

  function cache( key, value ) {
    // Use (key + " ") to avoid collision with native prototype properties (see Issue #157)
    if ( keys.push( key + " " ) > Expr.cacheLength ) {
      // Only keep the most recent entries
      delete cache[ keys.shift() ];
    }
    return (cache[ key + " " ] = value);
  }
  return cache;
}

/**
 * Mark a function for special use by Sizzle
 * @param {Function} fn The function to mark
 */
function markFunction( fn ) {
  fn[ expando ] = true;
  return fn;
}

/**
 * Support testing using an element
 * @param {Function} fn Passed the created div and expects a boolean result
 */
function assert( fn ) {
  var div = document.createElement("div");

  try {
    return !!fn( div );
  } catch (e) {
    return false;
  } finally {
    // Remove from its parent by default
    if ( div.parentNode ) {
      div.parentNode.removeChild( div );
    }
    // release memory in IE
    div = null;
  }
}

/**
 * Adds the same handler for all of the specified attrs
 * @param {String} attrs Pipe-separated list of attributes
 * @param {Function} handler The method that will be applied
 */
function addHandle( attrs, handler ) {
  var arr = attrs.split("|"),
    i = attrs.length;

  while ( i-- ) {
    Expr.attrHandle[ arr[i] ] = handler;
  }
}

/**
 * Checks document order of two siblings
 * @param {Element} a
 * @param {Element} b
 * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b
 */
function siblingCheck( a, b ) {
  var cur = b && a,
    diff = cur && a.nodeType === 1 && b.nodeType === 1 &&
      ( ~b.sourceIndex || MAX_NEGATIVE ) -
      ( ~a.sourceIndex || MAX_NEGATIVE );

  // Use IE sourceIndex if available on both nodes
  if ( diff ) {
    return diff;
  }

  // Check if b follows a
  if ( cur ) {
    while ( (cur = cur.nextSibling) ) {
      if ( cur === b ) {
        return -1;
      }
    }
  }

  return a ? 1 : -1;
}

/**
 * Returns a function to use in pseudos for input types
 * @param {String} type
 */
function createInputPseudo( type ) {
  return function( elem ) {
    var name = elem.nodeName.toLowerCase();
    return name === "input" && elem.type === type;
  };
}

/**
 * Returns a function to use in pseudos for buttons
 * @param {String} type
 */
function createButtonPseudo( type ) {
  return function( elem ) {
    var name = elem.nodeName.toLowerCase();
    return (name === "input" || name === "button") && elem.type === type;
  };
}

/**
 * Returns a function to use in pseudos for positionals
 * @param {Function} fn
 */
function createPositionalPseudo( fn ) {
  return markFunction(function( argument ) {
    argument = +argument;
    return markFunction(function( seed, matches ) {
      var j,
        matchIndexes = fn( [], seed.length, argument ),
        i = matchIndexes.length;

      // Match elements found at the specified indexes
      while ( i-- ) {
        if ( seed[ (j = matchIndexes[i]) ] ) {
          seed[j] = !(matches[j] = seed[j]);
        }
      }
    });
  });
}

/**
 * Checks a node for validity as a Sizzle context
 * @param {Element|Object=} context
 * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value
 */
function testContext( context ) {
  return context && typeof context.getElementsByTagName !== "undefined" && context;
}

// Expose support vars for convenience
support = Sizzle.support = {};

/**
 * Detects XML nodes
 * @param {Element|Object} elem An element or a document
 * @returns {Boolean} True iff elem is a non-HTML XML node
 */
isXML = Sizzle.isXML = function( elem ) {
  // documentElement is verified for cases where it doesn't yet exist
  // (such as loading iframes in IE - #4833)
  var documentElement = elem && (elem.ownerDocument || elem).documentElement;
  return documentElement ? documentElement.nodeName !== "HTML" : false;
};

/**
 * Sets document-related variables once based on the current document
 * @param {Element|Object} [doc] An element or document object to use to set the document
 * @returns {Object} Returns the current document
 */
setDocument = Sizzle.setDocument = function( node ) {
  var hasCompare, parent,
    doc = node ? node.ownerDocument || node : preferredDoc;

  // If no document and documentElement is available, return
  if ( doc === document || doc.nodeType !== 9 || !doc.documentElement ) {
    return document;
  }

  // Set our document
  document = doc;
  docElem = doc.documentElement;
  parent = doc.defaultView;

  // Support: IE>8
  // If iframe document is assigned to "document" variable and if iframe has been reloaded,
  // IE will throw "permission denied" error when accessing "document" variable, see jQuery #13936
  // IE6-8 do not support the defaultView property so parent will be undefined
  if ( parent && parent !== parent.top ) {
    // IE11 does not have attachEvent, so all must suffer
    if ( parent.addEventListener ) {
      parent.addEventListener( "unload", unloadHandler, false );
    } else if ( parent.attachEvent ) {
      parent.attachEvent( "onunload", unloadHandler );
    }
  }

  /* Support tests
  ---------------------------------------------------------------------- */
  documentIsHTML = !isXML( doc );

  /* Attributes
  ---------------------------------------------------------------------- */

  // Support: IE<8
  // Verify that getAttribute really returns attributes and not properties
  // (excepting IE8 booleans)
  support.attributes = assert(function( div ) {
    div.className = "i";
    return !div.getAttribute("className");
  });

  /* getElement(s)By*
  ---------------------------------------------------------------------- */

  // Check if getElementsByTagName("*") returns only elements
  support.getElementsByTagName = assert(function( div ) {
    div.appendChild( doc.createComment("") );
    return !div.getElementsByTagName("*").length;
  });

  // Support: IE<9
  support.getElementsByClassName = rnative.test( doc.getElementsByClassName );

  // Support: IE<10
  // Check if getElementById returns elements by name
  // The broken getElementById methods don't pick up programatically-set names,
  // so use a roundabout getElementsByName test
  support.getById = assert(function( div ) {
    docElem.appendChild( div ).id = expando;
    return !doc.getElementsByName || !doc.getElementsByName( expando ).length;
  });

  // ID find and filter
  if ( support.getById ) {
    Expr.find["ID"] = function( id, context ) {
      if ( typeof context.getElementById !== "undefined" && documentIsHTML ) {
        var m = context.getElementById( id );
        // Check parentNode to catch when Blackberry 4.6 returns
        // nodes that are no longer in the document #6963
        return m && m.parentNode ? [ m ] : [];
      }
    };
    Expr.filter["ID"] = function( id ) {
      var attrId = id.replace( runescape, funescape );
      return function( elem ) {
        return elem.getAttribute("id") === attrId;
      };
    };
  } else {
    // Support: IE6/7
    // getElementById is not reliable as a find shortcut
    delete Expr.find["ID"];

    Expr.filter["ID"] =  function( id ) {
      var attrId = id.replace( runescape, funescape );
      return function( elem ) {
        var node = typeof elem.getAttributeNode !== "undefined" && elem.getAttributeNode("id");
        return node && node.value === attrId;
      };
    };
  }

  // Tag
  Expr.find["TAG"] = support.getElementsByTagName ?
    function( tag, context ) {
      if ( typeof context.getElementsByTagName !== "undefined" ) {
        return context.getElementsByTagName( tag );

      // DocumentFragment nodes don't have gEBTN
      } else if ( support.qsa ) {
        return context.querySelectorAll( tag );
      }
    } :

    function( tag, context ) {
      var elem,
        tmp = [],
        i = 0,
        // By happy coincidence, a (broken) gEBTN appears on DocumentFragment nodes too
        results = context.getElementsByTagName( tag );

      // Filter out possible comments
      if ( tag === "*" ) {
        while ( (elem = results[i++]) ) {
          if ( elem.nodeType === 1 ) {
            tmp.push( elem );
          }
        }

        return tmp;
      }
      return results;
    };

  // Class
  Expr.find["CLASS"] = support.getElementsByClassName && function( className, context ) {
    if ( documentIsHTML ) {
      return context.getElementsByClassName( className );
    }
  };

  /* QSA/matchesSelector
  ---------------------------------------------------------------------- */

  // QSA and matchesSelector support

  // matchesSelector(:active) reports false when true (IE9/Opera 11.5)
  rbuggyMatches = [];

  // qSa(:focus) reports false when true (Chrome 21)
  // We allow this because of a bug in IE8/9 that throws an error
  // whenever `document.activeElement` is accessed on an iframe
  // So, we allow :focus to pass through QSA all the time to avoid the IE error
  // See http://bugs.jquery.com/ticket/13378
  rbuggyQSA = [];

  if ( (support.qsa = rnative.test( doc.querySelectorAll )) ) {
    // Build QSA regex
    // Regex strategy adopted from Diego Perini
    assert(function( div ) {
      // Select is set to empty string on purpose
      // This is to test IE's treatment of not explicitly
      // setting a boolean content attribute,
      // since its presence should be enough
      // http://bugs.jquery.com/ticket/12359
      docElem.appendChild( div ).innerHTML = "<a id='" + expando + "'></a>" +
        "<select id='" + expando + "-\f]' msallowcapture=''>" +
        "<option selected=''></option></select>";

      // Support: IE8, Opera 11-12.16
      // Nothing should be selected when empty strings follow ^= or $= or *=
      // The test attribute must be unknown in Opera but "safe" for WinRT
      // http://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_section
      if ( div.querySelectorAll("[msallowcapture^='']").length ) {
        rbuggyQSA.push( "[*^$]=" + whitespace + "*(?:''|\"\")" );
      }

      // Support: IE8
      // Boolean attributes and "value" are not treated correctly
      if ( !div.querySelectorAll("[selected]").length ) {
        rbuggyQSA.push( "\\[" + whitespace + "*(?:value|" + booleans + ")" );
      }

      // Support: Chrome<29, Android<4.2+, Safari<7.0+, iOS<7.0+, PhantomJS<1.9.7+
      if ( !div.querySelectorAll( "[id~=" + expando + "-]" ).length ) {
        rbuggyQSA.push("~=");
      }

      // Webkit/Opera - :checked should return selected option elements
      // http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked
      // IE8 throws error here and will not see later tests
      if ( !div.querySelectorAll(":checked").length ) {
        rbuggyQSA.push(":checked");
      }

      // Support: Safari 8+, iOS 8+
      // https://bugs.webkit.org/show_bug.cgi?id=136851
      // In-page `selector#id sibing-combinator selector` fails
      if ( !div.querySelectorAll( "a#" + expando + "+*" ).length ) {
        rbuggyQSA.push(".#.+[+~]");
      }
    });

    assert(function( div ) {
      // Support: Windows 8 Native Apps
      // The type and name attributes are restricted during .innerHTML assignment
      var input = doc.createElement("input");
      input.setAttribute( "type", "hidden" );
      div.appendChild( input ).setAttribute( "name", "D" );

      // Support: IE8
      // Enforce case-sensitivity of name attribute
      if ( div.querySelectorAll("[name=d]").length ) {
        rbuggyQSA.push( "name" + whitespace + "*[*^$|!~]?=" );
      }

      // FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)
      // IE8 throws error here and will not see later tests
      if ( !div.querySelectorAll(":enabled").length ) {
        rbuggyQSA.push( ":enabled", ":disabled" );
      }

      // Opera 10-11 does not throw on post-comma invalid pseudos
      div.querySelectorAll("*,:x");
      rbuggyQSA.push(",.*:");
    });
  }

  if ( (support.matchesSelector = rnative.test( (matches = docElem.matches ||
    docElem.webkitMatchesSelector ||
    docElem.mozMatchesSelector ||
    docElem.oMatchesSelector ||
    docElem.msMatchesSelector) )) ) {

    assert(function( div ) {
      // Check to see if it's possible to do matchesSelector
      // on a disconnected node (IE 9)
      support.disconnectedMatch = matches.call( div, "div" );

      // This should fail with an exception
      // Gecko does not error, returns false instead
      matches.call( div, "[s!='']:x" );
      rbuggyMatches.push( "!=", pseudos );
    });
  }

  rbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join("|") );
  rbuggyMatches = rbuggyMatches.length && new RegExp( rbuggyMatches.join("|") );

  /* Contains
  ---------------------------------------------------------------------- */
  hasCompare = rnative.test( docElem.compareDocumentPosition );

  // Element contains another
  // Purposefully does not implement inclusive descendent
  // As in, an element does not contain itself
  contains = hasCompare || rnative.test( docElem.contains ) ?
    function( a, b ) {
      var adown = a.nodeType === 9 ? a.documentElement : a,
        bup = b && b.parentNode;
      return a === bup || !!( bup && bup.nodeType === 1 && (
        adown.contains ?
          adown.contains( bup ) :
          a.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16
      ));
    } :
    function( a, b ) {
      if ( b ) {
        while ( (b = b.parentNode) ) {
          if ( b === a ) {
            return true;
          }
        }
      }
      return false;
    };

  /* Sorting
  ---------------------------------------------------------------------- */

  // Document order sorting
  sortOrder = hasCompare ?
  function( a, b ) {

    // Flag for duplicate removal
    if ( a === b ) {
      hasDuplicate = true;
      return 0;
    }

    // Sort on method existence if only one input has compareDocumentPosition
    var compare = !a.compareDocumentPosition - !b.compareDocumentPosition;
    if ( compare ) {
      return compare;
    }

    // Calculate position if both inputs belong to the same document
    compare = ( a.ownerDocument || a ) === ( b.ownerDocument || b ) ?
      a.compareDocumentPosition( b ) :

      // Otherwise we know they are disconnected
      1;

    // Disconnected nodes
    if ( compare & 1 ||
      (!support.sortDetached && b.compareDocumentPosition( a ) === compare) ) {

      // Choose the first element that is related to our preferred document
      if ( a === doc || a.ownerDocument === preferredDoc && contains(preferredDoc, a) ) {
        return -1;
      }
      if ( b === doc || b.ownerDocument === preferredDoc && contains(preferredDoc, b) ) {
        return 1;
      }

      // Maintain original order
      return sortInput ?
        ( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :
        0;
    }

    return compare & 4 ? -1 : 1;
  } :
  function( a, b ) {
    // Exit early if the nodes are identical
    if ( a === b ) {
      hasDuplicate = true;
      return 0;
    }

    var cur,
      i = 0,
      aup = a.parentNode,
      bup = b.parentNode,
      ap = [ a ],
      bp = [ b ];

    // Parentless nodes are either documents or disconnected
    if ( !aup || !bup ) {
      return a === doc ? -1 :
        b === doc ? 1 :
        aup ? -1 :
        bup ? 1 :
        sortInput ?
        ( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :
        0;

    // If the nodes are siblings, we can do a quick check
    } else if ( aup === bup ) {
      return siblingCheck( a, b );
    }

    // Otherwise we need full lists of their ancestors for comparison
    cur = a;
    while ( (cur = cur.parentNode) ) {
      ap.unshift( cur );
    }
    cur = b;
    while ( (cur = cur.parentNode) ) {
      bp.unshift( cur );
    }

    // Walk down the tree looking for a discrepancy
    while ( ap[i] === bp[i] ) {
      i++;
    }

    return i ?
      // Do a sibling check if the nodes have a common ancestor
      siblingCheck( ap[i], bp[i] ) :

      // Otherwise nodes in our document sort first
      ap[i] === preferredDoc ? -1 :
      bp[i] === preferredDoc ? 1 :
      0;
  };

  return doc;
};

Sizzle.matches = function( expr, elements ) {
  return Sizzle( expr, null, null, elements );
};

Sizzle.matchesSelector = function( elem, expr ) {
  // Set document vars if needed
  if ( ( elem.ownerDocument || elem ) !== document ) {
    setDocument( elem );
  }

  // Make sure that attribute selectors are quoted
  expr = expr.replace( rattributeQuotes, "='$1']" );

  if ( support.matchesSelector && documentIsHTML &&
    ( !rbuggyMatches || !rbuggyMatches.test( expr ) ) &&
    ( !rbuggyQSA     || !rbuggyQSA.test( expr ) ) ) {

    try {
      var ret = matches.call( elem, expr );

      // IE 9's matchesSelector returns false on disconnected nodes
      if ( ret || support.disconnectedMatch ||
          // As well, disconnected nodes are said to be in a document
          // fragment in IE 9
          elem.document && elem.document.nodeType !== 11 ) {
        return ret;
      }
    } catch (e) {}
  }

  return Sizzle( expr, document, null, [ elem ] ).length > 0;
};

Sizzle.contains = function( context, elem ) {
  // Set document vars if needed
  if ( ( context.ownerDocument || context ) !== document ) {
    setDocument( context );
  }
  return contains( context, elem );
};

Sizzle.attr = function( elem, name ) {
  // Set document vars if needed
  if ( ( elem.ownerDocument || elem ) !== document ) {
    setDocument( elem );
  }

  var fn = Expr.attrHandle[ name.toLowerCase() ],
    // Don't get fooled by Object.prototype properties (jQuery #13807)
    val = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?
      fn( elem, name, !documentIsHTML ) :
      undefined;

  return val !== undefined ?
    val :
    support.attributes || !documentIsHTML ?
      elem.getAttribute( name ) :
      (val = elem.getAttributeNode(name)) && val.specified ?
        val.value :
        null;
};

Sizzle.error = function( msg ) {
  throw new Error( "Syntax error, unrecognized expression: " + msg );
};

/**
 * Document sorting and removing duplicates
 * @param {ArrayLike} results
 */
Sizzle.uniqueSort = function( results ) {
  var elem,
    duplicates = [],
    j = 0,
    i = 0;

  // Unless we *know* we can detect duplicates, assume their presence
  hasDuplicate = !support.detectDuplicates;
  sortInput = !support.sortStable && results.slice( 0 );
  results.sort( sortOrder );

  if ( hasDuplicate ) {
    while ( (elem = results[i++]) ) {
      if ( elem === results[ i ] ) {
        j = duplicates.push( i );
      }
    }
    while ( j-- ) {
      results.splice( duplicates[ j ], 1 );
    }
  }

  // Clear input after sorting to release objects
  // See https://github.com/jquery/sizzle/pull/225
  sortInput = null;

  return results;
};

/**
 * Utility function for retrieving the text value of an array of DOM nodes
 * @param {Array|Element} elem
 */
getText = Sizzle.getText = function( elem ) {
  var node,
    ret = "",
    i = 0,
    nodeType = elem.nodeType;

  if ( !nodeType ) {
    // If no nodeType, this is expected to be an array
    while ( (node = elem[i++]) ) {
      // Do not traverse comment nodes
      ret += getText( node );
    }
  } else if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {
    // Use textContent for elements
    // innerText usage removed for consistency of new lines (jQuery #11153)
    if ( typeof elem.textContent === "string" ) {
      return elem.textContent;
    } else {
      // Traverse its children
      for ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {
        ret += getText( elem );
      }
    }
  } else if ( nodeType === 3 || nodeType === 4 ) {
    return elem.nodeValue;
  }
  // Do not include comment or processing instruction nodes

  return ret;
};

Expr = Sizzle.selectors = {

  // Can be adjusted by the user
  cacheLength: 50,

  createPseudo: markFunction,

  match: matchExpr,

  attrHandle: {},

  find: {},

  relative: {
    ">": { dir: "parentNode", first: true },
    " ": { dir: "parentNode" },
    "+": { dir: "previousSibling", first: true },
    "~": { dir: "previousSibling" }
  },

  preFilter: {
    "ATTR": function( match ) {
      match[1] = match[1].replace( runescape, funescape );

      // Move the given value to match[3] whether quoted or unquoted
      match[3] = ( match[3] || match[4] || match[5] || "" ).replace( runescape, funescape );

      if ( match[2] === "~=" ) {
        match[3] = " " + match[3] + " ";
      }

      return match.slice( 0, 4 );
    },

    "CHILD": function( match ) {
      /* matches from matchExpr["CHILD"]
        1 type (only|nth|...)
        2 what (child|of-type)
        3 argument (even|odd|\d*|\d*n([+-]\d+)?|...)
        4 xn-component of xn+y argument ([+-]?\d*n|)
        5 sign of xn-component
        6 x of xn-component
        7 sign of y-component
        8 y of y-component
      */
      match[1] = match[1].toLowerCase();

      if ( match[1].slice( 0, 3 ) === "nth" ) {
        // nth-* requires argument
        if ( !match[3] ) {
          Sizzle.error( match[0] );
        }

        // numeric x and y parameters for Expr.filter.CHILD
        // remember that false/true cast respectively to 0/1
        match[4] = +( match[4] ? match[5] + (match[6] || 1) : 2 * ( match[3] === "even" || match[3] === "odd" ) );
        match[5] = +( ( match[7] + match[8] ) || match[3] === "odd" );

      // other types prohibit arguments
      } else if ( match[3] ) {
        Sizzle.error( match[0] );
      }

      return match;
    },

    "PSEUDO": function( match ) {
      var excess,
        unquoted = !match[6] && match[2];

      if ( matchExpr["CHILD"].test( match[0] ) ) {
        return null;
      }

      // Accept quoted arguments as-is
      if ( match[3] ) {
        match[2] = match[4] || match[5] || "";

      // Strip excess characters from unquoted arguments
      } else if ( unquoted && rpseudo.test( unquoted ) &&
        // Get excess from tokenize (recursively)
        (excess = tokenize( unquoted, true )) &&
        // advance to the next closing parenthesis
        (excess = unquoted.indexOf( ")", unquoted.length - excess ) - unquoted.length) ) {

        // excess is a negative index
        match[0] = match[0].slice( 0, excess );
        match[2] = unquoted.slice( 0, excess );
      }

      // Return only captures needed by the pseudo filter method (type and argument)
      return match.slice( 0, 3 );
    }
  },

  filter: {

    "TAG": function( nodeNameSelector ) {
      var nodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();
      return nodeNameSelector === "*" ?
        function() { return true; } :
        function( elem ) {
          return elem.nodeName && elem.nodeName.toLowerCase() === nodeName;
        };
    },

    "CLASS": function( className ) {
      var pattern = classCache[ className + " " ];

      return pattern ||
        (pattern = new RegExp( "(^|" + whitespace + ")" + className + "(" + whitespace + "|$)" )) &&
        classCache( className, function( elem ) {
          return pattern.test( typeof elem.className === "string" && elem.className || typeof elem.getAttribute !== "undefined" && elem.getAttribute("class") || "" );
        });
    },

    "ATTR": function( name, operator, check ) {
      return function( elem ) {
        var result = Sizzle.attr( elem, name );

        if ( result == null ) {
          return operator === "!=";
        }
        if ( !operator ) {
          return true;
        }

        result += "";

        return operator === "=" ? result === check :
          operator === "!=" ? result !== check :
          operator === "^=" ? check && result.indexOf( check ) === 0 :
          operator === "*=" ? check && result.indexOf( check ) > -1 :
          operator === "$=" ? check && result.slice( -check.length ) === check :
          operator === "~=" ? ( " " + result.replace( rwhitespace, " " ) + " " ).indexOf( check ) > -1 :
          operator === "|=" ? result === check || result.slice( 0, check.length + 1 ) === check + "-" :
          false;
      };
    },

    "CHILD": function( type, what, argument, first, last ) {
      var simple = type.slice( 0, 3 ) !== "nth",
        forward = type.slice( -4 ) !== "last",
        ofType = what === "of-type";

      return first === 1 && last === 0 ?

        // Shortcut for :nth-*(n)
        function( elem ) {
          return !!elem.parentNode;
        } :

        function( elem, context, xml ) {
          var cache, outerCache, node, diff, nodeIndex, start,
            dir = simple !== forward ? "nextSibling" : "previousSibling",
            parent = elem.parentNode,
            name = ofType && elem.nodeName.toLowerCase(),
            useCache = !xml && !ofType;

          if ( parent ) {

            // :(first|last|only)-(child|of-type)
            if ( simple ) {
              while ( dir ) {
                node = elem;
                while ( (node = node[ dir ]) ) {
                  if ( ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1 ) {
                    return false;
                  }
                }
                // Reverse direction for :only-* (if we haven't yet done so)
                start = dir = type === "only" && !start && "nextSibling";
              }
              return true;
            }

            start = [ forward ? parent.firstChild : parent.lastChild ];

            // non-xml :nth-child(...) stores cache data on `parent`
            if ( forward && useCache ) {
              // Seek `elem` from a previously-cached index
              outerCache = parent[ expando ] || (parent[ expando ] = {});
              cache = outerCache[ type ] || [];
              nodeIndex = cache[0] === dirruns && cache[1];
              diff = cache[0] === dirruns && cache[2];
              node = nodeIndex && parent.childNodes[ nodeIndex ];

              while ( (node = ++nodeIndex && node && node[ dir ] ||

                // Fallback to seeking `elem` from the start
                (diff = nodeIndex = 0) || start.pop()) ) {

                // When found, cache indexes on `parent` and break
                if ( node.nodeType === 1 && ++diff && node === elem ) {
                  outerCache[ type ] = [ dirruns, nodeIndex, diff ];
                  break;
                }
              }

            // Use previously-cached element index if available
            } else if ( useCache && (cache = (elem[ expando ] || (elem[ expando ] = {}))[ type ]) && cache[0] === dirruns ) {
              diff = cache[1];

            // xml :nth-child(...) or :nth-last-child(...) or :nth(-last)?-of-type(...)
            } else {
              // Use the same loop as above to seek `elem` from the start
              while ( (node = ++nodeIndex && node && node[ dir ] ||
                (diff = nodeIndex = 0) || start.pop()) ) {

                if ( ( ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1 ) && ++diff ) {
                  // Cache the index of each encountered element
                  if ( useCache ) {
                    (node[ expando ] || (node[ expando ] = {}))[ type ] = [ dirruns, diff ];
                  }

                  if ( node === elem ) {
                    break;
                  }
                }
              }
            }

            // Incorporate the offset, then check against cycle size
            diff -= last;
            return diff === first || ( diff % first === 0 && diff / first >= 0 );
          }
        };
    },

    "PSEUDO": function( pseudo, argument ) {
      // pseudo-class names are case-insensitive
      // http://www.w3.org/TR/selectors/#pseudo-classes
      // Prioritize by case sensitivity in case custom pseudos are added with uppercase letters
      // Remember that setFilters inherits from pseudos
      var args,
        fn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||
          Sizzle.error( "unsupported pseudo: " + pseudo );

      // The user may use createPseudo to indicate that
      // arguments are needed to create the filter function
      // just as Sizzle does
      if ( fn[ expando ] ) {
        return fn( argument );
      }

      // But maintain support for old signatures
      if ( fn.length > 1 ) {
        args = [ pseudo, pseudo, "", argument ];
        return Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?
          markFunction(function( seed, matches ) {
            var idx,
              matched = fn( seed, argument ),
              i = matched.length;
            while ( i-- ) {
              idx = indexOf( seed, matched[i] );
              seed[ idx ] = !( matches[ idx ] = matched[i] );
            }
          }) :
          function( elem ) {
            return fn( elem, 0, args );
          };
      }

      return fn;
    }
  },

  pseudos: {
    // Potentially complex pseudos
    "not": markFunction(function( selector ) {
      // Trim the selector passed to compile
      // to avoid treating leading and trailing
      // spaces as combinators
      var input = [],
        results = [],
        matcher = compile( selector.replace( rtrim, "$1" ) );

      return matcher[ expando ] ?
        markFunction(function( seed, matches, context, xml ) {
          var elem,
            unmatched = matcher( seed, null, xml, [] ),
            i = seed.length;

          // Match elements unmatched by `matcher`
          while ( i-- ) {
            if ( (elem = unmatched[i]) ) {
              seed[i] = !(matches[i] = elem);
            }
          }
        }) :
        function( elem, context, xml ) {
          input[0] = elem;
          matcher( input, null, xml, results );
          // Don't keep the element (issue #299)
          input[0] = null;
          return !results.pop();
        };
    }),

    "has": markFunction(function( selector ) {
      return function( elem ) {
        return Sizzle( selector, elem ).length > 0;
      };
    }),

    "contains": markFunction(function( text ) {
      text = text.replace( runescape, funescape );
      return function( elem ) {
        return ( elem.textContent || elem.innerText || getText( elem ) ).indexOf( text ) > -1;
      };
    }),

    // "Whether an element is represented by a :lang() selector
    // is based solely on the element's language value
    // being equal to the identifier C,
    // or beginning with the identifier C immediately followed by "-".
    // The matching of C against the element's language value is performed case-insensitively.
    // The identifier C does not have to be a valid language name."
    // http://www.w3.org/TR/selectors/#lang-pseudo
    "lang": markFunction( function( lang ) {
      // lang value must be a valid identifier
      if ( !ridentifier.test(lang || "") ) {
        Sizzle.error( "unsupported lang: " + lang );
      }
      lang = lang.replace( runescape, funescape ).toLowerCase();
      return function( elem ) {
        var elemLang;
        do {
          if ( (elemLang = documentIsHTML ?
            elem.lang :
            elem.getAttribute("xml:lang") || elem.getAttribute("lang")) ) {

            elemLang = elemLang.toLowerCase();
            return elemLang === lang || elemLang.indexOf( lang + "-" ) === 0;
          }
        } while ( (elem = elem.parentNode) && elem.nodeType === 1 );
        return false;
      };
    }),

    // Miscellaneous
    "target": function( elem ) {
      var hash = window.location && window.location.hash;
      return hash && hash.slice( 1 ) === elem.id;
    },

    "root": function( elem ) {
      return elem === docElem;
    },

    "focus": function( elem ) {
      return elem === document.activeElement && (!document.hasFocus || document.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);
    },

    // Boolean properties
    "enabled": function( elem ) {
      return elem.disabled === false;
    },

    "disabled": function( elem ) {
      return elem.disabled === true;
    },

    "checked": function( elem ) {
      // In CSS3, :checked should return both checked and selected elements
      // http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked
      var nodeName = elem.nodeName.toLowerCase();
      return (nodeName === "input" && !!elem.checked) || (nodeName === "option" && !!elem.selected);
    },

    "selected": function( elem ) {
      // Accessing this property makes selected-by-default
      // options in Safari work properly
      if ( elem.parentNode ) {
        elem.parentNode.selectedIndex;
      }

      return elem.selected === true;
    },

    // Contents
    "empty": function( elem ) {
      // http://www.w3.org/TR/selectors/#empty-pseudo
      // :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),
      //   but not by others (comment: 8; processing instruction: 7; etc.)
      // nodeType < 6 works because attributes (2) do not appear as children
      for ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {
        if ( elem.nodeType < 6 ) {
          return false;
        }
      }
      return true;
    },

    "parent": function( elem ) {
      return !Expr.pseudos["empty"]( elem );
    },

    // Element/input types
    "header": function( elem ) {
      return rheader.test( elem.nodeName );
    },

    "input": function( elem ) {
      return rinputs.test( elem.nodeName );
    },

    "button": function( elem ) {
      var name = elem.nodeName.toLowerCase();
      return name === "input" && elem.type === "button" || name === "button";
    },

    "text": function( elem ) {
      var attr;
      return elem.nodeName.toLowerCase() === "input" &&
        elem.type === "text" &&

        // Support: IE<8
        // New HTML5 attribute values (e.g., "search") appear with elem.type === "text"
        ( (attr = elem.getAttribute("type")) == null || attr.toLowerCase() === "text" );
    },

    // Position-in-collection
    "first": createPositionalPseudo(function() {
      return [ 0 ];
    }),

    "last": createPositionalPseudo(function( matchIndexes, length ) {
      return [ length - 1 ];
    }),

    "eq": createPositionalPseudo(function( matchIndexes, length, argument ) {
      return [ argument < 0 ? argument + length : argument ];
    }),

    "even": createPositionalPseudo(function( matchIndexes, length ) {
      var i = 0;
      for ( ; i < length; i += 2 ) {
        matchIndexes.push( i );
      }
      return matchIndexes;
    }),

    "odd": createPositionalPseudo(function( matchIndexes, length ) {
      var i = 1;
      for ( ; i < length; i += 2 ) {
        matchIndexes.push( i );
      }
      return matchIndexes;
    }),

    "lt": createPositionalPseudo(function( matchIndexes, length, argument ) {
      var i = argument < 0 ? argument + length : argument;
      for ( ; --i >= 0; ) {
        matchIndexes.push( i );
      }
      return matchIndexes;
    }),

    "gt": createPositionalPseudo(function( matchIndexes, length, argument ) {
      var i = argument < 0 ? argument + length : argument;
      for ( ; ++i < length; ) {
        matchIndexes.push( i );
      }
      return matchIndexes;
    })
  }
};

Expr.pseudos["nth"] = Expr.pseudos["eq"];

// Add button/input type pseudos
for ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {
  Expr.pseudos[ i ] = createInputPseudo( i );
}
for ( i in { submit: true, reset: true } ) {
  Expr.pseudos[ i ] = createButtonPseudo( i );
}

// Easy API for creating new setFilters
function setFilters() {}
setFilters.prototype = Expr.filters = Expr.pseudos;
Expr.setFilters = new setFilters();

tokenize = Sizzle.tokenize = function( selector, parseOnly ) {
  var matched, match, tokens, type,
    soFar, groups, preFilters,
    cached = tokenCache[ selector + " " ];

  if ( cached ) {
    return parseOnly ? 0 : cached.slice( 0 );
  }

  soFar = selector;
  groups = [];
  preFilters = Expr.preFilter;

  while ( soFar ) {

    // Comma and first run
    if ( !matched || (match = rcomma.exec( soFar )) ) {
      if ( match ) {
        // Don't consume trailing commas as valid
        soFar = soFar.slice( match[0].length ) || soFar;
      }
      groups.push( (tokens = []) );
    }

    matched = false;

    // Combinators
    if ( (match = rcombinators.exec( soFar )) ) {
      matched = match.shift();
      tokens.push({
        value: matched,
        // Cast descendant combinators to space
        type: match[0].replace( rtrim, " " )
      });
      soFar = soFar.slice( matched.length );
    }

    // Filters
    for ( type in Expr.filter ) {
      if ( (match = matchExpr[ type ].exec( soFar )) && (!preFilters[ type ] ||
        (match = preFilters[ type ]( match ))) ) {
        matched = match.shift();
        tokens.push({
          value: matched,
          type: type,
          matches: match
        });
        soFar = soFar.slice( matched.length );
      }
    }

    if ( !matched ) {
      break;
    }
  }

  // Return the length of the invalid excess
  // if we're just parsing
  // Otherwise, throw an error or return tokens
  return parseOnly ?
    soFar.length :
    soFar ?
      Sizzle.error( selector ) :
      // Cache the tokens
      tokenCache( selector, groups ).slice( 0 );
};

function toSelector( tokens ) {
  var i = 0,
    len = tokens.length,
    selector = "";
  for ( ; i < len; i++ ) {
    selector += tokens[i].value;
  }
  return selector;
}

function addCombinator( matcher, combinator, base ) {
  var dir = combinator.dir,
    checkNonElements = base && dir === "parentNode",
    doneName = done++;

  return combinator.first ?
    // Check against closest ancestor/preceding element
    function( elem, context, xml ) {
      while ( (elem = elem[ dir ]) ) {
        if ( elem.nodeType === 1 || checkNonElements ) {
          return matcher( elem, context, xml );
        }
      }
    } :

    // Check against all ancestor/preceding elements
    function( elem, context, xml ) {
      var oldCache, outerCache,
        newCache = [ dirruns, doneName ];

      // We can't set arbitrary data on XML nodes, so they don't benefit from dir caching
      if ( xml ) {
        while ( (elem = elem[ dir ]) ) {
          if ( elem.nodeType === 1 || checkNonElements ) {
            if ( matcher( elem, context, xml ) ) {
              return true;
            }
          }
        }
      } else {
        while ( (elem = elem[ dir ]) ) {
          if ( elem.nodeType === 1 || checkNonElements ) {
            outerCache = elem[ expando ] || (elem[ expando ] = {});
            if ( (oldCache = outerCache[ dir ]) &&
              oldCache[ 0 ] === dirruns && oldCache[ 1 ] === doneName ) {

              // Assign to newCache so results back-propagate to previous elements
              return (newCache[ 2 ] = oldCache[ 2 ]);
            } else {
              // Reuse newcache so results back-propagate to previous elements
              outerCache[ dir ] = newCache;

              // A match means we're done; a fail means we have to keep checking
              if ( (newCache[ 2 ] = matcher( elem, context, xml )) ) {
                return true;
              }
            }
          }
        }
      }
    };
}

function elementMatcher( matchers ) {
  return matchers.length > 1 ?
    function( elem, context, xml ) {
      var i = matchers.length;
      while ( i-- ) {
        if ( !matchers[i]( elem, context, xml ) ) {
          return false;
        }
      }
      return true;
    } :
    matchers[0];
}

function multipleContexts( selector, contexts, results ) {
  var i = 0,
    len = contexts.length;
  for ( ; i < len; i++ ) {
    Sizzle( selector, contexts[i], results );
  }
  return results;
}

function condense( unmatched, map, filter, context, xml ) {
  var elem,
    newUnmatched = [],
    i = 0,
    len = unmatched.length,
    mapped = map != null;

  for ( ; i < len; i++ ) {
    if ( (elem = unmatched[i]) ) {
      if ( !filter || filter( elem, context, xml ) ) {
        newUnmatched.push( elem );
        if ( mapped ) {
          map.push( i );
        }
      }
    }
  }

  return newUnmatched;
}

function setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {
  if ( postFilter && !postFilter[ expando ] ) {
    postFilter = setMatcher( postFilter );
  }
  if ( postFinder && !postFinder[ expando ] ) {
    postFinder = setMatcher( postFinder, postSelector );
  }
  return markFunction(function( seed, results, context, xml ) {
    var temp, i, elem,
      preMap = [],
      postMap = [],
      preexisting = results.length,

      // Get initial elements from seed or context
      elems = seed || multipleContexts( selector || "*", context.nodeType ? [ context ] : context, [] ),

      // Prefilter to get matcher input, preserving a map for seed-results synchronization
      matcherIn = preFilter && ( seed || !selector ) ?
        condense( elems, preMap, preFilter, context, xml ) :
        elems,

      matcherOut = matcher ?
        // If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,
        postFinder || ( seed ? preFilter : preexisting || postFilter ) ?

          // ...intermediate processing is necessary
          [] :

          // ...otherwise use results directly
          results :
        matcherIn;

    // Find primary matches
    if ( matcher ) {
      matcher( matcherIn, matcherOut, context, xml );
    }

    // Apply postFilter
    if ( postFilter ) {
      temp = condense( matcherOut, postMap );
      postFilter( temp, [], context, xml );

      // Un-match failing elements by moving them back to matcherIn
      i = temp.length;
      while ( i-- ) {
        if ( (elem = temp[i]) ) {
          matcherOut[ postMap[i] ] = !(matcherIn[ postMap[i] ] = elem);
        }
      }
    }

    if ( seed ) {
      if ( postFinder || preFilter ) {
        if ( postFinder ) {
          // Get the final matcherOut by condensing this intermediate into postFinder contexts
          temp = [];
          i = matcherOut.length;
          while ( i-- ) {
            if ( (elem = matcherOut[i]) ) {
              // Restore matcherIn since elem is not yet a final match
              temp.push( (matcherIn[i] = elem) );
            }
          }
          postFinder( null, (matcherOut = []), temp, xml );
        }

        // Move matched elements from seed to results to keep them synchronized
        i = matcherOut.length;
        while ( i-- ) {
          if ( (elem = matcherOut[i]) &&
            (temp = postFinder ? indexOf( seed, elem ) : preMap[i]) > -1 ) {

            seed[temp] = !(results[temp] = elem);
          }
        }
      }

    // Add elements to results, through postFinder if defined
    } else {
      matcherOut = condense(
        matcherOut === results ?
          matcherOut.splice( preexisting, matcherOut.length ) :
          matcherOut
      );
      if ( postFinder ) {
        postFinder( null, results, matcherOut, xml );
      } else {
        push.apply( results, matcherOut );
      }
    }
  });
}

function matcherFromTokens( tokens ) {
  var checkContext, matcher, j,
    len = tokens.length,
    leadingRelative = Expr.relative[ tokens[0].type ],
    implicitRelative = leadingRelative || Expr.relative[" "],
    i = leadingRelative ? 1 : 0,

    // The foundational matcher ensures that elements are reachable from top-level context(s)
    matchContext = addCombinator( function( elem ) {
      return elem === checkContext;
    }, implicitRelative, true ),
    matchAnyContext = addCombinator( function( elem ) {
      return indexOf( checkContext, elem ) > -1;
    }, implicitRelative, true ),
    matchers = [ function( elem, context, xml ) {
      var ret = ( !leadingRelative && ( xml || context !== outermostContext ) ) || (
        (checkContext = context).nodeType ?
          matchContext( elem, context, xml ) :
          matchAnyContext( elem, context, xml ) );
      // Avoid hanging onto element (issue #299)
      checkContext = null;
      return ret;
    } ];

  for ( ; i < len; i++ ) {
    if ( (matcher = Expr.relative[ tokens[i].type ]) ) {
      matchers = [ addCombinator(elementMatcher( matchers ), matcher) ];
    } else {
      matcher = Expr.filter[ tokens[i].type ].apply( null, tokens[i].matches );

      // Return special upon seeing a positional matcher
      if ( matcher[ expando ] ) {
        // Find the next relative operator (if any) for proper handling
        j = ++i;
        for ( ; j < len; j++ ) {
          if ( Expr.relative[ tokens[j].type ] ) {
            break;
          }
        }
        return setMatcher(
          i > 1 && elementMatcher( matchers ),
          i > 1 && toSelector(
            // If the preceding token was a descendant combinator, insert an implicit any-element `*`
            tokens.slice( 0, i - 1 ).concat({ value: tokens[ i - 2 ].type === " " ? "*" : "" })
          ).replace( rtrim, "$1" ),
          matcher,
          i < j && matcherFromTokens( tokens.slice( i, j ) ),
          j < len && matcherFromTokens( (tokens = tokens.slice( j )) ),
          j < len && toSelector( tokens )
        );
      }
      matchers.push( matcher );
    }
  }

  return elementMatcher( matchers );
}

function matcherFromGroupMatchers( elementMatchers, setMatchers ) {
  var bySet = setMatchers.length > 0,
    byElement = elementMatchers.length > 0,
    superMatcher = function( seed, context, xml, results, outermost ) {
      var elem, j, matcher,
        matchedCount = 0,
        i = "0",
        unmatched = seed && [],
        setMatched = [],
        contextBackup = outermostContext,
        // We must always have either seed elements or outermost context
        elems = seed || byElement && Expr.find["TAG"]( "*", outermost ),
        // Use integer dirruns iff this is the outermost matcher
        dirrunsUnique = (dirruns += contextBackup == null ? 1 : Math.random() || 0.1),
        len = elems.length;

      if ( outermost ) {
        outermostContext = context !== document && context;
      }

      // Add elements passing elementMatchers directly to results
      // Keep `i` a string if there are no elements so `matchedCount` will be "00" below
      // Support: IE<9, Safari
      // Tolerate NodeList properties (IE: "length"; Safari: <number>) matching elements by id
      for ( ; i !== len && (elem = elems[i]) != null; i++ ) {
        if ( byElement && elem ) {
          j = 0;
          while ( (matcher = elementMatchers[j++]) ) {
            if ( matcher( elem, context, xml ) ) {
              results.push( elem );
              break;
            }
          }
          if ( outermost ) {
            dirruns = dirrunsUnique;
          }
        }

        // Track unmatched elements for set filters
        if ( bySet ) {
          // They will have gone through all possible matchers
          if ( (elem = !matcher && elem) ) {
            matchedCount--;
          }

          // Lengthen the array for every element, matched or not
          if ( seed ) {
            unmatched.push( elem );
          }
        }
      }

      // Apply set filters to unmatched elements
      matchedCount += i;
      if ( bySet && i !== matchedCount ) {
        j = 0;
        while ( (matcher = setMatchers[j++]) ) {
          matcher( unmatched, setMatched, context, xml );
        }

        if ( seed ) {
          // Reintegrate element matches to eliminate the need for sorting
          if ( matchedCount > 0 ) {
            while ( i-- ) {
              if ( !(unmatched[i] || setMatched[i]) ) {
                setMatched[i] = pop.call( results );
              }
            }
          }

          // Discard index placeholder values to get only actual matches
          setMatched = condense( setMatched );
        }

        // Add matches to results
        push.apply( results, setMatched );

        // Seedless set matches succeeding multiple successful matchers stipulate sorting
        if ( outermost && !seed && setMatched.length > 0 &&
          ( matchedCount + setMatchers.length ) > 1 ) {

          Sizzle.uniqueSort( results );
        }
      }

      // Override manipulation of globals by nested matchers
      if ( outermost ) {
        dirruns = dirrunsUnique;
        outermostContext = contextBackup;
      }

      return unmatched;
    };

  return bySet ?
    markFunction( superMatcher ) :
    superMatcher;
}

compile = Sizzle.compile = function( selector, match /* Internal Use Only */ ) {
  var i,
    setMatchers = [],
    elementMatchers = [],
    cached = compilerCache[ selector + " " ];

  if ( !cached ) {
    // Generate a function of recursive functions that can be used to check each element
    if ( !match ) {
      match = tokenize( selector );
    }
    i = match.length;
    while ( i-- ) {
      cached = matcherFromTokens( match[i] );
      if ( cached[ expando ] ) {
        setMatchers.push( cached );
      } else {
        elementMatchers.push( cached );
      }
    }

    // Cache the compiled function
    cached = compilerCache( selector, matcherFromGroupMatchers( elementMatchers, setMatchers ) );

    // Save selector and tokenization
    cached.selector = selector;
  }
  return cached;
};

/**
 * A low-level selection function that works with Sizzle's compiled
 *  selector functions
 * @param {String|Function} selector A selector or a pre-compiled
 *  selector function built with Sizzle.compile
 * @param {Element} context
 * @param {Array} [results]
 * @param {Array} [seed] A set of elements to match against
 */
select = Sizzle.select = function( selector, context, results, seed ) {
  var i, tokens, token, type, find,
    compiled = typeof selector === "function" && selector,
    match = !seed && tokenize( (selector = compiled.selector || selector) );

  results = results || [];

  // Try to minimize operations if there is no seed and only one group
  if ( match.length === 1 ) {

    // Take a shortcut and set the context if the root selector is an ID
    tokens = match[0] = match[0].slice( 0 );
    if ( tokens.length > 2 && (token = tokens[0]).type === "ID" &&
        support.getById && context.nodeType === 9 && documentIsHTML &&
        Expr.relative[ tokens[1].type ] ) {

      context = ( Expr.find["ID"]( token.matches[0].replace(runescape, funescape), context ) || [] )[0];
      if ( !context ) {
        return results;

      // Precompiled matchers will still verify ancestry, so step up a level
      } else if ( compiled ) {
        context = context.parentNode;
      }

      selector = selector.slice( tokens.shift().value.length );
    }

    // Fetch a seed set for right-to-left matching
    i = matchExpr["needsContext"].test( selector ) ? 0 : tokens.length;
    while ( i-- ) {
      token = tokens[i];

      // Abort if we hit a combinator
      if ( Expr.relative[ (type = token.type) ] ) {
        break;
      }
      if ( (find = Expr.find[ type ]) ) {
        // Search, expanding context for leading sibling combinators
        if ( (seed = find(
          token.matches[0].replace( runescape, funescape ),
          rsibling.test( tokens[0].type ) && testContext( context.parentNode ) || context
        )) ) {

          // If seed is empty or no tokens remain, we can return early
          tokens.splice( i, 1 );
          selector = seed.length && toSelector( tokens );
          if ( !selector ) {
            push.apply( results, seed );
            return results;
          }

          break;
        }
      }
    }
  }

  // Compile and execute a filtering function if one is not provided
  // Provide `match` to avoid retokenization if we modified the selector above
  ( compiled || compile( selector, match ) )(
    seed,
    context,
    !documentIsHTML,
    results,
    rsibling.test( selector ) && testContext( context.parentNode ) || context
  );
  return results;
};

// One-time assignments

// Sort stability
support.sortStable = expando.split("").sort( sortOrder ).join("") === expando;

// Support: Chrome 14-35+
// Always assume duplicates if they aren't passed to the comparison function
support.detectDuplicates = !!hasDuplicate;

// Initialize against the default document
setDocument();

// Support: Webkit<537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)
// Detached nodes confoundingly follow *each other*
support.sortDetached = assert(function( div1 ) {
  // Should return 1, but returns 4 (following)
  return div1.compareDocumentPosition( document.createElement("div") ) & 1;
});

// Support: IE<8
// Prevent attribute/property "interpolation"
// http://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx
if ( !assert(function( div ) {
  div.innerHTML = "<a href='#'></a>";
  return div.firstChild.getAttribute("href") === "#" ;
}) ) {
  addHandle( "type|href|height|width", function( elem, name, isXML ) {
    if ( !isXML ) {
      return elem.getAttribute( name, name.toLowerCase() === "type" ? 1 : 2 );
    }
  });
}

// Support: IE<9
// Use defaultValue in place of getAttribute("value")
if ( !support.attributes || !assert(function( div ) {
  div.innerHTML = "<input/>";
  div.firstChild.setAttribute( "value", "" );
  return div.firstChild.getAttribute( "value" ) === "";
}) ) {
  addHandle( "value", function( elem, name, isXML ) {
    if ( !isXML && elem.nodeName.toLowerCase() === "input" ) {
      return elem.defaultValue;
    }
  });
}

// Support: IE<9
// Use getAttributeNode to fetch booleans when getAttribute lies
if ( !assert(function( div ) {
  return div.getAttribute("disabled") == null;
}) ) {
  addHandle( booleans, function( elem, name, isXML ) {
    var val;
    if ( !isXML ) {
      return elem[ name ] === true ? name.toLowerCase() :
          (val = elem.getAttributeNode( name )) && val.specified ?
          val.value :
        null;
    }
  });
}

return Sizzle;

})( window );



jQuery.find = Sizzle;
jQuery.expr = Sizzle.selectors;
jQuery.expr[":"] = jQuery.expr.pseudos;
jQuery.unique = Sizzle.uniqueSort;
jQuery.text = Sizzle.getText;
jQuery.isXMLDoc = Sizzle.isXML;
jQuery.contains = Sizzle.contains;



var rneedsContext = jQuery.expr.match.needsContext;

var rsingleTag = (/^<(\w+)\s*\/?>(?:<\/\1>|)$/);



var risSimple = /^.[^:#\[\.,]*$/;

// Implement the identical functionality for filter and not
function winnow( elements, qualifier, not ) {
  if ( jQuery.isFunction( qualifier ) ) {
    return jQuery.grep( elements, function( elem, i ) {
      /* jshint -W018 */
      return !!qualifier.call( elem, i, elem ) !== not;
    });

  }

  if ( qualifier.nodeType ) {
    return jQuery.grep( elements, function( elem ) {
      return ( elem === qualifier ) !== not;
    });

  }

  if ( typeof qualifier === "string" ) {
    if ( risSimple.test( qualifier ) ) {
      return jQuery.filter( qualifier, elements, not );
    }

    qualifier = jQuery.filter( qualifier, elements );
  }

  return jQuery.grep( elements, function( elem ) {
    return ( jQuery.inArray( elem, qualifier ) >= 0 ) !== not;
  });
}

jQuery.filter = function( expr, elems, not ) {
  var elem = elems[ 0 ];

  if ( not ) {
    expr = ":not(" + expr + ")";
  }

  return elems.length === 1 && elem.nodeType === 1 ?
    jQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [] :
    jQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {
      return elem.nodeType === 1;
    }));
};

jQuery.fn.extend({
  find: function( selector ) {
    var i,
      ret = [],
      self = this,
      len = self.length;

    if ( typeof selector !== "string" ) {
      return this.pushStack( jQuery( selector ).filter(function() {
        for ( i = 0; i < len; i++ ) {
          if ( jQuery.contains( self[ i ], this ) ) {
            return true;
          }
        }
      }) );
    }

    for ( i = 0; i < len; i++ ) {
      jQuery.find( selector, self[ i ], ret );
    }

    // Needed because $( selector, context ) becomes $( context ).find( selector )
    ret = this.pushStack( len > 1 ? jQuery.unique( ret ) : ret );
    ret.selector = this.selector ? this.selector + " " + selector : selector;
    return ret;
  },
  filter: function( selector ) {
    return this.pushStack( winnow(this, selector || [], false) );
  },
  not: function( selector ) {
    return this.pushStack( winnow(this, selector || [], true) );
  },
  is: function( selector ) {
    return !!winnow(
      this,

      // If this is a positional/relative selector, check membership in the returned set
      // so $("p:first").is("p:last") won't return true for a doc with two "p".
      typeof selector === "string" && rneedsContext.test( selector ) ?
        jQuery( selector ) :
        selector || [],
      false
    ).length;
  }
});


// Initialize a jQuery object


// A central reference to the root jQuery(document)
var rootjQuery,

  // Use the correct document accordingly with window argument (sandbox)
  document = window.document,

  // A simple way to check for HTML strings
  // Prioritize #id over <tag> to avoid XSS via location.hash (#9521)
  // Strict HTML recognition (#11290: must start with <)
  rquickExpr = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,

  init = jQuery.fn.init = function( selector, context ) {
    var match, elem;

    // HANDLE: $(""), $(null), $(undefined), $(false)
    if ( !selector ) {
      return this;
    }

    // Handle HTML strings
    if ( typeof selector === "string" ) {
      if ( selector.charAt(0) === "<" && selector.charAt( selector.length - 1 ) === ">" && selector.length >= 3 ) {
        // Assume that strings that start and end with <> are HTML and skip the regex check
        match = [ null, selector, null ];

      } else {
        match = rquickExpr.exec( selector );
      }

      // Match html or make sure no context is specified for #id
      if ( match && (match[1] || !context) ) {

        // HANDLE: $(html) -> $(array)
        if ( match[1] ) {
          context = context instanceof jQuery ? context[0] : context;

          // scripts is true for back-compat
          // Intentionally let the error be thrown if parseHTML is not present
          jQuery.merge( this, jQuery.parseHTML(
            match[1],
            context && context.nodeType ? context.ownerDocument || context : document,
            true
          ) );

          // HANDLE: $(html, props)
          if ( rsingleTag.test( match[1] ) && jQuery.isPlainObject( context ) ) {
            for ( match in context ) {
              // Properties of context are called as methods if possible
              if ( jQuery.isFunction( this[ match ] ) ) {
                this[ match ]( context[ match ] );

              // ...and otherwise set as attributes
              } else {
                this.attr( match, context[ match ] );
              }
            }
          }

          return this;

        // HANDLE: $(#id)
        } else {
          elem = document.getElementById( match[2] );

          // Check parentNode to catch when Blackberry 4.6 returns
          // nodes that are no longer in the document #6963
          if ( elem && elem.parentNode ) {
            // Handle the case where IE and Opera return items
            // by name instead of ID
            if ( elem.id !== match[2] ) {
              return rootjQuery.find( selector );
            }

            // Otherwise, we inject the element directly into the jQuery object
            this.length = 1;
            this[0] = elem;
          }

          this.context = document;
          this.selector = selector;
          return this;
        }

      // HANDLE: $(expr, $(...))
      } else if ( !context || context.jquery ) {
        return ( context || rootjQuery ).find( selector );

      // HANDLE: $(expr, context)
      // (which is just equivalent to: $(context).find(expr)
      } else {
        return this.constructor( context ).find( selector );
      }

    // HANDLE: $(DOMElement)
    } else if ( selector.nodeType ) {
      this.context = this[0] = selector;
      this.length = 1;
      return this;

    // HANDLE: $(function)
    // Shortcut for document ready
    } else if ( jQuery.isFunction( selector ) ) {
      return typeof rootjQuery.ready !== "undefined" ?
        rootjQuery.ready( selector ) :
        // Execute immediately if ready is not present
        selector( jQuery );
    }

    if ( selector.selector !== undefined ) {
      this.selector = selector.selector;
      this.context = selector.context;
    }

    return jQuery.makeArray( selector, this );
  };

// Give the init function the jQuery prototype for later instantiation
init.prototype = jQuery.fn;

// Initialize central reference
rootjQuery = jQuery( document );


var rparentsprev = /^(?:parents|prev(?:Until|All))/,
  // methods guaranteed to produce a unique set when starting from a unique set
  guaranteedUnique = {
    children: true,
    contents: true,
    next: true,
    prev: true
  };

jQuery.extend({
  dir: function( elem, dir, until ) {
    var matched = [],
      cur = elem[ dir ];

    while ( cur && cur.nodeType !== 9 && (until === undefined || cur.nodeType !== 1 || !jQuery( cur ).is( until )) ) {
      if ( cur.nodeType === 1 ) {
        matched.push( cur );
      }
      cur = cur[dir];
    }
    return matched;
  },

  sibling: function( n, elem ) {
    var r = [];

    for ( ; n; n = n.nextSibling ) {
      if ( n.nodeType === 1 && n !== elem ) {
        r.push( n );
      }
    }

    return r;
  }
});

jQuery.fn.extend({
  has: function( target ) {
    var i,
      targets = jQuery( target, this ),
      len = targets.length;

    return this.filter(function() {
      for ( i = 0; i < len; i++ ) {
        if ( jQuery.contains( this, targets[i] ) ) {
          return true;
        }
      }
    });
  },

  closest: function( selectors, context ) {
    var cur,
      i = 0,
      l = this.length,
      matched = [],
      pos = rneedsContext.test( selectors ) || typeof selectors !== "string" ?
        jQuery( selectors, context || this.context ) :
        0;

    for ( ; i < l; i++ ) {
      for ( cur = this[i]; cur && cur !== context; cur = cur.parentNode ) {
        // Always skip document fragments
        if ( cur.nodeType < 11 && (pos ?
          pos.index(cur) > -1 :

          // Don't pass non-elements to Sizzle
          cur.nodeType === 1 &&
            jQuery.find.matchesSelector(cur, selectors)) ) {

          matched.push( cur );
          break;
        }
      }
    }

    return this.pushStack( matched.length > 1 ? jQuery.unique( matched ) : matched );
  },

  // Determine the position of an element within
  // the matched set of elements
  index: function( elem ) {

    // No argument, return index in parent
    if ( !elem ) {
      return ( this[0] && this[0].parentNode ) ? this.first().prevAll().length : -1;
    }

    // index in selector
    if ( typeof elem === "string" ) {
      return jQuery.inArray( this[0], jQuery( elem ) );
    }

    // Locate the position of the desired element
    return jQuery.inArray(
      // If it receives a jQuery object, the first element is used
      elem.jquery ? elem[0] : elem, this );
  },

  add: function( selector, context ) {
    return this.pushStack(
      jQuery.unique(
        jQuery.merge( this.get(), jQuery( selector, context ) )
      )
    );
  },

  addBack: function( selector ) {
    return this.add( selector == null ?
      this.prevObject : this.prevObject.filter(selector)
    );
  }
});

function sibling( cur, dir ) {
  do {
    cur = cur[ dir ];
  } while ( cur && cur.nodeType !== 1 );

  return cur;
}

jQuery.each({
  parent: function( elem ) {
    var parent = elem.parentNode;
    return parent && parent.nodeType !== 11 ? parent : null;
  },
  parents: function( elem ) {
    return jQuery.dir( elem, "parentNode" );
  },
  parentsUntil: function( elem, i, until ) {
    return jQuery.dir( elem, "parentNode", until );
  },
  next: function( elem ) {
    return sibling( elem, "nextSibling" );
  },
  prev: function( elem ) {
    return sibling( elem, "previousSibling" );
  },
  nextAll: function( elem ) {
    return jQuery.dir( elem, "nextSibling" );
  },
  prevAll: function( elem ) {
    return jQuery.dir( elem, "previousSibling" );
  },
  nextUntil: function( elem, i, until ) {
    return jQuery.dir( elem, "nextSibling", until );
  },
  prevUntil: function( elem, i, until ) {
    return jQuery.dir( elem, "previousSibling", until );
  },
  siblings: function( elem ) {
    return jQuery.sibling( ( elem.parentNode || {} ).firstChild, elem );
  },
  children: function( elem ) {
    return jQuery.sibling( elem.firstChild );
  },
  contents: function( elem ) {
    return jQuery.nodeName( elem, "iframe" ) ?
      elem.contentDocument || elem.contentWindow.document :
      jQuery.merge( [], elem.childNodes );
  }
}, function( name, fn ) {
  jQuery.fn[ name ] = function( until, selector ) {
    var ret = jQuery.map( this, fn, until );

    if ( name.slice( -5 ) !== "Until" ) {
      selector = until;
    }

    if ( selector && typeof selector === "string" ) {
      ret = jQuery.filter( selector, ret );
    }

    if ( this.length > 1 ) {
      // Remove duplicates
      if ( !guaranteedUnique[ name ] ) {
        ret = jQuery.unique( ret );
      }

      // Reverse order for parents* and prev-derivatives
      if ( rparentsprev.test( name ) ) {
        ret = ret.reverse();
      }
    }

    return this.pushStack( ret );
  };
});
var rnotwhite = (/\S+/g);



// String to Object options format cache
var optionsCache = {};

// Convert String-formatted options into Object-formatted ones and store in cache
function createOptions( options ) {
  var object = optionsCache[ options ] = {};
  jQuery.each( options.match( rnotwhite ) || [], function( _, flag ) {
    object[ flag ] = true;
  });
  return object;
}

/*
 * Create a callback list using the following parameters:
 *
 *  options: an optional list of space-separated options that will change how
 *      the callback list behaves or a more traditional option object
 *
 * By default a callback list will act like an event callback list and can be
 * "fired" multiple times.
 *
 * Possible options:
 *
 *  once:     will ensure the callback list can only be fired once (like a Deferred)
 *
 *  memory:     will keep track of previous values and will call any callback added
 *          after the list has been fired right away with the latest "memorized"
 *          values (like a Deferred)
 *
 *  unique:     will ensure a callback can only be added once (no duplicate in the list)
 *
 *  stopOnFalse:  interrupt callings when a callback returns false
 *
 */
jQuery.Callbacks = function( options ) {

  // Convert options from String-formatted to Object-formatted if needed
  // (we check in cache first)
  options = typeof options === "string" ?
    ( optionsCache[ options ] || createOptions( options ) ) :
    jQuery.extend( {}, options );

  var // Flag to know if list is currently firing
    firing,
    // Last fire value (for non-forgettable lists)
    memory,
    // Flag to know if list was already fired
    fired,
    // End of the loop when firing
    firingLength,
    // Index of currently firing callback (modified by remove if needed)
    firingIndex,
    // First callback to fire (used internally by add and fireWith)
    firingStart,
    // Actual callback list
    list = [],
    // Stack of fire calls for repeatable lists
    stack = !options.once && [],
    // Fire callbacks
    fire = function( data ) {
      memory = options.memory && data;
      fired = true;
      firingIndex = firingStart || 0;
      firingStart = 0;
      firingLength = list.length;
      firing = true;
      for ( ; list && firingIndex < firingLength; firingIndex++ ) {
        if ( list[ firingIndex ].apply( data[ 0 ], data[ 1 ] ) === false && options.stopOnFalse ) {
          memory = false; // To prevent further calls using add
          break;
        }
      }
      firing = false;
      if ( list ) {
        if ( stack ) {
          if ( stack.length ) {
            fire( stack.shift() );
          }
        } else if ( memory ) {
          list = [];
        } else {
          self.disable();
        }
      }
    },
    // Actual Callbacks object
    self = {
      // Add a callback or a collection of callbacks to the list
      add: function() {
        if ( list ) {
          // First, we save the current length
          var start = list.length;
          (function add( args ) {
            jQuery.each( args, function( _, arg ) {
              var type = jQuery.type( arg );
              if ( type === "function" ) {
                if ( !options.unique || !self.has( arg ) ) {
                  list.push( arg );
                }
              } else if ( arg && arg.length && type !== "string" ) {
                // Inspect recursively
                add( arg );
              }
            });
          })( arguments );
          // Do we need to add the callbacks to the
          // current firing batch?
          if ( firing ) {
            firingLength = list.length;
          // With memory, if we're not firing then
          // we should call right away
          } else if ( memory ) {
            firingStart = start;
            fire( memory );
          }
        }
        return this;
      },
      // Remove a callback from the list
      remove: function() {
        if ( list ) {
          jQuery.each( arguments, function( _, arg ) {
            var index;
            while ( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {
              list.splice( index, 1 );
              // Handle firing indexes
              if ( firing ) {
                if ( index <= firingLength ) {
                  firingLength--;
                }
                if ( index <= firingIndex ) {
                  firingIndex--;
                }
              }
            }
          });
        }
        return this;
      },
      // Check if a given callback is in the list.
      // If no argument is given, return whether or not list has callbacks attached.
      has: function( fn ) {
        return fn ? jQuery.inArray( fn, list ) > -1 : !!( list && list.length );
      },
      // Remove all callbacks from the list
      empty: function() {
        list = [];
        firingLength = 0;
        return this;
      },
      // Have the list do nothing anymore
      disable: function() {
        list = stack = memory = undefined;
        return this;
      },
      // Is it disabled?
      disabled: function() {
        return !list;
      },
      // Lock the list in its current state
      lock: function() {
        stack = undefined;
        if ( !memory ) {
          self.disable();
        }
        return this;
      },
      // Is it locked?
      locked: function() {
        return !stack;
      },
      // Call all callbacks with the given context and arguments
      fireWith: function( context, args ) {
        if ( list && ( !fired || stack ) ) {
          args = args || [];
          args = [ context, args.slice ? args.slice() : args ];
          if ( firing ) {
            stack.push( args );
          } else {
            fire( args );
          }
        }
        return this;
      },
      // Call all the callbacks with the given arguments
      fire: function() {
        self.fireWith( this, arguments );
        return this;
      },
      // To know if the callbacks have already been called at least once
      fired: function() {
        return !!fired;
      }
    };

  return self;
};


jQuery.extend({

  Deferred: function( func ) {
    var tuples = [
        // action, add listener, listener list, final state
        [ "resolve", "done", jQuery.Callbacks("once memory"), "resolved" ],
        [ "reject", "fail", jQuery.Callbacks("once memory"), "rejected" ],
        [ "notify", "progress", jQuery.Callbacks("memory") ]
      ],
      state = "pending",
      promise = {
        state: function() {
          return state;
        },
        always: function() {
          deferred.done( arguments ).fail( arguments );
          return this;
        },
        then: function( /* fnDone, fnFail, fnProgress */ ) {
          var fns = arguments;
          return jQuery.Deferred(function( newDefer ) {
            jQuery.each( tuples, function( i, tuple ) {
              var fn = jQuery.isFunction( fns[ i ] ) && fns[ i ];
              // deferred[ done | fail | progress ] for forwarding actions to newDefer
              deferred[ tuple[1] ](function() {
                var returned = fn && fn.apply( this, arguments );
                if ( returned && jQuery.isFunction( returned.promise ) ) {
                  returned.promise()
                    .done( newDefer.resolve )
                    .fail( newDefer.reject )
                    .progress( newDefer.notify );
                } else {
                  newDefer[ tuple[ 0 ] + "With" ]( this === promise ? newDefer.promise() : this, fn ? [ returned ] : arguments );
                }
              });
            });
            fns = null;
          }).promise();
        },
        // Get a promise for this deferred
        // If obj is provided, the promise aspect is added to the object
        promise: function( obj ) {
          return obj != null ? jQuery.extend( obj, promise ) : promise;
        }
      },
      deferred = {};

    // Keep pipe for back-compat
    promise.pipe = promise.then;

    // Add list-specific methods
    jQuery.each( tuples, function( i, tuple ) {
      var list = tuple[ 2 ],
        stateString = tuple[ 3 ];

      // promise[ done | fail | progress ] = list.add
      promise[ tuple[1] ] = list.add;

      // Handle state
      if ( stateString ) {
        list.add(function() {
          // state = [ resolved | rejected ]
          state = stateString;

        // [ reject_list | resolve_list ].disable; progress_list.lock
        }, tuples[ i ^ 1 ][ 2 ].disable, tuples[ 2 ][ 2 ].lock );
      }

      // deferred[ resolve | reject | notify ]
      deferred[ tuple[0] ] = function() {
        deferred[ tuple[0] + "With" ]( this === deferred ? promise : this, arguments );
        return this;
      };
      deferred[ tuple[0] + "With" ] = list.fireWith;
    });

    // Make the deferred a promise
    promise.promise( deferred );

    // Call given func if any
    if ( func ) {
      func.call( deferred, deferred );
    }

    // All done!
    return deferred;
  },

  // Deferred helper
  when: function( subordinate /* , ..., subordinateN */ ) {
    var i = 0,
      resolveValues = slice.call( arguments ),
      length = resolveValues.length,

      // the count of uncompleted subordinates
      remaining = length !== 1 || ( subordinate && jQuery.isFunction( subordinate.promise ) ) ? length : 0,

      // the master Deferred. If resolveValues consist of only a single Deferred, just use that.
      deferred = remaining === 1 ? subordinate : jQuery.Deferred(),

      // Update function for both resolve and progress values
      updateFunc = function( i, contexts, values ) {
        return function( value ) {
          contexts[ i ] = this;
          values[ i ] = arguments.length > 1 ? slice.call( arguments ) : value;
          if ( values === progressValues ) {
            deferred.notifyWith( contexts, values );

          } else if ( !(--remaining) ) {
            deferred.resolveWith( contexts, values );
          }
        };
      },

      progressValues, progressContexts, resolveContexts;

    // add listeners to Deferred subordinates; treat others as resolved
    if ( length > 1 ) {
      progressValues = new Array( length );
      progressContexts = new Array( length );
      resolveContexts = new Array( length );
      for ( ; i < length; i++ ) {
        if ( resolveValues[ i ] && jQuery.isFunction( resolveValues[ i ].promise ) ) {
          resolveValues[ i ].promise()
            .done( updateFunc( i, resolveContexts, resolveValues ) )
            .fail( deferred.reject )
            .progress( updateFunc( i, progressContexts, progressValues ) );
        } else {
          --remaining;
        }
      }
    }

    // if we're not waiting on anything, resolve the master
    if ( !remaining ) {
      deferred.resolveWith( resolveContexts, resolveValues );
    }

    return deferred.promise();
  }
});


// The deferred used on DOM ready
var readyList;

jQuery.fn.ready = function( fn ) {
  // Add the callback
  jQuery.ready.promise().done( fn );

  return this;
};

jQuery.extend({
  // Is the DOM ready to be used? Set to true once it occurs.
  isReady: false,

  // A counter to track how many items to wait for before
  // the ready event fires. See #6781
  readyWait: 1,

  // Hold (or release) the ready event
  holdReady: function( hold ) {
    if ( hold ) {
      jQuery.readyWait++;
    } else {
      jQuery.ready( true );
    }
  },

  // Handle when the DOM is ready
  ready: function( wait ) {

    // Abort if there are pending holds or we're already ready
    if ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {
      return;
    }

    // Make sure body exists, at least, in case IE gets a little overzealous (ticket #5443).
    if ( !document.body ) {
      return setTimeout( jQuery.ready );
    }

    // Remember that the DOM is ready
    jQuery.isReady = true;

    // If a normal DOM Ready event fired, decrement, and wait if need be
    if ( wait !== true && --jQuery.readyWait > 0 ) {
      return;
    }

    // If there are functions bound, to execute
    readyList.resolveWith( document, [ jQuery ] );

    // Trigger any bound ready events
    if ( jQuery.fn.triggerHandler ) {
      jQuery( document ).triggerHandler( "ready" );
      jQuery( document ).off( "ready" );
    }
  }
});

/**
 * Clean-up method for dom ready events
 */
function detach() {
  if ( document.addEventListener ) {
    document.removeEventListener( "DOMContentLoaded", completed, false );
    window.removeEventListener( "load", completed, false );

  } else {
    document.detachEvent( "onreadystatechange", completed );
    window.detachEvent( "onload", completed );
  }
}

/**
 * The ready event handler and self cleanup method
 */
function completed() {
  // readyState === "complete" is good enough for us to call the dom ready in oldIE
  if ( document.addEventListener || event.type === "load" || document.readyState === "complete" ) {
    detach();
    jQuery.ready();
  }
}

jQuery.ready.promise = function( obj ) {
  if ( !readyList ) {

    readyList = jQuery.Deferred();

    // Catch cases where $(document).ready() is called after the browser event has already occurred.
    // we once tried to use readyState "interactive" here, but it caused issues like the one
    // discovered by ChrisS here: http://bugs.jquery.com/ticket/12282#comment:15
    if ( document.readyState === "complete" ) {
      // Handle it asynchronously to allow scripts the opportunity to delay ready
      setTimeout( jQuery.ready );

    // Standards-based browsers support DOMContentLoaded
    } else if ( document.addEventListener ) {
      // Use the handy event callback
      document.addEventListener( "DOMContentLoaded", completed, false );

      // A fallback to window.onload, that will always work
      window.addEventListener( "load", completed, false );

    // If IE event model is used
    } else {
      // Ensure firing before onload, maybe late but safe also for iframes
      document.attachEvent( "onreadystatechange", completed );

      // A fallback to window.onload, that will always work
      window.attachEvent( "onload", completed );

      // If IE and not a frame
      // continually check to see if the document is ready
      var top = false;

      try {
        top = window.frameElement == null && document.documentElement;
      } catch(e) {}

      if ( top && top.doScroll ) {
        (function doScrollCheck() {
          if ( !jQuery.isReady ) {

            try {
              // Use the trick by Diego Perini
              // http://javascript.nwbox.com/IEContentLoaded/
              top.doScroll("left");
            } catch(e) {
              return setTimeout( doScrollCheck, 50 );
            }

            // detach all dom ready events
            detach();

            // and execute any waiting functions
            jQuery.ready();
          }
        })();
      }
    }
  }
  return readyList.promise( obj );
};


var strundefined = typeof undefined;



// Support: IE<9
// Iteration over object's inherited properties before its own
var i;
for ( i in jQuery( support ) ) {
  break;
}
support.ownLast = i !== "0";

// Note: most support tests are defined in their respective modules.
// false until the test is run
support.inlineBlockNeedsLayout = false;

// Execute ASAP in case we need to set body.style.zoom
jQuery(function() {
  // Minified: var a,b,c,d
  var val, div, body, container;

  body = document.getElementsByTagName( "body" )[ 0 ];
  if ( !body || !body.style ) {
    // Return for frameset docs that don't have a body
    return;
  }

  // Setup
  div = document.createElement( "div" );
  container = document.createElement( "div" );
  container.style.cssText = "position:absolute;border:0;width:0;height:0;top:0;left:-9999px";
  body.appendChild( container ).appendChild( div );

  if ( typeof div.style.zoom !== strundefined ) {
    // Support: IE<8
    // Check if natively block-level elements act like inline-block
    // elements when setting their display to 'inline' and giving
    // them layout
    div.style.cssText = "display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1";

    support.inlineBlockNeedsLayout = val = div.offsetWidth === 3;
    if ( val ) {
      // Prevent IE 6 from affecting layout for positioned elements #11048
      // Prevent IE from shrinking the body in IE 7 mode #12869
      // Support: IE<8
      body.style.zoom = 1;
    }
  }

  body.removeChild( container );
});




(function() {
  var div = document.createElement( "div" );

  // Execute the test only if not already executed in another module.
  if (support.deleteExpando == null) {
    // Support: IE<9
    support.deleteExpando = true;
    try {
      delete div.test;
    } catch( e ) {
      support.deleteExpando = false;
    }
  }

  // Null elements to avoid leaks in IE.
  div = null;
})();


/**
 * Determines whether an object can have data
 */
jQuery.acceptData = function( elem ) {
  var noData = jQuery.noData[ (elem.nodeName + " ").toLowerCase() ],
    nodeType = +elem.nodeType || 1;

  // Do not set data on non-element DOM nodes because it will not be cleared (#8335).
  return nodeType !== 1 && nodeType !== 9 ?
    false :

    // Nodes accept data unless otherwise specified; rejection can be conditional
    !noData || noData !== true && elem.getAttribute("classid") === noData;
};


var rbrace = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
  rmultiDash = /([A-Z])/g;

function dataAttr( elem, key, data ) {
  // If nothing was found internally, try to fetch any
  // data from the HTML5 data-* attribute
  if ( data === undefined && elem.nodeType === 1 ) {

    var name = "data-" + key.replace( rmultiDash, "-$1" ).toLowerCase();

    data = elem.getAttribute( name );

    if ( typeof data === "string" ) {
      try {
        data = data === "true" ? true :
          data === "false" ? false :
          data === "null" ? null :
          // Only convert to a number if it doesn't change the string
          +data + "" === data ? +data :
          rbrace.test( data ) ? jQuery.parseJSON( data ) :
          data;
      } catch( e ) {}

      // Make sure we set the data so it isn't changed later
      jQuery.data( elem, key, data );

    } else {
      data = undefined;
    }
  }

  return data;
}

// checks a cache object for emptiness
function isEmptyDataObject( obj ) {
  var name;
  for ( name in obj ) {

    // if the public data object is empty, the private is still empty
    if ( name === "data" && jQuery.isEmptyObject( obj[name] ) ) {
      continue;
    }
    if ( name !== "toJSON" ) {
      return false;
    }
  }

  return true;
}

function internalData( elem, name, data, pvt /* Internal Use Only */ ) {
  if ( !jQuery.acceptData( elem ) ) {
    return;
  }

  var ret, thisCache,
    internalKey = jQuery.expando,

    // We have to handle DOM nodes and JS objects differently because IE6-7
    // can't GC object references properly across the DOM-JS boundary
    isNode = elem.nodeType,

    // Only DOM nodes need the global jQuery cache; JS object data is
    // attached directly to the object so GC can occur automatically
    cache = isNode ? jQuery.cache : elem,

    // Only defining an ID for JS objects if its cache already exists allows
    // the code to shortcut on the same path as a DOM node with no cache
    id = isNode ? elem[ internalKey ] : elem[ internalKey ] && internalKey;

  // Avoid doing any more work than we need to when trying to get data on an
  // object that has no data at all
  if ( (!id || !cache[id] || (!pvt && !cache[id].data)) && data === undefined && typeof name === "string" ) {
    return;
  }

  if ( !id ) {
    // Only DOM nodes need a new unique ID for each element since their data
    // ends up in the global cache
    if ( isNode ) {
      id = elem[ internalKey ] = deletedIds.pop() || jQuery.guid++;
    } else {
      id = internalKey;
    }
  }

  if ( !cache[ id ] ) {
    // Avoid exposing jQuery metadata on plain JS objects when the object
    // is serialized using JSON.stringify
    cache[ id ] = isNode ? {} : { toJSON: jQuery.noop };
  }

  // An object can be passed to jQuery.data instead of a key/value pair; this gets
  // shallow copied over onto the existing cache
  if ( typeof name === "object" || typeof name === "function" ) {
    if ( pvt ) {
      cache[ id ] = jQuery.extend( cache[ id ], name );
    } else {
      cache[ id ].data = jQuery.extend( cache[ id ].data, name );
    }
  }

  thisCache = cache[ id ];

  // jQuery data() is stored in a separate object inside the object's internal data
  // cache in order to avoid key collisions between internal data and user-defined
  // data.
  if ( !pvt ) {
    if ( !thisCache.data ) {
      thisCache.data = {};
    }

    thisCache = thisCache.data;
  }

  if ( data !== undefined ) {
    thisCache[ jQuery.camelCase( name ) ] = data;
  }

  // Check for both converted-to-camel and non-converted data property names
  // If a data property was specified
  if ( typeof name === "string" ) {

    // First Try to find as-is property data
    ret = thisCache[ name ];

    // Test for null|undefined property data
    if ( ret == null ) {

      // Try to find the camelCased property
      ret = thisCache[ jQuery.camelCase( name ) ];
    }
  } else {
    ret = thisCache;
  }

  return ret;
}

function internalRemoveData( elem, name, pvt ) {
  if ( !jQuery.acceptData( elem ) ) {
    return;
  }

  var thisCache, i,
    isNode = elem.nodeType,

    // See jQuery.data for more information
    cache = isNode ? jQuery.cache : elem,
    id = isNode ? elem[ jQuery.expando ] : jQuery.expando;

  // If there is already no cache entry for this object, there is no
  // purpose in continuing
  if ( !cache[ id ] ) {
    return;
  }

  if ( name ) {

    thisCache = pvt ? cache[ id ] : cache[ id ].data;

    if ( thisCache ) {

      // Support array or space separated string names for data keys
      if ( !jQuery.isArray( name ) ) {

        // try the string as a key before any manipulation
        if ( name in thisCache ) {
          name = [ name ];
        } else {

          // split the camel cased version by spaces unless a key with the spaces exists
          name = jQuery.camelCase( name );
          if ( name in thisCache ) {
            name = [ name ];
          } else {
            name = name.split(" ");
          }
        }
      } else {
        // If "name" is an array of keys...
        // When data is initially created, via ("key", "val") signature,
        // keys will be converted to camelCase.
        // Since there is no way to tell _how_ a key was added, remove
        // both plain key and camelCase key. #12786
        // This will only penalize the array argument path.
        name = name.concat( jQuery.map( name, jQuery.camelCase ) );
      }

      i = name.length;
      while ( i-- ) {
        delete thisCache[ name[i] ];
      }

      // If there is no data left in the cache, we want to continue
      // and let the cache object itself get destroyed
      if ( pvt ? !isEmptyDataObject(thisCache) : !jQuery.isEmptyObject(thisCache) ) {
        return;
      }
    }
  }

  // See jQuery.data for more information
  if ( !pvt ) {
    delete cache[ id ].data;

    // Don't destroy the parent cache unless the internal data object
    // had been the only thing left in it
    if ( !isEmptyDataObject( cache[ id ] ) ) {
      return;
    }
  }

  // Destroy the cache
  if ( isNode ) {
    jQuery.cleanData( [ elem ], true );

  // Use delete when supported for expandos or `cache` is not a window per isWindow (#10080)
  /* jshint eqeqeq: false */
  } else if ( support.deleteExpando || cache != cache.window ) {
    /* jshint eqeqeq: true */
    delete cache[ id ];

  // When all else fails, null
  } else {
    cache[ id ] = null;
  }
}

jQuery.extend({
  cache: {},

  // The following elements (space-suffixed to avoid Object.prototype collisions)
  // throw uncatchable exceptions if you attempt to set expando properties
  noData: {
    "applet ": true,
    "embed ": true,
    // ...but Flash objects (which have this classid) *can* handle expandos
    "object ": "clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"
  },

  hasData: function( elem ) {
    elem = elem.nodeType ? jQuery.cache[ elem[jQuery.expando] ] : elem[ jQuery.expando ];
    return !!elem && !isEmptyDataObject( elem );
  },

  data: function( elem, name, data ) {
    return internalData( elem, name, data );
  },

  removeData: function( elem, name ) {
    return internalRemoveData( elem, name );
  },

  // For internal use only.
  _data: function( elem, name, data ) {
    return internalData( elem, name, data, true );
  },

  _removeData: function( elem, name ) {
    return internalRemoveData( elem, name, true );
  }
});

jQuery.fn.extend({
  data: function( key, value ) {
    var i, name, data,
      elem = this[0],
      attrs = elem && elem.attributes;

    // Special expections of .data basically thwart jQuery.access,
    // so implement the relevant behavior ourselves

    // Gets all values
    if ( key === undefined ) {
      if ( this.length ) {
        data = jQuery.data( elem );

        if ( elem.nodeType === 1 && !jQuery._data( elem, "parsedAttrs" ) ) {
          i = attrs.length;
          while ( i-- ) {

            // Support: IE11+
            // The attrs elements can be null (#14894)
            if ( attrs[ i ] ) {
              name = attrs[ i ].name;
              if ( name.indexOf( "data-" ) === 0 ) {
                name = jQuery.camelCase( name.slice(5) );
                dataAttr( elem, name, data[ name ] );
              }
            }
          }
          jQuery._data( elem, "parsedAttrs", true );
        }
      }

      return data;
    }

    // Sets multiple values
    if ( typeof key === "object" ) {
      return this.each(function() {
        jQuery.data( this, key );
      });
    }

    return arguments.length > 1 ?

      // Sets one value
      this.each(function() {
        jQuery.data( this, key, value );
      }) :

      // Gets one value
      // Try to fetch any internally stored data first
      elem ? dataAttr( elem, key, jQuery.data( elem, key ) ) : undefined;
  },

  removeData: function( key ) {
    return this.each(function() {
      jQuery.removeData( this, key );
    });
  }
});


jQuery.extend({
  queue: function( elem, type, data ) {
    var queue;

    if ( elem ) {
      type = ( type || "fx" ) + "queue";
      queue = jQuery._data( elem, type );

      // Speed up dequeue by getting out quickly if this is just a lookup
      if ( data ) {
        if ( !queue || jQuery.isArray(data) ) {
          queue = jQuery._data( elem, type, jQuery.makeArray(data) );
        } else {
          queue.push( data );
        }
      }
      return queue || [];
    }
  },

  dequeue: function( elem, type ) {
    type = type || "fx";

    var queue = jQuery.queue( elem, type ),
      startLength = queue.length,
      fn = queue.shift(),
      hooks = jQuery._queueHooks( elem, type ),
      next = function() {
        jQuery.dequeue( elem, type );
      };

    // If the fx queue is dequeued, always remove the progress sentinel
    if ( fn === "inprogress" ) {
      fn = queue.shift();
      startLength--;
    }

    if ( fn ) {

      // Add a progress sentinel to prevent the fx queue from being
      // automatically dequeued
      if ( type === "fx" ) {
        queue.unshift( "inprogress" );
      }

      // clear up the last queue stop function
      delete hooks.stop;
      fn.call( elem, next, hooks );
    }

    if ( !startLength && hooks ) {
      hooks.empty.fire();
    }
  },

  // not intended for public consumption - generates a queueHooks object, or returns the current one
  _queueHooks: function( elem, type ) {
    var key = type + "queueHooks";
    return jQuery._data( elem, key ) || jQuery._data( elem, key, {
      empty: jQuery.Callbacks("once memory").add(function() {
        jQuery._removeData( elem, type + "queue" );
        jQuery._removeData( elem, key );
      })
    });
  }
});

jQuery.fn.extend({
  queue: function( type, data ) {
    var setter = 2;

    if ( typeof type !== "string" ) {
      data = type;
      type = "fx";
      setter--;
    }

    if ( arguments.length < setter ) {
      return jQuery.queue( this[0], type );
    }

    return data === undefined ?
      this :
      this.each(function() {
        var queue = jQuery.queue( this, type, data );

        // ensure a hooks for this queue
        jQuery._queueHooks( this, type );

        if ( type === "fx" && queue[0] !== "inprogress" ) {
          jQuery.dequeue( this, type );
        }
      });
  },
  dequeue: function( type ) {
    return this.each(function() {
      jQuery.dequeue( this, type );
    });
  },
  clearQueue: function( type ) {
    return this.queue( type || "fx", [] );
  },
  // Get a promise resolved when queues of a certain type
  // are emptied (fx is the type by default)
  promise: function( type, obj ) {
    var tmp,
      count = 1,
      defer = jQuery.Deferred(),
      elements = this,
      i = this.length,
      resolve = function() {
        if ( !( --count ) ) {
          defer.resolveWith( elements, [ elements ] );
        }
      };

    if ( typeof type !== "string" ) {
      obj = type;
      type = undefined;
    }
    type = type || "fx";

    while ( i-- ) {
      tmp = jQuery._data( elements[ i ], type + "queueHooks" );
      if ( tmp && tmp.empty ) {
        count++;
        tmp.empty.add( resolve );
      }
    }
    resolve();
    return defer.promise( obj );
  }
});
var pnum = (/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/).source;

var cssExpand = [ "Top", "Right", "Bottom", "Left" ];

var isHidden = function( elem, el ) {
    // isHidden might be called from jQuery#filter function;
    // in that case, element will be second argument
    elem = el || elem;
    return jQuery.css( elem, "display" ) === "none" || !jQuery.contains( elem.ownerDocument, elem );
  };



// Multifunctional method to get and set values of a collection
// The value/s can optionally be executed if it's a function
var access = jQuery.access = function( elems, fn, key, value, chainable, emptyGet, raw ) {
  var i = 0,
    length = elems.length,
    bulk = key == null;

  // Sets many values
  if ( jQuery.type( key ) === "object" ) {
    chainable = true;
    for ( i in key ) {
      jQuery.access( elems, fn, i, key[i], true, emptyGet, raw );
    }

  // Sets one value
  } else if ( value !== undefined ) {
    chainable = true;

    if ( !jQuery.isFunction( value ) ) {
      raw = true;
    }

    if ( bulk ) {
      // Bulk operations run against the entire set
      if ( raw ) {
        fn.call( elems, value );
        fn = null;

      // ...except when executing function values
      } else {
        bulk = fn;
        fn = function( elem, key, value ) {
          return bulk.call( jQuery( elem ), value );
        };
      }
    }

    if ( fn ) {
      for ( ; i < length; i++ ) {
        fn( elems[i], key, raw ? value : value.call( elems[i], i, fn( elems[i], key ) ) );
      }
    }
  }

  return chainable ?
    elems :

    // Gets
    bulk ?
      fn.call( elems ) :
      length ? fn( elems[0], key ) : emptyGet;
};
var rcheckableType = (/^(?:checkbox|radio)$/i);



(function() {
  // Minified: var a,b,c
  var input = document.createElement( "input" ),
    div = document.createElement( "div" ),
    fragment = document.createDocumentFragment();

  // Setup
  div.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";

  // IE strips leading whitespace when .innerHTML is used
  support.leadingWhitespace = div.firstChild.nodeType === 3;

  // Make sure that tbody elements aren't automatically inserted
  // IE will insert them into empty tables
  support.tbody = !div.getElementsByTagName( "tbody" ).length;

  // Make sure that link elements get serialized correctly by innerHTML
  // This requires a wrapper element in IE
  support.htmlSerialize = !!div.getElementsByTagName( "link" ).length;

  // Makes sure cloning an html5 element does not cause problems
  // Where outerHTML is undefined, this still works
  support.html5Clone =
    document.createElement( "nav" ).cloneNode( true ).outerHTML !== "<:nav></:nav>";

  // Check if a disconnected checkbox will retain its checked
  // value of true after appended to the DOM (IE6/7)
  input.type = "checkbox";
  input.checked = true;
  fragment.appendChild( input );
  support.appendChecked = input.checked;

  // Make sure textarea (and checkbox) defaultValue is properly cloned
  // Support: IE6-IE11+
  div.innerHTML = "<textarea>x</textarea>";
  support.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue;

  // #11217 - WebKit loses check when the name is after the checked attribute
  fragment.appendChild( div );
  div.innerHTML = "<input type='radio' checked='checked' name='t'/>";

  // Support: Safari 5.1, iOS 5.1, Android 4.x, Android 2.3
  // old WebKit doesn't clone checked state correctly in fragments
  support.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked;

  // Support: IE<9
  // Opera does not clone events (and typeof div.attachEvent === undefined).
  // IE9-10 clones events bound via attachEvent, but they don't trigger with .click()
  support.noCloneEvent = true;
  if ( div.attachEvent ) {
    div.attachEvent( "onclick", function() {
      support.noCloneEvent = false;
    });

    div.cloneNode( true ).click();
  }

  // Execute the test only if not already executed in another module.
  if (support.deleteExpando == null) {
    // Support: IE<9
    support.deleteExpando = true;
    try {
      delete div.test;
    } catch( e ) {
      support.deleteExpando = false;
    }
  }
})();


(function() {
  var i, eventName,
    div = document.createElement( "div" );

  // Support: IE<9 (lack submit/change bubble), Firefox 23+ (lack focusin event)
  for ( i in { submit: true, change: true, focusin: true }) {
    eventName = "on" + i;

    if ( !(support[ i + "Bubbles" ] = eventName in window) ) {
      // Beware of CSP restrictions (https://developer.mozilla.org/en/Security/CSP)
      div.setAttribute( eventName, "t" );
      support[ i + "Bubbles" ] = div.attributes[ eventName ].expando === false;
    }
  }

  // Null elements to avoid leaks in IE.
  div = null;
})();


var rformElems = /^(?:input|select|textarea)$/i,
  rkeyEvent = /^key/,
  rmouseEvent = /^(?:mouse|pointer|contextmenu)|click/,
  rfocusMorph = /^(?:focusinfocus|focusoutblur)$/,
  rtypenamespace = /^([^.]*)(?:\.(.+)|)$/;

function returnTrue() {
  return true;
}

function returnFalse() {
  return false;
}

function safeActiveElement() {
  try {
    return document.activeElement;
  } catch ( err ) { }
}

/*
 * Helper functions for managing events -- not part of the public interface.
 * Props to Dean Edwards' addEvent library for many of the ideas.
 */
jQuery.event = {

  global: {},

  add: function( elem, types, handler, data, selector ) {
    var tmp, events, t, handleObjIn,
      special, eventHandle, handleObj,
      handlers, type, namespaces, origType,
      elemData = jQuery._data( elem );

    // Don't attach events to noData or text/comment nodes (but allow plain objects)
    if ( !elemData ) {
      return;
    }

    // Caller can pass in an object of custom data in lieu of the handler
    if ( handler.handler ) {
      handleObjIn = handler;
      handler = handleObjIn.handler;
      selector = handleObjIn.selector;
    }

    // Make sure that the handler has a unique ID, used to find/remove it later
    if ( !handler.guid ) {
      handler.guid = jQuery.guid++;
    }

    // Init the element's event structure and main handler, if this is the first
    if ( !(events = elemData.events) ) {
      events = elemData.events = {};
    }
    if ( !(eventHandle = elemData.handle) ) {
      eventHandle = elemData.handle = function( e ) {
        // Discard the second event of a jQuery.event.trigger() and
        // when an event is called after a page has unloaded
        return typeof jQuery !== strundefined && (!e || jQuery.event.triggered !== e.type) ?
          jQuery.event.dispatch.apply( eventHandle.elem, arguments ) :
          undefined;
      };
      // Add elem as a property of the handle fn to prevent a memory leak with IE non-native events
      eventHandle.elem = elem;
    }

    // Handle multiple events separated by a space
    types = ( types || "" ).match( rnotwhite ) || [ "" ];
    t = types.length;
    while ( t-- ) {
      tmp = rtypenamespace.exec( types[t] ) || [];
      type = origType = tmp[1];
      namespaces = ( tmp[2] || "" ).split( "." ).sort();

      // There *must* be a type, no attaching namespace-only handlers
      if ( !type ) {
        continue;
      }

      // If event changes its type, use the special event handlers for the changed type
      special = jQuery.event.special[ type ] || {};

      // If selector defined, determine special event api type, otherwise given type
      type = ( selector ? special.delegateType : special.bindType ) || type;

      // Update special based on newly reset type
      special = jQuery.event.special[ type ] || {};

      // handleObj is passed to all event handlers
      handleObj = jQuery.extend({
        type: type,
        origType: origType,
        data: data,
        handler: handler,
        guid: handler.guid,
        selector: selector,
        needsContext: selector && jQuery.expr.match.needsContext.test( selector ),
        namespace: namespaces.join(".")
      }, handleObjIn );

      // Init the event handler queue if we're the first
      if ( !(handlers = events[ type ]) ) {
        handlers = events[ type ] = [];
        handlers.delegateCount = 0;

        // Only use addEventListener/attachEvent if the special events handler returns false
        if ( !special.setup || special.setup.call( elem, data, namespaces, eventHandle ) === false ) {
          // Bind the global event handler to the element
          if ( elem.addEventListener ) {
            elem.addEventListener( type, eventHandle, false );

          } else if ( elem.attachEvent ) {
            elem.attachEvent( "on" + type, eventHandle );
          }
        }
      }

      if ( special.add ) {
        special.add.call( elem, handleObj );

        if ( !handleObj.handler.guid ) {
          handleObj.handler.guid = handler.guid;
        }
      }

      // Add to the element's handler list, delegates in front
      if ( selector ) {
        handlers.splice( handlers.delegateCount++, 0, handleObj );
      } else {
        handlers.push( handleObj );
      }

      // Keep track of which events have ever been used, for event optimization
      jQuery.event.global[ type ] = true;
    }

    // Nullify elem to prevent memory leaks in IE
    elem = null;
  },

  // Detach an event or set of events from an element
  remove: function( elem, types, handler, selector, mappedTypes ) {
    var j, handleObj, tmp,
      origCount, t, events,
      special, handlers, type,
      namespaces, origType,
      elemData = jQuery.hasData( elem ) && jQuery._data( elem );

    if ( !elemData || !(events = elemData.events) ) {
      return;
    }

    // Once for each type.namespace in types; type may be omitted
    types = ( types || "" ).match( rnotwhite ) || [ "" ];
    t = types.length;
    while ( t-- ) {
      tmp = rtypenamespace.exec( types[t] ) || [];
      type = origType = tmp[1];
      namespaces = ( tmp[2] || "" ).split( "." ).sort();

      // Unbind all events (on this namespace, if provided) for the element
      if ( !type ) {
        for ( type in events ) {
          jQuery.event.remove( elem, type + types[ t ], handler, selector, true );
        }
        continue;
      }

      special = jQuery.event.special[ type ] || {};
      type = ( selector ? special.delegateType : special.bindType ) || type;
      handlers = events[ type ] || [];
      tmp = tmp[2] && new RegExp( "(^|\\.)" + namespaces.join("\\.(?:.*\\.|)") + "(\\.|$)" );

      // Remove matching events
      origCount = j = handlers.length;
      while ( j-- ) {
        handleObj = handlers[ j ];

        if ( ( mappedTypes || origType === handleObj.origType ) &&
          ( !handler || handler.guid === handleObj.guid ) &&
          ( !tmp || tmp.test( handleObj.namespace ) ) &&
          ( !selector || selector === handleObj.selector || selector === "**" && handleObj.selector ) ) {
          handlers.splice( j, 1 );

          if ( handleObj.selector ) {
            handlers.delegateCount--;
          }
          if ( special.remove ) {
            special.remove.call( elem, handleObj );
          }
        }
      }

      // Remove generic event handler if we removed something and no more handlers exist
      // (avoids potential for endless recursion during removal of special event handlers)
      if ( origCount && !handlers.length ) {
        if ( !special.teardown || special.teardown.call( elem, namespaces, elemData.handle ) === false ) {
          jQuery.removeEvent( elem, type, elemData.handle );
        }

        delete events[ type ];
      }
    }

    // Remove the expando if it's no longer used
    if ( jQuery.isEmptyObject( events ) ) {
      delete elemData.handle;

      // removeData also checks for emptiness and clears the expando if empty
      // so use it instead of delete
      jQuery._removeData( elem, "events" );
    }
  },

  trigger: function( event, data, elem, onlyHandlers ) {
    var handle, ontype, cur,
      bubbleType, special, tmp, i,
      eventPath = [ elem || document ],
      type = hasOwn.call( event, "type" ) ? event.type : event,
      namespaces = hasOwn.call( event, "namespace" ) ? event.namespace.split(".") : [];

    cur = tmp = elem = elem || document;

    // Don't do events on text and comment nodes
    if ( elem.nodeType === 3 || elem.nodeType === 8 ) {
      return;
    }

    // focus/blur morphs to focusin/out; ensure we're not firing them right now
    if ( rfocusMorph.test( type + jQuery.event.triggered ) ) {
      return;
    }

    if ( type.indexOf(".") >= 0 ) {
      // Namespaced trigger; create a regexp to match event type in handle()
      namespaces = type.split(".");
      type = namespaces.shift();
      namespaces.sort();
    }
    ontype = type.indexOf(":") < 0 && "on" + type;

    // Caller can pass in a jQuery.Event object, Object, or just an event type string
    event = event[ jQuery.expando ] ?
      event :
      new jQuery.Event( type, typeof event === "object" && event );

    // Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)
    event.isTrigger = onlyHandlers ? 2 : 3;
    event.namespace = namespaces.join(".");
    event.namespace_re = event.namespace ?
      new RegExp( "(^|\\.)" + namespaces.join("\\.(?:.*\\.|)") + "(\\.|$)" ) :
      null;

    // Clean up the event in case it is being reused
    event.result = undefined;
    if ( !event.target ) {
      event.target = elem;
    }

    // Clone any incoming data and prepend the event, creating the handler arg list
    data = data == null ?
      [ event ] :
      jQuery.makeArray( data, [ event ] );

    // Allow special events to draw outside the lines
    special = jQuery.event.special[ type ] || {};
    if ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {
      return;
    }

    // Determine event propagation path in advance, per W3C events spec (#9951)
    // Bubble up to document, then to window; watch for a global ownerDocument var (#9724)
    if ( !onlyHandlers && !special.noBubble && !jQuery.isWindow( elem ) ) {

      bubbleType = special.delegateType || type;
      if ( !rfocusMorph.test( bubbleType + type ) ) {
        cur = cur.parentNode;
      }
      for ( ; cur; cur = cur.parentNode ) {
        eventPath.push( cur );
        tmp = cur;
      }

      // Only add window if we got to document (e.g., not plain obj or detached DOM)
      if ( tmp === (elem.ownerDocument || document) ) {
        eventPath.push( tmp.defaultView || tmp.parentWindow || window );
      }
    }

    // Fire handlers on the event path
    i = 0;
    while ( (cur = eventPath[i++]) && !event.isPropagationStopped() ) {

      event.type = i > 1 ?
        bubbleType :
        special.bindType || type;

      // jQuery handler
      handle = ( jQuery._data( cur, "events" ) || {} )[ event.type ] && jQuery._data( cur, "handle" );
      if ( handle ) {
        handle.apply( cur, data );
      }

      // Native handler
      handle = ontype && cur[ ontype ];
      if ( handle && handle.apply && jQuery.acceptData( cur ) ) {
        event.result = handle.apply( cur, data );
        if ( event.result === false ) {
          event.preventDefault();
        }
      }
    }
    event.type = type;

    // If nobody prevented the default action, do it now
    if ( !onlyHandlers && !event.isDefaultPrevented() ) {

      if ( (!special._default || special._default.apply( eventPath.pop(), data ) === false) &&
        jQuery.acceptData( elem ) ) {

        // Call a native DOM method on the target with the same name name as the event.
        // Can't use an .isFunction() check here because IE6/7 fails that test.
        // Don't do default actions on window, that's where global variables be (#6170)
        if ( ontype && elem[ type ] && !jQuery.isWindow( elem ) ) {

          // Don't re-trigger an onFOO event when we call its FOO() method
          tmp = elem[ ontype ];

          if ( tmp ) {
            elem[ ontype ] = null;
          }

          // Prevent re-triggering of the same event, since we already bubbled it above
          jQuery.event.triggered = type;
          try {
            elem[ type ]();
          } catch ( e ) {
            // IE<9 dies on focus/blur to hidden element (#1486,#12518)
            // only reproducible on winXP IE8 native, not IE9 in IE8 mode
          }
          jQuery.event.triggered = undefined;

          if ( tmp ) {
            elem[ ontype ] = tmp;
          }
        }
      }
    }

    return event.result;
  },

  dispatch: function( event ) {

    // Make a writable jQuery.Event from the native event object
    event = jQuery.event.fix( event );

    var i, ret, handleObj, matched, j,
      handlerQueue = [],
      args = slice.call( arguments ),
      handlers = ( jQuery._data( this, "events" ) || {} )[ event.type ] || [],
      special = jQuery.event.special[ event.type ] || {};

    // Use the fix-ed jQuery.Event rather than the (read-only) native event
    args[0] = event;
    event.delegateTarget = this;

    // Call the preDispatch hook for the mapped type, and let it bail if desired
    if ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {
      return;
    }

    // Determine handlers
    handlerQueue = jQuery.event.handlers.call( this, event, handlers );

    // Run delegates first; they may want to stop propagation beneath us
    i = 0;
    while ( (matched = handlerQueue[ i++ ]) && !event.isPropagationStopped() ) {
      event.currentTarget = matched.elem;

      j = 0;
      while ( (handleObj = matched.handlers[ j++ ]) && !event.isImmediatePropagationStopped() ) {

        // Triggered event must either 1) have no namespace, or
        // 2) have namespace(s) a subset or equal to those in the bound event (both can have no namespace).
        if ( !event.namespace_re || event.namespace_re.test( handleObj.namespace ) ) {

          event.handleObj = handleObj;
          event.data = handleObj.data;

          ret = ( (jQuery.event.special[ handleObj.origType ] || {}).handle || handleObj.handler )
              .apply( matched.elem, args );

          if ( ret !== undefined ) {
            if ( (event.result = ret) === false ) {
              event.preventDefault();
              event.stopPropagation();
            }
          }
        }
      }
    }

    // Call the postDispatch hook for the mapped type
    if ( special.postDispatch ) {
      special.postDispatch.call( this, event );
    }

    return event.result;
  },

  handlers: function( event, handlers ) {
    var sel, handleObj, matches, i,
      handlerQueue = [],
      delegateCount = handlers.delegateCount,
      cur = event.target;

    // Find delegate handlers
    // Black-hole SVG <use> instance trees (#13180)
    // Avoid non-left-click bubbling in Firefox (#3861)
    if ( delegateCount && cur.nodeType && (!event.button || event.type !== "click") ) {

      /* jshint eqeqeq: false */
      for ( ; cur != this; cur = cur.parentNode || this ) {
        /* jshint eqeqeq: true */

        // Don't check non-elements (#13208)
        // Don't process clicks on disabled elements (#6911, #8165, #11382, #11764)
        if ( cur.nodeType === 1 && (cur.disabled !== true || event.type !== "click") ) {
          matches = [];
          for ( i = 0; i < delegateCount; i++ ) {
            handleObj = handlers[ i ];

            // Don't conflict with Object.prototype properties (#13203)
            sel = handleObj.selector + " ";

            if ( matches[ sel ] === undefined ) {
              matches[ sel ] = handleObj.needsContext ?
                jQuery( sel, this ).index( cur ) >= 0 :
                jQuery.find( sel, this, null, [ cur ] ).length;
            }
            if ( matches[ sel ] ) {
              matches.push( handleObj );
            }
          }
          if ( matches.length ) {
            handlerQueue.push({ elem: cur, handlers: matches });
          }
        }
      }
    }

    // Add the remaining (directly-bound) handlers
    if ( delegateCount < handlers.length ) {
      handlerQueue.push({ elem: this, handlers: handlers.slice( delegateCount ) });
    }

    return handlerQueue;
  },

  fix: function( event ) {
    if ( event[ jQuery.expando ] ) {
      return event;
    }

    // Create a writable copy of the event object and normalize some properties
    var i, prop, copy,
      type = event.type,
      originalEvent = event,
      fixHook = this.fixHooks[ type ];

    if ( !fixHook ) {
      this.fixHooks[ type ] = fixHook =
        rmouseEvent.test( type ) ? this.mouseHooks :
        rkeyEvent.test( type ) ? this.keyHooks :
        {};
    }
    copy = fixHook.props ? this.props.concat( fixHook.props ) : this.props;

    event = new jQuery.Event( originalEvent );

    i = copy.length;
    while ( i-- ) {
      prop = copy[ i ];
      event[ prop ] = originalEvent[ prop ];
    }

    // Support: IE<9
    // Fix target property (#1925)
    if ( !event.target ) {
      event.target = originalEvent.srcElement || document;
    }

    // Support: Chrome 23+, Safari?
    // Target should not be a text node (#504, #13143)
    if ( event.target.nodeType === 3 ) {
      event.target = event.target.parentNode;
    }

    // Support: IE<9
    // For mouse/key events, metaKey==false if it's undefined (#3368, #11328)
    event.metaKey = !!event.metaKey;

    return fixHook.filter ? fixHook.filter( event, originalEvent ) : event;
  },

  // Includes some event props shared by KeyEvent and MouseEvent
  props: "altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),

  fixHooks: {},

  keyHooks: {
    props: "char charCode key keyCode".split(" "),
    filter: function( event, original ) {

      // Add which for key events
      if ( event.which == null ) {
        event.which = original.charCode != null ? original.charCode : original.keyCode;
      }

      return event;
    }
  },

  mouseHooks: {
    props: "button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
    filter: function( event, original ) {
      var body, eventDoc, doc,
        button = original.button,
        fromElement = original.fromElement;

      // Calculate pageX/Y if missing and clientX/Y available
      if ( event.pageX == null && original.clientX != null ) {
        eventDoc = event.target.ownerDocument || document;
        doc = eventDoc.documentElement;
        body = eventDoc.body;

        event.pageX = original.clientX + ( doc && doc.scrollLeft || body && body.scrollLeft || 0 ) - ( doc && doc.clientLeft || body && body.clientLeft || 0 );
        event.pageY = original.clientY + ( doc && doc.scrollTop  || body && body.scrollTop  || 0 ) - ( doc && doc.clientTop  || body && body.clientTop  || 0 );
      }

      // Add relatedTarget, if necessary
      if ( !event.relatedTarget && fromElement ) {
        event.relatedTarget = fromElement === event.target ? original.toElement : fromElement;
      }

      // Add which for click: 1 === left; 2 === middle; 3 === right
      // Note: button is not normalized, so don't use it
      if ( !event.which && button !== undefined ) {
        event.which = ( button & 1 ? 1 : ( button & 2 ? 3 : ( button & 4 ? 2 : 0 ) ) );
      }

      return event;
    }
  },

  special: {
    load: {
      // Prevent triggered image.load events from bubbling to window.load
      noBubble: true
    },
    focus: {
      // Fire native event if possible so blur/focus sequence is correct
      trigger: function() {
        if ( this !== safeActiveElement() && this.focus ) {
          try {
            this.focus();
            return false;
          } catch ( e ) {
            // Support: IE<9
            // If we error on focus to hidden element (#1486, #12518),
            // let .trigger() run the handlers
          }
        }
      },
      delegateType: "focusin"
    },
    blur: {
      trigger: function() {
        if ( this === safeActiveElement() && this.blur ) {
          this.blur();
          return false;
        }
      },
      delegateType: "focusout"
    },
    click: {
      // For checkbox, fire native event so checked state will be right
      trigger: function() {
        if ( jQuery.nodeName( this, "input" ) && this.type === "checkbox" && this.click ) {
          this.click();
          return false;
        }
      },

      // For cross-browser consistency, don't fire native .click() on links
      _default: function( event ) {
        return jQuery.nodeName( event.target, "a" );
      }
    },

    beforeunload: {
      postDispatch: function( event ) {

        // Support: Firefox 20+
        // Firefox doesn't alert if the returnValue field is not set.
        if ( event.result !== undefined && event.originalEvent ) {
          event.originalEvent.returnValue = event.result;
        }
      }
    }
  },

  simulate: function( type, elem, event, bubble ) {
    // Piggyback on a donor event to simulate a different one.
    // Fake originalEvent to avoid donor's stopPropagation, but if the
    // simulated event prevents default then we do the same on the donor.
    var e = jQuery.extend(
      new jQuery.Event(),
      event,
      {
        type: type,
        isSimulated: true,
        originalEvent: {}
      }
    );
    if ( bubble ) {
      jQuery.event.trigger( e, null, elem );
    } else {
      jQuery.event.dispatch.call( elem, e );
    }
    if ( e.isDefaultPrevented() ) {
      event.preventDefault();
    }
  }
};

jQuery.removeEvent = document.removeEventListener ?
  function( elem, type, handle ) {
    if ( elem.removeEventListener ) {
      elem.removeEventListener( type, handle, false );
    }
  } :
  function( elem, type, handle ) {
    var name = "on" + type;

    if ( elem.detachEvent ) {

      // #8545, #7054, preventing memory leaks for custom events in IE6-8
      // detachEvent needed property on element, by name of that event, to properly expose it to GC
      if ( typeof elem[ name ] === strundefined ) {
        elem[ name ] = null;
      }

      elem.detachEvent( name, handle );
    }
  };

jQuery.Event = function( src, props ) {
  // Allow instantiation without the 'new' keyword
  if ( !(this instanceof jQuery.Event) ) {
    return new jQuery.Event( src, props );
  }

  // Event object
  if ( src && src.type ) {
    this.originalEvent = src;
    this.type = src.type;

    // Events bubbling up the document may have been marked as prevented
    // by a handler lower down the tree; reflect the correct value.
    this.isDefaultPrevented = src.defaultPrevented ||
        src.defaultPrevented === undefined &&
        // Support: IE < 9, Android < 4.0
        src.returnValue === false ?
      returnTrue :
      returnFalse;

  // Event type
  } else {
    this.type = src;
  }

  // Put explicitly provided properties onto the event object
  if ( props ) {
    jQuery.extend( this, props );
  }

  // Create a timestamp if incoming event doesn't have one
  this.timeStamp = src && src.timeStamp || jQuery.now();

  // Mark it as fixed
  this[ jQuery.expando ] = true;
};

// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding
// http://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html
jQuery.Event.prototype = {
  isDefaultPrevented: returnFalse,
  isPropagationStopped: returnFalse,
  isImmediatePropagationStopped: returnFalse,

  preventDefault: function() {
    var e = this.originalEvent;

    this.isDefaultPrevented = returnTrue;
    if ( !e ) {
      return;
    }

    // If preventDefault exists, run it on the original event
    if ( e.preventDefault ) {
      e.preventDefault();

    // Support: IE
    // Otherwise set the returnValue property of the original event to false
    } else {
      e.returnValue = false;
    }
  },
  stopPropagation: function() {
    var e = this.originalEvent;

    this.isPropagationStopped = returnTrue;
    if ( !e ) {
      return;
    }
    // If stopPropagation exists, run it on the original event
    if ( e.stopPropagation ) {
      e.stopPropagation();
    }

    // Support: IE
    // Set the cancelBubble property of the original event to true
    e.cancelBubble = true;
  },
  stopImmediatePropagation: function() {
    var e = this.originalEvent;

    this.isImmediatePropagationStopped = returnTrue;

    if ( e && e.stopImmediatePropagation ) {
      e.stopImmediatePropagation();
    }

    this.stopPropagation();
  }
};

// Create mouseenter/leave events using mouseover/out and event-time checks
jQuery.each({
  mouseenter: "mouseover",
  mouseleave: "mouseout",
  pointerenter: "pointerover",
  pointerleave: "pointerout"
}, function( orig, fix ) {
  jQuery.event.special[ orig ] = {
    delegateType: fix,
    bindType: fix,

    handle: function( event ) {
      var ret,
        target = this,
        related = event.relatedTarget,
        handleObj = event.handleObj;

      // For mousenter/leave call the handler if related is outside the target.
      // NB: No relatedTarget if the mouse left/entered the browser window
      if ( !related || (related !== target && !jQuery.contains( target, related )) ) {
        event.type = handleObj.origType;
        ret = handleObj.handler.apply( this, arguments );
        event.type = fix;
      }
      return ret;
    }
  };
});

// IE submit delegation
if ( !support.submitBubbles ) {

  jQuery.event.special.submit = {
    setup: function() {
      // Only need this for delegated form submit events
      if ( jQuery.nodeName( this, "form" ) ) {
        return false;
      }

      // Lazy-add a submit handler when a descendant form may potentially be submitted
      jQuery.event.add( this, "click._submit keypress._submit", function( e ) {
        // Node name check avoids a VML-related crash in IE (#9807)
        var elem = e.target,
          form = jQuery.nodeName( elem, "input" ) || jQuery.nodeName( elem, "button" ) ? elem.form : undefined;
        if ( form && !jQuery._data( form, "submitBubbles" ) ) {
          jQuery.event.add( form, "submit._submit", function( event ) {
            event._submit_bubble = true;
          });
          jQuery._data( form, "submitBubbles", true );
        }
      });
      // return undefined since we don't need an event listener
    },

    postDispatch: function( event ) {
      // If form was submitted by the user, bubble the event up the tree
      if ( event._submit_bubble ) {
        delete event._submit_bubble;
        if ( this.parentNode && !event.isTrigger ) {
          jQuery.event.simulate( "submit", this.parentNode, event, true );
        }
      }
    },

    teardown: function() {
      // Only need this for delegated form submit events
      if ( jQuery.nodeName( this, "form" ) ) {
        return false;
      }

      // Remove delegated handlers; cleanData eventually reaps submit handlers attached above
      jQuery.event.remove( this, "._submit" );
    }
  };
}

// IE change delegation and checkbox/radio fix
if ( !support.changeBubbles ) {

  jQuery.event.special.change = {

    setup: function() {

      if ( rformElems.test( this.nodeName ) ) {
        // IE doesn't fire change on a check/radio until blur; trigger it on click
        // after a propertychange. Eat the blur-change in special.change.handle.
        // This still fires onchange a second time for check/radio after blur.
        if ( this.type === "checkbox" || this.type === "radio" ) {
          jQuery.event.add( this, "propertychange._change", function( event ) {
            if ( event.originalEvent.propertyName === "checked" ) {
              this._just_changed = true;
            }
          });
          jQuery.event.add( this, "click._change", function( event ) {
            if ( this._just_changed && !event.isTrigger ) {
              this._just_changed = false;
            }
            // Allow triggered, simulated change events (#11500)
            jQuery.event.simulate( "change", this, event, true );
          });
        }
        return false;
      }
      // Delegated event; lazy-add a change handler on descendant inputs
      jQuery.event.add( this, "beforeactivate._change", function( e ) {
        var elem = e.target;

        if ( rformElems.test( elem.nodeName ) && !jQuery._data( elem, "changeBubbles" ) ) {
          jQuery.event.add( elem, "change._change", function( event ) {
            if ( this.parentNode && !event.isSimulated && !event.isTrigger ) {
              jQuery.event.simulate( "change", this.parentNode, event, true );
            }
          });
          jQuery._data( elem, "changeBubbles", true );
        }
      });
    },

    handle: function( event ) {
      var elem = event.target;

      // Swallow native change events from checkbox/radio, we already triggered them above
      if ( this !== elem || event.isSimulated || event.isTrigger || (elem.type !== "radio" && elem.type !== "checkbox") ) {
        return event.handleObj.handler.apply( this, arguments );
      }
    },

    teardown: function() {
      jQuery.event.remove( this, "._change" );

      return !rformElems.test( this.nodeName );
    }
  };
}

// Create "bubbling" focus and blur events
if ( !support.focusinBubbles ) {
  jQuery.each({ focus: "focusin", blur: "focusout" }, function( orig, fix ) {

    // Attach a single capturing handler on the document while someone wants focusin/focusout
    var handler = function( event ) {
        jQuery.event.simulate( fix, event.target, jQuery.event.fix( event ), true );
      };

    jQuery.event.special[ fix ] = {
      setup: function() {
        var doc = this.ownerDocument || this,
          attaches = jQuery._data( doc, fix );

        if ( !attaches ) {
          doc.addEventListener( orig, handler, true );
        }
        jQuery._data( doc, fix, ( attaches || 0 ) + 1 );
      },
      teardown: function() {
        var doc = this.ownerDocument || this,
          attaches = jQuery._data( doc, fix ) - 1;

        if ( !attaches ) {
          doc.removeEventListener( orig, handler, true );
          jQuery._removeData( doc, fix );
        } else {
          jQuery._data( doc, fix, attaches );
        }
      }
    };
  });
}

jQuery.fn.extend({

  on: function( types, selector, data, fn, /*INTERNAL*/ one ) {
    var type, origFn;

    // Types can be a map of types/handlers
    if ( typeof types === "object" ) {
      // ( types-Object, selector, data )
      if ( typeof selector !== "string" ) {
        // ( types-Object, data )
        data = data || selector;
        selector = undefined;
      }
      for ( type in types ) {
        this.on( type, selector, data, types[ type ], one );
      }
      return this;
    }

    if ( data == null && fn == null ) {
      // ( types, fn )
      fn = selector;
      data = selector = undefined;
    } else if ( fn == null ) {
      if ( typeof selector === "string" ) {
        // ( types, selector, fn )
        fn = data;
        data = undefined;
      } else {
        // ( types, data, fn )
        fn = data;
        data = selector;
        selector = undefined;
      }
    }
    if ( fn === false ) {
      fn = returnFalse;
    } else if ( !fn ) {
      return this;
    }

    if ( one === 1 ) {
      origFn = fn;
      fn = function( event ) {
        // Can use an empty set, since event contains the info
        jQuery().off( event );
        return origFn.apply( this, arguments );
      };
      // Use same guid so caller can remove using origFn
      fn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );
    }
    return this.each( function() {
      jQuery.event.add( this, types, fn, data, selector );
    });
  },
  one: function( types, selector, data, fn ) {
    return this.on( types, selector, data, fn, 1 );
  },
  off: function( types, selector, fn ) {
    var handleObj, type;
    if ( types && types.preventDefault && types.handleObj ) {
      // ( event )  dispatched jQuery.Event
      handleObj = types.handleObj;
      jQuery( types.delegateTarget ).off(
        handleObj.namespace ? handleObj.origType + "." + handleObj.namespace : handleObj.origType,
        handleObj.selector,
        handleObj.handler
      );
      return this;
    }
    if ( typeof types === "object" ) {
      // ( types-object [, selector] )
      for ( type in types ) {
        this.off( type, selector, types[ type ] );
      }
      return this;
    }
    if ( selector === false || typeof selector === "function" ) {
      // ( types [, fn] )
      fn = selector;
      selector = undefined;
    }
    if ( fn === false ) {
      fn = returnFalse;
    }
    return this.each(function() {
      jQuery.event.remove( this, types, fn, selector );
    });
  },

  trigger: function( type, data ) {
    return this.each(function() {
      jQuery.event.trigger( type, data, this );
    });
  },
  triggerHandler: function( type, data ) {
    var elem = this[0];
    if ( elem ) {
      return jQuery.event.trigger( type, data, elem, true );
    }
  }
});


function createSafeFragment( document ) {
  var list = nodeNames.split( "|" ),
    safeFrag = document.createDocumentFragment();

  if ( safeFrag.createElement ) {
    while ( list.length ) {
      safeFrag.createElement(
        list.pop()
      );
    }
  }
  return safeFrag;
}

var nodeNames = "abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|" +
    "header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",
  rinlinejQuery = / jQuery\d+="(?:null|\d+)"/g,
  rnoshimcache = new RegExp("<(?:" + nodeNames + ")[\\s/>]", "i"),
  rleadingWhitespace = /^\s+/,
  rxhtmlTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
  rtagName = /<([\w:]+)/,
  rtbody = /<tbody/i,
  rhtml = /<|&#?\w+;/,
  rnoInnerhtml = /<(?:script|style|link)/i,
  // checked="checked" or checked
  rchecked = /checked\s*(?:[^=]|=\s*.checked.)/i,
  rscriptType = /^$|\/(?:java|ecma)script/i,
  rscriptTypeMasked = /^true\/(.*)/,
  rcleanScript = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,

  // We have to close these tags to support XHTML (#13200)
  wrapMap = {
    option: [ 1, "<select multiple='multiple'>", "</select>" ],
    legend: [ 1, "<fieldset>", "</fieldset>" ],
    area: [ 1, "<map>", "</map>" ],
    param: [ 1, "<object>", "</object>" ],
    thead: [ 1, "<table>", "</table>" ],
    tr: [ 2, "<table><tbody>", "</tbody></table>" ],
    col: [ 2, "<table><tbody></tbody><colgroup>", "</colgroup></table>" ],
    td: [ 3, "<table><tbody><tr>", "</tr></tbody></table>" ],

    // IE6-8 can't serialize link, script, style, or any html5 (NoScope) tags,
    // unless wrapped in a div with non-breaking characters in front of it.
    _default: support.htmlSerialize ? [ 0, "", "" ] : [ 1, "X<div>", "</div>"  ]
  },
  safeFragment = createSafeFragment( document ),
  fragmentDiv = safeFragment.appendChild( document.createElement("div") );

wrapMap.optgroup = wrapMap.option;
wrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;
wrapMap.th = wrapMap.td;

function getAll( context, tag ) {
  var elems, elem,
    i = 0,
    found = typeof context.getElementsByTagName !== strundefined ? context.getElementsByTagName( tag || "*" ) :
      typeof context.querySelectorAll !== strundefined ? context.querySelectorAll( tag || "*" ) :
      undefined;

  if ( !found ) {
    for ( found = [], elems = context.childNodes || context; (elem = elems[i]) != null; i++ ) {
      if ( !tag || jQuery.nodeName( elem, tag ) ) {
        found.push( elem );
      } else {
        jQuery.merge( found, getAll( elem, tag ) );
      }
    }
  }

  return tag === undefined || tag && jQuery.nodeName( context, tag ) ?
    jQuery.merge( [ context ], found ) :
    found;
}

// Used in buildFragment, fixes the defaultChecked property
function fixDefaultChecked( elem ) {
  if ( rcheckableType.test( elem.type ) ) {
    elem.defaultChecked = elem.checked;
  }
}

// Support: IE<8
// Manipulating tables requires a tbody
function manipulationTarget( elem, content ) {
  return jQuery.nodeName( elem, "table" ) &&
    jQuery.nodeName( content.nodeType !== 11 ? content : content.firstChild, "tr" ) ?

    elem.getElementsByTagName("tbody")[0] ||
      elem.appendChild( elem.ownerDocument.createElement("tbody") ) :
    elem;
}

// Replace/restore the type attribute of script elements for safe DOM manipulation
function disableScript( elem ) {
  elem.type = (jQuery.find.attr( elem, "type" ) !== null) + "/" + elem.type;
  return elem;
}
function restoreScript( elem ) {
  var match = rscriptTypeMasked.exec( elem.type );
  if ( match ) {
    elem.type = match[1];
  } else {
    elem.removeAttribute("type");
  }
  return elem;
}

// Mark scripts as having already been evaluated
function setGlobalEval( elems, refElements ) {
  var elem,
    i = 0;
  for ( ; (elem = elems[i]) != null; i++ ) {
    jQuery._data( elem, "globalEval", !refElements || jQuery._data( refElements[i], "globalEval" ) );
  }
}

function cloneCopyEvent( src, dest ) {

  if ( dest.nodeType !== 1 || !jQuery.hasData( src ) ) {
    return;
  }

  var type, i, l,
    oldData = jQuery._data( src ),
    curData = jQuery._data( dest, oldData ),
    events = oldData.events;

  if ( events ) {
    delete curData.handle;
    curData.events = {};

    for ( type in events ) {
      for ( i = 0, l = events[ type ].length; i < l; i++ ) {
        jQuery.event.add( dest, type, events[ type ][ i ] );
      }
    }
  }

  // make the cloned public data object a copy from the original
  if ( curData.data ) {
    curData.data = jQuery.extend( {}, curData.data );
  }
}

function fixCloneNodeIssues( src, dest ) {
  var nodeName, e, data;

  // We do not need to do anything for non-Elements
  if ( dest.nodeType !== 1 ) {
    return;
  }

  nodeName = dest.nodeName.toLowerCase();

  // IE6-8 copies events bound via attachEvent when using cloneNode.
  if ( !support.noCloneEvent && dest[ jQuery.expando ] ) {
    data = jQuery._data( dest );

    for ( e in data.events ) {
      jQuery.removeEvent( dest, e, data.handle );
    }

    // Event data gets referenced instead of copied if the expando gets copied too
    dest.removeAttribute( jQuery.expando );
  }

  // IE blanks contents when cloning scripts, and tries to evaluate newly-set text
  if ( nodeName === "script" && dest.text !== src.text ) {
    disableScript( dest ).text = src.text;
    restoreScript( dest );

  // IE6-10 improperly clones children of object elements using classid.
  // IE10 throws NoModificationAllowedError if parent is null, #12132.
  } else if ( nodeName === "object" ) {
    if ( dest.parentNode ) {
      dest.outerHTML = src.outerHTML;
    }

    // This path appears unavoidable for IE9. When cloning an object
    // element in IE9, the outerHTML strategy above is not sufficient.
    // If the src has innerHTML and the destination does not,
    // copy the src.innerHTML into the dest.innerHTML. #10324
    if ( support.html5Clone && ( src.innerHTML && !jQuery.trim(dest.innerHTML) ) ) {
      dest.innerHTML = src.innerHTML;
    }

  } else if ( nodeName === "input" && rcheckableType.test( src.type ) ) {
    // IE6-8 fails to persist the checked state of a cloned checkbox
    // or radio button. Worse, IE6-7 fail to give the cloned element
    // a checked appearance if the defaultChecked value isn't also set

    dest.defaultChecked = dest.checked = src.checked;

    // IE6-7 get confused and end up setting the value of a cloned
    // checkbox/radio button to an empty string instead of "on"
    if ( dest.value !== src.value ) {
      dest.value = src.value;
    }

  // IE6-8 fails to return the selected option to the default selected
  // state when cloning options
  } else if ( nodeName === "option" ) {
    dest.defaultSelected = dest.selected = src.defaultSelected;

  // IE6-8 fails to set the defaultValue to the correct value when
  // cloning other types of input fields
  } else if ( nodeName === "input" || nodeName === "textarea" ) {
    dest.defaultValue = src.defaultValue;
  }
}

jQuery.extend({
  clone: function( elem, dataAndEvents, deepDataAndEvents ) {
    var destElements, node, clone, i, srcElements,
      inPage = jQuery.contains( elem.ownerDocument, elem );

    if ( support.html5Clone || jQuery.isXMLDoc(elem) || !rnoshimcache.test( "<" + elem.nodeName + ">" ) ) {
      clone = elem.cloneNode( true );

    // IE<=8 does not properly clone detached, unknown element nodes
    } else {
      fragmentDiv.innerHTML = elem.outerHTML;
      fragmentDiv.removeChild( clone = fragmentDiv.firstChild );
    }

    if ( (!support.noCloneEvent || !support.noCloneChecked) &&
        (elem.nodeType === 1 || elem.nodeType === 11) && !jQuery.isXMLDoc(elem) ) {

      // We eschew Sizzle here for performance reasons: http://jsperf.com/getall-vs-sizzle/2
      destElements = getAll( clone );
      srcElements = getAll( elem );

      // Fix all IE cloning issues
      for ( i = 0; (node = srcElements[i]) != null; ++i ) {
        // Ensure that the destination node is not null; Fixes #9587
        if ( destElements[i] ) {
          fixCloneNodeIssues( node, destElements[i] );
        }
      }
    }

    // Copy the events from the original to the clone
    if ( dataAndEvents ) {
      if ( deepDataAndEvents ) {
        srcElements = srcElements || getAll( elem );
        destElements = destElements || getAll( clone );

        for ( i = 0; (node = srcElements[i]) != null; i++ ) {
          cloneCopyEvent( node, destElements[i] );
        }
      } else {
        cloneCopyEvent( elem, clone );
      }
    }

    // Preserve script evaluation history
    destElements = getAll( clone, "script" );
    if ( destElements.length > 0 ) {
      setGlobalEval( destElements, !inPage && getAll( elem, "script" ) );
    }

    destElements = srcElements = node = null;

    // Return the cloned set
    return clone;
  },

  buildFragment: function( elems, context, scripts, selection ) {
    var j, elem, contains,
      tmp, tag, tbody, wrap,
      l = elems.length,

      // Ensure a safe fragment
      safe = createSafeFragment( context ),

      nodes = [],
      i = 0;

    for ( ; i < l; i++ ) {
      elem = elems[ i ];

      if ( elem || elem === 0 ) {

        // Add nodes directly
        if ( jQuery.type( elem ) === "object" ) {
          jQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );

        // Convert non-html into a text node
        } else if ( !rhtml.test( elem ) ) {
          nodes.push( context.createTextNode( elem ) );

        // Convert html into DOM nodes
        } else {
          tmp = tmp || safe.appendChild( context.createElement("div") );

          // Deserialize a standard representation
          tag = (rtagName.exec( elem ) || [ "", "" ])[ 1 ].toLowerCase();
          wrap = wrapMap[ tag ] || wrapMap._default;

          tmp.innerHTML = wrap[1] + elem.replace( rxhtmlTag, "<$1></$2>" ) + wrap[2];

          // Descend through wrappers to the right content
          j = wrap[0];
          while ( j-- ) {
            tmp = tmp.lastChild;
          }

          // Manually add leading whitespace removed by IE
          if ( !support.leadingWhitespace && rleadingWhitespace.test( elem ) ) {
            nodes.push( context.createTextNode( rleadingWhitespace.exec( elem )[0] ) );
          }

          // Remove IE's autoinserted <tbody> from table fragments
          if ( !support.tbody ) {

            // String was a <table>, *may* have spurious <tbody>
            elem = tag === "table" && !rtbody.test( elem ) ?
              tmp.firstChild :

              // String was a bare <thead> or <tfoot>
              wrap[1] === "<table>" && !rtbody.test( elem ) ?
                tmp :
                0;

            j = elem && elem.childNodes.length;
            while ( j-- ) {
              if ( jQuery.nodeName( (tbody = elem.childNodes[j]), "tbody" ) && !tbody.childNodes.length ) {
                elem.removeChild( tbody );
              }
            }
          }

          jQuery.merge( nodes, tmp.childNodes );

          // Fix #12392 for WebKit and IE > 9
          tmp.textContent = "";

          // Fix #12392 for oldIE
          while ( tmp.firstChild ) {
            tmp.removeChild( tmp.firstChild );
          }

          // Remember the top-level container for proper cleanup
          tmp = safe.lastChild;
        }
      }
    }

    // Fix #11356: Clear elements from fragment
    if ( tmp ) {
      safe.removeChild( tmp );
    }

    // Reset defaultChecked for any radios and checkboxes
    // about to be appended to the DOM in IE 6/7 (#8060)
    if ( !support.appendChecked ) {
      jQuery.grep( getAll( nodes, "input" ), fixDefaultChecked );
    }

    i = 0;
    while ( (elem = nodes[ i++ ]) ) {

      // #4087 - If origin and destination elements are the same, and this is
      // that element, do not do anything
      if ( selection && jQuery.inArray( elem, selection ) !== -1 ) {
        continue;
      }

      contains = jQuery.contains( elem.ownerDocument, elem );

      // Append to fragment
      tmp = getAll( safe.appendChild( elem ), "script" );

      // Preserve script evaluation history
      if ( contains ) {
        setGlobalEval( tmp );
      }

      // Capture executables
      if ( scripts ) {
        j = 0;
        while ( (elem = tmp[ j++ ]) ) {
          if ( rscriptType.test( elem.type || "" ) ) {
            scripts.push( elem );
          }
        }
      }
    }

    tmp = null;

    return safe;
  },

  cleanData: function( elems, /* internal */ acceptData ) {
    var elem, type, id, data,
      i = 0,
      internalKey = jQuery.expando,
      cache = jQuery.cache,
      deleteExpando = support.deleteExpando,
      special = jQuery.event.special;

    for ( ; (elem = elems[i]) != null; i++ ) {
      if ( acceptData || jQuery.acceptData( elem ) ) {

        id = elem[ internalKey ];
        data = id && cache[ id ];

        if ( data ) {
          if ( data.events ) {
            for ( type in data.events ) {
              if ( special[ type ] ) {
                jQuery.event.remove( elem, type );

              // This is a shortcut to avoid jQuery.event.remove's overhead
              } else {
                jQuery.removeEvent( elem, type, data.handle );
              }
            }
          }

          // Remove cache only if it was not already removed by jQuery.event.remove
          if ( cache[ id ] ) {

            delete cache[ id ];

            // IE does not allow us to delete expando properties from nodes,
            // nor does it have a removeAttribute function on Document nodes;
            // we must handle all of these cases
            if ( deleteExpando ) {
              delete elem[ internalKey ];

            } else if ( typeof elem.removeAttribute !== strundefined ) {
              elem.removeAttribute( internalKey );

            } else {
              elem[ internalKey ] = null;
            }

            deletedIds.push( id );
          }
        }
      }
    }
  }
});

jQuery.fn.extend({
  text: function( value ) {
    return access( this, function( value ) {
      return value === undefined ?
        jQuery.text( this ) :
        this.empty().append( ( this[0] && this[0].ownerDocument || document ).createTextNode( value ) );
    }, null, value, arguments.length );
  },

  append: function() {
    return this.domManip( arguments, function( elem ) {
      if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
        var target = manipulationTarget( this, elem );
        target.appendChild( elem );
      }
    });
  },

  prepend: function() {
    return this.domManip( arguments, function( elem ) {
      if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
        var target = manipulationTarget( this, elem );
        target.insertBefore( elem, target.firstChild );
      }
    });
  },

  before: function() {
    return this.domManip( arguments, function( elem ) {
      if ( this.parentNode ) {
        this.parentNode.insertBefore( elem, this );
      }
    });
  },

  after: function() {
    return this.domManip( arguments, function( elem ) {
      if ( this.parentNode ) {
        this.parentNode.insertBefore( elem, this.nextSibling );
      }
    });
  },

  remove: function( selector, keepData /* Internal Use Only */ ) {
    var elem,
      elems = selector ? jQuery.filter( selector, this ) : this,
      i = 0;

    for ( ; (elem = elems[i]) != null; i++ ) {

      if ( !keepData && elem.nodeType === 1 ) {
        jQuery.cleanData( getAll( elem ) );
      }

      if ( elem.parentNode ) {
        if ( keepData && jQuery.contains( elem.ownerDocument, elem ) ) {
          setGlobalEval( getAll( elem, "script" ) );
        }
        elem.parentNode.removeChild( elem );
      }
    }

    return this;
  },

  empty: function() {
    var elem,
      i = 0;

    for ( ; (elem = this[i]) != null; i++ ) {
      // Remove element nodes and prevent memory leaks
      if ( elem.nodeType === 1 ) {
        jQuery.cleanData( getAll( elem, false ) );
      }

      // Remove any remaining nodes
      while ( elem.firstChild ) {
        elem.removeChild( elem.firstChild );
      }

      // If this is a select, ensure that it displays empty (#12336)
      // Support: IE<9
      if ( elem.options && jQuery.nodeName( elem, "select" ) ) {
        elem.options.length = 0;
      }
    }

    return this;
  },

  clone: function( dataAndEvents, deepDataAndEvents ) {
    dataAndEvents = dataAndEvents == null ? false : dataAndEvents;
    deepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;

    return this.map(function() {
      return jQuery.clone( this, dataAndEvents, deepDataAndEvents );
    });
  },

  html: function( value ) {
    return access( this, function( value ) {
      var elem = this[ 0 ] || {},
        i = 0,
        l = this.length;

      if ( value === undefined ) {
        return elem.nodeType === 1 ?
          elem.innerHTML.replace( rinlinejQuery, "" ) :
          undefined;
      }

      // See if we can take a shortcut and just use innerHTML
      if ( typeof value === "string" && !rnoInnerhtml.test( value ) &&
        ( support.htmlSerialize || !rnoshimcache.test( value )  ) &&
        ( support.leadingWhitespace || !rleadingWhitespace.test( value ) ) &&
        !wrapMap[ (rtagName.exec( value ) || [ "", "" ])[ 1 ].toLowerCase() ] ) {

        value = value.replace( rxhtmlTag, "<$1></$2>" );

        try {
          for (; i < l; i++ ) {
            // Remove element nodes and prevent memory leaks
            elem = this[i] || {};
            if ( elem.nodeType === 1 ) {
              jQuery.cleanData( getAll( elem, false ) );
              elem.innerHTML = value;
            }
          }

          elem = 0;

        // If using innerHTML throws an exception, use the fallback method
        } catch(e) {}
      }

      if ( elem ) {
        this.empty().append( value );
      }
    }, null, value, arguments.length );
  },

  replaceWith: function() {
    var arg = arguments[ 0 ];

    // Make the changes, replacing each context element with the new content
    this.domManip( arguments, function( elem ) {
      arg = this.parentNode;

      jQuery.cleanData( getAll( this ) );

      if ( arg ) {
        arg.replaceChild( elem, this );
      }
    });

    // Force removal if there was no new content (e.g., from empty arguments)
    return arg && (arg.length || arg.nodeType) ? this : this.remove();
  },

  detach: function( selector ) {
    return this.remove( selector, true );
  },

  domManip: function( args, callback ) {

    // Flatten any nested arrays
    args = concat.apply( [], args );

    var first, node, hasScripts,
      scripts, doc, fragment,
      i = 0,
      l = this.length,
      set = this,
      iNoClone = l - 1,
      value = args[0],
      isFunction = jQuery.isFunction( value );

    // We can't cloneNode fragments that contain checked, in WebKit
    if ( isFunction ||
        ( l > 1 && typeof value === "string" &&
          !support.checkClone && rchecked.test( value ) ) ) {
      return this.each(function( index ) {
        var self = set.eq( index );
        if ( isFunction ) {
          args[0] = value.call( this, index, self.html() );
        }
        self.domManip( args, callback );
      });
    }

    if ( l ) {
      fragment = jQuery.buildFragment( args, this[ 0 ].ownerDocument, false, this );
      first = fragment.firstChild;

      if ( fragment.childNodes.length === 1 ) {
        fragment = first;
      }

      if ( first ) {
        scripts = jQuery.map( getAll( fragment, "script" ), disableScript );
        hasScripts = scripts.length;

        // Use the original fragment for the last item instead of the first because it can end up
        // being emptied incorrectly in certain situations (#8070).
        for ( ; i < l; i++ ) {
          node = fragment;

          if ( i !== iNoClone ) {
            node = jQuery.clone( node, true, true );

            // Keep references to cloned scripts for later restoration
            if ( hasScripts ) {
              jQuery.merge( scripts, getAll( node, "script" ) );
            }
          }

          callback.call( this[i], node, i );
        }

        if ( hasScripts ) {
          doc = scripts[ scripts.length - 1 ].ownerDocument;

          // Reenable scripts
          jQuery.map( scripts, restoreScript );

          // Evaluate executable scripts on first document insertion
          for ( i = 0; i < hasScripts; i++ ) {
            node = scripts[ i ];
            if ( rscriptType.test( node.type || "" ) &&
              !jQuery._data( node, "globalEval" ) && jQuery.contains( doc, node ) ) {

              if ( node.src ) {
                // Optional AJAX dependency, but won't run scripts if not present
                if ( jQuery._evalUrl ) {
                  jQuery._evalUrl( node.src );
                }
              } else {
                jQuery.globalEval( ( node.text || node.textContent || node.innerHTML || "" ).replace( rcleanScript, "" ) );
              }
            }
          }
        }

        // Fix #11809: Avoid leaking memory
        fragment = first = null;
      }
    }

    return this;
  }
});

jQuery.each({
  appendTo: "append",
  prependTo: "prepend",
  insertBefore: "before",
  insertAfter: "after",
  replaceAll: "replaceWith"
}, function( name, original ) {
  jQuery.fn[ name ] = function( selector ) {
    var elems,
      i = 0,
      ret = [],
      insert = jQuery( selector ),
      last = insert.length - 1;

    for ( ; i <= last; i++ ) {
      elems = i === last ? this : this.clone(true);
      jQuery( insert[i] )[ original ]( elems );

      // Modern browsers can apply jQuery collections as arrays, but oldIE needs a .get()
      push.apply( ret, elems.get() );
    }

    return this.pushStack( ret );
  };
});


var iframe,
  elemdisplay = {};

/**
 * Retrieve the actual display of a element
 * @param {String} name nodeName of the element
 * @param {Object} doc Document object
 */
// Called only from within defaultDisplay
function actualDisplay( name, doc ) {
  var style,
    elem = jQuery( doc.createElement( name ) ).appendTo( doc.body ),

    // getDefaultComputedStyle might be reliably used only on attached element
    display = window.getDefaultComputedStyle && ( style = window.getDefaultComputedStyle( elem[ 0 ] ) ) ?

      // Use of this method is a temporary fix (more like optmization) until something better comes along,
      // since it was removed from specification and supported only in FF
      style.display : jQuery.css( elem[ 0 ], "display" );

  // We don't have any data stored on the element,
  // so use "detach" method as fast way to get rid of the element
  elem.detach();

  return display;
}

/**
 * Try to determine the default display value of an element
 * @param {String} nodeName
 */
function defaultDisplay( nodeName ) {
  var doc = document,
    display = elemdisplay[ nodeName ];

  if ( !display ) {
    display = actualDisplay( nodeName, doc );

    // If the simple way fails, read from inside an iframe
    if ( display === "none" || !display ) {

      // Use the already-created iframe if possible
      iframe = (iframe || jQuery( "<iframe frameborder='0' width='0' height='0'/>" )).appendTo( doc.documentElement );

      // Always write a new HTML skeleton so Webkit and Firefox don't choke on reuse
      doc = ( iframe[ 0 ].contentWindow || iframe[ 0 ].contentDocument ).document;

      // Support: IE
      doc.write();
      doc.close();

      display = actualDisplay( nodeName, doc );
      iframe.detach();
    }

    // Store the correct default display
    elemdisplay[ nodeName ] = display;
  }

  return display;
}


(function() {
  var shrinkWrapBlocksVal;

  support.shrinkWrapBlocks = function() {
    if ( shrinkWrapBlocksVal != null ) {
      return shrinkWrapBlocksVal;
    }

    // Will be changed later if needed.
    shrinkWrapBlocksVal = false;

    // Minified: var b,c,d
    var div, body, container;

    body = document.getElementsByTagName( "body" )[ 0 ];
    if ( !body || !body.style ) {
      // Test fired too early or in an unsupported environment, exit.
      return;
    }

    // Setup
    div = document.createElement( "div" );
    container = document.createElement( "div" );
    container.style.cssText = "position:absolute;border:0;width:0;height:0;top:0;left:-9999px";
    body.appendChild( container ).appendChild( div );

    // Support: IE6
    // Check if elements with layout shrink-wrap their children
    if ( typeof div.style.zoom !== strundefined ) {
      // Reset CSS: box-sizing; display; margin; border
      div.style.cssText =
        // Support: Firefox<29, Android 2.3
        // Vendor-prefix box-sizing
        "-webkit-box-sizing:content-box;-moz-box-sizing:content-box;" +
        "box-sizing:content-box;display:block;margin:0;border:0;" +
        "padding:1px;width:1px;zoom:1";
      div.appendChild( document.createElement( "div" ) ).style.width = "5px";
      shrinkWrapBlocksVal = div.offsetWidth !== 3;
    }

    body.removeChild( container );

    return shrinkWrapBlocksVal;
  };

})();
var rmargin = (/^margin/);

var rnumnonpx = new RegExp( "^(" + pnum + ")(?!px)[a-z%]+$", "i" );



var getStyles, curCSS,
  rposition = /^(top|right|bottom|left)$/;

if ( window.getComputedStyle ) {
  getStyles = function( elem ) {
    // Support: IE<=11+, Firefox<=30+ (#15098, #14150)
    // IE throws on elements created in popups
    // FF meanwhile throws on frame elements through "defaultView.getComputedStyle"
    if ( elem.ownerDocument.defaultView.opener ) {
      return elem.ownerDocument.defaultView.getComputedStyle( elem, null );
    }

    return window.getComputedStyle( elem, null );
  };

  curCSS = function( elem, name, computed ) {
    var width, minWidth, maxWidth, ret,
      style = elem.style;

    computed = computed || getStyles( elem );

    // getPropertyValue is only needed for .css('filter') in IE9, see #12537
    ret = computed ? computed.getPropertyValue( name ) || computed[ name ] : undefined;

    if ( computed ) {

      if ( ret === "" && !jQuery.contains( elem.ownerDocument, elem ) ) {
        ret = jQuery.style( elem, name );
      }

      // A tribute to the "awesome hack by Dean Edwards"
      // Chrome < 17 and Safari 5.0 uses "computed value" instead of "used value" for margin-right
      // Safari 5.1.7 (at least) returns percentage for a larger set of values, but width seems to be reliably pixels
      // this is against the CSSOM draft spec: http://dev.w3.org/csswg/cssom/#resolved-values
      if ( rnumnonpx.test( ret ) && rmargin.test( name ) ) {

        // Remember the original values
        width = style.width;
        minWidth = style.minWidth;
        maxWidth = style.maxWidth;

        // Put in the new values to get a computed value out
        style.minWidth = style.maxWidth = style.width = ret;
        ret = computed.width;

        // Revert the changed values
        style.width = width;
        style.minWidth = minWidth;
        style.maxWidth = maxWidth;
      }
    }

    // Support: IE
    // IE returns zIndex value as an integer.
    return ret === undefined ?
      ret :
      ret + "";
  };
} else if ( document.documentElement.currentStyle ) {
  getStyles = function( elem ) {
    return elem.currentStyle;
  };

  curCSS = function( elem, name, computed ) {
    var left, rs, rsLeft, ret,
      style = elem.style;

    computed = computed || getStyles( elem );
    ret = computed ? computed[ name ] : undefined;

    // Avoid setting ret to empty string here
    // so we don't default to auto
    if ( ret == null && style && style[ name ] ) {
      ret = style[ name ];
    }

    // From the awesome hack by Dean Edwards
    // http://erik.eae.net/archives/2007/07/27/18.54.15/#comment-102291

    // If we're not dealing with a regular pixel number
    // but a number that has a weird ending, we need to convert it to pixels
    // but not position css attributes, as those are proportional to the parent element instead
    // and we can't measure the parent instead because it might trigger a "stacking dolls" problem
    if ( rnumnonpx.test( ret ) && !rposition.test( name ) ) {

      // Remember the original values
      left = style.left;
      rs = elem.runtimeStyle;
      rsLeft = rs && rs.left;

      // Put in the new values to get a computed value out
      if ( rsLeft ) {
        rs.left = elem.currentStyle.left;
      }
      style.left = name === "fontSize" ? "1em" : ret;
      ret = style.pixelLeft + "px";

      // Revert the changed values
      style.left = left;
      if ( rsLeft ) {
        rs.left = rsLeft;
      }
    }

    // Support: IE
    // IE returns zIndex value as an integer.
    return ret === undefined ?
      ret :
      ret + "" || "auto";
  };
}




function addGetHookIf( conditionFn, hookFn ) {
  // Define the hook, we'll check on the first run if it's really needed.
  return {
    get: function() {
      var condition = conditionFn();

      if ( condition == null ) {
        // The test was not ready at this point; screw the hook this time
        // but check again when needed next time.
        return;
      }

      if ( condition ) {
        // Hook not needed (or it's not possible to use it due to missing dependency),
        // remove it.
        // Since there are no other hooks for marginRight, remove the whole object.
        delete this.get;
        return;
      }

      // Hook needed; redefine it so that the support test is not executed again.

      return (this.get = hookFn).apply( this, arguments );
    }
  };
}


(function() {
  // Minified: var b,c,d,e,f,g, h,i
  var div, style, a, pixelPositionVal, boxSizingReliableVal,
    reliableHiddenOffsetsVal, reliableMarginRightVal;

  // Setup
  div = document.createElement( "div" );
  div.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";
  a = div.getElementsByTagName( "a" )[ 0 ];
  style = a && a.style;

  // Finish early in limited (non-browser) environments
  if ( !style ) {
    return;
  }

  style.cssText = "float:left;opacity:.5";

  // Support: IE<9
  // Make sure that element opacity exists (as opposed to filter)
  support.opacity = style.opacity === "0.5";

  // Verify style float existence
  // (IE uses styleFloat instead of cssFloat)
  support.cssFloat = !!style.cssFloat;

  div.style.backgroundClip = "content-box";
  div.cloneNode( true ).style.backgroundClip = "";
  support.clearCloneStyle = div.style.backgroundClip === "content-box";

  // Support: Firefox<29, Android 2.3
  // Vendor-prefix box-sizing
  support.boxSizing = style.boxSizing === "" || style.MozBoxSizing === "" ||
    style.WebkitBoxSizing === "";

  jQuery.extend(support, {
    reliableHiddenOffsets: function() {
      if ( reliableHiddenOffsetsVal == null ) {
        computeStyleTests();
      }
      return reliableHiddenOffsetsVal;
    },

    boxSizingReliable: function() {
      if ( boxSizingReliableVal == null ) {
        computeStyleTests();
      }
      return boxSizingReliableVal;
    },

    pixelPosition: function() {
      if ( pixelPositionVal == null ) {
        computeStyleTests();
      }
      return pixelPositionVal;
    },

    // Support: Android 2.3
    reliableMarginRight: function() {
      if ( reliableMarginRightVal == null ) {
        computeStyleTests();
      }
      return reliableMarginRightVal;
    }
  });

  function computeStyleTests() {
    // Minified: var b,c,d,j
    var div, body, container, contents;

    body = document.getElementsByTagName( "body" )[ 0 ];
    if ( !body || !body.style ) {
      // Test fired too early or in an unsupported environment, exit.
      return;
    }

    // Setup
    div = document.createElement( "div" );
    container = document.createElement( "div" );
    container.style.cssText = "position:absolute;border:0;width:0;height:0;top:0;left:-9999px";
    body.appendChild( container ).appendChild( div );

    div.style.cssText =
      // Support: Firefox<29, Android 2.3
      // Vendor-prefix box-sizing
      "-webkit-box-sizing:border-box;-moz-box-sizing:border-box;" +
      "box-sizing:border-box;display:block;margin-top:1%;top:1%;" +
      "border:1px;padding:1px;width:4px;position:absolute";

    // Support: IE<9
    // Assume reasonable values in the absence of getComputedStyle
    pixelPositionVal = boxSizingReliableVal = false;
    reliableMarginRightVal = true;

    // Check for getComputedStyle so that this code is not run in IE<9.
    if ( window.getComputedStyle ) {
      pixelPositionVal = ( window.getComputedStyle( div, null ) || {} ).top !== "1%";
      boxSizingReliableVal =
        ( window.getComputedStyle( div, null ) || { width: "4px" } ).width === "4px";

      // Support: Android 2.3
      // Div with explicit width and no margin-right incorrectly
      // gets computed margin-right based on width of container (#3333)
      // WebKit Bug 13343 - getComputedStyle returns wrong value for margin-right
      contents = div.appendChild( document.createElement( "div" ) );

      // Reset CSS: box-sizing; display; margin; border; padding
      contents.style.cssText = div.style.cssText =
        // Support: Firefox<29, Android 2.3
        // Vendor-prefix box-sizing
        "-webkit-box-sizing:content-box;-moz-box-sizing:content-box;" +
        "box-sizing:content-box;display:block;margin:0;border:0;padding:0";
      contents.style.marginRight = contents.style.width = "0";
      div.style.width = "1px";

      reliableMarginRightVal =
        !parseFloat( ( window.getComputedStyle( contents, null ) || {} ).marginRight );

      div.removeChild( contents );
    }

    // Support: IE8
    // Check if table cells still have offsetWidth/Height when they are set
    // to display:none and there are still other visible table cells in a
    // table row; if so, offsetWidth/Height are not reliable for use when
    // determining if an element has been hidden directly using
    // display:none (it is still safe to use offsets if a parent element is
    // hidden; don safety goggles and see bug #4512 for more information).
    div.innerHTML = "<table><tr><td></td><td>t</td></tr></table>";
    contents = div.getElementsByTagName( "td" );
    contents[ 0 ].style.cssText = "margin:0;border:0;padding:0;display:none";
    reliableHiddenOffsetsVal = contents[ 0 ].offsetHeight === 0;
    if ( reliableHiddenOffsetsVal ) {
      contents[ 0 ].style.display = "";
      contents[ 1 ].style.display = "none";
      reliableHiddenOffsetsVal = contents[ 0 ].offsetHeight === 0;
    }

    body.removeChild( container );
  }

})();


// A method for quickly swapping in/out CSS properties to get correct calculations.
jQuery.swap = function( elem, options, callback, args ) {
  var ret, name,
    old = {};

  // Remember the old values, and insert the new ones
  for ( name in options ) {
    old[ name ] = elem.style[ name ];
    elem.style[ name ] = options[ name ];
  }

  ret = callback.apply( elem, args || [] );

  // Revert the old values
  for ( name in options ) {
    elem.style[ name ] = old[ name ];
  }

  return ret;
};


var
    ralpha = /alpha\([^)]*\)/i,
  ropacity = /opacity\s*=\s*([^)]*)/,

  // swappable if display is none or starts with table except "table", "table-cell", or "table-caption"
  // see here for display values: https://developer.mozilla.org/en-US/docs/CSS/display
  rdisplayswap = /^(none|table(?!-c[ea]).+)/,
  rnumsplit = new RegExp( "^(" + pnum + ")(.*)$", "i" ),
  rrelNum = new RegExp( "^([+-])=(" + pnum + ")", "i" ),

  cssShow = { position: "absolute", visibility: "hidden", display: "block" },
  cssNormalTransform = {
    letterSpacing: "0",
    fontWeight: "400"
  },

  cssPrefixes = [ "Webkit", "O", "Moz", "ms" ];


// return a css property mapped to a potentially vendor prefixed property
function vendorPropName( style, name ) {

  // shortcut for names that are not vendor prefixed
  if ( name in style ) {
    return name;
  }

  // check for vendor prefixed names
  var capName = name.charAt(0).toUpperCase() + name.slice(1),
    origName = name,
    i = cssPrefixes.length;

  while ( i-- ) {
    name = cssPrefixes[ i ] + capName;
    if ( name in style ) {
      return name;
    }
  }

  return origName;
}

function showHide( elements, show ) {
  var display, elem, hidden,
    values = [],
    index = 0,
    length = elements.length;

  for ( ; index < length; index++ ) {
    elem = elements[ index ];
    if ( !elem.style ) {
      continue;
    }

    values[ index ] = jQuery._data( elem, "olddisplay" );
    display = elem.style.display;
    if ( show ) {
      // Reset the inline display of this element to learn if it is
      // being hidden by cascaded rules or not
      if ( !values[ index ] && display === "none" ) {
        elem.style.display = "";
      }

      // Set elements which have been overridden with display: none
      // in a stylesheet to whatever the default browser style is
      // for such an element
      if ( elem.style.display === "" && isHidden( elem ) ) {
        values[ index ] = jQuery._data( elem, "olddisplay", defaultDisplay(elem.nodeName) );
      }
    } else {
      hidden = isHidden( elem );

      if ( display && display !== "none" || !hidden ) {
        jQuery._data( elem, "olddisplay", hidden ? display : jQuery.css( elem, "display" ) );
      }
    }
  }

  // Set the display of most of the elements in a second loop
  // to avoid the constant reflow
  for ( index = 0; index < length; index++ ) {
    elem = elements[ index ];
    if ( !elem.style ) {
      continue;
    }
    if ( !show || elem.style.display === "none" || elem.style.display === "" ) {
      elem.style.display = show ? values[ index ] || "" : "none";
    }
  }

  return elements;
}

function setPositiveNumber( elem, value, subtract ) {
  var matches = rnumsplit.exec( value );
  return matches ?
    // Guard against undefined "subtract", e.g., when used as in cssHooks
    Math.max( 0, matches[ 1 ] - ( subtract || 0 ) ) + ( matches[ 2 ] || "px" ) :
    value;
}

function augmentWidthOrHeight( elem, name, extra, isBorderBox, styles ) {
  var i = extra === ( isBorderBox ? "border" : "content" ) ?
    // If we already have the right measurement, avoid augmentation
    4 :
    // Otherwise initialize for horizontal or vertical properties
    name === "width" ? 1 : 0,

    val = 0;

  for ( ; i < 4; i += 2 ) {
    // both box models exclude margin, so add it if we want it
    if ( extra === "margin" ) {
      val += jQuery.css( elem, extra + cssExpand[ i ], true, styles );
    }

    if ( isBorderBox ) {
      // border-box includes padding, so remove it if we want content
      if ( extra === "content" ) {
        val -= jQuery.css( elem, "padding" + cssExpand[ i ], true, styles );
      }

      // at this point, extra isn't border nor margin, so remove border
      if ( extra !== "margin" ) {
        val -= jQuery.css( elem, "border" + cssExpand[ i ] + "Width", true, styles );
      }
    } else {
      // at this point, extra isn't content, so add padding
      val += jQuery.css( elem, "padding" + cssExpand[ i ], true, styles );

      // at this point, extra isn't content nor padding, so add border
      if ( extra !== "padding" ) {
        val += jQuery.css( elem, "border" + cssExpand[ i ] + "Width", true, styles );
      }
    }
  }

  return val;
}

function getWidthOrHeight( elem, name, extra ) {

  // Start with offset property, which is equivalent to the border-box value
  var valueIsBorderBox = true,
    val = name === "width" ? elem.offsetWidth : elem.offsetHeight,
    styles = getStyles( elem ),
    isBorderBox = support.boxSizing && jQuery.css( elem, "boxSizing", false, styles ) === "border-box";

  // some non-html elements return undefined for offsetWidth, so check for null/undefined
  // svg - https://bugzilla.mozilla.org/show_bug.cgi?id=649285
  // MathML - https://bugzilla.mozilla.org/show_bug.cgi?id=491668
  if ( val <= 0 || val == null ) {
    // Fall back to computed then uncomputed css if necessary
    val = curCSS( elem, name, styles );
    if ( val < 0 || val == null ) {
      val = elem.style[ name ];
    }

    // Computed unit is not pixels. Stop here and return.
    if ( rnumnonpx.test(val) ) {
      return val;
    }

    // we need the check for style in case a browser which returns unreliable values
    // for getComputedStyle silently falls back to the reliable elem.style
    valueIsBorderBox = isBorderBox && ( support.boxSizingReliable() || val === elem.style[ name ] );

    // Normalize "", auto, and prepare for extra
    val = parseFloat( val ) || 0;
  }

  // use the active box-sizing model to add/subtract irrelevant styles
  return ( val +
    augmentWidthOrHeight(
      elem,
      name,
      extra || ( isBorderBox ? "border" : "content" ),
      valueIsBorderBox,
      styles
    )
  ) + "px";
}

jQuery.extend({
  // Add in style property hooks for overriding the default
  // behavior of getting and setting a style property
  cssHooks: {
    opacity: {
      get: function( elem, computed ) {
        if ( computed ) {
          // We should always get a number back from opacity
          var ret = curCSS( elem, "opacity" );
          return ret === "" ? "1" : ret;
        }
      }
    }
  },

  // Don't automatically add "px" to these possibly-unitless properties
  cssNumber: {
    "columnCount": true,
    "fillOpacity": true,
    "flexGrow": true,
    "flexShrink": true,
    "fontWeight": true,
    "lineHeight": true,
    "opacity": true,
    "order": true,
    "orphans": true,
    "widows": true,
    "zIndex": true,
    "zoom": true
  },

  // Add in properties whose names you wish to fix before
  // setting or getting the value
  cssProps: {
    // normalize float css property
    "float": support.cssFloat ? "cssFloat" : "styleFloat"
  },

  // Get and set the style property on a DOM Node
  style: function( elem, name, value, extra ) {
    // Don't set styles on text and comment nodes
    if ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {
      return;
    }

    // Make sure that we're working with the right name
    var ret, type, hooks,
      origName = jQuery.camelCase( name ),
      style = elem.style;

    name = jQuery.cssProps[ origName ] || ( jQuery.cssProps[ origName ] = vendorPropName( style, origName ) );

    // gets hook for the prefixed version
    // followed by the unprefixed version
    hooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];

    // Check if we're setting a value
    if ( value !== undefined ) {
      type = typeof value;

      // convert relative number strings (+= or -=) to relative numbers. #7345
      if ( type === "string" && (ret = rrelNum.exec( value )) ) {
        value = ( ret[1] + 1 ) * ret[2] + parseFloat( jQuery.css( elem, name ) );
        // Fixes bug #9237
        type = "number";
      }

      // Make sure that null and NaN values aren't set. See: #7116
      if ( value == null || value !== value ) {
        return;
      }

      // If a number was passed in, add 'px' to the (except for certain CSS properties)
      if ( type === "number" && !jQuery.cssNumber[ origName ] ) {
        value += "px";
      }

      // Fixes #8908, it can be done more correctly by specifing setters in cssHooks,
      // but it would mean to define eight (for every problematic property) identical functions
      if ( !support.clearCloneStyle && value === "" && name.indexOf("background") === 0 ) {
        style[ name ] = "inherit";
      }

      // If a hook was provided, use that value, otherwise just set the specified value
      if ( !hooks || !("set" in hooks) || (value = hooks.set( elem, value, extra )) !== undefined ) {

        // Support: IE
        // Swallow errors from 'invalid' CSS values (#5509)
        try {
          style[ name ] = value;
        } catch(e) {}
      }

    } else {
      // If a hook was provided get the non-computed value from there
      if ( hooks && "get" in hooks && (ret = hooks.get( elem, false, extra )) !== undefined ) {
        return ret;
      }

      // Otherwise just get the value from the style object
      return style[ name ];
    }
  },

  css: function( elem, name, extra, styles ) {
    var num, val, hooks,
      origName = jQuery.camelCase( name );

    // Make sure that we're working with the right name
    name = jQuery.cssProps[ origName ] || ( jQuery.cssProps[ origName ] = vendorPropName( elem.style, origName ) );

    // gets hook for the prefixed version
    // followed by the unprefixed version
    hooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];

    // If a hook was provided get the computed value from there
    if ( hooks && "get" in hooks ) {
      val = hooks.get( elem, true, extra );
    }

    // Otherwise, if a way to get the computed value exists, use that
    if ( val === undefined ) {
      val = curCSS( elem, name, styles );
    }

    //convert "normal" to computed value
    if ( val === "normal" && name in cssNormalTransform ) {
      val = cssNormalTransform[ name ];
    }

    // Return, converting to number if forced or a qualifier was provided and val looks numeric
    if ( extra === "" || extra ) {
      num = parseFloat( val );
      return extra === true || jQuery.isNumeric( num ) ? num || 0 : val;
    }
    return val;
  }
});

jQuery.each([ "height", "width" ], function( i, name ) {
  jQuery.cssHooks[ name ] = {
    get: function( elem, computed, extra ) {
      if ( computed ) {
        // certain elements can have dimension info if we invisibly show them
        // however, it must have a current display style that would benefit from this
        return rdisplayswap.test( jQuery.css( elem, "display" ) ) && elem.offsetWidth === 0 ?
          jQuery.swap( elem, cssShow, function() {
            return getWidthOrHeight( elem, name, extra );
          }) :
          getWidthOrHeight( elem, name, extra );
      }
    },

    set: function( elem, value, extra ) {
      var styles = extra && getStyles( elem );
      return setPositiveNumber( elem, value, extra ?
        augmentWidthOrHeight(
          elem,
          name,
          extra,
          support.boxSizing && jQuery.css( elem, "boxSizing", false, styles ) === "border-box",
          styles
        ) : 0
      );
    }
  };
});

if ( !support.opacity ) {
  jQuery.cssHooks.opacity = {
    get: function( elem, computed ) {
      // IE uses filters for opacity
      return ropacity.test( (computed && elem.currentStyle ? elem.currentStyle.filter : elem.style.filter) || "" ) ?
        ( 0.01 * parseFloat( RegExp.$1 ) ) + "" :
        computed ? "1" : "";
    },

    set: function( elem, value ) {
      var style = elem.style,
        currentStyle = elem.currentStyle,
        opacity = jQuery.isNumeric( value ) ? "alpha(opacity=" + value * 100 + ")" : "",
        filter = currentStyle && currentStyle.filter || style.filter || "";

      // IE has trouble with opacity if it does not have layout
      // Force it by setting the zoom level
      style.zoom = 1;

      // if setting opacity to 1, and no other filters exist - attempt to remove filter attribute #6652
      // if value === "", then remove inline opacity #12685
      if ( ( value >= 1 || value === "" ) &&
          jQuery.trim( filter.replace( ralpha, "" ) ) === "" &&
          style.removeAttribute ) {

        // Setting style.filter to null, "" & " " still leave "filter:" in the cssText
        // if "filter:" is present at all, clearType is disabled, we want to avoid this
        // style.removeAttribute is IE Only, but so apparently is this code path...
        style.removeAttribute( "filter" );

        // if there is no filter style applied in a css rule or unset inline opacity, we are done
        if ( value === "" || currentStyle && !currentStyle.filter ) {
          return;
        }
      }

      // otherwise, set new filter values
      style.filter = ralpha.test( filter ) ?
        filter.replace( ralpha, opacity ) :
        filter + " " + opacity;
    }
  };
}

jQuery.cssHooks.marginRight = addGetHookIf( support.reliableMarginRight,
  function( elem, computed ) {
    if ( computed ) {
      // WebKit Bug 13343 - getComputedStyle returns wrong value for margin-right
      // Work around by temporarily setting element display to inline-block
      return jQuery.swap( elem, { "display": "inline-block" },
        curCSS, [ elem, "marginRight" ] );
    }
  }
);

// These hooks are used by animate to expand properties
jQuery.each({
  margin: "",
  padding: "",
  border: "Width"
}, function( prefix, suffix ) {
  jQuery.cssHooks[ prefix + suffix ] = {
    expand: function( value ) {
      var i = 0,
        expanded = {},

        // assumes a single number if not a string
        parts = typeof value === "string" ? value.split(" ") : [ value ];

      for ( ; i < 4; i++ ) {
        expanded[ prefix + cssExpand[ i ] + suffix ] =
          parts[ i ] || parts[ i - 2 ] || parts[ 0 ];
      }

      return expanded;
    }
  };

  if ( !rmargin.test( prefix ) ) {
    jQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;
  }
});

jQuery.fn.extend({
  css: function( name, value ) {
    return access( this, function( elem, name, value ) {
      var styles, len,
        map = {},
        i = 0;

      if ( jQuery.isArray( name ) ) {
        styles = getStyles( elem );
        len = name.length;

        for ( ; i < len; i++ ) {
          map[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );
        }

        return map;
      }

      return value !== undefined ?
        jQuery.style( elem, name, value ) :
        jQuery.css( elem, name );
    }, name, value, arguments.length > 1 );
  },
  show: function() {
    return showHide( this, true );
  },
  hide: function() {
    return showHide( this );
  },
  toggle: function( state ) {
    if ( typeof state === "boolean" ) {
      return state ? this.show() : this.hide();
    }

    return this.each(function() {
      if ( isHidden( this ) ) {
        jQuery( this ).show();
      } else {
        jQuery( this ).hide();
      }
    });
  }
});


function Tween( elem, options, prop, end, easing ) {
  return new Tween.prototype.init( elem, options, prop, end, easing );
}
jQuery.Tween = Tween;

Tween.prototype = {
  constructor: Tween,
  init: function( elem, options, prop, end, easing, unit ) {
    this.elem = elem;
    this.prop = prop;
    this.easing = easing || "swing";
    this.options = options;
    this.start = this.now = this.cur();
    this.end = end;
    this.unit = unit || ( jQuery.cssNumber[ prop ] ? "" : "px" );
  },
  cur: function() {
    var hooks = Tween.propHooks[ this.prop ];

    return hooks && hooks.get ?
      hooks.get( this ) :
      Tween.propHooks._default.get( this );
  },
  run: function( percent ) {
    var eased,
      hooks = Tween.propHooks[ this.prop ];

    if ( this.options.duration ) {
      this.pos = eased = jQuery.easing[ this.easing ](
        percent, this.options.duration * percent, 0, 1, this.options.duration
      );
    } else {
      this.pos = eased = percent;
    }
    this.now = ( this.end - this.start ) * eased + this.start;

    if ( this.options.step ) {
      this.options.step.call( this.elem, this.now, this );
    }

    if ( hooks && hooks.set ) {
      hooks.set( this );
    } else {
      Tween.propHooks._default.set( this );
    }
    return this;
  }
};

Tween.prototype.init.prototype = Tween.prototype;

Tween.propHooks = {
  _default: {
    get: function( tween ) {
      var result;

      if ( tween.elem[ tween.prop ] != null &&
        (!tween.elem.style || tween.elem.style[ tween.prop ] == null) ) {
        return tween.elem[ tween.prop ];
      }

      // passing an empty string as a 3rd parameter to .css will automatically
      // attempt a parseFloat and fallback to a string if the parse fails
      // so, simple values such as "10px" are parsed to Float.
      // complex values such as "rotate(1rad)" are returned as is.
      result = jQuery.css( tween.elem, tween.prop, "" );
      // Empty strings, null, undefined and "auto" are converted to 0.
      return !result || result === "auto" ? 0 : result;
    },
    set: function( tween ) {
      // use step hook for back compat - use cssHook if its there - use .style if its
      // available and use plain properties where available
      if ( jQuery.fx.step[ tween.prop ] ) {
        jQuery.fx.step[ tween.prop ]( tween );
      } else if ( tween.elem.style && ( tween.elem.style[ jQuery.cssProps[ tween.prop ] ] != null || jQuery.cssHooks[ tween.prop ] ) ) {
        jQuery.style( tween.elem, tween.prop, tween.now + tween.unit );
      } else {
        tween.elem[ tween.prop ] = tween.now;
      }
    }
  }
};

// Support: IE <=9
// Panic based approach to setting things on disconnected nodes

Tween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {
  set: function( tween ) {
    if ( tween.elem.nodeType && tween.elem.parentNode ) {
      tween.elem[ tween.prop ] = tween.now;
    }
  }
};

jQuery.easing = {
  linear: function( p ) {
    return p;
  },
  swing: function( p ) {
    return 0.5 - Math.cos( p * Math.PI ) / 2;
  }
};

jQuery.fx = Tween.prototype.init;

// Back Compat <1.8 extension point
jQuery.fx.step = {};




var
  fxNow, timerId,
  rfxtypes = /^(?:toggle|show|hide)$/,
  rfxnum = new RegExp( "^(?:([+-])=|)(" + pnum + ")([a-z%]*)$", "i" ),
  rrun = /queueHooks$/,
  animationPrefilters = [ defaultPrefilter ],
  tweeners = {
    "*": [ function( prop, value ) {
      var tween = this.createTween( prop, value ),
        target = tween.cur(),
        parts = rfxnum.exec( value ),
        unit = parts && parts[ 3 ] || ( jQuery.cssNumber[ prop ] ? "" : "px" ),

        // Starting value computation is required for potential unit mismatches
        start = ( jQuery.cssNumber[ prop ] || unit !== "px" && +target ) &&
          rfxnum.exec( jQuery.css( tween.elem, prop ) ),
        scale = 1,
        maxIterations = 20;

      if ( start && start[ 3 ] !== unit ) {
        // Trust units reported by jQuery.css
        unit = unit || start[ 3 ];

        // Make sure we update the tween properties later on
        parts = parts || [];

        // Iteratively approximate from a nonzero starting point
        start = +target || 1;

        do {
          // If previous iteration zeroed out, double until we get *something*
          // Use a string for doubling factor so we don't accidentally see scale as unchanged below
          scale = scale || ".5";

          // Adjust and apply
          start = start / scale;
          jQuery.style( tween.elem, prop, start + unit );

        // Update scale, tolerating zero or NaN from tween.cur()
        // And breaking the loop if scale is unchanged or perfect, or if we've just had enough
        } while ( scale !== (scale = tween.cur() / target) && scale !== 1 && --maxIterations );
      }

      // Update tween properties
      if ( parts ) {
        start = tween.start = +start || +target || 0;
        tween.unit = unit;
        // If a +=/-= token was provided, we're doing a relative animation
        tween.end = parts[ 1 ] ?
          start + ( parts[ 1 ] + 1 ) * parts[ 2 ] :
          +parts[ 2 ];
      }

      return tween;
    } ]
  };

// Animations created synchronously will run synchronously
function createFxNow() {
  setTimeout(function() {
    fxNow = undefined;
  });
  return ( fxNow = jQuery.now() );
}

// Generate parameters to create a standard animation
function genFx( type, includeWidth ) {
  var which,
    attrs = { height: type },
    i = 0;

  // if we include width, step value is 1 to do all cssExpand values,
  // if we don't include width, step value is 2 to skip over Left and Right
  includeWidth = includeWidth ? 1 : 0;
  for ( ; i < 4 ; i += 2 - includeWidth ) {
    which = cssExpand[ i ];
    attrs[ "margin" + which ] = attrs[ "padding" + which ] = type;
  }

  if ( includeWidth ) {
    attrs.opacity = attrs.width = type;
  }

  return attrs;
}

function createTween( value, prop, animation ) {
  var tween,
    collection = ( tweeners[ prop ] || [] ).concat( tweeners[ "*" ] ),
    index = 0,
    length = collection.length;
  for ( ; index < length; index++ ) {
    if ( (tween = collection[ index ].call( animation, prop, value )) ) {

      // we're done with this property
      return tween;
    }
  }
}

function defaultPrefilter( elem, props, opts ) {
  /* jshint validthis: true */
  var prop, value, toggle, tween, hooks, oldfire, display, checkDisplay,
    anim = this,
    orig = {},
    style = elem.style,
    hidden = elem.nodeType && isHidden( elem ),
    dataShow = jQuery._data( elem, "fxshow" );

  // handle queue: false promises
  if ( !opts.queue ) {
    hooks = jQuery._queueHooks( elem, "fx" );
    if ( hooks.unqueued == null ) {
      hooks.unqueued = 0;
      oldfire = hooks.empty.fire;
      hooks.empty.fire = function() {
        if ( !hooks.unqueued ) {
          oldfire();
        }
      };
    }
    hooks.unqueued++;

    anim.always(function() {
      // doing this makes sure that the complete handler will be called
      // before this completes
      anim.always(function() {
        hooks.unqueued--;
        if ( !jQuery.queue( elem, "fx" ).length ) {
          hooks.empty.fire();
        }
      });
    });
  }

  // height/width overflow pass
  if ( elem.nodeType === 1 && ( "height" in props || "width" in props ) ) {
    // Make sure that nothing sneaks out
    // Record all 3 overflow attributes because IE does not
    // change the overflow attribute when overflowX and
    // overflowY are set to the same value
    opts.overflow = [ style.overflow, style.overflowX, style.overflowY ];

    // Set display property to inline-block for height/width
    // animations on inline elements that are having width/height animated
    display = jQuery.css( elem, "display" );

    // Test default display if display is currently "none"
    checkDisplay = display === "none" ?
      jQuery._data( elem, "olddisplay" ) || defaultDisplay( elem.nodeName ) : display;

    if ( checkDisplay === "inline" && jQuery.css( elem, "float" ) === "none" ) {

      // inline-level elements accept inline-block;
      // block-level elements need to be inline with layout
      if ( !support.inlineBlockNeedsLayout || defaultDisplay( elem.nodeName ) === "inline" ) {
        style.display = "inline-block";
      } else {
        style.zoom = 1;
      }
    }
  }

  if ( opts.overflow ) {
    style.overflow = "hidden";
    if ( !support.shrinkWrapBlocks() ) {
      anim.always(function() {
        style.overflow = opts.overflow[ 0 ];
        style.overflowX = opts.overflow[ 1 ];
        style.overflowY = opts.overflow[ 2 ];
      });
    }
  }

  // show/hide pass
  for ( prop in props ) {
    value = props[ prop ];
    if ( rfxtypes.exec( value ) ) {
      delete props[ prop ];
      toggle = toggle || value === "toggle";
      if ( value === ( hidden ? "hide" : "show" ) ) {

        // If there is dataShow left over from a stopped hide or show and we are going to proceed with show, we should pretend to be hidden
        if ( value === "show" && dataShow && dataShow[ prop ] !== undefined ) {
          hidden = true;
        } else {
          continue;
        }
      }
      orig[ prop ] = dataShow && dataShow[ prop ] || jQuery.style( elem, prop );

    // Any non-fx value stops us from restoring the original display value
    } else {
      display = undefined;
    }
  }

  if ( !jQuery.isEmptyObject( orig ) ) {
    if ( dataShow ) {
      if ( "hidden" in dataShow ) {
        hidden = dataShow.hidden;
      }
    } else {
      dataShow = jQuery._data( elem, "fxshow", {} );
    }

    // store state if its toggle - enables .stop().toggle() to "reverse"
    if ( toggle ) {
      dataShow.hidden = !hidden;
    }
    if ( hidden ) {
      jQuery( elem ).show();
    } else {
      anim.done(function() {
        jQuery( elem ).hide();
      });
    }
    anim.done(function() {
      var prop;
      jQuery._removeData( elem, "fxshow" );
      for ( prop in orig ) {
        jQuery.style( elem, prop, orig[ prop ] );
      }
    });
    for ( prop in orig ) {
      tween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim );

      if ( !( prop in dataShow ) ) {
        dataShow[ prop ] = tween.start;
        if ( hidden ) {
          tween.end = tween.start;
          tween.start = prop === "width" || prop === "height" ? 1 : 0;
        }
      }
    }

  // If this is a noop like .hide().hide(), restore an overwritten display value
  } else if ( (display === "none" ? defaultDisplay( elem.nodeName ) : display) === "inline" ) {
    style.display = display;
  }
}

function propFilter( props, specialEasing ) {
  var index, name, easing, value, hooks;

  // camelCase, specialEasing and expand cssHook pass
  for ( index in props ) {
    name = jQuery.camelCase( index );
    easing = specialEasing[ name ];
    value = props[ index ];
    if ( jQuery.isArray( value ) ) {
      easing = value[ 1 ];
      value = props[ index ] = value[ 0 ];
    }

    if ( index !== name ) {
      props[ name ] = value;
      delete props[ index ];
    }

    hooks = jQuery.cssHooks[ name ];
    if ( hooks && "expand" in hooks ) {
      value = hooks.expand( value );
      delete props[ name ];

      // not quite $.extend, this wont overwrite keys already present.
      // also - reusing 'index' from above because we have the correct "name"
      for ( index in value ) {
        if ( !( index in props ) ) {
          props[ index ] = value[ index ];
          specialEasing[ index ] = easing;
        }
      }
    } else {
      specialEasing[ name ] = easing;
    }
  }
}

function Animation( elem, properties, options ) {
  var result,
    stopped,
    index = 0,
    length = animationPrefilters.length,
    deferred = jQuery.Deferred().always( function() {
      // don't match elem in the :animated selector
      delete tick.elem;
    }),
    tick = function() {
      if ( stopped ) {
        return false;
      }
      var currentTime = fxNow || createFxNow(),
        remaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),
        // archaic crash bug won't allow us to use 1 - ( 0.5 || 0 ) (#12497)
        temp = remaining / animation.duration || 0,
        percent = 1 - temp,
        index = 0,
        length = animation.tweens.length;

      for ( ; index < length ; index++ ) {
        animation.tweens[ index ].run( percent );
      }

      deferred.notifyWith( elem, [ animation, percent, remaining ]);

      if ( percent < 1 && length ) {
        return remaining;
      } else {
        deferred.resolveWith( elem, [ animation ] );
        return false;
      }
    },
    animation = deferred.promise({
      elem: elem,
      props: jQuery.extend( {}, properties ),
      opts: jQuery.extend( true, { specialEasing: {} }, options ),
      originalProperties: properties,
      originalOptions: options,
      startTime: fxNow || createFxNow(),
      duration: options.duration,
      tweens: [],
      createTween: function( prop, end ) {
        var tween = jQuery.Tween( elem, animation.opts, prop, end,
            animation.opts.specialEasing[ prop ] || animation.opts.easing );
        animation.tweens.push( tween );
        return tween;
      },
      stop: function( gotoEnd ) {
        var index = 0,
          // if we are going to the end, we want to run all the tweens
          // otherwise we skip this part
          length = gotoEnd ? animation.tweens.length : 0;
        if ( stopped ) {
          return this;
        }
        stopped = true;
        for ( ; index < length ; index++ ) {
          animation.tweens[ index ].run( 1 );
        }

        // resolve when we played the last frame
        // otherwise, reject
        if ( gotoEnd ) {
          deferred.resolveWith( elem, [ animation, gotoEnd ] );
        } else {
          deferred.rejectWith( elem, [ animation, gotoEnd ] );
        }
        return this;
      }
    }),
    props = animation.props;

  propFilter( props, animation.opts.specialEasing );

  for ( ; index < length ; index++ ) {
    result = animationPrefilters[ index ].call( animation, elem, props, animation.opts );
    if ( result ) {
      return result;
    }
  }

  jQuery.map( props, createTween, animation );

  if ( jQuery.isFunction( animation.opts.start ) ) {
    animation.opts.start.call( elem, animation );
  }

  jQuery.fx.timer(
    jQuery.extend( tick, {
      elem: elem,
      anim: animation,
      queue: animation.opts.queue
    })
  );

  // attach callbacks from options
  return animation.progress( animation.opts.progress )
    .done( animation.opts.done, animation.opts.complete )
    .fail( animation.opts.fail )
    .always( animation.opts.always );
}

jQuery.Animation = jQuery.extend( Animation, {
  tweener: function( props, callback ) {
    if ( jQuery.isFunction( props ) ) {
      callback = props;
      props = [ "*" ];
    } else {
      props = props.split(" ");
    }

    var prop,
      index = 0,
      length = props.length;

    for ( ; index < length ; index++ ) {
      prop = props[ index ];
      tweeners[ prop ] = tweeners[ prop ] || [];
      tweeners[ prop ].unshift( callback );
    }
  },

  prefilter: function( callback, prepend ) {
    if ( prepend ) {
      animationPrefilters.unshift( callback );
    } else {
      animationPrefilters.push( callback );
    }
  }
});

jQuery.speed = function( speed, easing, fn ) {
  var opt = speed && typeof speed === "object" ? jQuery.extend( {}, speed ) : {
    complete: fn || !fn && easing ||
      jQuery.isFunction( speed ) && speed,
    duration: speed,
    easing: fn && easing || easing && !jQuery.isFunction( easing ) && easing
  };

  opt.duration = jQuery.fx.off ? 0 : typeof opt.duration === "number" ? opt.duration :
    opt.duration in jQuery.fx.speeds ? jQuery.fx.speeds[ opt.duration ] : jQuery.fx.speeds._default;

  // normalize opt.queue - true/undefined/null -> "fx"
  if ( opt.queue == null || opt.queue === true ) {
    opt.queue = "fx";
  }

  // Queueing
  opt.old = opt.complete;

  opt.complete = function() {
    if ( jQuery.isFunction( opt.old ) ) {
      opt.old.call( this );
    }

    if ( opt.queue ) {
      jQuery.dequeue( this, opt.queue );
    }
  };

  return opt;
};

jQuery.fn.extend({
  fadeTo: function( speed, to, easing, callback ) {

    // show any hidden elements after setting opacity to 0
    return this.filter( isHidden ).css( "opacity", 0 ).show()

      // animate to the value specified
      .end().animate({ opacity: to }, speed, easing, callback );
  },
  animate: function( prop, speed, easing, callback ) {
    var empty = jQuery.isEmptyObject( prop ),
      optall = jQuery.speed( speed, easing, callback ),
      doAnimation = function() {
        // Operate on a copy of prop so per-property easing won't be lost
        var anim = Animation( this, jQuery.extend( {}, prop ), optall );

        // Empty animations, or finishing resolves immediately
        if ( empty || jQuery._data( this, "finish" ) ) {
          anim.stop( true );
        }
      };
      doAnimation.finish = doAnimation;

    return empty || optall.queue === false ?
      this.each( doAnimation ) :
      this.queue( optall.queue, doAnimation );
  },
  stop: function( type, clearQueue, gotoEnd ) {
    var stopQueue = function( hooks ) {
      var stop = hooks.stop;
      delete hooks.stop;
      stop( gotoEnd );
    };

    if ( typeof type !== "string" ) {
      gotoEnd = clearQueue;
      clearQueue = type;
      type = undefined;
    }
    if ( clearQueue && type !== false ) {
      this.queue( type || "fx", [] );
    }

    return this.each(function() {
      var dequeue = true,
        index = type != null && type + "queueHooks",
        timers = jQuery.timers,
        data = jQuery._data( this );

      if ( index ) {
        if ( data[ index ] && data[ index ].stop ) {
          stopQueue( data[ index ] );
        }
      } else {
        for ( index in data ) {
          if ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {
            stopQueue( data[ index ] );
          }
        }
      }

      for ( index = timers.length; index--; ) {
        if ( timers[ index ].elem === this && (type == null || timers[ index ].queue === type) ) {
          timers[ index ].anim.stop( gotoEnd );
          dequeue = false;
          timers.splice( index, 1 );
        }
      }

      // start the next in the queue if the last step wasn't forced
      // timers currently will call their complete callbacks, which will dequeue
      // but only if they were gotoEnd
      if ( dequeue || !gotoEnd ) {
        jQuery.dequeue( this, type );
      }
    });
  },
  finish: function( type ) {
    if ( type !== false ) {
      type = type || "fx";
    }
    return this.each(function() {
      var index,
        data = jQuery._data( this ),
        queue = data[ type + "queue" ],
        hooks = data[ type + "queueHooks" ],
        timers = jQuery.timers,
        length = queue ? queue.length : 0;

      // enable finishing flag on private data
      data.finish = true;

      // empty the queue first
      jQuery.queue( this, type, [] );

      if ( hooks && hooks.stop ) {
        hooks.stop.call( this, true );
      }

      // look for any active animations, and finish them
      for ( index = timers.length; index--; ) {
        if ( timers[ index ].elem === this && timers[ index ].queue === type ) {
          timers[ index ].anim.stop( true );
          timers.splice( index, 1 );
        }
      }

      // look for any animations in the old queue and finish them
      for ( index = 0; index < length; index++ ) {
        if ( queue[ index ] && queue[ index ].finish ) {
          queue[ index ].finish.call( this );
        }
      }

      // turn off finishing flag
      delete data.finish;
    });
  }
});

jQuery.each([ "toggle", "show", "hide" ], function( i, name ) {
  var cssFn = jQuery.fn[ name ];
  jQuery.fn[ name ] = function( speed, easing, callback ) {
    return speed == null || typeof speed === "boolean" ?
      cssFn.apply( this, arguments ) :
      this.animate( genFx( name, true ), speed, easing, callback );
  };
});

// Generate shortcuts for custom animations
jQuery.each({
  slideDown: genFx("show"),
  slideUp: genFx("hide"),
  slideToggle: genFx("toggle"),
  fadeIn: { opacity: "show" },
  fadeOut: { opacity: "hide" },
  fadeToggle: { opacity: "toggle" }
}, function( name, props ) {
  jQuery.fn[ name ] = function( speed, easing, callback ) {
    return this.animate( props, speed, easing, callback );
  };
});

jQuery.timers = [];
jQuery.fx.tick = function() {
  var timer,
    timers = jQuery.timers,
    i = 0;

  fxNow = jQuery.now();

  for ( ; i < timers.length; i++ ) {
    timer = timers[ i ];
    // Checks the timer has not already been removed
    if ( !timer() && timers[ i ] === timer ) {
      timers.splice( i--, 1 );
    }
  }

  if ( !timers.length ) {
    jQuery.fx.stop();
  }
  fxNow = undefined;
};

jQuery.fx.timer = function( timer ) {
  jQuery.timers.push( timer );
  if ( timer() ) {
    jQuery.fx.start();
  } else {
    jQuery.timers.pop();
  }
};

jQuery.fx.interval = 13;

jQuery.fx.start = function() {
  if ( !timerId ) {
    timerId = setInterval( jQuery.fx.tick, jQuery.fx.interval );
  }
};

jQuery.fx.stop = function() {
  clearInterval( timerId );
  timerId = null;
};

jQuery.fx.speeds = {
  slow: 600,
  fast: 200,
  // Default speed
  _default: 400
};


// Based off of the plugin by Clint Helfers, with permission.
// http://blindsignals.com/index.php/2009/07/jquery-delay/
jQuery.fn.delay = function( time, type ) {
  time = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;
  type = type || "fx";

  return this.queue( type, function( next, hooks ) {
    var timeout = setTimeout( next, time );
    hooks.stop = function() {
      clearTimeout( timeout );
    };
  });
};


(function() {
  // Minified: var a,b,c,d,e
  var input, div, select, a, opt;

  // Setup
  div = document.createElement( "div" );
  div.setAttribute( "className", "t" );
  div.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";
  a = div.getElementsByTagName("a")[ 0 ];

  // First batch of tests.
  select = document.createElement("select");
  opt = select.appendChild( document.createElement("option") );
  input = div.getElementsByTagName("input")[ 0 ];

  a.style.cssText = "top:1px";

  // Test setAttribute on camelCase class. If it works, we need attrFixes when doing get/setAttribute (ie6/7)
  support.getSetAttribute = div.className !== "t";

  // Get the style information from getAttribute
  // (IE uses .cssText instead)
  support.style = /top/.test( a.getAttribute("style") );

  // Make sure that URLs aren't manipulated
  // (IE normalizes it by default)
  support.hrefNormalized = a.getAttribute("href") === "/a";

  // Check the default checkbox/radio value ("" on WebKit; "on" elsewhere)
  support.checkOn = !!input.value;

  // Make sure that a selected-by-default option has a working selected property.
  // (WebKit defaults to false instead of true, IE too, if it's in an optgroup)
  support.optSelected = opt.selected;

  // Tests for enctype support on a form (#6743)
  support.enctype = !!document.createElement("form").enctype;

  // Make sure that the options inside disabled selects aren't marked as disabled
  // (WebKit marks them as disabled)
  select.disabled = true;
  support.optDisabled = !opt.disabled;

  // Support: IE8 only
  // Check if we can trust getAttribute("value")
  input = document.createElement( "input" );
  input.setAttribute( "value", "" );
  support.input = input.getAttribute( "value" ) === "";

  // Check if an input maintains its value after becoming a radio
  input.value = "t";
  input.setAttribute( "type", "radio" );
  support.radioValue = input.value === "t";
})();


var rreturn = /\r/g;

jQuery.fn.extend({
  val: function( value ) {
    var hooks, ret, isFunction,
      elem = this[0];

    if ( !arguments.length ) {
      if ( elem ) {
        hooks = jQuery.valHooks[ elem.type ] || jQuery.valHooks[ elem.nodeName.toLowerCase() ];

        if ( hooks && "get" in hooks && (ret = hooks.get( elem, "value" )) !== undefined ) {
          return ret;
        }

        ret = elem.value;

        return typeof ret === "string" ?
          // handle most common string cases
          ret.replace(rreturn, "") :
          // handle cases where value is null/undef or number
          ret == null ? "" : ret;
      }

      return;
    }

    isFunction = jQuery.isFunction( value );

    return this.each(function( i ) {
      var val;

      if ( this.nodeType !== 1 ) {
        return;
      }

      if ( isFunction ) {
        val = value.call( this, i, jQuery( this ).val() );
      } else {
        val = value;
      }

      // Treat null/undefined as ""; convert numbers to string
      if ( val == null ) {
        val = "";
      } else if ( typeof val === "number" ) {
        val += "";
      } else if ( jQuery.isArray( val ) ) {
        val = jQuery.map( val, function( value ) {
          return value == null ? "" : value + "";
        });
      }

      hooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];

      // If set returns undefined, fall back to normal setting
      if ( !hooks || !("set" in hooks) || hooks.set( this, val, "value" ) === undefined ) {
        this.value = val;
      }
    });
  }
});

jQuery.extend({
  valHooks: {
    option: {
      get: function( elem ) {
        var val = jQuery.find.attr( elem, "value" );
        return val != null ?
          val :
          // Support: IE10-11+
          // option.text throws exceptions (#14686, #14858)
          jQuery.trim( jQuery.text( elem ) );
      }
    },
    select: {
      get: function( elem ) {
        var value, option,
          options = elem.options,
          index = elem.selectedIndex,
          one = elem.type === "select-one" || index < 0,
          values = one ? null : [],
          max = one ? index + 1 : options.length,
          i = index < 0 ?
            max :
            one ? index : 0;

        // Loop through all the selected options
        for ( ; i < max; i++ ) {
          option = options[ i ];

          // oldIE doesn't update selected after form reset (#2551)
          if ( ( option.selected || i === index ) &&
              // Don't return options that are disabled or in a disabled optgroup
              ( support.optDisabled ? !option.disabled : option.getAttribute("disabled") === null ) &&
              ( !option.parentNode.disabled || !jQuery.nodeName( option.parentNode, "optgroup" ) ) ) {

            // Get the specific value for the option
            value = jQuery( option ).val();

            // We don't need an array for one selects
            if ( one ) {
              return value;
            }

            // Multi-Selects return an array
            values.push( value );
          }
        }

        return values;
      },

      set: function( elem, value ) {
        var optionSet, option,
          options = elem.options,
          values = jQuery.makeArray( value ),
          i = options.length;

        while ( i-- ) {
          option = options[ i ];

          if ( jQuery.inArray( jQuery.valHooks.option.get( option ), values ) >= 0 ) {

            // Support: IE6
            // When new option element is added to select box we need to
            // force reflow of newly added node in order to workaround delay
            // of initialization properties
            try {
              option.selected = optionSet = true;

            } catch ( _ ) {

              // Will be executed only in IE6
              option.scrollHeight;
            }

          } else {
            option.selected = false;
          }
        }

        // Force browsers to behave consistently when non-matching value is set
        if ( !optionSet ) {
          elem.selectedIndex = -1;
        }

        return options;
      }
    }
  }
});

// Radios and checkboxes getter/setter
jQuery.each([ "radio", "checkbox" ], function() {
  jQuery.valHooks[ this ] = {
    set: function( elem, value ) {
      if ( jQuery.isArray( value ) ) {
        return ( elem.checked = jQuery.inArray( jQuery(elem).val(), value ) >= 0 );
      }
    }
  };
  if ( !support.checkOn ) {
    jQuery.valHooks[ this ].get = function( elem ) {
      // Support: Webkit
      // "" is returned instead of "on" if a value isn't specified
      return elem.getAttribute("value") === null ? "on" : elem.value;
    };
  }
});




var nodeHook, boolHook,
  attrHandle = jQuery.expr.attrHandle,
  ruseDefault = /^(?:checked|selected)$/i,
  getSetAttribute = support.getSetAttribute,
  getSetInput = support.input;

jQuery.fn.extend({
  attr: function( name, value ) {
    return access( this, jQuery.attr, name, value, arguments.length > 1 );
  },

  removeAttr: function( name ) {
    return this.each(function() {
      jQuery.removeAttr( this, name );
    });
  }
});

jQuery.extend({
  attr: function( elem, name, value ) {
    var hooks, ret,
      nType = elem.nodeType;

    // don't get/set attributes on text, comment and attribute nodes
    if ( !elem || nType === 3 || nType === 8 || nType === 2 ) {
      return;
    }

    // Fallback to prop when attributes are not supported
    if ( typeof elem.getAttribute === strundefined ) {
      return jQuery.prop( elem, name, value );
    }

    // All attributes are lowercase
    // Grab necessary hook if one is defined
    if ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {
      name = name.toLowerCase();
      hooks = jQuery.attrHooks[ name ] ||
        ( jQuery.expr.match.bool.test( name ) ? boolHook : nodeHook );
    }

    if ( value !== undefined ) {

      if ( value === null ) {
        jQuery.removeAttr( elem, name );

      } else if ( hooks && "set" in hooks && (ret = hooks.set( elem, value, name )) !== undefined ) {
        return ret;

      } else {
        elem.setAttribute( name, value + "" );
        return value;
      }

    } else if ( hooks && "get" in hooks && (ret = hooks.get( elem, name )) !== null ) {
      return ret;

    } else {
      ret = jQuery.find.attr( elem, name );

      // Non-existent attributes return null, we normalize to undefined
      return ret == null ?
        undefined :
        ret;
    }
  },

  removeAttr: function( elem, value ) {
    var name, propName,
      i = 0,
      attrNames = value && value.match( rnotwhite );

    if ( attrNames && elem.nodeType === 1 ) {
      while ( (name = attrNames[i++]) ) {
        propName = jQuery.propFix[ name ] || name;

        // Boolean attributes get special treatment (#10870)
        if ( jQuery.expr.match.bool.test( name ) ) {
          // Set corresponding property to false
          if ( getSetInput && getSetAttribute || !ruseDefault.test( name ) ) {
            elem[ propName ] = false;
          // Support: IE<9
          // Also clear defaultChecked/defaultSelected (if appropriate)
          } else {
            elem[ jQuery.camelCase( "default-" + name ) ] =
              elem[ propName ] = false;
          }

        // See #9699 for explanation of this approach (setting first, then removal)
        } else {
          jQuery.attr( elem, name, "" );
        }

        elem.removeAttribute( getSetAttribute ? name : propName );
      }
    }
  },

  attrHooks: {
    type: {
      set: function( elem, value ) {
        if ( !support.radioValue && value === "radio" && jQuery.nodeName(elem, "input") ) {
          // Setting the type on a radio button after the value resets the value in IE6-9
          // Reset value to default in case type is set after value during creation
          var val = elem.value;
          elem.setAttribute( "type", value );
          if ( val ) {
            elem.value = val;
          }
          return value;
        }
      }
    }
  }
});

// Hook for boolean attributes
boolHook = {
  set: function( elem, value, name ) {
    if ( value === false ) {
      // Remove boolean attributes when set to false
      jQuery.removeAttr( elem, name );
    } else if ( getSetInput && getSetAttribute || !ruseDefault.test( name ) ) {
      // IE<8 needs the *property* name
      elem.setAttribute( !getSetAttribute && jQuery.propFix[ name ] || name, name );

    // Use defaultChecked and defaultSelected for oldIE
    } else {
      elem[ jQuery.camelCase( "default-" + name ) ] = elem[ name ] = true;
    }

    return name;
  }
};

// Retrieve booleans specially
jQuery.each( jQuery.expr.match.bool.source.match( /\w+/g ), function( i, name ) {

  var getter = attrHandle[ name ] || jQuery.find.attr;

  attrHandle[ name ] = getSetInput && getSetAttribute || !ruseDefault.test( name ) ?
    function( elem, name, isXML ) {
      var ret, handle;
      if ( !isXML ) {
        // Avoid an infinite loop by temporarily removing this function from the getter
        handle = attrHandle[ name ];
        attrHandle[ name ] = ret;
        ret = getter( elem, name, isXML ) != null ?
          name.toLowerCase() :
          null;
        attrHandle[ name ] = handle;
      }
      return ret;
    } :
    function( elem, name, isXML ) {
      if ( !isXML ) {
        return elem[ jQuery.camelCase( "default-" + name ) ] ?
          name.toLowerCase() :
          null;
      }
    };
});

// fix oldIE attroperties
if ( !getSetInput || !getSetAttribute ) {
  jQuery.attrHooks.value = {
    set: function( elem, value, name ) {
      if ( jQuery.nodeName( elem, "input" ) ) {
        // Does not return so that setAttribute is also used
        elem.defaultValue = value;
      } else {
        // Use nodeHook if defined (#1954); otherwise setAttribute is fine
        return nodeHook && nodeHook.set( elem, value, name );
      }
    }
  };
}

// IE6/7 do not support getting/setting some attributes with get/setAttribute
if ( !getSetAttribute ) {

  // Use this for any attribute in IE6/7
  // This fixes almost every IE6/7 issue
  nodeHook = {
    set: function( elem, value, name ) {
      // Set the existing or create a new attribute node
      var ret = elem.getAttributeNode( name );
      if ( !ret ) {
        elem.setAttributeNode(
          (ret = elem.ownerDocument.createAttribute( name ))
        );
      }

      ret.value = value += "";

      // Break association with cloned elements by also using setAttribute (#9646)
      if ( name === "value" || value === elem.getAttribute( name ) ) {
        return value;
      }
    }
  };

  // Some attributes are constructed with empty-string values when not defined
  attrHandle.id = attrHandle.name = attrHandle.coords =
    function( elem, name, isXML ) {
      var ret;
      if ( !isXML ) {
        return (ret = elem.getAttributeNode( name )) && ret.value !== "" ?
          ret.value :
          null;
      }
    };

  // Fixing value retrieval on a button requires this module
  jQuery.valHooks.button = {
    get: function( elem, name ) {
      var ret = elem.getAttributeNode( name );
      if ( ret && ret.specified ) {
        return ret.value;
      }
    },
    set: nodeHook.set
  };

  // Set contenteditable to false on removals(#10429)
  // Setting to empty string throws an error as an invalid value
  jQuery.attrHooks.contenteditable = {
    set: function( elem, value, name ) {
      nodeHook.set( elem, value === "" ? false : value, name );
    }
  };

  // Set width and height to auto instead of 0 on empty string( Bug #8150 )
  // This is for removals
  jQuery.each([ "width", "height" ], function( i, name ) {
    jQuery.attrHooks[ name ] = {
      set: function( elem, value ) {
        if ( value === "" ) {
          elem.setAttribute( name, "auto" );
          return value;
        }
      }
    };
  });
}

if ( !support.style ) {
  jQuery.attrHooks.style = {
    get: function( elem ) {
      // Return undefined in the case of empty string
      // Note: IE uppercases css property names, but if we were to .toLowerCase()
      // .cssText, that would destroy case senstitivity in URL's, like in "background"
      return elem.style.cssText || undefined;
    },
    set: function( elem, value ) {
      return ( elem.style.cssText = value + "" );
    }
  };
}




var rfocusable = /^(?:input|select|textarea|button|object)$/i,
  rclickable = /^(?:a|area)$/i;

jQuery.fn.extend({
  prop: function( name, value ) {
    return access( this, jQuery.prop, name, value, arguments.length > 1 );
  },

  removeProp: function( name ) {
    name = jQuery.propFix[ name ] || name;
    return this.each(function() {
      // try/catch handles cases where IE balks (such as removing a property on window)
      try {
        this[ name ] = undefined;
        delete this[ name ];
      } catch( e ) {}
    });
  }
});

jQuery.extend({
  propFix: {
    "for": "htmlFor",
    "class": "className"
  },

  prop: function( elem, name, value ) {
    var ret, hooks, notxml,
      nType = elem.nodeType;

    // don't get/set properties on text, comment and attribute nodes
    if ( !elem || nType === 3 || nType === 8 || nType === 2 ) {
      return;
    }

    notxml = nType !== 1 || !jQuery.isXMLDoc( elem );

    if ( notxml ) {
      // Fix name and attach hooks
      name = jQuery.propFix[ name ] || name;
      hooks = jQuery.propHooks[ name ];
    }

    if ( value !== undefined ) {
      return hooks && "set" in hooks && (ret = hooks.set( elem, value, name )) !== undefined ?
        ret :
        ( elem[ name ] = value );

    } else {
      return hooks && "get" in hooks && (ret = hooks.get( elem, name )) !== null ?
        ret :
        elem[ name ];
    }
  },

  propHooks: {
    tabIndex: {
      get: function( elem ) {
        // elem.tabIndex doesn't always return the correct value when it hasn't been explicitly set
        // http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/
        // Use proper attribute retrieval(#12072)
        var tabindex = jQuery.find.attr( elem, "tabindex" );

        return tabindex ?
          parseInt( tabindex, 10 ) :
          rfocusable.test( elem.nodeName ) || rclickable.test( elem.nodeName ) && elem.href ?
            0 :
            -1;
      }
    }
  }
});

// Some attributes require a special call on IE
// http://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx
if ( !support.hrefNormalized ) {
  // href/src property should get the full normalized URL (#10299/#12915)
  jQuery.each([ "href", "src" ], function( i, name ) {
    jQuery.propHooks[ name ] = {
      get: function( elem ) {
        return elem.getAttribute( name, 4 );
      }
    };
  });
}

// Support: Safari, IE9+
// mis-reports the default selected property of an option
// Accessing the parent's selectedIndex property fixes it
if ( !support.optSelected ) {
  jQuery.propHooks.selected = {
    get: function( elem ) {
      var parent = elem.parentNode;

      if ( parent ) {
        parent.selectedIndex;

        // Make sure that it also works with optgroups, see #5701
        if ( parent.parentNode ) {
          parent.parentNode.selectedIndex;
        }
      }
      return null;
    }
  };
}

jQuery.each([
  "tabIndex",
  "readOnly",
  "maxLength",
  "cellSpacing",
  "cellPadding",
  "rowSpan",
  "colSpan",
  "useMap",
  "frameBorder",
  "contentEditable"
], function() {
  jQuery.propFix[ this.toLowerCase() ] = this;
});

// IE6/7 call enctype encoding
if ( !support.enctype ) {
  jQuery.propFix.enctype = "encoding";
}




var rclass = /[\t\r\n\f]/g;

jQuery.fn.extend({
  addClass: function( value ) {
    var classes, elem, cur, clazz, j, finalValue,
      i = 0,
      len = this.length,
      proceed = typeof value === "string" && value;

    if ( jQuery.isFunction( value ) ) {
      return this.each(function( j ) {
        jQuery( this ).addClass( value.call( this, j, this.className ) );
      });
    }

    if ( proceed ) {
      // The disjunction here is for better compressibility (see removeClass)
      classes = ( value || "" ).match( rnotwhite ) || [];

      for ( ; i < len; i++ ) {
        elem = this[ i ];
        cur = elem.nodeType === 1 && ( elem.className ?
          ( " " + elem.className + " " ).replace( rclass, " " ) :
          " "
        );

        if ( cur ) {
          j = 0;
          while ( (clazz = classes[j++]) ) {
            if ( cur.indexOf( " " + clazz + " " ) < 0 ) {
              cur += clazz + " ";
            }
          }

          // only assign if different to avoid unneeded rendering.
          finalValue = jQuery.trim( cur );
          if ( elem.className !== finalValue ) {
            elem.className = finalValue;
          }
        }
      }
    }

    return this;
  },

  removeClass: function( value ) {
    var classes, elem, cur, clazz, j, finalValue,
      i = 0,
      len = this.length,
      proceed = arguments.length === 0 || typeof value === "string" && value;

    if ( jQuery.isFunction( value ) ) {
      return this.each(function( j ) {
        jQuery( this ).removeClass( value.call( this, j, this.className ) );
      });
    }
    if ( proceed ) {
      classes = ( value || "" ).match( rnotwhite ) || [];

      for ( ; i < len; i++ ) {
        elem = this[ i ];
        // This expression is here for better compressibility (see addClass)
        cur = elem.nodeType === 1 && ( elem.className ?
          ( " " + elem.className + " " ).replace( rclass, " " ) :
          ""
        );

        if ( cur ) {
          j = 0;
          while ( (clazz = classes[j++]) ) {
            // Remove *all* instances
            while ( cur.indexOf( " " + clazz + " " ) >= 0 ) {
              cur = cur.replace( " " + clazz + " ", " " );
            }
          }

          // only assign if different to avoid unneeded rendering.
          finalValue = value ? jQuery.trim( cur ) : "";
          if ( elem.className !== finalValue ) {
            elem.className = finalValue;
          }
        }
      }
    }

    return this;
  },

  toggleClass: function( value, stateVal ) {
    var type = typeof value;

    if ( typeof stateVal === "boolean" && type === "string" ) {
      return stateVal ? this.addClass( value ) : this.removeClass( value );
    }

    if ( jQuery.isFunction( value ) ) {
      return this.each(function( i ) {
        jQuery( this ).toggleClass( value.call(this, i, this.className, stateVal), stateVal );
      });
    }

    return this.each(function() {
      if ( type === "string" ) {
        // toggle individual class names
        var className,
          i = 0,
          self = jQuery( this ),
          classNames = value.match( rnotwhite ) || [];

        while ( (className = classNames[ i++ ]) ) {
          // check each className given, space separated list
          if ( self.hasClass( className ) ) {
            self.removeClass( className );
          } else {
            self.addClass( className );
          }
        }

      // Toggle whole class name
      } else if ( type === strundefined || type === "boolean" ) {
        if ( this.className ) {
          // store className if set
          jQuery._data( this, "__className__", this.className );
        }

        // If the element has a class name or if we're passed "false",
        // then remove the whole classname (if there was one, the above saved it).
        // Otherwise bring back whatever was previously saved (if anything),
        // falling back to the empty string if nothing was stored.
        this.className = this.className || value === false ? "" : jQuery._data( this, "__className__" ) || "";
      }
    });
  },

  hasClass: function( selector ) {
    var className = " " + selector + " ",
      i = 0,
      l = this.length;
    for ( ; i < l; i++ ) {
      if ( this[i].nodeType === 1 && (" " + this[i].className + " ").replace(rclass, " ").indexOf( className ) >= 0 ) {
        return true;
      }
    }

    return false;
  }
});




// Return jQuery for attributes-only inclusion


jQuery.each( ("blur focus focusin focusout load resize scroll unload click dblclick " +
  "mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave " +
  "change select submit keydown keypress keyup error contextmenu").split(" "), function( i, name ) {

  // Handle event binding
  jQuery.fn[ name ] = function( data, fn ) {
    return arguments.length > 0 ?
      this.on( name, null, data, fn ) :
      this.trigger( name );
  };
});

jQuery.fn.extend({
  hover: function( fnOver, fnOut ) {
    return this.mouseenter( fnOver ).mouseleave( fnOut || fnOver );
  },

  bind: function( types, data, fn ) {
    return this.on( types, null, data, fn );
  },
  unbind: function( types, fn ) {
    return this.off( types, null, fn );
  },

  delegate: function( selector, types, data, fn ) {
    return this.on( types, selector, data, fn );
  },
  undelegate: function( selector, types, fn ) {
    // ( namespace ) or ( selector, types [, fn] )
    return arguments.length === 1 ? this.off( selector, "**" ) : this.off( types, selector || "**", fn );
  }
});


var nonce = jQuery.now();

var rquery = (/\?/);



var rvalidtokens = /(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;

jQuery.parseJSON = function( data ) {
  // Attempt to parse using the native JSON parser first
  if ( window.JSON && window.JSON.parse ) {
    // Support: Android 2.3
    // Workaround failure to string-cast null input
    return window.JSON.parse( data + "" );
  }

  var requireNonComma,
    depth = null,
    str = jQuery.trim( data + "" );

  // Guard against invalid (and possibly dangerous) input by ensuring that nothing remains
  // after removing valid tokens
  return str && !jQuery.trim( str.replace( rvalidtokens, function( token, comma, open, close ) {

    // Force termination if we see a misplaced comma
    if ( requireNonComma && comma ) {
      depth = 0;
    }

    // Perform no more replacements after returning to outermost depth
    if ( depth === 0 ) {
      return token;
    }

    // Commas must not follow "[", "{", or ","
    requireNonComma = open || comma;

    // Determine new depth
    // array/object open ("[" or "{"): depth += true - false (increment)
    // array/object close ("]" or "}"): depth += false - true (decrement)
    // other cases ("," or primitive): depth += true - true (numeric cast)
    depth += !close - !open;

    // Remove this token
    return "";
  }) ) ?
    ( Function( "return " + str ) )() :
    jQuery.error( "Invalid JSON: " + data );
};


// Cross-browser xml parsing
jQuery.parseXML = function( data ) {
  var xml, tmp;
  if ( !data || typeof data !== "string" ) {
    return null;
  }
  try {
    if ( window.DOMParser ) { // Standard
      tmp = new DOMParser();
      xml = tmp.parseFromString( data, "text/xml" );
    } else { // IE
      xml = new ActiveXObject( "Microsoft.XMLDOM" );
      xml.async = "false";
      xml.loadXML( data );
    }
  } catch( e ) {
    xml = undefined;
  }
  if ( !xml || !xml.documentElement || xml.getElementsByTagName( "parsererror" ).length ) {
    jQuery.error( "Invalid XML: " + data );
  }
  return xml;
};


var
  // Document location
  ajaxLocParts,
  ajaxLocation,

  rhash = /#.*$/,
  rts = /([?&])_=[^&]*/,
  rheaders = /^(.*?):[ \t]*([^\r\n]*)\r?$/mg, // IE leaves an \r character at EOL
  // #7653, #8125, #8152: local protocol detection
  rlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
  rnoContent = /^(?:GET|HEAD)$/,
  rprotocol = /^\/\//,
  rurl = /^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,

  /* Prefilters
   * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)
   * 2) These are called:
   *    - BEFORE asking for a transport
   *    - AFTER param serialization (s.data is a string if s.processData is true)
   * 3) key is the dataType
   * 4) the catchall symbol "*" can be used
   * 5) execution will start with transport dataType and THEN continue down to "*" if needed
   */
  prefilters = {},

  /* Transports bindings
   * 1) key is the dataType
   * 2) the catchall symbol "*" can be used
   * 3) selection will start with transport dataType and THEN go to "*" if needed
   */
  transports = {},

  // Avoid comment-prolog char sequence (#10098); must appease lint and evade compression
  allTypes = "*/".concat("*");

// #8138, IE may throw an exception when accessing
// a field from window.location if document.domain has been set
try {
  ajaxLocation = location.href;
} catch( e ) {
  // Use the href attribute of an A element
  // since IE will modify it given document.location
  ajaxLocation = document.createElement( "a" );
  ajaxLocation.href = "";
  ajaxLocation = ajaxLocation.href;
}

// Segment location into parts
ajaxLocParts = rurl.exec( ajaxLocation.toLowerCase() ) || [];

// Base "constructor" for jQuery.ajaxPrefilter and jQuery.ajaxTransport
function addToPrefiltersOrTransports( structure ) {

  // dataTypeExpression is optional and defaults to "*"
  return function( dataTypeExpression, func ) {

    if ( typeof dataTypeExpression !== "string" ) {
      func = dataTypeExpression;
      dataTypeExpression = "*";
    }

    var dataType,
      i = 0,
      dataTypes = dataTypeExpression.toLowerCase().match( rnotwhite ) || [];

    if ( jQuery.isFunction( func ) ) {
      // For each dataType in the dataTypeExpression
      while ( (dataType = dataTypes[i++]) ) {
        // Prepend if requested
        if ( dataType.charAt( 0 ) === "+" ) {
          dataType = dataType.slice( 1 ) || "*";
          (structure[ dataType ] = structure[ dataType ] || []).unshift( func );

        // Otherwise append
        } else {
          (structure[ dataType ] = structure[ dataType ] || []).push( func );
        }
      }
    }
  };
}

// Base inspection function for prefilters and transports
function inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {

  var inspected = {},
    seekingTransport = ( structure === transports );

  function inspect( dataType ) {
    var selected;
    inspected[ dataType ] = true;
    jQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {
      var dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );
      if ( typeof dataTypeOrTransport === "string" && !seekingTransport && !inspected[ dataTypeOrTransport ] ) {
        options.dataTypes.unshift( dataTypeOrTransport );
        inspect( dataTypeOrTransport );
        return false;
      } else if ( seekingTransport ) {
        return !( selected = dataTypeOrTransport );
      }
    });
    return selected;
  }

  return inspect( options.dataTypes[ 0 ] ) || !inspected[ "*" ] && inspect( "*" );
}

// A special extend for ajax options
// that takes "flat" options (not to be deep extended)
// Fixes #9887
function ajaxExtend( target, src ) {
  var deep, key,
    flatOptions = jQuery.ajaxSettings.flatOptions || {};

  for ( key in src ) {
    if ( src[ key ] !== undefined ) {
      ( flatOptions[ key ] ? target : ( deep || (deep = {}) ) )[ key ] = src[ key ];
    }
  }
  if ( deep ) {
    jQuery.extend( true, target, deep );
  }

  return target;
}

/* Handles responses to an ajax request:
 * - finds the right dataType (mediates between content-type and expected dataType)
 * - returns the corresponding response
 */
function ajaxHandleResponses( s, jqXHR, responses ) {
  var firstDataType, ct, finalDataType, type,
    contents = s.contents,
    dataTypes = s.dataTypes;

  // Remove auto dataType and get content-type in the process
  while ( dataTypes[ 0 ] === "*" ) {
    dataTypes.shift();
    if ( ct === undefined ) {
      ct = s.mimeType || jqXHR.getResponseHeader("Content-Type");
    }
  }

  // Check if we're dealing with a known content-type
  if ( ct ) {
    for ( type in contents ) {
      if ( contents[ type ] && contents[ type ].test( ct ) ) {
        dataTypes.unshift( type );
        break;
      }
    }
  }

  // Check to see if we have a response for the expected dataType
  if ( dataTypes[ 0 ] in responses ) {
    finalDataType = dataTypes[ 0 ];
  } else {
    // Try convertible dataTypes
    for ( type in responses ) {
      if ( !dataTypes[ 0 ] || s.converters[ type + " " + dataTypes[0] ] ) {
        finalDataType = type;
        break;
      }
      if ( !firstDataType ) {
        firstDataType = type;
      }
    }
    // Or just use first one
    finalDataType = finalDataType || firstDataType;
  }

  // If we found a dataType
  // We add the dataType to the list if needed
  // and return the corresponding response
  if ( finalDataType ) {
    if ( finalDataType !== dataTypes[ 0 ] ) {
      dataTypes.unshift( finalDataType );
    }
    return responses[ finalDataType ];
  }
}

/* Chain conversions given the request and the original response
 * Also sets the responseXXX fields on the jqXHR instance
 */
function ajaxConvert( s, response, jqXHR, isSuccess ) {
  var conv2, current, conv, tmp, prev,
    converters = {},
    // Work with a copy of dataTypes in case we need to modify it for conversion
    dataTypes = s.dataTypes.slice();

  // Create converters map with lowercased keys
  if ( dataTypes[ 1 ] ) {
    for ( conv in s.converters ) {
      converters[ conv.toLowerCase() ] = s.converters[ conv ];
    }
  }

  current = dataTypes.shift();

  // Convert to each sequential dataType
  while ( current ) {

    if ( s.responseFields[ current ] ) {
      jqXHR[ s.responseFields[ current ] ] = response;
    }

    // Apply the dataFilter if provided
    if ( !prev && isSuccess && s.dataFilter ) {
      response = s.dataFilter( response, s.dataType );
    }

    prev = current;
    current = dataTypes.shift();

    if ( current ) {

      // There's only work to do if current dataType is non-auto
      if ( current === "*" ) {

        current = prev;

      // Convert response if prev dataType is non-auto and differs from current
      } else if ( prev !== "*" && prev !== current ) {

        // Seek a direct converter
        conv = converters[ prev + " " + current ] || converters[ "* " + current ];

        // If none found, seek a pair
        if ( !conv ) {
          for ( conv2 in converters ) {

            // If conv2 outputs current
            tmp = conv2.split( " " );
            if ( tmp[ 1 ] === current ) {

              // If prev can be converted to accepted input
              conv = converters[ prev + " " + tmp[ 0 ] ] ||
                converters[ "* " + tmp[ 0 ] ];
              if ( conv ) {
                // Condense equivalence converters
                if ( conv === true ) {
                  conv = converters[ conv2 ];

                // Otherwise, insert the intermediate dataType
                } else if ( converters[ conv2 ] !== true ) {
                  current = tmp[ 0 ];
                  dataTypes.unshift( tmp[ 1 ] );
                }
                break;
              }
            }
          }
        }

        // Apply converter (if not an equivalence)
        if ( conv !== true ) {

          // Unless errors are allowed to bubble, catch and return them
          if ( conv && s[ "throws" ] ) {
            response = conv( response );
          } else {
            try {
              response = conv( response );
            } catch ( e ) {
              return { state: "parsererror", error: conv ? e : "No conversion from " + prev + " to " + current };
            }
          }
        }
      }
    }
  }

  return { state: "success", data: response };
}

jQuery.extend({

  // Counter for holding the number of active queries
  active: 0,

  // Last-Modified header cache for next request
  lastModified: {},
  etag: {},

  ajaxSettings: {
    url: ajaxLocation,
    type: "GET",
    isLocal: rlocalProtocol.test( ajaxLocParts[ 1 ] ),
    global: true,
    processData: true,
    async: true,
    contentType: "application/x-www-form-urlencoded; charset=UTF-8",
    /*
    timeout: 0,
    data: null,
    dataType: null,
    username: null,
    password: null,
    cache: null,
    throws: false,
    traditional: false,
    headers: {},
    */

    accepts: {
      "*": allTypes,
      text: "text/plain",
      html: "text/html",
      xml: "application/xml, text/xml",
      json: "application/json, text/javascript"
    },

    contents: {
      xml: /xml/,
      html: /html/,
      json: /json/
    },

    responseFields: {
      xml: "responseXML",
      text: "responseText",
      json: "responseJSON"
    },

    // Data converters
    // Keys separate source (or catchall "*") and destination types with a single space
    converters: {

      // Convert anything to text
      "* text": String,

      // Text to html (true = no transformation)
      "text html": true,

      // Evaluate text as a json expression
      "text json": jQuery.parseJSON,

      // Parse text as xml
      "text xml": jQuery.parseXML
    },

    // For options that shouldn't be deep extended:
    // you can add your own custom options here if
    // and when you create one that shouldn't be
    // deep extended (see ajaxExtend)
    flatOptions: {
      url: true,
      context: true
    }
  },

  // Creates a full fledged settings object into target
  // with both ajaxSettings and settings fields.
  // If target is omitted, writes into ajaxSettings.
  ajaxSetup: function( target, settings ) {
    return settings ?

      // Building a settings object
      ajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :

      // Extending ajaxSettings
      ajaxExtend( jQuery.ajaxSettings, target );
  },

  ajaxPrefilter: addToPrefiltersOrTransports( prefilters ),
  ajaxTransport: addToPrefiltersOrTransports( transports ),

  // Main method
  ajax: function( url, options ) {

    // If url is an object, simulate pre-1.5 signature
    if ( typeof url === "object" ) {
      options = url;
      url = undefined;
    }

    // Force options to be an object
    options = options || {};

    var // Cross-domain detection vars
      parts,
      // Loop variable
      i,
      // URL without anti-cache param
      cacheURL,
      // Response headers as string
      responseHeadersString,
      // timeout handle
      timeoutTimer,

      // To know if global events are to be dispatched
      fireGlobals,

      transport,
      // Response headers
      responseHeaders,
      // Create the final options object
      s = jQuery.ajaxSetup( {}, options ),
      // Callbacks context
      callbackContext = s.context || s,
      // Context for global events is callbackContext if it is a DOM node or jQuery collection
      globalEventContext = s.context && ( callbackContext.nodeType || callbackContext.jquery ) ?
        jQuery( callbackContext ) :
        jQuery.event,
      // Deferreds
      deferred = jQuery.Deferred(),
      completeDeferred = jQuery.Callbacks("once memory"),
      // Status-dependent callbacks
      statusCode = s.statusCode || {},
      // Headers (they are sent all at once)
      requestHeaders = {},
      requestHeadersNames = {},
      // The jqXHR state
      state = 0,
      // Default abort message
      strAbort = "canceled",
      // Fake xhr
      jqXHR = {
        readyState: 0,

        // Builds headers hashtable if needed
        getResponseHeader: function( key ) {
          var match;
          if ( state === 2 ) {
            if ( !responseHeaders ) {
              responseHeaders = {};
              while ( (match = rheaders.exec( responseHeadersString )) ) {
                responseHeaders[ match[1].toLowerCase() ] = match[ 2 ];
              }
            }
            match = responseHeaders[ key.toLowerCase() ];
          }
          return match == null ? null : match;
        },

        // Raw string
        getAllResponseHeaders: function() {
          return state === 2 ? responseHeadersString : null;
        },

        // Caches the header
        setRequestHeader: function( name, value ) {
          var lname = name.toLowerCase();
          if ( !state ) {
            name = requestHeadersNames[ lname ] = requestHeadersNames[ lname ] || name;
            requestHeaders[ name ] = value;
          }
          return this;
        },

        // Overrides response content-type header
        overrideMimeType: function( type ) {
          if ( !state ) {
            s.mimeType = type;
          }
          return this;
        },

        // Status-dependent callbacks
        statusCode: function( map ) {
          var code;
          if ( map ) {
            if ( state < 2 ) {
              for ( code in map ) {
                // Lazy-add the new callback in a way that preserves old ones
                statusCode[ code ] = [ statusCode[ code ], map[ code ] ];
              }
            } else {
              // Execute the appropriate callbacks
              jqXHR.always( map[ jqXHR.status ] );
            }
          }
          return this;
        },

        // Cancel the request
        abort: function( statusText ) {
          var finalText = statusText || strAbort;
          if ( transport ) {
            transport.abort( finalText );
          }
          done( 0, finalText );
          return this;
        }
      };

    // Attach deferreds
    deferred.promise( jqXHR ).complete = completeDeferred.add;
    jqXHR.success = jqXHR.done;
    jqXHR.error = jqXHR.fail;

    // Remove hash character (#7531: and string promotion)
    // Add protocol if not provided (#5866: IE7 issue with protocol-less urls)
    // Handle falsy url in the settings object (#10093: consistency with old signature)
    // We also use the url parameter if available
    s.url = ( ( url || s.url || ajaxLocation ) + "" ).replace( rhash, "" ).replace( rprotocol, ajaxLocParts[ 1 ] + "//" );

    // Alias method option to type as per ticket #12004
    s.type = options.method || options.type || s.method || s.type;

    // Extract dataTypes list
    s.dataTypes = jQuery.trim( s.dataType || "*" ).toLowerCase().match( rnotwhite ) || [ "" ];

    // A cross-domain request is in order when we have a protocol:host:port mismatch
    if ( s.crossDomain == null ) {
      parts = rurl.exec( s.url.toLowerCase() );
      s.crossDomain = !!( parts &&
        ( parts[ 1 ] !== ajaxLocParts[ 1 ] || parts[ 2 ] !== ajaxLocParts[ 2 ] ||
          ( parts[ 3 ] || ( parts[ 1 ] === "http:" ? "80" : "443" ) ) !==
            ( ajaxLocParts[ 3 ] || ( ajaxLocParts[ 1 ] === "http:" ? "80" : "443" ) ) )
      );
    }

    // Convert data if not already a string
    if ( s.data && s.processData && typeof s.data !== "string" ) {
      s.data = jQuery.param( s.data, s.traditional );
    }

    // Apply prefilters
    inspectPrefiltersOrTransports( prefilters, s, options, jqXHR );

    // If request was aborted inside a prefilter, stop there
    if ( state === 2 ) {
      return jqXHR;
    }

    // We can fire global events as of now if asked to
    // Don't fire events if jQuery.event is undefined in an AMD-usage scenario (#15118)
    fireGlobals = jQuery.event && s.global;

    // Watch for a new set of requests
    if ( fireGlobals && jQuery.active++ === 0 ) {
      jQuery.event.trigger("ajaxStart");
    }

    // Uppercase the type
    s.type = s.type.toUpperCase();

    // Determine if request has content
    s.hasContent = !rnoContent.test( s.type );

    // Save the URL in case we're toying with the If-Modified-Since
    // and/or If-None-Match header later on
    cacheURL = s.url;

    // More options handling for requests with no content
    if ( !s.hasContent ) {

      // If data is available, append data to url
      if ( s.data ) {
        cacheURL = ( s.url += ( rquery.test( cacheURL ) ? "&" : "?" ) + s.data );
        // #9682: remove data so that it's not used in an eventual retry
        delete s.data;
      }

      // Add anti-cache in url if needed
      if ( s.cache === false ) {
        s.url = rts.test( cacheURL ) ?

          // If there is already a '_' parameter, set its value
          cacheURL.replace( rts, "$1_=" + nonce++ ) :

          // Otherwise add one to the end
          cacheURL + ( rquery.test( cacheURL ) ? "&" : "?" ) + "_=" + nonce++;
      }
    }

    // Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.
    if ( s.ifModified ) {
      if ( jQuery.lastModified[ cacheURL ] ) {
        jqXHR.setRequestHeader( "If-Modified-Since", jQuery.lastModified[ cacheURL ] );
      }
      if ( jQuery.etag[ cacheURL ] ) {
        jqXHR.setRequestHeader( "If-None-Match", jQuery.etag[ cacheURL ] );
      }
    }

    // Set the correct header, if data is being sent
    if ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {
      jqXHR.setRequestHeader( "Content-Type", s.contentType );
    }

    // Set the Accepts header for the server, depending on the dataType
    jqXHR.setRequestHeader(
      "Accept",
      s.dataTypes[ 0 ] && s.accepts[ s.dataTypes[0] ] ?
        s.accepts[ s.dataTypes[0] ] + ( s.dataTypes[ 0 ] !== "*" ? ", " + allTypes + "; q=0.01" : "" ) :
        s.accepts[ "*" ]
    );

    // Check for headers option
    for ( i in s.headers ) {
      jqXHR.setRequestHeader( i, s.headers[ i ] );
    }

    // Allow custom headers/mimetypes and early abort
    if ( s.beforeSend && ( s.beforeSend.call( callbackContext, jqXHR, s ) === false || state === 2 ) ) {
      // Abort if not done already and return
      return jqXHR.abort();
    }

    // aborting is no longer a cancellation
    strAbort = "abort";

    // Install callbacks on deferreds
    for ( i in { success: 1, error: 1, complete: 1 } ) {
      jqXHR[ i ]( s[ i ] );
    }

    // Get transport
    transport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );

    // If no transport, we auto-abort
    if ( !transport ) {
      done( -1, "No Transport" );
    } else {
      jqXHR.readyState = 1;

      // Send global event
      if ( fireGlobals ) {
        globalEventContext.trigger( "ajaxSend", [ jqXHR, s ] );
      }
      // Timeout
      if ( s.async && s.timeout > 0 ) {
        timeoutTimer = setTimeout(function() {
          jqXHR.abort("timeout");
        }, s.timeout );
      }

      try {
        state = 1;
        transport.send( requestHeaders, done );
      } catch ( e ) {
        // Propagate exception as error if not done
        if ( state < 2 ) {
          done( -1, e );
        // Simply rethrow otherwise
        } else {
          console.log(e.stack)
          throw e;
        }
      }
    }

    // Callback for when everything is done
    function done( status, nativeStatusText, responses, headers ) {
      var isSuccess, success, error, response, modified,
        statusText = nativeStatusText;

      // Called once
      if ( state === 2 ) {
        return;
      }

      // State is "done" now
      state = 2;

      // Clear timeout if it exists
      if ( timeoutTimer ) {
        clearTimeout( timeoutTimer );
      }

      // Dereference transport for early garbage collection
      // (no matter how long the jqXHR object will be used)
      transport = undefined;

      // Cache response headers
      responseHeadersString = headers || "";

      // Set readyState
      jqXHR.readyState = status > 0 ? 4 : 0;

      // Determine if successful
      isSuccess = status >= 200 && status < 300 || status === 304;

      // Get response data
      if ( responses ) {
        response = ajaxHandleResponses( s, jqXHR, responses );
      }

      // Convert no matter what (that way responseXXX fields are always set)
      response = ajaxConvert( s, response, jqXHR, isSuccess );

      // If successful, handle type chaining
      if ( isSuccess ) {

        // Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.
        if ( s.ifModified ) {
          modified = jqXHR.getResponseHeader("Last-Modified");
          if ( modified ) {
            jQuery.lastModified[ cacheURL ] = modified;
          }
          modified = jqXHR.getResponseHeader("etag");
          if ( modified ) {
            jQuery.etag[ cacheURL ] = modified;
          }
        }

        // if no content
        if ( status === 204 || s.type === "HEAD" ) {
          statusText = "nocontent";

        // if not modified
        } else if ( status === 304 ) {
          statusText = "notmodified";

        // If we have data, let's convert it
        } else {
          statusText = response.state;
          success = response.data;
          error = response.error;
          isSuccess = !error;
        }
      } else {
        // We extract error from statusText
        // then normalize statusText and status for non-aborts
        error = statusText;
        if ( status || !statusText ) {
          statusText = "error";
          if ( status < 0 ) {
            status = 0;
          }
        }
      }

      // Set data for the fake xhr object
      jqXHR.status = status;
      jqXHR.statusText = ( nativeStatusText || statusText ) + "";

      // Success/Error
      if ( isSuccess ) {
        deferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );
      } else {
        deferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );
      }

      // Status-dependent callbacks
      jqXHR.statusCode( statusCode );
      statusCode = undefined;

      if ( fireGlobals ) {
        globalEventContext.trigger( isSuccess ? "ajaxSuccess" : "ajaxError",
          [ jqXHR, s, isSuccess ? success : error ] );
      }

      // Complete
      completeDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );

      if ( fireGlobals ) {
        globalEventContext.trigger( "ajaxComplete", [ jqXHR, s ] );
        // Handle the global AJAX counter
        if ( !( --jQuery.active ) ) {
          jQuery.event.trigger("ajaxStop");
        }
      }
    }

    return jqXHR;
  },

  getJSON: function( url, data, callback ) {
    return jQuery.get( url, data, callback, "json" );
  },

  getScript: function( url, callback ) {
    return jQuery.get( url, undefined, callback, "script" );
  }
});

jQuery.each( [ "get", "post" ], function( i, method ) {
  jQuery[ method ] = function( url, data, callback, type ) {
    // shift arguments if data argument was omitted
    if ( jQuery.isFunction( data ) ) {
      type = type || callback;
      callback = data;
      data = undefined;
    }

    return jQuery.ajax({
      url: url,
      type: method,
      dataType: type,
      data: data,
      success: callback
    });
  };
});


jQuery._evalUrl = function( url ) {
  return jQuery.ajax({
    url: url,
    type: "GET",
    dataType: "script",
    async: false,
    global: false,
    "throws": true
  });
};


jQuery.fn.extend({
  wrapAll: function( html ) {
    if ( jQuery.isFunction( html ) ) {
      return this.each(function(i) {
        jQuery(this).wrapAll( html.call(this, i) );
      });
    }

    if ( this[0] ) {
      // The elements to wrap the target around
      var wrap = jQuery( html, this[0].ownerDocument ).eq(0).clone(true);

      if ( this[0].parentNode ) {
        wrap.insertBefore( this[0] );
      }

      wrap.map(function() {
        var elem = this;

        while ( elem.firstChild && elem.firstChild.nodeType === 1 ) {
          elem = elem.firstChild;
        }

        return elem;
      }).append( this );
    }

    return this;
  },

  wrapInner: function( html ) {
    if ( jQuery.isFunction( html ) ) {
      return this.each(function(i) {
        jQuery(this).wrapInner( html.call(this, i) );
      });
    }

    return this.each(function() {
      var self = jQuery( this ),
        contents = self.contents();

      if ( contents.length ) {
        contents.wrapAll( html );

      } else {
        self.append( html );
      }
    });
  },

  wrap: function( html ) {
    var isFunction = jQuery.isFunction( html );

    return this.each(function(i) {
      jQuery( this ).wrapAll( isFunction ? html.call(this, i) : html );
    });
  },

  unwrap: function() {
    return this.parent().each(function() {
      if ( !jQuery.nodeName( this, "body" ) ) {
        jQuery( this ).replaceWith( this.childNodes );
      }
    }).end();
  }
});


jQuery.expr.filters.hidden = function( elem ) {
  // Support: Opera <= 12.12
  // Opera reports offsetWidths and offsetHeights less than zero on some elements
  return elem.offsetWidth <= 0 && elem.offsetHeight <= 0 ||
    (!support.reliableHiddenOffsets() &&
      ((elem.style && elem.style.display) || jQuery.css( elem, "display" )) === "none");
};

jQuery.expr.filters.visible = function( elem ) {
  return !jQuery.expr.filters.hidden( elem );
};




var r20 = /%20/g,
  rbracket = /\[\]$/,
  rCRLF = /\r?\n/g,
  rsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,
  rsubmittable = /^(?:input|select|textarea|keygen)/i;

function buildParams( prefix, obj, traditional, add ) {
  var name;

  if ( jQuery.isArray( obj ) ) {
    // Serialize array item.
    jQuery.each( obj, function( i, v ) {
      if ( traditional || rbracket.test( prefix ) ) {
        // Treat each array item as a scalar.
        add( prefix, v );

      } else {
        // Item is non-scalar (array or object), encode its numeric index.
        buildParams( prefix + "[" + ( typeof v === "object" ? i : "" ) + "]", v, traditional, add );
      }
    });

  } else if ( !traditional && jQuery.type( obj ) === "object" ) {
    // Serialize object item.
    for ( name in obj ) {
      buildParams( prefix + "[" + name + "]", obj[ name ], traditional, add );
    }

  } else {
    // Serialize scalar item.
    add( prefix, obj );
  }
}

// Serialize an array of form elements or a set of
// key/values into a query string
jQuery.param = function( a, traditional ) {
  var prefix,
    s = [],
    add = function( key, value ) {
      // If value is a function, invoke it and return its value
      value = jQuery.isFunction( value ) ? value() : ( value == null ? "" : value );
      s[ s.length ] = encodeURIComponent( key ) + "=" + encodeURIComponent( value );
    };

  // Set traditional to true for jQuery <= 1.3.2 behavior.
  if ( traditional === undefined ) {
    traditional = jQuery.ajaxSettings && jQuery.ajaxSettings.traditional;
  }

  // If an array was passed in, assume that it is an array of form elements.
  if ( jQuery.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {
    // Serialize the form elements
    jQuery.each( a, function() {
      add( this.name, this.value );
    });

  } else {
    // If traditional, encode the "old" way (the way 1.3.2 or older
    // did it), otherwise encode params recursively.
    for ( prefix in a ) {
      buildParams( prefix, a[ prefix ], traditional, add );
    }
  }

  // Return the resulting serialization
  return s.join( "&" ).replace( r20, "+" );
};

jQuery.fn.extend({
  serialize: function() {
    return jQuery.param( this.serializeArray() );
  },
  serializeArray: function() {
    return this.map(function() {
      // Can add propHook for "elements" to filter or add form elements
      var elements = jQuery.prop( this, "elements" );
      return elements ? jQuery.makeArray( elements ) : this;
    })
    .filter(function() {
      var type = this.type;
      // Use .is(":disabled") so that fieldset[disabled] works
      return this.name && !jQuery( this ).is( ":disabled" ) &&
        rsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&
        ( this.checked || !rcheckableType.test( type ) );
    })
    .map(function( i, elem ) {
      var val = jQuery( this ).val();

      return val == null ?
        null :
        jQuery.isArray( val ) ?
          jQuery.map( val, function( val ) {
            return { name: elem.name, value: val.replace( rCRLF, "\r\n" ) };
          }) :
          { name: elem.name, value: val.replace( rCRLF, "\r\n" ) };
    }).get();
  }
});


// Create the request object
// (This is still attached to ajaxSettings for backward compatibility)
jQuery.ajaxSettings.xhr = window.ActiveXObject !== undefined ?
  // Support: IE6+
  function() {

    // XHR cannot access local files, always use ActiveX for that case
    return !this.isLocal &&

      // Support: IE7-8
      // oldIE XHR does not support non-RFC2616 methods (#13240)
      // See http://msdn.microsoft.com/en-us/library/ie/ms536648(v=vs.85).aspx
      // and http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9
      // Although this check for six methods instead of eight
      // since IE also does not support "trace" and "connect"
      /^(get|post|head|put|delete|options)$/i.test( this.type ) &&

      createStandardXHR() || createActiveXHR();
  } :
  // For all other browsers, use the standard XMLHttpRequest object
  createStandardXHR;

var xhrId = 0,
  xhrCallbacks = {},
  xhrSupported = jQuery.ajaxSettings.xhr();

// Support: IE<10
// Open requests must be manually aborted on unload (#5280)
// See https://support.microsoft.com/kb/2856746 for more info
if ( window.attachEvent ) {
  window.attachEvent( "onunload", function() {
    for ( var key in xhrCallbacks ) {
      xhrCallbacks[ key ]( undefined, true );
    }
  });
}

// Determine support properties
support.cors = !!xhrSupported && ( "withCredentials" in xhrSupported );
xhrSupported = support.ajax = !!xhrSupported;

// Create transport if the browser can provide an xhr
if ( xhrSupported ) {

  jQuery.ajaxTransport(function( options ) {
    // Cross domain only allowed if supported through XMLHttpRequest
    if ( !options.crossDomain || support.cors ) {

      var callback;

      return {
        send: function( headers, complete ) {
          var i,
            xhr = options.xhr(),
            id = ++xhrId;

          // Open the socket
          xhr.open( options.type, options.url, options.async, options.username, options.password );

          // Apply custom fields if provided
          if ( options.xhrFields ) {
            for ( i in options.xhrFields ) {
              xhr[ i ] = options.xhrFields[ i ];
            }
          }

          // Override mime type if needed
          if ( options.mimeType && xhr.overrideMimeType ) {
            xhr.overrideMimeType( options.mimeType );
          }

          // X-Requested-With header
          // For cross-domain requests, seeing as conditions for a preflight are
          // akin to a jigsaw puzzle, we simply never set it to be sure.
          // (it can always be set on a per-request basis or even using ajaxSetup)
          // For same-domain requests, won't change header if already provided.
          if ( !options.crossDomain && !headers["X-Requested-With"] ) {
            headers["X-Requested-With"] = "XMLHttpRequest";
          }

          // Set headers
          for ( i in headers ) {
            // Support: IE<9
            // IE's ActiveXObject throws a 'Type Mismatch' exception when setting
            // request header to a null-value.
            //
            // To keep consistent with other XHR implementations, cast the value
            // to string and ignore `undefined`.
            if ( headers[ i ] !== undefined ) {
              xhr.setRequestHeader( i, headers[ i ] + "" );
            }
          }

          // Do send the request
          // This may raise an exception which is actually
          // handled in jQuery.ajax (so no try/catch here)
          xhr.send( ( options.hasContent && options.data ) || null );

          // Listener
          callback = function( _, isAbort ) {
            var status, statusText, responses;

            // Was never called and is aborted or complete
            if ( callback && ( isAbort || xhr.readyState === 4 ) ) {
              // Clean up
              delete xhrCallbacks[ id ];
              callback = undefined;
              xhr.onreadystatechange = jQuery.noop;

              // Abort manually if needed
              if ( isAbort ) {
                if ( xhr.readyState !== 4 ) {
                  xhr.abort();
                }
              } else {
                responses = {};
                status = xhr.status;

                // Support: IE<10
                // Accessing binary-data responseText throws an exception
                // (#11426)
                if ( typeof xhr.responseText === "string" ) {
                  responses.text = xhr.responseText;
                }

                // Firefox throws an exception when accessing
                // statusText for faulty cross-domain requests
                try {
                  statusText = xhr.statusText;
                } catch( e ) {
                  // We normalize with Webkit giving an empty statusText
                  statusText = "";
                }

                // Filter status for non standard behaviors

                // If the request is local and we have data: assume a success
                // (success with no data won't get notified, that's the best we
                // can do given current implementations)
                if ( !status && options.isLocal && !options.crossDomain ) {
                  status = responses.text ? 200 : 404;
                // IE - #1450: sometimes returns 1223 when it should be 204
                } else if ( status === 1223 ) {
                  status = 204;
                }
              }
            }

            // Call complete if needed
            if ( responses ) {
              complete( status, statusText, responses, xhr.getAllResponseHeaders() );
            }
          };

          if ( !options.async ) {
            // if we're in sync mode we fire the callback
            callback();
          } else if ( xhr.readyState === 4 ) {
            // (IE6 & IE7) if it's in cache and has been
            // retrieved directly we need to fire the callback
            setTimeout( callback );
          } else {
            // Add to the list of active xhr callbacks
            xhr.onreadystatechange = xhrCallbacks[ id ] = callback;
          }
        },

        abort: function() {
          if ( callback ) {
            callback( undefined, true );
          }
        }
      };
    }
  });
}

// Functions to create xhrs
function createStandardXHR() {
  try {
    return new window.XMLHttpRequest();
  } catch( e ) {}
}

function createActiveXHR() {
  try {
    return new window.ActiveXObject( "Microsoft.XMLHTTP" );
  } catch( e ) {}
}




// Install script dataType
jQuery.ajaxSetup({
  accepts: {
    script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
  },
  contents: {
    script: /(?:java|ecma)script/
  },
  converters: {
    "text script": function( text ) {
      jQuery.globalEval( text );
      return text;
    }
  }
});

// Handle cache's special case and global
jQuery.ajaxPrefilter( "script", function( s ) {
  if ( s.cache === undefined ) {
    s.cache = false;
  }
  if ( s.crossDomain ) {
    s.type = "GET";
    s.global = false;
  }
});

// Bind script tag hack transport
jQuery.ajaxTransport( "script", function(s) {

  // This transport only deals with cross domain requests
  if ( s.crossDomain ) {

    var script,
      head = document.head || jQuery("head")[0] || document.documentElement;

    return {

      send: function( _, callback ) {

        script = document.createElement("script");

        script.async = true;

        if ( s.scriptCharset ) {
          script.charset = s.scriptCharset;
        }

        script.src = s.url;

        // Attach handlers for all browsers
        script.onload = script.onreadystatechange = function( _, isAbort ) {

          if ( isAbort || !script.readyState || /loaded|complete/.test( script.readyState ) ) {

            // Handle memory leak in IE
            script.onload = script.onreadystatechange = null;

            // Remove the script
            if ( script.parentNode ) {
              script.parentNode.removeChild( script );
            }

            // Dereference the script
            script = null;

            // Callback if not abort
            if ( !isAbort ) {
              callback( 200, "success" );
            }
          }
        };

        // Circumvent IE6 bugs with base elements (#2709 and #4378) by prepending
        // Use native DOM manipulation to avoid our domManip AJAX trickery
        head.insertBefore( script, head.firstChild );
      },

      abort: function() {
        if ( script ) {
          script.onload( undefined, true );
        }
      }
    };
  }
});




var oldCallbacks = [],
  rjsonp = /(=)\?(?=&|$)|\?\?/;

// Default jsonp settings
jQuery.ajaxSetup({
  jsonp: "callback",
  jsonpCallback: function() {
    var callback = oldCallbacks.pop() || ( jQuery.expando + "_" + ( nonce++ ) );
    this[ callback ] = true;
    return callback;
  }
});

// Detect, normalize options and install callbacks for jsonp requests
jQuery.ajaxPrefilter( "json jsonp", function( s, originalSettings, jqXHR ) {

  var callbackName, overwritten, responseContainer,
    jsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?
      "url" :
      typeof s.data === "string" && !( s.contentType || "" ).indexOf("application/x-www-form-urlencoded") && rjsonp.test( s.data ) && "data"
    );

  // Handle iff the expected data type is "jsonp" or we have a parameter to set
  if ( jsonProp || s.dataTypes[ 0 ] === "jsonp" ) {

    // Get callback name, remembering preexisting value associated with it
    callbackName = s.jsonpCallback = jQuery.isFunction( s.jsonpCallback ) ?
      s.jsonpCallback() :
      s.jsonpCallback;

    // Insert callback into url or form data
    if ( jsonProp ) {
      s[ jsonProp ] = s[ jsonProp ].replace( rjsonp, "$1" + callbackName );
    } else if ( s.jsonp !== false ) {
      s.url += ( rquery.test( s.url ) ? "&" : "?" ) + s.jsonp + "=" + callbackName;
    }

    // Use data converter to retrieve json after script execution
    s.converters["script json"] = function() {
      if ( !responseContainer ) {
        jQuery.error( callbackName + " was not called" );
      }
      return responseContainer[ 0 ];
    };

    // force json dataType
    s.dataTypes[ 0 ] = "json";

    // Install callback
    overwritten = window[ callbackName ];
    window[ callbackName ] = function() {
      responseContainer = arguments;
    };

    // Clean-up function (fires after converters)
    jqXHR.always(function() {
      // Restore preexisting value
      window[ callbackName ] = overwritten;

      // Save back as free
      if ( s[ callbackName ] ) {
        // make sure that re-using the options doesn't screw things around
        s.jsonpCallback = originalSettings.jsonpCallback;

        // save the callback name for future use
        oldCallbacks.push( callbackName );
      }

      // Call if it was a function and we have a response
      if ( responseContainer && jQuery.isFunction( overwritten ) ) {
        overwritten( responseContainer[ 0 ] );
      }

      responseContainer = overwritten = undefined;
    });

    // Delegate to script
    return "script";
  }
});




// data: string of html
// context (optional): If specified, the fragment will be created in this context, defaults to document
// keepScripts (optional): If true, will include scripts passed in the html string
jQuery.parseHTML = function( data, context, keepScripts ) {
  if ( !data || typeof data !== "string" ) {
    return null;
  }
  if ( typeof context === "boolean" ) {
    keepScripts = context;
    context = false;
  }
  context = context || document;

  var parsed = rsingleTag.exec( data ),
    scripts = !keepScripts && [];

  // Single tag
  if ( parsed ) {
    return [ context.createElement( parsed[1] ) ];
  }

  parsed = jQuery.buildFragment( [ data ], context, scripts );

  if ( scripts && scripts.length ) {
    jQuery( scripts ).remove();
  }

  return jQuery.merge( [], parsed.childNodes );
};


// Keep a copy of the old load method
var _load = jQuery.fn.load;

/**
 * Load a url into a page
 */
jQuery.fn.load = function( url, params, callback ) {
  if ( typeof url !== "string" && _load ) {
    return _load.apply( this, arguments );
  }

  var selector, response, type,
    self = this,
    off = url.indexOf(" ");

  if ( off >= 0 ) {
    selector = jQuery.trim( url.slice( off, url.length ) );
    url = url.slice( 0, off );
  }

  // If it's a function
  if ( jQuery.isFunction( params ) ) {

    // We assume that it's the callback
    callback = params;
    params = undefined;

  // Otherwise, build a param string
  } else if ( params && typeof params === "object" ) {
    type = "POST";
  }

  // If we have elements to modify, make the request
  if ( self.length > 0 ) {
    jQuery.ajax({
      url: url,

      // if "type" variable is undefined, then "GET" method will be used
      type: type,
      dataType: "html",
      data: params
    }).done(function( responseText ) {

      // Save response for use in complete callback
      response = arguments;

      self.html( selector ?

        // If a selector was specified, locate the right elements in a dummy div
        // Exclude scripts to avoid IE 'Permission Denied' errors
        jQuery("<div>").append( jQuery.parseHTML( responseText ) ).find( selector ) :

        // Otherwise use the full result
        responseText );

    }).complete( callback && function( jqXHR, status ) {
      self.each( callback, response || [ jqXHR.responseText, status, jqXHR ] );
    });
  }

  return this;
};




// Attach a bunch of functions for handling common AJAX events
jQuery.each( [ "ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend" ], function( i, type ) {
  jQuery.fn[ type ] = function( fn ) {
    return this.on( type, fn );
  };
});




jQuery.expr.filters.animated = function( elem ) {
  return jQuery.grep(jQuery.timers, function( fn ) {
    return elem === fn.elem;
  }).length;
};





var docElem = window.document.documentElement;

/**
 * Gets a window from an element
 */
function getWindow( elem ) {
  return jQuery.isWindow( elem ) ?
    elem :
    elem.nodeType === 9 ?
      elem.defaultView || elem.parentWindow :
      false;
}

jQuery.offset = {
  setOffset: function( elem, options, i ) {
    var curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,
      position = jQuery.css( elem, "position" ),
      curElem = jQuery( elem ),
      props = {};

    // set position first, in-case top/left are set even on static elem
    if ( position === "static" ) {
      elem.style.position = "relative";
    }

    curOffset = curElem.offset();
    curCSSTop = jQuery.css( elem, "top" );
    curCSSLeft = jQuery.css( elem, "left" );
    calculatePosition = ( position === "absolute" || position === "fixed" ) &&
      jQuery.inArray("auto", [ curCSSTop, curCSSLeft ] ) > -1;

    // need to be able to calculate position if either top or left is auto and position is either absolute or fixed
    if ( calculatePosition ) {
      curPosition = curElem.position();
      curTop = curPosition.top;
      curLeft = curPosition.left;
    } else {
      curTop = parseFloat( curCSSTop ) || 0;
      curLeft = parseFloat( curCSSLeft ) || 0;
    }

    if ( jQuery.isFunction( options ) ) {
      options = options.call( elem, i, curOffset );
    }

    if ( options.top != null ) {
      props.top = ( options.top - curOffset.top ) + curTop;
    }
    if ( options.left != null ) {
      props.left = ( options.left - curOffset.left ) + curLeft;
    }

    if ( "using" in options ) {
      options.using.call( elem, props );
    } else {
      curElem.css( props );
    }
  }
};

jQuery.fn.extend({
  offset: function( options ) {
    if ( arguments.length ) {
      return options === undefined ?
        this :
        this.each(function( i ) {
          jQuery.offset.setOffset( this, options, i );
        });
    }

    var docElem, win,
      box = { top: 0, left: 0 },
      elem = this[ 0 ],
      doc = elem && elem.ownerDocument;

    if ( !doc ) {
      return;
    }

    docElem = doc.documentElement;

    // Make sure it's not a disconnected DOM node
    if ( !jQuery.contains( docElem, elem ) ) {
      return box;
    }

    // If we don't have gBCR, just use 0,0 rather than error
    // BlackBerry 5, iOS 3 (original iPhone)
    if ( typeof elem.getBoundingClientRect !== strundefined ) {
      box = elem.getBoundingClientRect();
    }
    win = getWindow( doc );
    return {
      top: box.top  + ( win.pageYOffset || docElem.scrollTop )  - ( docElem.clientTop  || 0 ),
      left: box.left + ( win.pageXOffset || docElem.scrollLeft ) - ( docElem.clientLeft || 0 )
    };
  },

  position: function() {
    if ( !this[ 0 ] ) {
      return;
    }

    var offsetParent, offset,
      parentOffset = { top: 0, left: 0 },
      elem = this[ 0 ];

    // fixed elements are offset from window (parentOffset = {top:0, left: 0}, because it is its only offset parent
    if ( jQuery.css( elem, "position" ) === "fixed" ) {
      // we assume that getBoundingClientRect is available when computed position is fixed
      offset = elem.getBoundingClientRect();
    } else {
      // Get *real* offsetParent
      offsetParent = this.offsetParent();

      // Get correct offsets
      offset = this.offset();
      if ( !jQuery.nodeName( offsetParent[ 0 ], "html" ) ) {
        parentOffset = offsetParent.offset();
      }

      // Add offsetParent borders
      parentOffset.top  += jQuery.css( offsetParent[ 0 ], "borderTopWidth", true );
      parentOffset.left += jQuery.css( offsetParent[ 0 ], "borderLeftWidth", true );
    }

    // Subtract parent offsets and element margins
    // note: when an element has margin: auto the offsetLeft and marginLeft
    // are the same in Safari causing offset.left to incorrectly be 0
    return {
      top:  offset.top  - parentOffset.top - jQuery.css( elem, "marginTop", true ),
      left: offset.left - parentOffset.left - jQuery.css( elem, "marginLeft", true)
    };
  },

  offsetParent: function() {
    return this.map(function() {
      var offsetParent = this.offsetParent || docElem;

      while ( offsetParent && ( !jQuery.nodeName( offsetParent, "html" ) && jQuery.css( offsetParent, "position" ) === "static" ) ) {
        offsetParent = offsetParent.offsetParent;
      }
      return offsetParent || docElem;
    });
  }
});

// Create scrollLeft and scrollTop methods
jQuery.each( { scrollLeft: "pageXOffset", scrollTop: "pageYOffset" }, function( method, prop ) {
  var top = /Y/.test( prop );

  jQuery.fn[ method ] = function( val ) {
    return access( this, function( elem, method, val ) {
      var win = getWindow( elem );

      if ( val === undefined ) {
        return win ? (prop in win) ? win[ prop ] :
          win.document.documentElement[ method ] :
          elem[ method ];
      }

      if ( win ) {
        win.scrollTo(
          !top ? val : jQuery( win ).scrollLeft(),
          top ? val : jQuery( win ).scrollTop()
        );

      } else {
        elem[ method ] = val;
      }
    }, method, val, arguments.length, null );
  };
});

// Add the top/left cssHooks using jQuery.fn.position
// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084
// getComputedStyle returns percent when specified for top/left/bottom/right
// rather than make the css module depend on the offset module, we just check for it here
jQuery.each( [ "top", "left" ], function( i, prop ) {
  jQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition,
    function( elem, computed ) {
      if ( computed ) {
        computed = curCSS( elem, prop );
        // if curCSS returns percentage, fallback to offset
        return rnumnonpx.test( computed ) ?
          jQuery( elem ).position()[ prop ] + "px" :
          computed;
      }
    }
  );
});


// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods
jQuery.each( { Height: "height", Width: "width" }, function( name, type ) {
  jQuery.each( { padding: "inner" + name, content: type, "": "outer" + name }, function( defaultExtra, funcName ) {
    // margin is only for outerHeight, outerWidth
    jQuery.fn[ funcName ] = function( margin, value ) {
      var chainable = arguments.length && ( defaultExtra || typeof margin !== "boolean" ),
        extra = defaultExtra || ( margin === true || value === true ? "margin" : "border" );

      return access( this, function( elem, type, value ) {
        var doc;

        if ( jQuery.isWindow( elem ) ) {
          // As of 5/8/2012 this will yield incorrect results for Mobile Safari, but there
          // isn't a whole lot we can do. See pull request at this URL for discussion:
          // https://github.com/jquery/jquery/pull/764
          return elem.document.documentElement[ "client" + name ];
        }

        // Get document width or height
        if ( elem.nodeType === 9 ) {
          doc = elem.documentElement;

          // Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height], whichever is greatest
          // unfortunately, this causes bug #3838 in IE6/8 only, but there is currently no good, small way to fix it.
          return Math.max(
            elem.body[ "scroll" + name ], doc[ "scroll" + name ],
            elem.body[ "offset" + name ], doc[ "offset" + name ],
            doc[ "client" + name ]
          );
        }

        return value === undefined ?
          // Get width or height on the element, requesting but not forcing parseFloat
          jQuery.css( elem, type, extra ) :

          // Set width or height on the element
          jQuery.style( elem, type, value, extra );
      }, type, chainable ? margin : undefined, chainable, null );
    };
  });
});


// The number of elements contained in the matched element set
jQuery.fn.size = function() {
  return this.length;
};

jQuery.fn.andSelf = jQuery.fn.addBack;




// Register as a named AMD module, since jQuery can be concatenated with other
// files that may use define, but not via a proper concatenation script that
// understands anonymous AMD modules. A named AMD is safest and most robust
// way to register. Lowercase jquery is used because AMD module names are
// derived from file names, and jQuery is normally delivered in a lowercase
// file name. Do this after creating the global so that if an AMD module wants
// to call noConflict to hide this version of jQuery, it will work.

// Note that for maximum portability, libraries that are not jQuery should
// declare themselves as anonymous modules, and avoid setting a global if an
// AMD loader is present. jQuery is a special case. For more information, see
// https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon

if ( typeof define === "function" && define.amd ) {
  define( "jquery", [], function() {
    return jQuery;
  });
}




var
  // Map over jQuery in case of overwrite
  _jQuery = window.jQuery,

  // Map over the $ in case of overwrite
  _$ = window.$;

jQuery.noConflict = function( deep ) {
  if ( window.$ === jQuery ) {
    window.$ = _$;
  }

  if ( deep && window.jQuery === jQuery ) {
    window.jQuery = _jQuery;
  }

  return jQuery;
};

// Expose jQuery and $ identifiers, even in
// AMD (#7102#comment:10, https://github.com/jquery/jquery/pull/557)
// and CommonJS for browser emulators (#13566)
if ( typeof noGlobal === strundefined ) {
  window.jQuery = window.$ = jQuery;
}




return jQuery;

}));

//     Underscore.js 1.8.3
//     http://underscorejs.org
//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.

(function() {

  // Baseline setup
  // --------------

  // Establish the root object, `window` in the browser, or `exports` on the server.
  var root = this;

  // Save the previous value of the `_` variable.
  var previousUnderscore = root._;

  // Save bytes in the minified (but not gzipped) version:
  var ArrayProto = Array.prototype, ObjProto = Object.prototype, FuncProto = Function.prototype;

  // Create quick reference variables for speed access to core prototypes.
  var
    push             = ArrayProto.push,
    slice            = ArrayProto.slice,
    toString         = ObjProto.toString,
    hasOwnProperty   = ObjProto.hasOwnProperty;

  // All **ECMAScript 5** native function implementations that we hope to use
  // are declared here.
  var
    nativeIsArray      = Array.isArray,
    nativeKeys         = Object.keys,
    nativeBind         = FuncProto.bind,
    nativeCreate       = Object.create;

  // Naked function reference for surrogate-prototype-swapping.
  var Ctor = function(){};

  // Create a safe reference to the Underscore object for use below.
  var _ = function(obj) {
    if (obj instanceof _) return obj;
    if (!(this instanceof _)) return new _(obj);
    this._wrapped = obj;
  };

  // Export the Underscore object for **Node.js**, with
  // backwards-compatibility for the old `require()` API. If we're in
  // the browser, add `_` as a global object.
  if (typeof exports !== 'undefined') {
    if (typeof module !== 'undefined' && module.exports) {
      exports = module.exports = _;
    }
    exports._ = _;
  } else {
    root._ = _;
  }

  // Current version.
  _.VERSION = '1.8.3';

  // Internal function that returns an efficient (for current engines) version
  // of the passed-in callback, to be repeatedly applied in other Underscore
  // functions.
  var optimizeCb = function(func, context, argCount) {
    if (context === void 0) return func;
    switch (argCount == null ? 3 : argCount) {
      case 1: return function(value) {
        return func.call(context, value);
      };
      case 2: return function(value, other) {
        return func.call(context, value, other);
      };
      case 3: return function(value, index, collection) {
        return func.call(context, value, index, collection);
      };
      case 4: return function(accumulator, value, index, collection) {
        return func.call(context, accumulator, value, index, collection);
      };
    }
    return function() {
      return func.apply(context, arguments);
    };
  };

  // A mostly-internal function to generate callbacks that can be applied
  // to each element in a collection, returning the desired result — either
  // identity, an arbitrary callback, a property matcher, or a property accessor.
  var cb = function(value, context, argCount) {
    if (value == null) return _.identity;
    if (_.isFunction(value)) return optimizeCb(value, context, argCount);
    if (_.isObject(value)) return _.matcher(value);
    return _.property(value);
  };
  _.iteratee = function(value, context) {
    return cb(value, context, Infinity);
  };

  // An internal function for creating assigner functions.
  var createAssigner = function(keysFunc, undefinedOnly) {
    return function(obj) {
      var length = arguments.length;
      if (length < 2 || obj == null) return obj;
      for (var index = 1; index < length; index++) {
        var source = arguments[index],
            keys = keysFunc(source),
            l = keys.length;
        for (var i = 0; i < l; i++) {
          var key = keys[i];
          if (!undefinedOnly || obj[key] === void 0) obj[key] = source[key];
        }
      }
      return obj;
    };
  };

  // An internal function for creating a new object that inherits from another.
  var baseCreate = function(prototype) {
    if (!_.isObject(prototype)) return {};
    if (nativeCreate) return nativeCreate(prototype);
    Ctor.prototype = prototype;
    var result = new Ctor;
    Ctor.prototype = null;
    return result;
  };

  var property = function(key) {
    return function(obj) {
      return obj == null ? void 0 : obj[key];
    };
  };

  // Helper for collection methods to determine whether a collection
  // should be iterated as an array or as an object
  // Related: http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength
  // Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094
  var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;
  var getLength = property('length');
  var isArrayLike = function(collection) {
    var length = getLength(collection);
    return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;
  };

  // Collection Functions
  // --------------------

  // The cornerstone, an `each` implementation, aka `forEach`.
  // Handles raw objects in addition to array-likes. Treats all
  // sparse array-likes as if they were dense.
  _.each = _.forEach = function(obj, iteratee, context) {
    iteratee = optimizeCb(iteratee, context);
    var i, length;
    if (isArrayLike(obj)) {
      for (i = 0, length = obj.length; i < length; i++) {
        iteratee(obj[i], i, obj);
      }
    } else {
      var keys = _.keys(obj);
      for (i = 0, length = keys.length; i < length; i++) {
        iteratee(obj[keys[i]], keys[i], obj);
      }
    }
    return obj;
  };

  // Return the results of applying the iteratee to each element.
  _.map = _.collect = function(obj, iteratee, context) {
    iteratee = cb(iteratee, context);
    var keys = !isArrayLike(obj) && _.keys(obj),
        length = (keys || obj).length,
        results = Array(length);
    for (var index = 0; index < length; index++) {
      var currentKey = keys ? keys[index] : index;
      results[index] = iteratee(obj[currentKey], currentKey, obj);
    }
    return results;
  };

  // Create a reducing function iterating left or right.
  function createReduce(dir) {
    // Optimized iterator function as using arguments.length
    // in the main function will deoptimize the, see #1991.
    function iterator(obj, iteratee, memo, keys, index, length) {
      for (; index >= 0 && index < length; index += dir) {
        var currentKey = keys ? keys[index] : index;
        memo = iteratee(memo, obj[currentKey], currentKey, obj);
      }
      return memo;
    }

    return function(obj, iteratee, memo, context) {
      iteratee = optimizeCb(iteratee, context, 4);
      var keys = !isArrayLike(obj) && _.keys(obj),
          length = (keys || obj).length,
          index = dir > 0 ? 0 : length - 1;
      // Determine the initial value if none is provided.
      if (arguments.length < 3) {
        memo = obj[keys ? keys[index] : index];
        index += dir;
      }
      return iterator(obj, iteratee, memo, keys, index, length);
    };
  }

  // **Reduce** builds up a single result from a list of values, aka `inject`,
  // or `foldl`.
  _.reduce = _.foldl = _.inject = createReduce(1);

  // The right-associative version of reduce, also known as `foldr`.
  _.reduceRight = _.foldr = createReduce(-1);

  // Return the first value which passes a truth test. Aliased as `detect`.
  _.find = _.detect = function(obj, predicate, context) {
    var key;
    if (isArrayLike(obj)) {
      key = _.findIndex(obj, predicate, context);
    } else {
      key = _.findKey(obj, predicate, context);
    }
    if (key !== void 0 && key !== -1) return obj[key];
  };

  // Return all the elements that pass a truth test.
  // Aliased as `select`.
  _.filter = _.select = function(obj, predicate, context) {
    var results = [];
    predicate = cb(predicate, context);
    _.each(obj, function(value, index, list) {
      if (predicate(value, index, list)) results.push(value);
    });
    return results;
  };

  // Return all the elements for which a truth test fails.
  _.reject = function(obj, predicate, context) {
    return _.filter(obj, _.negate(cb(predicate)), context);
  };

  // Determine whether all of the elements match a truth test.
  // Aliased as `all`.
  _.every = _.all = function(obj, predicate, context) {
    predicate = cb(predicate, context);
    var keys = !isArrayLike(obj) && _.keys(obj),
        length = (keys || obj).length;
    for (var index = 0; index < length; index++) {
      var currentKey = keys ? keys[index] : index;
      if (!predicate(obj[currentKey], currentKey, obj)) return false;
    }
    return true;
  };

  // Determine if at least one element in the object matches a truth test.
  // Aliased as `any`.
  _.some = _.any = function(obj, predicate, context) {
    predicate = cb(predicate, context);
    var keys = !isArrayLike(obj) && _.keys(obj),
        length = (keys || obj).length;
    for (var index = 0; index < length; index++) {
      var currentKey = keys ? keys[index] : index;
      if (predicate(obj[currentKey], currentKey, obj)) return true;
    }
    return false;
  };

  // Determine if the array or object contains a given item (using `===`).
  // Aliased as `includes` and `include`.
  _.contains = _.includes = _.include = function(obj, item, fromIndex, guard) {
    if (!isArrayLike(obj)) obj = _.values(obj);
    if (typeof fromIndex != 'number' || guard) fromIndex = 0;
    return _.indexOf(obj, item, fromIndex) >= 0;
  };

  // Invoke a method (with arguments) on every item in a collection.
  _.invoke = function(obj, method) {
    var args = slice.call(arguments, 2);
    var isFunc = _.isFunction(method);
    return _.map(obj, function(value) {
      var func = isFunc ? method : value[method];
      return func == null ? func : func.apply(value, args);
    });
  };

  // Convenience version of a common use case of `map`: fetching a property.
  _.pluck = function(obj, key) {
    return _.map(obj, _.property(key));
  };

  // Convenience version of a common use case of `filter`: selecting only objects
  // containing specific `key:value` pairs.
  _.where = function(obj, attrs) {
    return _.filter(obj, _.matcher(attrs));
  };

  // Convenience version of a common use case of `find`: getting the first object
  // containing specific `key:value` pairs.
  _.findWhere = function(obj, attrs) {
    return _.find(obj, _.matcher(attrs));
  };

  // Return the maximum element (or element-based computation).
  _.max = function(obj, iteratee, context) {
    var result = -Infinity, lastComputed = -Infinity,
        value, computed;
    if (iteratee == null && obj != null) {
      obj = isArrayLike(obj) ? obj : _.values(obj);
      for (var i = 0, length = obj.length; i < length; i++) {
        value = obj[i];
        if (value > result) {
          result = value;
        }
      }
    } else {
      iteratee = cb(iteratee, context);
      _.each(obj, function(value, index, list) {
        computed = iteratee(value, index, list);
        if (computed > lastComputed || computed === -Infinity && result === -Infinity) {
          result = value;
          lastComputed = computed;
        }
      });
    }
    return result;
  };

  // Return the minimum element (or element-based computation).
  _.min = function(obj, iteratee, context) {
    var result = Infinity, lastComputed = Infinity,
        value, computed;
    if (iteratee == null && obj != null) {
      obj = isArrayLike(obj) ? obj : _.values(obj);
      for (var i = 0, length = obj.length; i < length; i++) {
        value = obj[i];
        if (value < result) {
          result = value;
        }
      }
    } else {
      iteratee = cb(iteratee, context);
      _.each(obj, function(value, index, list) {
        computed = iteratee(value, index, list);
        if (computed < lastComputed || computed === Infinity && result === Infinity) {
          result = value;
          lastComputed = computed;
        }
      });
    }
    return result;
  };

  // Shuffle a collection, using the modern version of the
  // [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/Fisher–Yates_shuffle).
  _.shuffle = function(obj) {
    var set = isArrayLike(obj) ? obj : _.values(obj);
    var length = set.length;
    var shuffled = Array(length);
    for (var index = 0, rand; index < length; index++) {
      rand = _.random(0, index);
      if (rand !== index) shuffled[index] = shuffled[rand];
      shuffled[rand] = set[index];
    }
    return shuffled;
  };

  // Sample **n** random values from a collection.
  // If **n** is not specified, returns a single random element.
  // The internal `guard` argument allows it to work with `map`.
  _.sample = function(obj, n, guard) {
    if (n == null || guard) {
      if (!isArrayLike(obj)) obj = _.values(obj);
      return obj[_.random(obj.length - 1)];
    }
    return _.shuffle(obj).slice(0, Math.max(0, n));
  };

  // Sort the object's values by a criterion produced by an iteratee.
  _.sortBy = function(obj, iteratee, context) {
    iteratee = cb(iteratee, context);
    return _.pluck(_.map(obj, function(value, index, list) {
      return {
        value: value,
        index: index,
        criteria: iteratee(value, index, list)
      };
    }).sort(function(left, right) {
      var a = left.criteria;
      var b = right.criteria;
      if (a !== b) {
        if (a > b || a === void 0) return 1;
        if (a < b || b === void 0) return -1;
      }
      return left.index - right.index;
    }), 'value');
  };

  // An internal function used for aggregate "group by" operations.
  var group = function(behavior) {
    return function(obj, iteratee, context) {
      var result = {};
      iteratee = cb(iteratee, context);
      _.each(obj, function(value, index) {
        var key = iteratee(value, index, obj);
        behavior(result, value, key);
      });
      return result;
    };
  };

  // Groups the object's values by a criterion. Pass either a string attribute
  // to group by, or a function that returns the criterion.
  _.groupBy = group(function(result, value, key) {
    if (_.has(result, key)) result[key].push(value); else result[key] = [value];
  });

  // Indexes the object's values by a criterion, similar to `groupBy`, but for
  // when you know that your index values will be unique.
  _.indexBy = group(function(result, value, key) {
    result[key] = value;
  });

  // Counts instances of an object that group by a certain criterion. Pass
  // either a string attribute to count by, or a function that returns the
  // criterion.
  _.countBy = group(function(result, value, key) {
    if (_.has(result, key)) result[key]++; else result[key] = 1;
  });

  // Safely create a real, live array from anything iterable.
  _.toArray = function(obj) {
    if (!obj) return [];
    if (_.isArray(obj)) return slice.call(obj);
    if (isArrayLike(obj)) return _.map(obj, _.identity);
    return _.values(obj);
  };

  // Return the number of elements in an object.
  _.size = function(obj) {
    if (obj == null) return 0;
    return isArrayLike(obj) ? obj.length : _.keys(obj).length;
  };

  // Split a collection into two arrays: one whose elements all satisfy the given
  // predicate, and one whose elements all do not satisfy the predicate.
  _.partition = function(obj, predicate, context) {
    predicate = cb(predicate, context);
    var pass = [], fail = [];
    _.each(obj, function(value, key, obj) {
      (predicate(value, key, obj) ? pass : fail).push(value);
    });
    return [pass, fail];
  };

  // Array Functions
  // ---------------

  // Get the first element of an array. Passing **n** will return the first N
  // values in the array. Aliased as `head` and `take`. The **guard** check
  // allows it to work with `_.map`.
  _.first = _.head = _.take = function(array, n, guard) {
    if (array == null) return void 0;
    if (n == null || guard) return array[0];
    return _.initial(array, array.length - n);
  };

  // Returns everything but the last entry of the array. Especially useful on
  // the arguments object. Passing **n** will return all the values in
  // the array, excluding the last N.
  _.initial = function(array, n, guard) {
    return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));
  };

  // Get the last element of an array. Passing **n** will return the last N
  // values in the array.
  _.last = function(array, n, guard) {
    if (array == null) return void 0;
    if (n == null || guard) return array[array.length - 1];
    return _.rest(array, Math.max(0, array.length - n));
  };

  // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.
  // Especially useful on the arguments object. Passing an **n** will return
  // the rest N values in the array.
  _.rest = _.tail = _.drop = function(array, n, guard) {
    return slice.call(array, n == null || guard ? 1 : n);
  };

  // Trim out all falsy values from an array.
  _.compact = function(array) {
    return _.filter(array, _.identity);
  };

  // Internal implementation of a recursive `flatten` function.
  var flatten = function(input, shallow, strict, startIndex) {
    var output = [], idx = 0;
    for (var i = startIndex || 0, length = getLength(input); i < length; i++) {
      var value = input[i];
      if (isArrayLike(value) && (_.isArray(value) || _.isArguments(value))) {
        //flatten current level of array or arguments object
        if (!shallow) value = flatten(value, shallow, strict);
        var j = 0, len = value.length;
        output.length += len;
        while (j < len) {
          output[idx++] = value[j++];
        }
      } else if (!strict) {
        output[idx++] = value;
      }
    }
    return output;
  };

  // Flatten out an array, either recursively (by default), or just one level.
  _.flatten = function(array, shallow) {
    return flatten(array, shallow, false);
  };

  // Return a version of the array that does not contain the specified value(s).
  _.without = function(array) {
    return _.difference(array, slice.call(arguments, 1));
  };

  // Produce a duplicate-free version of the array. If the array has already
  // been sorted, you have the option of using a faster algorithm.
  // Aliased as `unique`.
  _.uniq = _.unique = function(array, isSorted, iteratee, context) {
    if (!_.isBoolean(isSorted)) {
      context = iteratee;
      iteratee = isSorted;
      isSorted = false;
    }
    if (iteratee != null) iteratee = cb(iteratee, context);
    var result = [];
    var seen = [];
    for (var i = 0, length = getLength(array); i < length; i++) {
      var value = array[i],
          computed = iteratee ? iteratee(value, i, array) : value;
      if (isSorted) {
        if (!i || seen !== computed) result.push(value);
        seen = computed;
      } else if (iteratee) {
        if (!_.contains(seen, computed)) {
          seen.push(computed);
          result.push(value);
        }
      } else if (!_.contains(result, value)) {
        result.push(value);
      }
    }
    return result;
  };

  // Produce an array that contains the union: each distinct element from all of
  // the passed-in arrays.
  _.union = function() {
    return _.uniq(flatten(arguments, true, true));
  };

  // Produce an array that contains every item shared between all the
  // passed-in arrays.
  _.intersection = function(array) {
    var result = [];
    var argsLength = arguments.length;
    for (var i = 0, length = getLength(array); i < length; i++) {
      var item = array[i];
      if (_.contains(result, item)) continue;
      for (var j = 1; j < argsLength; j++) {
        if (!_.contains(arguments[j], item)) break;
      }
      if (j === argsLength) result.push(item);
    }
    return result;
  };

  // Take the difference between one array and a number of other arrays.
  // Only the elements present in just the first array will remain.
  _.difference = function(array) {
    var rest = flatten(arguments, true, true, 1);
    return _.filter(array, function(value){
      return !_.contains(rest, value);
    });
  };

  // Zip together multiple lists into a single array -- elements that share
  // an index go together.
  _.zip = function() {
    return _.unzip(arguments);
  };

  // Complement of _.zip. Unzip accepts an array of arrays and groups
  // each array's elements on shared indices
  _.unzip = function(array) {
    var length = array && _.max(array, getLength).length || 0;
    var result = Array(length);

    for (var index = 0; index < length; index++) {
      result[index] = _.pluck(array, index);
    }
    return result;
  };

  // Converts lists into objects. Pass either a single array of `[key, value]`
  // pairs, or two parallel arrays of the same length -- one of keys, and one of
  // the corresponding values.
  _.object = function(list, values) {
    var result = {};
    for (var i = 0, length = getLength(list); i < length; i++) {
      if (values) {
        result[list[i]] = values[i];
      } else {
        result[list[i][0]] = list[i][1];
      }
    }
    return result;
  };

  // Generator function to create the findIndex and findLastIndex functions
  function createPredicateIndexFinder(dir) {
    return function(array, predicate, context) {
      predicate = cb(predicate, context);
      var length = getLength(array);
      var index = dir > 0 ? 0 : length - 1;
      for (; index >= 0 && index < length; index += dir) {
        if (predicate(array[index], index, array)) return index;
      }
      return -1;
    };
  }

  // Returns the first index on an array-like that passes a predicate test
  _.findIndex = createPredicateIndexFinder(1);
  _.findLastIndex = createPredicateIndexFinder(-1);

  // Use a comparator function to figure out the smallest index at which
  // an object should be inserted so as to maintain order. Uses binary search.
  _.sortedIndex = function(array, obj, iteratee, context) {
    iteratee = cb(iteratee, context, 1);
    var value = iteratee(obj);
    var low = 0, high = getLength(array);
    while (low < high) {
      var mid = Math.floor((low + high) / 2);
      if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;
    }
    return low;
  };

  // Generator function to create the indexOf and lastIndexOf functions
  function createIndexFinder(dir, predicateFind, sortedIndex) {
    return function(array, item, idx) {
      var i = 0, length = getLength(array);
      if (typeof idx == 'number') {
        if (dir > 0) {
            i = idx >= 0 ? idx : Math.max(idx + length, i);
        } else {
            length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;
        }
      } else if (sortedIndex && idx && length) {
        idx = sortedIndex(array, item);
        return array[idx] === item ? idx : -1;
      }
      if (item !== item) {
        idx = predicateFind(slice.call(array, i, length), _.isNaN);
        return idx >= 0 ? idx + i : -1;
      }
      for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {
        if (array[idx] === item) return idx;
      }
      return -1;
    };
  }

  // Return the position of the first occurrence of an item in an array,
  // or -1 if the item is not included in the array.
  // If the array is large and already in sort order, pass `true`
  // for **isSorted** to use binary search.
  _.indexOf = createIndexFinder(1, _.findIndex, _.sortedIndex);
  _.lastIndexOf = createIndexFinder(-1, _.findLastIndex);

  // Generate an integer Array containing an arithmetic progression. A port of
  // the native Python `range()` function. See
  // [the Python documentation](http://docs.python.org/library/functions.html#range).
  _.range = function(start, stop, step) {
    if (stop == null) {
      stop = start || 0;
      start = 0;
    }
    step = step || 1;

    var length = Math.max(Math.ceil((stop - start) / step), 0);
    var range = Array(length);

    for (var idx = 0; idx < length; idx++, start += step) {
      range[idx] = start;
    }

    return range;
  };

  // Function (ahem) Functions
  // ------------------

  // Determines whether to execute a function as a constructor
  // or a normal function with the provided arguments
  var executeBound = function(sourceFunc, boundFunc, context, callingContext, args) {
    if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);
    var self = baseCreate(sourceFunc.prototype);
    var result = sourceFunc.apply(self, args);
    if (_.isObject(result)) return result;
    return self;
  };

  // Create a function bound to a given object (assigning `this`, and arguments,
  // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if
  // available.
  _.bind = function(func, context) {
    if (nativeBind && func.bind === nativeBind) return nativeBind.apply(func, slice.call(arguments, 1));
    if (!_.isFunction(func)) throw new TypeError('Bind must be called on a function');
    var args = slice.call(arguments, 2);
    var bound = function() {
      return executeBound(func, bound, context, this, args.concat(slice.call(arguments)));
    };
    return bound;
  };

  // Partially apply a function by creating a version that has had some of its
  // arguments pre-filled, without changing its dynamic `this` context. _ acts
  // as a placeholder, allowing any combination of arguments to be pre-filled.
  _.partial = function(func) {
    var boundArgs = slice.call(arguments, 1);
    var bound = function() {
      var position = 0, length = boundArgs.length;
      var args = Array(length);
      for (var i = 0; i < length; i++) {
        args[i] = boundArgs[i] === _ ? arguments[position++] : boundArgs[i];
      }
      while (position < arguments.length) args.push(arguments[position++]);
      return executeBound(func, bound, this, this, args);
    };
    return bound;
  };

  // Bind a number of an object's methods to that object. Remaining arguments
  // are the method names to be bound. Useful for ensuring that all callbacks
  // defined on an object belong to it.
  _.bindAll = function(obj) {
    var i, length = arguments.length, key;
    if (length <= 1) throw new Error('bindAll must be passed function names');
    for (i = 1; i < length; i++) {
      key = arguments[i];
      obj[key] = _.bind(obj[key], obj);
    }
    return obj;
  };

  // Memoize an expensive function by storing its results.
  _.memoize = function(func, hasher) {
    var memoize = function(key) {
      var cache = memoize.cache;
      var address = '' + (hasher ? hasher.apply(this, arguments) : key);
      if (!_.has(cache, address)) cache[address] = func.apply(this, arguments);
      return cache[address];
    };
    memoize.cache = {};
    return memoize;
  };

  // Delays a function for the given number of milliseconds, and then calls
  // it with the arguments supplied.
  _.delay = function(func, wait) {
    var args = slice.call(arguments, 2);
    return setTimeout(function(){
      return func.apply(null, args);
    }, wait);
  };

  // Defers a function, scheduling it to run after the current call stack has
  // cleared.
  _.defer = _.partial(_.delay, _, 1);

  // Returns a function, that, when invoked, will only be triggered at most once
  // during a given window of time. Normally, the throttled function will run
  // as much as it can, without ever going more than once per `wait` duration;
  // but if you'd like to disable the execution on the leading edge, pass
  // `{leading: false}`. To disable execution on the trailing edge, ditto.
  _.throttle = function(func, wait, options) {
    var context, args, result;
    var timeout = null;
    var previous = 0;
    if (!options) options = {};
    var later = function() {
      previous = options.leading === false ? 0 : _.now();
      timeout = null;
      result = func.apply(context, args);
      if (!timeout) context = args = null;
    };
    return function() {
      var now = _.now();
      if (!previous && options.leading === false) previous = now;
      var remaining = wait - (now - previous);
      context = this;
      args = arguments;
      if (remaining <= 0 || remaining > wait) {
        if (timeout) {
          clearTimeout(timeout);
          timeout = null;
        }
        previous = now;
        result = func.apply(context, args);
        if (!timeout) context = args = null;
      } else if (!timeout && options.trailing !== false) {
        timeout = setTimeout(later, remaining);
      }
      return result;
    };
  };

  // Returns a function, that, as long as it continues to be invoked, will not
  // be triggered. The function will be called after it stops being called for
  // N milliseconds. If `immediate` is passed, trigger the function on the
  // leading edge, instead of the trailing.
  _.debounce = function(func, wait, immediate) {
    var timeout, args, context, timestamp, result;

    var later = function() {
      var last = _.now() - timestamp;

      if (last < wait && last >= 0) {
        timeout = setTimeout(later, wait - last);
      } else {
        timeout = null;
        if (!immediate) {
          result = func.apply(context, args);
          if (!timeout) context = args = null;
        }
      }
    };

    return function() {
      context = this;
      args = arguments;
      timestamp = _.now();
      var callNow = immediate && !timeout;
      if (!timeout) timeout = setTimeout(later, wait);
      if (callNow) {
        result = func.apply(context, args);
        context = args = null;
      }

      return result;
    };
  };

  // Returns the first function passed as an argument to the second,
  // allowing you to adjust arguments, run code before and after, and
  // conditionally execute the original function.
  _.wrap = function(func, wrapper) {
    return _.partial(wrapper, func);
  };

  // Returns a negated version of the passed-in predicate.
  _.negate = function(predicate) {
    return function() {
      return !predicate.apply(this, arguments);
    };
  };

  // Returns a function that is the composition of a list of functions, each
  // consuming the return value of the function that follows.
  _.compose = function() {
    var args = arguments;
    var start = args.length - 1;
    return function() {
      var i = start;
      var result = args[start].apply(this, arguments);
      while (i--) result = args[i].call(this, result);
      return result;
    };
  };

  // Returns a function that will only be executed on and after the Nth call.
  _.after = function(times, func) {
    return function() {
      if (--times < 1) {
        return func.apply(this, arguments);
      }
    };
  };

  // Returns a function that will only be executed up to (but not including) the Nth call.
  _.before = function(times, func) {
    var memo;
    return function() {
      if (--times > 0) {
        memo = func.apply(this, arguments);
      }
      if (times <= 1) func = null;
      return memo;
    };
  };

  // Returns a function that will be executed at most one time, no matter how
  // often you call it. Useful for lazy initialization.
  _.once = _.partial(_.before, 2);

  // Object Functions
  // ----------------

  // Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.
  var hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');
  var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',
                      'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];

  function collectNonEnumProps(obj, keys) {
    var nonEnumIdx = nonEnumerableProps.length;
    var constructor = obj.constructor;
    var proto = (_.isFunction(constructor) && constructor.prototype) || ObjProto;

    // Constructor is a special case.
    var prop = 'constructor';
    if (_.has(obj, prop) && !_.contains(keys, prop)) keys.push(prop);

    while (nonEnumIdx--) {
      prop = nonEnumerableProps[nonEnumIdx];
      if (prop in obj && obj[prop] !== proto[prop] && !_.contains(keys, prop)) {
        keys.push(prop);
      }
    }
  }

  // Retrieve the names of an object's own properties.
  // Delegates to **ECMAScript 5**'s native `Object.keys`
  _.keys = function(obj) {
    if (!_.isObject(obj)) return [];
    if (nativeKeys) return nativeKeys(obj);
    var keys = [];
    for (var key in obj) if (_.has(obj, key)) keys.push(key);
    // Ahem, IE < 9.
    if (hasEnumBug) collectNonEnumProps(obj, keys);
    return keys;
  };

  // Retrieve all the property names of an object.
  _.allKeys = function(obj) {
    if (!_.isObject(obj)) return [];
    var keys = [];
    for (var key in obj) keys.push(key);
    // Ahem, IE < 9.
    if (hasEnumBug) collectNonEnumProps(obj, keys);
    return keys;
  };

  // Retrieve the values of an object's properties.
  _.values = function(obj) {
    var keys = _.keys(obj);
    var length = keys.length;
    var values = Array(length);
    for (var i = 0; i < length; i++) {
      values[i] = obj[keys[i]];
    }
    return values;
  };

  // Returns the results of applying the iteratee to each element of the object
  // In contrast to _.map it returns an object
  _.mapObject = function(obj, iteratee, context) {
    iteratee = cb(iteratee, context);
    var keys =  _.keys(obj),
          length = keys.length,
          results = {},
          currentKey;
      for (var index = 0; index < length; index++) {
        currentKey = keys[index];
        results[currentKey] = iteratee(obj[currentKey], currentKey, obj);
      }
      return results;
  };

  // Convert an object into a list of `[key, value]` pairs.
  _.pairs = function(obj) {
    var keys = _.keys(obj);
    var length = keys.length;
    var pairs = Array(length);
    for (var i = 0; i < length; i++) {
      pairs[i] = [keys[i], obj[keys[i]]];
    }
    return pairs;
  };

  // Invert the keys and values of an object. The values must be serializable.
  _.invert = function(obj) {
    var result = {};
    var keys = _.keys(obj);
    for (var i = 0, length = keys.length; i < length; i++) {
      result[obj[keys[i]]] = keys[i];
    }
    return result;
  };

  // Return a sorted list of the function names available on the object.
  // Aliased as `methods`
  _.functions = _.methods = function(obj) {
    var names = [];
    for (var key in obj) {
      if (_.isFunction(obj[key])) names.push(key);
    }
    return names.sort();
  };

  // Extend a given object with all the properties in passed-in object(s).
  _.extend = createAssigner(_.allKeys);

  // Assigns a given object with all the own properties in the passed-in object(s)
  // (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)
  _.extendOwn = _.assign = createAssigner(_.keys);

  // Returns the first key on an object that passes a predicate test
  _.findKey = function(obj, predicate, context) {
    predicate = cb(predicate, context);
    var keys = _.keys(obj), key;
    for (var i = 0, length = keys.length; i < length; i++) {
      key = keys[i];
      if (predicate(obj[key], key, obj)) return key;
    }
  };

  // Return a copy of the object only containing the whitelisted properties.
  _.pick = function(object, oiteratee, context) {
    var result = {}, obj = object, iteratee, keys;
    if (obj == null) return result;
    if (_.isFunction(oiteratee)) {
      keys = _.allKeys(obj);
      iteratee = optimizeCb(oiteratee, context);
    } else {
      keys = flatten(arguments, false, false, 1);
      iteratee = function(value, key, obj) { return key in obj; };
      obj = Object(obj);
    }
    for (var i = 0, length = keys.length; i < length; i++) {
      var key = keys[i];
      var value = obj[key];
      if (iteratee(value, key, obj)) result[key] = value;
    }
    return result;
  };

   // Return a copy of the object without the blacklisted properties.
  _.omit = function(obj, iteratee, context) {
    if (_.isFunction(iteratee)) {
      iteratee = _.negate(iteratee);
    } else {
      var keys = _.map(flatten(arguments, false, false, 1), String);
      iteratee = function(value, key) {
        return !_.contains(keys, key);
      };
    }
    return _.pick(obj, iteratee, context);
  };

  // Fill in a given object with default properties.
  _.defaults = createAssigner(_.allKeys, true);

  // Creates an object that inherits from the given prototype object.
  // If additional properties are provided then they will be added to the
  // created object.
  _.create = function(prototype, props) {
    var result = baseCreate(prototype);
    if (props) _.extendOwn(result, props);
    return result;
  };

  // Create a (shallow-cloned) duplicate of an object.
  _.clone = function(obj) {
    if (!_.isObject(obj)) return obj;
    return _.isArray(obj) ? obj.slice() : _.extend({}, obj);
  };

  // Invokes interceptor with the obj, and then returns obj.
  // The primary purpose of this method is to "tap into" a method chain, in
  // order to perform operations on intermediate results within the chain.
  _.tap = function(obj, interceptor) {
    interceptor(obj);
    return obj;
  };

  // Returns whether an object has a given set of `key:value` pairs.
  _.isMatch = function(object, attrs) {
    var keys = _.keys(attrs), length = keys.length;
    if (object == null) return !length;
    var obj = Object(object);
    for (var i = 0; i < length; i++) {
      var key = keys[i];
      if (attrs[key] !== obj[key] || !(key in obj)) return false;
    }
    return true;
  };


  // Internal recursive comparison function for `isEqual`.
  var eq = function(a, b, aStack, bStack) {
    // Identical objects are equal. `0 === -0`, but they aren't identical.
    // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).
    if (a === b) return a !== 0 || 1 / a === 1 / b;
    // A strict comparison is necessary because `null == undefined`.
    if (a == null || b == null) return a === b;
    // Unwrap any wrapped objects.
    if (a instanceof _) a = a._wrapped;
    if (b instanceof _) b = b._wrapped;
    // Compare `[[Class]]` names.
    var className = toString.call(a);
    if (className !== toString.call(b)) return false;
    switch (className) {
      // Strings, numbers, regular expressions, dates, and booleans are compared by value.
      case '[object RegExp]':
      // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')
      case '[object String]':
        // Primitives and their corresponding object wrappers are equivalent; thus, `"5"` is
        // equivalent to `new String("5")`.
        return '' + a === '' + b;
      case '[object Number]':
        // `NaN`s are equivalent, but non-reflexive.
        // Object(NaN) is equivalent to NaN
        if (+a !== +a) return +b !== +b;
        // An `egal` comparison is performed for other numeric values.
        return +a === 0 ? 1 / +a === 1 / b : +a === +b;
      case '[object Date]':
      case '[object Boolean]':
        // Coerce dates and booleans to numeric primitive values. Dates are compared by their
        // millisecond representations. Note that invalid dates with millisecond representations
        // of `NaN` are not equivalent.
        return +a === +b;
    }

    var areArrays = className === '[object Array]';
    if (!areArrays) {
      if (typeof a != 'object' || typeof b != 'object') return false;

      // Objects with different constructors are not equivalent, but `Object`s or `Array`s
      // from different frames are.
      var aCtor = a.constructor, bCtor = b.constructor;
      if (aCtor !== bCtor && !(_.isFunction(aCtor) && aCtor instanceof aCtor &&
                               _.isFunction(bCtor) && bCtor instanceof bCtor)
                          && ('constructor' in a && 'constructor' in b)) {
        return false;
      }
    }
    // Assume equality for cyclic structures. The algorithm for detecting cyclic
    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.

    // Initializing stack of traversed objects.
    // It's done here since we only need them for objects and arrays comparison.
    aStack = aStack || [];
    bStack = bStack || [];
    var length = aStack.length;
    while (length--) {
      // Linear search. Performance is inversely proportional to the number of
      // unique nested structures.
      if (aStack[length] === a) return bStack[length] === b;
    }

    // Add the first object to the stack of traversed objects.
    aStack.push(a);
    bStack.push(b);

    // Recursively compare objects and arrays.
    if (areArrays) {
      // Compare array lengths to determine if a deep comparison is necessary.
      length = a.length;
      if (length !== b.length) return false;
      // Deep compare the contents, ignoring non-numeric properties.
      while (length--) {
        if (!eq(a[length], b[length], aStack, bStack)) return false;
      }
    } else {
      // Deep compare objects.
      var keys = _.keys(a), key;
      length = keys.length;
      // Ensure that both objects contain the same number of properties before comparing deep equality.
      if (_.keys(b).length !== length) return false;
      while (length--) {
        // Deep compare each member
        key = keys[length];
        if (!(_.has(b, key) && eq(a[key], b[key], aStack, bStack))) return false;
      }
    }
    // Remove the first object from the stack of traversed objects.
    aStack.pop();
    bStack.pop();
    return true;
  };

  // Perform a deep comparison to check if two objects are equal.
  _.isEqual = function(a, b) {
    return eq(a, b);
  };

  // Is a given array, string, or object empty?
  // An "empty" object has no enumerable own-properties.
  _.isEmpty = function(obj) {
    if (obj == null) return true;
    if (isArrayLike(obj) && (_.isArray(obj) || _.isString(obj) || _.isArguments(obj))) return obj.length === 0;
    return _.keys(obj).length === 0;
  };

  // Is a given value a DOM element?
  _.isElement = function(obj) {
    return !!(obj && obj.nodeType === 1);
  };

  // Is a given value an array?
  // Delegates to ECMA5's native Array.isArray
  _.isArray = nativeIsArray || function(obj) {
    return toString.call(obj) === '[object Array]';
  };

  // Is a given variable an object?
  _.isObject = function(obj) {
    var type = typeof obj;
    return type === 'function' || type === 'object' && !!obj;
  };

  // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp, isError.
  _.each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp', 'Error'], function(name) {
    _['is' + name] = function(obj) {
      return toString.call(obj) === '[object ' + name + ']';
    };
  });

  // Define a fallback version of the method in browsers (ahem, IE < 9), where
  // there isn't any inspectable "Arguments" type.
  if (!_.isArguments(arguments)) {
    _.isArguments = function(obj) {
      return _.has(obj, 'callee');
    };
  }

  // Optimize `isFunction` if appropriate. Work around some typeof bugs in old v8,
  // IE 11 (#1621), and in Safari 8 (#1929).
  if (typeof /./ != 'function' && typeof Int8Array != 'object') {
    _.isFunction = function(obj) {
      return typeof obj == 'function' || false;
    };
  }

  // Is a given object a finite number?
  _.isFinite = function(obj) {
    return isFinite(obj) && !isNaN(parseFloat(obj));
  };

  // Is the given value `NaN`? (NaN is the only number which does not equal itself).
  _.isNaN = function(obj) {
    return _.isNumber(obj) && obj !== +obj;
  };

  // Is a given value a boolean?
  _.isBoolean = function(obj) {
    return obj === true || obj === false || toString.call(obj) === '[object Boolean]';
  };

  // Is a given value equal to null?
  _.isNull = function(obj) {
    return obj === null;
  };

  // Is a given variable undefined?
  _.isUndefined = function(obj) {
    return obj === void 0;
  };

  // Shortcut function for checking if an object has a given property directly
  // on itself (in other words, not on a prototype).
  _.has = function(obj, key) {
    return obj != null && hasOwnProperty.call(obj, key);
  };

  // Utility Functions
  // -----------------

  // Run Underscore.js in *noConflict* mode, returning the `_` variable to its
  // previous owner. Returns a reference to the Underscore object.
  _.noConflict = function() {
    root._ = previousUnderscore;
    return this;
  };

  // Keep the identity function around for default iteratees.
  _.identity = function(value) {
    return value;
  };

  // Predicate-generating functions. Often useful outside of Underscore.
  _.constant = function(value) {
    return function() {
      return value;
    };
  };

  _.noop = function(){};

  _.property = property;

  // Generates a function for a given object that returns a given property.
  _.propertyOf = function(obj) {
    return obj == null ? function(){} : function(key) {
      return obj[key];
    };
  };

  // Returns a predicate for checking whether an object has a given set of
  // `key:value` pairs.
  _.matcher = _.matches = function(attrs) {
    attrs = _.extendOwn({}, attrs);
    return function(obj) {
      return _.isMatch(obj, attrs);
    };
  };

  // Run a function **n** times.
  _.times = function(n, iteratee, context) {
    var accum = Array(Math.max(0, n));
    iteratee = optimizeCb(iteratee, context, 1);
    for (var i = 0; i < n; i++) accum[i] = iteratee(i);
    return accum;
  };

  // Return a random integer between min and max (inclusive).
  _.random = function(min, max) {
    if (max == null) {
      max = min;
      min = 0;
    }
    return min + Math.floor(Math.random() * (max - min + 1));
  };

  // A (possibly faster) way to get the current timestamp as an integer.
  _.now = Date.now || function() {
    return new Date().getTime();
  };

   // List of HTML entities for escaping.
  var escapeMap = {
    '&': '&amp;',
    '<': '&lt;',
    '>': '&gt;',
    '"': '&quot;',
    "'": '&#x27;',
    '`': '&#x60;'
  };
  var unescapeMap = _.invert(escapeMap);

  // Functions for escaping and unescaping strings to/from HTML interpolation.
  var createEscaper = function(map) {
    var escaper = function(match) {
      return map[match];
    };
    // Regexes for identifying a key that needs to be escaped
    var source = '(?:' + _.keys(map).join('|') + ')';
    var testRegexp = RegExp(source);
    var replaceRegexp = RegExp(source, 'g');
    return function(string) {
      string = string == null ? '' : '' + string;
      return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;
    };
  };
  _.escape = createEscaper(escapeMap);
  _.unescape = createEscaper(unescapeMap);

  // If the value of the named `property` is a function then invoke it with the
  // `object` as context; otherwise, return it.
  _.result = function(object, property, fallback) {
    var value = object == null ? void 0 : object[property];
    if (value === void 0) {
      value = fallback;
    }
    return _.isFunction(value) ? value.call(object) : value;
  };

  // Generate a unique integer id (unique within the entire client session).
  // Useful for temporary DOM ids.
  var idCounter = 0;
  _.uniqueId = function(prefix) {
    var id = ++idCounter + '';
    return prefix ? prefix + id : id;
  };

  // By default, Underscore uses ERB-style template delimiters, change the
  // following template settings to use alternative delimiters.
  _.templateSettings = {
    evaluate    : /<%([\s\S]+?)%>/g,
    interpolate : /<%=([\s\S]+?)%>/g,
    escape      : /<%-([\s\S]+?)%>/g
  };

  // When customizing `templateSettings`, if you don't want to define an
  // interpolation, evaluation or escaping regex, we need one that is
  // guaranteed not to match.
  var noMatch = /(.)^/;

  // Certain characters need to be escaped so that they can be put into a
  // string literal.
  var escapes = {
    "'":      "'",
    '\\':     '\\',
    '\r':     'r',
    '\n':     'n',
    '\u2028': 'u2028',
    '\u2029': 'u2029'
  };

  var escaper = /\\|'|\r|\n|\u2028|\u2029/g;

  var escapeChar = function(match) {
    return '\\' + escapes[match];
  };

  // JavaScript micro-templating, similar to John Resig's implementation.
  // Underscore templating handles arbitrary delimiters, preserves whitespace,
  // and correctly escapes quotes within interpolated code.
  // NB: `oldSettings` only exists for backwards compatibility.
  _.template = function(text, settings, oldSettings) {
    if (!settings && oldSettings) settings = oldSettings;
    settings = _.defaults({}, settings, _.templateSettings);

    // Combine delimiters into one regular expression via alternation.
    var matcher = RegExp([
      (settings.escape || noMatch).source,
      (settings.interpolate || noMatch).source,
      (settings.evaluate || noMatch).source
    ].join('|') + '|$', 'g');

    // Compile the template source, escaping string literals appropriately.
    var index = 0;
    var source = "__p+='";
    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {
      source += text.slice(index, offset).replace(escaper, escapeChar);
      index = offset + match.length;

      if (escape) {
        source += "'+\n((__t=(" + escape + "))==null?'':_.escape(__t))+\n'";
      } else if (interpolate) {
        source += "'+\n((__t=(" + interpolate + "))==null?'':__t)+\n'";
      } else if (evaluate) {
        source += "';\n" + evaluate + "\n__p+='";
      }

      // Adobe VMs need the match returned to produce the correct offest.
      return match;
    });
    source += "';\n";

    // If a variable is not specified, place data values in local scope.
    if (!settings.variable) source = 'with(obj||{}){\n' + source + '}\n';

    source = "var __t,__p='',__j=Array.prototype.join," +
      "print=function(){__p+=__j.call(arguments,'');};\n" +
      source + 'return __p;\n';

    try {
      var render = new Function(settings.variable || 'obj', '_', source);
    } catch (e) {
      e.source = source;
      throw e;
    }

    var template = function(data) {
      return render.call(this, data, _);
    };

    // Provide the compiled source as a convenience for precompilation.
    var argument = settings.variable || 'obj';
    template.source = 'function(' + argument + '){\n' + source + '}';

    return template;
  };

  // Add a "chain" function. Start chaining a wrapped Underscore object.
  _.chain = function(obj) {
    var instance = _(obj);
    instance._chain = true;
    return instance;
  };

  // OOP
  // ---------------
  // If Underscore is called as a function, it returns a wrapped object that
  // can be used OO-style. This wrapper holds altered versions of all the
  // underscore functions. Wrapped objects may be chained.

  // Helper function to continue chaining intermediate results.
  var result = function(instance, obj) {
    return instance._chain ? _(obj).chain() : obj;
  };

  // Add your own custom functions to the Underscore object.
  _.mixin = function(obj) {
    _.each(_.functions(obj), function(name) {
      var func = _[name] = obj[name];
      _.prototype[name] = function() {
        var args = [this._wrapped];
        push.apply(args, arguments);
        return result(this, func.apply(_, args));
      };
    });
  };

  // Add all of the Underscore functions to the wrapper object.
  _.mixin(_);

  // Add all mutator Array functions to the wrapper.
  _.each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {
    var method = ArrayProto[name];
    _.prototype[name] = function() {
      var obj = this._wrapped;
      method.apply(obj, arguments);
      if ((name === 'shift' || name === 'splice') && obj.length === 0) delete obj[0];
      return result(this, obj);
    };
  });

  // Add all accessor Array functions to the wrapper.
  _.each(['concat', 'join', 'slice'], function(name) {
    var method = ArrayProto[name];
    _.prototype[name] = function() {
      return result(this, method.apply(this._wrapped, arguments));
    };
  });

  // Extracts the result from a wrapped and chained object.
  _.prototype.value = function() {
    return this._wrapped;
  };

  // Provide unwrapping proxy for some methods used in engine operations
  // such as arithmetic and JSON stringification.
  _.prototype.valueOf = _.prototype.toJSON = _.prototype.value;

  _.prototype.toString = function() {
    return '' + this._wrapped;
  };

  // AMD registration happens at the end for compatibility with AMD loaders
  // that may not enforce next-turn semantics on modules. Even though general
  // practice for AMD registration is to be anonymous, underscore registers
  // as a named module because, like jQuery, it is a base library that is
  // popular enough to be bundled in a third party lib, but not be part of
  // an AMD load request. Those cases could generate an error when an
  // anonymous define() is called outside of a loader request.
  if (typeof define === 'function' && define.amd) {
    define('underscore', [], function() {
      return _;
    });
  }
}.call(this));
/*
 * A JavaScript implementation of the Secure Hash Algorithm, SHA-1, as defined
 * in FIPS PUB 180-1
 * Version 2.1a Copyright Paul Johnston 2000 - 2002.
 * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet
 * Distributed under the BSD License
 * See http://pajhome.org.uk/crypt/md5 for details.
 */

/*
 * Configurable variables. You may need to tweak these to be compatible with
 * the server-side, but the defaults work in most cases.
 */
var hexcase = 0;  /* hex output format. 0 - lowercase; 1 - uppercase        */
var b64pad  = "="; /* base-64 pad character. "=" for strict RFC compliance   */
var chrsz   = 8;  /* bits per input character. 8 - ASCII; 16 - Unicode      */

/*
 * These are the functions you'll usually want to call
 * They take string arguments and return either hex or base-64 encoded strings
 */
function hex_sha1(s){return binb2hex(core_sha1(str2binb(s),s.length * chrsz));}
function b64_sha1(s){return binb2b64(core_sha1(str2binb(s),s.length * chrsz));}
function str_sha1(s){return binb2str(core_sha1(str2binb(s),s.length * chrsz));}
function hex_hmac_sha1(key, data){ return binb2hex(core_hmac_sha1(key, data));}
function b64_hmac_sha1(key, data){ return binb2b64(core_hmac_sha1(key, data));}
function str_hmac_sha1(key, data){ return binb2str(core_hmac_sha1(key, data));}

/*
 * Perform a simple self-test to see if the VM is working
 */
function sha1_vm_test()
{
  return hex_sha1("abc") == "a9993e364706816aba3e25717850c26c9cd0d89d";
}

/*
 * Calculate the SHA-1 of an array of big-endian words, and a bit length
 */
function core_sha1(x, len)
{
  /* append padding */
  x[len >> 5] |= 0x80 << (24 - len % 32);
  x[((len + 64 >> 9) << 4) + 15] = len;

  var w = Array(80);
  var a =  1732584193;
  var b = -271733879;
  var c = -1732584194;
  var d =  271733878;
  var e = -1009589776;

  for(var i = 0; i < x.length; i += 16)
  {
    var olda = a;
    var oldb = b;
    var oldc = c;
    var oldd = d;
    var olde = e;

    for(var j = 0; j < 80; j++)
    {
      if(j < 16) w[j] = x[i + j];
      else w[j] = rol(w[j-3] ^ w[j-8] ^ w[j-14] ^ w[j-16], 1);
      var t = safe_add(safe_add(rol(a, 5), sha1_ft(j, b, c, d)),
                       safe_add(safe_add(e, w[j]), sha1_kt(j)));
      e = d;
      d = c;
      c = rol(b, 30);
      b = a;
      a = t;
    }

    a = safe_add(a, olda);
    b = safe_add(b, oldb);
    c = safe_add(c, oldc);
    d = safe_add(d, oldd);
    e = safe_add(e, olde);
  }
  return Array(a, b, c, d, e);

}

/*
 * Perform the appropriate triplet combination function for the current
 * iteration
 */
function sha1_ft(t, b, c, d)
{
  if(t < 20) return (b & c) | ((~b) & d);
  if(t < 40) return b ^ c ^ d;
  if(t < 60) return (b & c) | (b & d) | (c & d);
  return b ^ c ^ d;
}

/*
 * Determine the appropriate additive constant for the current iteration
 */
function sha1_kt(t)
{
  return (t < 20) ?  1518500249 : (t < 40) ?  1859775393 :
         (t < 60) ? -1894007588 : -899497514;
}

/*
 * Calculate the HMAC-SHA1 of a key and some data
 */
function core_hmac_sha1(key, data)
{
  var bkey = str2binb(key);
  if(bkey.length > 16) bkey = core_sha1(bkey, key.length * chrsz);

  var ipad = Array(16), opad = Array(16);
  for(var i = 0; i < 16; i++)
  {
    ipad[i] = bkey[i] ^ 0x36363636;
    opad[i] = bkey[i] ^ 0x5C5C5C5C;
  }

  var hash = core_sha1(ipad.concat(str2binb(data)), 512 + data.length * chrsz);
  return core_sha1(opad.concat(hash), 512 + 160);
}

/*
 * Add integers, wrapping at 2^32. This uses 16-bit operations internally
 * to work around bugs in some JS interpreters.
 */
function safe_add(x, y)
{
  var lsw = (x & 0xFFFF) + (y & 0xFFFF);
  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);
  return (msw << 16) | (lsw & 0xFFFF);
}

/*
 * Bitwise rotate a 32-bit number to the left.
 */
function rol(num, cnt)
{
  return (num << cnt) | (num >>> (32 - cnt));
}

/*
 * Convert an 8-bit or 16-bit string to an array of big-endian words
 * In 8-bit function, characters >255 have their hi-byte silently ignored.
 */
function str2binb(str)
{
  var bin = Array();
  var mask = (1 << chrsz) - 1;
  for(var i = 0; i < str.length * chrsz; i += chrsz)
    bin[i>>5] |= (str.charCodeAt(i / chrsz) & mask) << (32 - chrsz - i%32);
  return bin;
}

/*
 * Convert an array of big-endian words to a string
 */
function binb2str(bin)
{
  var str = "";
  var mask = (1 << chrsz) - 1;
  for(var i = 0; i < bin.length * 32; i += chrsz)
    str += String.fromCharCode((bin[i>>5] >>> (32 - chrsz - i%32)) & mask);
  return str;
}

/*
 * Convert an array of big-endian words to a hex string.
 */
function binb2hex(binarray)
{
  var hex_tab = hexcase ? "0123456789ABCDEF" : "0123456789abcdef";
  var str = "";
  for(var i = 0; i < binarray.length * 4; i++)
  {
    str += hex_tab.charAt((binarray[i>>2] >> ((3 - i%4)*8+4)) & 0xF) +
           hex_tab.charAt((binarray[i>>2] >> ((3 - i%4)*8  )) & 0xF);
  }
  return str;
}

/*
 * Convert an array of big-endian words to a base-64 string
 */
function binb2b64(binarray)
{
  var tab = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
  var str = "";
  for(var i = 0; i < binarray.length * 4; i += 3)
  {
    var triplet = (((binarray[i   >> 2] >> 8 * (3 -  i   %4)) & 0xFF) << 16)
                | (((binarray[i+1 >> 2] >> 8 * (3 - (i+1)%4)) & 0xFF) << 8 )
                |  ((binarray[i+2 >> 2] >> 8 * (3 - (i+2)%4)) & 0xFF);
    for(var j = 0; j < 4; j++)
    {
      if(i * 8 + j * 6 > binarray.length * 32) str += b64pad;
      else str += tab.charAt((triplet >> 6*(3-j)) & 0x3F);
    }
  }
  return str;
}

// i18next, v1.11.2
// Copyright (c)2015 Jan Mühlemann (jamuhl).
// Distributed under MIT license
// http://i18next.com
!function(a){function b(a,b){if(!b||"function"==typeof b)return a;for(var c in b)a[c]=b[c];return a}function c(a,b,d){for(var e in b)e in a?"string"==typeof a[e]||a[e]instanceof String||"string"==typeof b[e]||b[e]instanceof String?d&&(a[e]=b[e]):c(a[e],b[e],d):a[e]=b[e];return a}function d(a,b,c){var d,e=0,f=a.length,g=void 0===f||"[object Array]"!==Object.prototype.toString.apply(a)||"function"==typeof a;if(c)if(g){for(d in a)if(b.apply(a[d],c)===!1)break}else for(;f>e&&b.apply(a[e++],c)!==!1;);else if(g){for(d in a)if(b.call(a[d],d,a[d])===!1)break}else for(;f>e&&b.call(a[e],e,a[e++])!==!1;);return a}function e(a){return"string"==typeof a?a.replace(/[&<>"'\/]/g,function(a){return V[a]}):a}function f(a){var b=function(a){if(window.XMLHttpRequest)return a(null,new XMLHttpRequest);if(window.ActiveXObject)try{return a(null,new ActiveXObject("Msxml2.XMLHTTP"))}catch(b){return a(null,new ActiveXObject("Microsoft.XMLHTTP"))}return a(new Error)},c=function(a){if("string"==typeof a)return a;var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")},d=function(a){a=a.replace(/\r\n/g,"\n");for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b+=String.fromCharCode(d):d>127&&2048>d?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(63&d|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(63&d|128))}return b},e=function(a){var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a=d(a);var c,e,f,g,h,i,j,k="",l=0;do c=a.charCodeAt(l++),e=a.charCodeAt(l++),f=a.charCodeAt(l++),g=c>>2,h=(3&c)<<4|e>>4,i=(15&e)<<2|f>>6,j=63&f,isNaN(e)?i=j=64:isNaN(f)&&(j=64),k+=b.charAt(g)+b.charAt(h)+b.charAt(i)+b.charAt(j),c=e=f="",g=h=i=j="";while(l<a.length);return k},f=function(){for(var a=arguments[0],b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])}return a},g=function(a,d,e,h){"function"==typeof e&&(h=e,e={}),e.cache=e.cache||!1,e.data=e.data||{},e.headers=e.headers||{},e.jsonp=e.jsonp||!1,e.async=void 0===e.async?!0:e.async;var i,j=f({accept:"*/*","content-type":"application/x-www-form-urlencoded;charset=UTF-8"},g.headers,e.headers);if(i="application/json"===j["content-type"]?JSON.stringify(e.data):c(e.data),"GET"===a){var k=[];if(i&&(k.push(i),i=null),e.cache||k.push("_="+(new Date).getTime()),e.jsonp&&(k.push("callback="+e.jsonp),k.push("jsonp="+e.jsonp)),k=k.join("&"),k.length>1&&(d+=d.indexOf("?")>-1?"&"+k:"?"+k),e.jsonp){var l=document.getElementsByTagName("head")[0],m=document.createElement("script");return m.type="text/javascript",m.src=d,void l.appendChild(m)}}b(function(b,c){if(b)return h(b);c.open(a,d,e.async);for(var f in j)j.hasOwnProperty(f)&&c.setRequestHeader(f,j[f]);c.onreadystatechange=function(){if(4===c.readyState){var a=c.responseText||"";if(!h)return;h(c.status,{text:function(){return a},json:function(){try{return JSON.parse(a)}catch(b){return Y.error("Can not parse JSON. URL: "+d),{}}}})}},c.send(i)})},h={authBasic:function(a,b){g.headers.Authorization="Basic "+e(a+":"+b)},connect:function(a,b,c){return g("CONNECT",a,b,c)},del:function(a,b,c){return g("DELETE",a,b,c)},get:function(a,b,c){return g("GET",a,b,c)},head:function(a,b,c){return g("HEAD",a,b,c)},headers:function(a){g.headers=a||{}},isAllowed:function(a,b,c){this.options(a,function(a,d){c(-1!==d.text().indexOf(b))})},options:function(a,b,c){return g("OPTIONS",a,b,c)},patch:function(a,b,c){return g("PATCH",a,b,c)},post:function(a,b,c){return g("POST",a,b,c)},put:function(a,b,c){return g("PUT",a,b,c)},trace:function(a,b,c){return g("TRACE",a,b,c)}},i=a.type?a.type.toLowerCase():"get";h[i](a.url,a,function(b,c){200===b||0===b&&c.text()?a.success(c.json(),b,null):a.error(c.text(),b,null)})}function g(a,b){"function"==typeof a&&(b=a,a={}),a=a||{},Y.extend(U,a),delete U.fixLng,U.functions&&(delete U.functions,Y.extend(Y,a.functions)),"string"==typeof U.ns&&(U.ns={namespaces:[U.ns],defaultNs:U.ns}),"string"==typeof U.fallbackNS&&(U.fallbackNS=[U.fallbackNS]),("string"==typeof U.fallbackLng||"boolean"==typeof U.fallbackLng)&&(U.fallbackLng=[U.fallbackLng]),U.interpolationPrefixEscaped=Y.regexEscape(U.interpolationPrefix),U.interpolationSuffixEscaped=Y.regexEscape(U.interpolationSuffix),U.lng||(U.lng=Y.detectLanguage()),Q=Y.toLanguages(U.lng),L=Q[0],Y.log("currentLng set to: "+L),U.useCookie&&Y.cookie.read(U.cookieName)!==L&&Y.cookie.create(U.cookieName,L,U.cookieExpirationTime,U.cookieDomain),U.detectLngFromLocalStorage&&"undefined"!=typeof document&&window.localStorage&&Y.localStorage.setItem("i18next_lng",L);var c=F;a.fixLng&&(c=function(a,b){return b=b||{},b.lng=b.lng||c.lng,F(a,b)},c.lng=L),_.setCurrentLng(L),M&&U.setJqueryExt?x&&x():y&&y();var d;if(M&&M.Deferred&&(d=M.Deferred()),!U.resStore){var e=Y.toLanguages(U.lng);"string"==typeof U.preload&&(U.preload=[U.preload]);for(var f=0,g=U.preload.length;g>f;f++)for(var h=Y.toLanguages(U.preload[f]),i=0,j=h.length;j>i;i++)e.indexOf(h[i])<0&&e.push(h[i]);return N.sync.load(e,U,function(a,e){O=e,R=!0,b&&b(a,c),d&&(a?d.reject:d.resolve)(a||c)}),d?d.promise():void 0}return O=U.resStore,R=!0,b&&b(null,c),d&&d.resolve(c),d?d.promise():void 0}function h(){return R}function i(a,b){"string"==typeof a&&(a=[a]);for(var c=0,d=a.length;d>c;c++)U.preload.indexOf(a[c])<0&&U.preload.push(a[c]);return g(b)}function j(a,b,c,d,e){"string"!=typeof b?(c=b,b=U.ns.defaultNs):U.ns.namespaces.indexOf(b)<0&&U.ns.namespaces.push(b),O[a]=O[a]||{},O[a][b]=O[a][b]||{},d?Y.deepExtend(O[a][b],c,e):Y.extend(O[a][b],c),U.useLocalStorage&&S._storeLocal(O)}function k(a,b){"string"!=typeof b&&(b=U.ns.defaultNs),O[a]=O[a]||{};var c=O[a][b]||{},d=!1;for(var e in c)c.hasOwnProperty(e)&&(d=!0);return d}function l(a,b){return"string"!=typeof b&&(b=U.ns.defaultNs),O[a]=O[a]||{},Y.extend({},O[a][b])}function m(a,b){"string"!=typeof b&&(b=U.ns.defaultNs),O[a]=O[a]||{},O[a][b]={},U.useLocalStorage&&S._storeLocal(O)}function n(a,b,c,d){"string"!=typeof b?(resource=b,b=U.ns.defaultNs):U.ns.namespaces.indexOf(b)<0&&U.ns.namespaces.push(b),O[a]=O[a]||{},O[a][b]=O[a][b]||{};for(var e=c.split(U.keyseparator),f=0,g=O[a][b];e[f];)f==e.length-1?g[e[f]]=d:(null==g[e[f]]&&(g[e[f]]={}),g=g[e[f]]),f++;U.useLocalStorage&&S._storeLocal(O)}function o(a,b,c){"string"!=typeof b?(c=b,b=U.ns.defaultNs):U.ns.namespaces.indexOf(b)<0&&U.ns.namespaces.push(b);for(var d in c)"string"==typeof c[d]&&n(a,b,d,c[d])}function p(a){U.ns.defaultNs=a}function q(a,b){r([a],b)}function r(a,b){var c={dynamicLoad:U.dynamicLoad,resGetPath:U.resGetPath,getAsync:U.getAsync,customLoad:U.customLoad,ns:{namespaces:a,defaultNs:""}},d=Y.toLanguages(U.lng);"string"==typeof U.preload&&(U.preload=[U.preload]);for(var e=0,f=U.preload.length;f>e;e++)for(var g=Y.toLanguages(U.preload[e]),h=0,i=g.length;i>h;h++)d.indexOf(g[h])<0&&d.push(g[h]);for(var j=[],k=0,l=d.length;l>k;k++){var m=!1,n=O[d[k]];if(n)for(var o=0,p=a.length;p>o;o++)n[a[o]]||(m=!0);else m=!0;m&&j.push(d[k])}j.length?N.sync._fetch(j,c,function(c,d){var e=a.length*j.length;Y.each(a,function(a,c){U.ns.namespaces.indexOf(c)<0&&U.ns.namespaces.push(c),Y.each(j,function(a,f){O[f]=O[f]||{},O[f][c]=d[f][c],e--,0===e&&b&&(U.useLocalStorage&&N.sync._storeLocal(O),b())})})}):b&&b()}function s(a,b,c){return"function"==typeof b?(c=b,b={}):b||(b={}),b.lng=a,g(b,c)}function t(){return L}function u(){var a=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"];return a.some(function(a){return new RegExp("^"+a).test(L)})?"rtl":"ltr"}function v(a){O={},s(L,a)}function w(){window.i18next=window.i18n,T?window.i18n=T:delete window.i18n}function x(){function a(a,b,c){if(0!==b.length){var d="text";if(0===b.indexOf("[")){var e=b.split("]");b=e[1],d=e[0].substr(1,e[0].length-1)}b.indexOf(";")===b.length-1&&(b=b.substr(0,b.length-2));var f;if("html"===d)f=U.defaultValueFromContent?M.extend({defaultValue:a.html()},c):c,a.html(M.t(b,f));else if("text"===d)f=U.defaultValueFromContent?M.extend({defaultValue:a.text()},c):c,a.text(M.t(b,f));else if("prepend"===d)f=U.defaultValueFromContent?M.extend({defaultValue:a.html()},c):c,a.prepend(M.t(b,f));else if("append"===d)f=U.defaultValueFromContent?M.extend({defaultValue:a.html()},c):c,a.append(M.t(b,f));else if(0===d.indexOf("data-")){var g=d.substr("data-".length);f=U.defaultValueFromContent?M.extend({defaultValue:a.data(g)},c):c;var h=M.t(b,f);a.data(g,h),a.attr(d,h)}else f=U.defaultValueFromContent?M.extend({defaultValue:a.attr(d)},c):c,a.attr(d,M.t(b,f))}}function b(b,c){var d=b.attr(U.selectorAttr);if(d||"undefined"==typeof d||d===!1||(d=b.text()||b.val()),d){var e=b,f=b.data("i18n-target");if(f&&(e=b.find(f)||b),c||U.useDataAttrOptions!==!0||(c=b.data("i18n-options")),c=c||{},d.indexOf(";")>=0){var g=d.split(";");M.each(g,function(b,d){""!==d&&a(e,d,c)})}else a(e,d,c);if(U.useDataAttrOptions===!0){var h=M.extend({lng:"non",lngs:[],_origLng:"non"},c);delete h.lng,delete h.lngs,delete h._origLng,b.data("i18n-options",h)}}}M.t=M.t||F,M.fn.i18n=function(a){return this.each(function(){b(M(this),a);var c=M(this).find("["+U.selectorAttr+"]");c.each(function(){b(M(this),a)})})}}function y(){function a(a,b,c){if(0!==b.length){var d="text";if(0===b.indexOf("[")){var e=b.split("]");b=e[1],d=e[0].substr(1,e[0].length-1)}b.indexOf(";")===b.length-1&&(b=b.substr(0,b.length-2)),"html"===d?a.innerHTML=F(b,c):"text"===d?a.textContent=F(b,c):"prepend"===d?a.insertAdjacentHTML(F(b,c),"afterbegin"):"append"===d?a.insertAdjacentHTML(F(b,c),"beforeend"):a.setAttribute(d,F(b,c))}}function b(b,c){var d=b.getAttribute(U.selectorAttr);if(d||"undefined"==typeof d||d===!1||(d=b.textContent||b.value),d){var e=b,f=b.getAttribute("i18n-target");if(f&&(e=b.querySelector(f)||b),d.indexOf(";")>=0)for(var g=d.split(";"),h=0,i=g.length;i>h;h++)""!==g[h]&&a(e,g[h],c);else a(e,d,c)}}N.translateObject=function(a,c){for(var d=a.querySelectorAll("["+U.selectorAttr+"]"),e=0,f=d.length;f>e;e++)b(d[e],c)}}function z(a,b,c,d){if(!a)return a;if(d=d||b,a.indexOf(d.interpolationPrefix||U.interpolationPrefix)<0)return a;var e=d.interpolationPrefix?Y.regexEscape(d.interpolationPrefix):U.interpolationPrefixEscaped,f=d.interpolationSuffix?Y.regexEscape(d.interpolationSuffix):U.interpolationSuffixEscaped,g=d.keyseparator||U.keyseparator,h=b.replace&&"object"==typeof b.replace?b.replace:b,i=new RegExp([e,"(.+?)","(HTML)?",f].join(""),"g"),j=d.escapeInterpolation||U.escapeInterpolation;return a.replace(i,function(a,b,c){for(var d=h,e=b;e.indexOf(g)>=0&&"object"==typeof d&&d;){var f=e.slice(0,e.indexOf(g));e=e.slice(e.indexOf(g)+1),d=d[f]}if(d&&"object"==typeof d&&d.hasOwnProperty(e)){{d[e]}return j&&!c?Y.escape(d[e]):d[e]}return a})}function A(a,b){var c=",",d="{",e="}",f=Y.extend({},b);for(delete f.postProcess,delete f.isFallbackLookup;-1!=a.indexOf(U.reusePrefix)&&(P++,!(P>U.maxRecursion));){var g=a.lastIndexOf(U.reusePrefix),h=a.indexOf(U.reuseSuffix,g)+U.reuseSuffix.length,i=a.substring(g,h),j=i.replace(U.reusePrefix,"").replace(U.reuseSuffix,"");if(g>=h)return Y.error("there is an missing closing in following translation value",a),"";if(-1!=j.indexOf(c)){var k=j.indexOf(c);if(-1!=j.indexOf(d,k)&&-1!=j.indexOf(e,k)){var l=j.indexOf(d,k),m=j.indexOf(e,l)+e.length;try{f=Y.extend(f,JSON.parse(j.substring(l,m))),j=j.substring(0,k)}catch(n){}}}var o=I(j,f);a=a.replace(i,Y.regexReplacementEscape(o))}return a}function B(a){return a.context&&("string"==typeof a.context||"number"==typeof a.context)}function C(a){return void 0!==a.count&&"string"!=typeof a.count}function D(a){return void 0!==a.indefinite_article&&"string"!=typeof a.indefinite_article&&a.indefinite_article}function E(a,b){b=b||{};var c=G(a,b),d=J(a,b);return void 0!==d||d===c}function F(a,b){return R?(P=0,I.apply(null,arguments)):(Y.log("i18next not finished initialization. you might have called t function before loading resources finished."),b&&b.defaultValue?b.detaultValue:"")}function G(a,b){return void 0!==b.defaultValue?b.defaultValue:a}function H(){for(var a=[],b=1;b<arguments.length;b++)a.push(arguments[b]);return{postProcess:"sprintf",sprintf:a}}function I(a,b){if("undefined"!=typeof b&&"object"!=typeof b?"sprintf"===U.shortcutFunction?b=H.apply(null,arguments):"defaultValue"===U.shortcutFunction&&(b={defaultValue:b}):b=b||{},"object"==typeof U.defaultVariables&&(b=Y.extend({},U.defaultVariables,b)),void 0===a||null===a||""===a)return"";"number"==typeof a&&(a=String(a)),"string"==typeof a&&(a=[a]);var c=a[0];if(a.length>1)for(var d=0;d<a.length&&(c=a[d],!E(c,b));d++);var e,f=G(c,b),g=J(c,b),h=b.nsseparator||U.nsseparator,i=b.lng?Y.toLanguages(b.lng,b.fallbackLng):Q,j=b.ns||U.ns.defaultNs;c.indexOf(h)>-1&&(e=c.split(h),j=e[0],c=e[1]),void 0===g&&U.sendMissing&&"function"==typeof U.missingKeyHandler&&(b.lng?U.missingKeyHandler(i[0],j,c,f,i):U.missingKeyHandler(U.lng,j,c,f,i));var k,l,m;if(k="string"==typeof U.postProcess&&""!==U.postProcess?[U.postProcess]:"array"==typeof U.postProcess||"object"==typeof U.postProcess?U.postProcess:[],"string"==typeof b.postProcess&&""!==b.postProcess?k=k.concat([b.postProcess]):("array"==typeof b.postProcess||"object"==typeof b.postProcess)&&(k=k.concat(b.postProcess)),void 0!==g&&k.length)for(m=0;m<k.length;m+=1)l=k[m],aa[l]&&(g=aa[l](g,c,b));var n=f;if(f.indexOf(h)>-1&&(e=f.split(h),n=e[1]),n===c&&U.parseMissingKey&&(f=U.parseMissingKey(f)),void 0===g&&(f=z(f,b),f=A(f,b),k.length))for(g=G(c,b),m=0;m<k.length;m+=1)l=k[m],aa[l]&&(g=aa[l](g,c,b));return void 0!==g?g:f}function J(a,b){b=b||{};var c,d,e=G(a,b),f=Q;if(!O)return e;if("cimode"===f[0].toLowerCase())return e;if(b.lngs&&(f=b.lngs),b.lng&&(f=Y.toLanguages(b.lng,b.fallbackLng),!O[f[0]])){var g=U.getAsync;U.getAsync=!1,N.sync.load(f,U,function(a,b){Y.extend(O,b),U.getAsync=g})}var h=b.ns||U.ns.defaultNs,i=b.nsseparator||U.nsseparator;if(a.indexOf(i)>-1){var j=a.split(i);h=j[0],a=j[1]}if(B(b)){c=Y.extend({},b),delete c.context,c.defaultValue=U.contextNotFound;var k=h+i+a+"_"+b.context;if(d=F(k,c),d!=U.contextNotFound)return z(d,{context:b.context})}if(C(b,f[0])){c=Y.extend({lngs:[f[0]]},b),delete c.count,c._origLng=c._origLng||c.lng||f[0],delete c.lng,c.defaultValue=U.pluralNotFound;var l;if(_.needsPlural(f[0],b.count)){l=h+i+a+U.pluralSuffix;var m=_.get(f[0],b.count);m>=0?l=l+"_"+m:1===m&&(l=h+i+a)}else l=h+i+a;if(d=F(l,c),d!=U.pluralNotFound)return z(d,{count:b.count,interpolationPrefix:b.interpolationPrefix,interpolationSuffix:b.interpolationSuffix});if(!(f.length>1))return c.lng=c._origLng,delete c._origLng,d=F(h+i+a,c),z(d,{count:b.count,interpolationPrefix:b.interpolationPrefix,interpolationSuffix:b.interpolationSuffix});var n=f.slice();if(n.shift(),b=Y.extend(b,{lngs:n}),b._origLng=c._origLng,delete b.lng,d=F(h+i+a,b),d!=U.pluralNotFound)return d}if(D(b)){var o=Y.extend({},b);delete o.indefinite_article,o.defaultValue=U.indefiniteNotFound;var p=h+i+a+(b.count&&!C(b,f[0])||!b.count?U.indefiniteSuffix:"");if(d=F(p,o),d!=U.indefiniteNotFound)return d}for(var q,r=b.keyseparator||U.keyseparator,s=a.split(r),t=0,u=f.length;u>t&&void 0===q;t++){for(var v=f[t],w=0,x=O[v]&&O[v][h];s[w];)x=x&&x[s[w]],w++;if(void 0!==x&&(!U.showKeyIfEmpty||""!==x)){var y=Object.prototype.toString.apply(x);if("string"==typeof x)x=z(x,b),x=A(x,b);else if("[object Array]"!==y||U.returnObjectTrees||b.returnObjectTrees){if(null===x&&U.fallbackOnNull===!0)x=void 0;else if(null!==x)if(U.returnObjectTrees||b.returnObjectTrees){if("[object Number]"!==y&&"[object Function]"!==y&&"[object RegExp]"!==y){var E="[object Array]"===y?[]:{};Y.each(x,function(c){E[c]=I(h+i+a+r+c,b)}),x=E}}else U.objectTreeKeyHandler&&"function"==typeof U.objectTreeKeyHandler?x=U.objectTreeKeyHandler(a,x,v,h,b):(x="key '"+h+":"+a+" ("+v+")' returned an object instead of string.",Y.log(x))}else x=x.join("\n"),x=z(x,b),x=A(x,b);"string"==typeof x&&""===x.trim()&&U.fallbackOnEmpty===!0&&(x=void 0),q=x}}if(void 0===q&&!b.isFallbackLookup&&(U.fallbackToDefaultNS===!0||U.fallbackNS&&U.fallbackNS.length>0)){if(b.isFallbackLookup=!0,U.fallbackNS.length){for(var H=0,K=U.fallbackNS.length;K>H;H++)if(q=J(U.fallbackNS[H]+i+a,b),q||""===q&&U.fallbackOnEmpty===!1){var L=q.indexOf(i)>-1?q.split(i)[1]:q,M=e.indexOf(i)>-1?e.split(i)[1]:e;if(L!==M)break}}else b.ns=U.ns.defaultNs,q=J(a,b);b.isFallbackLookup=!1}return q}function K(){var a,b=U.lngWhitelist||[],c=[];if("undefined"!=typeof window&&!function(){for(var a=window.location.search.substring(1),b=a.split("&"),d=0;d<b.length;d++){var e=b[d].indexOf("=");if(e>0){var f=b[d].substring(0,e);f==U.detectLngQS&&c.push(b[d].substring(e+1))}}}(),U.useCookie&&"undefined"!=typeof document){var d=Y.cookie.read(U.cookieName);d&&c.push(d)}if(U.detectLngFromLocalStorage&&"undefined"!=typeof window&&window.localStorage){var e=Y.localStorage.getItem("i18next_lng");e&&c.push(e)}if("undefined"!=typeof navigator){if(navigator.languages)for(var f=0;f<navigator.languages.length;f++)c.push(navigator.languages[f]);navigator.userLanguage&&c.push(navigator.userLanguage),navigator.language&&c.push(navigator.language)}return function(){for(var d=0;d<c.length;d++){var e=c[d];if(e.indexOf("-")>-1){var f=e.split("-");e=U.lowerCaseLng?f[0].toLowerCase()+"-"+f[1].toLowerCase():f[0].toLowerCase()+"-"+f[1].toUpperCase()}if(0===b.length||b.indexOf(e)>-1){a=e;break}}}(),a||(a=U.fallbackLng[0]),a}Array.prototype.indexOf||(Array.prototype.indexOf=function(a){"use strict";if(null==this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0===c)return-1;var d=0;if(arguments.length>0&&(d=Number(arguments[1]),d!=d?d=0:0!=d&&d!=1/0&&d!=-(1/0)&&(d=(d>0||-1)*Math.floor(Math.abs(d)))),d>=c)return-1;for(var e=d>=0?d:Math.max(c-Math.abs(d),0);c>e;e++)if(e in b&&b[e]===a)return e;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(a){"use strict";if(null==this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0===c)return-1;var d=c;arguments.length>1&&(d=Number(arguments[1]),d!=d?d=0:0!=d&&d!=1/0&&d!=-(1/0)&&(d=(d>0||-1)*Math.floor(Math.abs(d))));for(var e=d>=0?Math.min(d,c-1):c-Math.abs(d);e>=0;e--)if(e in b&&b[e]===a)return e;return-1}),"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var L,M=a.jQuery||a.Zepto,N={},O={},P=0,Q=[],R=!1,S={},T=null;"undefined"!=typeof module&&module.exports?module.exports=N:(M&&(M.i18n=M.i18n||N),a.i18n&&(T=a.i18n),a.i18n=N),S={load:function(a,b,c){b.useLocalStorage?S._loadLocal(a,b,function(d,e){for(var f=[],g=0,h=a.length;h>g;g++)e[a[g]]||f.push(a[g]);f.length>0?S._fetch(f,b,function(a,b){Y.extend(e,b),S._storeLocal(b),c(a,e)}):c(d,e)}):S._fetch(a,b,function(a,b){c(a,b)})},_loadLocal:function(a,b,c){var d={},e=(new Date).getTime();if(window.localStorage){var f=a.length;Y.each(a,function(a,g){var h=Y.localStorage.getItem("res_"+g);h&&(h=JSON.parse(h),h.i18nStamp&&h.i18nStamp+b.localStorageExpirationTime>e&&(d[g]=h)),f--,0===f&&c(null,d)})}},_storeLocal:function(a){if(window.localStorage)for(var b in a)a[b].i18nStamp=(new Date).getTime(),Y.localStorage.setItem("res_"+b,JSON.stringify(a[b]))},_fetch:function(a,b,c){var d=b.ns,e={};if(b.dynamicLoad){var f=function(a,b){c(a,b)};if("function"==typeof b.customLoad)b.customLoad(a,d.namespaces,b,f);else{var g=z(b.resGetPath,{lng:a.join("+"),ns:d.namespaces.join("+")});Y.ajax({url:g,cache:b.cache,success:function(a){Y.log("loaded: "+g),f(null,a)},error:function(a,b,c){Y.log("failed loading: "+g),f("failed loading resource.json error: "+c)},dataType:"json",async:b.getAsync,timeout:b.ajaxTimeout})}}else{var h,i=d.namespaces.length*a.length;Y.each(d.namespaces,function(d,f){Y.each(a,function(a,d){var g=function(a,b){a&&(h=h||[],h.push(a)),e[d]=e[d]||{},e[d][f]=b,i--,0===i&&c(h,e)};"function"==typeof b.customLoad?b.customLoad(d,f,b,g):S._fetchOne(d,f,b,g)})})}},_fetchOne:function(a,b,c,d){var e=z(c.resGetPath,{lng:a,ns:b});Y.ajax({url:e,cache:c.cache,success:function(a){Y.log("loaded: "+e),d(null,a)},error:function(a,b,c){if(b&&200==b||a&&a.status&&200==a.status)Y.error("There is a typo in: "+e);else if(b&&404==b||a&&a.status&&404==a.status)Y.log("Does not exist: "+e);else{var f=b?b:a&&a.status?a.status:null;Y.log(f+" when loading "+e)}d(c,{})},dataType:"json",async:c.getAsync,timeout:c.ajaxTimeout,headers:c.headers})},postMissing:function(a,b,c,d,e){var f={};f[c]=d;var g=[];if("fallback"===U.sendMissingTo&&U.fallbackLng[0]!==!1)for(var h=0;h<U.fallbackLng.length;h++)g.push({lng:U.fallbackLng[h],url:z(U.resPostPath,{lng:U.fallbackLng[h],ns:b})});else if("current"===U.sendMissingTo||"fallback"===U.sendMissingTo&&U.fallbackLng[0]===!1)g.push({lng:a,url:z(U.resPostPath,{lng:a,ns:b})});else if("all"===U.sendMissingTo)for(var h=0,i=e.length;i>h;h++)g.push({lng:e[h],url:z(U.resPostPath,{lng:e[h],ns:b})});for(var j=0,k=g.length;k>j;j++){var l=g[j];Y.ajax({url:l.url,type:U.sendType,data:f,success:function(){Y.log("posted missing key '"+c+"' to: "+l.url);for(var a=c.split("."),e=0,f=O[l.lng][b];a[e];)f=f[a[e]]=e===a.length-1?d:f[a[e]]||{},e++},error:function(){Y.log("failed posting missing key '"+c+"' to: "+l.url)},dataType:"json",async:U.postAsync,timeout:U.ajaxTimeout})}},reload:v};var U={lng:void 0,load:"all",preload:[],lowerCaseLng:!1,returnObjectTrees:!1,fallbackLng:["dev"],fallbackNS:[],detectLngQS:"setLng",detectLngFromLocalStorage:!1,ns:{namespaces:["translation"],defaultNs:"translation"},fallbackOnNull:!0,fallbackOnEmpty:!1,fallbackToDefaultNS:!1,showKeyIfEmpty:!1,nsseparator:":",keyseparator:".",selectorAttr:"data-i18n",debug:!1,resGetPath:"locales/__lng__/__ns__.json",resPostPath:"locales/add/__lng__/__ns__",getAsync:!0,postAsync:!0,resStore:void 0,useLocalStorage:!1,localStorageExpirationTime:6048e5,dynamicLoad:!1,sendMissing:!1,sendMissingTo:"fallback",sendType:"POST",interpolationPrefix:"__",interpolationSuffix:"__",defaultVariables:!1,reusePrefix:"$t(",reuseSuffix:")",pluralSuffix:"_plural",pluralNotFound:["plural_not_found",Math.random()].join(""),contextNotFound:["context_not_found",Math.random()].join(""),escapeInterpolation:!1,indefiniteSuffix:"_indefinite",indefiniteNotFound:["indefinite_not_found",Math.random()].join(""),setJqueryExt:!0,defaultValueFromContent:!0,useDataAttrOptions:!1,cookieExpirationTime:void 0,useCookie:!0,cookieName:"i18next",cookieDomain:void 0,objectTreeKeyHandler:void 0,postProcess:void 0,parseMissingKey:void 0,missingKeyHandler:S.postMissing,ajaxTimeout:0,shortcutFunction:"sprintf"},V={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},W={create:function(a,b,c,d){var e;if(c){var f=new Date;f.setTime(f.getTime()+60*c*1e3),e="; expires="+f.toGMTString()}else e="";d=d?"domain="+d+";":"",document.cookie=a+"="+b+e+";"+d+"path=/"},read:function(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "==e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(b))return e.substring(b.length,e.length)}return null},remove:function(a){this.create(a,"",-1)}},X={create:function(){},read:function(){return null},remove:function(){}},Y={extend:M?M.extend:b,deepExtend:c,each:M?M.each:d,ajax:M?M.ajax:"undefined"!=typeof document?f:function(){},cookie:"undefined"!=typeof document?W:X,detectLanguage:K,escape:e,log:function(a){U.debug&&"undefined"!=typeof console&&console.log(a)},error:function(a){"undefined"!=typeof console&&console.error(a)},getCountyIndexOfLng:function(a){var b=0;return("nb-NO"===a||"nn-NO"===a||"nb-no"===a||"nn-no"===a)&&(b=1),b},toLanguages:function(a,b){function c(a){var b=a;if("string"==typeof a&&a.indexOf("-")>-1){var c=a.split("-");b=U.lowerCaseLng?c[0].toLowerCase()+"-"+c[1].toLowerCase():c[0].toLowerCase()+"-"+c[1].toUpperCase()}else b=U.lowerCaseLng?a.toLowerCase():a;return b}var d=this.log;b=b||U.fallbackLng,"string"==typeof b&&(b=[b]);var e=[],f=U.lngWhitelist||!1,g=function(a){!f||f.indexOf(a)>-1?e.push(a):d("rejecting non-whitelisted language: "+a)};if("string"==typeof a&&a.indexOf("-")>-1){var h=a.split("-");"unspecific"!==U.load&&g(c(a)),"current"!==U.load&&g(c(h[this.getCountyIndexOfLng(a)]))}else g(c(a));for(var i=0;i<b.length;i++)-1===e.indexOf(b[i])&&b[i]&&e.push(c(b[i]));return e},regexEscape:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},regexReplacementEscape:function(a){return"string"==typeof a?a.replace(/\$/g,"$$$$"):a},localStorage:{setItem:function(a,b){if(window.localStorage)try{window.localStorage.setItem(a,b)}catch(c){Y.log('failed to set value for key "'+a+'" to localStorage.')}},getItem:function(a,b){if(window.localStorage)try{return window.localStorage.getItem(a,b)}catch(c){return void Y.log('failed to get value for key "'+a+'" from localStorage.')}}}};Y.applyReplacement=z;var Z=[["ach","Acholi",[1,2],1],["af","Afrikaans",[1,2],2],["ak","Akan",[1,2],1],["am","Amharic",[1,2],1],["an","Aragonese",[1,2],2],["ar","Arabic",[0,1,2,3,11,100],5],["arn","Mapudungun",[1,2],1],["ast","Asturian",[1,2],2],["ay","Aymará",[1],3],["az","Azerbaijani",[1,2],2],["be","Belarusian",[1,2,5],4],["bg","Bulgarian",[1,2],2],["bn","Bengali",[1,2],2],["bo","Tibetan",[1],3],["br","Breton",[1,2],1],["bs","Bosnian",[1,2,5],4],["ca","Catalan",[1,2],2],["cgg","Chiga",[1],3],["cs","Czech",[1,2,5],6],["csb","Kashubian",[1,2,5],7],["cy","Welsh",[1,2,3,8],8],["da","Danish",[1,2],2],["de","German",[1,2],2],["dev","Development Fallback",[1,2],2],["dz","Dzongkha",[1],3],["el","Greek",[1,2],2],["en","English",[1,2],2],["eo","Esperanto",[1,2],2],["es","Spanish",[1,2],2],["es_ar","Argentinean Spanish",[1,2],2],["et","Estonian",[1,2],2],["eu","Basque",[1,2],2],["fa","Persian",[1],3],["fi","Finnish",[1,2],2],["fil","Filipino",[1,2],1],["fo","Faroese",[1,2],2],["fr","French",[1,2],9],["fur","Friulian",[1,2],2],["fy","Frisian",[1,2],2],["ga","Irish",[1,2,3,7,11],10],["gd","Scottish Gaelic",[1,2,3,20],11],["gl","Galician",[1,2],2],["gu","Gujarati",[1,2],2],["gun","Gun",[1,2],1],["ha","Hausa",[1,2],2],["he","Hebrew",[1,2],2],["hi","Hindi",[1,2],2],["hr","Croatian",[1,2,5],4],["hu","Hungarian",[1,2],2],["hy","Armenian",[1,2],2],["ia","Interlingua",[1,2],2],["id","Indonesian",[1],3],["is","Icelandic",[1,2],12],["it","Italian",[1,2],2],["ja","Japanese",[1],3],["jbo","Lojban",[1],3],["jv","Javanese",[0,1],13],["ka","Georgian",[1],3],["kk","Kazakh",[1],3],["km","Khmer",[1],3],["kn","Kannada",[1,2],2],["ko","Korean",[1],3],["ku","Kurdish",[1,2],2],["kw","Cornish",[1,2,3,4],14],["ky","Kyrgyz",[1],3],["lb","Letzeburgesch",[1,2],2],["ln","Lingala",[1,2],1],["lo","Lao",[1],3],["lt","Lithuanian",[1,2,10],15],["lv","Latvian",[1,2,0],16],["mai","Maithili",[1,2],2],["mfe","Mauritian Creole",[1,2],1],["mg","Malagasy",[1,2],1],["mi","Maori",[1,2],1],["mk","Macedonian",[1,2],17],["ml","Malayalam",[1,2],2],["mn","Mongolian",[1,2],2],["mnk","Mandinka",[0,1,2],18],["mr","Marathi",[1,2],2],["ms","Malay",[1],3],["mt","Maltese",[1,2,11,20],19],["nah","Nahuatl",[1,2],2],["nap","Neapolitan",[1,2],2],["nb","Norwegian Bokmal",[1,2],2],["ne","Nepali",[1,2],2],["nl","Dutch",[1,2],2],["nn","Norwegian Nynorsk",[1,2],2],["no","Norwegian",[1,2],2],["nso","Northern Sotho",[1,2],2],["oc","Occitan",[1,2],1],["or","Oriya",[2,1],2],["pa","Punjabi",[1,2],2],["pap","Papiamento",[1,2],2],["pl","Polish",[1,2,5],7],["pms","Piemontese",[1,2],2],["ps","Pashto",[1,2],2],["pt","Portuguese",[1,2],2],["pt_br","Brazilian Portuguese",[1,2],2],["rm","Romansh",[1,2],2],["ro","Romanian",[1,2,20],20],["ru","Russian",[1,2,5],4],["sah","Yakut",[1],3],["sco","Scots",[1,2],2],["se","Northern Sami",[1,2],2],["si","Sinhala",[1,2],2],["sk","Slovak",[1,2,5],6],["sl","Slovenian",[5,1,2,3],21],["so","Somali",[1,2],2],["son","Songhay",[1,2],2],["sq","Albanian",[1,2],2],["sr","Serbian",[1,2,5],4],["su","Sundanese",[1],3],["sv","Swedish",[1,2],2],["sw","Swahili",[1,2],2],["ta","Tamil",[1,2],2],["te","Telugu",[1,2],2],["tg","Tajik",[1,2],1],["th","Thai",[1],3],["ti","Tigrinya",[1,2],1],["tk","Turkmen",[1,2],2],["tr","Turkish",[1,2],1],["tt","Tatar",[1],3],["ug","Uyghur",[1],3],["uk","Ukrainian",[1,2,5],4],["ur","Urdu",[1,2],2],["uz","Uzbek",[1,2],1],["vi","Vietnamese",[1],3],["wa","Walloon",[1,2],1],["wo","Wolof",[1],3],["yo","Yoruba",[1,2],2],["zh","Chinese",[1],3]],$={1:function(a){return Number(a>1)},2:function(a){return Number(1!=a)},3:function(){return 0},4:function(a){return Number(a%10==1&&a%100!=11?0:a%10>=2&&4>=a%10&&(10>a%100||a%100>=20)?1:2)},5:function(a){return Number(0===a?0:1==a?1:2==a?2:a%100>=3&&10>=a%100?3:a%100>=11?4:5)},6:function(a){return Number(1==a?0:a>=2&&4>=a?1:2)},7:function(a){return Number(1==a?0:a%10>=2&&4>=a%10&&(10>a%100||a%100>=20)?1:2)},8:function(a){return Number(1==a?0:2==a?1:8!=a&&11!=a?2:3)},9:function(a){return Number(a>=2)},10:function(a){return Number(1==a?0:2==a?1:7>a?2:11>a?3:4)},11:function(a){return Number(1==a||11==a?0:2==a||12==a?1:a>2&&20>a?2:3)},12:function(a){return Number(a%10!=1||a%100==11)},13:function(a){return Number(0!==a)},14:function(a){return Number(1==a?0:2==a?1:3==a?2:3)},15:function(a){return Number(a%10==1&&a%100!=11?0:a%10>=2&&(10>a%100||a%100>=20)?1:2)},16:function(a){return Number(a%10==1&&a%100!=11?0:0!==a?1:2)},17:function(a){return Number(1==a||a%10==1?0:1)},18:function(a){return Number(0==a?0:1==a?1:2)},19:function(a){return Number(1==a?0:0===a||a%100>1&&11>a%100?1:a%100>10&&20>a%100?2:3)},20:function(a){return Number(1==a?0:0===a||a%100>0&&20>a%100?1:2)},21:function(a){return Number(a%100==1?1:a%100==2?2:a%100==3||a%100==4?3:0)}},_={rules:function(){var a,b={};for(a=Z.length;a--;)b[Z[a][0]]={name:Z[a][1],numbers:Z[a][2],plurals:$[Z[a][3]]};return b}(),addRule:function(a,b){_.rules[a]=b},setCurrentLng:function(a){if(!_.currentRule||_.currentRule.lng!==a){var b=a.split("-");_.currentRule={lng:a,rule:_.rules[b[0]]}}},needsPlural:function(a,b){var c,d=a.split("-");return c=_.currentRule&&_.currentRule.lng===a?_.currentRule.rule:_.rules[d[Y.getCountyIndexOfLng(a)]],c&&c.numbers.length<=1?!1:1!==this.get(a,b)},get:function(a,b){function c(b,c){var d;if(d=_.currentRule&&_.currentRule.lng===a?_.currentRule.rule:_.rules[b]){var e;e=d.plurals(d.noAbs?c:Math.abs(c));var f=d.numbers[e];return 2===d.numbers.length&&1===d.numbers[0]&&(2===f?f=-1:1===f&&(f=1)),f}return 1===c?"1":"-1"}var d=a.split("-");return c(d[Y.getCountyIndexOfLng(a)],b)}},aa={},ba=function(a,b){aa[a]=b},ca=function(){function a(a){return Object.prototype.toString.call(a).slice(8,-1).toLowerCase()}function b(a,b){for(var c=[];b>0;c[--b]=a);return c.join("")}var c=function(){return c.cache.hasOwnProperty(arguments[0])||(c.cache[arguments[0]]=c.parse(arguments[0])),c.format.call(null,c.cache[arguments[0]],arguments)};return c.format=function(c,d){var e,f,g,h,i,j,k,l=1,m=c.length,n="",o=[];for(f=0;m>f;f++)if(n=a(c[f]),"string"===n)o.push(c[f]);else if("array"===n){if(h=c[f],h[2])for(e=d[l],g=0;g<h[2].length;g++){if(!e.hasOwnProperty(h[2][g]))throw ca('[sprintf] property "%s" does not exist',h[2][g]);e=e[h[2][g]]}else e=h[1]?d[h[1]]:d[l++];if(/[^s]/.test(h[8])&&"number"!=a(e))throw ca("[sprintf] expecting number but found %s",a(e));switch(h[8]){case"b":e=e.toString(2);break;case"c":e=String.fromCharCode(e);break;case"d":e=parseInt(e,10);break;case"e":e=h[7]?e.toExponential(h[7]):e.toExponential();break;case"f":e=h[7]?parseFloat(e).toFixed(h[7]):parseFloat(e);break;case"o":e=e.toString(8);break;case"s":e=(e=String(e))&&h[7]?e.substring(0,h[7]):e;break;case"u":e=Math.abs(e);break;case"x":e=e.toString(16);break;case"X":e=e.toString(16).toUpperCase()}e=/[def]/.test(h[8])&&h[3]&&e>=0?"+"+e:e,j=h[4]?"0"==h[4]?"0":h[4].charAt(1):" ",k=h[6]-String(e).length,i=h[6]?b(j,k):"",o.push(h[5]?e+i:i+e)}return o.join("")},c.cache={},c.parse=function(a){for(var b=a,c=[],d=[],e=0;b;){if(null!==(c=/^[^\x25]+/.exec(b)))d.push(c[0]);else if(null!==(c=/^\x25{2}/.exec(b)))d.push("%");else{if(null===(c=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(b)))throw"[sprintf] huh?";

if(c[2]){e|=1;var f=[],g=c[2],h=[];if(null===(h=/^([a-z_][a-z_\d]*)/i.exec(g)))throw"[sprintf] huh?";for(f.push(h[1]);""!==(g=g.substring(h[0].length));)if(null!==(h=/^\.([a-z_][a-z_\d]*)/i.exec(g)))f.push(h[1]);else{if(null===(h=/^\[(\d+)\]/.exec(g)))throw"[sprintf] huh?";f.push(h[1])}c[2]=f}else e|=2;if(3===e)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";d.push(c)}b=b.substring(c[0].length)}return d},c}(),da=function(a,b){return b.unshift(a),ca.apply(null,b)};ba("sprintf",function(a,b,c){return c.sprintf?"[object Array]"===Object.prototype.toString.apply(c.sprintf)?da(a,c.sprintf):"object"==typeof c.sprintf?ca(a,c.sprintf):a:a}),N.init=g,N.isInitialized=h,N.setLng=s,N.preload=i,N.addResourceBundle=j,N.hasResourceBundle=k,N.getResourceBundle=l,N.addResource=n,N.addResources=o,N.removeResourceBundle=m,N.loadNamespace=q,N.loadNamespaces=r,N.setDefaultNamespace=p,N.t=F,N.translate=F,N.exists=E,N.detectLanguage=Y.detectLanguage,N.pluralExtensions=_,N.sync=S,N.functions=Y,N.lng=t,N.dir=u,N.addPostProcessor=ba,N.applyReplacement=Y.applyReplacement,N.options=U,N.noConflict=w}("undefined"==typeof exports?window:exports);


// $.couch is used to communicate with a CouchDB server, the server methods can
// be called directly without creating an instance. Typically all methods are
// passed an <code>options</code> object which defines a success callback which
// is called with the data returned from the http request to CouchDB, you can
// find the other settings that can be used in the <code>options</code> object
// from <a href="http://api.jquery.com/jQuery.ajax/#jQuery-ajax-settings">
// jQuery.ajax settings</a>
//
//     $.couch.activeTasks({
//       success: function (data) {
//         console.log(data);
//       }
//     });
//
// Outputs (for example):
//
//     [
//       {
//         "pid" : "<0.11599.0>",
//         "status" : "Copied 0 of 18369 changes (0%)",
//         "task" : "recipes",
//         "type" : "Database Compaction"
//       }
//     ]
(function($) {

  $.couch = $.couch || {};

  function encodeDocId(docID) {
    var parts = docID.split("/");
    if (parts[0] == "_design") {
      parts.shift();
      return "_design/" + encodeURIComponent(parts.join('/'));
    }
    return encodeURIComponent(docID);
  }

  var uuidCache = [];

  $.extend($.couch, {
    urlPrefix: '',

    // You can obtain a list of active tasks by using the `/_active_tasks` URL.
    // The result is a JSON array of the currently running tasks, with each task
    // being described with a single object.
    activeTasks: function(options) {
      return ajax(
        {url: this.urlPrefix + "/_active_tasks"},
        options,
        "Active task status could not be retrieved"
      );
    },

    // Returns a list of all the databases in the CouchDB instance
    allDbs: function(options) {
      return ajax(
        {url: this.urlPrefix + "/_all_dbs"},
        options,
        "An error occurred retrieving the list of all databases"
      );
    },

    // View and edit the CouchDB configuration, called with just the options
    // parameter the entire config is returned, you can be more specific by
    // passing the section and option parameters, if you specify a value that
    // value will be stored in the configuration.
    config: function(options, section, option, value) {
      var req = {url: this.urlPrefix + "/_config/"};
      if (section) {
        req.url += encodeURIComponent(section) + "/";
        if (option) {
          req.url += encodeURIComponent(option);
        }
      }
      if (value === null) {
        req.type = "DELETE";
      } else if (value !== undefined) {
        req.type = "PUT";
        req.data = toJSON(value);
        req.contentType = "application/json";
        req.processData = false
      }

      return ajax(req, options,
        "An error occurred retrieving/updating the server configuration"
      );
    },

    // Returns the session information for the currently logged in user.
    session: function(options) {
      options = options || {};
      // Ugly hack to use  Lets session authentication work on kindle and nook
      // Note: $.ajax handles objects and strings, this only handles objects.
      // Dependencies jQuery, jQuery.cookie
      var data = "";
      isNookOrKindle = /nook|kindle/.test(navigator.userAgent.toLowerCase()); // see jQuery.browser.mobile
      if ( isNookOrKindle ) 
      { 
        AuthSession = { 'AuthSession' : $.cookie( "AuthSession" ) };
        if ( options && options.data ) // we like objective data
        {
          if (typeof(options.data) == "object") 
          {
            data = $.extend( options.data, AuthSession );
          } else
          {
            console.log("fet broke your code. Make your get request data an object.")
          } 
        } else 
        {
          data = AuthSession;
        }
      }
      return $.ajax({
        type: "GET", 
        url: this.urlPrefix + "/_session",
        async: false,
        data: data,
        beforeSend: function(xhr) {
            xhr.setRequestHeader('Accept', 'application/json');
        },
        complete: function(req) {
          var resp = $.parseJSON(req.responseText);
          if (req.status == 200) {
            if (typeof options.hostname != "undefined")
            {
              AuthSession = $.cookie( "AuthSession" );
              $.cookie("AuthSession:" + options.hostname, AuthSession, {path: "/", domain: "tangerinecentral.org"});
            }
            if (options.success) options.success(resp);
          } else if (options.error) {
            options.error(req.status, resp.error, resp.reason);
          } else {
            alert("An error occurred getting session info: " + resp.reason);
          }
        }
      });
    },

    userDb : function(callback) {
      return $.couch.session({
        success : function(resp) {
          var userDb = $.couch.db(resp.info.authentication_db);
          callback(userDb);
        }
      });
    },

    // Create a new user on the CouchDB server, <code>user_doc</code> is an
    // object with a <code>name</code> field and other information you want
    // to store relating to that user, for example
    // `{"name": "daleharvey"}`
    signup: function(user_doc, password, options) {
      options = options || {};
      // prepare user doc based on name and password
      user_doc = this.prepareUserDoc(user_doc, password);
      return $.couch.userDb(function(db) {
        db.saveDoc(user_doc, options);
      });
    },

    // Populates a user doc with a new password.
    prepareUserDoc: function(user_doc, new_password) {
      if (typeof hex_sha1 == "undefined") {
        alert("creating a user doc requires sha1.js to be loaded in the page");
        return;
      }
      var user_prefix = "org.couchdb.user:";
      user_doc._id = user_doc._id || user_prefix + user_doc.name;
      if (new_password) {
        // handle the password crypto
        user_doc.salt = $.couch.newUUID();
        user_doc.password_sha = hex_sha1(new_password + user_doc.salt);
      }
      user_doc.type = "user";
      if (!user_doc.roles) {
        user_doc.roles = [];
      }
      return user_doc;
    },

     // Authenticate against CouchDB, the <code>options</code> parameter is
     // expected to have <code>name</code> and <code>password</code> fields.
    login: function(options) {
      options = options || {};
      return $.ajax({
        type: "POST", url: this.urlPrefix + "/_session", dataType: "json",
        data: {name: options.name, password: options.password},
        beforeSend: function(xhr) {
            xhr.setRequestHeader('Accept', 'application/json');
        },
        complete: function(req) {
          var resp = $.parseJSON(req.responseText);
          if (req.status == 200) {
            if (options.success) options.success(resp);
          } else if (options.error) {
            options.error(req.status, resp.error, resp.reason);
          } else {
            alert("An error occurred logging in: " + resp.reason);
          }
        }
      });
    },


    // Delete your current CouchDB user session
    logout: function(options) {
      options = options || {};
      return $.ajax({
        type: "DELETE", url: this.urlPrefix + "/_session", dataType: "json",
        username : "_", password : "_",
        beforeSend: function(xhr) {
            xhr.setRequestHeader('Accept', 'application/json');
        },
        complete: function(req) {
          var resp = $.parseJSON(req.responseText);
          if (req.status == 200) {
            if (options.success) options.success(resp);
          } else if (options.error) {
            options.error(req.status, resp.error, resp.reason);
          } else {
            alert("An error occurred logging out: " + resp.reason);
          }
        }
      });
    },

    // $.couch.db is used to communicate with a specific CouchDB database
    // <pre><code>var $db = $.couch.db("mydatabase");
    // $db.allApps({
    //  success: function (data) {
    //    ... process data ...
    //  }
    //});
    //</code></pre>
    db: function(name, db_opts) {
      db_opts = db_opts || {};
      var rawDocs = {};
      function maybeApplyVersion(doc) {
        if (doc._id && doc._rev && rawDocs[doc._id] &&
            rawDocs[doc._id].rev == doc._rev) {
          // todo: can we use commonjs require here?
          if (typeof Base64 == "undefined") {
            alert("please include /_utils/script/base64.js in the page for " +
                  "base64 support");
            return false;
          } else {
            doc._attachments = doc._attachments || {};
            doc._attachments["rev-"+doc._rev.split("-")[0]] = {
              content_type :"application/json",
              data : Base64.encode(rawDocs[doc._id].raw)
            };
            return true;
          }
        }
      };
      return {
        name: name,
        uri: this.urlPrefix + "/" + encodeURIComponent(name) + "/",

        // Request compaction of the specified database.
        compact: function(options) {
          $.extend(options, {successStatus: 202});
          return ajax({
              type: "POST", url: this.uri + "_compact",
              data: "", processData: false
            },
            options,
            "The database could not be compacted"
          );
        },

        // Cleans up the cached view output on disk for a given view.
        viewCleanup: function(options) {
          $.extend(options, {successStatus: 202});
          return ajax({
              type: "POST", url: this.uri + "_view_cleanup",
              data: "", processData: false
            },
            options,
            "The views could not be cleaned up"
          );
        },

        // Compacts the view indexes associated with the specified design
        // document. You can use this in place of the full database compaction
        // if you know a specific set of view indexes have been affected by a
        // recent database change.
        compactView: function(groupname, options) {
          $.extend(options, {successStatus: 202});
          return ajax({
              type: "POST", url: this.uri + "_compact/" + groupname,
              data: "", processData: false
            },
            options,
            "The view could not be compacted"
          );
        },

        // Create a new database
        create: function(options) {
          $.extend(options, {successStatus: 201});
          return ajax({
              type: "PUT", url: this.uri, contentType: "application/json",
              data: "", processData: false
            },
            options,
            "The database could not be created"
          );
        },

        // Deletes the specified database, and all the documents and
        // attachments contained within it.
        drop: function(options) {
          return ajax(
            {type: "DELETE", url: this.uri},
            options,
            "The database could not be deleted"
          );
        },

        // Gets information about the specified database.
        info: function(options) {
          return ajax(
            {url: this.uri},
            options,
            "Database information could not be retrieved"
          );
        },

        // $.couch.db.changes provides an API for subscribing to the changes
        // feed
        // <pre><code>var $changes = $.couch.db("mydatabase").changes();
        // $changes.onChange = function (data) {
        //    ... process data ...
        // }
        // $changes.stop();
        // </code></pre>
        changes: function(since, options) {

          options = options || {};
          // set up the promise object within a closure for this handler
          var timeout = 100, db = this, active = true,
            listeners = [],
            promise = {
              // Add a listener callback
              onChange : function(fun) {
                listeners.push(fun);
              },
              // Stop subscribing to the changes feed
              stop : function() {
                active = false;
              }
            };

          // call each listener when there is a change
          function triggerListeners(resp) {
            $.each(listeners, function() {
              this(resp);
            });
          };

          // when there is a change, call any listeners, then check for
          // another change
          options.success = function(resp) {
            timeout = 100;
            if (active) {
              since = resp.last_seq;
              triggerListeners(resp);
              getChangesSince();
            };
          };
          options.error = function() {
            if (active) {
              setTimeout(getChangesSince, timeout);
              timeout = timeout * 2;
            }
          };

          // actually make the changes request
          function getChangesSince() {
            var opts = $.extend({heartbeat : 10 * 1000}, options, {
              feed : "longpoll",
              since : since
            });
            ajax(
              {url: db.uri + "_changes"+encodeOptions(opts)},
              options,
              "Error connecting to "+db.uri+"/_changes."
            );
          }

          // start the first request
          if (since) {
            getChangesSince();
          } else {
            db.info({
              success : function(info) {
                since = info.update_seq;
                getChangesSince();
              }
            });
          }
          return promise;
        },

         // Fetch all the docs in this db, you can specify an array of keys to
         // fetch by passing the <code>keys</code> field in the
         // <code>options</code>
         // parameter.
        allDocs: function(options) {
          var type = "GET";
          var data = null;
          if (options["keys"]) {
            type = "POST";
            var keys = options["keys"];
            delete options["keys"];
            data = toJSON({ "keys": keys });
          }
          return ajax({
              type: type,
              data: data,
              url: this.uri + "_all_docs" + encodeOptions(options)
            },
            options,
            "An error occurred retrieving a list of all documents"
          );
        },

        // Fetch all the design docs in this db
        allDesignDocs: function(options) {
          return this.allDocs($.extend(
            {startkey:"_design", endkey:"_design0"}, options));
        },

         // Fetch all the design docs with an index.html, <code>options</code>
         // parameter expects an <code>eachApp</code> field which is a callback
         // called on each app found.
        allApps: function(options) {
          options = options || {};
          var self = this;
          if (options.eachApp) {
            this.allDesignDocs({
              success: function(resp) {
                $.each(resp.rows, function() {
                  self.openDoc(this.id, {
                    success: function(ddoc) {
                      var index, appPath, appName = ddoc._id.split('/');
                      appName.shift();
                      appName = appName.join('/');
                      index = ddoc.couchapp && ddoc.couchapp.index;
                      if (index) {
                        appPath = ['', name, ddoc._id, index].join('/');
                      } else if (ddoc._attachments &&
                                 ddoc._attachments["index.html"]) {
                        appPath = ['', name, ddoc._id, "index.html"].join('/');
                      }
                      if (appPath) options.eachApp(appName, appPath, ddoc);
                    }
                  });
                });
              }
            });
          } else {
            alert("Please provide an eachApp function for allApps()");
          }
        },

        // Returns the specified doc from the specified db.
        openDoc: function(docId, options, ajaxOptions) {
          options = options || {};
          if (db_opts.attachPrevRev || options.attachPrevRev) {
            $.extend(options, {
              beforeSuccess : function(req, doc) {
                rawDocs[doc._id] = {
                  rev : doc._rev,
                  raw : req.responseText
                };
              }
            });
          } else {
            $.extend(options, {
              beforeSuccess : function(req, doc) {
                if (doc["jquery.couch.attachPrevRev"]) {
                  rawDocs[doc._id] = {
                    rev : doc._rev,
                    raw : req.responseText
                  };
                }
              }
            });
          }
          return ajax({url: this.uri + encodeDocId(docId) + encodeOptions(options)},
            options,
            "The document could not be retrieved",
            ajaxOptions
          );
        },

        // Create a new document in the specified database, using the supplied
        // JSON document structure. If the JSON structure includes the _id
        // field, then the document will be created with the specified document
        // ID. If the _id field is not specified, a new unique ID will be
        // generated.
        saveDoc: function(doc, options) {
          options = options || {};
          var db = this;
          var beforeSend = fullCommit(options);
          if (doc._id === undefined) {
            var method = "POST";
            var uri = this.uri;
          } else {
            var method = "PUT";
            var uri = this.uri + encodeDocId(doc._id);
          }
          var versioned = maybeApplyVersion(doc);
          return $.ajax({
            type: method, url: uri + encodeOptions(options),
            contentType: "application/json",
            dataType: "json", data: toJSON(doc),
            beforeSend : beforeSend,
            complete: function(req) {
              var resp = $.parseJSON(req.responseText);
              if (req.status == 200 || req.status == 201 || req.status == 202) {
                doc._id = resp.id;
                doc._rev = resp.rev;
                if (versioned) {
                  db.openDoc(doc._id, {
                    attachPrevRev : true,
                    success : function(d) {
                      doc._attachments = d._attachments;
                      if (options.success) options.success(resp);
                    }
                  });
                } else {
                  if (options.success) options.success(resp);
                }
              } else if (options.error) {
                options.error(req.status, resp.error, resp.reason);
              } else {
                alert("The document could not be saved: " + resp.reason);
              }
            }
          });
        },

        // Save a list of documents
        bulkSave: function(docs, options) {
          var beforeSend = fullCommit(options);
          $.extend(options, {successStatus: 201, beforeSend : beforeSend});
          return ajax({
              type: "POST",
              url: this.uri + "_bulk_docs" + encodeOptions(options),
              contentType: "application/json", data: toJSON(docs)
            },
            options,
            "The documents could not be saved"
          );
        },

        // Deletes the specified document from the database. You must supply
        // the current (latest) revision and <code>id</code> of the document
        // to delete eg <code>removeDoc({_id:"mydoc", _rev: "1-2345"})</code>
        removeDoc: function(doc, options) {
          return ajax({
              type: "DELETE",
              url: this.uri +
                   encodeDocId(doc._id) +
                   encodeOptions({rev: doc._rev})
            },
            options,
            "The document could not be deleted"
          );
        },

        // Remove a set of documents
        bulkRemove: function(docs, options){
          docs.docs = $.each(
            docs.docs, function(i, doc){
              doc._deleted = true;
            }
          );
          $.extend(options, {successStatus: 201});
          return ajax({
              type: "POST",
              url: this.uri + "_bulk_docs" + encodeOptions(options),
              data: toJSON(docs)
            },
            options,
            "The documents could not be deleted"
          );
        },

        // The COPY command (which is non-standard HTTP) copies an existing
        // document to a new or existing document.
        copyDoc: function(docId, options, ajaxOptions) {
          ajaxOptions = $.extend(ajaxOptions, {
            complete: function(req) {
              var resp = $.parseJSON(req.responseText);
              if (req.status == 201) {
                if (options.success) options.success(resp);
              } else if (options.error) {
                options.error(req.status, resp.error, resp.reason);
              } else {
                alert("The document could not be copied: " + resp.reason);
              }
            }
          });
          return ajax({
              type: "COPY",
              url: this.uri + encodeDocId(docId)
            },
            options,
            "The document could not be copied",
            ajaxOptions
          );
        },

        //  Creates (and executes) a temporary view based on the view function
        //  supplied in the JSON request.
        query: function(mapFun, reduceFun, language, options) {
          language = language || "javascript";
          if (typeof(mapFun) !== "string") {
            mapFun = mapFun.toSource ? mapFun.toSource()
              : "(" + mapFun.toString() + ")";
          }
          var body = {language: language, map: mapFun};
          if (reduceFun != null) {
            if (typeof(reduceFun) !== "string")
              reduceFun = reduceFun.toSource ? reduceFun.toSource()
                : "(" + reduceFun.toString() + ")";
            body.reduce = reduceFun;
          }
          return ajax({
              type: "POST",
              url: this.uri + "_temp_view" + encodeOptions(options),
              contentType: "application/json", data: toJSON(body)
            },
            options,
            "An error occurred querying the database"
          );
        },

        // Fetch a _list view output, you can specify a list of
        // <code>keys</code> in the options object to recieve only those keys.
        list: function(list, view, options, ajaxOptions) {
          var list = list.split('/');
          var options = options || {};
          var type = 'GET';
          var data = null;
          if (options['keys']) {
            type = 'POST';
            var keys = options['keys'];
            delete options['keys'];
            data = toJSON({'keys': keys });
          }
          return ajax({
              type: type,
              data: data,
              url: this.uri + '_design/' + list[0] +
                   '/_list/' + list[1] + '/' + view + encodeOptions(options)
              },
              ajaxOptions, 'An error occured accessing the list'
          );
        },

	// Execute an update function for a given document.
	updateDoc: function(updateFun, doc_id, options, ajaxOptions) {

	  var ddoc_fun = updateFun.split('/');
	  var options = options || {};
	  var type = 'PUT';
          var data = null;

	  return $.ajax({
	    type: type,
	    data: data,
            beforeSend: function(xhr) {
              xhr.setRequestHeader('Accept', '*/*');
            },
            complete: function(req) {
              var resp = req.responseText;
              if (req.status == 201) {
                if (options.success) options.success(resp);
              } else if (options.error) {
                options.error(req.status, resp.error, resp.reason);
              } else {
                alert("An error occurred getting session info: " + resp.reason);
              }
            },
	    url: this.uri + '_design/' + ddoc_fun[0] +
	      '/_update/' + ddoc_fun[1] + '/' + doc_id + encodeOptions(options)
	  });
	},

        // Executes the specified view-name from the specified design-doc
        // design document, you can specify a list of <code>keys</code>
        // in the options object to recieve only those keys.
        view: function(name, options) {
          var name = name.split('/');
          var options = options || {};
          var type = "GET";
          var data= null;
          if (options["keys"]) {
            type = "POST";
            var keys = options["keys"];
            delete options["keys"];
            data = toJSON({ "keys": keys });
          }
          return ajax({
              type: type,
              data: data,
              url: this.uri + "_design/" + name[0] +
                   "/_view/" + name[1] + encodeOptions(options)
            },
            options, "An error occurred accessing the view"
          );
        },

        // Fetch an arbitrary CouchDB database property
        getDbProperty: function(propName, options, ajaxOptions) {
          return ajax({url: this.uri + propName + encodeOptions(options)},
            options,
            "The property could not be retrieved",
            ajaxOptions
          );
        },

        // Set an arbitrary CouchDB database property
        setDbProperty: function(propName, propValue, options, ajaxOptions) {
          return ajax({
            type: "PUT",
            url: this.uri + propName + encodeOptions(options),
            data : JSON.stringify(propValue)
          },
            options,
            "The property could not be updated",
            ajaxOptions
          );
        }
      };
    },

    encodeDocId: encodeDocId,

    // Accessing the root of a CouchDB instance returns meta information about
    // the instance. The response is a JSON structure containing information
    // about the server, including a welcome message and the version of the
    // server.
    info: function(options) {
      return ajax(
        {url: this.urlPrefix + "/"},
        options,
        "Server information could not be retrieved"
      );
    },

    // Request, configure, or stop, a replication operation.
    replicate: function(source, target, ajaxOptions, repOpts) {
      repOpts = $.extend({source: source, target: target}, repOpts);
      if (repOpts.continuous && !repOpts.cancel) {
        ajaxOptions.successStatus = 202;
      }
      return ajax({
          type: "POST", url: this.urlPrefix + "/_replicate",
          data: JSON.stringify(repOpts),
          contentType: "application/json"
        },
        ajaxOptions,
        "Replication failed"
      );
    },

    // Fetch a new UUID
    newUUID: function(cacheNum) {
      if (cacheNum === undefined) {
        cacheNum = 1;
      }
      if (!uuidCache.length) {
        ajax({url: this.urlPrefix + "/_uuids", data: {count: cacheNum}, async:
              false}, {
            success: function(resp) {
              uuidCache = resp.uuids;
            }
          },
          "Failed to retrieve UUID batch."
        );
      }
      return uuidCache.shift();
    }
  });

  function ajax(obj, options, errorMessage, ajaxOptions) {

    var defaultAjaxOpts = {
      contentType: "application/json",
      headers:{"Accept": "application/json"}
    };

    options = $.extend({successStatus: 200}, options);
    ajaxOptions = $.extend(defaultAjaxOpts, ajaxOptions);
    errorMessage = errorMessage || "Unknown error";
    return $.ajax($.extend($.extend({
      type: "GET", dataType: "json",
      beforeSend: function(xhr){
        if(ajaxOptions && ajaxOptions.headers){
          for (var header in ajaxOptions.headers){
            xhr.setRequestHeader(header, ajaxOptions.headers[header]);
          }
        }
      },
      complete: function(req) {
        try {
          var resp = $.parseJSON(req.responseText);
        } catch(e) {
          if (options.error) {
            options.error(req.status, req, e);
          } else {
            alert(errorMessage + ": " + e);
          }
          return;
        }
        if (options.ajaxStart) {
          options.ajaxStart(resp);
        }
        if (req.status == options.successStatus) {
          if (options.beforeSuccess) options.beforeSuccess(req, resp);
          if (options.success) options.success(resp);
        } else if (options.error) {
          options.error(req.status, resp && resp.error ||
                        errorMessage, resp && resp.reason || "no response");
        } else {
          alert(errorMessage + ": " + resp.reason);
        }
      }
    }, obj), ajaxOptions));
  }

  function fullCommit(options) {
    var options = options || {};
    if (typeof options.ensure_full_commit !== "undefined") {
      var commit = options.ensure_full_commit;
      delete options.ensure_full_commit;
      return function(xhr) {
        xhr.setRequestHeader('Accept', 'application/json');
        xhr.setRequestHeader("X-Couch-Full-Commit", commit.toString());
      };
    }
  };

  // Convert a options object to an url query string.
  // ex: {key:'value',key2:'value2'} becomes '?key="value"&key2="value2"'
  function encodeOptions(options) {
    var buf = [];
    if (typeof(options) === "object" && options !== null) {
      for (var name in options) {
        if ($.inArray(name,
                      ["error", "success", "beforeSuccess", "ajaxStart"]) >= 0)
          continue;
        var value = options[name];
        if ($.inArray(name, ["key", "startkey", "endkey"]) >= 0) {
          value = toJSON(value);
        }
        buf.push(encodeURIComponent(name) + "=" + encodeURIComponent(value));
      }
    }
    return buf.length ? "?" + buf.join("&") : "";
  }

  function toJSON(obj) {
    return obj !== null ? JSON.stringify(obj) : null;
  }

})(jQuery);
/*!
 * jQuery Cookie Plugin v1.4.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2006, 2014 Klaus Hartl
 * Released under the MIT license
 */
(function (factory) {
    if (typeof define === 'function' && define.amd) {
        // AMD (Register as an anonymous module)
        define(['jquery'], factory);
    } else if (typeof exports === 'object') {
        // Node/CommonJS
        module.exports = factory(require('jquery'));
    } else {
        // Browser globals
        factory(jQuery);
    }
}(function ($) {

    var pluses = /\+/g;

    function encode(s) {
        return config.raw ? s : encodeURIComponent(s);
    }

    function decode(s) {
        return config.raw ? s : decodeURIComponent(s);
    }

    function stringifyCookieValue(value) {
        return encode(config.json ? JSON.stringify(value) : String(value));
    }

    function parseCookieValue(s) {
        if (s.indexOf('"') === 0) {
            // This is a quoted cookie as according to RFC2068, unescape...
            s = s.slice(1, -1).replace(/\\"/g, '"').replace(/\\\\/g, '\\');
        }

        try {
            // Replace server-side written pluses with spaces.
            // If we can't decode the cookie, ignore it, it's unusable.
            // If we can't parse the cookie, ignore it, it's unusable.
            s = decodeURIComponent(s.replace(pluses, ' '));
            return config.json ? JSON.parse(s) : s;
        } catch(e) {}
    }

    function read(s, converter) {
        var value = config.raw ? s : parseCookieValue(s);
        return $.isFunction(converter) ? converter(value) : value;
    }

    var config = $.cookie = function (key, value, options) {

        // Write

        if (arguments.length > 1 && !$.isFunction(value)) {
            options = $.extend({}, config.defaults, options);

            if (typeof options.expires === 'number') {
                var days = options.expires, t = options.expires = new Date();
                t.setMilliseconds(t.getMilliseconds() + days * 864e+5);
            }

            return (document.cookie = [
                encode(key), '=', stringifyCookieValue(value),
                options.expires ? '; expires=' + options.expires.toUTCString() : '', // use expires attribute, max-age is not supported by IE
                options.path    ? '; path=' + options.path : '',
                options.domain  ? '; domain=' + options.domain : '',
                options.secure  ? '; secure' : ''
            ].join(''));
        }

        // Read

        var result = key ? undefined : {},
            // To prevent the for loop in the first place assign an empty array
            // in case there are no cookies at all. Also prevents odd result when
            // calling $.cookie().
            cookies = document.cookie ? document.cookie.split('; ') : [],
            i = 0,
            l = cookies.length;

        for (; i < l; i++) {
            var parts = cookies[i].split('='),
                name = decode(parts.shift()),
                cookie = parts.join('=');

            if (key === name) {
                // If second argument (value) is a function it's a converter...
                result = read(cookie, value);
                break;
            }

            // Prevent storing a cookie that we couldn't decode.
            if (!key && (cookie = read(cookie)) !== undefined) {
                result[name] = cookie;
            }
        }

        return result;
    };

    config.defaults = {};

    $.removeCookie = function (key, options) {
        // Must not alter options, thus extending a fresh object...
        $.cookie(key, '', $.extend({}, options, { expires: -1 }));
        return !$.cookie(key);
    };

}));
/*
 * Table Sorter
 */
(function($){$.extend({tablesorter:new
function(){var parsers=[],widgets=[];this.defaults={cssHeader:"header",cssAsc:"headerSortUp",cssDesc:"headerSortDown",cssChildRow:"expand-child",sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortForce:null,sortAppend:null,sortLocaleCompare:true,textExtraction:"simple",parsers:{},widgets:[],widgetZebra:{css:["even","odd"]},headers:{},widthFixed:false,cancelSelection:true,sortList:[],headerList:[],dateFormat:"us",decimal:'/\.|\,/g',onRenderHeader:null,selectorHeaders:'thead th',debug:false};function benchmark(s,d){log(s+","+(new Date().getTime()-d.getTime())+"ms");}this.benchmark=benchmark;function log(s){if(typeof console!="undefined"&&typeof console.debug!="undefined"){console.log(s);}else{alert(s);}}function buildParserCache(table,$headers){if(table.config.debug){var parsersDebug="";}if(table.tBodies.length==0)return;var rows=table.tBodies[0].rows;if(rows[0]){var list=[],cells=rows[0].cells,l=cells.length;for(var i=0;i<l;i++){var p=false;if($.metadata&&($($headers[i]).metadata()&&$($headers[i]).metadata().sorter)){p=getParserById($($headers[i]).metadata().sorter);}else if((table.config.headers[i]&&table.config.headers[i].sorter)){p=getParserById(table.config.headers[i].sorter);}if(!p){p=detectParserForColumn(table,rows,-1,i);}if(table.config.debug){parsersDebug+="column:"+i+" parser:"+p.id+"\n";}list.push(p);}}if(table.config.debug){log(parsersDebug);}return list;};function detectParserForColumn(table,rows,rowIndex,cellIndex){var l=parsers.length,node=false,nodeValue=false,keepLooking=true;while(nodeValue==''&&keepLooking){rowIndex++;if(rows[rowIndex]){node=getNodeFromRowAndCellIndex(rows,rowIndex,cellIndex);nodeValue=trimAndGetNodeText(table.config,node);if(table.config.debug){log('Checking if value was empty on row:'+rowIndex);}}else{keepLooking=false;}}for(var i=1;i<l;i++){if(parsers[i].is(nodeValue,table,node)){return parsers[i];}}return parsers[0];}function getNodeFromRowAndCellIndex(rows,rowIndex,cellIndex){return rows[rowIndex].cells[cellIndex];}function trimAndGetNodeText(config,node){return $.trim(getElementText(config,node));}function getParserById(name){var l=parsers.length;for(var i=0;i<l;i++){if(parsers[i].id.toLowerCase()==name.toLowerCase()){return parsers[i];}}return false;}function buildCache(table){if(table.config.debug){var cacheTime=new Date();}var totalRows=(table.tBodies[0]&&table.tBodies[0].rows.length)||0,totalCells=(table.tBodies[0].rows[0]&&table.tBodies[0].rows[0].cells.length)||0,parsers=table.config.parsers,cache={row:[],normalized:[]};for(var i=0;i<totalRows;++i){var c=$(table.tBodies[0].rows[i]),cols=[];if(c.hasClass(table.config.cssChildRow)){cache.row[cache.row.length-1]=cache.row[cache.row.length-1].add(c);continue;}cache.row.push(c);for(var j=0;j<totalCells;++j){cols.push(parsers[j].format(getElementText(table.config,c[0].cells[j]),table,c[0].cells[j]));}cols.push(cache.normalized.length);cache.normalized.push(cols);cols=null;};if(table.config.debug){benchmark("Building cache for "+totalRows+" rows:",cacheTime);}return cache;};function getElementText(config,node){var text="";if(!node)return"";if(!config.supportsTextContent)config.supportsTextContent=node.textContent||false;if(config.textExtraction=="simple"){if(config.supportsTextContent){text=node.textContent;}else{if(node.childNodes[0]&&node.childNodes[0].hasChildNodes()){text=node.childNodes[0].innerHTML;}else{text=node.innerHTML;}}}else{if(typeof(config.textExtraction)=="function"){text=config.textExtraction(node);}else{text=$(node).text();}}return text;}function appendToTable(table,cache){if(table.config.debug){var appendTime=new Date()}var c=cache,r=c.row,n=c.normalized,totalRows=n.length,checkCell=(n[0].length-1),tableBody=$(table.tBodies[0]),rows=[];for(var i=0;i<totalRows;i++){var pos=n[i][checkCell];rows.push(r[pos]);if(!table.config.appender){var l=r[pos].length;for(var j=0;j<l;j++){tableBody[0].appendChild(r[pos][j]);}}}if(table.config.appender){table.config.appender(table,rows);}rows=null;if(table.config.debug){benchmark("Rebuilt table:",appendTime);}applyWidget(table);setTimeout(function(){$(table).trigger("sortEnd");},0);};function buildHeaders(table){if(table.config.debug){var time=new Date();}var meta=($.metadata)?true:false;var header_index=computeTableHeaderCellIndexes(table);$tableHeaders=$(table.config.selectorHeaders,table).each(function(index){this.column=header_index[this.parentNode.rowIndex+"-"+this.cellIndex];this.order=formatSortingOrder(table.config.sortInitialOrder);this.count=this.order;if(checkHeaderMetadata(this)||checkHeaderOptions(table,index))this.sortDisabled=true;if(checkHeaderOptionsSortingLocked(table,index))this.order=this.lockedOrder=checkHeaderOptionsSortingLocked(table,index);if(!this.sortDisabled){var $th=$(this).addClass(table.config.cssHeader);if(table.config.onRenderHeader)table.config.onRenderHeader.apply($th);}table.config.headerList[index]=this;});if(table.config.debug){benchmark("Built headers:",time);log($tableHeaders);}return $tableHeaders;};function computeTableHeaderCellIndexes(t){var matrix=[];var lookup={};var thead=t.getElementsByTagName('THEAD')[0];var trs=thead.getElementsByTagName('TR');for(var i=0;i<trs.length;i++){var cells=trs[i].cells;for(var j=0;j<cells.length;j++){var c=cells[j];var rowIndex=c.parentNode.rowIndex;var cellId=rowIndex+"-"+c.cellIndex;var rowSpan=c.rowSpan||1;var colSpan=c.colSpan||1
var firstAvailCol;if(typeof(matrix[rowIndex])=="undefined"){matrix[rowIndex]=[];}for(var k=0;k<matrix[rowIndex].length+1;k++){if(typeof(matrix[rowIndex][k])=="undefined"){firstAvailCol=k;break;}}lookup[cellId]=firstAvailCol;for(var k=rowIndex;k<rowIndex+rowSpan;k++){if(typeof(matrix[k])=="undefined"){matrix[k]=[];}var matrixrow=matrix[k];for(var l=firstAvailCol;l<firstAvailCol+colSpan;l++){matrixrow[l]="x";}}}}return lookup;}function checkCellColSpan(table,rows,row){var arr=[],r=table.tHead.rows,c=r[row].cells;for(var i=0;i<c.length;i++){var cell=c[i];if(cell.colSpan>1){arr=arr.concat(checkCellColSpan(table,headerArr,row++));}else{if(table.tHead.length==1||(cell.rowSpan>1||!r[row+1])){arr.push(cell);}}}return arr;};function checkHeaderMetadata(cell){if(($.metadata)&&($(cell).metadata().sorter===false)){return true;};return false;}function checkHeaderOptions(table,i){if((table.config.headers[i])&&(table.config.headers[i].sorter===false)){return true;};return false;}function checkHeaderOptionsSortingLocked(table,i){if((table.config.headers[i])&&(table.config.headers[i].lockedOrder))return table.config.headers[i].lockedOrder;return false;}function applyWidget(table){var c=table.config.widgets;var l=c.length;for(var i=0;i<l;i++){getWidgetById(c[i]).format(table);}}function getWidgetById(name){var l=widgets.length;for(var i=0;i<l;i++){if(widgets[i].id.toLowerCase()==name.toLowerCase()){return widgets[i];}}};function formatSortingOrder(v){if(typeof(v)!="Number"){return(v.toLowerCase()=="desc")?1:0;}else{return(v==1)?1:0;}}function isValueInArray(v,a){var l=a.length;for(var i=0;i<l;i++){if(a[i][0]==v){return true;}}return false;}function setHeadersCss(table,$headers,list,css){$headers.removeClass(css[0]).removeClass(css[1]);var h=[];$headers.each(function(offset){if(!this.sortDisabled){h[this.column]=$(this);}});var l=list.length;for(var i=0;i<l;i++){h[list[i][0]].addClass(css[list[i][1]]);}}function fixColumnWidth(table,$headers){var c=table.config;if(c.widthFixed){var colgroup=$('<colgroup>');$("tr:first td",table.tBodies[0]).each(function(){colgroup.append($('<col>').css('width',$(this).width()));});$(table).prepend(colgroup);};}function updateHeaderSortCount(table,sortList){var c=table.config,l=sortList.length;for(var i=0;i<l;i++){var s=sortList[i],o=c.headerList[s[0]];o.count=s[1];o.count++;}}function multisort(table,sortList,cache){if(table.config.debug){var sortTime=new Date();}var dynamicExp="var sortWrapper = function(a,b) {",l=sortList.length;for(var i=0;i<l;i++){var c=sortList[i][0];var order=sortList[i][1];var s=(table.config.parsers[c].type=="text")?((order==0)?makeSortFunction("text","asc",c):makeSortFunction("text","desc",c)):((order==0)?makeSortFunction("numeric","asc",c):makeSortFunction("numeric","desc",c));var e="e"+i;dynamicExp+="var "+e+" = "+s;dynamicExp+="if("+e+") { return "+e+"; } ";dynamicExp+="else { ";}var orgOrderCol=cache.normalized[0].length-1;dynamicExp+="return a["+orgOrderCol+"]-b["+orgOrderCol+"];";for(var i=0;i<l;i++){dynamicExp+="}; ";}dynamicExp+="return 0; ";dynamicExp+="}; ";if(table.config.debug){benchmark("Evaling expression:"+dynamicExp,new Date());}eval(dynamicExp);cache.normalized.sort(sortWrapper);if(table.config.debug){benchmark("Sorting on "+sortList.toString()+" and dir "+order+" time:",sortTime);}return cache;};function makeSortFunction(type,direction,index){var a="a["+index+"]",b="b["+index+"]";if(type=='text'&&direction=='asc'){return"("+a+" == "+b+" ? 0 : ("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : ("+a+" < "+b+") ? -1 : 1 )));";}else if(type=='text'&&direction=='desc'){return"("+a+" == "+b+" ? 0 : ("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : ("+b+" < "+a+") ? -1 : 1 )));";}else if(type=='numeric'&&direction=='asc'){return"("+a+" === null && "+b+" === null) ? 0 :("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : "+a+" - "+b+"));";}else if(type=='numeric'&&direction=='desc'){return"("+a+" === null && "+b+" === null) ? 0 :("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : "+b+" - "+a+"));";}};function makeSortText(i){return"((a["+i+"] < b["+i+"]) ? -1 : ((a["+i+"] > b["+i+"]) ? 1 : 0));";};function makeSortTextDesc(i){return"((b["+i+"] < a["+i+"]) ? -1 : ((b["+i+"] > a["+i+"]) ? 1 : 0));";};function makeSortNumeric(i){return"a["+i+"]-b["+i+"];";};function makeSortNumericDesc(i){return"b["+i+"]-a["+i+"];";};function sortText(a,b){if(table.config.sortLocaleCompare)return a.localeCompare(b);return((a<b)?-1:((a>b)?1:0));};function sortTextDesc(a,b){if(table.config.sortLocaleCompare)return b.localeCompare(a);return((b<a)?-1:((b>a)?1:0));};function sortNumeric(a,b){return a-b;};function sortNumericDesc(a,b){return b-a;};function getCachedSortType(parsers,i){return parsers[i].type;};this.construct=function(settings){return this.each(function(){if(!this.tHead||!this.tBodies)return;var $this,$document,$headers,cache,config,shiftDown=0,sortOrder;this.config={};config=$.extend(this.config,$.tablesorter.defaults,settings);$this=$(this);$.data(this,"tablesorter",config);$headers=buildHeaders(this);this.config.parsers=buildParserCache(this,$headers);cache=buildCache(this);var sortCSS=[config.cssDesc,config.cssAsc];fixColumnWidth(this);$headers.click(function(e){var totalRows=($this[0].tBodies[0]&&$this[0].tBodies[0].rows.length)||0;if(!this.sortDisabled&&totalRows>0){$this.trigger("sortStart");var $cell=$(this);var i=this.column;this.order=this.count++%2;if(this.lockedOrder)this.order=this.lockedOrder;if(!e[config.sortMultiSortKey]){config.sortList=[];if(config.sortForce!=null){var a=config.sortForce;for(var j=0;j<a.length;j++){if(a[j][0]!=i){config.sortList.push(a[j]);}}}config.sortList.push([i,this.order]);}else{if(isValueInArray(i,config.sortList)){for(var j=0;j<config.sortList.length;j++){var s=config.sortList[j],o=config.headerList[s[0]];if(s[0]==i){o.count=s[1];o.count++;s[1]=o.count%2;}}}else{config.sortList.push([i,this.order]);}};setTimeout(function(){setHeadersCss($this[0],$headers,config.sortList,sortCSS);appendToTable($this[0],multisort($this[0],config.sortList,cache));},1);return false;}}).mousedown(function(){if(config.cancelSelection){this.onselectstart=function(){return false};return false;}});$this.bind("update",function(){var me=this;setTimeout(function(){me.config.parsers=buildParserCache(me,$headers);cache=buildCache(me);},1);}).bind("updateCell",function(e,cell){var config=this.config;var pos=[(cell.parentNode.rowIndex-1),cell.cellIndex];cache.normalized[pos[0]][pos[1]]=config.parsers[pos[1]].format(getElementText(config,cell),cell);}).bind("sorton",function(e,list){$(this).trigger("sortStart");config.sortList=list;var sortList=config.sortList;updateHeaderSortCount(this,sortList);setHeadersCss(this,$headers,sortList,sortCSS);appendToTable(this,multisort(this,sortList,cache));}).bind("appendCache",function(){appendToTable(this,cache);}).bind("applyWidgetId",function(e,id){getWidgetById(id).format(this);}).bind("applyWidgets",function(){applyWidget(this);});if($.metadata&&($(this).metadata()&&$(this).metadata().sortlist)){config.sortList=$(this).metadata().sortlist;}if(config.sortList.length>0){$this.trigger("sorton",[config.sortList]);}applyWidget(this);});};this.addParser=function(parser){var l=parsers.length,a=true;for(var i=0;i<l;i++){if(parsers[i].id.toLowerCase()==parser.id.toLowerCase()){a=false;}}if(a){parsers.push(parser);};};this.addWidget=function(widget){widgets.push(widget);};this.formatFloat=function(s){var i=parseFloat(s);return(isNaN(i))?0:i;};this.formatInt=function(s){var i=parseInt(s);return(isNaN(i))?0:i;};this.isDigit=function(s,config){return/^[-+]?\d*$/.test($.trim(s.replace(/[,.']/g,'')));};this.clearTableBody=function(table){if($.browser.msie){function empty(){while(this.firstChild)this.removeChild(this.firstChild);}empty.apply(table.tBodies[0]);}else{table.tBodies[0].innerHTML="";}};}});$.fn.extend({tablesorter:$.tablesorter.construct});var ts=$.tablesorter;ts.addParser({id:"text",is:function(s){return true;},format:function(s){return $.trim(s.toLocaleLowerCase());},type:"text"});ts.addParser({id:"digit",is:function(s,table){var c=table.config;return $.tablesorter.isDigit(s,c);},format:function(s){return $.tablesorter.formatFloat(s);},type:"numeric"});ts.addParser({id:"currency",is:function(s){return/^[£$€?.]/.test(s);},format:function(s){return $.tablesorter.formatFloat(s.replace(new RegExp(/[£$€]/g),""));},type:"numeric"});ts.addParser({id:"ipAddress",is:function(s){return/^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(s);},format:function(s){var a=s.split("."),r="",l=a.length;for(var i=0;i<l;i++){var item=a[i];if(item.length==2){r+="0"+item;}else{r+=item;}}return $.tablesorter.formatFloat(r);},type:"numeric"});ts.addParser({id:"url",is:function(s){return/^(https?|ftp|file):\/\/$/.test(s);},format:function(s){return jQuery.trim(s.replace(new RegExp(/(https?|ftp|file):\/\//),''));},type:"text"});ts.addParser({id:"isoDate",is:function(s){return/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(s);},format:function(s){return $.tablesorter.formatFloat((s!="")?new Date(s.replace(new RegExp(/-/g),"/")).getTime():"0");},type:"numeric"});ts.addParser({id:"percent",is:function(s){return/\%$/.test($.trim(s));},format:function(s){return $.tablesorter.formatFloat(s.replace(new RegExp(/%/g),""));},type:"numeric"});ts.addParser({id:"usLongDate",is:function(s){return s.match(new RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/));},format:function(s){return $.tablesorter.formatFloat(new Date(s).getTime());},type:"numeric"});ts.addParser({id:"shortDate",is:function(s){return/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/.test(s);},format:function(s,table){var c=table.config;s=s.replace(/\-/g,"/");if(c.dateFormat=="us"){s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$1/$2");}else if(c.dateFormat=="uk"){s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$2/$1");}else if(c.dateFormat=="dd/mm/yy"||c.dateFormat=="dd-mm-yy"){s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/,"$1/$2/$3");}return $.tablesorter.formatFloat(new Date(s).getTime());},type:"numeric"});ts.addParser({id:"time",is:function(s){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(s);},format:function(s){return $.tablesorter.formatFloat(new Date("2000/01/01 "+s).getTime());},type:"numeric"});ts.addParser({id:"metadata",is:function(s){return false;},format:function(s,table,cell){var c=table.config,p=(!c.parserMetadataName)?'sortValue':c.parserMetadataName;return $(cell).metadata()[p];},type:"numeric"});ts.addWidget({id:"zebra",format:function(table){if(table.config.debug){var time=new Date();}var $tr,row=-1,odd;$("tr:visible",table.tBodies[0]).each(function(i){$tr=$(this);if(!$tr.hasClass(table.config.cssChildRow))row++;odd=(row%2==0);$tr.removeClass(table.config.widgetZebra.css[odd?0:1]).addClass(table.config.widgetZebra.css[odd?1:0])});if(table.config.debug){$.tablesorter.benchmark("Applying Zebra widget",time);}}});})(jQuery);

/*! Javascript plotting library for jQuery, v. 0.7.
 *
 * Released under the MIT license by IOLA, December 2007.
 *
 */

// first an inline dependency, jquery.colorhelpers.js, we inline it here
// for convenience

/* Plugin for jQuery for working with colors.
 * 
 * Version 1.1.
 * 
 * Inspiration from jQuery color animation plugin by John Resig.
 *
 * Released under the MIT license by Ole Laursen, October 2009.
 *
 * Examples:
 *
 *   $.color.parse("#fff").scale('rgb', 0.25).add('a', -0.5).toString()
 *   var c = $.color.extract($("#mydiv"), 'background-color');
 *   console.log(c.r, c.g, c.b, c.a);
 *   $.color.make(100, 50, 25, 0.4).toString() // returns "rgba(100,50,25,0.4)"
 *
 * Note that .scale() and .add() return the same modified object
 * instead of making a new one.
 *
 * V. 1.1: Fix error handling so e.g. parsing an empty string does
 * produce a color rather than just crashing.
 */ 
(function(B){B.color={};B.color.make=function(F,E,C,D){var G={};G.r=F||0;G.g=E||0;G.b=C||0;G.a=D!=null?D:1;G.add=function(J,I){for(var H=0;H<J.length;++H){G[J.charAt(H)]+=I}return G.normalize()};G.scale=function(J,I){for(var H=0;H<J.length;++H){G[J.charAt(H)]*=I}return G.normalize()};G.toString=function(){if(G.a>=1){return"rgb("+[G.r,G.g,G.b].join(",")+")"}else{return"rgba("+[G.r,G.g,G.b,G.a].join(",")+")"}};G.normalize=function(){function H(J,K,I){return K<J?J:(K>I?I:K)}G.r=H(0,parseInt(G.r),255);G.g=H(0,parseInt(G.g),255);G.b=H(0,parseInt(G.b),255);G.a=H(0,G.a,1);return G};G.clone=function(){return B.color.make(G.r,G.b,G.g,G.a)};return G.normalize()};B.color.extract=function(D,C){var E;do{E=D.css(C).toLowerCase();if(E!=""&&E!="transparent"){break}D=D.parent()}while(!B.nodeName(D.get(0),"body"));if(E=="rgba(0, 0, 0, 0)"){E="transparent"}return B.color.parse(E)};B.color.parse=function(F){var E,C=B.color.make;if(E=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(F)){return C(parseInt(E[1],10),parseInt(E[2],10),parseInt(E[3],10))}if(E=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(F)){return C(parseInt(E[1],10),parseInt(E[2],10),parseInt(E[3],10),parseFloat(E[4]))}if(E=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(F)){return C(parseFloat(E[1])*2.55,parseFloat(E[2])*2.55,parseFloat(E[3])*2.55)}if(E=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(F)){return C(parseFloat(E[1])*2.55,parseFloat(E[2])*2.55,parseFloat(E[3])*2.55,parseFloat(E[4]))}if(E=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(F)){return C(parseInt(E[1],16),parseInt(E[2],16),parseInt(E[3],16))}if(E=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(F)){return C(parseInt(E[1]+E[1],16),parseInt(E[2]+E[2],16),parseInt(E[3]+E[3],16))}var D=B.trim(F).toLowerCase();if(D=="transparent"){return C(255,255,255,0)}else{E=A[D]||[0,0,0];return C(E[0],E[1],E[2])}};var A={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);

// the actual Flot code
(function(n){function Z(C,N,v,T){function I(a,e){e=[w].concat(e);for(var c=0;c<a.length;++c)a[c].apply(this,e)}function da(a){for(var e=[],c=0;c<a.length;++c){var b=n.extend(!0,{},f.series);null!=a[c].data?(b.data=a[c].data,delete a[c].data,n.extend(!0,b,a[c]),a[c].data=b.data):b.data=a[c];e.push(b)}r=e;e=r.length;c=[];b=[];for(a=0;a<r.length;++a){var d=r[a].color;null!=d&&(--e,"number"==typeof d?b.push(d):c.push(n.color.parse(r[a].color)))}for(a=0;a<b.length;++a)e=Math.max(e,b[a]+1);c=[];for(a=b= 0;c.length<e;)d=f.colors.length==a?n.color.make(100,100,100):n.color.parse(f.colors[a]),d.scale("rgb",1+0.2*(1==b%2?-1:1)*Math.ceil(b/2)),c.push(d),++a,a>=f.colors.length&&(a=0,++b);for(a=e=0;a<r.length;++a){b=r[a];null==b.color?(b.color=c[e].toString(),++e):"number"==typeof b.color&&(b.color=c[b.color].toString());if(null==b.lines.show){var q,d=!0;for(q in b)if(b[q]&&b[q].show){d=!1;break}d&&(b.lines.show=!0)}b.xaxis=S(A,Q(b,"x"));b.yaxis=S(G,Q(b,"y"))}q=function(a,b,c){b<a.datamin&&b!=-p&&(a.datamin= b);c>a.datamax&&c!=p&&(a.datamax=c)};var g=Number.POSITIVE_INFINITY,k=Number.NEGATIVE_INFINITY,p=Number.MAX_VALUE,j,m,t,E,l;n.each(z(),function(a,b){b.datamin=g;b.datamax=k;b.used=!1});for(a=0;a<r.length;++a)e=r[a],e.datapoints={points:[]},I(J.processRawData,[e,e.data,e.datapoints]);for(a=0;a<r.length;++a){var e=r[a],s=e.data,h=e.datapoints.format;if(!h){h=[];h.push({x:!0,number:!0,required:!0});h.push({y:!0,number:!0,required:!0});if(e.bars.show||e.lines.show&&e.lines.fill)h.push({y:!0,number:!0, required:!1,defaultValue:0}),e.bars.horizontal&&(delete h[h.length-1].y,h[h.length-1].x=!0);e.datapoints.format=h}if(null==e.datapoints.pointsize){e.datapoints.pointsize=h.length;m=e.datapoints.pointsize;d=e.datapoints.points;insertSteps=e.lines.show&&e.lines.steps;e.xaxis.used=e.yaxis.used=!0;for(c=j=0;c<s.length;++c,j+=m){l=s[c];var u=null==l;if(!u)for(b=0;b<m;++b){t=l[b];if(E=h[b])E.number&&null!=t&&(t=+t,isNaN(t)?t=null:Infinity==t?t=p:-Infinity==t&&(t=-p)),null==t&&(E.required&&(u=!0),null!= E.defaultValue&&(t=E.defaultValue));d[j+b]=t}if(u)for(b=0;b<m;++b)t=d[j+b],null!=t&&(E=h[b],E.x&&q(e.xaxis,t,t),E.y&&q(e.yaxis,t,t)),d[j+b]=null;else if(insertSteps&&0<j&&null!=d[j-m]&&d[j-m]!=d[j]&&d[j-m+1]!=d[j+1]){for(b=0;b<m;++b)d[j+m+b]=d[j+b];d[j+1]=d[j-m+1];j+=m}}}}for(a=0;a<r.length;++a)e=r[a],I(J.processDatapoints,[e,e.datapoints]);for(a=0;a<r.length;++a){e=r[a];d=e.datapoints.points;m=e.datapoints.pointsize;l=j=g;u=s=k;for(c=0;c<d.length;c+=m)if(null!=d[c])for(b=0;b<m;++b)if(t=d[c+b],(E= h[b])&&!(t==p||t==-p))E.x&&(t<j&&(j=t),t>s&&(s=t)),E.y&&(t<l&&(l=t),t>u&&(u=t));e.bars.show&&(c="left"==e.bars.align?0:-e.bars.barWidth/2,e.bars.horizontal?(l+=c,u+=c+e.bars.barWidth):(j+=c,s+=c+e.bars.barWidth));q(e.xaxis,j,s);q(e.yaxis,l,u)}n.each(z(),function(a,b){b.datamin==g&&(b.datamin=null);b.datamax==k&&(b.datamax=null)})}function Q(a,e){var c=a[e+"axis"];"object"==typeof c&&(c=c.n);"number"!=typeof c&&(c=1);return c}function z(){return n.grep(A.concat(G),function(a){return a})}function W(a){var e= {},c,b;for(c=0;c<A.length;++c)(b=A[c])&&b.used&&(e["x"+b.n]=b.c2p(a.left));for(c=0;c<G.length;++c)(b=G[c])&&b.used&&(e["y"+b.n]=b.c2p(a.top));void 0!==e.x1&&(e.x=e.x1);void 0!==e.y1&&(e.y=e.y1);return e}function S(a,e){a[e-1]||(a[e-1]={n:e,direction:a==A?"x":"y",options:n.extend(!0,{},a==A?f.xaxis:f.yaxis)});return a[e-1]}function B(a,e){var c=document.createElement("canvas");c.className=e;c.width=F;c.height=H;a||n(c).css({position:"absolute",left:0,top:0});n(c).appendTo(C);c.getContext||(c=window.G_vmlCanvasManager.initElement(c)); c.getContext("2d").save();return c}function ea(){F=C.width();H=C.height();if(0>=F||0>=H)throw"Invalid dimensions for plot, width = "+F+", height = "+H;}function fa(a){a.width!=F&&(a.width=F);a.height!=H&&(a.height=H);a=a.getContext("2d");a.restore();a.save()}function Z(a){var e=a.labelWidth,c=a.labelHeight,b=a.options.position,d=a.options.tickLength,g=f.grid.axisMargin,y=f.grid.labelMargin,x="x"==a.direction?A:G,p=n.grep(x,function(a){return a&&a.options.position==b&&a.reserveSpace});n.inArray(a, p)==p.length-1&&(g=0);null==d&&(d="full");x=n.grep(x,function(a){return a&&a.reserveSpace});x=0==n.inArray(a,x);!x&&"full"==d&&(d=5);isNaN(+d)||(y+=+d);"x"==a.direction?(c+=y,"bottom"==b?(k.bottom+=c+g,a.box={top:H-k.bottom,height:c}):(a.box={top:k.top+g,height:c},k.top+=c+g)):(e+=y,"left"==b?(a.box={left:k.left+g,width:e},k.left+=e+g):(k.right+=e+g,a.box={left:F-k.right,width:e}));a.position=b;a.tickLength=d;a.box.padding=y;a.innermost=x}function ga(){var a,e=z();n.each(e,function(a,b){b.show=b.options.show; null==b.show&&(b.show=b.used);b.reserveSpace=b.show||b.options.reserveSpace;var c=b.options,d=+(null!=c.min?c.min:b.datamin),e=+(null!=c.max?c.max:b.datamax),h=e-d;if(0==h){if(h=0==e?1:0.01,null==c.min&&(d-=h),null==c.max||null!=c.min)e+=h}else{var f=c.autoscaleMargin;null!=f&&(null==c.min&&(d-=h*f,0>d&&(null!=b.datamin&&0<=b.datamin)&&(d=0)),null==c.max&&(e+=h*f,0<e&&(null!=b.datamax&&0>=b.datamax)&&(e=0)))}b.min=d;b.max=e});allocatedAxes=n.grep(e,function(a){return a.reserveSpace});k.left=k.right= k.top=k.bottom=0;if(f.grid.show){n.each(allocatedAxes,function(a,b){var c=b.options,d;d="number"==typeof c.ticks&&0<c.ticks?c.ticks:0.3*Math.sqrt("x"==b.direction?F:H);d=(b.max-b.min)/d;var e,h,f,g;if("time"==c.mode){var j={second:1E3,minute:6E4,hour:36E5,day:864E5,month:2592E6,year:525949.2*6E4};g=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"], [2,"day"],[3,"day"],[0.25,"month"],[0.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]];e=0;null!=c.minTickSize&&(e="number"==typeof c.tickSize?c.tickSize:c.minTickSize[0]*j[c.minTickSize[1]]);for(h=0;h<g.length-1&&!(d<(g[h][0]*j[g[h][1]]+g[h+1][0]*j[g[h+1][1]])/2&&g[h][0]*j[g[h][1]]>=e);++h);e=g[h][0];f=g[h][1];"year"==f&&(h=Math.pow(10,Math.floor(Math.log(d/j.year)/Math.LN10)),g=d/j.year/h,e=(1.5>g?1:3>g?2:7.5>g?5:10)*h);b.tickSize=c.tickSize||[e,f];h=function(b){var a=[],c= b.tickSize[0],d=b.tickSize[1],e=new Date(b.min),f=c*j[d];"second"==d&&e.setUTCSeconds(O(e.getUTCSeconds(),c));"minute"==d&&e.setUTCMinutes(O(e.getUTCMinutes(),c));"hour"==d&&e.setUTCHours(O(e.getUTCHours(),c));"month"==d&&e.setUTCMonth(O(e.getUTCMonth(),c));"year"==d&&e.setUTCFullYear(O(e.getUTCFullYear(),c));e.setUTCMilliseconds(0);f>=j.minute&&e.setUTCSeconds(0);f>=j.hour&&e.setUTCMinutes(0);f>=j.day&&e.setUTCHours(0);f>=4*j.day&&e.setUTCDate(1);f>=j.year&&e.setUTCMonth(0);var g=0,h=Number.NaN, q;do if(q=h,h=e.getTime(),a.push(h),"month"==d)if(1>c){e.setUTCDate(1);var t=e.getTime();e.setUTCMonth(e.getUTCMonth()+1);var l=e.getTime();e.setTime(h+g*j.hour+(l-t)*c);g=e.getUTCHours();e.setUTCHours(0)}else e.setUTCMonth(e.getUTCMonth()+c);else"year"==d?e.setUTCFullYear(e.getUTCFullYear()+c):e.setTime(h+f);while(h<b.max&&h!=q);return a};e=function(b,a){var e=new Date(b);if(null!=c.timeformat)return n.plot.formatDate(e,c.timeformat,c.monthNames);var d=a.tickSize[0]*j[a.tickSize[1]],f=a.max-a.min, g=c.twelveHourClock?" %p":"";fmt=d<j.minute?"%h:%M:%S"+g:d<j.day?f<2*j.day?"%h:%M"+g:"%b %d %h:%M"+g:d<j.month?"%b %d":d<j.year?f<j.year?"%b":"%b %y":"%y";return n.plot.formatDate(e,fmt,c.monthNames)}}else{f=c.tickDecimals;var q=-Math.floor(Math.log(d)/Math.LN10);null!=f&&q>f&&(q=f);h=Math.pow(10,-q);g=d/h;if(1.5>g)e=1;else if(3>g){if(e=2,2.25<g&&(null==f||q+1<=f))e=2.5,++q}else e=7.5>g?5:10;e*=h;null!=c.minTickSize&&e<c.minTickSize&&(e=c.minTickSize);b.tickDecimals=Math.max(0,null!=f?f:q);b.tickSize= c.tickSize||e;h=function(b){var a=[],e=O(b.min,b.tickSize),c=0,d=Number.NaN,f;do f=d,d=e+c*b.tickSize,a.push(d),++c;while(d<b.max&&d!=f);return a};e=function(b,a){return b.toFixed(a.tickDecimals)}}if(null!=c.alignTicksWithAxis){var p=("x"==b.direction?A:G)[c.alignTicksWithAxis-1];p&&(p.used&&p!=b)&&(h=h(b),0<h.length&&(null==c.min&&(b.min=Math.min(b.min,h[0])),null==c.max&&1<h.length&&(b.max=Math.max(b.max,h[h.length-1]))),h=function(b){var a=[],e,c;for(c=0;c<p.ticks.length;++c)e=(p.ticks[c].v-p.min)/ (p.max-p.min),e=b.min+e*(b.max-b.min),a.push(e);return a},"time"!=b.mode&&null==c.tickDecimals&&(d=Math.max(0,-Math.floor(Math.log(d)/Math.LN10)+1),g=h(b),1<g.length&&/\..*0$/.test((g[1]-g[0]).toFixed(d))||(b.tickDecimals=d)))}b.tickGenerator=h;b.tickFormatter=n.isFunction(c.tickFormatter)?function(b,a){return""+c.tickFormatter(b,a)}:e;e=b.options.ticks;d=[];null==e||"number"==typeof e&&0<e?d=b.tickGenerator(b):e&&(d=n.isFunction(e)?e({min:b.min,max:b.max}):e);b.ticks=[];for(e=0;e<d.length;++e)g= null,f=d[e],"object"==typeof f?(h=+f[0],1<f.length&&(g=f[1])):h=+f,null==g&&(g=b.tickFormatter(h,b)),isNaN(h)||b.ticks.push({v:h,label:g});d=b.ticks;b.options.autoscaleMargin&&0<d.length&&(null==b.options.min&&(b.min=Math.min(b.min,d[0].v)),null==b.options.max&&1<d.length&&(b.max=Math.max(b.max,d[d.length-1].v)));e=function(a,e){return n('<div style="position:absolute;top:-10000px;'+e+'font-size:smaller"><div class="'+b.direction+"Axis "+b.direction+b.n+'Axis">'+a.join("")+"</div></div>").appendTo(C)}; f=b.options;h=b.ticks||[];g=[];var k;d=f.labelWidth;f=f.labelHeight;if("x"==b.direction){if(null==d&&(d=Math.floor(F/(0<h.length?h.length:1))),null==f){g=[];for(q=0;q<h.length;++q)(k=h[q].label)&&g.push('<div class="tickLabel" style="float:left;width:'+d+'px">'+k+"</div>");0<g.length&&(g.push('<div style="clear:left"></div>'),e=e(g,"width:10000px;"),f=e.height(),e.remove())}}else if(null==d||null==f){for(q=0;q<h.length;++q)(k=h[q].label)&&g.push('<div class="tickLabel">'+k+"</div>");0<g.length&&(e= e(g,""),null==d&&(d=e.children().width()),null==f&&(f=e.find("div.tickLabel").height()),e.remove())}null==d&&(d=0);null==f&&(f=0);b.labelWidth=d;b.labelHeight=f});for(a=allocatedAxes.length-1;0<=a;--a)Z(allocatedAxes[a]);var c=f.grid.minBorderMargin;if(null==c)for(a=c=0;a<r.length;++a)c=Math.max(c,r[a].points.radius+r[a].points.lineWidth/2);for(var b in k)k[b]+=f.grid.borderWidth,k[b]=Math.max(c,k[b])}R=F-k.left-k.right;L=H-k.bottom-k.top;n.each(e,function(b,a){var e=function(a){return a},c,d,f=a.options.transform|| e,g=a.options.inverseTransform;"x"==a.direction?(c=a.scale=R/Math.abs(f(a.max)-f(a.min)),d=Math.min(f(a.max),f(a.min))):(c=a.scale=L/Math.abs(f(a.max)-f(a.min)),c=-c,d=Math.max(f(a.max),f(a.min)));a.p2c=f==e?function(a){return(a-d)*c}:function(a){return(f(a)-d)*c};a.c2p=g?function(a){return g(d+a/c)}:function(a){return d+a/c}});if(f.grid.show){n.each(allocatedAxes,function(a,b){"x"==b.direction?(b.box.left=k.left,b.box.width=R):(b.box.top=k.top,b.box.height=L)});C.find(".tickLabels").remove();a=['<div class="tickLabels" style="font-size:smaller">']; e=z();for(c=0;c<e.length;++c){b=e[c];var d=b.box;if(b.show){a.push('<div class="'+b.direction+"Axis "+b.direction+b.n+'Axis" style="color:'+b.options.color+'">');for(var g=0;g<b.ticks.length;++g){var y=b.ticks[g];if(y.label&&!(y.v<b.min||y.v>b.max)){var x={},p;"x"==b.direction?(p="center",x.left=Math.round(k.left+b.p2c(y.v)-b.labelWidth/2),"bottom"==b.position?x.top=d.top+d.padding:x.bottom=H-(d.top+d.height-d.padding)):(x.top=Math.round(k.top+b.p2c(y.v)-b.labelHeight/2),"left"==b.position?(x.right= F-(d.left+d.width-d.padding),p="right"):(x.left=d.left+d.padding,p="left"));x.width=b.labelWidth;p=["position:absolute","text-align:"+p];for(var j in x)p.push(j+":"+x[j]+"px");a.push('<div class="tickLabel" style="'+p.join(";")+'">'+y.label+"</div>")}}a.push("</div>")}}a.push("</div>");C.append(a.join(""))}C.find(".legend").remove();if(f.legend.show){j=[];a=!1;e=f.legend.labelFormatter;for(d=0;d<r.length;++d)if(c=r[d],b=c.label)0==d%f.legend.noColumns&&(a&&j.push("</tr>"),j.push("<tr>"),a=!0),e&& (b=e(b,c)),j.push('<td class="legendColorBox"><div style="border:1px solid '+f.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+c.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+b+"</td>");a&&j.push("</tr>");0!=j.length&&(a='<table style="font-size:smaller;color:'+f.grid.color+'">'+j.join("")+"</table>",null!=f.legend.container?n(f.legend.container).html(a):(j="",e=f.legend.position,c=f.legend.margin,null==c[0]&&(c=[c,c]),"n"==e.charAt(0)? j+="top:"+(c[1]+k.top)+"px;":"s"==e.charAt(0)&&(j+="bottom:"+(c[1]+k.bottom)+"px;"),"e"==e.charAt(1)?j+="right:"+(c[0]+k.right)+"px;":"w"==e.charAt(1)&&(j+="left:"+(c[0]+k.left)+"px;"),a=n('<div class="legend">'+a.replace('style="','style="position:absolute;'+j+";")+"</div>").appendTo(C),0!=f.legend.backgroundOpacity&&(e=f.legend.backgroundColor,null==e&&(e=(e=f.grid.backgroundColor)&&"string"==typeof e?n.color.parse(e):n.color.extract(a,"background-color"),e.a=1,e=e.toString()),c=a.children(),n('<div style="position:absolute;width:'+ c.width()+"px;height:"+c.height()+"px;"+j+"background-color:"+e+';"> </div>').prependTo(a).css("opacity",f.legend.backgroundOpacity))))}}function ha(){g.clearRect(0,0,F,H);var a=f.grid;a.show&&a.backgroundColor&&(g.save(),g.translate(k.left,k.top),g.fillStyle=ia(f.grid.backgroundColor,L,0,"rgba(255, 255, 255, 0)"),g.fillRect(0,0,R,L),g.restore());a.show&&!a.aboveData&&ja();for(var e=0;e<r.length;++e){I(J.drawSeries,[g,r[e]]);var c=r[e];c.lines.show&&sa(c);c.bars.show&&ta(c);c.points.show&&ua(c)}I(J.draw, [g]);a.show&&a.aboveData&&ja()}function ka(a,e){var c,b,d,f,g=z();for(i=0;i<g.length;++i)if(c=g[i],c.direction==e&&(f=e+c.n+"axis",!a[f]&&1==c.n&&(f=e+"axis"),a[f])){b=a[f].from;d=a[f].to;break}a[f]||(c="x"==e?A[0]:G[0],b=a[e+"1"],d=a[e+"2"]);null!=b&&(null!=d&&b>d)&&(f=b,b=d,d=f);return{from:b,to:d,axis:c}}function ja(){var a;g.save();g.translate(k.left,k.top);var e=f.grid.markings;if(e){if(n.isFunction(e)){var c=w.getAxes();c.xmin=c.xaxis.min;c.xmax=c.xaxis.max;c.ymin=c.yaxis.min;c.ymax=c.yaxis.max; e=e(c)}for(a=0;a<e.length;++a){var c=e[a],b=ka(c,"x"),d=ka(c,"y");null==b.from&&(b.from=b.axis.min);null==b.to&&(b.to=b.axis.max);null==d.from&&(d.from=d.axis.min);null==d.to&&(d.to=d.axis.max);b.to<b.axis.min||(b.from>b.axis.max||d.to<d.axis.min||d.from>d.axis.max)||(b.from=Math.max(b.from,b.axis.min),b.to=Math.min(b.to,b.axis.max),d.from=Math.max(d.from,d.axis.min),d.to=Math.min(d.to,d.axis.max),b.from==b.to&&d.from==d.to||(b.from=b.axis.p2c(b.from),b.to=b.axis.p2c(b.to),d.from=d.axis.p2c(d.from), d.to=d.axis.p2c(d.to),b.from==b.to||d.from==d.to?(g.beginPath(),g.strokeStyle=c.color||f.grid.markingsColor,g.lineWidth=c.lineWidth||f.grid.markingsLineWidth,g.moveTo(b.from,d.from),g.lineTo(b.to,d.to),g.stroke()):(g.fillStyle=c.color||f.grid.markingsColor,g.fillRect(b.from,d.to,b.to-b.from,d.from-d.to))))}}c=z();e=f.grid.borderWidth;for(b=0;b<c.length;++b){d=c[b];a=d.box;var q=d.tickLength,y,x,p,j;if(d.show&&0!=d.ticks.length){g.strokeStyle=d.options.tickColor||n.color.parse(d.options.color).scale("a", 0.22).toString();g.lineWidth=1;"x"==d.direction?(y=0,x="full"==q?"top"==d.position?0:L:a.top-k.top+("top"==d.position?a.height:0)):(x=0,y="full"==q?"left"==d.position?0:R:a.left-k.left+("left"==d.position?a.width:0));d.innermost||(g.beginPath(),p=j=0,"x"==d.direction?p=R:j=L,1==g.lineWidth&&(y=Math.floor(y)+0.5,x=Math.floor(x)+0.5),g.moveTo(y,x),g.lineTo(y+p,x+j),g.stroke());g.beginPath();for(a=0;a<d.ticks.length;++a){var m=d.ticks[a].v;p=j=0;m<d.min||(m>d.max||"full"==q&&0<e&&(m==d.min||m==d.max))|| ("x"==d.direction?(y=d.p2c(m),j="full"==q?-L:q,"top"==d.position&&(j=-j)):(x=d.p2c(m),p="full"==q?-R:q,"left"==d.position&&(p=-p)),1==g.lineWidth&&("x"==d.direction?y=Math.floor(y)+0.5:x=Math.floor(x)+0.5),g.moveTo(y,x),g.lineTo(y+p,x+j))}g.stroke()}}e&&(g.lineWidth=e,g.strokeStyle=f.grid.borderColor,g.strokeRect(-e/2,-e/2,R+e,L+e));g.restore()}function sa(a){function e(a,b,e,c,d){var f=a.points;a=a.pointsize;var h=null,j=null;g.beginPath();for(var p=a;p<f.length;p+=a){var m=f[p-a],l=f[p-a+1],q=f[p], k=f[p+1];if(!(null==m||null==q)){if(l<=k&&l<d.min){if(k<d.min)continue;m=(d.min-l)/(k-l)*(q-m)+m;l=d.min}else if(k<=l&&k<d.min){if(l<d.min)continue;q=(d.min-l)/(k-l)*(q-m)+m;k=d.min}if(l>=k&&l>d.max){if(k>d.max)continue;m=(d.max-l)/(k-l)*(q-m)+m;l=d.max}else if(k>=l&&k>d.max){if(l>d.max)continue;q=(d.max-l)/(k-l)*(q-m)+m;k=d.max}if(m<=q&&m<c.min){if(q<c.min)continue;l=(c.min-m)/(q-m)*(k-l)+l;m=c.min}else if(q<=m&&q<c.min){if(m<c.min)continue;k=(c.min-m)/(q-m)*(k-l)+l;q=c.min}if(m>=q&&m>c.max){if(q> c.max)continue;l=(c.max-m)/(q-m)*(k-l)+l;m=c.max}else if(q>=m&&q>c.max){if(m>c.max)continue;k=(c.max-m)/(q-m)*(k-l)+l;q=c.max}(m!=h||l!=j)&&g.moveTo(c.p2c(m)+b,d.p2c(l)+e);h=q;j=k;g.lineTo(c.p2c(q)+b,d.p2c(k)+e)}}g.stroke()}g.save();g.translate(k.left,k.top);g.lineJoin="round";var c=a.lines.lineWidth,b=a.shadowSize;if(0<c&&0<b){g.lineWidth=b;g.strokeStyle="rgba(0,0,0,0.1)";var d=Math.PI/18;e(a.datapoints,Math.sin(d)*(c/2+b/2),Math.cos(d)*(c/2+b/2),a.xaxis,a.yaxis);g.lineWidth=b/2;e(a.datapoints,Math.sin(d)* (c/2+b/4),Math.cos(d)*(c/2+b/4),a.xaxis,a.yaxis)}g.lineWidth=c;g.strokeStyle=a.color;if(b=$(a.lines,a.color,0,L)){g.fillStyle=b;for(var f=a.datapoints,b=a.xaxis,d=a.yaxis,y=f.points,f=f.pointsize,n=Math.min(Math.max(0,d.min),d.max),p=0,j=!1,m=1,t=0,E=0;!(0<f&&p>y.length+f);){var p=p+f,l=y[p-f],s=y[p-f+m],h=y[p],u=y[p+m];if(j){if(0<f&&null!=l&&null==h){E=p;f=-f;m=2;continue}if(0>f&&p==t+f){g.fill();j=!1;f=-f;m=1;p=t=E+f;continue}}if(!(null==l||null==h)){if(l<=h&&l<b.min){if(h<b.min)continue;s=(b.min- l)/(h-l)*(u-s)+s;l=b.min}else if(h<=l&&h<b.min){if(l<b.min)continue;u=(b.min-l)/(h-l)*(u-s)+s;h=b.min}if(l>=h&&l>b.max){if(h>b.max)continue;s=(b.max-l)/(h-l)*(u-s)+s;l=b.max}else if(h>=l&&h>b.max){if(l>b.max)continue;u=(b.max-l)/(h-l)*(u-s)+s;h=b.max}j||(g.beginPath(),g.moveTo(b.p2c(l),d.p2c(n)),j=!0);if(s>=d.max&&u>=d.max)g.lineTo(b.p2c(l),d.p2c(d.max)),g.lineTo(b.p2c(h),d.p2c(d.max));else if(s<=d.min&&u<=d.min)g.lineTo(b.p2c(l),d.p2c(d.min)),g.lineTo(b.p2c(h),d.p2c(d.min));else{var r=l,C=h;s<=u&& s<d.min&&u>=d.min?(l=(d.min-s)/(u-s)*(h-l)+l,s=d.min):u<=s&&(u<d.min&&s>=d.min)&&(h=(d.min-s)/(u-s)*(h-l)+l,u=d.min);s>=u&&s>d.max&&u<=d.max?(l=(d.max-s)/(u-s)*(h-l)+l,s=d.max):u>=s&&(u>d.max&&s<=d.max)&&(h=(d.max-s)/(u-s)*(h-l)+l,u=d.max);l!=r&&g.lineTo(b.p2c(r),d.p2c(s));g.lineTo(b.p2c(l),d.p2c(s));g.lineTo(b.p2c(h),d.p2c(u));h!=C&&(g.lineTo(b.p2c(h),d.p2c(u)),g.lineTo(b.p2c(C),d.p2c(u)))}}}}0<c&&e(a.datapoints,0,0,a.xaxis,a.yaxis);g.restore()}function ua(a){function e(a,b,c,e,d,f,k,l){var q=a.points; a=a.pointsize;for(var h=0;h<q.length;h+=a){var n=q[h],r=q[h+1];null==n||(n<f.min||n>f.max||r<k.min||r>k.max)||(g.beginPath(),n=f.p2c(n),r=k.p2c(r)+e,"circle"==l?g.arc(n,r,b,0,d?Math.PI:2*Math.PI,!1):l(g,n,r,b,d),g.closePath(),c&&(g.fillStyle=c,g.fill()),g.stroke())}}g.save();g.translate(k.left,k.top);var c=a.points.lineWidth,b=a.shadowSize,d=a.points.radius,f=a.points.symbol;0<c&&0<b&&(b/=2,g.lineWidth=b,g.strokeStyle="rgba(0,0,0,0.1)",e(a.datapoints,d,null,b+b/2,!0,a.xaxis,a.yaxis,f),g.strokeStyle= "rgba(0,0,0,0.2)",e(a.datapoints,d,null,b/2,!0,a.xaxis,a.yaxis,f));g.lineWidth=c;g.strokeStyle=a.color;e(a.datapoints,d,$(a.points,a.color),0,!1,a.xaxis,a.yaxis,f);g.restore()}function la(a,e,c,b,d,f,g,k,p,j,m,n){var r,l,s,h;m?(h=l=s=!0,r=!1,m=c,c=e+b,d=e+d,a<m&&(e=a,a=m,m=e,r=!0,l=!1)):(r=l=s=!0,h=!1,m=a+b,a+=d,d=c,c=e,c<d&&(e=c,c=d,d=e,h=!0,s=!1));if(!(a<k.min||m>k.max||c<p.min||d>p.max))if(m<k.min&&(m=k.min,r=!1),a>k.max&&(a=k.max,l=!1),d<p.min&&(d=p.min,h=!1),c>p.max&&(c=p.max,s=!1),m=k.p2c(m), d=p.p2c(d),a=k.p2c(a),c=p.p2c(c),g&&(j.beginPath(),j.moveTo(m,d),j.lineTo(m,c),j.lineTo(a,c),j.lineTo(a,d),j.fillStyle=g(d,c),j.fill()),0<n&&(r||l||s||h))j.beginPath(),j.moveTo(m,d+f),r?j.lineTo(m,c+f):j.moveTo(m,c+f),s?j.lineTo(a,c+f):j.moveTo(a,c+f),l?j.lineTo(a,d+f):j.moveTo(a,d+f),h?j.lineTo(m,d+f):j.moveTo(m,d+f),j.stroke()}function ta(a){g.save();g.translate(k.left,k.top);g.lineWidth=a.bars.lineWidth;g.strokeStyle=a.color;for(var e="left"==a.bars.align?0:-a.bars.barWidth/2,c=a.datapoints,b= e+a.bars.barWidth,d=a.bars.fill?function(b,c){return $(a.bars,a.color,b,c)}:null,f=a.xaxis,n=a.yaxis,r=c.points,c=c.pointsize,p=0;p<r.length;p+=c)null!=r[p]&&la(r[p],r[p+1],r[p+2],e,b,0,d,f,n,g,a.bars.horizontal,a.bars.lineWidth);g.restore()}function $(a,e,c,b){var d=a.fill;if(!d)return null;if(a.fillColor)return ia(a.fillColor,c,b,e);a=n.color.parse(e);a.a="number"==typeof d?d:0.4;a.normalize();return a.toString()}function ma(a){f.grid.hoverable&&aa("plothover",a,function(a){return!1!=a.hoverable})} function na(a){f.grid.hoverable&&aa("plothover",a,function(){return!1})}function oa(a){aa("plotclick",a,function(a){return!1!=a.clickable})}function aa(a,e,c){var b=K.offset(),d=e.pageX-b.left-k.left,g=e.pageY-b.top-k.top,n=W({left:d,top:g});n.pageX=e.pageX;n.pageY=e.pageY;e=f.grid.mouseActiveRadius;var x=e*e+1,p=null,j,m;for(j=r.length-1;0<=j;--j)if(c(r[j])){var t=r[j],v=t.xaxis,l=t.yaxis,s=t.datapoints.points,h=t.datapoints.pointsize,u=v.c2p(d),w=l.c2p(g),B=e/v.scale,D=e/l.scale;v.options.inverseTransform&& (B=Number.MAX_VALUE);l.options.inverseTransform&&(D=Number.MAX_VALUE);if(t.lines.show||t.points.show)for(m=0;m<s.length;m+=h){var A=s[m],z=s[m+1];if(null!=A&&!(A-u>B||A-u<-B||z-w>D||z-w<-D))A=Math.abs(v.p2c(A)-d),z=Math.abs(l.p2c(z)-g),z=A*A+z*z,z<x&&(x=z,p=[j,m/h])}if(t.bars.show&&!p){v="left"==t.bars.align?0:-t.bars.barWidth/2;t=v+t.bars.barWidth;for(m=0;m<s.length;m+=h)if(A=s[m],z=s[m+1],l=s[m+2],null!=A&&(r[j].bars.horizontal?u<=Math.max(l,A)&&u>=Math.min(l,A)&&w>=z+v&&w<=z+t:u>=A+v&&u<=A+t&& w>=Math.min(l,z)&&w<=Math.max(l,z)))p=[j,m/h]}}p?(j=p[0],m=p[1],h=r[j].datapoints.pointsize,c={datapoint:r[j].datapoints.points.slice(m*h,(m+1)*h),dataIndex:m,series:r[j],seriesIndex:j}):c=null;c&&(c.pageX=parseInt(c.series.xaxis.p2c(c.datapoint[0])+b.left+k.left),c.pageY=parseInt(c.series.yaxis.p2c(c.datapoint[1])+b.top+k.top));if(f.grid.autoHighlight){for(b=0;b<P.length;++b)d=P[b],d.auto==a&&(!c||!(d.series==c.series&&d.point[0]==c.datapoint[0]&&d.point[1]==c.datapoint[1]))&&pa(d.series,d.point); c&&qa(c.series,c.datapoint,a)}C.trigger(a,[n,c])}function Y(){X||(X=setTimeout(va,30))}function va(){X=null;D.save();D.clearRect(0,0,F,H);D.translate(k.left,k.top);var a,e;for(a=0;a<P.length;++a)if(e=P[a],e.series.bars.show)wa(e.series,e.point);else{var c=e.series,b=e.point;e=b[0];var b=b[1],d=c.xaxis,f=c.yaxis;if(!(e<d.min||e>d.max||b<f.min||b>f.max)){var g=c.points.radius+c.points.lineWidth/2;D.lineWidth=g;D.strokeStyle=n.color.parse(c.color).scale("a",0.5).toString();g*=1.5;e=d.p2c(e);b=f.p2c(b); D.beginPath();"circle"==c.points.symbol?D.arc(e,b,g,0,2*Math.PI,!1):c.points.symbol(D,e,b,g,!1);D.closePath();D.stroke()}}D.restore();I(J.drawOverlay,[D])}function qa(a,e,c){"number"==typeof a&&(a=r[a]);if("number"==typeof e){var b=a.datapoints.pointsize;e=a.datapoints.points.slice(b*e,b*(e+1))}b=ra(a,e);-1==b?(P.push({series:a,point:e,auto:c}),Y()):c||(P[b].auto=!1)}function pa(a,e){null==a&&null==e&&(P=[],Y());"number"==typeof a&&(a=r[a]);"number"==typeof e&&(e=a.data[e]);var c=ra(a,e);-1!=c&&(P.splice(c, 1),Y())}function ra(a,e){for(var c=0;c<P.length;++c){var b=P[c];if(b.series==a&&b.point[0]==e[0]&&b.point[1]==e[1])return c}return-1}function wa(a,e){D.lineWidth=a.bars.lineWidth;D.strokeStyle=n.color.parse(a.color).scale("a",0.5).toString();var c=n.color.parse(a.color).scale("a",0.5).toString(),b="left"==a.bars.align?0:-a.bars.barWidth/2;la(e[0],e[1],e[2]||0,b,b+a.bars.barWidth,0,function(){return c},a.xaxis,a.yaxis,D,a.bars.horizontal,a.bars.lineWidth)}function ia(a,e,c,b){if("string"==typeof a)return a; e=g.createLinearGradient(0,c,0,e);c=0;for(var d=a.colors.length;c<d;++c){var f=a.colors[c];if("string"!=typeof f){var k=n.color.parse(b);null!=f.brightness&&(k=k.scale("rgb",f.brightness));null!=f.opacity&&(k.a*=f.opacity);f=k.toString()}e.addColorStop(c/(d-1),f)}return e}var r=[],f={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:0.85}, xaxis:{show:null,position:"bottom",mode:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null,monthNames:null,timeformat:null,twelveHourClock:!1},yaxis:{autoscaleMargin:0.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff", symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1},shadowSize:3},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},hooks:{}},U=null,V=null,K=null,g=null,D=null,A=[], G=[],k={left:0,right:0,top:0,bottom:0},F=0,H=0,R=0,L=0,J={processOptions:[],processRawData:[],processDatapoints:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},w=this;w.setData=da;w.setupGrid=ga;w.draw=ha;w.getPlaceholder=function(){return C};w.getCanvas=function(){return U};w.getPlotOffset=function(){return k};w.width=function(){return R};w.height=function(){return L};w.offset=function(){var a=K.offset();a.left+=k.left;a.top+=k.top;return a};w.getData=function(){return r};w.getAxes= function(){var a={};n.each(A.concat(G),function(e,c){c&&(a[c.direction+(1!=c.n?c.n:"")+"axis"]=c)});return a};w.getXAxes=function(){return A};w.getYAxes=function(){return G};w.c2p=W;w.p2c=function(a){var e={},c,b,d;for(c=0;c<A.length;++c)if((b=A[c])&&b.used)if(d="x"+b.n,null==a[d]&&1==b.n&&(d="x"),null!=a[d]){e.left=b.p2c(a[d]);break}for(c=0;c<G.length;++c)if((b=G[c])&&b.used)if(d="y"+b.n,null==a[d]&&1==b.n&&(d="y"),null!=a[d]){e.top=b.p2c(a[d]);break}return e};w.getOptions=function(){return f};w.highlight= qa;w.unhighlight=pa;w.triggerRedrawOverlay=Y;w.pointOffset=function(a){return{left:parseInt(A[Q(a,"x")-1].p2c(+a.x)+k.left),top:parseInt(G[Q(a,"y")-1].p2c(+a.y)+k.top)}};w.shutdown=function(){X&&clearTimeout(X);K.unbind("mousemove",ma);K.unbind("mouseleave",na);K.unbind("click",oa);I(J.shutdown,[K])};w.resize=function(){ea();fa(U);fa(V)};w.hooks=J;for(var ba=0;ba<T.length;++ba){var ca=T[ba];ca.init(w);ca.options&&n.extend(!0,f,ca.options)}n.extend(!0,f,v);null==f.xaxis.color&&(f.xaxis.color=f.grid.color); null==f.yaxis.color&&(f.yaxis.color=f.grid.color);null==f.xaxis.tickColor&&(f.xaxis.tickColor=f.grid.tickColor);null==f.yaxis.tickColor&&(f.yaxis.tickColor=f.grid.tickColor);null==f.grid.borderColor&&(f.grid.borderColor=f.grid.color);null==f.grid.tickColor&&(f.grid.tickColor=n.color.parse(f.grid.color).scale("a",0.22).toString());for(v=0;v<Math.max(1,f.xaxes.length);++v)f.xaxes[v]=n.extend(!0,{},f.xaxis,f.xaxes[v]);for(v=0;v<Math.max(1,f.yaxes.length);++v)f.yaxes[v]=n.extend(!0,{},f.yaxis,f.yaxes[v]); f.xaxis.noTicks&&null==f.xaxis.ticks&&(f.xaxis.ticks=f.xaxis.noTicks);f.yaxis.noTicks&&null==f.yaxis.ticks&&(f.yaxis.ticks=f.yaxis.noTicks);f.x2axis&&(f.xaxes[1]=n.extend(!0,{},f.xaxis,f.x2axis),f.xaxes[1].position="top");f.y2axis&&(f.yaxes[1]=n.extend(!0,{},f.yaxis,f.y2axis),f.yaxes[1].position="right");f.grid.coloredAreas&&(f.grid.markings=f.grid.coloredAreas);f.grid.coloredAreasColor&&(f.grid.markingsColor=f.grid.coloredAreasColor);f.lines&&n.extend(!0,f.series.lines,f.lines);f.points&&n.extend(!0, f.series.points,f.points);f.bars&&n.extend(!0,f.series.bars,f.bars);null!=f.shadowSize&&(f.series.shadowSize=f.shadowSize);for(v=0;v<f.xaxes.length;++v)S(A,v+1).options=f.xaxes[v];for(v=0;v<f.yaxes.length;++v)S(G,v+1).options=f.yaxes[v];for(var M in J)f.hooks[M]&&f.hooks[M].length&&(J[M]=J[M].concat(f.hooks[M]));I(J.processOptions,[f]);M=C.children("canvas.base");v=C.children("canvas.overlay");0==M.length||0==v?(C.html(""),C.css({padding:0}),"static"==C.css("position")&&C.css("position","relative"), ea(),U=B(!0,"base"),V=B(!1,"overlay"),M=!1):(U=M.get(0),V=v.get(0),M=!0);g=U.getContext("2d");D=V.getContext("2d");K=n([V,U]);M&&(C.data("plot").shutdown(),w.resize(),D.clearRect(0,0,F,H),K.unbind(),C.children().not([U,V]).remove());C.data("plot",w);da(N);ga();ha();f.grid.hoverable&&(K.mousemove(ma),K.mouseleave(na));f.grid.clickable&&K.click(oa);I(J.bindEvents,[K]);var P=[],X=null}function O(n,N){return N*Math.floor(n/N)}n.plot=function(C,N,v){return new Z(n(C),N,v,n.plot.plugins)};n.plot.version= "0.7";n.plot.plugins=[];n.plot.formatDate=function(n,N,v){var T=function(n){n=""+n;return 1==n.length?"0"+n:n},I=[],O=!1,Q=!1,z=n.getUTCHours(),W=12>z;null==v&&(v="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "));-1!=N.search(/%p|%P/)&&(12<z?z-=12:0==z&&(z=12));for(var S=0;S<N.length;++S){var B=N.charAt(S);if(O){switch(B){case "h":B=""+z;break;case "H":B=T(z);break;case "M":B=T(n.getUTCMinutes());break;case "S":B=T(n.getUTCSeconds());break;case "d":B=""+n.getUTCDate();break;case "m":B= ""+(n.getUTCMonth()+1);break;case "y":B=""+n.getUTCFullYear();break;case "b":B=""+v[n.getUTCMonth()];break;case "p":B=W?"am":"pm";break;case "P":B=W?"AM":"PM";break;case "0":B="",Q=!0}B&&Q&&(B=T(B),Q=!1);I.push(B);Q||(O=!1)}else"%"==B?O=!0:I.push(B)}return I.join("")}})(jQuery);
//Filament Group modification note:
//This version of excanvas is modified to support lazy loading of this file. More info here: http://pipwerks.com/2009/03/12/lazy-loading-excanvasjs/

// Copyright 2006 Google Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//   http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.


// Known Issues:
//
// * Patterns are not implemented.
// * Radial gradient are not implemented. The VML version of these look very
//   different from the canvas one.
// * Clipping paths are not implemented.
// * Coordsize. The width and height attribute have higher priority than the
//   width and height style values which isn't correct.
// * Painting mode isn't implemented.
// * Canvas width/height should is using content-box by default. IE in
//   Quirks mode will draw the canvas using border-box. Either change your
//   doctype to HTML5
//   (http://www.whatwg.org/specs/web-apps/current-work/#the-doctype)
//   or use Box Sizing Behavior from WebFX
//   (http://webfx.eae.net/dhtml/boxsizing/boxsizing.html)
// * Non uniform scaling does not correctly scale strokes.
// * Optimize. There is always room for speed improvements.

// Only add this code if we do not already have a canvas implementation
if(!document.createElement("canvas").getContext){(function(){var z=Math;var K=z.round;var J=z.sin;var U=z.cos;var b=z.abs;var k=z.sqrt;var D=10;var F=D/2;function T(){return this.context_||(this.context_=new W(this))}var O=Array.prototype.slice;function G(i,j,m){var Z=O.call(arguments,2);return function(){return i.apply(j,Z.concat(O.call(arguments)))}}function AD(Z){return String(Z).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function r(i){if(!i.namespaces.g_vml_){i.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML")}if(!i.namespaces.g_o_){i.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML")}if(!i.styleSheets.ex_canvas_){var Z=i.createStyleSheet();Z.owningElement.id="ex_canvas_";Z.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}"}}r(document);var E={init:function(Z){if(/MSIE/.test(navigator.userAgent)&&!window.opera){var i=Z||document;i.createElement("canvas");i.attachEvent("onreadystatechange",G(this.init_,this,i))}},init_:function(m){var j=m.getElementsByTagName("canvas");for(var Z=0;Z<j.length;Z++){this.initElement(j[Z])}},initElement:function(i){if(!i.getContext){i.getContext=T;r(i.ownerDocument);i.innerHTML="";i.attachEvent("onpropertychange",S);i.attachEvent("onresize",w);var Z=i.attributes;if(Z.width&&Z.width.specified){i.style.width=Z.width.nodeValue+"px"}else{i.width=i.clientWidth}if(Z.height&&Z.height.specified){i.style.height=Z.height.nodeValue+"px"}else{i.height=i.clientHeight}}return i}};function S(i){var Z=i.srcElement;switch(i.propertyName){case"width":Z.getContext().clearRect();Z.style.width=Z.attributes.width.nodeValue+"px";Z.firstChild.style.width=Z.clientWidth+"px";break;case"height":Z.getContext().clearRect();Z.style.height=Z.attributes.height.nodeValue+"px";Z.firstChild.style.height=Z.clientHeight+"px";break}}function w(i){var Z=i.srcElement;if(Z.firstChild){Z.firstChild.style.width=Z.clientWidth+"px";Z.firstChild.style.height=Z.clientHeight+"px"}}E.init();var I=[];for(var AC=0;AC<16;AC++){for(var AB=0;AB<16;AB++){I[AC*16+AB]=AC.toString(16)+AB.toString(16)}}function V(){return[[1,0,0],[0,1,0],[0,0,1]]}function d(m,j){var i=V();for(var Z=0;Z<3;Z++){for(var AF=0;AF<3;AF++){var p=0;for(var AE=0;AE<3;AE++){p+=m[Z][AE]*j[AE][AF]}i[Z][AF]=p}}return i}function Q(i,Z){Z.fillStyle=i.fillStyle;Z.lineCap=i.lineCap;Z.lineJoin=i.lineJoin;Z.lineWidth=i.lineWidth;Z.miterLimit=i.miterLimit;Z.shadowBlur=i.shadowBlur;Z.shadowColor=i.shadowColor;Z.shadowOffsetX=i.shadowOffsetX;Z.shadowOffsetY=i.shadowOffsetY;Z.strokeStyle=i.strokeStyle;Z.globalAlpha=i.globalAlpha;Z.font=i.font;Z.textAlign=i.textAlign;Z.textBaseline=i.textBaseline;Z.arcScaleX_=i.arcScaleX_;Z.arcScaleY_=i.arcScaleY_;Z.lineScale_=i.lineScale_}var B={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"};function g(i){var m=i.indexOf("(",3);var Z=i.indexOf(")",m+1);var j=i.substring(m+1,Z).split(",");if(j.length==4&&i.substr(3,1)=="a"){alpha=Number(j[3])}else{j[3]=1}return j}function C(Z){return parseFloat(Z)/100}function N(i,j,Z){return Math.min(Z,Math.max(j,i))}function c(AF){var j,i,Z;h=parseFloat(AF[0])/360%360;if(h<0){h++}s=N(C(AF[1]),0,1);l=N(C(AF[2]),0,1);if(s==0){j=i=Z=l}else{var m=l<0.5?l*(1+s):l+s-l*s;var AE=2*l-m;j=A(AE,m,h+1/3);i=A(AE,m,h);Z=A(AE,m,h-1/3)}return"#"+I[Math.floor(j*255)]+I[Math.floor(i*255)]+I[Math.floor(Z*255)]}function A(i,Z,j){if(j<0){j++}if(j>1){j--}if(6*j<1){return i+(Z-i)*6*j}else{if(2*j<1){return Z}else{if(3*j<2){return i+(Z-i)*(2/3-j)*6}else{return i}}}}function Y(Z){var AE,p=1;Z=String(Z);if(Z.charAt(0)=="#"){AE=Z}else{if(/^rgb/.test(Z)){var m=g(Z);var AE="#",AF;for(var j=0;j<3;j++){if(m[j].indexOf("%")!=-1){AF=Math.floor(C(m[j])*255)}else{AF=Number(m[j])}AE+=I[N(AF,0,255)]}p=m[3]}else{if(/^hsl/.test(Z)){var m=g(Z);AE=c(m);p=m[3]}else{AE=B[Z]||Z}}}return{color:AE,alpha:p}}var L={style:"normal",variant:"normal",weight:"normal",size:10,family:"sans-serif"};var f={};function X(Z){if(f[Z]){return f[Z]}var m=document.createElement("div");var j=m.style;try{j.font=Z}catch(i){}return f[Z]={style:j.fontStyle||L.style,variant:j.fontVariant||L.variant,weight:j.fontWeight||L.weight,size:j.fontSize||L.size,family:j.fontFamily||L.family}}function P(j,i){var Z={};for(var AF in j){Z[AF]=j[AF]}var AE=parseFloat(i.currentStyle.fontSize),m=parseFloat(j.size);if(typeof j.size=="number"){Z.size=j.size}else{if(j.size.indexOf("px")!=-1){Z.size=m}else{if(j.size.indexOf("em")!=-1){Z.size=AE*m}else{if(j.size.indexOf("%")!=-1){Z.size=(AE/100)*m}else{if(j.size.indexOf("pt")!=-1){Z.size=m/0.75}else{Z.size=AE}}}}}Z.size*=0.981;return Z}function AA(Z){return Z.style+" "+Z.variant+" "+Z.weight+" "+Z.size+"px "+Z.family}function t(Z){switch(Z){case"butt":return"flat";case"round":return"round";case"square":default:return"square"}}function W(i){this.m_=V();this.mStack_=[];this.aStack_=[];this.currentPath_=[];this.strokeStyle="#000";this.fillStyle="#000";this.lineWidth=1;this.lineJoin="miter";this.lineCap="butt";this.miterLimit=D*1;this.globalAlpha=1;this.font="10px sans-serif";this.textAlign="left";this.textBaseline="alphabetic";this.canvas=i;var Z=i.ownerDocument.createElement("div");Z.style.width=i.clientWidth+"px";Z.style.height=i.clientHeight+"px";Z.style.overflow="hidden";Z.style.position="absolute";i.appendChild(Z);this.element_=Z;this.arcScaleX_=1;this.arcScaleY_=1;this.lineScale_=1}var M=W.prototype;M.clearRect=function(){if(this.textMeasureEl_){this.textMeasureEl_.removeNode(true);this.textMeasureEl_=null}this.element_.innerHTML=""};M.beginPath=function(){this.currentPath_=[]};M.moveTo=function(i,Z){var j=this.getCoords_(i,Z);this.currentPath_.push({type:"moveTo",x:j.x,y:j.y});this.currentX_=j.x;this.currentY_=j.y};M.lineTo=function(i,Z){var j=this.getCoords_(i,Z);this.currentPath_.push({type:"lineTo",x:j.x,y:j.y});this.currentX_=j.x;this.currentY_=j.y};M.bezierCurveTo=function(j,i,AI,AH,AG,AE){var Z=this.getCoords_(AG,AE);var AF=this.getCoords_(j,i);var m=this.getCoords_(AI,AH);e(this,AF,m,Z)};function e(Z,m,j,i){Z.currentPath_.push({type:"bezierCurveTo",cp1x:m.x,cp1y:m.y,cp2x:j.x,cp2y:j.y,x:i.x,y:i.y});Z.currentX_=i.x;Z.currentY_=i.y}M.quadraticCurveTo=function(AG,j,i,Z){var AF=this.getCoords_(AG,j);var AE=this.getCoords_(i,Z);var AH={x:this.currentX_+2/3*(AF.x-this.currentX_),y:this.currentY_+2/3*(AF.y-this.currentY_)};var m={x:AH.x+(AE.x-this.currentX_)/3,y:AH.y+(AE.y-this.currentY_)/3};e(this,AH,m,AE)};M.arc=function(AJ,AH,AI,AE,i,j){AI*=D;var AN=j?"at":"wa";var AK=AJ+U(AE)*AI-F;var AM=AH+J(AE)*AI-F;var Z=AJ+U(i)*AI-F;var AL=AH+J(i)*AI-F;if(AK==Z&&!j){AK+=0.125}var m=this.getCoords_(AJ,AH);var AG=this.getCoords_(AK,AM);var AF=this.getCoords_(Z,AL);this.currentPath_.push({type:AN,x:m.x,y:m.y,radius:AI,xStart:AG.x,yStart:AG.y,xEnd:AF.x,yEnd:AF.y})};M.rect=function(j,i,Z,m){this.moveTo(j,i);this.lineTo(j+Z,i);this.lineTo(j+Z,i+m);this.lineTo(j,i+m);this.closePath()};M.strokeRect=function(j,i,Z,m){var p=this.currentPath_;this.beginPath();this.moveTo(j,i);this.lineTo(j+Z,i);this.lineTo(j+Z,i+m);this.lineTo(j,i+m);this.closePath();this.stroke();this.currentPath_=p};M.fillRect=function(j,i,Z,m){var p=this.currentPath_;this.beginPath();this.moveTo(j,i);this.lineTo(j+Z,i);this.lineTo(j+Z,i+m);this.lineTo(j,i+m);this.closePath();this.fill();this.currentPath_=p};M.createLinearGradient=function(i,m,Z,j){var p=new v("gradient");p.x0_=i;p.y0_=m;p.x1_=Z;p.y1_=j;return p};M.createRadialGradient=function(m,AE,j,i,p,Z){var AF=new v("gradientradial");AF.x0_=m;AF.y0_=AE;AF.r0_=j;AF.x1_=i;AF.y1_=p;AF.r1_=Z;return AF};M.drawImage=function(AO,j){var AH,AF,AJ,AV,AM,AK,AQ,AX;var AI=AO.runtimeStyle.width;var AN=AO.runtimeStyle.height;AO.runtimeStyle.width="auto";AO.runtimeStyle.height="auto";var AG=AO.width;var AT=AO.height;AO.runtimeStyle.width=AI;AO.runtimeStyle.height=AN;if(arguments.length==3){AH=arguments[1];AF=arguments[2];AM=AK=0;AQ=AJ=AG;AX=AV=AT}else{if(arguments.length==5){AH=arguments[1];AF=arguments[2];AJ=arguments[3];AV=arguments[4];AM=AK=0;AQ=AG;AX=AT}else{if(arguments.length==9){AM=arguments[1];AK=arguments[2];AQ=arguments[3];AX=arguments[4];AH=arguments[5];AF=arguments[6];AJ=arguments[7];AV=arguments[8]}else{throw Error("Invalid number of arguments")}}}var AW=this.getCoords_(AH,AF);var m=AQ/2;var i=AX/2;var AU=[];var Z=10;var AE=10;AU.push(" <g_vml_:group",' coordsize="',D*Z,",",D*AE,'"',' coordorigin="0,0"',' style="width:',Z,"px;height:",AE,"px;position:absolute;");if(this.m_[0][0]!=1||this.m_[0][1]||this.m_[1][1]!=1||this.m_[1][0]){var p=[];p.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",K(AW.x/D),",","Dy=",K(AW.y/D),"");var AS=AW;var AR=this.getCoords_(AH+AJ,AF);var AP=this.getCoords_(AH,AF+AV);var AL=this.getCoords_(AH+AJ,AF+AV);AS.x=z.max(AS.x,AR.x,AP.x,AL.x);AS.y=z.max(AS.y,AR.y,AP.y,AL.y);AU.push("padding:0 ",K(AS.x/D),"px ",K(AS.y/D),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",p.join(""),", sizingmethod='clip');")}else{AU.push("top:",K(AW.y/D),"px;left:",K(AW.x/D),"px;")}AU.push(' ">','<g_vml_:image src="',AO.src,'"',' style="width:',D*AJ,"px;"," height:",D*AV,'px"',' cropleft="',AM/AG,'"',' croptop="',AK/AT,'"',' cropright="',(AG-AM-AQ)/AG,'"',' cropbottom="',(AT-AK-AX)/AT,'"'," />","</g_vml_:group>");this.element_.insertAdjacentHTML("BeforeEnd",AU.join(""))};M.stroke=function(AM){var m=10;var AN=10;var AE=5000;var AG={x:null,y:null};var AL={x:null,y:null};for(var AH=0;AH<this.currentPath_.length;AH+=AE){var AK=[];var AF=false;AK.push("<g_vml_:shape",' filled="',!!AM,'"',' style="position:absolute;width:',m,"px;height:",AN,'px;"',' coordorigin="0,0"',' coordsize="',D*m,",",D*AN,'"',' stroked="',!AM,'"',' path="');var AO=false;for(var AI=AH;AI<Math.min(AH+AE,this.currentPath_.length);AI++){if(AI%AE==0&&AI>0){AK.push(" m ",K(this.currentPath_[AI-1].x),",",K(this.currentPath_[AI-1].y))}var Z=this.currentPath_[AI];var AJ;switch(Z.type){case"moveTo":AJ=Z;AK.push(" m ",K(Z.x),",",K(Z.y));break;case"lineTo":AK.push(" l ",K(Z.x),",",K(Z.y));break;case"close":AK.push(" x ");Z=null;break;case"bezierCurveTo":AK.push(" c ",K(Z.cp1x),",",K(Z.cp1y),",",K(Z.cp2x),",",K(Z.cp2y),",",K(Z.x),",",K(Z.y));break;case"at":case"wa":AK.push(" ",Z.type," ",K(Z.x-this.arcScaleX_*Z.radius),",",K(Z.y-this.arcScaleY_*Z.radius)," ",K(Z.x+this.arcScaleX_*Z.radius),",",K(Z.y+this.arcScaleY_*Z.radius)," ",K(Z.xStart),",",K(Z.yStart)," ",K(Z.xEnd),",",K(Z.yEnd));break}if(Z){if(AG.x==null||Z.x<AG.x){AG.x=Z.x}if(AL.x==null||Z.x>AL.x){AL.x=Z.x}if(AG.y==null||Z.y<AG.y){AG.y=Z.y}if(AL.y==null||Z.y>AL.y){AL.y=Z.y}}}AK.push(' ">');if(!AM){R(this,AK)}else{a(this,AK,AG,AL)}AK.push("</g_vml_:shape>");this.element_.insertAdjacentHTML("beforeEnd",AK.join(""))}};function R(j,AE){var i=Y(j.strokeStyle);var m=i.color;var p=i.alpha*j.globalAlpha;var Z=j.lineScale_*j.lineWidth;if(Z<1){p*=Z}AE.push("<g_vml_:stroke",' opacity="',p,'"',' joinstyle="',j.lineJoin,'"',' miterlimit="',j.miterLimit,'"',' endcap="',t(j.lineCap),'"',' weight="',Z,'px"',' color="',m,'" />')}function a(AO,AG,Ah,AP){var AH=AO.fillStyle;var AY=AO.arcScaleX_;var AX=AO.arcScaleY_;var Z=AP.x-Ah.x;var m=AP.y-Ah.y;if(AH instanceof v){var AL=0;var Ac={x:0,y:0};var AU=0;var AK=1;if(AH.type_=="gradient"){var AJ=AH.x0_/AY;var j=AH.y0_/AX;var AI=AH.x1_/AY;var Aj=AH.y1_/AX;var Ag=AO.getCoords_(AJ,j);var Af=AO.getCoords_(AI,Aj);var AE=Af.x-Ag.x;var p=Af.y-Ag.y;AL=Math.atan2(AE,p)*180/Math.PI;if(AL<0){AL+=360}if(AL<0.000001){AL=0}}else{var Ag=AO.getCoords_(AH.x0_,AH.y0_);Ac={x:(Ag.x-Ah.x)/Z,y:(Ag.y-Ah.y)/m};Z/=AY*D;m/=AX*D;var Aa=z.max(Z,m);AU=2*AH.r0_/Aa;AK=2*AH.r1_/Aa-AU}var AS=AH.colors_;AS.sort(function(Ak,i){return Ak.offset-i.offset});var AN=AS.length;var AR=AS[0].color;var AQ=AS[AN-1].color;var AW=AS[0].alpha*AO.globalAlpha;var AV=AS[AN-1].alpha*AO.globalAlpha;var Ab=[];for(var Ae=0;Ae<AN;Ae++){var AM=AS[Ae];Ab.push(AM.offset*AK+AU+" "+AM.color)}AG.push('<g_vml_:fill type="',AH.type_,'"',' method="none" focus="100%"',' color="',AR,'"',' color2="',AQ,'"',' colors="',Ab.join(","),'"',' opacity="',AV,'"',' g_o_:opacity2="',AW,'"',' angle="',AL,'"',' focusposition="',Ac.x,",",Ac.y,'" />')}else{if(AH instanceof u){if(Z&&m){var AF=-Ah.x;var AZ=-Ah.y;AG.push("<g_vml_:fill",' position="',AF/Z*AY*AY,",",AZ/m*AX*AX,'"',' type="tile"',' src="',AH.src_,'" />')}}else{var Ai=Y(AO.fillStyle);var AT=Ai.color;var Ad=Ai.alpha*AO.globalAlpha;AG.push('<g_vml_:fill color="',AT,'" opacity="',Ad,'" />')}}}M.fill=function(){this.stroke(true)};M.closePath=function(){this.currentPath_.push({type:"close"})};M.getCoords_=function(j,i){var Z=this.m_;return{x:D*(j*Z[0][0]+i*Z[1][0]+Z[2][0])-F,y:D*(j*Z[0][1]+i*Z[1][1]+Z[2][1])-F}};M.save=function(){var Z={};Q(this,Z);this.aStack_.push(Z);this.mStack_.push(this.m_);this.m_=d(V(),this.m_)};M.restore=function(){if(this.aStack_.length){Q(this.aStack_.pop(),this);this.m_=this.mStack_.pop()}};function H(Z){return isFinite(Z[0][0])&&isFinite(Z[0][1])&&isFinite(Z[1][0])&&isFinite(Z[1][1])&&isFinite(Z[2][0])&&isFinite(Z[2][1])}function y(i,Z,j){if(!H(Z)){return }i.m_=Z;if(j){var p=Z[0][0]*Z[1][1]-Z[0][1]*Z[1][0];i.lineScale_=k(b(p))}}M.translate=function(j,i){var Z=[[1,0,0],[0,1,0],[j,i,1]];y(this,d(Z,this.m_),false)};M.rotate=function(i){var m=U(i);var j=J(i);var Z=[[m,j,0],[-j,m,0],[0,0,1]];y(this,d(Z,this.m_),false)};M.scale=function(j,i){this.arcScaleX_*=j;this.arcScaleY_*=i;var Z=[[j,0,0],[0,i,0],[0,0,1]];y(this,d(Z,this.m_),true)};M.transform=function(p,m,AF,AE,i,Z){var j=[[p,m,0],[AF,AE,0],[i,Z,1]];y(this,d(j,this.m_),true)};M.setTransform=function(AE,p,AG,AF,j,i){var Z=[[AE,p,0],[AG,AF,0],[j,i,1]];y(this,Z,true)};M.drawText_=function(AK,AI,AH,AN,AG){var AM=this.m_,AQ=1000,i=0,AP=AQ,AF={x:0,y:0},AE=[];var Z=P(X(this.font),this.element_);var j=AA(Z);var AR=this.element_.currentStyle;var p=this.textAlign.toLowerCase();switch(p){case"left":case"center":case"right":break;case"end":p=AR.direction=="ltr"?"right":"left";break;case"start":p=AR.direction=="rtl"?"right":"left";break;default:p="left"}switch(this.textBaseline){case"hanging":case"top":AF.y=Z.size/1.75;break;case"middle":break;default:case null:case"alphabetic":case"ideographic":case"bottom":AF.y=-Z.size/2.25;break}switch(p){case"right":i=AQ;AP=0.05;break;case"center":i=AP=AQ/2;break}var AO=this.getCoords_(AI+AF.x,AH+AF.y);AE.push('<g_vml_:line from="',-i,' 0" to="',AP,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!AG,'" stroked="',!!AG,'" style="position:absolute;width:1px;height:1px;">');if(AG){R(this,AE)}else{a(this,AE,{x:-i,y:0},{x:AP,y:Z.size})}var AL=AM[0][0].toFixed(3)+","+AM[1][0].toFixed(3)+","+AM[0][1].toFixed(3)+","+AM[1][1].toFixed(3)+",0,0";var AJ=K(AO.x/D)+","+K(AO.y/D);AE.push('<g_vml_:skew on="t" matrix="',AL,'" ',' offset="',AJ,'" origin="',i,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',AD(AK),'" style="v-text-align:',p,";font:",AD(j),'" /></g_vml_:line>');this.element_.insertAdjacentHTML("beforeEnd",AE.join(""))};M.fillText=function(j,Z,m,i){this.drawText_(j,Z,m,i,false)};M.strokeText=function(j,Z,m,i){this.drawText_(j,Z,m,i,true)};M.measureText=function(j){if(!this.textMeasureEl_){var Z='<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>';this.element_.insertAdjacentHTML("beforeEnd",Z);this.textMeasureEl_=this.element_.lastChild}var i=this.element_.ownerDocument;this.textMeasureEl_.innerHTML="";this.textMeasureEl_.style.font=this.font;this.textMeasureEl_.appendChild(i.createTextNode(j));return{width:this.textMeasureEl_.offsetWidth}};M.clip=function(){};M.arcTo=function(){};M.createPattern=function(i,Z){return new u(i,Z)};function v(Z){this.type_=Z;this.x0_=0;this.y0_=0;this.r0_=0;this.x1_=0;this.y1_=0;this.r1_=0;this.colors_=[]}v.prototype.addColorStop=function(i,Z){Z=Y(Z);this.colors_.push({offset:i,color:Z.color,alpha:Z.alpha})};function u(i,Z){q(i);switch(Z){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=Z;break;default:n("SYNTAX_ERR")}this.src_=i.src;this.width_=i.width;this.height_=i.height}function n(Z){throw new o(Z)}function q(Z){if(!Z||Z.nodeType!=1||Z.tagName!="IMG"){n("TYPE_MISMATCH_ERR")}if(Z.readyState!="complete"){n("INVALID_STATE_ERR")}}function o(Z){this.code=this[Z];this.message=Z+": DOM Exception "+this.code}var x=o.prototype=new Error;x.INDEX_SIZE_ERR=1;x.DOMSTRING_SIZE_ERR=2;x.HIERARCHY_REQUEST_ERR=3;x.WRONG_DOCUMENT_ERR=4;x.INVALID_CHARACTER_ERR=5;x.NO_DATA_ALLOWED_ERR=6;x.NO_MODIFICATION_ALLOWED_ERR=7;x.NOT_FOUND_ERR=8;x.NOT_SUPPORTED_ERR=9;x.INUSE_ATTRIBUTE_ERR=10;x.INVALID_STATE_ERR=11;x.SYNTAX_ERR=12;x.INVALID_MODIFICATION_ERR=13;x.NAMESPACE_ERR=14;x.INVALID_ACCESS_ERR=15;x.VALIDATION_ERR=16;x.TYPE_MISMATCH_ERR=17;G_vmlCanvasManager=E;CanvasRenderingContext2D=W;CanvasGradient=v;CanvasPattern=u;DOMException=o})()};

/*! jQuery UI - v1.10.1 - 2013-02-15
* http://jqueryui.com
* Includes: jquery.ui.core.js
* Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */
(function(e,t){function i(t,n){var r,i,o,u=t.nodeName.toLowerCase();return"area"===u?(r=t.parentNode,i=r.name,!t.href||!i||r.nodeName.toLowerCase()!=="map"?!1:(o=e("img[usemap=#"+i+"]")[0],!!o&&s(o))):(/input|select|textarea|button|object/.test(u)?!t.disabled:"a"===u?t.href||n:n)&&s(t)}function s(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return e.css(this,"visibility")==="hidden"}).length}var n=0,r=/^ui-id-\d+$/;e.ui=e.ui||{};if(e.ui.version)return;e.extend(e.ui,{version:"1.10.1",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({_focus:e.fn.focus,focus:function(t,n){return typeof t=="number"?this.each(function(){var r=this;setTimeout(function(){e(r).focus(),n&&n.call(r)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?t=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):t=this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length){var r=e(this[0]),i,s;while(r.length&&r[0]!==document){i=r.css("position");if(i==="absolute"||i==="relative"||i==="fixed"){s=parseInt(r.css("zIndex"),10);if(!isNaN(s)&&s!==0)return s}r=r.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++n)})},removeUniqueId:function(){return this.each(function(){r.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,r){return!!e.data(t,r[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),r=isNaN(n);return(r||n>=0)&&i(t,!r)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(n,r){function u(t,n,r,s){return e.each(i,function(){n-=parseFloat(e.css(t,"padding"+this))||0,r&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var i=r==="Width"?["Left","Right"]:["Top","Bottom"],s=r.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+r]=function(n){return n===t?o["inner"+r].call(this):this.each(function(){e(this).css(s,u(this,n)+"px")})},e.fn["outer"+r]=function(t,n){return typeof t!="number"?o["outer"+r].call(this,t):this.each(function(){e(this).css(s,u(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,n,r){var i,s=e.ui[t].prototype;for(i in r)s.plugins[i]=s.plugins[i]||[],s.plugins[i].push([n,r[i]])},call:function(e,t,n){var r,i=e.plugins[t];if(!i||!e.element[0].parentNode||e.element[0].parentNode.nodeType===11)return;for(r=0;r<i.length;r++)e.options[i[r][0]]&&i[r][1].apply(e.element,n)}},hasScroll:function(t,n){if(e(t).css("overflow")==="hidden")return!1;var r=n&&n==="left"?"scrollLeft":"scrollTop",i=!1;return t[r]>0?!0:(t[r]=1,i=t[r]>0,t[r]=0,i)}})})(jQuery);
/*! jQuery UI - v1.10.1 - 2013-02-15
* http://jqueryui.com
* Includes: jquery.ui.widget.js
* Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */
(function(e,t){var n=0,r=Array.prototype.slice,i=e.cleanData;e.cleanData=function(t){for(var n=0,r;(r=t[n])!=null;n++)try{e(r).triggerHandler("remove")}catch(s){}i(t)},e.widget=function(t,n,r){var i,s,o,u,a={},f=t.split(".")[0];t=t.split(".")[1],i=f+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)},e[f]=e[f]||{},s=e[f][t],o=e[f][t]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},e.extend(o,s,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),u=new n,u.options=e.widget.extend({},u.options),e.each(r,function(t,r){if(!e.isFunction(r)){a[t]=r;return}a[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},i=function(e){return n.prototype[t].apply(this,e)};return function(){var t=this._super,n=this._superApply,s;return this._super=e,this._superApply=i,s=r.apply(this,arguments),this._super=t,this._superApply=n,s}}()}),o.prototype=e.widget.extend(u,{widgetEventPrefix:s?u.widgetEventPrefix:t},a,{constructor:o,namespace:f,widgetName:t,widgetFullName:i}),s?(e.each(s._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,o,n._proto)}),delete s._childConstructors):n._childConstructors.push(o),e.widget.bridge(t,o)},e.widget.extend=function(n){var i=r.call(arguments,1),s=0,o=i.length,u,a;for(;s<o;s++)for(u in i[s])a=i[s][u],i[s].hasOwnProperty(u)&&a!==t&&(e.isPlainObject(a)?n[u]=e.isPlainObject(n[u])?e.widget.extend({},n[u],a):e.widget.extend({},a):n[u]=a);return n},e.widget.bridge=function(n,i){var s=i.prototype.widgetFullName||n;e.fn[n]=function(o){var u=typeof o=="string",a=r.call(arguments,1),f=this;return o=!u&&a.length?e.widget.extend.apply(null,[o].concat(a)):o,u?this.each(function(){var r,i=e.data(this,s);if(!i)return e.error("cannot call methods on "+n+" prior to initialization; "+"attempted to call method '"+o+"'");if(!e.isFunction(i[o])||o.charAt(0)==="_")return e.error("no such method '"+o+"' for "+n+" widget instance");r=i[o].apply(i,a);if(r!==i&&r!==t)return f=r&&r.jquery?f.pushStack(r.get()):r,!1}):this.each(function(){var t=e.data(this,s);t?t.option(o||{})._init():e.data(this,s,new i(o,this))}),f}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),r!==this&&(e.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===r&&this.destroy()}}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,r){var i=n,s,o,u;if(arguments.length===0)return e.widget.extend({},this.options);if(typeof n=="string"){i={},s=n.split("."),n=s.shift();if(s.length){o=i[n]=e.widget.extend({},this.options[n]);for(u=0;u<s.length-1;u++)o[s[u]]=o[s[u]]||{},o=o[s[u]];n=s.pop();if(r===t)return o[n]===t?null:o[n];o[n]=r}else{if(r===t)return this.options[n]===t?null:this.options[n];i[n]=r}}return this._setOptions(i),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,e==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,n,r){var i,s=this;typeof t!="boolean"&&(r=n,n=t,t=!1),r?(n=i=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),e.each(r,function(r,o){function u(){if(!t&&(s.options.disabled===!0||e(this).hasClass("ui-state-disabled")))return;return(typeof o=="string"?s[o]:o).apply(s,arguments)}typeof o!="string"&&(u.guid=o.guid=o.guid||u.guid||e.guid++);var a=r.match(/^(\w+)\s*(.*)$/),f=a[1]+s.eventNamespace,l=a[2];l?i.delegate(l,f,u):n.bind(f,u)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return(typeof e=="string"?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,s,o=this.options[t];r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],s=n.originalEvent;if(s)for(i in s)i in n||(n[i]=s[i]);return this.element.trigger(n,r),!(e.isFunction(o)&&o.apply(this.element[0],[n].concat(r))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,s){typeof i=="string"&&(i={effect:i});var o,u=i?i===!0||typeof i=="number"?n:i.effect||n:t;i=i||{},typeof i=="number"&&(i={duration:i}),o=!e.isEmptyObject(i),i.complete=s,i.delay&&r.delay(i.delay),o&&e.effects&&e.effects.effect[u]?r[t](i):u!==t&&r[u]?r[u](i.duration,i.easing,s):r.queue(function(n){e(this)[t](),s&&s.call(r[0]),n()})}})})(jQuery);
/*! jQuery UI - v1.10.3 - 2013-06-12
* http://jqueryui.com
* Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */
(function(t,e){function i(t,e,i){return[parseFloat(t[0])*(p.test(t[0])?e/100:1),parseFloat(t[1])*(p.test(t[1])?i/100:1)]}function s(e,i){return parseInt(t.css(e,i),10)||0}function n(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var a,o=Math.max,r=Math.abs,h=Math.round,l=/left|center|right/,c=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,p=/%$/,f=t.fn.position;t.position={scrollbarWidth:function(){if(a!==e)return a;var i,s,n=t("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=n.children()[0];return t("body").append(n),i=o.offsetWidth,n.css("overflow","scroll"),s=o.offsetWidth,i===s&&(s=n[0].clientWidth),n.remove(),a=i-s},getScrollInfo:function(e){var i=e.isWindow?"":e.element.css("overflow-x"),s=e.isWindow?"":e.element.css("overflow-y"),n="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,a="scroll"===s||"auto"===s&&e.height<e.element[0].scrollHeight;return{width:a?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),s=t.isWindow(i[0]);return{element:i,isWindow:s,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:s?i.width():i.outerWidth(),height:s?i.height():i.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return f.apply(this,arguments);e=t.extend({},e);var a,p,m,g,v,b,_=t(e.of),y=t.position.getWithinInfo(e.within),w=t.position.getScrollInfo(y),x=(e.collision||"flip").split(" "),k={};return b=n(_),_[0].preventDefault&&(e.at="left top"),p=b.width,m=b.height,g=b.offset,v=t.extend({},g),t.each(["my","at"],function(){var t,i,s=(e[this]||"").split(" ");1===s.length&&(s=l.test(s[0])?s.concat(["center"]):c.test(s[0])?["center"].concat(s):["center","center"]),s[0]=l.test(s[0])?s[0]:"center",s[1]=c.test(s[1])?s[1]:"center",t=u.exec(s[0]),i=u.exec(s[1]),k[this]=[t?t[0]:0,i?i[0]:0],e[this]=[d.exec(s[0])[0],d.exec(s[1])[0]]}),1===x.length&&(x[1]=x[0]),"right"===e.at[0]?v.left+=p:"center"===e.at[0]&&(v.left+=p/2),"bottom"===e.at[1]?v.top+=m:"center"===e.at[1]&&(v.top+=m/2),a=i(k.at,p,m),v.left+=a[0],v.top+=a[1],this.each(function(){var n,l,c=t(this),u=c.outerWidth(),d=c.outerHeight(),f=s(this,"marginLeft"),b=s(this,"marginTop"),D=u+f+s(this,"marginRight")+w.width,T=d+b+s(this,"marginBottom")+w.height,C=t.extend({},v),M=i(k.my,c.outerWidth(),c.outerHeight());"right"===e.my[0]?C.left-=u:"center"===e.my[0]&&(C.left-=u/2),"bottom"===e.my[1]?C.top-=d:"center"===e.my[1]&&(C.top-=d/2),C.left+=M[0],C.top+=M[1],t.support.offsetFractions||(C.left=h(C.left),C.top=h(C.top)),n={marginLeft:f,marginTop:b},t.each(["left","top"],function(i,s){t.ui.position[x[i]]&&t.ui.position[x[i]][s](C,{targetWidth:p,targetHeight:m,elemWidth:u,elemHeight:d,collisionPosition:n,collisionWidth:D,collisionHeight:T,offset:[a[0]+M[0],a[1]+M[1]],my:e.my,at:e.at,within:y,elem:c})}),e.using&&(l=function(t){var i=g.left-C.left,s=i+p-u,n=g.top-C.top,a=n+m-d,h={target:{element:_,left:g.left,top:g.top,width:p,height:m},element:{element:c,left:C.left,top:C.top,width:u,height:d},horizontal:0>s?"left":i>0?"right":"center",vertical:0>a?"top":n>0?"bottom":"middle"};u>p&&p>r(i+s)&&(h.horizontal="center"),d>m&&m>r(n+a)&&(h.vertical="middle"),h.important=o(r(i),r(s))>o(r(n),r(a))?"horizontal":"vertical",e.using.call(this,t,h)}),c.offset(t.extend(C,{using:l}))})},t.ui.position={fit:{left:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,r=t.left-e.collisionPosition.marginLeft,h=n-r,l=r+e.collisionWidth-a-n;e.collisionWidth>a?h>0&&0>=l?(i=t.left+h+e.collisionWidth-a-n,t.left+=h-i):t.left=l>0&&0>=h?n:h>l?n+a-e.collisionWidth:n:h>0?t.left+=h:l>0?t.left-=l:t.left=o(t.left-r,t.left)},top:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollTop:s.offset.top,a=e.within.height,r=t.top-e.collisionPosition.marginTop,h=n-r,l=r+e.collisionHeight-a-n;e.collisionHeight>a?h>0&&0>=l?(i=t.top+h+e.collisionHeight-a-n,t.top+=h-i):t.top=l>0&&0>=h?n:h>l?n+a-e.collisionHeight:n:h>0?t.top+=h:l>0?t.top-=l:t.top=o(t.top-r,t.top)}},flip:{left:function(t,e){var i,s,n=e.within,a=n.offset.left+n.scrollLeft,o=n.width,h=n.isWindow?n.scrollLeft:n.offset.left,l=t.left-e.collisionPosition.marginLeft,c=l-h,u=l+e.collisionWidth-o-h,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>c?(i=t.left+d+p+f+e.collisionWidth-o-a,(0>i||r(c)>i)&&(t.left+=d+p+f)):u>0&&(s=t.left-e.collisionPosition.marginLeft+d+p+f-h,(s>0||u>r(s))&&(t.left+=d+p+f))},top:function(t,e){var i,s,n=e.within,a=n.offset.top+n.scrollTop,o=n.height,h=n.isWindow?n.scrollTop:n.offset.top,l=t.top-e.collisionPosition.marginTop,c=l-h,u=l+e.collisionHeight-o-h,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,m=-2*e.offset[1];0>c?(s=t.top+p+f+m+e.collisionHeight-o-a,t.top+p+f+m>c&&(0>s||r(c)>s)&&(t.top+=p+f+m)):u>0&&(i=t.top-e.collisionPosition.marginTop+p+f+m-h,t.top+p+f+m>u&&(i>0||u>r(i))&&(t.top+=p+f+m))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,s,n,a,o=document.getElementsByTagName("body")[0],r=document.createElement("div");e=document.createElement(o?"div":"body"),s={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},o&&t.extend(s,{position:"absolute",left:"-1000px",top:"-1000px"});for(a in s)e.style[a]=s[a];e.appendChild(r),i=o||document.documentElement,i.insertBefore(e,i.firstChild),r.style.cssText="position: absolute; left: 10.7432222px;",n=t(r).offset().left,t.support.offsetFractions=n>10&&11>n,e.innerHTML="",i.removeChild(e)}()})(jQuery);
/*! jQuery UI - v1.10.3 - 2013-06-12
* http://jqueryui.com
* Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */
(function(t){t.widget("ui.menu",{version:"1.10.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,t.proxy(function(t){this.options.disabled&&t.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(t){t.preventDefault()},"click .ui-state-disabled > a":function(t){t.preventDefault()},"click .ui-menu-item:has(a)":function(e){var i=t(e.target).closest(".ui-menu-item");!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(e),i.has(".ui-menu").length?this.expand(e):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){var i=t(e.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(e,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.children(".ui-menu-item").eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){t(e.target).closest(".ui-menu").length||this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){function i(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var s,n,a,o,r,h=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:h=!1,n=this.previousFilter||"",a=String.fromCharCode(e.keyCode),o=!1,clearTimeout(this.filterTimer),a===n?o=!0:a=n+a,r=RegExp("^"+i(a),"i"),s=this.activeMenu.children(".ui-menu-item").filter(function(){return r.test(t(this).children("a").text())}),s=o&&-1!==s.index(this.active.next())?this.active.nextAll(".ui-menu-item"):s,s.length||(a=String.fromCharCode(e.keyCode),r=RegExp("^"+i(a),"i"),s=this.activeMenu.children(".ui-menu-item").filter(function(){return r.test(t(this).children("a").text())})),s.length?(this.focus(e,s),s.length>1?(this.previousFilter=a,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}h&&e.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,i=this.options.icons.submenu,s=this.element.find(this.options.menus);s.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),s=e.prev("a"),n=t("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);s.attr("aria-haspopup","true").prepend(n),e.attr("aria-labelledby",s.attr("id"))}),e=s.add(this.element),e.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),e.children(":not(.ui-menu-item)").each(function(){var e=t(this);/[^\-\u2014\u2013\s]/.test(e.text())||e.addClass("ui-widget-content ui-menu-divider")}),e.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){"icons"===t&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu),this._super(t,e)},focus:function(t,e){var i,s;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),s=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,s,n,a,o,r;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,n=e.offset().top-this.activeMenu.offset().top-i-s,a=this.activeMenu.scrollTop(),o=this.activeMenu.height(),r=e.height(),0>n?this.activeMenu.scrollTop(a+n):n+r>o&&this.activeMenu.scrollTop(a+n-o+r))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(e),this.activeMenu=s},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var s;this.active&&(s="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.children(".ui-menu-item")[e]()),this.focus(i,s)},nextPage:function(e){var i,s,n;return this.active?(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),0>i.offset().top-s-n}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())),undefined):(this.next(e),undefined)},previousPage:function(e){var i,s,n;return this.active?(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-s+n>0}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item").first())),undefined):(this.next(e),undefined)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)}})})(jQuery);
/*! jQuery UI - v1.10.3 - 2013-06-12
* http://jqueryui.com
* Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */
(function(t){var e=0;t.widget("ui.autocomplete",{version:"1.10.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var e,i,s,n=this.element[0].nodeName.toLowerCase(),a="textarea"===n,o="input"===n;this.isMultiLine=a?!0:o?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[a||o?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return e=!0,s=!0,i=!0,undefined;e=!1,s=!1,i=!1;var a=t.ui.keyCode;switch(n.keyCode){case a.PAGE_UP:e=!0,this._move("previousPage",n);break;case a.PAGE_DOWN:e=!0,this._move("nextPage",n);break;case a.UP:e=!0,this._keyEvent("previous",n);break;case a.DOWN:e=!0,this._keyEvent("next",n);break;case a.ENTER:case a.NUMPAD_ENTER:this.menu.active&&(e=!0,n.preventDefault(),this.menu.select(n));break;case a.TAB:this.menu.active&&this.menu.select(n);break;case a.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(e)return e=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&s.preventDefault(),undefined;if(!i){var n=t.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(t){return s?(s=!1,t.preventDefault(),undefined):(this._searchTimeout(t),undefined)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?(delete this.cancelBlur,undefined):(clearTimeout(this.searching),this.close(t),this._change(t),undefined)}}),this._initSource(),this.menu=t("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];t(e.target).closest(".ui-menu-item").length||this._delay(function(){var e=this;this.document.one("mousedown",function(s){s.target===e.element[0]||s.target===i||t.contains(i,s.target)||e.close()})})},menufocus:function(e,i){if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)}),undefined;var s=i.item.data("ui-autocomplete-item");!1!==this._trigger("focus",e,{item:s})?e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(s.value):this.liveRegion.text(s.value)},menuselect:function(t,e){var i=e.item.data("ui-autocomplete-item"),s=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s,this.selectedItem=i})),!1!==this._trigger("select",t,{item:i})&&this._value(i.value),this.term=this._value(),this.close(t),this.selectedItem=i}}),this.liveRegion=t("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,s=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,s){s(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,n){s.xhr&&s.xhr.abort(),s.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){n(t)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):undefined},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var t=this,i=++e;return function(s){i===e&&t.__response(s),t.pending--,t.pending||t.element.removeClass("ui-autocomplete-loading")}},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({label:e.label||e.value,value:e.value||e.label},e)})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var s=this;t.each(i,function(t,i){s._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").append(t("<a>").text(i.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this._value(this.term),this.menu.blur(),undefined):(this.menu[t](e),undefined):(this.search(null,e),undefined)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var s=RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return s.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var e;this._superApply(arguments),this.options.disabled||this.cancelSearch||(e=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.text(e))}})})(jQuery);
/*! jQuery UI - v1.10.1 - 2013-02-15
* http://jqueryui.com
* Includes: jquery.ui.mouse.js
* Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */
(function(e,t){var n=!1;e(document).mouseup(function(){n=!1}),e.widget("ui.mouse",{version:"1.10.1",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){if(!0===e.data(n.target,t.widgetName+".preventClickEvent"))return e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(n)return;this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var r=this,i=t.which===1,s=typeof this.options.cancel=="string"&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;if(!i||s||!this._mouseCapture(t))return!0;this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){r.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)){this._mouseStarted=this._mouseStart(t)!==!1;if(!this._mouseStarted)return t.preventDefault(),!0}return!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return r._mouseMove(e)},this._mouseUpDelegate=function(e){return r._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),n=!0,!0},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);
/*! jQuery UI - v1.10.1 - 2013-02-15
* http://jqueryui.com
* Includes: jquery.ui.sortable.js
* Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */
(function(e,t){function n(e,t,n){return e>t&&e<t+n}e.widget("ui.sortable",e.ui.mouse,{version:"1.10.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?e.axis==="x"||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,n){t==="disabled"?(this.options[t]=n,this.widget().toggleClass("ui-sortable-disabled",!!n)):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,n){var r=null,i=!1,s=this;if(this.reverting)return!1;if(this.options.disabled||this.options.type==="static")return!1;this._refreshItems(t),e(t.target).parents().each(function(){if(e.data(this,s.widgetName+"-item")===s)return r=e(this),!1}),e.data(t.target,s.widgetName+"-item")===s&&(r=e(t.target));if(!r)return!1;if(this.options.handle&&!n){e(this.options.handle,r).find("*").addBack().each(function(){this===t.target&&(i=!0)});if(!i)return!1}return this.currentItem=r,this._removeCurrentsFromItems(),!0},_mouseStart:function(t,n,r){var i,s=this.options;this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&(e("body").css("cursor")&&(this._storedCursor=e("body").css("cursor")),e("body").css("cursor",s.cursor)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions();if(!r)for(i=this.containers.length-1;i>=0;i--)this.containers[i]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var n,r,i,s,o=this.options,u=!1;this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=u=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=u=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=u=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=u=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-e(document).scrollTop()<o.scrollSensitivity?u=e(document).scrollTop(e(document).scrollTop()-o.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<o.scrollSensitivity&&(u=e(document).scrollTop(e(document).scrollTop()+o.scrollSpeed)),t.pageX-e(document).scrollLeft()<o.scrollSensitivity?u=e(document).scrollLeft(e(document).scrollLeft()-o.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<o.scrollSensitivity&&(u=e(document).scrollLeft(e(document).scrollLeft()+o.scrollSpeed))),u!==!1&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!=="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!=="x")this.helper[0].style.top=this.position.top+"px";for(n=this.items.length-1;n>=0;n--){r=this.items[n],i=r.item[0],s=this._intersectsWithPointer(r);if(!s)continue;if(r.instance!==this.currentContainer)continue;if(i!==this.currentItem[0]&&this.placeholder[s===1?"next":"prev"]()[0]!==i&&!e.contains(this.placeholder[0],i)&&(this.options.type==="semi-dynamic"?!e.contains(this.element[0],i):!0)){this.direction=s===1?"down":"up";if(this.options.tolerance!=="pointer"&&!this._intersectsWithSides(r))break;this._rearrange(t,r),this._trigger("change",t,this._uiHash());break}}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(!t)return;e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t);if(this.options.revert){var r=this,i=this.placeholder.offset();this.reverting=!0,e(this.helper).animate({left:i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft),top:i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){r._clear(t)})}else this._clear(t,n);return!1},cancel:function(){if(this.dragging){this._mouseUp({target:null}),this.options.helper==="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&r.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!r.length&&t.key&&r.push(t.key+"="),r.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},n.each(function(){r.push(e(t.item||this).attr(t.attribute||"id")||"")}),r},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,r=this.positionAbs.top,i=r+this.helperProportions.height,s=e.left,o=s+e.width,u=e.top,a=u+e.height,f=this.offset.click.top,l=this.offset.click.left,c=r+f>u&&r+f<a&&t+l>s&&t+l<o;return this.options.tolerance==="pointer"||this.options.forcePointerForContainers||this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?c:s<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<o&&u<r+this.helperProportions.height/2&&i-this.helperProportions.height/2<a},_intersectsWithPointer:function(e){var t=this.options.axis==="x"||n(this.positionAbs.top+this.offset.click.top,e.top,e.height),r=this.options.axis==="y"||n(this.positionAbs.left+this.offset.click.left,e.left,e.width),i=t&&r,s=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return i?this.floating?o&&o==="right"||s==="down"?2:1:s&&(s==="down"?2:1):!1},_intersectsWithSides:function(e){var t=n(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),r=n(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),i=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return this.floating&&s?s==="right"&&r||s==="left"&&!r:i&&(i==="down"&&t||i==="up"&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return e!==0&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return e!==0&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var n,r,i,s,o=[],u=[],a=this._connectWith();if(a&&t)for(n=a.length-1;n>=0;n--){i=e(a[n]);for(r=i.length-1;r>=0;r--)s=e.data(i[r],this.widgetFullName),s&&s!==this&&!s.options.disabled&&u.push([e.isFunction(s.options.items)?s.options.items.call(s.element):e(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s])}u.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(n=u.length-1;n>=0;n--)u[n][0].each(function(){o.push(this)});return e(o)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;n<t.length;n++)if(t[n]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var n,r,i,s,o,u,a,f,l=this.items,c=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(n=h.length-1;n>=0;n--){i=e(h[n]);for(r=i.length-1;r>=0;r--)s=e.data(i[r],this.widgetFullName),s&&s!==this&&!s.options.disabled&&(c.push([e.isFunction(s.options.items)?s.options.items.call(s.element[0],t,{item:this.currentItem}):e(s.options.items,s.element),s]),this.containers.push(s))}for(n=c.length-1;n>=0;n--){o=c[n][1],u=c[n][0];for(r=0,f=u.length;r<f;r++)a=e(u[r]),a.data(this.widgetName+"-item",o),l.push({item:a,instance:o,width:0,height:0,left:0,top:0})}},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,r,i,s;for(n=this.items.length-1;n>=0;n--){r=this.items[n];if(r.instance!==this.currentContainer&&this.currentContainer&&r.item[0]!==this.currentItem[0])continue;i=this.options.toleranceElement?e(this.options.toleranceElement,r.item):r.item,t||(r.width=i.outerWidth(),r.height=i.outerHeight()),s=i.offset(),r.left=s.left,r.top=s.top}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)s=this.containers[n].element.offset(),this.containers[n].containerCache.left=s.left,this.containers[n].containerCache.top=s.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var n,r=t.options;if(!r.placeholder||r.placeholder.constructor===String)n=r.placeholder,r.placeholder={element:function(){var r=e(document.createElement(t.currentItem[0].nodeName)).addClass(n||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return n||(r.style.visibility="hidden"),r},update:function(e,i){if(n&&!r.forcePlaceholderSize)return;i.height()||i.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),i.width()||i.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10))}};t.placeholder=e(r.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),r.placeholder.update(t,t.placeholder)},_contactContainers:function(t){var n,r,i,s,o,u,a,f,l,c=null,h=null;for(n=this.containers.length-1;n>=0;n--){if(e.contains(this.currentItem[0],this.containers[n].element[0]))continue;if(this._intersectsWith(this.containers[n].containerCache)){if(c&&e.contains(this.containers[n].element[0],c.element[0]))continue;c=this.containers[n],h=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",t,this._uiHash(this)),this.containers[n].containerCache.over=0)}if(!c)return;if(this.containers.length===1)this.containers[h]._trigger("over",t,this._uiHash(this)),this.containers[h].containerCache.over=1;else{i=1e4,s=null,o=this.containers[h].floating?"left":"top",u=this.containers[h].floating?"width":"height",a=this.positionAbs[o]+this.offset.click[o];for(r=this.items.length-1;r>=0;r--){if(!e.contains(this.containers[h].element[0],this.items[r].item[0]))continue;if(this.items[r].item[0]===this.currentItem[0])continue;f=this.items[r].item.offset()[o],l=!1,Math.abs(f-a)>Math.abs(f+this.items[r][u]-a)&&(l=!0,f+=this.items[r][u]),Math.abs(f-a)<i&&(i=Math.abs(f-a),s=this.items[r],this.direction=l?"up":"down")}if(!s&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[h],s?this._rearrange(t,s,null,!0):this._rearrange(t,null,this.containers[h].element,!0),this._trigger("change",t,this._uiHash()),this.containers[h]._trigger("change",t,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[h]._trigger("over",t,this._uiHash(this)),this.containers[h].containerCache.over=1}},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):n.helper==="clone"?this.currentItem.clone():this.currentItem;return r.parents("body").length||e(n.appendTo!=="parent"?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(r[0]),r[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!r[0].style.width||n.forceHelperSize)&&r.width(this.currentItem.width()),(!r[0].style.height||n.forceHelperSize)&&r.height(this.currentItem.height()),r},_adjustOffsetFromHelper:function(t){typeof t=="string"&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&e.ui.ie)t={top:0,left:0};return{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,i=this.options;i.containment==="parent"&&(i.containment=this.helper[0].parentNode);if(i.containment==="document"||i.containment==="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e(i.containment==="document"?document:window).width()-this.helperProportions.width-this.margins.left,(e(i.containment==="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];/^(document|window|parent)$/.test(i.containment)||(t=e(i.containment)[0],n=e(i.containment).offset(),r=e(t).css("overflow")!=="hidden",this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(r?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(r?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,n){n||(n=this.position);var r=t==="absolute"?1:-1,i=this.cssPosition!=="absolute"||this.scrollParent[0]!==document&&!!e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(i[0].tagName);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():s?0:i.scrollTop())*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():s?0:i.scrollLeft())*r}},_generatePosition:function(t){var n,r,i=this.options,s=t.pageX,o=t.pageY,u=this.cssPosition!=="absolute"||this.scrollParent[0]!==document&&!!e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(u[0].tagName);return this.cssPosition==="relative"&&(this.scrollParent[0]===document||this.scrollParent[0]===this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),i.grid&&(n=this.originalPageY+Math.round((o-this.originalPageY)/i.grid[1])*i.grid[1],o=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-i.grid[1]:n+i.grid[1]:n,r=this.originalPageX+Math.round((s-this.originalPageX)/i.grid[0])*i.grid[0],s=this.containment?r-this.offset.click.left>=this.containment[0]&&r-this.offset.click.left<=this.containment[2]?r:r-this.offset.click.left>=this.containment[0]?r-i.grid[0]:r+i.grid[0]:r)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():a?0:u.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():a?0:u.scrollLeft())}},_rearrange:function(e,t,n,r){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],this.direction==="down"?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var i=this.counter;this._delay(function(){i===this.counter&&this.refreshPositions(!r)})},_clear:function(t,n){this.reverting=!1;var r,i=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(r in this._storedCSS)if(this._storedCSS[r]==="auto"||this._storedCSS[r]==="static")this._storedCSS[r]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!n&&i.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!n&&i.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(n||(i.push(function(e){this._trigger("remove",e,this._uiHash())}),i.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),i.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer))));for(r=this.containers.length-1;r>=0;r--)n||i.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[r])),this.containers[r].containerCache.over&&(i.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[r])),this.containers[r].containerCache.over=0);this._storedCursor&&e("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex),this.dragging=!1;if(this.cancelHelperRemoval){if(!n){this._trigger("beforeStop",t,this._uiHash());for(r=0;r<i.length;r++)i[r].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}n||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null;if(!n){for(r=0;r<i.length;r++)i[r].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}})})(jQuery);
/*! jQuery UI - v1.10.1 - 2013-02-15
* http://jqueryui.com
* Includes: jquery.ui.accordion.js
* Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */
(function(e,t){var n=0,r={},i={};r.height=r.paddingTop=r.paddingBottom=r.borderTopWidth=r.borderBottomWidth="hide",i.height=i.paddingTop=i.paddingBottom=i.borderTopWidth=i.borderBottomWidth="show",e.widget("ui.accordion",{version:"1.10.1",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),!t.collapsible&&(t.active===!1||t.active==null)&&(t.active=0),this._processPanels(),t.active<0&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e(),content:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this.options.heightStyle!=="content"&&e.css("height","")},_setOption:function(e,t){if(e==="active"){this._activate(t);return}e==="event"&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),e==="collapsible"&&!t&&this.options.active===!1&&this._activate(0),e==="icons"&&(this._destroyIcons(),t&&this._createIcons()),e==="disabled"&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t)},_keydown:function(t){if(t.altKey||t.ctrlKey)return;var n=e.ui.keyCode,r=this.headers.length,i=this.headers.index(t.target),s=!1;switch(t.keyCode){case n.RIGHT:case n.DOWN:s=this.headers[(i+1)%r];break;case n.LEFT:case n.UP:s=this.headers[(i-1+r)%r];break;case n.SPACE:case n.ENTER:this._eventHandler(t);break;case n.HOME:s=this.headers[0];break;case n.END:s=this.headers[r-1]}s&&(e(t.target).attr("tabIndex",-1),e(s).attr("tabIndex",0),s.focus(),t.preventDefault())},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels();if(t.active===!1&&t.collapsible===!0||!this.headers.length)t.active=!1,this.active=e();t.active===!1?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var t,r=this.options,i=r.heightStyle,s=this.element.parent(),o=this.accordionId="ui-accordion-"+(this.element.attr("id")||++n);this.active=this._findActive(r.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(t){var n=e(this),r=n.attr("id"),i=n.next(),s=i.attr("id");r||(r=o+"-header-"+t,n.attr("id",r)),s||(s=o+"-panel-"+t,i.attr("id",s)),n.attr("aria-controls",s),i.attr("aria-labelledby",r)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(r.event),i==="fill"?(t=s.height(),this.element.siblings(":visible").each(function(){var n=e(this),r=n.css("position");if(r==="absolute"||r==="fixed")return;t-=n.outerHeight(!0)}),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):i==="auto"&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).css("height","").height())}).height(t))},_activate:function(t){var n=this._findActive(t)[0];if(n===this.active[0])return;n=n||this.active[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop})},_findActive:function(t){return typeof t=="number"?this.headers.eq(t):e()},_setupEvents:function(t){var n={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){n[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var n=this.options,r=this.active,i=e(t.currentTarget),s=i[0]===r[0],o=s&&n.collapsible,u=o?e():i.next(),a=r.next(),f={oldHeader:r,oldPanel:a,newHeader:o?e():i,newPanel:u};t.preventDefault();if(s&&!n.collapsible||this._trigger("beforeActivate",t,f)===!1)return;n.active=o?!1:this.headers.index(i),this.active=s?e():i,this._toggle(f),r.removeClass("ui-accordion-header-active ui-state-active"),n.icons&&r.children(".ui-accordion-header-icon").removeClass(n.icons.activeHeader).addClass(n.icons.header),s||(i.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),n.icons&&i.children(".ui-accordion-header-icon").removeClass(n.icons.header).addClass(n.icons.activeHeader),i.next().addClass("ui-accordion-content-active"))},_toggle:function(t){var n=t.newPanel,r=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=r,this.options.animate?this._animate(n,r,t):(r.hide(),n.show(),this._toggleComplete(t)),r.attr({"aria-expanded":"false","aria-hidden":"true"}),r.prev().attr("aria-selected","false"),n.length&&r.length?r.prev().attr("tabIndex",-1):n.length&&this.headers.filter(function(){return e(this).attr("tabIndex")===0}).attr("tabIndex",-1),n.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(e,t,n){var s,o,u,a=this,f=0,l=e.length&&(!t.length||e.index()<t.index()),c=this.options.animate||{},h=l&&c.down||c,p=function(){a._toggleComplete(n)};typeof h=="number"&&(u=h),typeof h=="string"&&(o=h),o=o||h.easing||c.easing,u=u||h.duration||c.duration;if(!t.length)return e.animate(i,u,o,p);if(!e.length)return t.animate(r,u,o,p);s=e.show().outerHeight(),t.animate(r,{duration:u,easing:o,step:function(e,t){t.now=Math.round(e)}}),e.hide().animate(i,{duration:u,easing:o,complete:p,step:function(e,n){n.now=Math.round(e),n.prop!=="height"?f+=n.now:a.options.heightStyle!=="content"&&(n.now=Math.round(s-t.outerHeight()-f),f=0)}})},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}})})(jQuery);
/*! jQuery UI - v1.10.1 - 2013-02-15
* http://jqueryui.com
* Includes: jquery.ui.button.js
* Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */
(function(e,t){var n,r,i,s,o="ui-button ui-widget ui-state-default ui-corner-all",u="ui-state-hover ui-state-active ",a="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",f=function(){var t=e(this).find(":ui-button");setTimeout(function(){t.button("refresh")},1)},l=function(t){var n=t.name,r=t.form,i=e([]);return n&&(n=n.replace(/'/g,"\\'"),r?i=e(r).find("[name='"+n+"']"):i=e("[name='"+n+"']",t.ownerDocument).filter(function(){return!this.form})),i};e.widget("ui.button",{version:"1.10.1",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,f),typeof this.options.disabled!="boolean"?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,u=this.options,a=this.type==="checkbox"||this.type==="radio",c=a?"":"ui-state-active",h="ui-state-focus";u.label===null&&(u.label=this.type==="input"?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(o).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){if(u.disabled)return;this===n&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){if(u.disabled)return;e(this).removeClass(c)}).bind("click"+this.eventNamespace,function(e){u.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){t.buttonElement.addClass(h)}).bind("blur"+this.eventNamespace,function(){t.buttonElement.removeClass(h)}),a&&(this.element.bind("change"+this.eventNamespace,function(){if(s)return;t.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(e){if(u.disabled)return;s=!1,r=e.pageX,i=e.pageY}).bind("mouseup"+this.eventNamespace,function(e){if(u.disabled)return;if(r!==e.pageX||i!==e.pageY)s=!0})),this.type==="checkbox"?this.buttonElement.bind("click"+this.eventNamespace,function(){if(u.disabled||s)return!1}):this.type==="radio"?this.buttonElement.bind("click"+this.eventNamespace,function(){if(u.disabled||s)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var n=t.element[0];l(n).not(n).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(u.disabled)return!1;e(this).addClass("ui-state-active"),n=this,t.document.one("mouseup",function(){n=null})}).bind("mouseup"+this.eventNamespace,function(){if(u.disabled)return!1;e(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(t){if(u.disabled)return!1;(t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",u.disabled),this._resetButton()},_determineButtonType:function(){var e,t,n;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button",this.type==="checkbox"||this.type==="radio"?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),n=this.element.is(":checked"),n&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",n)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(o+" "+u+" "+a).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){this._super(e,t);if(e==="disabled"){t?this.element.prop("disabled",!0):this.element.prop("disabled",!1);return}this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),this.type==="radio"?l(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):this.type==="checkbox"&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if(this.type==="input"){this.options.label&&this.element.val(this.options.label);return}var t=this.buttonElement.removeClass(a),n=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),r=this.options.icons,i=r.primary&&r.secondary,s=[];r.primary||r.secondary?(this.options.text&&s.push("ui-button-text-icon"+(i?"s":r.primary?"-primary":"-secondary")),r.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+r.primary+"'></span>"),r.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+r.secondary+"'></span>"),this.options.text||(s.push(i?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(n)))):s.push("ui-button-text-only"),t.addClass(s.join(" "))}}),e.widget("ui.buttonset",{version:"1.10.1",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){e==="disabled"&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t=this.element.css("direction")==="rtl";this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})})(jQuery);
/*! jQuery UI - v1.10.1 - 2013-02-15
* http://jqueryui.com
* Includes: jquery.ui.progressbar.js
* Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */
(function(e,t){e.widget("ui.progressbar",{version:"1.10.1",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){if(e===t)return this.options.value;this.options.value=this._constrainedValue(e),this._refreshValue()},_constrainedValue:function(e){return e===t&&(e=this.options.value),this.indeterminate=e===!1,typeof e!="number"&&(e=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){e==="max"&&(t=Math.max(this.min,t)),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(n.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}})})(jQuery);
/*
Copyright (c) 2010 Ryan Schuft (ryan.schuft@gmail.com)

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
*/

/*
  This code is based in part on the work done in Ruby to support
  infection as part of Ruby on Rails in the ActiveSupport's Inflector
  and Inflections classes.  It was initally ported to Javascript by
  Ryan Schuft (ryan.schuft@gmail.com) in 2007.

  The code is available at http://code.google.com/p/inflection-js/

  The basic usage is:
    1. Include this script on your web page.
    2. Call functions on any String object in Javascript

  Currently implemented functions:

    String.pluralize(plural) == String
      renders a singular English language noun into its plural form
      normal results can be overridden by passing in an alternative

    String.singularize(singular) == String
      renders a plural English language noun into its singular form
      normal results can be overridden by passing in an alterative

    String.camelize(lowFirstLetter) == String
      renders a lower case underscored word into camel case
      the first letter of the result will be upper case unless you pass true
      also translates "/" into "::" (underscore does the opposite)

    String.underscore() == String
      renders a camel cased word into words seperated by underscores
      also translates "::" back into "/" (camelize does the opposite)

    String.humanize(lowFirstLetter) == String
      renders a lower case and underscored word into human readable form
      defaults to making the first letter capitalized unless you pass true

    String.capitalize() == String
      renders all characters to lower case and then makes the first upper

    String.dasherize() == String
      renders all underbars and spaces as dashes

    String.titleize() == String
      renders words into title casing (as for book titles)

    String.demodulize() == String
      renders class names that are prepended by modules into just the class

    String.tableize() == String
      renders camel cased singular words into their underscored plural form

    String.classify() == String
      renders an underscored plural word into its camel cased singular form

    String.foreign_key(dropIdUbar) == String
      renders a class name (camel cased singular noun) into a foreign key
      defaults to seperating the class from the id with an underbar unless
      you pass true

    String.ordinalize() == String
      renders all numbers found in the string into their sequence like "22nd"
*/
window&&!window.InflectionJS&&(window.InflectionJS=null); InflectionJS={uncountable_words:"equipment information rice money species series fish sheep moose deer news".split(" "),plural_rules:[[RegExp("(m)an$","gi"),"$1en"],[RegExp("(pe)rson$","gi"),"$1ople"],[RegExp("(child)$","gi"),"$1ren"],[RegExp("^(ox)$","gi"),"$1en"],[RegExp("(ax|test)is$","gi"),"$1es"],[RegExp("(octop|vir)us$","gi"),"$1i"],[RegExp("(alias|status)$","gi"),"$1es"],[RegExp("(bu)s$","gi"),"$1ses"],[RegExp("(buffal|tomat|potat)o$","gi"),"$1oes"],[RegExp("([ti])um$","gi"),"$1a"],[RegExp("sis$", "gi"),"ses"],[RegExp("(?:([^f])fe|([lr])f)$","gi"),"$1$2ves"],[RegExp("(hive)$","gi"),"$1s"],[RegExp("([^aeiouy]|qu)y$","gi"),"$1ies"],[RegExp("(x|ch|ss|sh)$","gi"),"$1es"],[RegExp("(matr|vert|ind)ix|ex$","gi"),"$1ices"],[RegExp("([m|l])ouse$","gi"),"$1ice"],[RegExp("(quiz)$","gi"),"$1zes"],[RegExp("s$","gi"),"s"],[RegExp("$","gi"),"s"]],singular_rules:[[RegExp("(m)en$","gi"),"$1an"],[RegExp("(pe)ople$","gi"),"$1rson"],[RegExp("(child)ren$","gi"),"$1"],[RegExp("([ti])a$","gi"),"$1um"],[RegExp("((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$", "gi"),"$1$2sis"],[RegExp("(hive)s$","gi"),"$1"],[RegExp("(tive)s$","gi"),"$1"],[RegExp("(curve)s$","gi"),"$1"],[RegExp("([lr])ves$","gi"),"$1f"],[RegExp("([^fo])ves$","gi"),"$1fe"],[RegExp("([^aeiouy]|qu)ies$","gi"),"$1y"],[RegExp("(s)eries$","gi"),"$1eries"],[RegExp("(m)ovies$","gi"),"$1ovie"],[RegExp("(x|ch|ss|sh)es$","gi"),"$1"],[RegExp("([m|l])ice$","gi"),"$1ouse"],[RegExp("(bus)es$","gi"),"$1"],[RegExp("(o)es$","gi"),"$1"],[RegExp("(shoe)s$","gi"),"$1"],[RegExp("(cris|ax|test)es$","gi"),"$1is"], [RegExp("(octop|vir)i$","gi"),"$1us"],[RegExp("(alias|status)es$","gi"),"$1"],[RegExp("^(ox)en","gi"),"$1"],[RegExp("(vert|ind)ices$","gi"),"$1ex"],[RegExp("(matr)ices$","gi"),"$1ix"],[RegExp("(quiz)zes$","gi"),"$1"],[RegExp("s$","gi"),""]],non_titlecased_words:"and or nor a an the so but to of at by from into on onto off out in over with for".split(" "),id_suffix:RegExp("(_ids|_id)$","g"),underbar:RegExp("_","g"),space_or_underbar:RegExp("[ _]","g"),uppercase:RegExp("([A-Z])","g"),underbar_prefix:/^_/, apply_rules:function(a,b,c,d){if(d)a=d;else if(!(-1<c.indexOf(a.toLowerCase())))for(c=0;c<b.length;c++)if(a.match(b[c][0])){a=a.replace(b[c][0],b[c][1]);break}return a}};Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b,c){b||(b=-1);for(var d=-1;b<this.length;b++)if(this[b]===a||c&&c(this[b],a)){d=b;break}return d});String.prototype._uncountable_words||(String.prototype._uncountable_words=InflectionJS.uncountable_words); String.prototype._plural_rules||(String.prototype._plural_rules=InflectionJS.plural_rules);String.prototype._singular_rules||(String.prototype._singular_rules=InflectionJS.singular_rules);String.prototype._non_titlecased_words||(String.prototype._non_titlecased_words=InflectionJS.non_titlecased_words);String.prototype.pluralize||(String.prototype.pluralize=function(a){return InflectionJS.apply_rules(this,this._plural_rules,this._uncountable_words,a)}); String.prototype.singularize||(String.prototype.singularize=function(a){return InflectionJS.apply_rules(this,this._singular_rules,this._uncountable_words,a)});String.prototype.camelize||(String.prototype.camelize=function(a){for(var b=this.toLowerCase(),b=b.split("/"),c=0;c<b.length;c++){for(var d=b[c].split("_"),e=a&&c+1===b.length?1:0;e<d.length;e++)d[e]=d[e].charAt(0).toUpperCase()+d[e].substring(1);b[c]=d.join("")}return b=b.join("::")}); String.prototype.underscore||(String.prototype.underscore=function(){var a;a=this.split("::");for(var b=0;b<a.length;b++)a[b]=a[b].replace(InflectionJS.uppercase,"_$1"),a[b]=a[b].replace(InflectionJS.underbar_prefix,"");return a=a.join("/").toLowerCase()});String.prototype.humanize||(String.prototype.humanize=function(a){var b=this.toLowerCase(),b=b.replace(InflectionJS.id_suffix,""),b=b.replace(InflectionJS.underbar," ");a||(b=b.capitalize());return b}); String.prototype.capitalize||(String.prototype.capitalize=function(){var a=this.toLowerCase();return a=a.substring(0,1).toUpperCase()+a.substring(1)});String.prototype.dasherize||(String.prototype.dasherize=function(){var a;return a=this.replace(InflectionJS.space_or_underbar,"-")}); String.prototype.titleize||(String.prototype.titleize=function(){for(var a=this.toLowerCase(),a=a.replace(InflectionJS.underbar," "),a=a.split(" "),b=0;b<a.length;b++){for(var c=a[b].split("-"),d=0;d<c.length;d++)0>this._non_titlecased_words.indexOf(c[d].toLowerCase())&&(c[d]=c[d].capitalize());a[b]=c.join("-")}a=a.join(" ");return a=a.substring(0,1).toUpperCase()+a.substring(1)});String.prototype.demodulize||(String.prototype.demodulize=function(){var a;a=this.split("::");return a=a[a.length-1]}); String.prototype.tableize||(String.prototype.tableize=function(){var a;return a=this.underscore().pluralize()});String.prototype.classify||(String.prototype.classify=function(){var a;return a=this.camelize().singularize()});String.prototype.foreign_key||(String.prototype.foreign_key=function(a){return a=this.demodulize().underscore()+(a?"":"_")+"id"}); String.prototype.ordinalize||(String.prototype.ordinalize=function(){var a;a=this.split(" ");for(var b=0;b<a.length;b++)if(NaN===parseInt(a[b])){var c=a[b].substring(a[b].length-2),d=a[b].substring(a[b].length-1),e="th";"11"!=c&&("12"!=c&&"13"!=c)&&("1"===d?e="st":"2"===d?e="nd":"3"===d&&(e="rd"));a[b]+=e}return a=a.join(" ")});

//     Backbone.js 1.2.3

//     (c) 2010-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Backbone may be freely distributed under the MIT license.
//     For all details and documentation:
//     http://backbonejs.org

(function(factory) {

  // Establish the root object, `window` (`self`) in the browser, or `global` on the server.
  // We use `self` instead of `window` for `WebWorker` support.
  var root = (typeof self == 'object' && self.self == self && self) ||
            (typeof global == 'object' && global.global == global && global);

  // Set up Backbone appropriately for the environment. Start with AMD.
  if (typeof define === 'function' && define.amd) {
    define(['underscore', 'jquery', 'exports'], function(_, $, exports) {
      // Export global even in AMD case in case this script is loaded with
      // others that may still expect a global Backbone.
      root.Backbone = factory(root, exports, _, $);
    });

  // Next for Node.js or CommonJS. jQuery may not be needed as a module.
  } else if (typeof exports !== 'undefined') {
    var _ = require('underscore'), $;
    try { $ = require('jquery'); } catch(e) {}
    factory(root, exports, _, $);

  // Finally, as a browser global.
  } else {
    root.Backbone = factory(root, {}, root._, (root.jQuery || root.Zepto || root.ender || root.$));
  }

}(function(root, Backbone, _, $) {

  // Initial Setup
  // -------------

  // Save the previous value of the `Backbone` variable, so that it can be
  // restored later on, if `noConflict` is used.
  var previousBackbone = root.Backbone;

  // Create a local reference to a common array method we'll want to use later.
  var slice = Array.prototype.slice;

  // Current version of the library. Keep in sync with `package.json`.
  Backbone.VERSION = '1.2.3';

  // For Backbone's purposes, jQuery, Zepto, Ender, or My Library (kidding) owns
  // the `$` variable.
  Backbone.$ = $;

  // Runs Backbone.js in *noConflict* mode, returning the `Backbone` variable
  // to its previous owner. Returns a reference to this Backbone object.
  Backbone.noConflict = function() {
    root.Backbone = previousBackbone;
    return this;
  };

  // Turn on `emulateHTTP` to support legacy HTTP servers. Setting this option
  // will fake `"PATCH"`, `"PUT"` and `"DELETE"` requests via the `_method` parameter and
  // set a `X-Http-Method-Override` header.
  Backbone.emulateHTTP = false;

  // Turn on `emulateJSON` to support legacy servers that can't deal with direct
  // `application/json` requests ... this will encode the body as
  // `application/x-www-form-urlencoded` instead and will send the model in a
  // form param named `model`.
  Backbone.emulateJSON = false;

  // Proxy Backbone class methods to Underscore functions, wrapping the model's
  // `attributes` object or collection's `models` array behind the scenes.
  //
  // collection.filter(function(model) { return model.get('age') > 10 });
  // collection.each(this.addView);
  //
  // `Function#apply` can be slow so we use the method's arg count, if we know it.
  var addMethod = function(length, method, attribute) {
    switch (length) {
      case 1: return function() {
        return _[method](this[attribute]);
      };
      case 2: return function(value) {
        return _[method](this[attribute], value);
      };
      case 3: return function(iteratee, context) {
        return _[method](this[attribute], cb(iteratee, this), context);
      };
      case 4: return function(iteratee, defaultVal, context) {
        return _[method](this[attribute], cb(iteratee, this), defaultVal, context);
      };
      default: return function() {
        var args = slice.call(arguments);
        args.unshift(this[attribute]);
        return _[method].apply(_, args);
      };
    }
  };
  var addUnderscoreMethods = function(Class, methods, attribute) {
    _.each(methods, function(length, method) {
      if (_[method]) Class.prototype[method] = addMethod(length, method, attribute);
    });
  };

  // Support `collection.sortBy('attr')` and `collection.findWhere({id: 1})`.
  var cb = function(iteratee, instance) {
    if (_.isFunction(iteratee)) return iteratee;
    if (_.isObject(iteratee) && !instance._isModel(iteratee)) return modelMatcher(iteratee);
    if (_.isString(iteratee)) return function(model) { return model.get(iteratee); };
    return iteratee;
  };
  var modelMatcher = function(attrs) {
    var matcher = _.matches(attrs);
    return function(model) {
      return matcher(model.attributes);
    };
  };

  // Backbone.Events
  // ---------------

  // A module that can be mixed in to *any object* in order to provide it with
  // a custom event channel. You may bind a callback to an event with `on` or
  // remove with `off`; `trigger`-ing an event fires all callbacks in
  // succession.
  //
  //     var object = {};
  //     _.extend(object, Backbone.Events);
  //     object.on('expand', function(){ alert('expanded'); });
  //     object.trigger('expand');
  //
  var Events = Backbone.Events = {};

  // Regular expression used to split event strings.
  var eventSplitter = /\s+/;

  // Iterates over the standard `event, callback` (as well as the fancy multiple
  // space-separated events `"change blur", callback` and jQuery-style event
  // maps `{event: callback}`).
  var eventsApi = function(iteratee, events, name, callback, opts) {
    var i = 0, names;
    if (name && typeof name === 'object') {
      // Handle event maps.
      if (callback !== void 0 && 'context' in opts && opts.context === void 0) opts.context = callback;
      for (names = _.keys(name); i < names.length ; i++) {
        events = eventsApi(iteratee, events, names[i], name[names[i]], opts);
      }
    } else if (name && eventSplitter.test(name)) {
      // Handle space separated event names by delegating them individually.
      for (names = name.split(eventSplitter); i < names.length; i++) {
        events = iteratee(events, names[i], callback, opts);
      }
    } else {
      // Finally, standard events.
      events = iteratee(events, name, callback, opts);
    }
    return events;
  };

  // Bind an event to a `callback` function. Passing `"all"` will bind
  // the callback to all events fired.
  Events.on = function(name, callback, context) {
    return internalOn(this, name, callback, context);
  };

  // Guard the `listening` argument from the public API.
  var internalOn = function(obj, name, callback, context, listening) {
    obj._events = eventsApi(onApi, obj._events || {}, name, callback, {
        context: context,
        ctx: obj,
        listening: listening
    });

    if (listening) {
      var listeners = obj._listeners || (obj._listeners = {});
      listeners[listening.id] = listening;
    }

    return obj;
  };

  // Inversion-of-control versions of `on`. Tell *this* object to listen to
  // an event in another object... keeping track of what it's listening to
  // for easier unbinding later.
  Events.listenTo =  function(obj, name, callback) {
    if (!obj) return this;
    var id = obj._listenId || (obj._listenId = _.uniqueId('l'));
    var listeningTo = this._listeningTo || (this._listeningTo = {});
    var listening = listeningTo[id];

    // This object is not listening to any other events on `obj` yet.
    // Setup the necessary references to track the listening callbacks.
    if (!listening) {
      var thisId = this._listenId || (this._listenId = _.uniqueId('l'));
      listening = listeningTo[id] = {obj: obj, objId: id, id: thisId, listeningTo: listeningTo, count: 0};
    }

    // Bind callbacks on obj, and keep track of them on listening.
    internalOn(obj, name, callback, this, listening);
    return this;
  };

  // The reducing API that adds a callback to the `events` object.
  var onApi = function(events, name, callback, options) {
    if (callback) {
      var handlers = events[name] || (events[name] = []);
      var context = options.context, ctx = options.ctx, listening = options.listening;
      if (listening) listening.count++;

      handlers.push({ callback: callback, context: context, ctx: context || ctx, listening: listening });
    }
    return events;
  };

  // Remove one or many callbacks. If `context` is null, removes all
  // callbacks with that function. If `callback` is null, removes all
  // callbacks for the event. If `name` is null, removes all bound
  // callbacks for all events.
  Events.off =  function(name, callback, context) {
    if (!this._events) return this;
    this._events = eventsApi(offApi, this._events, name, callback, {
        context: context,
        listeners: this._listeners
    });
    return this;
  };

  // Tell this object to stop listening to either specific events ... or
  // to every object it's currently listening to.
  Events.stopListening =  function(obj, name, callback) {
    var listeningTo = this._listeningTo;
    if (!listeningTo) return this;

    var ids = obj ? [obj._listenId] : _.keys(listeningTo);

    for (var i = 0; i < ids.length; i++) {
      var listening = listeningTo[ids[i]];

      // If listening doesn't exist, this object is not currently
      // listening to obj. Break out early.
      if (!listening) break;

      listening.obj.off(name, callback, this);
    }
    if (_.isEmpty(listeningTo)) this._listeningTo = void 0;

    return this;
  };

  // The reducing API that removes a callback from the `events` object.
  var offApi = function(events, name, callback, options) {
    if (!events) return;

    var i = 0, listening;
    var context = options.context, listeners = options.listeners;

    // Delete all events listeners and "drop" events.
    if (!name && !callback && !context) {
      var ids = _.keys(listeners);
      for (; i < ids.length; i++) {
        listening = listeners[ids[i]];
        delete listeners[listening.id];
        delete listening.listeningTo[listening.objId];
      }
      return;
    }

    var names = name ? [name] : _.keys(events);
    for (; i < names.length; i++) {
      name = names[i];
      var handlers = events[name];

      // Bail out if there are no events stored.
      if (!handlers) break;

      // Replace events if there are any remaining.  Otherwise, clean up.
      var remaining = [];
      for (var j = 0; j < handlers.length; j++) {
        var handler = handlers[j];
        if (
          callback && callback !== handler.callback &&
            callback !== handler.callback._callback ||
              context && context !== handler.context
        ) {
          remaining.push(handler);
        } else {
          listening = handler.listening;
          if (listening && --listening.count === 0) {
            delete listeners[listening.id];
            delete listening.listeningTo[listening.objId];
          }
        }
      }

      // Update tail event if the list has any events.  Otherwise, clean up.
      if (remaining.length) {
        events[name] = remaining;
      } else {
        delete events[name];
      }
    }
    if (_.size(events)) return events;
  };

  // Bind an event to only be triggered a single time. After the first time
  // the callback is invoked, its listener will be removed. If multiple events
  // are passed in using the space-separated syntax, the handler will fire
  // once for each event, not once for a combination of all events.
  Events.once =  function(name, callback, context) {
    // Map the event into a `{event: once}` object.
    var events = eventsApi(onceMap, {}, name, callback, _.bind(this.off, this));
    return this.on(events, void 0, context);
  };

  // Inversion-of-control versions of `once`.
  Events.listenToOnce =  function(obj, name, callback) {
    // Map the event into a `{event: once}` object.
    var events = eventsApi(onceMap, {}, name, callback, _.bind(this.stopListening, this, obj));
    return this.listenTo(obj, events);
  };

  // Reduces the event callbacks into a map of `{event: onceWrapper}`.
  // `offer` unbinds the `onceWrapper` after it has been called.
  var onceMap = function(map, name, callback, offer) {
    if (callback) {
      var once = map[name] = _.once(function() {
        offer(name, once);
        callback.apply(this, arguments);
      });
      once._callback = callback;
    }
    return map;
  };

  // Trigger one or many events, firing all bound callbacks. Callbacks are
  // passed the same arguments as `trigger` is, apart from the event name
  // (unless you're listening on `"all"`, which will cause your callback to
  // receive the true name of the event as the first argument).
  Events.trigger =  function(name) {
    if (!this._events) return this;

    var length = Math.max(0, arguments.length - 1);
    var args = Array(length);
    for (var i = 0; i < length; i++) args[i] = arguments[i + 1];

    eventsApi(triggerApi, this._events, name, void 0, args);
    return this;
  };

  // Handles triggering the appropriate event callbacks.
  var triggerApi = function(objEvents, name, cb, args) {
    if (objEvents) {
      var events = objEvents[name];
      var allEvents = objEvents.all;
      if (events && allEvents) allEvents = allEvents.slice();
      if (events) triggerEvents(events, args);
      if (allEvents) triggerEvents(allEvents, [name].concat(args));
    }
    return objEvents;
  };

  // A difficult-to-believe, but optimized internal dispatch function for
  // triggering events. Tries to keep the usual cases speedy (most internal
  // Backbone events have 3 arguments).
  var triggerEvents = function(events, args) {
    var ev, i = -1, l = events.length, a1 = args[0], a2 = args[1], a3 = args[2];
    switch (args.length) {
      case 0: while (++i < l) (ev = events[i]).callback.call(ev.ctx); return;
      case 1: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1); return;
      case 2: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2); return;
      case 3: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2, a3); return;
      default: while (++i < l) (ev = events[i]).callback.apply(ev.ctx, args); return;
    }
  };

  // Aliases for backwards compatibility.
  Events.bind   = Events.on;
  Events.unbind = Events.off;

  // Allow the `Backbone` object to serve as a global event bus, for folks who
  // want global "pubsub" in a convenient place.
  _.extend(Backbone, Events);

  // Backbone.Model
  // --------------

  // Backbone **Models** are the basic data object in the framework --
  // frequently representing a row in a table in a database on your server.
  // A discrete chunk of data and a bunch of useful, related methods for
  // performing computations and transformations on that data.

  // Create a new model with the specified attributes. A client id (`cid`)
  // is automatically generated and assigned for you.
  var Model = Backbone.Model = function(attributes, options) {
    var attrs = attributes || {};
    options || (options = {});
    this.cid = _.uniqueId(this.cidPrefix);
    this.attributes = {};
    if (options.collection) this.collection = options.collection;
    if (options.parse) attrs = this.parse(attrs, options) || {};
    attrs = _.defaults({}, attrs, _.result(this, 'defaults'));
    this.set(attrs, options);
    this.changed = {};
    this.initialize.apply(this, arguments);
  };

  // Attach all inheritable methods to the Model prototype.
  _.extend(Model.prototype, Events, {

    // A hash of attributes whose current and previous value differ.
    changed: null,

    // The value returned during the last failed validation.
    validationError: null,

    // The default name for the JSON `id` attribute is `"id"`. MongoDB and
    // CouchDB users may want to set this to `"_id"`.
    idAttribute: 'id',

    // The prefix is used to create the client id which is used to identify models locally.
    // You may want to override this if you're experiencing name clashes with model ids.
    cidPrefix: 'c',

    // Initialize is an empty function by default. Override it with your own
    // initialization logic.
    initialize: function(){},

    // Return a copy of the model's `attributes` object.
    toJSON: function(options) {
      return _.clone(this.attributes);
    },

    // Proxy `Backbone.sync` by default -- but override this if you need
    // custom syncing semantics for *this* particular model.
    sync: function() {
      return Backbone.sync.apply(this, arguments);
    },

    // Get the value of an attribute.
    get: function(attr) {
      return this.attributes[attr];
    },

    // Get the HTML-escaped value of an attribute.
    escape: function(attr) {
      return _.escape(this.get(attr));
    },

    // Returns `true` if the attribute contains a value that is not null
    // or undefined.
    has: function(attr) {
      return this.get(attr) != null;
    },

    // Special-cased proxy to underscore's `_.matches` method.
    matches: function(attrs) {
      return !!_.iteratee(attrs, this)(this.attributes);
    },

    // Set a hash of model attributes on the object, firing `"change"`. This is
    // the core primitive operation of a model, updating the data and notifying
    // anyone who needs to know about the change in state. The heart of the beast.
    set: function(key, val, options) {
      if (key == null) return this;

      // Handle both `"key", value` and `{key: value}` -style arguments.
      var attrs;
      if (typeof key === 'object') {
        attrs = key;
        options = val;
      } else {
        (attrs = {})[key] = val;
      }

      options || (options = {});

      // Run validation.
      if (!this._validate(attrs, options)) return false;

      // Extract attributes and options.
      var unset      = options.unset;
      var silent     = options.silent;
      var changes    = [];
      var changing   = this._changing;
      this._changing = true;

      if (!changing) {
        this._previousAttributes = _.clone(this.attributes);
        this.changed = {};
      }

      var current = this.attributes;
      var changed = this.changed;
      var prev    = this._previousAttributes;

      // For each `set` attribute, update or delete the current value.
      for (var attr in attrs) {
        val = attrs[attr];
        if (!_.isEqual(current[attr], val)) changes.push(attr);
        if (!_.isEqual(prev[attr], val)) {
          changed[attr] = val;
        } else {
          delete changed[attr];
        }
        unset ? delete current[attr] : current[attr] = val;
      }

      // Update the `id`.
      this.id = this.get(this.idAttribute);

      // Trigger all relevant attribute changes.
      if (!silent) {
        if (changes.length) this._pending = options;
        for (var i = 0; i < changes.length; i++) {
          this.trigger('change:' + changes[i], this, current[changes[i]], options);
        }
      }

      // You might be wondering why there's a `while` loop here. Changes can
      // be recursively nested within `"change"` events.
      if (changing) return this;
      if (!silent) {
        while (this._pending) {
          options = this._pending;
          this._pending = false;
          this.trigger('change', this, options);
        }
      }
      this._pending = false;
      this._changing = false;
      return this;
    },

    // Remove an attribute from the model, firing `"change"`. `unset` is a noop
    // if the attribute doesn't exist.
    unset: function(attr, options) {
      return this.set(attr, void 0, _.extend({}, options, {unset: true}));
    },

    // Clear all attributes on the model, firing `"change"`.
    clear: function(options) {
      var attrs = {};
      for (var key in this.attributes) attrs[key] = void 0;
      return this.set(attrs, _.extend({}, options, {unset: true}));
    },

    // Determine if the model has changed since the last `"change"` event.
    // If you specify an attribute name, determine if that attribute has changed.
    hasChanged: function(attr) {
      if (attr == null) return !_.isEmpty(this.changed);
      return _.has(this.changed, attr);
    },

    // Return an object containing all the attributes that have changed, or
    // false if there are no changed attributes. Useful for determining what
    // parts of a view need to be updated and/or what attributes need to be
    // persisted to the server. Unset attributes will be set to undefined.
    // You can also pass an attributes object to diff against the model,
    // determining if there *would be* a change.
    changedAttributes: function(diff) {
      if (!diff) return this.hasChanged() ? _.clone(this.changed) : false;
      var old = this._changing ? this._previousAttributes : this.attributes;
      var changed = {};
      for (var attr in diff) {
        var val = diff[attr];
        if (_.isEqual(old[attr], val)) continue;
        changed[attr] = val;
      }
      return _.size(changed) ? changed : false;
    },

    // Get the previous value of an attribute, recorded at the time the last
    // `"change"` event was fired.
    previous: function(attr) {
      if (attr == null || !this._previousAttributes) return null;
      return this._previousAttributes[attr];
    },

    // Get all of the attributes of the model at the time of the previous
    // `"change"` event.
    previousAttributes: function() {
      return _.clone(this._previousAttributes);
    },

    // Fetch the model from the server, merging the response with the model's
    // local attributes. Any changed attributes will trigger a "change" event.
    fetch: function(options) {
      options = _.extend({parse: true}, options);
      var model = this;
      var success = options.success;
      options.success = function(resp) {
        var serverAttrs = options.parse ? model.parse(resp, options) : resp;
        if (!model.set(serverAttrs, options)) return false;
        if (success) success.call(options.context, model, resp, options);
        model.trigger('sync', model, resp, options);
      };
      wrapError(this, options);
      return this.sync('read', this, options);
    },

    // Set a hash of model attributes, and sync the model to the server.
    // If the server returns an attributes hash that differs, the model's
    // state will be `set` again.
    save: function(key, val, options) {
      // Handle both `"key", value` and `{key: value}` -style arguments.
      var attrs;
      if (key == null || typeof key === 'object') {
        attrs = key;
        options = val;
      } else {
        (attrs = {})[key] = val;
      }

      options = _.extend({validate: true, parse: true}, options);
      var wait = options.wait;

      // If we're not waiting and attributes exist, save acts as
      // `set(attr).save(null, opts)` with validation. Otherwise, check if
      // the model will be valid when the attributes, if any, are set.
      if (attrs && !wait) {
        if (!this.set(attrs, options)) return false;
      } else {
        if (!this._validate(attrs, options)) return false;
      }

      // After a successful server-side save, the client is (optionally)
      // updated with the server-side state.
      var model = this;
      var success = options.success;
      var attributes = this.attributes;
      options.success = function(resp) {
        // Ensure attributes are restored during synchronous saves.
        model.attributes = attributes;
        var serverAttrs = options.parse ? model.parse(resp, options) : resp;
        if (wait) serverAttrs = _.extend({}, attrs, serverAttrs);
        if (serverAttrs && !model.set(serverAttrs, options)) return false;
        if (success) success.call(options.context, model, resp, options);
        model.trigger('sync', model, resp, options);
      };
      wrapError(this, options);

      // Set temporary attributes if `{wait: true}` to properly find new ids.
      if (attrs && wait) this.attributes = _.extend({}, attributes, attrs);

      var method = this.isNew() ? 'create' : (options.patch ? 'patch' : 'update');
      if (method === 'patch' && !options.attrs) options.attrs = attrs;
      var xhr = this.sync(method, this, options);

      // Restore attributes.
      this.attributes = attributes;

      return xhr;
    },

    // Destroy this model on the server if it was already persisted.
    // Optimistically removes the model from its collection, if it has one.
    // If `wait: true` is passed, waits for the server to respond before removal.
    destroy: function(options) {
      options = options ? _.clone(options) : {};
      var model = this;
      var success = options.success;
      var wait = options.wait;

      var destroy = function() {
        model.stopListening();
        model.trigger('destroy', model, model.collection, options);
      };

      options.success = function(resp) {
        if (wait) destroy();
        if (success) success.call(options.context, model, resp, options);
        if (!model.isNew()) model.trigger('sync', model, resp, options);
      };

      var xhr = false;
      if (this.isNew()) {
        _.defer(options.success);
      } else {
        wrapError(this, options);
        xhr = this.sync('delete', this, options);
      }
      if (!wait) destroy();
      return xhr;
    },

    // Default URL for the model's representation on the server -- if you're
    // using Backbone's restful methods, override this to change the endpoint
    // that will be called.
    url: function() {
      var base =
        _.result(this, 'urlRoot') ||
        _.result(this.collection, 'url') ||
        urlError();
      if (this.isNew()) return base;
      var id = this.get(this.idAttribute);
      return base.replace(/[^\/]$/, '$&/') + encodeURIComponent(id);
    },

    // **parse** converts a response into the hash of attributes to be `set` on
    // the model. The default implementation is just to pass the response along.
    parse: function(resp, options) {
      return resp;
    },

    // Create a new model with identical attributes to this one.
    clone: function() {
      return new this.constructor(this.attributes);
    },

    // A model is new if it has never been saved to the server, and lacks an id.
    isNew: function() {
      return !this.has(this.idAttribute);
    },

    // Check if the model is currently in a valid state.
    isValid: function(options) {
      return this._validate({}, _.defaults({validate: true}, options));
    },

    // Run validation against the next complete set of model attributes,
    // returning `true` if all is well. Otherwise, fire an `"invalid"` event.
    _validate: function(attrs, options) {
      if (!options.validate || !this.validate) return true;
      attrs = _.extend({}, this.attributes, attrs);
      var error = this.validationError = this.validate(attrs, options) || null;
      if (!error) return true;
      this.trigger('invalid', this, error, _.extend(options, {validationError: error}));
      return false;
    }

  });

  // Underscore methods that we want to implement on the Model, mapped to the
  // number of arguments they take.
  var modelMethods = { keys: 1, values: 1, pairs: 1, invert: 1, pick: 0,
      omit: 0, chain: 1, isEmpty: 1 };

  // Mix in each Underscore method as a proxy to `Model#attributes`.
  addUnderscoreMethods(Model, modelMethods, 'attributes');

  // Backbone.Collection
  // -------------------

  // If models tend to represent a single row of data, a Backbone Collection is
  // more analogous to a table full of data ... or a small slice or page of that
  // table, or a collection of rows that belong together for a particular reason
  // -- all of the messages in this particular folder, all of the documents
  // belonging to this particular author, and so on. Collections maintain
  // indexes of their models, both in order, and for lookup by `id`.

  // Create a new **Collection**, perhaps to contain a specific type of `model`.
  // If a `comparator` is specified, the Collection will maintain
  // its models in sort order, as they're added and removed.
  var Collection = Backbone.Collection = function(models, options) {
    options || (options = {});
    if (options.model) this.model = options.model;
    if (options.comparator !== void 0) this.comparator = options.comparator;
    this._reset();
    this.initialize.apply(this, arguments);
    if (models) this.reset(models, _.extend({silent: true}, options));
  };

  // Default options for `Collection#set`.
  var setOptions = {add: true, remove: true, merge: true};
  var addOptions = {add: true, remove: false};

  // Splices `insert` into `array` at index `at`.
  var splice = function(array, insert, at) {
    at = Math.min(Math.max(at, 0), array.length);
    var tail = Array(array.length - at);
    var length = insert.length;
    for (var i = 0; i < tail.length; i++) tail[i] = array[i + at];
    for (i = 0; i < length; i++) array[i + at] = insert[i];
    for (i = 0; i < tail.length; i++) array[i + length + at] = tail[i];
  };

  // Define the Collection's inheritable methods.
  _.extend(Collection.prototype, Events, {

    // The default model for a collection is just a **Backbone.Model**.
    // This should be overridden in most cases.
    model: Model,

    // Initialize is an empty function by default. Override it with your own
    // initialization logic.
    initialize: function(){},

    // The JSON representation of a Collection is an array of the
    // models' attributes.
    toJSON: function(options) {
      return this.map(function(model) { return model.toJSON(options); });
    },

    // Proxy `Backbone.sync` by default.
    sync: function() {
      return Backbone.sync.apply(this, arguments);
    },

    // Add a model, or list of models to the set. `models` may be Backbone
    // Models or raw JavaScript objects to be converted to Models, or any
    // combination of the two.
    add: function(models, options) {
      return this.set(models, _.extend({merge: false}, options, addOptions));
    },

    // Remove a model, or a list of models from the set.
    remove: function(models, options) {
      options = _.extend({}, options);
      var singular = !_.isArray(models);
      models = singular ? [models] : _.clone(models);
      var removed = this._removeModels(models, options);
      if (!options.silent && removed) this.trigger('update', this, options);
      return singular ? removed[0] : removed;
    },

    // Update a collection by `set`-ing a new list of models, adding new ones,
    // removing models that are no longer present, and merging models that
    // already exist in the collection, as necessary. Similar to **Model#set**,
    // the core operation for updating the data contained by the collection.
    set: function(models, options) {
      if (models == null) return;

      options = _.defaults({}, options, setOptions);
      if (options.parse && !this._isModel(models)) models = this.parse(models, options);

      var singular = !_.isArray(models);
      models = singular ? [models] : models.slice();

      var at = options.at;
      if (at != null) at = +at;
      if (at < 0) at += this.length + 1;

      var set = [];
      var toAdd = [];
      var toRemove = [];
      var modelMap = {};

      var add = options.add;
      var merge = options.merge;
      var remove = options.remove;

      var sort = false;
      var sortable = this.comparator && (at == null) && options.sort !== false;
      var sortAttr = _.isString(this.comparator) ? this.comparator : null;

      // Turn bare objects into model references, and prevent invalid models
      // from being added.
      var model;
      for (var i = 0; i < models.length; i++) {
        model = models[i];

        // If a duplicate is found, prevent it from being added and
        // optionally merge it into the existing model.
        var existing = this.get(model);
        if (existing) {
          if (merge && model !== existing) {
            var attrs = this._isModel(model) ? model.attributes : model;
            if (options.parse) attrs = existing.parse(attrs, options);
            existing.set(attrs, options);
            if (sortable && !sort) sort = existing.hasChanged(sortAttr);
          }
          if (!modelMap[existing.cid]) {
            modelMap[existing.cid] = true;
            set.push(existing);
          }
          models[i] = existing;

        // If this is a new, valid model, push it to the `toAdd` list.
        } else if (add) {
          model = models[i] = this._prepareModel(model, options);
          if (model) {
            toAdd.push(model);
            this._addReference(model, options);
            modelMap[model.cid] = true;
            set.push(model);
          }
        }
      }

      // Remove stale models.
      if (remove) {
        for (i = 0; i < this.length; i++) {
          model = this.models[i];
          if (!modelMap[model.cid]) toRemove.push(model);
        }
        if (toRemove.length) this._removeModels(toRemove, options);
      }

      // See if sorting is needed, update `length` and splice in new models.
      var orderChanged = false;
      var replace = !sortable && add && remove;
      if (set.length && replace) {
        orderChanged = this.length != set.length || _.some(this.models, function(model, index) {
          return model !== set[index];
        });
        this.models.length = 0;
        splice(this.models, set, 0);
        this.length = this.models.length;
      } else if (toAdd.length) {
        if (sortable) sort = true;
        splice(this.models, toAdd, at == null ? this.length : at);
        this.length = this.models.length;
      }

      // Silently sort the collection if appropriate.
      if (sort) this.sort({silent: true});

      // Unless silenced, it's time to fire all appropriate add/sort events.
      if (!options.silent) {
        for (i = 0; i < toAdd.length; i++) {
          if (at != null) options.index = at + i;
          model = toAdd[i];
          model.trigger('add', model, this, options);
        }
        if (sort || orderChanged) this.trigger('sort', this, options);
        if (toAdd.length || toRemove.length) this.trigger('update', this, options);
      }

      // Return the added (or merged) model (or models).
      return singular ? models[0] : models;
    },

    // When you have more items than you want to add or remove individually,
    // you can reset the entire set with a new list of models, without firing
    // any granular `add` or `remove` events. Fires `reset` when finished.
    // Useful for bulk operations and optimizations.
    reset: function(models, options) {
      options = options ? _.clone(options) : {};
      for (var i = 0; i < this.models.length; i++) {
        this._removeReference(this.models[i], options);
      }
      options.previousModels = this.models;
      this._reset();
      models = this.add(models, _.extend({silent: true}, options));
      if (!options.silent) this.trigger('reset', this, options);
      return models;
    },

    // Add a model to the end of the collection.
    push: function(model, options) {
      return this.add(model, _.extend({at: this.length}, options));
    },

    // Remove a model from the end of the collection.
    pop: function(options) {
      var model = this.at(this.length - 1);
      return this.remove(model, options);
    },

    // Add a model to the beginning of the collection.
    unshift: function(model, options) {
      return this.add(model, _.extend({at: 0}, options));
    },

    // Remove a model from the beginning of the collection.
    shift: function(options) {
      var model = this.at(0);
      return this.remove(model, options);
    },

    // Slice out a sub-array of models from the collection.
    slice: function() {
      return slice.apply(this.models, arguments);
    },

    // Get a model from the set by id.
    get: function(obj) {
      if (obj == null) return void 0;
      var id = this.modelId(this._isModel(obj) ? obj.attributes : obj);
      return this._byId[obj] || this._byId[id] || this._byId[obj.cid];
    },

    // Get the model at the given index.
    at: function(index) {
      if (index < 0) index += this.length;
      return this.models[index];
    },

    // Return models with matching attributes. Useful for simple cases of
    // `filter`.
    where: function(attrs, first) {
      return this[first ? 'find' : 'filter'](attrs);
    },

    // Return the first model with matching attributes. Useful for simple cases
    // of `find`.
    findWhere: function(attrs) {
      return this.where(attrs, true);
    },

    // Force the collection to re-sort itself. You don't need to call this under
    // normal circumstances, as the set will maintain sort order as each item
    // is added.
    sort: function(options) {
      var comparator = this.comparator;
      if (!comparator) throw new Error('Cannot sort a set without a comparator');
      options || (options = {});

      var length = comparator.length;
      if (_.isFunction(comparator)) comparator = _.bind(comparator, this);

      // Run sort based on type of `comparator`.
      if (length === 1 || _.isString(comparator)) {
        this.models = this.sortBy(comparator);
      } else {
        this.models.sort(comparator);
      }
      if (!options.silent) this.trigger('sort', this, options);
      return this;
    },

    // Pluck an attribute from each model in the collection.
    pluck: function(attr) {
      return _.invoke(this.models, 'get', attr);
    },

    // Fetch the default set of models for this collection, resetting the
    // collection when they arrive. If `reset: true` is passed, the response
    // data will be passed through the `reset` method instead of `set`.
    fetch: function(options) {
      options = _.extend({parse: true}, options);
      var success = options.success;
      var collection = this;
      options.success = function(resp) {
        var method = options.reset ? 'reset' : 'set';
        collection[method](resp, options);
        if (success) success.call(options.context, collection, resp, options);
        collection.trigger('sync', collection, resp, options);
      };
      wrapError(this, options);
      return this.sync('read', this, options);
    },

    // Create a new instance of a model in this collection. Add the model to the
    // collection immediately, unless `wait: true` is passed, in which case we
    // wait for the server to agree.
    create: function(model, options) {
      options = options ? _.clone(options) : {};
      var wait = options.wait;
      model = this._prepareModel(model, options);
      if (!model) return false;
      if (!wait) this.add(model, options);
      var collection = this;
      var success = options.success;
      options.success = function(model, resp, callbackOpts) {
        if (wait) collection.add(model, callbackOpts);
        if (success) success.call(callbackOpts.context, model, resp, callbackOpts);
      };
      model.save(null, options);
      return model;
    },

    // **parse** converts a response into a list of models to be added to the
    // collection. The default implementation is just to pass it through.
    parse: function(resp, options) {
      return resp;
    },

    // Create a new collection with an identical list of models as this one.
    clone: function() {
      return new this.constructor(this.models, {
        model: this.model,
        comparator: this.comparator
      });
    },

    // Define how to uniquely identify models in the collection.
    modelId: function (attrs) {
      return attrs[this.model.prototype.idAttribute || 'id'];
    },

    // Private method to reset all internal state. Called when the collection
    // is first initialized or reset.
    _reset: function() {
      this.length = 0;
      this.models = [];
      this._byId  = {};
    },

    // Prepare a hash of attributes (or other model) to be added to this
    // collection.
    _prepareModel: function(attrs, options) {
      if (this._isModel(attrs)) {
        if (!attrs.collection) attrs.collection = this;
        return attrs;
      }
      options = options ? _.clone(options) : {};
      options.collection = this;
      var model = new this.model(attrs, options);
      if (!model.validationError) return model;
      this.trigger('invalid', this, model.validationError, options);
      return false;
    },

    // Internal method called by both remove and set.
    _removeModels: function(models, options) {
      var removed = [];
      for (var i = 0; i < models.length; i++) {
        var model = this.get(models[i]);
        if (!model) continue;

        var index = this.indexOf(model);
        this.models.splice(index, 1);
        this.length--;

        if (!options.silent) {
          options.index = index;
          model.trigger('remove', model, this, options);
        }

        removed.push(model);
        this._removeReference(model, options);
      }
      return removed.length ? removed : false;
    },

    // Method for checking whether an object should be considered a model for
    // the purposes of adding to the collection.
    _isModel: function (model) {
      return model instanceof Model;
    },

    // Internal method to create a model's ties to a collection.
    _addReference: function(model, options) {
      this._byId[model.cid] = model;
      var id = this.modelId(model.attributes);
      if (id != null) this._byId[id] = model;
      model.on('all', this._onModelEvent, this);
    },

    // Internal method to sever a model's ties to a collection.
    _removeReference: function(model, options) {
      delete this._byId[model.cid];
      var id = this.modelId(model.attributes);
      if (id != null) delete this._byId[id];
      if (this === model.collection) delete model.collection;
      model.off('all', this._onModelEvent, this);
    },

    // Internal method called every time a model in the set fires an event.
    // Sets need to update their indexes when models change ids. All other
    // events simply proxy through. "add" and "remove" events that originate
    // in other collections are ignored.
    _onModelEvent: function(event, model, collection, options) {
      if ((event === 'add' || event === 'remove') && collection !== this) return;
      if (event === 'destroy') this.remove(model, options);
      if (event === 'change') {
        var prevId = this.modelId(model.previousAttributes());
        var id = this.modelId(model.attributes);
        if (prevId !== id) {
          if (prevId != null) delete this._byId[prevId];
          if (id != null) this._byId[id] = model;
        }
      }
      this.trigger.apply(this, arguments);
    }

  });

  // Underscore methods that we want to implement on the Collection.
  // 90% of the core usefulness of Backbone Collections is actually implemented
  // right here:
  var collectionMethods = { forEach: 3, each: 3, map: 3, collect: 3, reduce: 4,
      foldl: 4, inject: 4, reduceRight: 4, foldr: 4, find: 3, detect: 3, filter: 3,
      select: 3, reject: 3, every: 3, all: 3, some: 3, any: 3, include: 3, includes: 3,
      contains: 3, invoke: 0, max: 3, min: 3, toArray: 1, size: 1, first: 3,
      head: 3, take: 3, initial: 3, rest: 3, tail: 3, drop: 3, last: 3,
      without: 0, difference: 0, indexOf: 3, shuffle: 1, lastIndexOf: 3,
      isEmpty: 1, chain: 1, sample: 3, partition: 3, groupBy: 3, countBy: 3,
      sortBy: 3, indexBy: 3};

  // Mix in each Underscore method as a proxy to `Collection#models`.
  addUnderscoreMethods(Collection, collectionMethods, 'models');

  // Backbone.View
  // -------------

  // Backbone Views are almost more convention than they are actual code. A View
  // is simply a JavaScript object that represents a logical chunk of UI in the
  // DOM. This might be a single item, an entire list, a sidebar or panel, or
  // even the surrounding frame which wraps your whole app. Defining a chunk of
  // UI as a **View** allows you to define your DOM events declaratively, without
  // having to worry about render order ... and makes it easy for the view to
  // react to specific changes in the state of your models.

  // Creating a Backbone.View creates its initial element outside of the DOM,
  // if an existing element is not provided...
  var View = Backbone.View = function(options) {
    this.cid = _.uniqueId('view');
    _.extend(this, _.pick(options, viewOptions));
    this._ensureElement();
    this.initialize.apply(this, arguments);
  };

  // Cached regex to split keys for `delegate`.
  var delegateEventSplitter = /^(\S+)\s*(.*)$/;

  // List of view options to be set as properties.
  var viewOptions = ['model', 'collection', 'el', 'id', 'attributes', 'className', 'tagName', 'events'];

  // Set up all inheritable **Backbone.View** properties and methods.
  _.extend(View.prototype, Events, {

    // The default `tagName` of a View's element is `"div"`.
    tagName: 'div',

    // jQuery delegate for element lookup, scoped to DOM elements within the
    // current view. This should be preferred to global lookups where possible.
    $: function(selector) {
      return this.$el.find(selector);
    },

    // Initialize is an empty function by default. Override it with your own
    // initialization logic.
    initialize: function(){},

    // **render** is the core function that your view should override, in order
    // to populate its element (`this.el`), with the appropriate HTML. The
    // convention is for **render** to always return `this`.
    render: function() {
      return this;
    },

    // Remove this view by taking the element out of the DOM, and removing any
    // applicable Backbone.Events listeners.
    remove: function() {
      this._removeElement();
      this.stopListening();
      return this;
    },

    // Remove this view's element from the document and all event listeners
    // attached to it. Exposed for subclasses using an alternative DOM
    // manipulation API.
    _removeElement: function() {
      this.$el.remove();
    },

    // Change the view's element (`this.el` property) and re-delegate the
    // view's events on the new element.
    setElement: function(element) {
      this.undelegateEvents();
      this._setElement(element);
      this.delegateEvents();
      return this;
    },

    // Creates the `this.el` and `this.$el` references for this view using the
    // given `el`. `el` can be a CSS selector or an HTML string, a jQuery
    // context or an element. Subclasses can override this to utilize an
    // alternative DOM manipulation API and are only required to set the
    // `this.el` property.
    _setElement: function(el) {
      this.$el = el instanceof Backbone.$ ? el : Backbone.$(el);
      this.el = this.$el[0];
    },

    // Set callbacks, where `this.events` is a hash of
    //
    // *{"event selector": "callback"}*
    //
    //     {
    //       'mousedown .title':  'edit',
    //       'click .button':     'save',
    //       'click .open':       function(e) { ... }
    //     }
    //
    // pairs. Callbacks will be bound to the view, with `this` set properly.
    // Uses event delegation for efficiency.
    // Omitting the selector binds the event to `this.el`.
    delegateEvents: function(events) {
      events || (events = _.result(this, 'events'));
      if (!events) return this;
      this.undelegateEvents();
      for (var key in events) {
        var method = events[key];
        if (!_.isFunction(method)) method = this[method];
        if (!method) continue;
        var match = key.match(delegateEventSplitter);
        this.delegate(match[1], match[2], _.bind(method, this));
      }
      return this;
    },

    // Add a single event listener to the view's element (or a child element
    // using `selector`). This only works for delegate-able events: not `focus`,
    // `blur`, and not `change`, `submit`, and `reset` in Internet Explorer.
    delegate: function(eventName, selector, listener) {
      this.$el.on(eventName + '.delegateEvents' + this.cid, selector, listener);
      return this;
    },

    // Clears all callbacks previously bound to the view by `delegateEvents`.
    // You usually don't need to use this, but may wish to if you have multiple
    // Backbone views attached to the same DOM element.
    undelegateEvents: function() {
      if (this.$el) this.$el.off('.delegateEvents' + this.cid);
      return this;
    },

    // A finer-grained `undelegateEvents` for removing a single delegated event.
    // `selector` and `listener` are both optional.
    undelegate: function(eventName, selector, listener) {
      this.$el.off(eventName + '.delegateEvents' + this.cid, selector, listener);
      return this;
    },

    // Produces a DOM element to be assigned to your view. Exposed for
    // subclasses using an alternative DOM manipulation API.
    _createElement: function(tagName) {
      return document.createElement(tagName);
    },

    // Ensure that the View has a DOM element to render into.
    // If `this.el` is a string, pass it through `$()`, take the first
    // matching element, and re-assign it to `el`. Otherwise, create
    // an element from the `id`, `className` and `tagName` properties.
    _ensureElement: function() {
      if (!this.el) {
        var attrs = _.extend({}, _.result(this, 'attributes'));
        if (this.id) attrs.id = _.result(this, 'id');
        if (this.className) attrs['class'] = _.result(this, 'className');
        this.setElement(this._createElement(_.result(this, 'tagName')));
        this._setAttributes(attrs);
      } else {
        this.setElement(_.result(this, 'el'));
      }
    },

    // Set attributes from a hash on this view's element.  Exposed for
    // subclasses using an alternative DOM manipulation API.
    _setAttributes: function(attributes) {
      this.$el.attr(attributes);
    }

  });

  // Backbone.sync
  // -------------

  // Override this function to change the manner in which Backbone persists
  // models to the server. You will be passed the type of request, and the
  // model in question. By default, makes a RESTful Ajax request
  // to the model's `url()`. Some possible customizations could be:
  //
  // * Use `setTimeout` to batch rapid-fire updates into a single request.
  // * Send up the models as XML instead of JSON.
  // * Persist models via WebSockets instead of Ajax.
  //
  // Turn on `Backbone.emulateHTTP` in order to send `PUT` and `DELETE` requests
  // as `POST`, with a `_method` parameter containing the true HTTP method,
  // as well as all requests with the body as `application/x-www-form-urlencoded`
  // instead of `application/json` with the model in a param named `model`.
  // Useful when interfacing with server-side languages like **PHP** that make
  // it difficult to read the body of `PUT` requests.
  Backbone.sync = function(method, model, options) {
    var type = methodMap[method];

    // Default options, unless specified.
    _.defaults(options || (options = {}), {
      emulateHTTP: Backbone.emulateHTTP,
      emulateJSON: Backbone.emulateJSON
    });

    // Default JSON-request options.
    var params = {type: type, dataType: 'json'};

    // Ensure that we have a URL.
    if (!options.url) {
      params.url = _.result(model, 'url') || urlError();
    }

    // Ensure that we have the appropriate request data.
    if (options.data == null && model && (method === 'create' || method === 'update' || method === 'patch')) {
      params.contentType = 'application/json';
      params.data = JSON.stringify(options.attrs || model.toJSON(options));
    }

    // For older servers, emulate JSON by encoding the request into an HTML-form.
    if (options.emulateJSON) {
      params.contentType = 'application/x-www-form-urlencoded';
      params.data = params.data ? {model: params.data} : {};
    }

    // For older servers, emulate HTTP by mimicking the HTTP method with `_method`
    // And an `X-HTTP-Method-Override` header.
    if (options.emulateHTTP && (type === 'PUT' || type === 'DELETE' || type === 'PATCH')) {
      params.type = 'POST';
      if (options.emulateJSON) params.data._method = type;
      var beforeSend = options.beforeSend;
      options.beforeSend = function(xhr) {
        xhr.setRequestHeader('X-HTTP-Method-Override', type);
        if (beforeSend) return beforeSend.apply(this, arguments);
      };
    }

    // Don't process data on a non-GET request.
    if (params.type !== 'GET' && !options.emulateJSON) {
      params.processData = false;
    }

    // Pass along `textStatus` and `errorThrown` from jQuery.
    var error = options.error;
    options.error = function(xhr, textStatus, errorThrown) {
      options.textStatus = textStatus;
      options.errorThrown = errorThrown;
      if (error) error.call(options.context, xhr, textStatus, errorThrown);
    };

    // Make the request, allowing the user to override any Ajax options.
    var xhr = options.xhr = Backbone.ajax(_.extend(params, options));
    model.trigger('request', model, xhr, options);
    return xhr;
  };

  // Map from CRUD to HTTP for our default `Backbone.sync` implementation.
  var methodMap = {
    'create': 'POST',
    'update': 'PUT',
    'patch':  'PATCH',
    'delete': 'DELETE',
    'read':   'GET'
  };

  // Set the default implementation of `Backbone.ajax` to proxy through to `$`.
  // Override this if you'd like to use a different library.
  Backbone.ajax = function() {
    return Backbone.$.ajax.apply(Backbone.$, arguments);
  };

  // Backbone.Router
  // ---------------

  // Routers map faux-URLs to actions, and fire events when routes are
  // matched. Creating a new one sets its `routes` hash, if not set statically.
  var Router = Backbone.Router = function(options) {
    options || (options = {});
    if (options.routes) this.routes = options.routes;
    this._bindRoutes();
    this.initialize.apply(this, arguments);
  };

  // Cached regular expressions for matching named param parts and splatted
  // parts of route strings.
  var optionalParam = /\((.*?)\)/g;
  var namedParam    = /(\(\?)?:\w+/g;
  var splatParam    = /\*\w+/g;
  var escapeRegExp  = /[\-{}\[\]+?.,\\\^$|#\s]/g;

  // Set up all inheritable **Backbone.Router** properties and methods.
  _.extend(Router.prototype, Events, {

    // Initialize is an empty function by default. Override it with your own
    // initialization logic.
    initialize: function(){},

    // Manually bind a single named route to a callback. For example:
    //
    //     this.route('search/:query/p:num', 'search', function(query, num) {
    //       ...
    //     });
    //
    route: function(route, name, callback) {
      if (!_.isRegExp(route)) route = this._routeToRegExp(route);
      if (_.isFunction(name)) {
        callback = name;
        name = '';
      }
      if (!callback) callback = this[name];
      var router = this;
      Backbone.history.route(route, function(fragment) {
        var args = router._extractParameters(route, fragment);
        if (router.execute(callback, args, name) !== false) {
          router.trigger.apply(router, ['route:' + name].concat(args));
          router.trigger('route', name, args);
          Backbone.history.trigger('route', router, name, args);
        }
      });
      return this;
    },

    // Execute a route handler with the provided parameters.  This is an
    // excellent place to do pre-route setup or post-route cleanup.
    execute: function(callback, args, name) {
      if (callback) callback.apply(this, args);
    },

    // Simple proxy to `Backbone.history` to save a fragment into the history.
    navigate: function(fragment, options) {
      Backbone.history.navigate(fragment, options);
      return this;
    },

    // Bind all defined routes to `Backbone.history`. We have to reverse the
    // order of the routes here to support behavior where the most general
    // routes can be defined at the bottom of the route map.
    _bindRoutes: function() {
      if (!this.routes) return;
      this.routes = _.result(this, 'routes');
      var route, routes = _.keys(this.routes);
      while ((route = routes.pop()) != null) {
        this.route(route, this.routes[route]);
      }
    },

    // Convert a route string into a regular expression, suitable for matching
    // against the current location hash.
    _routeToRegExp: function(route) {
      route = route.replace(escapeRegExp, '\\$&')
                   .replace(optionalParam, '(?:$1)?')
                   .replace(namedParam, function(match, optional) {
                     return optional ? match : '([^/?]+)';
                   })
                   .replace(splatParam, '([^?]*?)');
      return new RegExp('^' + route + '(?:\\?([\\s\\S]*))?$');
    },

    // Given a route, and a URL fragment that it matches, return the array of
    // extracted decoded parameters. Empty or unmatched parameters will be
    // treated as `null` to normalize cross-browser behavior.
    _extractParameters: function(route, fragment) {
      var params = route.exec(fragment).slice(1);
      return _.map(params, function(param, i) {
        // Don't decode the search params.
        if (i === params.length - 1) return param || null;
        return param ? decodeURIComponent(param) : null;
      });
    }

  });

  // Backbone.History
  // ----------------

  // Handles cross-browser history management, based on either
  // [pushState](http://diveintohtml5.info/history.html) and real URLs, or
  // [onhashchange](https://developer.mozilla.org/en-US/docs/DOM/window.onhashchange)
  // and URL fragments. If the browser supports neither (old IE, natch),
  // falls back to polling.
  var History = Backbone.History = function() {
    this.handlers = [];
    this.checkUrl = _.bind(this.checkUrl, this);

    // Ensure that `History` can be used outside of the browser.
    if (typeof window !== 'undefined') {
      this.location = window.location;
      this.history = window.history;
    }
  };

  // Cached regex for stripping a leading hash/slash and trailing space.
  var routeStripper = /^[#\/]|\s+$/g;

  // Cached regex for stripping leading and trailing slashes.
  var rootStripper = /^\/+|\/+$/g;

  // Cached regex for stripping urls of hash.
  var pathStripper = /#.*$/;

  // Has the history handling already been started?
  History.started = false;

  // Set up all inheritable **Backbone.History** properties and methods.
  _.extend(History.prototype, Events, {

    // The default interval to poll for hash changes, if necessary, is
    // twenty times a second.
    interval: 50,

    // Are we at the app root?
    atRoot: function() {
      var path = this.location.pathname.replace(/[^\/]$/, '$&/');
      return path === this.root && !this.getSearch();
    },

    // Does the pathname match the root?
    matchRoot: function() {
      var path = this.decodeFragment(this.location.pathname);
      var root = path.slice(0, this.root.length - 1) + '/';
      return root === this.root;
    },

    // Unicode characters in `location.pathname` are percent encoded so they're
    // decoded for comparison. `%25` should not be decoded since it may be part
    // of an encoded parameter.
    decodeFragment: function(fragment) {
      return decodeURI(fragment.replace(/%25/g, '%2525'));
    },

    // In IE6, the hash fragment and search params are incorrect if the
    // fragment contains `?`.
    getSearch: function() {
      var match = this.location.href.replace(/#.*/, '').match(/\?.+/);
      return match ? match[0] : '';
    },

    // Gets the true hash value. Cannot use location.hash directly due to bug
    // in Firefox where location.hash will always be decoded.
    getHash: function(window) {
      var match = (window || this).location.href.match(/#(.*)$/);
      return match ? match[1] : '';
    },

    // Get the pathname and search params, without the root.
    getPath: function() {
      var path = this.decodeFragment(
        this.location.pathname + this.getSearch()
      ).slice(this.root.length - 1);
      return path.charAt(0) === '/' ? path.slice(1) : path;
    },

    // Get the cross-browser normalized URL fragment from the path or hash.
    getFragment: function(fragment) {
      if (fragment == null) {
        if (this._usePushState || !this._wantsHashChange) {
          fragment = this.getPath();
        } else {
          fragment = this.getHash();
        }
      }
      return fragment.replace(routeStripper, '');
    },

    // Start the hash change handling, returning `true` if the current URL matches
    // an existing route, and `false` otherwise.
    start: function(options) {
      if (History.started) throw new Error('Backbone.history has already been started');
      History.started = true;

      // Figure out the initial configuration. Do we need an iframe?
      // Is pushState desired ... is it available?
      this.options          = _.extend({root: '/'}, this.options, options);
      this.root             = this.options.root;
      this._wantsHashChange = this.options.hashChange !== false;
      this._hasHashChange   = 'onhashchange' in window && (document.documentMode === void 0 || document.documentMode > 7);
      this._useHashChange   = this._wantsHashChange && this._hasHashChange;
      this._wantsPushState  = !!this.options.pushState;
      this._hasPushState    = !!(this.history && this.history.pushState);
      this._usePushState    = this._wantsPushState && this._hasPushState;
      this.fragment         = this.getFragment();

      // Normalize root to always include a leading and trailing slash.
      this.root = ('/' + this.root + '/').replace(rootStripper, '/');

      // Transition from hashChange to pushState or vice versa if both are
      // requested.
      if (this._wantsHashChange && this._wantsPushState) {

        // If we've started off with a route from a `pushState`-enabled
        // browser, but we're currently in a browser that doesn't support it...
        if (!this._hasPushState && !this.atRoot()) {
          var root = this.root.slice(0, -1) || '/';
          this.location.replace(root + '#' + this.getPath());
          // Return immediately as browser will do redirect to new url
          return true;

        // Or if we've started out with a hash-based route, but we're currently
        // in a browser where it could be `pushState`-based instead...
        } else if (this._hasPushState && this.atRoot()) {
          this.navigate(this.getHash(), {replace: true});
        }

      }

      // Proxy an iframe to handle location events if the browser doesn't
      // support the `hashchange` event, HTML5 history, or the user wants
      // `hashChange` but not `pushState`.
      if (!this._hasHashChange && this._wantsHashChange && !this._usePushState) {
        this.iframe = document.createElement('iframe');
        this.iframe.src = 'javascript:0';
        this.iframe.style.display = 'none';
        this.iframe.tabIndex = -1;
        var body = document.body;
        // Using `appendChild` will throw on IE < 9 if the document is not ready.
        var iWindow = body.insertBefore(this.iframe, body.firstChild).contentWindow;
        iWindow.document.open();
        iWindow.document.close();
        iWindow.location.hash = '#' + this.fragment;
      }

      // Add a cross-platform `addEventListener` shim for older browsers.
      var addEventListener = window.addEventListener || function (eventName, listener) {
        return attachEvent('on' + eventName, listener);
      };

      // Depending on whether we're using pushState or hashes, and whether
      // 'onhashchange' is supported, determine how we check the URL state.
      if (this._usePushState) {
        addEventListener('popstate', this.checkUrl, false);
      } else if (this._useHashChange && !this.iframe) {
        addEventListener('hashchange', this.checkUrl, false);
      } else if (this._wantsHashChange) {
        this._checkUrlInterval = setInterval(this.checkUrl, this.interval);
      }

      if (!this.options.silent) return this.loadUrl();
    },

    // Disable Backbone.history, perhaps temporarily. Not useful in a real app,
    // but possibly useful for unit testing Routers.
    stop: function() {
      // Add a cross-platform `removeEventListener` shim for older browsers.
      var removeEventListener = window.removeEventListener || function (eventName, listener) {
        return detachEvent('on' + eventName, listener);
      };

      // Remove window listeners.
      if (this._usePushState) {
        removeEventListener('popstate', this.checkUrl, false);
      } else if (this._useHashChange && !this.iframe) {
        removeEventListener('hashchange', this.checkUrl, false);
      }

      // Clean up the iframe if necessary.
      if (this.iframe) {
        document.body.removeChild(this.iframe);
        this.iframe = null;
      }

      // Some environments will throw when clearing an undefined interval.
      if (this._checkUrlInterval) clearInterval(this._checkUrlInterval);
      History.started = false;
    },

    // Add a route to be tested when the fragment changes. Routes added later
    // may override previous routes.
    route: function(route, callback) {
      this.handlers.unshift({route: route, callback: callback});
    },

    // Checks the current URL to see if it has changed, and if it has,
    // calls `loadUrl`, normalizing across the hidden iframe.
    checkUrl: function(e) {
      var current = this.getFragment();

      // If the user pressed the back button, the iframe's hash will have
      // changed and we should use that for comparison.
      if (current === this.fragment && this.iframe) {
        current = this.getHash(this.iframe.contentWindow);
      }

      if (current === this.fragment) return false;
      if (this.iframe) this.navigate(current);
      this.loadUrl();
    },

    // Attempt to load the current URL fragment. If a route succeeds with a
    // match, returns `true`. If no defined routes matches the fragment,
    // returns `false`.
    loadUrl: function(fragment) {
      // If the root doesn't match, no routes can match either.
      if (!this.matchRoot()) return false;
      fragment = this.fragment = this.getFragment(fragment);
      return _.some(this.handlers, function(handler) {
        if (handler.route.test(fragment)) {
          handler.callback(fragment);
          return true;
        }
      });
    },

    // Save a fragment into the hash history, or replace the URL state if the
    // 'replace' option is passed. You are responsible for properly URL-encoding
    // the fragment in advance.
    //
    // The options object can contain `trigger: true` if you wish to have the
    // route callback be fired (not usually desirable), or `replace: true`, if
    // you wish to modify the current URL without adding an entry to the history.
    navigate: function(fragment, options) {
      if (!History.started) return false;
      if (!options || options === true) options = {trigger: !!options};

      // Normalize the fragment.
      fragment = this.getFragment(fragment || '');

      // Don't include a trailing slash on the root.
      var root = this.root;
      if (fragment === '' || fragment.charAt(0) === '?') {
        root = root.slice(0, -1) || '/';
      }
      var url = root + fragment;

      // Strip the hash and decode for matching.
      fragment = this.decodeFragment(fragment.replace(pathStripper, ''));

      if (this.fragment === fragment) return;
      this.fragment = fragment;

      // If pushState is available, we use it to set the fragment as a real URL.
      if (this._usePushState) {
        this.history[options.replace ? 'replaceState' : 'pushState']({}, document.title, url);

      // If hash changes haven't been explicitly disabled, update the hash
      // fragment to store history.
      } else if (this._wantsHashChange) {
        this._updateHash(this.location, fragment, options.replace);
        if (this.iframe && (fragment !== this.getHash(this.iframe.contentWindow))) {
          var iWindow = this.iframe.contentWindow;

          // Opening and closing the iframe tricks IE7 and earlier to push a
          // history entry on hash-tag change.  When replace is true, we don't
          // want this.
          if (!options.replace) {
            iWindow.document.open();
            iWindow.document.close();
          }

          this._updateHash(iWindow.location, fragment, options.replace);
        }

      // If you've told us that you explicitly don't want fallback hashchange-
      // based history, then `navigate` becomes a page refresh.
      } else {
        return this.location.assign(url);
      }
      if (options.trigger) return this.loadUrl(fragment);
    },

    // Update the hash location, either replacing the current entry, or adding
    // a new one to the browser history.
    _updateHash: function(location, fragment, replace) {
      if (replace) {
        var href = location.href.replace(/(javascript:|#).*$/, '');
        location.replace(href + '#' + fragment);
      } else {
        // Some browsers require that `hash` contains a leading #.
        location.hash = '#' + fragment;
      }
    }

  });

  // Create the default Backbone.history.
  Backbone.history = new History;

  // Helpers
  // -------

  // Helper function to correctly set up the prototype chain for subclasses.
  // Similar to `goog.inherits`, but uses a hash of prototype properties and
  // class properties to be extended.
  var extend = function(protoProps, staticProps) {
    var parent = this;
    var child;

    // The constructor function for the new subclass is either defined by you
    // (the "constructor" property in your `extend` definition), or defaulted
    // by us to simply call the parent constructor.
    if (protoProps && _.has(protoProps, 'constructor')) {
      child = protoProps.constructor;
    } else {
      child = function(){ return parent.apply(this, arguments); };
    }

    // Add static properties to the constructor function, if supplied.
    _.extend(child, parent, staticProps);

    // Set the prototype chain to inherit from `parent`, without calling
    // `parent` constructor function.
    var Surrogate = function(){ this.constructor = child; };
    Surrogate.prototype = parent.prototype;
    child.prototype = new Surrogate;

    // Add prototype properties (instance properties) to the subclass,
    // if supplied.
    if (protoProps) _.extend(child.prototype, protoProps);

    // Set a convenience property in case the parent's prototype is needed
    // later.
    child.__super__ = parent.prototype;

    return child;
  };

  // Set up inheritance for the model, collection, router, view and history.
  Model.extend = Collection.extend = Router.extend = View.extend = History.extend = extend;

  // Throw an error when a URL is needed, and none is supplied.
  var urlError = function() {
    throw new Error('A "url" property or function must be specified');
  };

  // Wrap an optional error callback with a fallback error event.
  var wrapError = function(model, options) {
    var error = options.error;
    options.error = function(resp) {
      if (error) error.call(options.context, model, resp, options);
      model.trigger('error', model, resp, options);
    };
  };

  return Backbone;

}));
/* Moment.js | version : 1.2.0 | author : Tim Wood | license : MIT */
(function(a,b){function k(a,b){var c=a+"";while(c.length<b)c="0"+c;return c}function l(b,c,d,e){var f=typeof c=="string",g=f?{}:c,h,i,j,k;return f&&e&&(g[c]=e),h=(g.ms||g.milliseconds||0)+(g.s||g.seconds||0)*1e3+(g.m||g.minutes||0)*6e4+(g.h||g.hours||0)*36e5,i=(g.d||g.days||0)+(g.w||g.weeks||0)*7,j=(g.M||g.months||0)+(g.y||g.years||0)*12,h&&b.setTime(+b+h*d),i&&b.setDate(b.getDate()+i*d),j&&(k=b.getDate(),b.setDate(1),b.setMonth(b.getMonth()+j*d),b.setDate(Math.min((new a(b.getFullYear(),b.getMonth()+1,0)).getDate(),k))),b}function m(a){return Object.prototype.toString.call(a)==="[object Array]"}function n(b){return new a(b[0],b[1]||0,b[2]||1,b[3]||0,b[4]||0,b[5]||0,b[6]||0)}function o(b,d){function t(d){var n,u;switch(d){case"M":return e+1;case"Mo":return e+1+r(e+1);case"MM":return k(e+1,2);case"MMM":return c.monthsShort[e];case"MMMM":return c.months[e];case"D":return f;case"Do":return f+r(f);case"DD":return k(f,2);case"DDD":return n=new a(g,e,f),u=new a(g,0,1),~~((n-u)/864e5+1.5);case"DDDo":return n=t("DDD"),n+r(n);case"DDDD":return k(t("DDD"),3);case"d":return h;case"do":return h+r(h);case"ddd":return c.weekdaysShort[h];case"dddd":return c.weekdays[h];case"w":return n=new a(g,e,f-h+5),u=new a(n.getFullYear(),0,4),~~((n-u)/864e5/7+1.5);case"wo":return n=t("w"),n+r(n);case"ww":return k(t("w"),2);case"YY":return k(g%100,2);case"YYYY":return g;case"a":return i>11?s.pm:s.am;case"A":return i>11?s.PM:s.AM;case"H":return i;case"HH":return k(i,2);case"h":return i%12||12;case"hh":return k(i%12||12,2);case"m":return j;case"mm":return k(j,2);case"s":return l;case"ss":return k(l,2);case"zz":case"z":return(b.toString().match(q)||[""])[0].replace(p,"");case"Z":return(m>0?"+":"-")+k(~~(m/60),2)+":"+k(~~(m%60),2);case"ZZ":return(m>0?"+":"-")+k(~~(10*m/6),4);case"L":case"LL":case"LLL":case"LLLL":return o(b,c.longDateFormat[d]);default:return d.replace("\\","")}}var e=b.getMonth(),f=b.getDate(),g=b.getFullYear(),h=b.getDay(),i=b.getHours(),j=b.getMinutes(),l=b.getSeconds(),m=b.getTimezoneOffset(),n=/(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|dddd?|do?|w[o|w]?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|zz?|ZZ?|LL?L?L?)/g,p=/[^A-Z]/g,q=/\([A-Za-z ]+\)|:[0-9]{2} [A-Z]{3} /g,r=c.ordinal,s=c.meridiem;return d.replace(n,t)}function p(b,c){function p(a,b){var c;switch(a){case"M":case"MM":d[1]=~~b-1;break;case"D":case"DD":case"DDD":case"DDDD":d[2]=~~b;break;case"YY":b=~~b,d[0]=b+(b>70?1900:2e3);break;case"YYYY":d[0]=~~Math.abs(b);break;case"a":case"A":o=b.toLowerCase()==="pm";break;case"H":case"HH":case"h":case"hh":d[3]=~~b;break;case"m":case"mm":d[4]=~~b;break;case"s":case"ss":d[5]=~~b;break;case"Z":case"ZZ":g=!0,c=b.match(j),c[1]&&(e=~~c[1]),c[2]&&(f=~~c[2]),c[0]==="-"&&(e=-e,f=-f)}}var d=[0,0,1,0,0,0,0],e=0,f=0,g=!1,h=/(\\)?(MM?|DD?D?D?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|ZZ?)/g,i=/(\\)?([0-9]+|am|pm|([\+\-]\d\d:?\d\d))/gi,j=/([\+\-]|\d\d)/gi,k=b.match(i),l=c.match(h),m,o;for(m=0;m<l.length;m++)p(l[m],k[m]);return o&&d[3]<12&&(d[3]+=12),!o&&d[3]===12&&(d[3]=0),d[3]+=e,d[4]+=f,g?new a(a.UTC.apply({},d)):n(d)}function q(a,b){var c=Math.min(a.length,b.length),d=Math.abs(a.length-b.length),e=0,f;for(f=0;f<c;f++)~~a[f]!==~~b[f]&&e++;return e+d}function r(a,b){var c,d=/(\\)?([0-9]+|am|pm|([\+\-]\d\d:?\d\d))/gi,e=a.match(d),f=[],g=99,h,i,j;for(h=0;h<b.length;h++)i=p(a,b[h]),j=q(e,o(i,b[h]).match(d)),j<g&&(g=j,c=i);return c}function s(a){this._d=a}function t(a,b,d){var e=c.relativeTime[a];return typeof e=="function"?e(b||1,!!d,a):e.replace(/%d/i,b||1)}function u(a,b){var c=d(Math.abs(a)/1e3),e=d(c/60),f=d(e/60),g=d(f/24),h=d(g/365),i=c<45&&["s",c]||e===1&&["m"]||e<45&&["mm",e]||f===1&&["h"]||f<22&&["hh",f]||g===1&&["d"]||g<=25&&["dd",g]||g<=45&&["M"]||g<345&&["MM",d(g/30)]||h===1&&["y"]||["yy",h];return i[2]=b,t.apply({},i)}function v(a,b){c.fn[a]=function(a){return a!=null?(this._d["set"+b](a),this):this._d["get"+b]()}}var c,d=Math.round,e={},f=typeof module!="undefined",g="months|monthsShort|weekdays|weekdaysShort|longDateFormat|relativeTime|ordinal|meridiem".split("|"),h,i="1.2.0",j="Month|Date|Hours|Minutes|Seconds".split("|");c=function(c,d){if(c===null)return null;var e;return c&&c._d instanceof a?e=new a(+c._d):d?m(d)?e=r(c,d):e=p(c,d):e=c===b?new a:c instanceof a?c:m(c)?n(c):new a(c),new s(e)},c.version=i,c.lang=function(a,b){var d,h,i;b&&(e[a]=b);if(e[a])for(d=0;d<g.length;d++)h=g[d],c[h]=e[a][h]||c[h];else f&&(i=require("./lang/"+a),c.lang(a,i))},c.lang("en",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),longDateFormat:{L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY h:mm A",LLLL:"dddd, MMMM D YYYY h:mm A"},meridiem:{AM:"AM",am:"am",PM:"PM",pm:"pm"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(a){var b=a%10;return~~(a%100/10)===1?"th":b===1?"st":b===2?"nd":b===3?"rd":"th"}}),c.fn=s.prototype={clone:function(){return c(this)},valueOf:function(){return+this._d},"native":function(){return this._d},toString:function(){return this._d.toString()},toDate:function(){return this._d},format:function(a){return o(this._d,a)},add:function(a,b){return this._d=l(this._d,a,1,b),this},subtract:function(a,b){return this._d=l(this._d,a,-1,b),this},diff:function(a,b,e){var f=c(a),g=this._d-f._d,h=this.year()-f.year(),i=this.month()-f.month(),j=this.day()-f.day(),k;return b==="months"?k=h*12+i+j/30:b==="years"?k=h+i/12:k=b==="seconds"?g/1e3:b==="minutes"?g/6e4:b==="hours"?g/36e5:b==="days"?g/864e5:b==="weeks"?g/6048e5:b==="days"?g/3600:g,e?k:d(k)},from:function(a,b){var d=this.diff(a),e=c.relativeTime,f=u(d,b);return b?f:(d<=0?e.past:e.future).replace(/%s/i,f)},fromNow:function(a){return this.from(c(),a)},isLeapYear:function(){var a=this.year();return a%4===0&&a%100!==0||a%400===0},isDST:function(){return this.zone()!==c([this.year()]).zone()}};for(h=0;h<j.length;h++)v(j[h].toLowerCase(),j[h]);v("year","FullYear"),c.fn.day=function(){return this._d.getDay()},c.fn.zone=function(){return this._d.getTimezoneOffset()},f&&(module.exports=c),typeof window!="undefined"&&(window.moment=c)})(Date)
// Generated by CoffeeScript 1.9.3

/*
(c) 2012 Jan Monschke
v1.3
backbone-couchdb.js is licensed under the MIT license.
 */
var con,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty,
  bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

Backbone.couch_connector = con = {
  config: {
    db_name: "backbone_connect",
    ddoc_name: "backbone_example",
    view_name: "byCollection",
    list_name: null,
    global_changes: false,
    single_feed: false,
    base_url: null
  },
  _global_db_inst: null,
  _global_changes_handler: null,
  _global_changes_callbacks: [],
  helpers: {
    extract_collection_name: function(model) {
      var _name, _splitted;
      if (model == null) {
        throw new Error("No model has been passed");
      }
      if (!(((model.collection != null) && (model.collection.url != null)) || (model.url != null))) {
        return "";
      }
      if (model.url != null) {
        _name = _.isFunction(model.url) ? model.url() : model.url;
      } else {
        _name = _.isFunction(model.collection.url) ? model.collection.url() : model.collection.url;
      }
      if (_name[0] === "/") {
        _name = _name.slice(1, _name.length);
      }
      _splitted = _name.split("/");
      if (_splitted.length > 0) {
        if (model.id === _splitted[_splitted.length - 1]) {
          _splitted.pop();
        }
        _name = _splitted.join('/');
      }
      if (_name.indexOf("/") === 0) {
        _name = _name.replace("/", "");
      }
      return _name;
    },
    filter_collection: function(results, collection_name) {
      var entry, i, len, ref, results1;
      results1 = [];
      for (i = 0, len = results.length; i < len; i++) {
        entry = results[i];
        if ((entry.deleted === true) || (((ref = entry.doc) != null ? ref.collection : void 0) === collection_name)) {
          results1.push(entry);
        }
      }
      return results1;
    },
    make_db: function() {
      var db;
      db = $.couch.db(con.config.db_name);
      if (con.config.base_url != null) {
        db.uri = con.config.base_url + "/" + con.config.db_name + "/";
      }
      return db;
    }
  },
  read: function(model, opts) {
    if (model.models) {
      return con.read_collection(model, opts);
    } else {
      return con.read_model(model, opts);
    }
  },
  read_collection: function(coll, opts) {
    var _ddoc, _list, _opts, _view, i, keys, len, option, view_options;
    _view = this.config.view_name;
    _ddoc = this.config.ddoc_name;
    _list = this.config.list_name;
    keys = [this.helpers.extract_collection_name(coll)];
    if (coll.db != null) {
      if (coll.db.changes || this.config.global_changes) {
        coll.listen_to_changes();
      }
      if (coll.db.view != null) {
        _view = coll.db.view;
      }
      if (coll.db.ddoc != null) {
        _ddoc = coll.db.ddoc;
      }
      if (coll.db.keys != null) {
        keys = coll.db.keys;
      }
      if (coll.db.list != null) {
        _list = coll.db.list;
      }
    }
    _opts = {
      keys: keys,
      success: (function(_this) {
        return function(data) {
          var _temp, doc, i, len, ref;
          _temp = [];
          ref = data.rows;
          for (i = 0, len = ref.length; i < len; i++) {
            doc = ref[i];
            if (doc.doc) {
              _temp.push(doc.doc);
            } else {
              _temp.push(doc.value);
            }
          }
          opts.success(_temp);
          return opts.complete();
        };
      })(this),
      error: function(status, error, reason) {
        var res;
        res = {
          status: status,
          error: error,
          reason: reason
        };
        opts.error(res);
        return opts.complete(res);
      }
    };
    view_options = ["key", "keys", "startkey", "startkey_docid", "endkey", "endkey_docid", "limit", "stale", "descending", "skip", "group", "group_level", "reduce", "include_docs", "inclusive_end", "update_seq"];
    for (i = 0, len = view_options.length; i < len; i++) {
      option = view_options[i];
      if (opts[option] != null) {
        _opts[option] = opts[option];
      }
    }
    if ((coll.db != null) && (coll.db.view != null) && (coll.db.keys == null)) {
      delete _opts.keys;
    }
    if (_list) {
      return this.helpers.make_db().list(_ddoc + "/" + _list, "" + _view, _opts);
    } else {
      _opts.include_docs = true;
      return this.helpers.make_db().view(_ddoc + "/" + _view, _opts);
    }
  },
  init_global_changes_handler: function(callback) {
    this._global_db_inst = con.helpers.make_db();
    return this._global_db_inst.info({
      "success": (function(_this) {
        return function(data) {
          var opts;
          opts = _.extend({
            include_docs: true
          }, con.config.global_changes_opts);
          _this._global_changes_handler = _this._global_db_inst.changes(data.update_seq || 0, opts);
          _this._global_changes_handler.onChange(function(changes) {
            var cb, i, len, ref, results1;
            ref = _this._global_changes_callbacks;
            results1 = [];
            for (i = 0, len = ref.length; i < len; i++) {
              cb = ref[i];
              results1.push(cb(changes));
            }
            return results1;
          });
          return callback();
        };
      })(this)
    });
  },
  register_global_changes_callback: function(callback) {
    if (callback == null) {
      return;
    }
    if (this._global_db_inst == null) {
      return this.init_global_changes_handler((function(_this) {
        return function() {
          return _this._global_changes_callbacks.push(callback);
        };
      })(this));
    } else {
      return this._global_changes_callbacks.push(callback);
    }
  },
  read_model: function(model, opts) {
    if (!model.id) {
      throw new Error("The model has no id property, so it can't get fetched from the database");
    }
    return this.helpers.make_db().openDoc(model.id, {
      success: function(doc) {
        opts.success(doc);
        return opts.complete();
      },
      error: function(status, error, reason) {
        var res;
        res = {
          status: status,
          error: error,
          reason: reason
        };
        opts.error(res);
        return opts.complete(res);
      }
    });
  },
  create: function(model, opts) {
    var coll, vals;
    vals = model.toJSON();
    coll = this.helpers.extract_collection_name(model);
    if (coll.length > 0) {
      vals.collection = coll;
    }
    return this.helpers.make_db().saveDoc(vals, {
      success: function(doc) {
        opts.success({
          _id: doc.id,
          _rev: doc.rev
        });
        return opts.complete();
      },
      error: function(status, error, reason) {
        var res;
        res = {
          status: status,
          error: error,
          reason: reason
        };
        opts.error(res);
        return opts.complete(res);
      }
    });
  },
  update: function(model, opts) {
    return this.create(model, opts);
  },
  del: function(model, opts) {
    return this.helpers.make_db().removeDoc(model.toJSON(), {
      success: function() {
        return opts.success();
      },
      error: function(nr, req, error) {
        var res;
        if (error === "deleted") {
          opts.success();
          return opts.complete();
        } else {
          res = {
            error: error
          };
          opts.error(res);
          return opts.complete(res);
        }
      }
    });
  }
};

Backbone.sync = function(method, model, opts) {
  if (opts.success == null) {
    opts.success = function() {};
  }
  if (opts.error == null) {
    opts.error = function() {};
  }
  if (opts.complete == null) {
    opts.complete = function() {};
  }
  switch (method) {
    case "read":
      return con.read(model, opts);
    case "create":
      return con.create(model, opts);
    case "update":
      return con.update(model, opts);
    case "delete":
      return con.del(model, opts);
  }
};

Backbone.Model = (function(superClass) {
  extend(Model, superClass);

  function Model() {
    return Model.__super__.constructor.apply(this, arguments);
  }

  Model.prototype.idAttribute = "_id";

  Model.prototype.clone = function() {
    var new_model;
    new_model = new this.constructor(this.attributes);
    if (new_model.attributes._id) {
      delete new_model.attributes._id;
    }
    if (new_model.attributes._rev) {
      delete new_model.attributes._rev;
    }
    return new_model;
  };

  return Model;

})(Backbone.Model);

Backbone.Collection = (function(superClass) {
  extend(Collection, superClass);

  function Collection() {
    this._db_on_change = bind(this._db_on_change, this);
    this._db_prepared_for_global_changes = bind(this._db_prepared_for_global_changes, this);
    this._db_prepared_for_changes = bind(this._db_prepared_for_changes, this);
    return Collection.__super__.constructor.apply(this, arguments);
  }

  Collection.prototype.model = Backbone.Model;

  Collection.prototype.initialize = function() {
    if (!this._db_changes_enabled && ((this.db && this.db.changes) || con.config.global_changes)) {
      return this.listen_to_changes();
    }
  };

  Collection.prototype.listen_to_changes = function() {
    if (!this._db_changes_enabled) {
      this._db_changes_enabled = true;
      if (con.config.single_feed) {
        return this._db_prepared_for_global_changes();
      } else {
        if (!this._db_inst) {
          this._db_inst = con.helpers.make_db();
        }
        return this._db_inst.info({
          "success": this._db_prepared_for_changes
        });
      }
    }
  };

  Collection.prototype.stop_changes = function() {
    this._db_changes_enabled = false;
    if (this._db_changes_handler != null) {
      this._db_changes_handler.stop();
      return this._db_changes_handler = null;
    }
  };

  Collection.prototype._db_prepared_for_changes = function(data) {
    var opts;
    this._db_update_seq = data.update_seq || 0;
    opts = {
      include_docs: true,
      collection: con.helpers.extract_collection_name(this),
      filter: con.config.ddoc_name + "/by_collection"
    };
    _.extend(opts, this.db);
    return _.defer((function(_this) {
      return function() {
        _this._db_changes_handler = _this._db_inst.changes(_this._db_update_seq, opts);
        return _this._db_changes_handler.onChange(_this._db_on_change);
      };
    })(this));
  };

  Collection.prototype._db_prepared_for_global_changes = function() {
    return con.register_global_changes_callback(this._db_on_change);
  };

  Collection.prototype._db_on_change = function(changes) {
    var _doc, i, len, obj, results, results1;
    results = changes.results;
    if (this.db && this.db.local_filter) {
      results = this.db.local_filter(results);
    } else if (con.config.single_feed) {
      results = con.helpers.filter_collection(results, con.helpers.extract_collection_name(this));
    }
    results1 = [];
    for (i = 0, len = results.length; i < len; i++) {
      _doc = results[i];
      obj = this.get(_doc.id);
      if (obj != null) {
        if (_doc.deleted) {
          results1.push(this.remove(obj));
        } else {
          if (obj.get("_rev") !== _doc.doc._rev) {
            results1.push(obj.set(_doc.doc));
          } else {
            results1.push(void 0);
          }
        }
      } else {
        if (!_doc.deleted) {
          results1.push(this.add(_doc.doc));
        } else {
          results1.push(void 0);
        }
      }
    }
    return results1;
  };

  return Collection;

})(Backbone.Collection);

// Generated by CoffeeScript 1.10.0
var CheckDigit;

CheckDigit = (function() {
  CheckDigit.prototype.allowed = "ABCEFGHKMNPQRSTUVWXYZ".split("");

  CheckDigit.prototype.weights = [1, 2, 5, 11, 13];

  function CheckDigit(id) {
    if (id == null) {
      id = "";
    }
    this.set(id);
  }

  CheckDigit.prototype.set = function(id) {
    return this.id = id.toUpperCase();
  };

  CheckDigit.prototype.get = function(id) {
    var ch;
    if (id == null) {
      id = this.id;
    }
    if (!~((function() {
      var j, len, ref, results;
      ref = id.split("");
      results = [];
      for (j = 0, len = ref.length; j < len; j++) {
        ch = ref[j];
        results.push(!~this.allowed.indexOf(ch));
      }
      return results;
    }).call(this)).indexOf(false)) {
      return null;
    }
    return id + this.getDigit(id);
  };

  CheckDigit.prototype.generate = function() {
    var i;
    return this.get(((function() {
      var j, len, ref, results;
      ref = this.weights;
      results = [];
      for (j = 0, len = ref.length; j < len; j++) {
        i = ref[j];
        results.push(this.allowed[Math.floor(Math.random() * this.allowed.length)]);
      }
      return results;
    }).call(this)).join(""));
  };

  CheckDigit.prototype.isValid = function(id) {
    if (id == null) {
      id = this.id;
    }
    if (id.length !== 6) {
      return false;
    }
    return (this.get(id.slice(0, id.length - 1))) === id;
  };

  CheckDigit.prototype.isNotValid = function(id) {
    if (id == null) {
      id = this.id;
    }
    return !this.isValid(id);
  };

  CheckDigit.prototype.getErrors = function() {
    var ch, errors, i, j, k, len, len1, ref, result;
    errors = [];
    result = [];
    ref = (function() {
      var k, len, ref, results;
      ref = this.id.split("");
      results = [];
      for (k = 0, len = ref.length; k < len; k++) {
        ch = ref[k];
        results.push(this.allowed.indexOf(ch));
      }
      return results;
    }).call(this);
    for (i = j = 0, len = ref.length; j < len; i = ++j) {
      ch = ref[i];
      if (ch === -1) {
        result.push(this.id[i]);
      }
    }
    if (result.length !== 0) {
      for (k = 0, len1 = result.length; k < len1; k++) {
        i = result[k];
        errors.push("Error: '" + result + "' is not a valid student id character. Only the following characters are allowed: " + this.allowed + "<br/>(this helps reduce errors while writing down student IDs)");
      }
    }
    if (this.id.length !== 6) {
      errors.push("Error: Identifier must be 6 letters");
    }
    if (errors.length === 0 && this.isNotValid()) {
      errors.push("Error: Invalid ID. Maybe it was written down incorrectly. Generate a new one then write down the old ID and the new one a piece of paper. Include both IDs in comments section at end of assessment.");
    }
    return errors;
  };

  CheckDigit.prototype.getDigit = function(id) {
    var ch, checkDigit_10, i, id_10, weight;
    if (id == null) {
      id = this.id;
    }
    id_10 = (function() {
      var j, len, ref, results;
      ref = id.split("");
      results = [];
      for (j = 0, len = ref.length; j < len; j++) {
        ch = ref[j];
        results.push(this.allowed.indexOf(ch));
      }
      return results;
    }).call(this);
    checkDigit_10 = ((function() {
      var j, len, ref, results;
      ref = this.weights;
      results = [];
      for (i = j = 0, len = ref.length; j < len; i = ++j) {
        weight = ref[i];
        results.push(id_10[i] * weight);
      }
      return results;
    }).call(this)).reduce(function(x, y) {
      return x + y;
    });
    return this.allowed[checkDigit_10 % this.allowed.length];
  };

  return CheckDigit;

})();

/**
*
*  Base64 encode / decode
*  http://www.webtoolkit.info/
*
**/

var Base64 = {

	// private property
	_keyStr : "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",

	// public method for encoding
	encode : function (input) {
		var output = "";
		var chr1, chr2, chr3, enc1, enc2, enc3, enc4;
		var i = 0;

		input = Base64._utf8_encode(input);

		while (i < input.length) {

			chr1 = input.charCodeAt(i++);
			chr2 = input.charCodeAt(i++);
			chr3 = input.charCodeAt(i++);

			enc1 = chr1 >> 2;
			enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);
			enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);
			enc4 = chr3 & 63;

			if (isNaN(chr2)) {
				enc3 = enc4 = 64;
			} else if (isNaN(chr3)) {
				enc4 = 64;
			}

			output = output +
			this._keyStr.charAt(enc1) + this._keyStr.charAt(enc2) +
			this._keyStr.charAt(enc3) + this._keyStr.charAt(enc4);

		}

		return output;
	},

	// public method for decoding
	decode : function (input) {
		var output = "";
		var chr1, chr2, chr3;
		var enc1, enc2, enc3, enc4;
		var i = 0;

		input = input.replace(/[^A-Za-z0-9\+\/\=]/g, "");

		while (i < input.length) {

			enc1 = this._keyStr.indexOf(input.charAt(i++));
			enc2 = this._keyStr.indexOf(input.charAt(i++));
			enc3 = this._keyStr.indexOf(input.charAt(i++));
			enc4 = this._keyStr.indexOf(input.charAt(i++));

			chr1 = (enc1 << 2) | (enc2 >> 4);
			chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);
			chr3 = ((enc3 & 3) << 6) | enc4;

			output = output + String.fromCharCode(chr1);

			if (enc3 != 64) {
				output = output + String.fromCharCode(chr2);
			}
			if (enc4 != 64) {
				output = output + String.fromCharCode(chr3);
			}

		}

		output = Base64._utf8_decode(output);

		return output;

	},

	// private method for UTF-8 encoding
	_utf8_encode : function (string) {
		string = string.replace(/\r\n/g,"\n");
		var utftext = "";

		for (var n = 0; n < string.length; n++) {

			var c = string.charCodeAt(n);

			if (c < 128) {
				utftext += String.fromCharCode(c);
			}
			else if((c > 127) && (c < 2048)) {
				utftext += String.fromCharCode((c >> 6) | 192);
				utftext += String.fromCharCode((c & 63) | 128);
			}
			else {
				utftext += String.fromCharCode((c >> 12) | 224);
				utftext += String.fromCharCode(((c >> 6) & 63) | 128);
				utftext += String.fromCharCode((c & 63) | 128);
			}

		}

		return utftext;
	},

	// private method for UTF-8 decoding
	_utf8_decode : function (utftext) {
		var string = "";
		var i = 0;
		var c = c1 = c2 = 0;

		while ( i < utftext.length ) {

			c = utftext.charCodeAt(i);

			if (c < 128) {
				string += String.fromCharCode(c);
				i++;
			}
			else if((c > 191) && (c < 224)) {
				c2 = utftext.charCodeAt(i+1);
				string += String.fromCharCode(((c & 31) << 6) | (c2 & 63));
				i += 2;
			}
			else {
				c2 = utftext.charCodeAt(i+1);
				c3 = utftext.charCodeAt(i+2);
				string += String.fromCharCode(((c & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));
				i += 3;
			}

		}

		return string;
	}

};
/*! jstz - v1.0.4 - 2012-12-18 */
(function(e){var t=function(){"use strict";var e="s",n=function(e){var t=-e.getTimezoneOffset();return t!==null?t:0},r=function(e,t,n){var r=new Date;return e!==undefined&&r.setFullYear(e),r.setDate(n),r.setMonth(t),r},i=function(e){return n(r(e,0,2))},s=function(e){return n(r(e,5,2))},o=function(e){var t=e.getMonth()>7?s(e.getFullYear()):i(e.getFullYear()),r=n(e);return t-r!==0},u=function(){var t=i(),n=s(),r=i()-s();return r<0?t+",1":r>0?n+",1,"+e:t+",0"},a=function(){var e=u();return new t.TimeZone(t.olson.timezones[e])},f=function(e){var t=new Date(2010,6,15,1,0,0,0),n={"America/Denver":new Date(2011,2,13,3,0,0,0),"America/Mazatlan":new Date(2011,3,3,3,0,0,0),"America/Chicago":new Date(2011,2,13,3,0,0,0),"America/Mexico_City":new Date(2011,3,3,3,0,0,0),"America/Asuncion":new Date(2012,9,7,3,0,0,0),"America/Santiago":new Date(2012,9,3,3,0,0,0),"America/Campo_Grande":new Date(2012,9,21,5,0,0,0),"America/Montevideo":new Date(2011,9,2,3,0,0,0),"America/Sao_Paulo":new Date(2011,9,16,5,0,0,0),"America/Los_Angeles":new Date(2011,2,13,8,0,0,0),"America/Santa_Isabel":new Date(2011,3,5,8,0,0,0),"America/Havana":new Date(2012,2,10,2,0,0,0),"America/New_York":new Date(2012,2,10,7,0,0,0),"Asia/Beirut":new Date(2011,2,27,1,0,0,0),"Europe/Helsinki":new Date(2011,2,27,4,0,0,0),"Europe/Istanbul":new Date(2011,2,28,5,0,0,0),"Asia/Damascus":new Date(2011,3,1,2,0,0,0),"Asia/Jerusalem":new Date(2011,3,1,6,0,0,0),"Asia/Gaza":new Date(2009,2,28,0,30,0,0),"Africa/Cairo":new Date(2009,3,25,0,30,0,0),"Pacific/Auckland":new Date(2011,8,26,7,0,0,0),"Pacific/Fiji":new Date(2010,11,29,23,0,0,0),"America/Halifax":new Date(2011,2,13,6,0,0,0),"America/Goose_Bay":new Date(2011,2,13,2,1,0,0),"America/Miquelon":new Date(2011,2,13,5,0,0,0),"America/Godthab":new Date(2011,2,27,1,0,0,0),"Europe/Moscow":t,"Asia/Yekaterinburg":t,"Asia/Omsk":t,"Asia/Krasnoyarsk":t,"Asia/Irkutsk":t,"Asia/Yakutsk":t,"Asia/Vladivostok":t,"Asia/Kamchatka":t,"Europe/Minsk":t,"Australia/Perth":new Date(2008,10,1,1,0,0,0)};return n[e]};return{determine:a,date_is_dst:o,dst_start_for:f}}();t.TimeZone=function(e){"use strict";var n={"America/Denver":["America/Denver","America/Mazatlan"],"America/Chicago":["America/Chicago","America/Mexico_City"],"America/Santiago":["America/Santiago","America/Asuncion","America/Campo_Grande"],"America/Montevideo":["America/Montevideo","America/Sao_Paulo"],"Asia/Beirut":["Asia/Beirut","Europe/Helsinki","Europe/Istanbul","Asia/Damascus","Asia/Jerusalem","Asia/Gaza"],"Pacific/Auckland":["Pacific/Auckland","Pacific/Fiji"],"America/Los_Angeles":["America/Los_Angeles","America/Santa_Isabel"],"America/New_York":["America/Havana","America/New_York"],"America/Halifax":["America/Goose_Bay","America/Halifax"],"America/Godthab":["America/Miquelon","America/Godthab"],"Asia/Dubai":["Europe/Moscow"],"Asia/Dhaka":["Asia/Yekaterinburg"],"Asia/Jakarta":["Asia/Omsk"],"Asia/Shanghai":["Asia/Krasnoyarsk","Australia/Perth"],"Asia/Tokyo":["Asia/Irkutsk"],"Australia/Brisbane":["Asia/Yakutsk"],"Pacific/Noumea":["Asia/Vladivostok"],"Pacific/Tarawa":["Asia/Kamchatka"],"Africa/Johannesburg":["Asia/Gaza","Africa/Cairo"],"Asia/Baghdad":["Europe/Minsk"]},r=e,i=function(){var e=n[r],i=e.length,s=0,o=e[0];for(;s<i;s+=1){o=e[s];if(t.date_is_dst(t.dst_start_for(o))){r=o;return}}},s=function(){return typeof n[r]!="undefined"};return s()&&i(),{name:function(){return r}}},t.olson={},t.olson.timezones={"-720,0":"Etc/GMT+12","-660,0":"Pacific/Pago_Pago","-600,1":"America/Adak","-600,0":"Pacific/Honolulu","-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala","-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Santiago","-210,1":"America/St_Johns","-180,1":"America/Godthab","-180,0":"America/Argentina/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"Etc/GMT+2","-120,1":"Etc/GMT+2","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"Etc/UTC","0,1":"Europe/London","60,1":"Europe/Berlin","60,0":"Africa/Lagos","60,1,s":"Africa/Windhoek","120,1":"Asia/Beirut","120,0":"Africa/Johannesburg","180,0":"Asia/Baghdad","180,1":"Europe/Moscow","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Baku","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg","300,0":"Asia/Karachi","330,0":"Asia/Kolkata","345,0":"Asia/Kathmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla","525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe","660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Tarawa","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"},typeof exports!="undefined"?exports.jstz=t:e.jstz=t})(this);
/*
Copyright (c) 2003-2013, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.html or http://ckeditor.com/license
*/

tangerineLibPath = window.location.pathname.split("/");
tangerineLibPath.pop();
tangerineLibPath.push("js","lib", "");
tangerineLibPath = tangerineLibPath.join("/");
window.CKEDITOR_BASEPATH = tangerineLibPath;

(function(){if(window.CKEDITOR&&window.CKEDITOR.dom)return;window.CKEDITOR||(window.CKEDITOR=function(){var b={timestamp:"D08E",version:"4.0.1",revision:"d02739be4b",rnd:Math.floor(900*Math.random())+100,_:{pending:[]},status:"unloaded",basePath:function(){var a=window.CKEDITOR_BASEPATH||"";if(!a)for(var b=document.getElementsByTagName("script"),d=0;d<b.length;d++){var c=b[d].src.match(/(^|.*[\\\/])ckeditor(?:_basic)?(?:_source)?.js(?:\?.*)?$/i);if(c){a=c[1];break}}-1==a.indexOf(":/")&&(a=0===a.indexOf("/")?location.href.match(/^.*?:\/\/[^\/]*/)[0]+a:location.href.match(/^[^\?]*\/(?:)/)[0]+
a);if(!a)throw'The CKEditor installation path could not be automatically detected. Please set the global variable "CKEDITOR_BASEPATH" before creating editor instances.';return a}(),getUrl:function(a){-1==a.indexOf(":/")&&0!==a.indexOf("/")&&(a=this.basePath+a);this.timestamp&&("/"!=a.charAt(a.length-1)&&!/[&?]t=/.test(a))&&(a+=(0<=a.indexOf("?")?"&":"?")+"t="+this.timestamp);return a},domReady:function(){function a(){try{document.addEventListener?(document.removeEventListener("DOMContentLoaded",a,
!1),b()):document.attachEvent&&"complete"===document.readyState&&(document.detachEvent("onreadystatechange",a),b())}catch(d){}}function b(){for(var a;a=d.shift();)a()}var d=[];return function(b){d.push(b);"complete"===document.readyState&&setTimeout(a,1);if(1==d.length)if(document.addEventListener)document.addEventListener("DOMContentLoaded",a,!1),window.addEventListener("load",a,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",a);window.attachEvent("onload",a);b=!1;try{b=
!window.frameElement}catch(e){}if(document.documentElement.doScroll&&b){var c=function(){try{document.documentElement.doScroll("left")}catch(b){setTimeout(c,1);return}a()};c()}}}}()},c=window.CKEDITOR_GETURL;if(c){var a=b.url;b.url=function(f){return c.call(b,f)||a.call(b,f)}}return b}());
CKEDITOR.event||(CKEDITOR.event=function(){},CKEDITOR.event.implementOn=function(b){var c=CKEDITOR.event.prototype,a;for(a in c)b[a]==void 0&&(b[a]=c[a])},CKEDITOR.event.prototype=function(){function b(f){var b=c(this);return b[f]||(b[f]=new a(f))}var c=function(a){a=a.getPrivate&&a.getPrivate()||a._||(a._={});return a.events||(a.events={})},a=function(a){this.name=a;this.listeners=[]};a.prototype={getListenerIndex:function(a){for(var b=0,d=this.listeners;b<d.length;b++)if(d[b].fn==a)return b;return-1}};
return{define:function(a,e){var d=b.call(this,a);CKEDITOR.tools.extend(d,e,true)},on:function(a,e,d,c,k){function h(b,l,o,n){b={name:a,sender:this,editor:b,data:l,listenerData:c,stop:o,cancel:n,removeListener:m};return e.call(d,b)===false?false:b.data}function m(){o.removeListener(a,e)}var n=b.call(this,a);if(n.getListenerIndex(e)<0){n=n.listeners;d||(d=this);isNaN(k)&&(k=10);var o=this;h.fn=e;h.priority=k;for(var l=n.length-1;l>=0;l--)if(n[l].priority<=k){n.splice(l+1,0,h);return{removeListener:m}}n.unshift(h)}return{removeListener:m}},
once:function(){var a=arguments[1];arguments[1]=function(b){b.removeListener();return a.apply(this,arguments)};return this.on.apply(this,arguments)},capture:function(){CKEDITOR.event.useCapture=1;var a=this.on.apply(this,arguments);CKEDITOR.event.useCapture=0;return a},fire:function(){var a=0,b=function(){a=1},d=0,g=function(){d=1};return function(k,h,m){var n=c(this)[k],k=a,o=d;a=d=0;if(n){var l=n.listeners;if(l.length)for(var l=l.slice(0),j,q=0;q<l.length;q++){if(n.errorProof)try{j=l[q].call(this,
m,h,b,g)}catch(y){}else j=l[q].call(this,m,h,b,g);j===false?d=1:typeof j!="undefined"&&(h=j);if(a||d)break}}h=d?false:typeof h=="undefined"?true:h;a=k;d=o;return h}}(),fireOnce:function(a,b,d){b=this.fire(a,b,d);delete c(this)[a];return b},removeListener:function(a,b){var d=c(this)[a];if(d){var g=d.getListenerIndex(b);g>=0&&d.listeners.splice(g,1)}},removeAllListeners:function(){var a=c(this),b;for(b in a)delete a[b]},hasListeners:function(a){return(a=c(this)[a])&&a.listeners.length>0}}}());
CKEDITOR.editor||(CKEDITOR.editor=function(){CKEDITOR._.pending.push([this,arguments]);CKEDITOR.event.call(this)},CKEDITOR.editor.prototype.fire=function(b,c){b in{instanceReady:1,loaded:1}&&(this[b]=true);return CKEDITOR.event.prototype.fire.call(this,b,c,this)},CKEDITOR.editor.prototype.fireOnce=function(b,c){b in{instanceReady:1,loaded:1}&&(this[b]=true);return CKEDITOR.event.prototype.fireOnce.call(this,b,c,this)},CKEDITOR.event.implementOn(CKEDITOR.editor.prototype));
CKEDITOR.env||(CKEDITOR.env=function(){var b=navigator.userAgent.toLowerCase(),c=window.opera,a={ie:eval("/*@cc_on!@*/false"),opera:!!c&&c.version,webkit:b.indexOf(" applewebkit/")>-1,air:b.indexOf(" adobeair/")>-1,mac:b.indexOf("macintosh")>-1,quirks:document.compatMode=="BackCompat",mobile:b.indexOf("mobile")>-1,iOS:/(ipad|iphone|ipod)/.test(b),isCustomDomain:function(){if(!this.ie)return false;var a=document.domain,b=window.location.hostname;return a!=b&&a!="["+b+"]"},secure:location.protocol==
"https:"};a.gecko=navigator.product=="Gecko"&&!a.webkit&&!a.opera;if(a.webkit)b.indexOf("chrome")>-1?a.chrome=true:a.safari=true;var f=0;if(a.ie){f=a.quirks||!document.documentMode?parseFloat(b.match(/msie (\d+)/)[1]):document.documentMode;a.ie9Compat=f==9;a.ie8Compat=f==8;a.ie7Compat=f==7;a.ie6Compat=f<7||a.quirks}if(a.gecko){var e=b.match(/rv:([\d\.]+)/);if(e){e=e[1].split(".");f=e[0]*1E4+(e[1]||0)*100+(e[2]||0)*1}}a.opera&&(f=parseFloat(c.version()));a.air&&(f=parseFloat(b.match(/ adobeair\/(\d+)/)[1]));
a.webkit&&(f=parseFloat(b.match(/ applewebkit\/(\d+)/)[1]));a.version=f;a.isCompatible=a.iOS&&f>=534||!a.mobile&&(a.ie&&f>6||a.gecko&&f>=10801||a.opera&&f>=9.5||a.air&&f>=1||a.webkit&&f>=522||false);a.cssClass="cke_browser_"+(a.ie?"ie":a.gecko?"gecko":a.opera?"opera":a.webkit?"webkit":"unknown");if(a.quirks)a.cssClass=a.cssClass+" cke_browser_quirks";if(a.ie){a.cssClass=a.cssClass+(" cke_browser_ie"+(a.quirks||a.version<7?"6":a.version));if(a.quirks)a.cssClass=a.cssClass+" cke_browser_iequirks"}if(a.gecko)if(f<
10900)a.cssClass=a.cssClass+" cke_browser_gecko18";else if(f<=11E3)a.cssClass=a.cssClass+" cke_browser_gecko19";if(a.air)a.cssClass=a.cssClass+" cke_browser_air";return a}());
"unloaded"==CKEDITOR.status&&function(){CKEDITOR.event.implementOn(CKEDITOR);CKEDITOR.loadFullCore=function(){if(CKEDITOR.status!="basic_ready")CKEDITOR.loadFullCore._load=1;else{delete CKEDITOR.loadFullCore;var b=document.createElement("script");b.type="text/javascript";b.src=CKEDITOR.basePath+"ckeditor.js";document.getElementsByTagName("head")[0].appendChild(b)}};CKEDITOR.loadFullCoreTimeout=0;CKEDITOR.add=function(b){(this._.pending||(this._.pending=[])).push(b)};(function(){CKEDITOR.domReady(function(){var b=
CKEDITOR.loadFullCore,c=CKEDITOR.loadFullCoreTimeout;if(b){CKEDITOR.status="basic_ready";b&&b._load?b():c&&setTimeout(function(){CKEDITOR.loadFullCore&&CKEDITOR.loadFullCore()},c*1E3)}})})();CKEDITOR.status="basic_loaded"}();CKEDITOR.dom={};
(function(){var b=[],c=CKEDITOR.env.gecko?"-moz-":CKEDITOR.env.webkit?"-webkit-":CKEDITOR.env.opera?"-o-":CKEDITOR.env.ie?"-ms-":"";CKEDITOR.on("reset",function(){b=[]});CKEDITOR.tools={arrayCompare:function(a,b){if(!a&&!b)return true;if(!a||!b||a.length!=b.length)return false;for(var e=0;e<a.length;e++)if(a[e]!=b[e])return false;return true},clone:function(a){var b;if(a&&a instanceof Array){b=[];for(var e=0;e<a.length;e++)b[e]=this.clone(a[e]);return b}if(a===null||typeof a!="object"||a instanceof
String||a instanceof Number||a instanceof Boolean||a instanceof Date||a instanceof RegExp)return a;b=new a.constructor;for(e in a)b[e]=this.clone(a[e]);return b},capitalize:function(a){return a.charAt(0).toUpperCase()+a.substring(1).toLowerCase()},extend:function(a){var b=arguments.length,e,d;if(typeof(e=arguments[b-1])=="boolean")b--;else if(typeof(e=arguments[b-2])=="boolean"){d=arguments[b-1];b=b-2}for(var c=1;c<b;c++){var k=arguments[c],h;for(h in k)if(e===true||a[h]==void 0)if(!d||h in d)a[h]=
k[h]}return a},prototypedCopy:function(a){var b=function(){};b.prototype=a;return new b},isArray:function(a){return!!a&&a instanceof Array},isEmpty:function(a){for(var b in a)if(a.hasOwnProperty(b))return false;return true},cssVendorPrefix:function(a,b,e){if(e)return c+a+":"+b+";"+a+":"+b;e={};e[a]=b;e[c+a]=b;return e},cssStyleToDomStyle:function(){var a=document.createElement("div").style,b=typeof a.cssFloat!="undefined"?"cssFloat":typeof a.styleFloat!="undefined"?"styleFloat":"float";return function(a){return a==
"float"?b:a.replace(/-./g,function(a){return a.substr(1).toUpperCase()})}}(),buildStyleHtml:function(a){for(var a=[].concat(a),b,e=[],c=0;c<a.length;c++)if(b=a[c])/@import|[{}]/.test(b)?e.push("<style>"+b+"</style>"):e.push('<link type="text/css" rel=stylesheet href="'+b+'">');return e.join("")},htmlEncode:function(a){return(""+a).replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;")},htmlEncodeAttr:function(a){return a.replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},getNextNumber:function(){var a=
0;return function(){return++a}}(),getNextId:function(){return"cke_"+this.getNextNumber()},override:function(a,b){var e=b(a);e.prototype=a.prototype;return e},setTimeout:function(a,b,e,c,g){g||(g=window);e||(e=g);return g.setTimeout(function(){c?a.apply(e,[].concat(c)):a.apply(e)},b||0)},trim:function(){var a=/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g;return function(b){return b.replace(a,"")}}(),ltrim:function(){var a=/^[ \t\n\r]+/g;return function(b){return b.replace(a,"")}}(),rtrim:function(){var a=/[ \t\n\r]+$/g;
return function(b){return b.replace(a,"")}}(),indexOf:function(a,b){if(typeof b=="function")for(var c=0,d=a.length;c<d;c++){if(b(a[c]))return c}else{if(a.indexOf)return a.indexOf(b);c=0;for(d=a.length;c<d;c++)if(a[c]===b)return c}return-1},search:function(a,b){var c=CKEDITOR.tools.indexOf(a,b);return c>=0?a[c]:null},bind:function(a,b){return function(){return a.apply(b,arguments)}},createClass:function(a){var b=a.$,c=a.base,d=a.privates||a._,g=a.proto,a=a.statics;!b&&(b=function(){c&&this.base.apply(this,
arguments)});if(d)var k=b,b=function(){var a=this._||(this._={}),b;for(b in d){var f=d[b];a[b]=typeof f=="function"?CKEDITOR.tools.bind(f,this):f}k.apply(this,arguments)};if(c){b.prototype=this.prototypedCopy(c.prototype);b.prototype.constructor=b;b.base=c;b.baseProto=c.prototype;b.prototype.base=function(){this.base=c.prototype.base;c.apply(this,arguments);this.base=arguments.callee}}g&&this.extend(b.prototype,g,true);a&&this.extend(b,a,true);return b},addFunction:function(a,f){return b.push(function(){return a.apply(f||
this,arguments)})-1},removeFunction:function(a){b[a]=null},callFunction:function(a){var f=b[a];return f&&f.apply(window,Array.prototype.slice.call(arguments,1))},cssLength:function(){var a=/^-?\d+\.?\d*px$/,b;return function(c){b=CKEDITOR.tools.trim(c+"")+"px";return a.test(b)?b:c||""}}(),convertToPx:function(){var a;return function(b){if(!a){a=CKEDITOR.dom.element.createFromHtml('<div style="position:absolute;left:-9999px;top:-9999px;margin:0px;padding:0px;border:0px;"></div>',CKEDITOR.document);
CKEDITOR.document.getBody().append(a)}if(!/%$/.test(b)){a.setStyle("width",b);return a.$.clientWidth}return b}}(),repeat:function(a,b){return Array(b+1).join(a)},tryThese:function(){for(var a,b=0,c=arguments.length;b<c;b++){var d=arguments[b];try{a=d();break}catch(g){}}return a},genKey:function(){return Array.prototype.slice.call(arguments).join("-")},defer:function(a){return function(){var b=arguments,c=this;window.setTimeout(function(){a.apply(c,b)},0)}},normalizeCssText:function(a,b){var c=[],
d,g=CKEDITOR.tools.parseCssText(a,true,b);for(d in g)c.push(d+":"+g[d]);c.sort();return c.length?c.join(";")+";":""},convertRgbToHex:function(a){return a.replace(/(?:rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\))/gi,function(a,b,c,g){a=[b,c,g];for(b=0;b<3;b++)a[b]=("0"+parseInt(a[b],10).toString(16)).slice(-2);return"#"+a.join("")})},parseCssText:function(a,b,c){var d={};if(c){c=new CKEDITOR.dom.element("span");c.setAttribute("style",a);a=CKEDITOR.tools.convertRgbToHex(c.getAttribute("style")||"")}if(!a||
a==";")return d;a.replace(/&quot;/g,'"').replace(/\s*([^:;\s]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(a,c,e){if(b){c=c.toLowerCase();c=="font-family"&&(e=e.toLowerCase().replace(/["']/g,"").replace(/\s*,\s*/g,","));e=CKEDITOR.tools.trim(e)}d[c]=e});return d}}})();
CKEDITOR.dtd=function(){var b=CKEDITOR.tools.extend,c=function(a,b){for(var f=CKEDITOR.tools.clone(a),l=1;l<arguments.length;l++){var b=arguments[l],j;for(j in b)delete f[j]}return f},a={},f={},e={address:1,article:1,aside:1,blockquote:1,details:1,div:1,dl:1,fieldset:1,figure:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,hr:1,menu:1,nav:1,ol:1,p:1,pre:1,section:1,table:1,ul:1},d={command:1,link:1,meta:1,noscript:1,script:1,style:1},g={},k={"#":1},h={center:1,dir:1,noframes:1};
b(a,{a:1,abbr:1,area:1,audio:1,b:1,bdi:1,bdo:1,br:1,button:1,canvas:1,cite:1,code:1,command:1,datalist:1,del:1,dfn:1,em:1,embed:1,i:1,iframe:1,img:1,input:1,ins:1,kbd:1,keygen:1,label:1,map:1,mark:1,meter:1,noscript:1,object:1,output:1,progress:1,q:1,ruby:1,s:1,samp:1,script:1,select:1,small:1,span:1,strong:1,sub:1,sup:1,textarea:1,time:1,u:1,"var":1,video:1,wbr:1},k,{acronym:1,applet:1,basefont:1,big:1,font:1,isindex:1,strike:1,style:1,tt:1});b(f,e,a,h);c={a:c(a,{a:1,button:1}),abbr:a,address:f,
area:g,article:b({style:1},f),aside:b({style:1},f),audio:b({source:1,track:1},f),b:a,base:g,bdi:a,bdo:a,blockquote:f,body:f,br:g,button:c(a,{a:1,button:1}),canvas:a,caption:f,cite:a,code:a,col:g,colgroup:{col:1},command:g,datalist:b({option:1},a),dd:f,del:a,details:b({summary:1},f),dfn:a,div:b({style:1},f),dl:{dt:1,dd:1},dt:f,em:a,embed:g,fieldset:b({legend:1},f),figcaption:f,figure:b({figcaption:1},f),footer:f,form:f,h1:a,h2:a,h3:a,h4:a,h5:a,h6:a,head:b({title:1,base:1},d),header:f,hgroup:{h1:1,
h2:1,h3:1,h4:1,h5:1,h6:1},hr:g,html:b({head:1,body:1},f,d),i:a,iframe:k,img:g,input:g,ins:a,kbd:a,keygen:g,label:a,legend:a,li:f,link:g,map:f,mark:a,menu:b({li:1},f),meta:g,meter:c(a,{meter:1}),nav:f,noscript:b({link:1,meta:1,style:1},a),object:b({param:1},a),ol:{li:1},optgroup:{option:1},option:k,output:a,p:a,param:g,pre:a,progress:c(a,{progress:1}),q:a,rp:a,rt:a,ruby:b({rp:1,rt:1},a),s:a,samp:a,script:k,section:b({style:1},f),select:{optgroup:1,option:1},small:a,source:g,span:a,strong:a,style:k,
sub:a,summary:a,sup:a,table:{caption:1,colgroup:1,thead:1,tfoot:1,tbody:1,tr:1},tbody:{tr:1},td:f,textarea:k,tfoot:{tr:1},th:f,thead:{tr:1},time:c(a,{time:1}),title:k,tr:{th:1,td:1},track:g,u:a,ul:{li:1},"var":a,video:b({source:1,track:1},f),wbr:g,acronym:a,applet:b({param:1},f),basefont:g,big:a,center:f,dialog:g,dir:{li:1},font:a,isindex:g,noframes:f,strike:a,tt:a};b(c,{$block:b({audio:1,dd:1,dt:1,li:1,video:1},e,h),$blockLimit:{article:1,aside:1,audio:1,body:1,caption:1,details:1,dir:1,div:1,dl:1,
fieldset:1,figure:1,footer:1,form:1,header:1,hgroup:1,menu:1,nav:1,ol:1,section:1,table:1,td:1,th:1,tr:1,ul:1,video:1},$cdata:{script:1,style:1},$editable:{address:1,article:1,aside:1,blockquote:1,body:1,details:1,div:1,fieldset:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,nav:1,p:1,pre:1,section:1},$empty:{area:1,base:1,basefont:1,br:1,col:1,command:1,dialog:1,embed:1,hr:1,img:1,input:1,isindex:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1},$inline:a,$list:{dl:1,ol:1,
ul:1},$listItem:{dd:1,dt:1,li:1},$nonBodyContent:b({body:1,head:1,html:1},c.head),$nonEditable:{applet:1,audio:1,button:1,embed:1,iframe:1,map:1,object:1,option:1,param:1,script:1,textarea:1,video:1},$object:{applet:1,audio:1,button:1,hr:1,iframe:1,img:1,input:1,object:1,select:1,table:1,textarea:1,video:1},$removeEmpty:{abbr:1,acronym:1,b:1,bdi:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,mark:1,meter:1,output:1,q:1,ruby:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,
sub:1,sup:1,time:1,tt:1,u:1,"var":1},$tabIndex:{a:1,area:1,button:1,input:1,object:1,select:1,textarea:1},$tableContent:{caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1},$transparent:{a:1,audio:1,canvas:1,del:1,ins:1,map:1,noscript:1,object:1,video:1},$intermediate:{caption:1,colgroup:1,dd:1,dt:1,figcaption:1,legend:1,li:1,optgroup:1,option:1,rp:1,rt:1,summary:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1}});return c}();CKEDITOR.dom.event=function(b){this.$=b};
CKEDITOR.dom.event.prototype={getKey:function(){return this.$.keyCode||this.$.which},getKeystroke:function(){var b=this.getKey();if(this.$.ctrlKey||this.$.metaKey)b=b+CKEDITOR.CTRL;this.$.shiftKey&&(b=b+CKEDITOR.SHIFT);this.$.altKey&&(b=b+CKEDITOR.ALT);return b},preventDefault:function(b){var c=this.$;c.preventDefault?c.preventDefault():c.returnValue=false;b&&this.stopPropagation()},stopPropagation:function(){var b=this.$;b.stopPropagation?b.stopPropagation():b.cancelBubble=true},getTarget:function(){var b=
this.$.target||this.$.srcElement;return b?new CKEDITOR.dom.node(b):null},getPhase:function(){return this.$.eventPhase||2},getPageOffset:function(){var b=this.getTarget().getDocument().$;return{x:this.$.pageX||this.$.clientX+(b.documentElement.scrollLeft||b.body.scrollLeft),y:this.$.pageY||this.$.clientY+(b.documentElement.scrollTop||b.body.scrollTop)}}};CKEDITOR.CTRL=1114112;CKEDITOR.SHIFT=2228224;CKEDITOR.ALT=4456448;CKEDITOR.EVENT_PHASE_CAPTURING=1;CKEDITOR.EVENT_PHASE_AT_TARGET=2;
CKEDITOR.EVENT_PHASE_BUBBLING=3;CKEDITOR.dom.domObject=function(b){if(b)this.$=b};
CKEDITOR.dom.domObject.prototype=function(){var b=function(b,a){return function(f){typeof CKEDITOR!="undefined"&&b.fire(a,new CKEDITOR.dom.event(f))}};return{getPrivate:function(){var b;if(!(b=this.getCustomData("_")))this.setCustomData("_",b={});return b},on:function(c){var a=this.getCustomData("_cke_nativeListeners");if(!a){a={};this.setCustomData("_cke_nativeListeners",a)}if(!a[c]){a=a[c]=b(this,c);this.$.addEventListener?this.$.addEventListener(c,a,!!CKEDITOR.event.useCapture):this.$.attachEvent&&
this.$.attachEvent("on"+c,a)}return CKEDITOR.event.prototype.on.apply(this,arguments)},removeListener:function(b){CKEDITOR.event.prototype.removeListener.apply(this,arguments);if(!this.hasListeners(b)){var a=this.getCustomData("_cke_nativeListeners"),f=a&&a[b];if(f){this.$.removeEventListener?this.$.removeEventListener(b,f,false):this.$.detachEvent&&this.$.detachEvent("on"+b,f);delete a[b]}}},removeAllListeners:function(){var b=this.getCustomData("_cke_nativeListeners"),a;for(a in b){var f=b[a];this.$.detachEvent?
this.$.detachEvent("on"+a,f):this.$.removeEventListener&&this.$.removeEventListener(a,f,false);delete b[a]}}}}();
(function(b){var c={};CKEDITOR.on("reset",function(){c={}});b.equals=function(a){try{return a&&a.$===this.$}catch(b){return false}};b.setCustomData=function(a,b){var e=this.getUniqueId();(c[e]||(c[e]={}))[a]=b;return this};b.getCustomData=function(a){var b=this.$["data-cke-expando"];return(b=b&&c[b])&&a in b?b[a]:null};b.removeCustomData=function(a){var b=this.$["data-cke-expando"],b=b&&c[b],e,d;if(b){e=b[a];d=a in b;delete b[a]}return d?e:null};b.clearCustomData=function(){this.removeAllListeners();
var a=this.$["data-cke-expando"];a&&delete c[a]};b.getUniqueId=function(){return this.$["data-cke-expando"]||(this.$["data-cke-expando"]=CKEDITOR.tools.getNextNumber())};CKEDITOR.event.implementOn(b)})(CKEDITOR.dom.domObject.prototype);
CKEDITOR.dom.node=function(b){return b?new CKEDITOR.dom[b.nodeType==CKEDITOR.NODE_DOCUMENT?"document":b.nodeType==CKEDITOR.NODE_ELEMENT?"element":b.nodeType==CKEDITOR.NODE_TEXT?"text":b.nodeType==CKEDITOR.NODE_COMMENT?"comment":b.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT?"documentFragment":"domObject"](b):this};CKEDITOR.dom.node.prototype=new CKEDITOR.dom.domObject;CKEDITOR.NODE_ELEMENT=1;CKEDITOR.NODE_DOCUMENT=9;CKEDITOR.NODE_TEXT=3;CKEDITOR.NODE_COMMENT=8;CKEDITOR.NODE_DOCUMENT_FRAGMENT=11;
CKEDITOR.POSITION_IDENTICAL=0;CKEDITOR.POSITION_DISCONNECTED=1;CKEDITOR.POSITION_FOLLOWING=2;CKEDITOR.POSITION_PRECEDING=4;CKEDITOR.POSITION_IS_CONTAINED=8;CKEDITOR.POSITION_CONTAINS=16;
CKEDITOR.tools.extend(CKEDITOR.dom.node.prototype,{appendTo:function(b,c){b.append(this,c);return b},clone:function(b,c){var a=this.$.cloneNode(b),f=function(a){a["data-cke-expando"]&&(a["data-cke-expando"]=false);if(a.nodeType==CKEDITOR.NODE_ELEMENT){c||a.removeAttribute("id",false);if(b)for(var a=a.childNodes,d=0;d<a.length;d++)f(a[d])}};f(a);return new CKEDITOR.dom.node(a)},hasPrevious:function(){return!!this.$.previousSibling},hasNext:function(){return!!this.$.nextSibling},insertAfter:function(b){b.$.parentNode.insertBefore(this.$,
b.$.nextSibling);return b},insertBefore:function(b){b.$.parentNode.insertBefore(this.$,b.$);return b},insertBeforeMe:function(b){this.$.parentNode.insertBefore(b.$,this.$);return b},getAddress:function(b){for(var c=[],a=this.getDocument().$.documentElement,f=this.$;f&&f!=a;){var e=f.parentNode;e&&c.unshift(this.getIndex.call({$:f},b));f=e}return c},getDocument:function(){return new CKEDITOR.dom.document(this.$.ownerDocument||this.$.parentNode.ownerDocument)},getIndex:function(b){var c=this.$,a=-1,
f;if(!this.$.parentNode)return a;do if(!b||!(c!=this.$&&c.nodeType==CKEDITOR.NODE_TEXT&&(f||!c.nodeValue))){a++;f=c.nodeType==CKEDITOR.NODE_TEXT}while(c=c.previousSibling);return a},getNextSourceNode:function(b,c,a){if(a&&!a.call)var f=a,a=function(a){return!a.equals(f)};var b=!b&&this.getFirst&&this.getFirst(),e;if(!b){if(this.type==CKEDITOR.NODE_ELEMENT&&a&&a(this,true)===false)return null;b=this.getNext()}for(;!b&&(e=(e||this).getParent());){if(a&&a(e,true)===false)return null;b=e.getNext()}return!b||
a&&a(b)===false?null:c&&c!=b.type?b.getNextSourceNode(false,c,a):b},getPreviousSourceNode:function(b,c,a){if(a&&!a.call)var f=a,a=function(a){return!a.equals(f)};var b=!b&&this.getLast&&this.getLast(),e;if(!b){if(this.type==CKEDITOR.NODE_ELEMENT&&a&&a(this,true)===false)return null;b=this.getPrevious()}for(;!b&&(e=(e||this).getParent());){if(a&&a(e,true)===false)return null;b=e.getPrevious()}return!b||a&&a(b)===false?null:c&&b.type!=c?b.getPreviousSourceNode(false,c,a):b},getPrevious:function(b){var c=
this.$,a;do a=(c=c.previousSibling)&&c.nodeType!=10&&new CKEDITOR.dom.node(c);while(a&&b&&!b(a));return a},getNext:function(b){var c=this.$,a;do a=(c=c.nextSibling)&&new CKEDITOR.dom.node(c);while(a&&b&&!b(a));return a},getParent:function(b){var c=this.$.parentNode;return c&&(c.nodeType==CKEDITOR.NODE_ELEMENT||b&&c.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)?new CKEDITOR.dom.node(c):null},getParents:function(b){var c=this,a=[];do a[b?"push":"unshift"](c);while(c=c.getParent());return a},getCommonAncestor:function(b){if(b.equals(this))return this;
if(b.contains&&b.contains(this))return b;var c=this.contains?this:this.getParent();do if(c.contains(b))return c;while(c=c.getParent());return null},getPosition:function(b){var c=this.$,a=b.$;if(c.compareDocumentPosition)return c.compareDocumentPosition(a);if(c==a)return CKEDITOR.POSITION_IDENTICAL;if(this.type==CKEDITOR.NODE_ELEMENT&&b.type==CKEDITOR.NODE_ELEMENT){if(c.contains){if(c.contains(a))return CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING;if(a.contains(c))return CKEDITOR.POSITION_IS_CONTAINED+
CKEDITOR.POSITION_FOLLOWING}if("sourceIndex"in c)return c.sourceIndex<0||a.sourceIndex<0?CKEDITOR.POSITION_DISCONNECTED:c.sourceIndex<a.sourceIndex?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING}for(var c=this.getAddress(),b=b.getAddress(),a=Math.min(c.length,b.length),f=0;f<=a-1;f++)if(c[f]!=b[f]){if(f<a)return c[f]<b[f]?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING;break}return c.length<b.length?CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_IS_CONTAINED+
CKEDITOR.POSITION_FOLLOWING},getAscendant:function(b,c){var a=this.$,f;if(!c)a=a.parentNode;for(;a;){if(a.nodeName&&(f=a.nodeName.toLowerCase(),typeof b=="string"?f==b:f in b))return new CKEDITOR.dom.node(a);a=a.parentNode}return null},hasAscendant:function(b,c){var a=this.$;if(!c)a=a.parentNode;for(;a;){if(a.nodeName&&a.nodeName.toLowerCase()==b)return true;a=a.parentNode}return false},move:function(b,c){b.append(this.remove(),c)},remove:function(b){var c=this.$,a=c.parentNode;if(a){if(b)for(;b=
c.firstChild;)a.insertBefore(c.removeChild(b),c);a.removeChild(c)}return this},replace:function(b){this.insertBefore(b);b.remove()},trim:function(){this.ltrim();this.rtrim()},ltrim:function(){for(var b;this.getFirst&&(b=this.getFirst());){if(b.type==CKEDITOR.NODE_TEXT){var c=CKEDITOR.tools.ltrim(b.getText()),a=b.getLength();if(c){if(c.length<a){b.split(a-c.length);this.$.removeChild(this.$.firstChild)}}else{b.remove();continue}}break}},rtrim:function(){for(var b;this.getLast&&(b=this.getLast());){if(b.type==
CKEDITOR.NODE_TEXT){var c=CKEDITOR.tools.rtrim(b.getText()),a=b.getLength();if(c){if(c.length<a){b.split(c.length);this.$.lastChild.parentNode.removeChild(this.$.lastChild)}}else{b.remove();continue}}break}if(!CKEDITOR.env.ie&&!CKEDITOR.env.opera)(b=this.$.lastChild)&&(b.type==1&&b.nodeName.toLowerCase()=="br")&&b.parentNode.removeChild(b)},isReadOnly:function(){var b=this;this.type!=CKEDITOR.NODE_ELEMENT&&(b=this.getParent());if(b&&typeof b.$.isContentEditable!="undefined")return!(b.$.isContentEditable||
b.data("cke-editable"));for(;b;){if(b.data("cke-editable"))break;if(b.getAttribute("contentEditable")=="false")return true;if(b.getAttribute("contentEditable")=="true")break;b=b.getParent()}return!b}});CKEDITOR.dom.window=function(b){CKEDITOR.dom.domObject.call(this,b)};CKEDITOR.dom.window.prototype=new CKEDITOR.dom.domObject;
CKEDITOR.tools.extend(CKEDITOR.dom.window.prototype,{focus:function(){this.$.focus()},getViewPaneSize:function(){var b=this.$.document,c=b.compatMode=="CSS1Compat";return{width:(c?b.documentElement.clientWidth:b.body.clientWidth)||0,height:(c?b.documentElement.clientHeight:b.body.clientHeight)||0}},getScrollPosition:function(){var b=this.$;if("pageXOffset"in b)return{x:b.pageXOffset||0,y:b.pageYOffset||0};b=b.document;return{x:b.documentElement.scrollLeft||b.body.scrollLeft||0,y:b.documentElement.scrollTop||
b.body.scrollTop||0}},getFrame:function(){var b=this.$.frameElement;return b?new CKEDITOR.dom.element.get(b):null}});CKEDITOR.dom.document=function(b){CKEDITOR.dom.domObject.call(this,b)};CKEDITOR.dom.document.prototype=new CKEDITOR.dom.domObject;
CKEDITOR.tools.extend(CKEDITOR.dom.document.prototype,{type:CKEDITOR.NODE_DOCUMENT,appendStyleSheet:function(b){if(this.$.createStyleSheet)this.$.createStyleSheet(b);else{var c=new CKEDITOR.dom.element("link");c.setAttributes({rel:"stylesheet",type:"text/css",href:b});this.getHead().append(c)}},appendStyleText:function(b){if(this.$.createStyleSheet){var c=this.$.createStyleSheet("");c.cssText=b}else{var a=new CKEDITOR.dom.element("style",this);a.append(new CKEDITOR.dom.text(b,this));this.getHead().append(a)}return c||
a.$.sheet},createElement:function(b,c){var a=new CKEDITOR.dom.element(b,this);if(c){c.attributes&&a.setAttributes(c.attributes);c.styles&&a.setStyles(c.styles)}return a},createText:function(b){return new CKEDITOR.dom.text(b,this)},focus:function(){this.getWindow().focus()},getActive:function(){return new CKEDITOR.dom.element(this.$.activeElement)},getById:function(b){return(b=this.$.getElementById(b))?new CKEDITOR.dom.element(b):null},getByAddress:function(b,c){for(var a=this.$.documentElement,f=
0;a&&f<b.length;f++){var e=b[f];if(c)for(var d=-1,g=0;g<a.childNodes.length;g++){var k=a.childNodes[g];if(!(c===true&&k.nodeType==3&&k.previousSibling&&k.previousSibling.nodeType==3)){d++;if(d==e){a=k;break}}}else a=a.childNodes[e]}return a?new CKEDITOR.dom.node(a):null},getElementsByTag:function(b,c){if((!CKEDITOR.env.ie||document.documentMode>8)&&c)b=c+":"+b;return new CKEDITOR.dom.nodeList(this.$.getElementsByTagName(b))},getHead:function(){var b=this.$.getElementsByTagName("head")[0];return b=
b?new CKEDITOR.dom.element(b):this.getDocumentElement().append(new CKEDITOR.dom.element("head"),true)},getBody:function(){return new CKEDITOR.dom.element(this.$.body)},getDocumentElement:function(){return new CKEDITOR.dom.element(this.$.documentElement)},getWindow:function(){var b=new CKEDITOR.dom.window(this.$.parentWindow||this.$.defaultView);return(this.getWindow=function(){return b})()},write:function(b){this.$.open("text/html","replace");CKEDITOR.env.isCustomDomain()&&(this.$.domain=document.domain);
this.$.write(b);this.$.close()}});CKEDITOR.dom.nodeList=function(b){this.$=b};CKEDITOR.dom.nodeList.prototype={count:function(){return this.$.length},getItem:function(b){if(b<0||b>=this.$.length)return null;return(b=this.$[b])?new CKEDITOR.dom.node(b):null}};CKEDITOR.dom.element=function(b,c){typeof b=="string"&&(b=(c?c.$:document).createElement(b));CKEDITOR.dom.domObject.call(this,b)};
CKEDITOR.dom.element.get=function(b){return(b=typeof b=="string"?document.getElementById(b)||document.getElementsByName(b)[0]:b)&&(b.$?b:new CKEDITOR.dom.element(b))};CKEDITOR.dom.element.prototype=new CKEDITOR.dom.node;CKEDITOR.dom.element.createFromHtml=function(b,c){var a=new CKEDITOR.dom.element("div",c);a.setHtml(b);return a.getFirst().remove()};
CKEDITOR.dom.element.setMarker=function(b,c,a,f){var e=c.getCustomData("list_marker_id")||c.setCustomData("list_marker_id",CKEDITOR.tools.getNextNumber()).getCustomData("list_marker_id"),d=c.getCustomData("list_marker_names")||c.setCustomData("list_marker_names",{}).getCustomData("list_marker_names");b[e]=c;d[a]=1;return c.setCustomData(a,f)};CKEDITOR.dom.element.clearAllMarkers=function(b){for(var c in b)CKEDITOR.dom.element.clearMarkers(b,b[c],1)};
CKEDITOR.dom.element.clearMarkers=function(b,c,a){var f=c.getCustomData("list_marker_names"),e=c.getCustomData("list_marker_id"),d;for(d in f)c.removeCustomData(d);c.removeCustomData("list_marker_names");if(a){c.removeCustomData("list_marker_id");delete b[e]}};
(function(){function b(a){for(var b=0,e=0,d=c[a].length;e<d;e++)b=b+(parseInt(this.getComputedStyle(c[a][e])||0,10)||0);return b}CKEDITOR.tools.extend(CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_ELEMENT,addClass:function(a){var b=this.$.className;b&&(RegExp("(?:^|\\s)"+a+"(?:\\s|$)","").test(b)||(b=b+(" "+a)));this.$.className=b||a},removeClass:function(a){var b=this.getAttribute("class");if(b){a=RegExp("(?:^|\\s+)"+a+"(?=\\s|$)","i");if(a.test(b))(b=b.replace(a,"").replace(/^\s+/,""))?this.setAttribute("class",
b):this.removeAttribute("class")}return this},hasClass:function(a){return RegExp("(?:^|\\s+)"+a+"(?=\\s|$)","").test(this.getAttribute("class"))},append:function(a,b){typeof a=="string"&&(a=this.getDocument().createElement(a));b?this.$.insertBefore(a.$,this.$.firstChild):this.$.appendChild(a.$);return a},appendHtml:function(a){if(this.$.childNodes.length){var b=new CKEDITOR.dom.element("div",this.getDocument());b.setHtml(a);b.moveChildren(this)}else this.setHtml(a)},appendText:function(a){this.$.text!=
void 0?this.$.text=this.$.text+a:this.append(new CKEDITOR.dom.text(a))},appendBogus:function(){for(var a=this.getLast();a&&a.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.rtrim(a.getText());)a=a.getPrevious();if(!a||!a.is||!a.is("br")){a=CKEDITOR.env.opera?this.getDocument().createText(""):this.getDocument().createElement("br");CKEDITOR.env.gecko&&a.setAttribute("type","_moz");this.append(a)}},breakParent:function(a){var b=new CKEDITOR.dom.range(this.getDocument());b.setStartAfter(this);b.setEndAfter(a);
a=b.extractContents();b.insertNode(this.remove());a.insertAfterNode(this)},contains:CKEDITOR.env.ie||CKEDITOR.env.webkit?function(a){var b=this.$;return a.type!=CKEDITOR.NODE_ELEMENT?b.contains(a.getParent().$):b!=a.$&&b.contains(a.$)}:function(a){return!!(this.$.compareDocumentPosition(a.$)&16)},focus:function(){function a(){try{this.$.focus()}catch(a){}}return function(b){b?CKEDITOR.tools.setTimeout(a,100,this):a.call(this)}}(),getHtml:function(){var a=this.$.innerHTML;return CKEDITOR.env.ie?a.replace(/<\?[^>]*>/g,
""):a},getOuterHtml:function(){if(this.$.outerHTML)return this.$.outerHTML.replace(/<\?[^>]*>/,"");var a=this.$.ownerDocument.createElement("div");a.appendChild(this.$.cloneNode(true));return a.innerHTML},getClientRect:function(){var a=CKEDITOR.tools.extend({},this.$.getBoundingClientRect());!a.width&&(a.width=a.right-a.left);!a.height&&(a.height=a.bottom-a.top);return a},setHtml:function(){var a=function(a){return this.$.innerHTML=a};return CKEDITOR.env.ie&&CKEDITOR.env.version<9?function(a){try{return this.$.innerHTML=
a}catch(b){this.$.innerHTML="";var c=new CKEDITOR.dom.element("body",this.getDocument());c.$.innerHTML=a;for(c=c.getChildren();c.count();)this.append(c.getItem(0));return a}}:a}(),setText:function(a){CKEDITOR.dom.element.prototype.setText=this.$.innerText!=void 0?function(a){return this.$.innerText=a}:function(a){return this.$.textContent=a};return this.setText(a)},getAttribute:function(){var a=function(a){return this.$.getAttribute(a,2)};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)?
function(a){switch(a){case "class":a="className";break;case "http-equiv":a="httpEquiv";break;case "name":return this.$.name;case "tabindex":a=this.$.getAttribute(a,2);a!==0&&this.$.tabIndex===0&&(a=null);return a;case "checked":a=this.$.attributes.getNamedItem(a);return(a.specified?a.nodeValue:this.$.checked)?"checked":null;case "hspace":case "value":return this.$[a];case "style":return this.$.style.cssText;case "contenteditable":case "contentEditable":return this.$.attributes.getNamedItem("contentEditable").specified?
this.$.getAttribute("contentEditable"):null}return this.$.getAttribute(a,2)}:a}(),getChildren:function(){return new CKEDITOR.dom.nodeList(this.$.childNodes)},getComputedStyle:CKEDITOR.env.ie?function(a){return this.$.currentStyle[CKEDITOR.tools.cssStyleToDomStyle(a)]}:function(a){var b=this.getWindow().$.getComputedStyle(this.$,null);return b?b.getPropertyValue(a):""},getDtd:function(){var a=CKEDITOR.dtd[this.getName()];this.getDtd=function(){return a};return a},getElementsByTag:CKEDITOR.dom.document.prototype.getElementsByTag,
getTabIndex:CKEDITOR.env.ie?function(){var a=this.$.tabIndex;a===0&&(!CKEDITOR.dtd.$tabIndex[this.getName()]&&parseInt(this.getAttribute("tabindex"),10)!==0)&&(a=-1);return a}:CKEDITOR.env.webkit?function(){var a=this.$.tabIndex;if(a==void 0){a=parseInt(this.getAttribute("tabindex"),10);isNaN(a)&&(a=-1)}return a}:function(){return this.$.tabIndex},getText:function(){return this.$.textContent||this.$.innerText||""},getWindow:function(){return this.getDocument().getWindow()},getId:function(){return this.$.id||
null},getNameAtt:function(){return this.$.name||null},getName:function(){var a=this.$.nodeName.toLowerCase();if(CKEDITOR.env.ie&&!(document.documentMode>8)){var b=this.$.scopeName;b!="HTML"&&(a=b.toLowerCase()+":"+a)}return(this.getName=function(){return a})()},getValue:function(){return this.$.value},getFirst:function(a){var b=this.$.firstChild;(b=b&&new CKEDITOR.dom.node(b))&&(a&&!a(b))&&(b=b.getNext(a));return b},getLast:function(a){var b=this.$.lastChild;(b=b&&new CKEDITOR.dom.node(b))&&(a&&!a(b))&&
(b=b.getPrevious(a));return b},getStyle:function(a){return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(a)]},is:function(){var a=this.getName();if(typeof arguments[0]=="object")return!!arguments[0][a];for(var b=0;b<arguments.length;b++)if(arguments[b]==a)return true;return false},isEditable:function(a){var b=this.getName();if(this.isReadOnly()||this.getComputedStyle("display")=="none"||this.getComputedStyle("visibility")=="hidden"||CKEDITOR.dtd.$nonEditable[b]||CKEDITOR.dtd.$empty[b]||this.is("a")&&
(this.data("cke-saved-name")||this.hasAttribute("name"))&&!this.getChildCount())return false;if(a!==false){a=CKEDITOR.dtd[b]||CKEDITOR.dtd.span;return!(!a||!a["#"])}return true},isIdentical:function(a){var b=this.clone(0,1),a=a.clone(0,1);b.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]);a.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]);if(b.$.isEqualNode){b.$.style.cssText=CKEDITOR.tools.normalizeCssText(b.$.style.cssText);
a.$.style.cssText=CKEDITOR.tools.normalizeCssText(a.$.style.cssText);return b.$.isEqualNode(a.$)}b=b.getOuterHtml();a=a.getOuterHtml();if(CKEDITOR.env.ie&&CKEDITOR.env.version<9&&this.is("a")){var c=this.getParent();if(c.type==CKEDITOR.NODE_ELEMENT){c=c.clone();c.setHtml(b);b=c.getHtml();c.setHtml(a);a=c.getHtml()}}return b==a},isVisible:function(){var a=(this.$.offsetHeight||this.$.offsetWidth)&&this.getComputedStyle("visibility")!="hidden",b,c;if(a&&(CKEDITOR.env.webkit||CKEDITOR.env.opera)){b=
this.getWindow();if(!b.equals(CKEDITOR.document.getWindow())&&(c=b.$.frameElement))a=(new CKEDITOR.dom.element(c)).isVisible()}return!!a},isEmptyInlineRemoveable:function(){if(!CKEDITOR.dtd.$removeEmpty[this.getName()])return false;for(var a=this.getChildren(),b=0,c=a.count();b<c;b++){var d=a.getItem(b);if(!(d.type==CKEDITOR.NODE_ELEMENT&&d.data("cke-bookmark"))&&(d.type==CKEDITOR.NODE_ELEMENT&&!d.isEmptyInlineRemoveable()||d.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(d.getText())))return false}return true},
hasAttributes:CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)?function(){for(var a=this.$.attributes,b=0;b<a.length;b++){var c=a[b];switch(c.nodeName){case "class":if(this.getAttribute("class"))return true;case "data-cke-expando":continue;default:if(c.specified)return true}}return false}:function(){var a=this.$.attributes,b=a.length,c={"data-cke-expando":1,_moz_dirty:1};return b>0&&(b>2||!c[a[0].nodeName]||b==2&&!c[a[1].nodeName])},hasAttribute:function(){function a(a){a=this.$.attributes.getNamedItem(a);
return!(!a||!a.specified)}return CKEDITOR.env.ie&&CKEDITOR.env.version<8?function(b){return b=="name"?!!this.$.name:a.call(this,b)}:a}(),hide:function(){this.setStyle("display","none")},moveChildren:function(a,b){var c=this.$,a=a.$;if(c!=a){var d;if(b)for(;d=c.lastChild;)a.insertBefore(c.removeChild(d),a.firstChild);else for(;d=c.firstChild;)a.appendChild(c.removeChild(d))}},mergeSiblings:function(){function a(a,b,c){if(b&&b.type==CKEDITOR.NODE_ELEMENT){for(var g=[];b.data("cke-bookmark")||b.isEmptyInlineRemoveable();){g.push(b);
b=c?b.getNext():b.getPrevious();if(!b||b.type!=CKEDITOR.NODE_ELEMENT)return}if(a.isIdentical(b)){for(var k=c?a.getLast():a.getFirst();g.length;)g.shift().move(a,!c);b.moveChildren(a,!c);b.remove();k&&k.type==CKEDITOR.NODE_ELEMENT&&k.mergeSiblings()}}}return function(b){if(b===false||CKEDITOR.dtd.$removeEmpty[this.getName()]||this.is("a")){a(this,this.getNext(),true);a(this,this.getPrevious())}}}(),show:function(){this.setStyles({display:"",visibility:""})},setAttribute:function(){var a=function(a,
b){this.$.setAttribute(a,b);return this};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)?function(b,c){b=="class"?this.$.className=c:b=="style"?this.$.style.cssText=c:b=="tabindex"?this.$.tabIndex=c:b=="checked"?this.$.checked=c:b=="contenteditable"?a.call(this,"contentEditable",c):a.apply(this,arguments);return this}:CKEDITOR.env.ie8Compat&&CKEDITOR.env.secure?function(b,c){if(b=="src"&&c.match(/^http:\/\//))try{a.apply(this,arguments)}catch(d){}else a.apply(this,arguments);
return this}:a}(),setAttributes:function(a){for(var b in a)this.setAttribute(b,a[b]);return this},setValue:function(a){this.$.value=a;return this},removeAttribute:function(){var a=function(a){this.$.removeAttribute(a)};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)?function(a){a=="class"?a="className":a=="tabindex"?a="tabIndex":a=="contenteditable"&&(a="contentEditable");this.$.removeAttribute(a)}:a}(),removeAttributes:function(a){if(CKEDITOR.tools.isArray(a))for(var b=0;b<
a.length;b++)this.removeAttribute(a[b]);else for(b in a)a.hasOwnProperty(b)&&this.removeAttribute(b)},removeStyle:function(a){var b=this.$.style;if(!b.removeProperty&&(a=="border"||a=="margin"||a=="padding")){var c=["top","left","right","bottom"],d;a=="border"&&(d=["color","style","width"]);for(var b=[],g=0;g<c.length;g++)if(d)for(var k=0;k<d.length;k++)b.push([a,c[g],d[k]].join("-"));else b.push([a,c[g]].join("-"));for(a=0;a<b.length;a++)this.removeStyle(b[a])}else{b.removeProperty?b.removeProperty(a):
b.removeAttribute(CKEDITOR.tools.cssStyleToDomStyle(a));this.$.style.cssText||this.removeAttribute("style")}},setStyle:function(a,b){this.$.style[CKEDITOR.tools.cssStyleToDomStyle(a)]=b;return this},setStyles:function(a){for(var b in a)this.setStyle(b,a[b]);return this},setOpacity:function(a){if(CKEDITOR.env.ie&&CKEDITOR.env.version<9){a=Math.round(a*100);this.setStyle("filter",a>=100?"":"progid:DXImageTransform.Microsoft.Alpha(opacity="+a+")")}else this.setStyle("opacity",a)},unselectable:function(){this.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select",
"none"));if(CKEDITOR.env.ie||CKEDITOR.env.opera){this.setAttribute("unselectable","on");for(var a,b=this.getElementsByTag("*"),c=0,d=b.count();c<d;c++){a=b.getItem(c);a.setAttribute("unselectable","on")}}},getPositionedAncestor:function(){for(var a=this;a.getName()!="html";){if(a.getComputedStyle("position")!="static")return a;a=a.getParent()}return null},getDocumentPosition:function(a){var b=0,c=0,d=this.getDocument(),g=d.getBody(),k=d.$.compatMode=="BackCompat";if(document.documentElement.getBoundingClientRect){var h=
this.$.getBoundingClientRect(),m=d.$.documentElement,n=m.clientTop||g.$.clientTop||0,o=m.clientLeft||g.$.clientLeft||0,l=true;if(CKEDITOR.env.ie){l=d.getDocumentElement().contains(this);d=d.getBody().contains(this);l=k&&d||!k&&l}if(l){b=h.left+(!k&&m.scrollLeft||g.$.scrollLeft);b=b-o;c=h.top+(!k&&m.scrollTop||g.$.scrollTop);c=c-n}}else{g=this;for(d=null;g&&!(g.getName()=="body"||g.getName()=="html");){b=b+(g.$.offsetLeft-g.$.scrollLeft);c=c+(g.$.offsetTop-g.$.scrollTop);if(!g.equals(this)){b=b+(g.$.clientLeft||
0);c=c+(g.$.clientTop||0)}for(;d&&!d.equals(g);){b=b-d.$.scrollLeft;c=c-d.$.scrollTop;d=d.getParent()}d=g;g=(h=g.$.offsetParent)?new CKEDITOR.dom.element(h):null}}if(a){g=this.getWindow();d=a.getWindow();if(!g.equals(d)&&g.$.frameElement){a=(new CKEDITOR.dom.element(g.$.frameElement)).getDocumentPosition(a);b=b+a.x;c=c+a.y}}if(!document.documentElement.getBoundingClientRect&&CKEDITOR.env.gecko&&!k){b=b+(this.$.clientLeft?1:0);c=c+(this.$.clientTop?1:0)}return{x:b,y:c}},scrollIntoView:function(a){var b=
this.getParent();if(b){do{(b.$.clientWidth&&b.$.clientWidth<b.$.scrollWidth||b.$.clientHeight&&b.$.clientHeight<b.$.scrollHeight)&&!b.is("body")&&this.scrollIntoParent(b,a,1);if(b.is("html")){var c=b.getWindow();try{var d=c.$.frameElement;d&&(b=new CKEDITOR.dom.element(d))}catch(g){}}}while(b=b.getParent())}},scrollIntoParent:function(a,b,c){var d,g,k,h;function m(b,l){if(/body|html/.test(a.getName()))a.getWindow().$.scrollBy(b,l);else{a.$.scrollLeft=a.$.scrollLeft+b;a.$.scrollTop=a.$.scrollTop+l}}
function n(a,b){var o={x:0,y:0};if(!a.is(l?"body":"html")){var j=a.$.getBoundingClientRect();o.x=j.left;o.y=j.top}j=a.getWindow();if(!j.equals(b)){j=n(CKEDITOR.dom.element.get(j.$.frameElement),b);o.x=o.x+j.x;o.y=o.y+j.y}return o}function o(a,b){return parseInt(a.getComputedStyle("margin-"+b)||0,10)||0}!a&&(a=this.getWindow());k=a.getDocument();var l=k.$.compatMode=="BackCompat";a instanceof CKEDITOR.dom.window&&(a=l?k.getBody():k.getDocumentElement());k=a.getWindow();g=n(this,k);var j=n(a,k),q=this.$.offsetHeight;
d=this.$.offsetWidth;var y=a.$.clientHeight,z=a.$.clientWidth;k=g.x-o(this,"left")-j.x||0;h=g.y-o(this,"top")-j.y||0;d=g.x+d+o(this,"right")-(j.x+z)||0;g=g.y+q+o(this,"bottom")-(j.y+y)||0;if(h<0||g>0)m(0,b===true?h:b===false?g:h<0?h:g);if(c&&(k<0||d>0))m(k<0?k:d,0)},setState:function(a,b,c){b=b||"cke";switch(a){case CKEDITOR.TRISTATE_ON:this.addClass(b+"_on");this.removeClass(b+"_off");this.removeClass(b+"_disabled");c&&this.setAttribute("aria-pressed",true);c&&this.removeAttribute("aria-disabled");
break;case CKEDITOR.TRISTATE_DISABLED:this.addClass(b+"_disabled");this.removeClass(b+"_off");this.removeClass(b+"_on");c&&this.setAttribute("aria-disabled",true);c&&this.removeAttribute("aria-pressed");break;default:this.addClass(b+"_off");this.removeClass(b+"_on");this.removeClass(b+"_disabled");c&&this.removeAttribute("aria-pressed");c&&this.removeAttribute("aria-disabled")}},getFrameDocument:function(){var a=this.$;try{a.contentWindow.document}catch(b){a.src=a.src}return a&&new CKEDITOR.dom.document(a.contentWindow.document)},
copyAttributes:function(a,b){for(var c=this.$.attributes,b=b||{},d=0;d<c.length;d++){var g=c[d],k=g.nodeName.toLowerCase(),h;if(!(k in b))if(k=="checked"&&(h=this.getAttribute(k)))a.setAttribute(k,h);else if(g.specified||CKEDITOR.env.ie&&g.nodeValue&&k=="value"){h=this.getAttribute(k);if(h===null)h=g.nodeValue;a.setAttribute(k,h)}}if(this.$.style.cssText!=="")a.$.style.cssText=this.$.style.cssText},renameNode:function(a){if(this.getName()!=a){var b=this.getDocument(),a=new CKEDITOR.dom.element(a,
b);this.copyAttributes(a);this.moveChildren(a);this.getParent()&&this.$.parentNode.replaceChild(a.$,this.$);a.$["data-cke-expando"]=this.$["data-cke-expando"];this.$=a.$}},getChild:function(){function a(a,b){var c=a.childNodes;if(b>=0&&b<c.length)return c[b]}return function(b){var c=this.$;if(b.slice)for(;b.length>0&&c;)c=a(c,b.shift());else c=a(c,b);return c?new CKEDITOR.dom.node(c):null}}(),getChildCount:function(){return this.$.childNodes.length},disableContextMenu:function(){this.on("contextmenu",
function(a){a.data.getTarget().hasClass("cke_enable_context_menu")||a.data.preventDefault()})},getDirection:function(a){return a?this.getComputedStyle("direction")||this.getDirection()||this.getParent()&&this.getParent().getDirection(1)||this.getDocument().$.dir||"ltr":this.getStyle("direction")||this.getAttribute("dir")},data:function(a,b){a="data-"+a;if(b===void 0)return this.getAttribute(a);b===false?this.removeAttribute(a):this.setAttribute(a,b);return null},getEditor:function(){var a=CKEDITOR.instances,
b,c;for(b in a){c=a[b];if(c.element.equals(this)&&c.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO)return c}return null}});var c={width:["border-left-width","border-right-width","padding-left","padding-right"],height:["border-top-width","border-bottom-width","padding-top","padding-bottom"]};CKEDITOR.dom.element.prototype.setSize=function(a,c,e){if(typeof c=="number"){if(e&&(!CKEDITOR.env.ie||!CKEDITOR.env.quirks))c=c-b.call(this,a);this.setStyle(a,c+"px")}};CKEDITOR.dom.element.prototype.getSize=function(a,
c){var e=Math.max(this.$["offset"+CKEDITOR.tools.capitalize(a)],this.$["client"+CKEDITOR.tools.capitalize(a)])||0;c&&(e=e-b.call(this,a));return e}})();CKEDITOR.dom.documentFragment=function(b){b=b||CKEDITOR.document;this.$=b.type==CKEDITOR.NODE_DOCUMENT?b.$.createDocumentFragment():b};
CKEDITOR.tools.extend(CKEDITOR.dom.documentFragment.prototype,CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,insertAfterNode:function(b){b=b.$;b.parentNode.insertBefore(this.$,b.nextSibling)}},!0,{append:1,appendBogus:1,getFirst:1,getLast:1,getParent:1,getNext:1,getPrevious:1,appendTo:1,moveChildren:1,insertBefore:1,insertAfterNode:1,replace:1,trim:1,type:1,ltrim:1,rtrim:1,getDocument:1,getChildCount:1,getChild:1,getChildren:1});
(function(){function b(a,b){var c=this.range;if(this._.end)return null;if(!this._.start){this._.start=1;if(c.collapsed){this.end();return null}c.optimize()}var d,n=c.startContainer;d=c.endContainer;var o=c.startOffset,l=c.endOffset,j,q=this.guard,f=this.type,e=a?"getPreviousSourceNode":"getNextSourceNode";if(!a&&!this._.guardLTR){var i=d.type==CKEDITOR.NODE_ELEMENT?d:d.getParent(),s=d.type==CKEDITOR.NODE_ELEMENT?d.getChild(l):d.getNext();this._.guardLTR=function(a,b){return(!b||!i.equals(a))&&(!s||
!a.equals(s))&&(a.type!=CKEDITOR.NODE_ELEMENT||!b||!a.equals(c.root))}}if(a&&!this._.guardRTL){var A=n.type==CKEDITOR.NODE_ELEMENT?n:n.getParent(),B=n.type==CKEDITOR.NODE_ELEMENT?o?n.getChild(o-1):null:n.getPrevious();this._.guardRTL=function(a,b){return(!b||!A.equals(a))&&(!B||!a.equals(B))&&(a.type!=CKEDITOR.NODE_ELEMENT||!b||!a.equals(c.root))}}var p=a?this._.guardRTL:this._.guardLTR;j=q?function(a,b){return p(a,b)===false?false:q(a,b)}:p;if(this.current)d=this.current[e](false,f,j);else{if(a)d.type==
CKEDITOR.NODE_ELEMENT&&(d=l>0?d.getChild(l-1):j(d,true)===false?null:d.getPreviousSourceNode(true,f,j));else{d=n;if(d.type==CKEDITOR.NODE_ELEMENT&&!(d=d.getChild(o)))d=j(n,true)===false?null:n.getNextSourceNode(true,f,j)}d&&j(d)===false&&(d=null)}for(;d&&!this._.end;){this.current=d;if(!this.evaluator||this.evaluator(d)!==false){if(!b)return d}else if(b&&this.evaluator)return false;d=d[e](false,f,j)}this.end();return this.current=null}function c(a){for(var c,d=null;c=b.call(this,a);)d=c;return d}
CKEDITOR.dom.walker=CKEDITOR.tools.createClass({$:function(a){this.range=a;this._={}},proto:{end:function(){this._.end=1},next:function(){return b.call(this)},previous:function(){return b.call(this,1)},checkForward:function(){return b.call(this,0,1)!==false},checkBackward:function(){return b.call(this,1,1)!==false},lastForward:function(){return c.call(this)},lastBackward:function(){return c.call(this,1)},reset:function(){delete this.current;this._={}}}});var a={block:1,"list-item":1,table:1,"table-row-group":1,
"table-header-group":1,"table-footer-group":1,"table-row":1,"table-column-group":1,"table-column":1,"table-cell":1,"table-caption":1};CKEDITOR.dom.element.prototype.isBlockBoundary=function(b){b=b?CKEDITOR.tools.extend({},CKEDITOR.dtd.$block,b||{}):CKEDITOR.dtd.$block;return this.getComputedStyle("float")=="none"&&a[this.getComputedStyle("display")]||b[this.getName()]};CKEDITOR.dom.walker.blockBoundary=function(a){return function(b){return!(b.type==CKEDITOR.NODE_ELEMENT&&b.isBlockBoundary(a))}};CKEDITOR.dom.walker.listItemBoundary=
function(){return this.blockBoundary({br:1})};CKEDITOR.dom.walker.bookmark=function(a,b){function c(a){return a&&a.getName&&a.getName()=="span"&&a.data("cke-bookmark")}return function(d){var n,o;n=d&&d.type!=CKEDITOR.NODE_ELEMENT&&(o=d.getParent())&&c(o);n=a?n:n||c(d);return!!(b^n)}};CKEDITOR.dom.walker.whitespaces=function(a){return function(b){var c;b&&b.type==CKEDITOR.NODE_TEXT&&(c=!CKEDITOR.tools.trim(b.getText())||CKEDITOR.env.webkit&&b.getText()=="​");return!!(a^c)}};CKEDITOR.dom.walker.invisible=
function(a){var b=CKEDITOR.dom.walker.whitespaces();return function(c){if(b(c))c=1;else{c.type==CKEDITOR.NODE_TEXT&&(c=c.getParent());c=!c.$.offsetHeight}return!!(a^c)}};CKEDITOR.dom.walker.nodeType=function(a,b){return function(c){return!!(b^c.type==a)}};CKEDITOR.dom.walker.bogus=function(a){function b(a){return!e(a)&&!d(a)}return function(c){var d=!CKEDITOR.env.ie?c.is&&c.is("br"):c.getText&&f.test(c.getText());if(d){d=c.getParent();c=c.getNext(b);d=d.isBlockBoundary()&&(!c||c.type==CKEDITOR.NODE_ELEMENT&&
c.isBlockBoundary())}return!!(a^d)}};var f=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,e=CKEDITOR.dom.walker.whitespaces(),d=CKEDITOR.dom.walker.bookmark();CKEDITOR.dom.element.prototype.getBogus=function(){var a=this;do a=a.getPreviousSourceNode();while(d(a)||e(a)||a.type==CKEDITOR.NODE_ELEMENT&&a.getName()in CKEDITOR.dtd.$inline&&!(a.getName()in CKEDITOR.dtd.$empty));return a&&(!CKEDITOR.env.ie?a.is&&a.is("br"):a.getText&&f.test(a.getText()))?a:false}})();
CKEDITOR.dom.range=function(b){this.endOffset=this.endContainer=this.startOffset=this.startContainer=null;this.collapsed=true;var c=b instanceof CKEDITOR.dom.document;this.document=c?b:b.getDocument();this.root=c?b.getBody():b};
(function(){function b(){var a=false,b=CKEDITOR.dom.walker.whitespaces(),l=CKEDITOR.dom.walker.bookmark(true),c=CKEDITOR.dom.walker.bogus();return function(q){if(l(q)||b(q))return true;if(c(q)&&!a)return a=true;return q.type==CKEDITOR.NODE_TEXT&&(q.hasAscendant("pre")||CKEDITOR.tools.trim(q.getText()).length)||q.type==CKEDITOR.NODE_ELEMENT&&!q.is(d)?false:true}}function c(a){var b=CKEDITOR.dom.walker.whitespaces(),l=CKEDITOR.dom.walker.bookmark(1);return function(c){return l(c)||b(c)?true:!a&&g(c)||
c.type==CKEDITOR.NODE_ELEMENT&&c.is(CKEDITOR.dtd.$removeEmpty)}}function a(a){return!k(a)&&!h(a)}var f=function(a){a.collapsed=a.startContainer&&a.endContainer&&a.startContainer.equals(a.endContainer)&&a.startOffset==a.endOffset},e=function(a,b,l,c){a.optimizeBookmark();var d=a.startContainer,g=a.endContainer,f=a.startOffset,i=a.endOffset,e,k;if(g.type==CKEDITOR.NODE_TEXT)g=g.split(i);else if(g.getChildCount()>0)if(i>=g.getChildCount()){g=g.append(a.document.createText(""));k=true}else g=g.getChild(i);
if(d.type==CKEDITOR.NODE_TEXT){d.split(f);d.equals(g)&&(g=d.getNext())}else if(f)if(f>=d.getChildCount()){d=d.append(a.document.createText(""));e=true}else d=d.getChild(f).getPrevious();else{d=d.append(a.document.createText(""),1);e=true}var f=d.getParents(),i=g.getParents(),h,p,m;for(h=0;h<f.length;h++){p=f[h];m=i[h];if(!p.equals(m))break}for(var u=l,r,D,v,t=h;t<f.length;t++){r=f[t];u&&!r.equals(d)&&(D=u.append(r.clone()));for(r=r.getNext();r;){if(r.equals(i[t])||r.equals(g))break;v=r.getNext();
if(b==2)u.append(r.clone(true));else{r.remove();b==1&&u.append(r)}r=v}u&&(u=D)}u=l;for(l=h;l<i.length;l++){r=i[l];b>0&&!r.equals(g)&&(D=u.append(r.clone()));if(!f[l]||r.$.parentNode!=f[l].$.parentNode)for(r=r.getPrevious();r;){if(r.equals(f[l])||r.equals(d))break;v=r.getPrevious();if(b==2)u.$.insertBefore(r.$.cloneNode(true),u.$.firstChild);else{r.remove();b==1&&u.$.insertBefore(r.$,u.$.firstChild)}r=v}u&&(u=D)}if(b==2){p=a.startContainer;if(p.type==CKEDITOR.NODE_TEXT){p.$.data=p.$.data+p.$.nextSibling.data;
p.$.parentNode.removeChild(p.$.nextSibling)}a=a.endContainer;if(a.type==CKEDITOR.NODE_TEXT&&a.$.nextSibling){a.$.data=a.$.data+a.$.nextSibling.data;a.$.parentNode.removeChild(a.$.nextSibling)}}else{if(p&&m&&(d.$.parentNode!=p.$.parentNode||g.$.parentNode!=m.$.parentNode)){b=m.getIndex();e&&m.$.parentNode==d.$.parentNode&&b--;if(c&&p.type==CKEDITOR.NODE_ELEMENT){c=CKEDITOR.dom.element.createFromHtml('<span data-cke-bookmark="1" style="display:none">&nbsp;</span>',a.document);c.insertAfter(p);p.mergeSiblings(false);
a.moveToBookmark({startNode:c})}else a.setStart(m.getParent(),b)}a.collapse(true)}e&&d.remove();k&&g.$.parentNode&&g.remove()},d={abbr:1,acronym:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,"var":1},g=CKEDITOR.dom.walker.bogus(),k=new CKEDITOR.dom.walker.whitespaces,h=new CKEDITOR.dom.walker.bookmark,m=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/;CKEDITOR.dom.range.prototype={clone:function(){var a=new CKEDITOR.dom.range(this.root);
a.startContainer=this.startContainer;a.startOffset=this.startOffset;a.endContainer=this.endContainer;a.endOffset=this.endOffset;a.collapsed=this.collapsed;return a},collapse:function(a){if(a){this.endContainer=this.startContainer;this.endOffset=this.startOffset}else{this.startContainer=this.endContainer;this.startOffset=this.endOffset}this.collapsed=true},cloneContents:function(){var a=new CKEDITOR.dom.documentFragment(this.document);this.collapsed||e(this,2,a);return a},deleteContents:function(a){this.collapsed||
e(this,0,null,a)},extractContents:function(a){var b=new CKEDITOR.dom.documentFragment(this.document);this.collapsed||e(this,1,b,a);return b},createBookmark:function(a){var b,l,c,d,g=this.collapsed;b=this.document.createElement("span");b.data("cke-bookmark",1);b.setStyle("display","none");b.setHtml("&nbsp;");if(a){c="cke_bm_"+CKEDITOR.tools.getNextNumber();b.setAttribute("id",c+(g?"C":"S"))}if(!g){l=b.clone();l.setHtml("&nbsp;");a&&l.setAttribute("id",c+"E");d=this.clone();d.collapse();d.insertNode(l)}d=
this.clone();d.collapse(true);d.insertNode(b);if(l){this.setStartAfter(b);this.setEndBefore(l)}else this.moveToPosition(b,CKEDITOR.POSITION_AFTER_END);return{startNode:a?c+(g?"C":"S"):b,endNode:a?c+"E":l,serializable:a,collapsed:g}},createBookmark2:function(a){var b=this.startContainer,l=this.endContainer,c=this.startOffset,d=this.endOffset,g=this.collapsed,f,i;if(!b||!l)return{start:0,end:0};if(a){if(b.type==CKEDITOR.NODE_ELEMENT){if((f=b.getChild(c))&&f.type==CKEDITOR.NODE_TEXT&&c>0&&f.getPrevious().type==
CKEDITOR.NODE_TEXT){b=f;c=0}f&&f.type==CKEDITOR.NODE_ELEMENT&&(c=f.getIndex(1))}for(;b.type==CKEDITOR.NODE_TEXT&&(i=b.getPrevious())&&i.type==CKEDITOR.NODE_TEXT;){b=i;c=c+i.getLength()}if(!g){if(l.type==CKEDITOR.NODE_ELEMENT){if((f=l.getChild(d))&&f.type==CKEDITOR.NODE_TEXT&&d>0&&f.getPrevious().type==CKEDITOR.NODE_TEXT){l=f;d=0}f&&f.type==CKEDITOR.NODE_ELEMENT&&(d=f.getIndex(1))}for(;l.type==CKEDITOR.NODE_TEXT&&(i=l.getPrevious())&&i.type==CKEDITOR.NODE_TEXT;){l=i;d=d+i.getLength()}}}return{start:b.getAddress(a),
end:g?null:l.getAddress(a),startOffset:c,endOffset:d,normalized:a,collapsed:g,is2:true}},moveToBookmark:function(a){if(a.is2){var b=this.document.getByAddress(a.start,a.normalized),l=a.startOffset,c=a.end&&this.document.getByAddress(a.end,a.normalized),a=a.endOffset;this.setStart(b,l);c?this.setEnd(c,a):this.collapse(true)}else{b=(l=a.serializable)?this.document.getById(a.startNode):a.startNode;a=l?this.document.getById(a.endNode):a.endNode;this.setStartBefore(b);b.remove();if(a){this.setEndBefore(a);
a.remove()}else this.collapse(true)}},getBoundaryNodes:function(){var a=this.startContainer,b=this.endContainer,l=this.startOffset,c=this.endOffset,d;if(a.type==CKEDITOR.NODE_ELEMENT){d=a.getChildCount();if(d>l)a=a.getChild(l);else if(d<1)a=a.getPreviousSourceNode();else{for(a=a.$;a.lastChild;)a=a.lastChild;a=new CKEDITOR.dom.node(a);a=a.getNextSourceNode()||a}}if(b.type==CKEDITOR.NODE_ELEMENT){d=b.getChildCount();if(d>c)b=b.getChild(c).getPreviousSourceNode(true);else if(d<1)b=b.getPreviousSourceNode();
else{for(b=b.$;b.lastChild;)b=b.lastChild;b=new CKEDITOR.dom.node(b)}}a.getPosition(b)&CKEDITOR.POSITION_FOLLOWING&&(a=b);return{startNode:a,endNode:b}},getCommonAncestor:function(a,b){var l=this.startContainer,c=this.endContainer,l=l.equals(c)?a&&l.type==CKEDITOR.NODE_ELEMENT&&this.startOffset==this.endOffset-1?l.getChild(this.startOffset):l:l.getCommonAncestor(c);return b&&!l.is?l.getParent():l},optimize:function(){var a=this.startContainer,b=this.startOffset;a.type!=CKEDITOR.NODE_ELEMENT&&(b?b>=
a.getLength()&&this.setStartAfter(a):this.setStartBefore(a));a=this.endContainer;b=this.endOffset;a.type!=CKEDITOR.NODE_ELEMENT&&(b?b>=a.getLength()&&this.setEndAfter(a):this.setEndBefore(a))},optimizeBookmark:function(){var a=this.startContainer,b=this.endContainer;a.is&&(a.is("span")&&a.data("cke-bookmark"))&&this.setStartAt(a,CKEDITOR.POSITION_BEFORE_START);b&&(b.is&&b.is("span")&&b.data("cke-bookmark"))&&this.setEndAt(b,CKEDITOR.POSITION_AFTER_END)},trim:function(a,b){var c=this.startContainer,
j=this.startOffset,d=this.collapsed;if((!a||d)&&c&&c.type==CKEDITOR.NODE_TEXT){if(j)if(j>=c.getLength()){j=c.getIndex()+1;c=c.getParent()}else{var g=c.split(j),j=c.getIndex()+1,c=c.getParent();if(this.startContainer.equals(this.endContainer))this.setEnd(g,this.endOffset-this.startOffset);else if(c.equals(this.endContainer))this.endOffset=this.endOffset+1}else{j=c.getIndex();c=c.getParent()}this.setStart(c,j);if(d){this.collapse(true);return}}c=this.endContainer;j=this.endOffset;if(!b&&!d&&c&&c.type==
CKEDITOR.NODE_TEXT){if(j){j>=c.getLength()||c.split(j);j=c.getIndex()+1}else j=c.getIndex();c=c.getParent();this.setEnd(c,j)}},enlarge:function(a,b){switch(a){case CKEDITOR.ENLARGE_INLINE:var c=1;case CKEDITOR.ENLARGE_ELEMENT:if(this.collapsed)break;var j=this.getCommonAncestor(),d=this.root,g,f,i,e,h,k=false,p,m;p=this.startContainer;m=this.startOffset;if(p.type==CKEDITOR.NODE_TEXT){if(m){p=!CKEDITOR.tools.trim(p.substring(0,m)).length&&p;k=!!p}if(p&&!(e=p.getPrevious()))i=p.getParent()}else{m&&
(e=p.getChild(m-1)||p.getLast());e||(i=p)}for(;i||e;){if(i&&!e){!h&&i.equals(j)&&(h=true);if(c?i.isBlockBoundary():!d.contains(i))break;if(!k||i.getComputedStyle("display")!="inline"){k=false;h?g=i:this.setStartBefore(i)}e=i.getPrevious()}for(;e;){p=false;if(e.type==CKEDITOR.NODE_COMMENT)e=e.getPrevious();else{if(e.type==CKEDITOR.NODE_TEXT){m=e.getText();/[^\s\ufeff]/.test(m)&&(e=null);p=/[\s\ufeff]$/.test(m)}else if((e.$.offsetWidth>0||b&&e.is("br"))&&!e.data("cke-bookmark"))if(k&&CKEDITOR.dtd.$removeEmpty[e.getName()]){m=
e.getText();if(/[^\s\ufeff]/.test(m))e=null;else for(var u=e.$.getElementsByTagName("*"),r=0,D;D=u[r++];)if(!CKEDITOR.dtd.$removeEmpty[D.nodeName.toLowerCase()]){e=null;break}e&&(p=!!m.length)}else e=null;p&&(k?h?g=i:i&&this.setStartBefore(i):k=true);if(e){p=e.getPrevious();if(!i&&!p){i=e;e=null;break}e=p}else i=null}}i&&(i=i.getParent())}p=this.endContainer;m=this.endOffset;i=e=null;h=k=false;if(p.type==CKEDITOR.NODE_TEXT){p=!CKEDITOR.tools.trim(p.substring(m)).length&&p;k=!(p&&p.getLength());if(p&&
!(e=p.getNext()))i=p.getParent()}else(e=p.getChild(m))||(i=p);for(;i||e;){if(i&&!e){!h&&i.equals(j)&&(h=true);if(c?i.isBlockBoundary():!d.contains(i))break;if(!k||i.getComputedStyle("display")!="inline"){k=false;h?f=i:i&&this.setEndAfter(i)}e=i.getNext()}for(;e;){p=false;if(e.type==CKEDITOR.NODE_TEXT){m=e.getText();/[^\s\ufeff]/.test(m)&&(e=null);p=/^[\s\ufeff]/.test(m)}else if(e.type==CKEDITOR.NODE_ELEMENT){if((e.$.offsetWidth>0||b&&e.is("br"))&&!e.data("cke-bookmark"))if(k&&CKEDITOR.dtd.$removeEmpty[e.getName()]){m=
e.getText();if(/[^\s\ufeff]/.test(m))e=null;else{u=e.$.getElementsByTagName("*");for(r=0;D=u[r++];)if(!CKEDITOR.dtd.$removeEmpty[D.nodeName.toLowerCase()]){e=null;break}}e&&(p=!!m.length)}else e=null}else p=1;p&&k&&(h?f=i:this.setEndAfter(i));if(e){p=e.getNext();if(!i&&!p){i=e;e=null;break}e=p}else i=null}i&&(i=i.getParent())}if(g&&f){j=g.contains(f)?f:g;this.setStartBefore(j);this.setEndAfter(j)}break;case CKEDITOR.ENLARGE_BLOCK_CONTENTS:case CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:i=new CKEDITOR.dom.range(this.root);
d=this.root;i.setStartAt(d,CKEDITOR.POSITION_AFTER_START);i.setEnd(this.startContainer,this.startOffset);i=new CKEDITOR.dom.walker(i);var v,t,w=CKEDITOR.dom.walker.blockBoundary(a==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?{br:1}:null),I=function(a){var b=w(a);b||(v=a);return b},c=function(a){var b=I(a);!b&&(a.is&&a.is("br"))&&(t=a);return b};i.guard=I;i=i.lastBackward();v=v||d;this.setStartAt(v,!v.is("br")&&(!i&&this.checkStartOfBlock()||i&&v.contains(i))?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_AFTER_END);
if(a==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS){i=this.clone();i=new CKEDITOR.dom.walker(i);var G=CKEDITOR.dom.walker.whitespaces(),C=CKEDITOR.dom.walker.bookmark();i.evaluator=function(a){return!G(a)&&!C(a)};if((i=i.previous())&&i.type==CKEDITOR.NODE_ELEMENT&&i.is("br"))break}i=this.clone();i.collapse();i.setEndAt(d,CKEDITOR.POSITION_BEFORE_END);i=new CKEDITOR.dom.walker(i);i.guard=a==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?c:I;v=null;i=i.lastForward();v=v||d;this.setEndAt(v,!i&&this.checkEndOfBlock()||i&&
v.contains(i)?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_BEFORE_START);t&&this.setEndAfter(t)}},shrink:function(a,b,c){if(!this.collapsed){var a=a||CKEDITOR.SHRINK_TEXT,j=this.clone(),d=this.startContainer,g=this.endContainer,f=this.startOffset,e=this.endOffset,k=1,h=1;if(d&&d.type==CKEDITOR.NODE_TEXT)if(f)if(f>=d.getLength())j.setStartAfter(d);else{j.setStartBefore(d);k=0}else j.setStartBefore(d);if(g&&g.type==CKEDITOR.NODE_TEXT)if(e)if(e>=g.getLength())j.setEndAfter(g);else{j.setEndAfter(g);
h=0}else j.setEndBefore(g);var j=new CKEDITOR.dom.walker(j),m=CKEDITOR.dom.walker.bookmark();j.evaluator=function(b){return b.type==(a==CKEDITOR.SHRINK_ELEMENT?CKEDITOR.NODE_ELEMENT:CKEDITOR.NODE_TEXT)};var p;j.guard=function(b,j){if(m(b))return true;if(a==CKEDITOR.SHRINK_ELEMENT&&b.type==CKEDITOR.NODE_TEXT||j&&b.equals(p)||c===false&&b.type==CKEDITOR.NODE_ELEMENT&&b.isBlockBoundary())return false;!j&&b.type==CKEDITOR.NODE_ELEMENT&&(p=b);return true};if(k)(d=j[a==CKEDITOR.SHRINK_ELEMENT?"lastForward":
"next"]())&&this.setStartAt(d,b?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_START);if(h){j.reset();(j=j[a==CKEDITOR.SHRINK_ELEMENT?"lastBackward":"previous"]())&&this.setEndAt(j,b?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_END)}return!(!k&&!h)}},insertNode:function(a){this.optimizeBookmark();this.trim(false,true);var b=this.startContainer,c=b.getChild(this.startOffset);c?a.insertBefore(c):b.append(a);a.getParent()&&a.getParent().equals(this.endContainer)&&this.endOffset++;this.setStartBefore(a)},
moveToPosition:function(a,b){this.setStartAt(a,b);this.collapse(true)},moveToRange:function(a){this.setStart(a.startContainer,a.startOffset);this.setEnd(a.endContainer,a.endOffset)},selectNodeContents:function(a){this.setStart(a,0);this.setEnd(a,a.type==CKEDITOR.NODE_TEXT?a.getLength():a.getChildCount())},setStart:function(a,b){if(a.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[a.getName()]){b=a.getIndex();a=a.getParent()}this.startContainer=a;this.startOffset=b;if(!this.endContainer){this.endContainer=
a;this.endOffset=b}f(this)},setEnd:function(a,b){if(a.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[a.getName()]){b=a.getIndex()+1;a=a.getParent()}this.endContainer=a;this.endOffset=b;if(!this.startContainer){this.startContainer=a;this.startOffset=b}f(this)},setStartAfter:function(a){this.setStart(a.getParent(),a.getIndex()+1)},setStartBefore:function(a){this.setStart(a.getParent(),a.getIndex())},setEndAfter:function(a){this.setEnd(a.getParent(),a.getIndex()+1)},setEndBefore:function(a){this.setEnd(a.getParent(),
a.getIndex())},setStartAt:function(a,b){switch(b){case CKEDITOR.POSITION_AFTER_START:this.setStart(a,0);break;case CKEDITOR.POSITION_BEFORE_END:a.type==CKEDITOR.NODE_TEXT?this.setStart(a,a.getLength()):this.setStart(a,a.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setStartBefore(a);break;case CKEDITOR.POSITION_AFTER_END:this.setStartAfter(a)}f(this)},setEndAt:function(a,b){switch(b){case CKEDITOR.POSITION_AFTER_START:this.setEnd(a,0);break;case CKEDITOR.POSITION_BEFORE_END:a.type==
CKEDITOR.NODE_TEXT?this.setEnd(a,a.getLength()):this.setEnd(a,a.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setEndBefore(a);break;case CKEDITOR.POSITION_AFTER_END:this.setEndAfter(a)}f(this)},fixBlock:function(a,b){var c=this.createBookmark(),j=this.document.createElement(b);this.collapse(a);this.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS);this.extractContents().appendTo(j);j.trim();CKEDITOR.env.ie||j.appendBogus();this.insertNode(j);this.moveToBookmark(c);return j},splitBlock:function(a){var b=
new CKEDITOR.dom.elementPath(this.startContainer,this.root),c=new CKEDITOR.dom.elementPath(this.endContainer,this.root),j=b.block,d=c.block,g=null;if(!b.blockLimit.equals(c.blockLimit))return null;if(a!="br"){if(!j){j=this.fixBlock(true,a);d=(new CKEDITOR.dom.elementPath(this.endContainer,this.root)).block}d||(d=this.fixBlock(false,a))}a=j&&this.checkStartOfBlock();b=d&&this.checkEndOfBlock();this.deleteContents();if(j&&j.equals(d))if(b){g=new CKEDITOR.dom.elementPath(this.startContainer,this.root);
this.moveToPosition(d,CKEDITOR.POSITION_AFTER_END);d=null}else if(a){g=new CKEDITOR.dom.elementPath(this.startContainer,this.root);this.moveToPosition(j,CKEDITOR.POSITION_BEFORE_START);j=null}else{d=this.splitElement(j);!CKEDITOR.env.ie&&!j.is("ul","ol")&&j.appendBogus()}return{previousBlock:j,nextBlock:d,wasStartOfBlock:a,wasEndOfBlock:b,elementPath:g}},splitElement:function(a){if(!this.collapsed)return null;this.setEndAt(a,CKEDITOR.POSITION_BEFORE_END);var b=this.extractContents(),c=a.clone(false);
b.appendTo(c);c.insertAfter(a);this.moveToPosition(a,CKEDITOR.POSITION_AFTER_END);return c},removeEmptyBlocksAtEnd:function(){function a(j){return function(a){return b(a)||(c(a)||a.type==CKEDITOR.NODE_ELEMENT&&a.isEmptyInlineRemoveable())||j.is("table")&&a.is("caption")?false:true}}var b=CKEDITOR.dom.walker.whitespaces(),c=CKEDITOR.dom.walker.bookmark(false);return function(b){for(var c=this.createBookmark(),l=this[b?"endPath":"startPath"](),d=l.block||l.blockLimit,o;d&&!d.equals(l.root)&&!d.getFirst(a(d));){o=
d.getParent();this[b?"setEndAt":"setStartAt"](d,CKEDITOR.POSITION_AFTER_END);d.remove(1);d=o}this.moveToBookmark(c)}}(),startPath:function(){return new CKEDITOR.dom.elementPath(this.startContainer,this.root)},endPath:function(){return new CKEDITOR.dom.elementPath(this.endContainer,this.root)},checkBoundaryOfElement:function(a,b){var l=b==CKEDITOR.START,d=this.clone();d.collapse(l);d[l?"setStartAt":"setEndAt"](a,l?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END);d=new CKEDITOR.dom.walker(d);
d.evaluator=c(l);return d[l?"checkBackward":"checkForward"]()},checkStartOfBlock:function(){var a=this.startContainer,c=this.startOffset;if(CKEDITOR.env.ie&&c&&a.type==CKEDITOR.NODE_TEXT){a=CKEDITOR.tools.ltrim(a.substring(0,c));m.test(a)&&this.trim(0,1)}this.trim();a=new CKEDITOR.dom.elementPath(this.startContainer,this.root);c=this.clone();c.collapse(true);c.setStartAt(a.block||a.blockLimit,CKEDITOR.POSITION_AFTER_START);a=new CKEDITOR.dom.walker(c);a.evaluator=b();return a.checkBackward()},checkEndOfBlock:function(){var a=
this.endContainer,c=this.endOffset;if(CKEDITOR.env.ie&&a.type==CKEDITOR.NODE_TEXT){a=CKEDITOR.tools.rtrim(a.substring(c));m.test(a)&&this.trim(1,0)}this.trim();a=new CKEDITOR.dom.elementPath(this.endContainer,this.root);c=this.clone();c.collapse(false);c.setEndAt(a.block||a.blockLimit,CKEDITOR.POSITION_BEFORE_END);a=new CKEDITOR.dom.walker(c);a.evaluator=b();return a.checkForward()},getPreviousNode:function(a,b,c){var d=this.clone();d.collapse(1);d.setStartAt(c||this.root,CKEDITOR.POSITION_AFTER_START);
c=new CKEDITOR.dom.walker(d);c.evaluator=a;c.guard=b;return c.previous()},getNextNode:function(a,b,c){var d=this.clone();d.collapse();d.setEndAt(c||this.root,CKEDITOR.POSITION_BEFORE_END);c=new CKEDITOR.dom.walker(d);c.evaluator=a;c.guard=b;return c.next()},checkReadOnly:function(){function a(b,c){for(;b;){if(b.type==CKEDITOR.NODE_ELEMENT){if(b.getAttribute("contentEditable")=="false"&&!b.data("cke-editable"))return 0;if(b.is("html")||b.getAttribute("contentEditable")=="true"&&(b.contains(c)||b.equals(c)))break}b=
b.getParent()}return 1}return function(){var b=this.startContainer,c=this.endContainer;return!(a(b,c)&&a(c,b))}}(),moveToElementEditablePosition:function(b,c){if(b.type==CKEDITOR.NODE_ELEMENT&&!b.isEditable(false)){this.moveToPosition(b,c?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START);return true}for(var l=0;b;){if(b.type==CKEDITOR.NODE_TEXT){c&&this.checkEndOfBlock()&&m.test(b.getText())?this.moveToPosition(b,CKEDITOR.POSITION_BEFORE_START):this.moveToPosition(b,c?CKEDITOR.POSITION_AFTER_END:
CKEDITOR.POSITION_BEFORE_START);l=1;break}if(b.type==CKEDITOR.NODE_ELEMENT)if(b.isEditable()){this.moveToPosition(b,c?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_START);l=1}else c&&(b.is("br")&&this.checkEndOfBlock())&&this.moveToPosition(b,CKEDITOR.POSITION_BEFORE_START);var d=b,g=l,f=void 0;d.type==CKEDITOR.NODE_ELEMENT&&d.isEditable(false)&&(f=d[c?"getLast":"getFirst"](a));!g&&!f&&(f=d[c?"getPrevious":"getNext"](a));b=f}return!!l},moveToElementEditStart:function(a){return this.moveToElementEditablePosition(a)},
moveToElementEditEnd:function(a){return this.moveToElementEditablePosition(a,true)},getEnclosedNode:function(){var a=this.clone();a.optimize();if(a.startContainer.type!=CKEDITOR.NODE_ELEMENT||a.endContainer.type!=CKEDITOR.NODE_ELEMENT)return null;var a=new CKEDITOR.dom.walker(a),b=CKEDITOR.dom.walker.bookmark(false,true),c=CKEDITOR.dom.walker.whitespaces(true);a.evaluator=function(a){return c(a)&&b(a)};var d=a.next();a.reset();return d&&d.equals(a.previous())?d:null},getTouchedStartNode:function(){var a=
this.startContainer;return this.collapsed||a.type!=CKEDITOR.NODE_ELEMENT?a:a.getChild(this.startOffset)||a},getTouchedEndNode:function(){var a=this.endContainer;return this.collapsed||a.type!=CKEDITOR.NODE_ELEMENT?a:a.getChild(this.endOffset-1)||a},scrollIntoView:function(){var a=new CKEDITOR.dom.element.createFromHtml("<span>&nbsp;</span>",this.document),b,c,d,g=this.clone();g.optimize();if(d=g.startContainer.type==CKEDITOR.NODE_TEXT){c=g.startContainer.getText();b=g.startContainer.split(g.startOffset);
a.insertAfter(g.startContainer)}else g.insertNode(a);a.scrollIntoView();if(d){g.startContainer.setText(c);b.remove()}a.remove()}}})();CKEDITOR.POSITION_AFTER_START=1;CKEDITOR.POSITION_BEFORE_END=2;CKEDITOR.POSITION_BEFORE_START=3;CKEDITOR.POSITION_AFTER_END=4;CKEDITOR.ENLARGE_ELEMENT=1;CKEDITOR.ENLARGE_BLOCK_CONTENTS=2;CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS=3;CKEDITOR.ENLARGE_INLINE=4;CKEDITOR.START=1;CKEDITOR.END=2;CKEDITOR.SHRINK_ELEMENT=1;CKEDITOR.SHRINK_TEXT=2;
(function(){function b(a){if(!(arguments.length<1)){this.range=a;this.forceBrBreak=0;this.enlargeBr=1;this.enforceRealBlocks=0;this._||(this._={})}}function c(a,b,c){for(a=a.getNextSourceNode(b,null,c);!f(a);)a=a.getNextSourceNode(b,null,c);return a}var a=/^[\r\n\t ]+$/,f=CKEDITOR.dom.walker.bookmark(false,true),e=CKEDITOR.dom.walker.whitespaces(true),d=function(a){return f(a)&&e(a)};b.prototype={getNextParagraph:function(b){b=b||"p";if(!CKEDITOR.dtd[this.range.root.getName()][b])return null;var e,
h,m,n,o,l;if(!this._.started){h=this.range.clone();h.shrink(CKEDITOR.NODE_ELEMENT,true);n=h.endContainer.hasAscendant("pre",true)||h.startContainer.hasAscendant("pre",true);h.enlarge(this.forceBrBreak&&!n||!this.enlargeBr?CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:CKEDITOR.ENLARGE_BLOCK_CONTENTS);if(!h.collapsed){n=new CKEDITOR.dom.walker(h.clone());var j=CKEDITOR.dom.walker.bookmark(true,true);n.evaluator=j;this._.nextNode=n.next();n=new CKEDITOR.dom.walker(h.clone());n.evaluator=j;n=n.previous();this._.lastNode=
n.getNextSourceNode(true);if(this._.lastNode&&this._.lastNode.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(this._.lastNode.getText())&&this._.lastNode.getParent().isBlockBoundary()){j=this.range.clone();j.moveToPosition(this._.lastNode,CKEDITOR.POSITION_AFTER_END);if(j.checkEndOfBlock()){j=new CKEDITOR.dom.elementPath(j.endContainer,j.root);this._.lastNode=(j.block||j.blockLimit).getNextSourceNode(true)}}if(!this._.lastNode){this._.lastNode=this._.docEndMarker=h.document.createText("");this._.lastNode.insertAfter(n)}h=
null}this._.started=1}j=this._.nextNode;n=this._.lastNode;for(this._.nextNode=null;j;){var q=0,y=j.hasAscendant("pre"),z=j.type!=CKEDITOR.NODE_ELEMENT,i=0;if(z)j.type==CKEDITOR.NODE_TEXT&&a.test(j.getText())&&(z=0);else{var s=j.getName();if(j.isBlockBoundary(this.forceBrBreak&&!y&&{br:1})){if(s=="br")z=1;else if(!h&&!j.getChildCount()&&s!="hr"){e=j;m=j.equals(n);break}if(h){h.setEndAt(j,CKEDITOR.POSITION_BEFORE_START);if(s!="br")this._.nextNode=j}q=1}else{if(j.getFirst()){if(!h){h=this.range.clone();
h.setStartAt(j,CKEDITOR.POSITION_BEFORE_START)}j=j.getFirst();continue}z=1}}if(z&&!h){h=this.range.clone();h.setStartAt(j,CKEDITOR.POSITION_BEFORE_START)}m=(!q||z)&&j.equals(n);if(h&&!q)for(;!j.getNext(d)&&!m;){s=j.getParent();if(s.isBlockBoundary(this.forceBrBreak&&!y&&{br:1})){q=1;z=0;m||s.equals(n);h.setEndAt(s,CKEDITOR.POSITION_BEFORE_END);break}j=s;z=1;m=j.equals(n);i=1}z&&h.setEndAt(j,CKEDITOR.POSITION_AFTER_END);j=c(j,i,n);if((m=!j)||q&&h)break}if(!e){if(!h){this._.docEndMarker&&this._.docEndMarker.remove();
return this._.nextNode=null}e=new CKEDITOR.dom.elementPath(h.startContainer,h.root);j=e.blockLimit;q={div:1,th:1,td:1};e=e.block;if(!e&&j&&!this.enforceRealBlocks&&q[j.getName()]&&h.checkStartOfBlock()&&h.checkEndOfBlock()&&!j.equals(h.root))e=j;else if(!e||this.enforceRealBlocks&&e.getName()=="li"){e=this.range.document.createElement(b);h.extractContents().appendTo(e);e.trim();h.insertNode(e);o=l=true}else if(e.getName()!="li"){if(!h.checkStartOfBlock()||!h.checkEndOfBlock()){e=e.clone(false);h.extractContents().appendTo(e);
e.trim();l=h.splitBlock();o=!l.wasStartOfBlock;l=!l.wasEndOfBlock;h.insertNode(e)}}else if(!m)this._.nextNode=e.equals(n)?null:c(h.getBoundaryNodes().endNode,1,n)}if(o)(h=e.getPrevious())&&h.type==CKEDITOR.NODE_ELEMENT&&(h.getName()=="br"?h.remove():h.getLast()&&h.getLast().$.nodeName.toLowerCase()=="br"&&h.getLast().remove());if(l)(h=e.getLast())&&h.type==CKEDITOR.NODE_ELEMENT&&h.getName()=="br"&&(CKEDITOR.env.ie||h.getPrevious(f)||h.getNext(f))&&h.remove();if(!this._.nextNode)this._.nextNode=m||
e.equals(n)||!n?null:c(e,1,n);return e}};CKEDITOR.dom.range.prototype.createIterator=function(){return new b(this)}})();
CKEDITOR.command=function(b,c){this.uiItems=[];this.exec=function(a){if(this.state==CKEDITOR.TRISTATE_DISABLED)return false;this.editorFocus&&b.focus();return this.fire("exec")===false?true:c.exec.call(this,b,a)!==false};this.refresh=function(a,b){if(!this.readOnly&&a.readOnly)return true;if(this.context&&!b.isContextFor(this.context)){this.disable();return true}this.enable();return this.fire("refresh",{editor:a,path:b})===false?true:c.refresh&&c.refresh.apply(this,arguments)!==false};CKEDITOR.tools.extend(this,
c,{modes:{wysiwyg:1},editorFocus:1,contextSensitive:!!c.context,state:CKEDITOR.TRISTATE_OFF});CKEDITOR.event.call(this)};
CKEDITOR.command.prototype={enable:function(){this.state==CKEDITOR.TRISTATE_DISABLED&&this.setState(!this.preserveState||typeof this.previousState=="undefined"?CKEDITOR.TRISTATE_OFF:this.previousState)},disable:function(){this.setState(CKEDITOR.TRISTATE_DISABLED)},setState:function(b){if(this.state==b)return false;this.previousState=this.state;this.state=b;this.fire("state");return true},toggleState:function(){this.state==CKEDITOR.TRISTATE_OFF?this.setState(CKEDITOR.TRISTATE_ON):this.state==CKEDITOR.TRISTATE_ON&&
this.setState(CKEDITOR.TRISTATE_OFF)}};CKEDITOR.event.implementOn(CKEDITOR.command.prototype);CKEDITOR.ENTER_P=1;CKEDITOR.ENTER_BR=2;CKEDITOR.ENTER_DIV=3;

CKEDITOR.config={customConfig:CKEDITOR.basePath+"/ckeditor-config.js",autoUpdateElement:!0,language:"",defaultLanguage:"en",contentsLangDirection:"",enterMode:CKEDITOR.ENTER_P,forceEnterMode:!1,shiftEnterMode:CKEDITOR.ENTER_BR,docType:"<!DOCTYPE html>",bodyId:"",bodyClass:"",fullPage:!1,height:200,extraPlugins:"",removePlugins:"",protectedSource:[],tabIndex:0,width:"",baseFloatZIndex:1E4,blockedKeystrokes:[CKEDITOR.CTRL+66,CKEDITOR.CTRL+73,CKEDITOR.CTRL+85]};
(function(){CKEDITOR.focusManager=function(b){if(b.focusManager)return b.focusManager;this.hasFocus=false;this.currentActive=null;this._={editor:b};return this};CKEDITOR.focusManager._={blurDelay:200};CKEDITOR.focusManager.prototype={focus:function(){this._.timer&&clearTimeout(this._.timer);if(!this.hasFocus&&!this._.locked){var b=CKEDITOR.currentInstance;b&&b.focusManager.blur(1);this.hasFocus=true;(b=this._.editor.container)&&b.addClass("cke_focus");this._.editor.fire("focus")}},lock:function(){this._.locked=
1},unlock:function(){delete this._.locked},blur:function(b){function c(){if(this.hasFocus){this.hasFocus=false;var a=this._.editor.container;a&&a.removeClass("cke_focus");this._.editor.fire("blur")}}if(!this._.locked){this._.timer&&clearTimeout(this._.timer);var a=CKEDITOR.focusManager._.blurDelay;b||!a?c.call(this):this._.timer=CKEDITOR.tools.setTimeout(function(){delete this._.timer;c.call(this)},a,this)}},add:function(b,c){var a=b.getCustomData("focusmanager");if(!a||a!=this){a&&a.remove(b);var a=
"focus",f="blur";if(c)if(CKEDITOR.env.ie){a="focusin";f="focusout"}else CKEDITOR.event.useCapture=1;var e={blur:function(){b.equals(this.currentActive)&&this.blur()},focus:function(){this.currentActive=b;this.focus()}};b.on(a,e.focus,this);b.on(f,e.blur,this);if(c)CKEDITOR.event.useCapture=0;b.setCustomData("focusmanager",this);b.setCustomData("focusmanager_handlers",e)}},remove:function(b){b.removeCustomData("focusmanager");var c=b.removeCustomData("focusmanager_handlers");b.removeListener("blur",
c.blur);b.removeListener("focus",c.focus)}}})();CKEDITOR.keystrokeHandler=function(b){if(b.keystrokeHandler)return b.keystrokeHandler;this.keystrokes={};this.blockedKeystrokes={};this._={editor:b};return this};
(function(){var b,c=function(a){var a=a.data,c=a.getKeystroke(),d=this.keystrokes[c],g=this._.editor;b=g.fire("key",{keyCode:c})===false;if(!b){d&&(b=g.execCommand(d,{from:"keystrokeHandler"})!==false);b||(b=!!this.blockedKeystrokes[c])}b&&a.preventDefault(true);return!b},a=function(a){if(b){b=false;a.data.preventDefault(true)}};CKEDITOR.keystrokeHandler.prototype={attach:function(b){b.on("keydown",c,this);if(CKEDITOR.env.opera||CKEDITOR.env.gecko&&CKEDITOR.env.mac)b.on("keypress",a,this)}}})();
(function(){CKEDITOR.lang={languages:{af:1,ar:1,bg:1,bn:1,bs:1,ca:1,cs:1,cy:1,da:1,de:1,el:1,"en-au":1,"en-ca":1,"en-gb":1,en:1,eo:1,es:1,et:1,eu:1,fa:1,fi:1,fo:1,"fr-ca":1,fr:1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,is:1,it:1,ja:1,ka:1,km:1,ko:1,ku:1,lt:1,lv:1,mn:1,ms:1,nb:1,nl:1,no:1,pl:1,"pt-br":1,pt:1,ro:1,ru:1,sk:1,sl:1,"sr-latn":1,sr:1,sv:1,th:1,tr:1,uk:1,vi:1,"zh-cn":1,zh:1},load:function(b,c,a){if(!b||!CKEDITOR.lang.languages[b])b=this.detect(c,b);this[b]?a(b,this[b]):CKEDITOR.scriptLoader.load(CKEDITOR.getUrl("lang/"+
b+".js"),function(){a(b,this[b])},this)},detect:function(b,c){var a=this.languages,c=c||navigator.userLanguage||navigator.language||b,f=c.toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/),e=f[1],f=f[2];a[e+"-"+f]?e=e+"-"+f:a[e]||(e=null);CKEDITOR.lang.detect=e?function(){return e}:function(a){return a};return e||b}}})();
CKEDITOR.scriptLoader=function(){var b={},c={};return{load:function(a,f,e,d){var g=typeof a=="string";g&&(a=[a]);e||(e=CKEDITOR);var k=a.length,h=[],m=[],n=function(a){f&&(g?f.call(e,a):f.call(e,h,m))};if(k===0)n(true);else{var o=function(a,b){(b?h:m).push(a);if(--k<=0){d&&CKEDITOR.document.getDocumentElement().removeStyle("cursor");n(b)}},l=function(a,l){b[a]=1;var d=c[a];delete c[a];for(var j=0;j<d.length;j++)d[j](a,l)},j=function(a){if(b[a])o(a,true);else{var d=c[a]||(c[a]=[]);d.push(o);if(!(d.length>
1)){var j=new CKEDITOR.dom.element("script");j.setAttributes({type:"text/javascript",src:a});if(f)if(CKEDITOR.env.ie)j.$.onreadystatechange=function(){if(j.$.readyState=="loaded"||j.$.readyState=="complete"){j.$.onreadystatechange=null;l(a,true)}};else{j.$.onload=function(){setTimeout(function(){l(a,true)},0)};j.$.onerror=function(){l(a,false)}}j.appendTo(CKEDITOR.document.getHead())}}};d&&CKEDITOR.document.getDocumentElement().setStyle("cursor","wait");for(var q=0;q<k;q++)j(a[q])}}}}();
CKEDITOR.resourceManager=function(b,c){this.basePath=b;this.fileName=c;this.registered={};this.loaded={};this.externals={};this._={waitingList:{}}};
CKEDITOR.resourceManager.prototype={add:function(b,c){if(this.registered[b])throw'[CKEDITOR.resourceManager.add] The resource name "'+b+'" is already registered.';var a=this.registered[b]=c||{};a.name=b;a.path=this.getPath(b);CKEDITOR.fire(b+CKEDITOR.tools.capitalize(this.fileName)+"Ready",a);return this.get(b)},get:function(b){return this.registered[b]||null},getPath:function(b){var c=this.externals[b];return CKEDITOR.getUrl(c&&c.dir||this.basePath+b+"/")},getFilePath:function(b){var c=this.externals[b];
return CKEDITOR.getUrl(this.getPath(b)+(c&&typeof c.file=="string"?c.file:this.fileName+".js"))},addExternal:function(b,c,a){for(var b=b.split(","),f=0;f<b.length;f++)this.externals[b[f]]={dir:c,file:a}},load:function(b,c,a){CKEDITOR.tools.isArray(b)||(b=b?[b]:[]);for(var f=this.loaded,e=this.registered,d=[],g={},k={},h=0;h<b.length;h++){var m=b[h];if(m)if(!f[m]&&!e[m]){var n=this.getFilePath(m);d.push(n);n in g||(g[n]=[]);g[n].push(m)}else k[m]=this.get(m)}CKEDITOR.scriptLoader.load(d,function(b,
l){if(l.length)throw'[CKEDITOR.resourceManager.load] Resource name "'+g[l[0]].join(",")+'" was not found at "'+l[0]+'".';for(var d=0;d<b.length;d++)for(var e=g[b[d]],h=0;h<e.length;h++){var m=e[h];k[m]=this.get(m);f[m]=1}c.call(a,k)},this)}};CKEDITOR.plugins=new CKEDITOR.resourceManager("plugins/","plugin");
CKEDITOR.plugins.load=CKEDITOR.tools.override(CKEDITOR.plugins.load,function(b){var c={};return function(a,f,e){var d={},g=function(a){b.call(this,a,function(a){CKEDITOR.tools.extend(d,a);var b=[],k;for(k in a){var o=a[k],l=o&&o.requires;if(!c[k]){if(o.icons)for(var j=o.icons.split(","),q=0;q<j.length;q++)CKEDITOR.skin.addIcon(j[q],o.path+"icons/"+j[q]+".png");c[k]=1}if(l){l.split&&(l=l.split(","));for(o=0;o<l.length;o++)d[l[o]]||b.push(l[o])}}if(b.length)g.call(this,b);else{for(k in d){o=d[k];if(o.onLoad&&
!o.onLoad._called){o.onLoad()===false&&delete d[k];o.onLoad._called=1}}f&&f.call(e||window,d)}},this)};g.call(this,a)}});CKEDITOR.plugins.setLang=function(b,c,a){var f=this.get(b),b=f.langEntries||(f.langEntries={}),f=f.lang||(f.lang=[]);f.split&&(f=f.split(","));CKEDITOR.tools.indexOf(f,c)==-1&&f.push(c);b[c]=a};CKEDITOR.ui=function(b){if(b.ui)return b.ui;this.items={};this.instances={};this.editor=b;this._={handlers:{}};return this};
CKEDITOR.ui.prototype={add:function(b,c,a){a.name=b.toLowerCase();var f=this.items[b]={type:c,command:a.command||null,args:Array.prototype.slice.call(arguments,2)};CKEDITOR.tools.extend(f,a)},get:function(b){return this.instances[b]},create:function(b){var c=this.items[b],a=c&&this._.handlers[c.type],f=c&&c.command&&this.editor.getCommand(c.command),a=a&&a.create.apply(this,c.args);this.instances[b]=a;f&&f.uiItems.push(a);if(a&&!a.type)a.type=c.type;return a},addHandler:function(b,c){this._.handlers[b]=
c},space:function(b){return CKEDITOR.document.getById(this.spaceId(b))},spaceId:function(b){return this.editor.id+"_"+b}};CKEDITOR.event.implementOn(CKEDITOR.ui);
(function(){function b(b,j,o){CKEDITOR.event.call(this);b=b&&CKEDITOR.tools.clone(b);if(j!==void 0){if(j instanceof CKEDITOR.dom.element){if(!o)throw Error("One of the element mode must be specified.");}else throw Error("Expect element of type CKEDITOR.dom.element.");if(CKEDITOR.env.ie&&CKEDITOR.env.quirks&&o==CKEDITOR.ELEMENT_MODE_INLINE)throw Error("Inline element mode is not supported on IE quirks.");if(o==CKEDITOR.ELEMENT_MODE_INLINE&&!j.is(CKEDITOR.dtd.$editable)||o==CKEDITOR.ELEMENT_MODE_REPLACE&&
j.is(CKEDITOR.dtd.$nonBodyContent))throw Error('The specified element mode is not supported on element: "'+j.getName()+'".');this.element=j;this.elementMode=o;this.name=this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO&&(j.getId()||j.getNameAtt())}else this.elementMode=CKEDITOR.ELEMENT_MODE_NONE;this._={};this.commands={};this.templates={};this.name=this.name||c();this.id=CKEDITOR.tools.getNextId();this.config=CKEDITOR.tools.prototypedCopy(CKEDITOR.config);this.ui=new CKEDITOR.ui(this);this.focusManager=
new CKEDITOR.focusManager(this);this.keystrokeHandler=new CKEDITOR.keystrokeHandler(this);this.on("mode",a);this.on("readOnly",a);this.on("selectionChange",f);this.on("instanceReady",function(){this.config.startupFocus&&this.focus()});CKEDITOR.fire("instanceCreated",null,this);CKEDITOR.add(this);CKEDITOR.tools.setTimeout(function(){d(this,b)},0,this)}function c(){do var a="editor"+ ++n;while(CKEDITOR.instances[a]);return a}function a(){var a,b=this.commands,c=this.mode;if(c)for(var d in b){a=b[d];
a[a.startDisabled?"disable":this.readOnly&&!a.readOnly?"disable":a.modes[c]?"enable":"disable"]()}}function f(a){var b=this.commands,c=a.editor,d=a.data.path,o;for(o in b){a=b[o];a.contextSensitive&&a.refresh(c,d)}}function e(a){var b=a.config.customConfig;if(!b)return false;var b=CKEDITOR.getUrl(b),c=o[b]||(o[b]={});if(c.fn){c.fn.call(a,a.config);(CKEDITOR.getUrl(a.config.customConfig)==b||!e(a))&&a.fireOnce("customConfigLoaded")}else CKEDITOR.scriptLoader.load(b,function(){c.fn=CKEDITOR.editorConfig?
CKEDITOR.editorConfig:function(){};e(a)});return true}function d(a,b){a.on("customConfigLoaded",function(){if(b){if(b.on)for(var c in b.on)a.on(c,b.on[c]);CKEDITOR.tools.extend(a.config,b,true);delete a.config.on}a.readOnly=!(!a.config.readOnly&&!(a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?a.element.isReadOnly():a.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&a.element.getAttribute("disabled")));a.blockless=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&!CKEDITOR.dtd[a.element.getName()].p;a.tabIndex=
a.config.tabIndex||a.element&&a.element.getAttribute("tabindex")||0;if(a.config.skin)CKEDITOR.skinName=a.config.skin;a.fireOnce("configLoaded");a.dataProcessor=new CKEDITOR.htmlDataProcessor(a);g(a)});if(b&&b.customConfig!=void 0)a.config.customConfig=b.customConfig;e(a)||a.fireOnce("customConfigLoaded")}function g(a){CKEDITOR.skin.loadPart("editor",function(){k(a)})}function k(a){CKEDITOR.lang.load(a.config.language,a.config.defaultLanguage,function(b,c){a.langCode=b;a.lang=CKEDITOR.tools.prototypedCopy(c);
if(CKEDITOR.env.gecko&&CKEDITOR.env.version<10900&&a.lang.dir=="rtl")a.lang.dir="ltr";if(!a.config.contentsLangDirection)a.config.contentsLangDirection=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?a.element.getDirection(1):a.lang.dir;a.fire("langLoaded");h(a)})}function h(a){var b=a.config,c=b.plugins,d=b.extraPlugins,o=b.removePlugins;if(d)var e=RegExp("(?:^|,)(?:"+d.replace(/\s*,\s*/g,"|")+")(?=,|$)","g"),c=c.replace(e,""),c=c+(","+d);if(o)var g=RegExp("(?:^|,)(?:"+o.replace(/\s*,\s*/g,"|")+")(?=,|$)",
"g"),c=c.replace(g,"");CKEDITOR.env.air&&(c=c+",adobeair");CKEDITOR.plugins.load(c.split(","),function(c){var d=[],o=[],e=[];a.plugins=c;for(var f in c){var i=c[f],h=i.lang,q=null,t=i.requires,k;CKEDITOR.tools.isArray(t)&&(t=t.join(","));if(t&&(k=t.match(g)))for(;t=k.pop();)CKEDITOR.tools.setTimeout(function(a,b){throw Error('Plugin "'+a.replace(",","")+'" cannot be removed from the plugins list, because it\'s required by "'+b+'" plugin.');},0,null,[t,f]);if(h&&!a.lang[f]){h.split&&(h=h.split(","));
if(CKEDITOR.tools.indexOf(h,a.langCode)>=0)q=a.langCode;else{q=a.langCode.replace(/-.*/,"");q=q!=a.langCode&&CKEDITOR.tools.indexOf(h,q)>=0?q:CKEDITOR.tools.indexOf(h,"en")>=0?"en":h[0]}if(!i.langEntries||!i.langEntries[q])e.push(CKEDITOR.getUrl(i.path+"lang/"+q+".js"));else{a.lang[f]=i.langEntries[q];q=null}}o.push(q);d.push(i)}CKEDITOR.scriptLoader.load(e,function(){for(var c=["beforeInit","init","afterInit"],e=0;e<c.length;e++)for(var g=0;g<d.length;g++){var f=d[g];e===0&&(o[g]&&f.lang&&f.langEntries)&&
(a.lang[f.name]=f.langEntries[o[g]]);if(f[c[e]])f[c[e]](a)}a.fireOnce("pluginsLoaded");b.keystrokes&&a.setKeystroke(a.config.keystrokes);for(g=0;g<a.config.blockedKeystrokes.length;g++)a.keystrokeHandler.blockedKeystrokes[a.config.blockedKeystrokes[g]]=1;a.fireOnce("loaded");CKEDITOR.fire("instanceLoaded",null,a)})})}function m(){var a=this.element;if(a&&this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO){var b=this.getData();this.config.htmlEncodeOutput&&(b=CKEDITOR.tools.htmlEncode(b));a.is("textarea")?
a.setValue(b):a.setHtml(b);return true}return false}b.prototype=CKEDITOR.editor.prototype;CKEDITOR.editor=b;var n=0,o={};CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{addCommand:function(a,b){return this.commands[a]=new CKEDITOR.command(this,b)},destroy:function(a){this.fire("beforeDestroy");!a&&m.call(this);this.editable(null);this.fire("destroy");this.removeAllListeners();CKEDITOR.remove(this);CKEDITOR.fire("instanceDestroyed",null,this)},elementPath:function(a){return(a=a||this.getSelection().getStartElement())?
new CKEDITOR.dom.elementPath(a,this.editable()):null},createRange:function(){var a=this.editable();return a?new CKEDITOR.dom.range(a):null},execCommand:function(a,b){var c=this.getCommand(a),d={name:a,commandData:b,command:c};if(c&&c.state!=CKEDITOR.TRISTATE_DISABLED&&this.fire("beforeCommandExec",d)!==true){d.returnValue=c.exec(d.commandData);if(!c.async&&this.fire("afterCommandExec",d)!==true)return d.returnValue}return false},getCommand:function(a){return this.commands[a]},getData:function(a){!a&&
this.fire("beforeGetData");var b=this._.data;if(typeof b!="string")b=(b=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?b.is("textarea")?b.getValue():b.getHtml():"";b={dataValue:b};!a&&this.fire("getData",b);return b.dataValue},getSnapshot:function(){var a=this.fire("getSnapshot");if(typeof a!="string"){var b=this.element;b&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(a=b.is("textarea")?b.getValue():b.getHtml())}return a},loadSnapshot:function(a){this.fire("loadSnapshot",a)},
setData:function(a,b,c){if(b)this.on("dataReady",function(a){a.removeListener();b.call(a.editor)});a={dataValue:a};!c&&this.fire("setData",a);this._.data=a.dataValue;!c&&this.fire("afterSetData",a)},setReadOnly:function(a){a=a==void 0||a;if(this.readOnly!=a){this.readOnly=a;this.editable().setReadOnly(a);this.fire("readOnly")}},insertHtml:function(a,b){this.fire("insertHtml",{dataValue:a,mode:b})},insertText:function(a){this.fire("insertText",a)},insertElement:function(a){this.fire("insertElement",
a)},focus:function(){this.fire("beforeFocus")},checkDirty:function(){return this._.previousValue!==this.getSnapshot()},resetDirty:function(){this._.previousValue=this.getSnapshot()},updateElement:function(){return m.call(this)},setKeystroke:function(){for(var a=this.keystrokeHandler.keystrokes,b=CKEDITOR.tools.isArray(arguments[0])?arguments[0]:[[].slice.call(arguments,0)],c,d,o=b.length;o--;){c=b[o];d=0;if(CKEDITOR.tools.isArray(c)){d=c[1];c=c[0]}d?a[c]=d:delete a[c]}}})})();
CKEDITOR.ELEMENT_MODE_NONE=0;CKEDITOR.ELEMENT_MODE_REPLACE=1;CKEDITOR.ELEMENT_MODE_APPENDTO=2;CKEDITOR.ELEMENT_MODE_INLINE=3;CKEDITOR.htmlParser=function(){this._={htmlPartsRegex:RegExp("<(?:(?:\\/([^>]+)>)|(?:!--([\\S|\\s]*?)--\>)|(?:([^\\s>]+)\\s*((?:(?:\"[^\"]*\")|(?:'[^']*')|[^\"'>])*)\\/?>))","g")}};
(function(){var b=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,c={checked:1,compact:1,declare:1,defer:1,disabled:1,ismap:1,multiple:1,nohref:1,noresize:1,noshade:1,nowrap:1,readonly:1,selected:1};CKEDITOR.htmlParser.prototype={onTagOpen:function(){},onTagClose:function(){},onText:function(){},onCDATA:function(){},onComment:function(){},parse:function(a){for(var f,e,d=0,g;f=this._.htmlPartsRegex.exec(a);){e=f.index;if(e>d){d=a.substring(d,e);if(g)g.push(d);else this.onText(d)}d=
this._.htmlPartsRegex.lastIndex;if(e=f[1]){e=e.toLowerCase();if(g&&CKEDITOR.dtd.$cdata[e]){this.onCDATA(g.join(""));g=null}if(!g){this.onTagClose(e);continue}}if(g)g.push(f[0]);else if(e=f[3]){e=e.toLowerCase();if(!/="/.test(e)){var k={},h;f=f[4];var m=!!(f&&f.charAt(f.length-1)=="/");if(f)for(;h=b.exec(f);){var n=h[1].toLowerCase();h=h[2]||h[3]||h[4]||"";k[n]=!h&&c[n]?n:h}this.onTagOpen(e,k,m);!g&&CKEDITOR.dtd.$cdata[e]&&(g=[])}}else if(e=f[2])this.onComment(e)}if(a.length>d)this.onText(a.substring(d,
a.length))}}})();
CKEDITOR.htmlParser.basicWriter=CKEDITOR.tools.createClass({$:function(){this._={output:[]}},proto:{openTag:function(b){this._.output.push("<",b)},openTagClose:function(b,c){c?this._.output.push(" />"):this._.output.push(">")},attribute:function(b,c){typeof c=="string"&&(c=CKEDITOR.tools.htmlEncodeAttr(c));this._.output.push(" ",b,'="',c,'"')},closeTag:function(b){this._.output.push("</",b,">")},text:function(b){this._.output.push(b)},comment:function(b){this._.output.push("<\!--",b,"--\>")},write:function(b){this._.output.push(b)},
reset:function(){this._.output=[];this._.indent=false},getHtml:function(b){var c=this._.output.join("");b&&this.reset();return c}}});CKEDITOR.htmlParser.comment=function(b){this.value=b;this._={isBlockLike:false}};CKEDITOR.htmlParser.comment.prototype={type:CKEDITOR.NODE_COMMENT,writeHtml:function(b,c){var a=this.value;if(c){if(!(a=c.onComment(a,this)))return;if(typeof a!="string"){a.parent=this.parent;a.writeHtml(b,c);return}}b.comment(a)}};
(function(){CKEDITOR.htmlParser.text=function(b){this.value=b;this._={isBlockLike:false}};CKEDITOR.htmlParser.text.prototype={type:CKEDITOR.NODE_TEXT,writeHtml:function(b,c){var a=this.value;(!c||(a=c.onText(a,this)))&&b.text(a)}}})();(function(){CKEDITOR.htmlParser.cdata=function(b){this.value=b};CKEDITOR.htmlParser.cdata.prototype={type:CKEDITOR.NODE_TEXT,writeHtml:function(b){b.write(this.value)}}})();
CKEDITOR.htmlParser.fragment=function(){this.children=[];this.parent=null;this._={isBlockLike:true,hasInlineStarted:false}};
(function(){function b(a){return a.name=="a"&&a.attributes.href||CKEDITOR.dtd.$removeEmpty[a.name]}var c=CKEDITOR.tools.extend({table:1,ul:1,ol:1,dl:1},CKEDITOR.dtd.table,CKEDITOR.dtd.ul,CKEDITOR.dtd.ol,CKEDITOR.dtd.dl),a={ol:1,ul:1},f=CKEDITOR.tools.extend({},{html:1},CKEDITOR.dtd.html,CKEDITOR.dtd.body,CKEDITOR.dtd.head,{style:1,script:1});CKEDITOR.htmlParser.fragment.fromHtml=function(e,d,g){function k(a){var b;if(y.length>0)for(var c=0;c<y.length;c++){var d=y[c],l=d.name,o=CKEDITOR.dtd[l],j=i.name&&
CKEDITOR.dtd[i.name];if((!j||j[l])&&(!a||!o||o[a]||!CKEDITOR.dtd[a])){if(!b){h();b=1}d=d.clone();d.parent=i;i=d;y.splice(c,1);c--}else if(l==i.name){n(i,i.parent,1);c--}}}function h(){for(;z.length;)n(z.shift(),i)}function m(a){if(a._.isBlockLike&&a.name!="pre"&&a.name!="textarea"){var b=a.children.length,c=a.children[b-1],d;if(c&&c.type==CKEDITOR.NODE_TEXT)(d=CKEDITOR.tools.rtrim(c.value))?c.value=d:a.children.length=b-1}}function n(a,c,d){var c=c||i||q,l=i;if(a.previous===void 0){if(o(c,a)){i=c;
j.onTagOpen(g,{});a.returnPoint=c=i}m(a);(!b(a)||a.children.length)&&c.add(a);a.name=="pre"&&(A=false);a.name=="textarea"&&(s=false)}if(a.returnPoint){i=a.returnPoint;delete a.returnPoint}else i=d?c:l}function o(a,b){if((a==q||a.name=="body")&&g&&(!a.name||CKEDITOR.dtd[a.name][g])){var c,d;return(c=b.attributes&&(d=b.attributes["data-cke-real-element-type"])?d:b.name)&&c in CKEDITOR.dtd.$inline&&!(c in CKEDITOR.dtd.head)&&!b.isOrphan||b.type==CKEDITOR.NODE_TEXT}}function l(a,b){return a in CKEDITOR.dtd.$listItem||
a in CKEDITOR.dtd.$tableContent?a==b||a=="dt"&&b=="dd"||a=="dd"&&b=="dt":false}var j=new CKEDITOR.htmlParser,q=d instanceof CKEDITOR.htmlParser.element?d:typeof d=="string"?new CKEDITOR.htmlParser.element(d):new CKEDITOR.htmlParser.fragment,y=[],z=[],i=q,s=q.name=="textarea",A=q.name=="pre";j.onTagOpen=function(d,o,g,e){o=new CKEDITOR.htmlParser.element(d,o);if(o.isUnknown&&g)o.isEmpty=true;o.isOptionalClose=e;if(b(o))y.push(o);else{if(d=="pre")A=true;else{if(d=="br"&&A){i.add(new CKEDITOR.htmlParser.text("\n"));
return}d=="textarea"&&(s=true)}if(d=="br")z.push(o);else{for(;;){e=(g=i.name)?CKEDITOR.dtd[g]||(i._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):f;if(!o.isUnknown&&!i.isUnknown&&!e[d])if(i.isOptionalClose)j.onTagClose(g);else if(d in a&&g in a){g=i.children;(g=g[g.length-1])&&g.name=="li"||n(g=new CKEDITOR.htmlParser.element("li"),i);!o.returnPoint&&(o.returnPoint=i);i=g}else if(d in CKEDITOR.dtd.$listItem&&!l(d,g))j.onTagOpen(d=="li"?"ul":"dl",{},0,1);else if(g in c&&!l(d,g)){!o.returnPoint&&
(o.returnPoint=i);i=i.parent}else{g in CKEDITOR.dtd.$inline&&y.unshift(i);if(i.parent)n(i,i.parent,1);else{o.isOrphan=1;break}}else break}k(d);h();o.parent=i;o.isEmpty?n(o):i=o}}};j.onTagClose=function(a){for(var b=y.length-1;b>=0;b--)if(a==y[b].name){y.splice(b,1);return}for(var c=[],d=[],o=i;o!=q&&o.name!=a;){o._.isBlockLike||d.unshift(o);c.push(o);o=o.returnPoint||o.parent}if(o!=q){for(b=0;b<c.length;b++){var l=c[b];n(l,l.parent)}i=o;o._.isBlockLike&&h();n(o,o.parent);if(o==i)i=i.parent;y=y.concat(d)}a==
"body"&&(g=false)};j.onText=function(b){if((!i._.hasInlineStarted||z.length)&&!A&&!s){b=CKEDITOR.tools.ltrim(b);if(b.length===0)return}var d=i.name,l=d?CKEDITOR.dtd[d]||(i._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):f;if(!s&&!l["#"]&&d in c){j.onTagOpen(d in a?"li":d=="dl"?"dd":d=="table"?"tr":d=="tr"?"td":"");j.onText(b)}else{h();k();!A&&!s&&(b=b.replace(/[\t\r\n ]{2,}|[\t\r\n]/g," "));b=new CKEDITOR.htmlParser.text(b);if(o(i,b))this.onTagOpen(g,{},0,1);i.add(b)}};j.onCDATA=function(a){i.add(new CKEDITOR.htmlParser.cdata(a))};
j.onComment=function(a){h();k();i.add(new CKEDITOR.htmlParser.comment(a))};j.parse(e);for(h(!CKEDITOR.env.ie&&1);i!=q;)n(i,i.parent,1);m(q);return q};CKEDITOR.htmlParser.fragment.prototype={type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,add:function(a,b){isNaN(b)&&(b=this.children.length);var c=b>0?this.children[b-1]:null;if(c){if(a._.isBlockLike&&c.type==CKEDITOR.NODE_TEXT){c.value=CKEDITOR.tools.rtrim(c.value);if(c.value.length===0){this.children.pop();this.add(a);return}}c.next=a}a.previous=c;a.parent=this;
this.children.splice(b,0,a);if(!this._.hasInlineStarted)this._.hasInlineStarted=a.type==CKEDITOR.NODE_TEXT||a.type==CKEDITOR.NODE_ELEMENT&&!a._.isBlockLike},writeHtml:function(a,b){var c;this.filterChildren=function(){var a=new CKEDITOR.htmlParser.basicWriter;this.writeChildrenHtml.call(this,a,b);a=a.getHtml();this.children=(new CKEDITOR.htmlParser.fragment.fromHtml(a)).children;c=1};b&&b.onRoot(this);this.writeChildrenHtml(a,c?null:b)},writeChildrenHtml:function(a,b,c){if(c&&!this.parent&&b)b.onRoot(this);
for(c=0;c<this.children.length;c++)this.children[c].writeHtml(a,b)}}})();
(function(){function b(a,b){for(var c=0;a&&c<b.length;c++)var e=b[c],a=a.replace(e[0],e[1]);return a}function c(a,b,c){typeof b=="function"&&(b=[b]);var e,f;f=a.length;var n=b&&b.length;if(n){for(e=0;e<f&&a[e].pri<c;e++);for(f=n-1;f>=0;f--)if(n=b[f]){n.pri=c;a.splice(e,0,n)}}}function a(a,b,c){if(b)for(var e in b){var m=a[e];a[e]=f(m,b[e],c);m||a.$length++}}function f(a,b,f){if(b){b.pri=f;if(a){if(a.splice)c(a,b,f);else{a=a.pri>f?[b,a]:[a,b];a.filter=e}return a}return b.filter=b}}function e(a){for(var b=
a.type||a instanceof CKEDITOR.htmlParser.fragment,c=0;c<this.length;c++){if(b)var e=a.type,f=a.name;var n=this[c].apply(window,arguments);if(n===false)return n;if(b){if(n&&(n.name!=f||n.type!=e))return n}else if(typeof n!="string")return n;n!=void 0&&(a=n)}return a}CKEDITOR.htmlParser.filter=CKEDITOR.tools.createClass({$:function(a){this._={elementNames:[],attributeNames:[],elements:{$length:0},attributes:{$length:0}};a&&this.addRules(a,10)},proto:{addRules:function(b,e){typeof e!="number"&&(e=10);
c(this._.elementNames,b.elementNames,e);c(this._.attributeNames,b.attributeNames,e);a(this._.elements,b.elements,e);a(this._.attributes,b.attributes,e);this._.text=f(this._.text,b.text,e)||this._.text;this._.comment=f(this._.comment,b.comment,e)||this._.comment;this._.root=f(this._.root,b.root,e)||this._.root},onElementName:function(a){return b(a,this._.elementNames)},onAttributeName:function(a){return b(a,this._.attributeNames)},onText:function(a){var b=this._.text;return b?b.filter(a):a},onComment:function(a,
b){var c=this._.comment;return c?c.filter(a,b):a},onRoot:function(a){var b=this._.root;return b?b.filter(a):a},onElement:function(a){for(var b=[this._.elements["^"],this._.elements[a.name],this._.elements.$],c,e=0;e<3;e++)if(c=b[e]){c=c.filter(a,this);if(c===false)return null;if(c&&c!=a)return this.onNode(c);if(a.parent&&!a.name)break}return a},onNode:function(a){var b=a.type;return b==CKEDITOR.NODE_ELEMENT?this.onElement(a):b==CKEDITOR.NODE_TEXT?new CKEDITOR.htmlParser.text(this.onText(a.value)):
b==CKEDITOR.NODE_COMMENT?new CKEDITOR.htmlParser.comment(this.onComment(a.value)):null},onAttribute:function(a,b,c){if(b=this._.attributes[b]){a=b.filter(c,a,this);if(a===false)return false;if(typeof a!="undefined")return a}return c}}})})();
(function(){function b(b,c){function o(a){return a||CKEDITOR.env.ie?new CKEDITOR.htmlParser.text(" "):new CKEDITOR.htmlParser.element("br",{"data-cke-bogus":1})}function l(b,c){return function(l){if(l.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var e=[],g=a(l),i,K;if(g)for(j(g,1)&&e.push(g);g;){if(d(g)&&(i=f(g))&&j(i))if((K=f(i))&&!d(K))e.push(i);else{var h=i,q=o(t),m=h.parent.children,y=CKEDITOR.tools.indexOf(m,h);m.splice(y+1,0,q);m=h.next;h.next=q;q.previous=h;q.parent=h.parent;q.next=m;k(i)}g=g.previous}for(g=
0;g<e.length;g++)k(e[g]);if(e=CKEDITOR.env.opera&&!b||(typeof c=="function"?c(l)!==false:c))if(!t&&CKEDITOR.env.ie&&l.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)e=false;else if(!t&&CKEDITOR.env.ie&&(document.documentMode>7||l.name in CKEDITOR.dtd.tr||l.name in CKEDITOR.dtd.$listItem))e=false;else{e=a(l);e=!e||l.name=="form"&&e.name=="input"}e&&l.add(o(b))}}}function j(a,b){if((!t||!CKEDITOR.env.ie)&&a.type==CKEDITOR.NODE_ELEMENT&&a.name=="br"&&!a.attributes["data-cke-eol"])return true;var c;if(a.type==
CKEDITOR.NODE_TEXT&&(c=a.value.match(s))){if(c.index){g(a,new CKEDITOR.htmlParser.text(a.value.substring(0,c.index)));a.value=c[0]}if(CKEDITOR.env.ie&&t&&(!b||a.parent.name in h))return true;if(!t)if((c=a.previous)&&c.name=="br"||!c||d(c))return true}return false}var i={elements:{}},t=c=="html",h=CKEDITOR.tools.extend({},E),q;for(q in h)"#"in B[q]||delete h[q];for(q in h)i.elements[q]=l(t,b.config.fillEmptyBlocks!==false);i.root=l(t);i.elements.br=function(a){return function(b){if(b.parent.type!=
CKEDITOR.NODE_DOCUMENT_FRAGMENT){var c=b.attributes;if("data-cke-bogus"in c||"data-cke-eol"in c)delete c["data-cke-bogus"];else{for(c=b.next;c&&e(c);)c=c.next;var l=f(b);if(!c&&d(b.parent)){b=b.parent;c=o(a);l=b.children[b.children.length-1];b.children.push(c);c.parent=b;if(l){l.next=c;c.previous=l}}else d(c)&&(l&&!d(l))&&g(c,o(a))}}}}(t);return i}function c(a){return a.enterMode!=CKEDITOR.ENTER_BR&&a.autoParagraph!==false?a.enterMode==CKEDITOR.ENTER_DIV?"div":"p":false}function a(a){for(a=a.children[a.children.length-
1];a&&e(a);)a=a.previous;return a}function f(a){for(a=a.previous;a&&e(a);)a=a.previous;return a}function e(a){return a.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(a.value)||a.type==CKEDITOR.NODE_ELEMENT&&a.attributes["data-cke-bookmark"]}function d(a){return a&&(a.type==CKEDITOR.NODE_ELEMENT&&a.name in E||a.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)}function g(a,b){var c=a.parent.children,d=CKEDITOR.tools.indexOf(c,a);c.splice(d,0,b);c=a.previous;a.previous=b;b.next=a;b.parent=a.parent;if(c){b.previous=
c;c.next=b}}function k(a){var b=a.parent.children,c=CKEDITOR.tools.indexOf(b,a),d=a.previous,a=a.next;d&&(d.next=a);a&&(a.previous=d);b.splice(c,1)}function h(a){var b=a.parent;return b?CKEDITOR.tools.indexOf(b.children,a):-1}function m(a){a=a.attributes;a.contenteditable!="false"&&(a["data-cke-editable"]=a.contenteditable?"true":1);a.contenteditable="false"}function n(a){a=a.attributes;switch(a["data-cke-editable"]){case "true":a.contenteditable="true";break;case "1":delete a.contenteditable}}function o(a){return a.replace(v,
function(a,b,c){return"<"+b+c.replace(t,function(a,b){return!/^on/.test(b)&&c.indexOf("data-cke-saved-"+b)==-1?" data-cke-saved-"+a+" data-cke-"+CKEDITOR.rnd+"-"+a:a})+">"})}function l(a){return a.replace(w,function(a){return"<cke:encoded>"+encodeURIComponent(a)+"</cke:encoded>"})}function j(a){return a.replace(I,function(a,b){return decodeURIComponent(b)})}function q(a){return a.replace(/<\!--(?!{cke_protected})[\s\S]+?--\>/g,function(a){return"<\!--"+A+"{C}"+encodeURIComponent(a).replace(/--/g,
"%2D%2D")+"--\>"})}function y(a){return a.replace(/<\!--\{cke_protected\}\{C\}([\s\S]+?)--\>/g,function(a,b){return decodeURIComponent(b)})}function z(a,b){var c=b._.dataStore;return a.replace(/<\!--\{cke_protected\}([\s\S]+?)--\>/g,function(a,b){return decodeURIComponent(b)}).replace(/\{cke_protected_(\d+)\}/g,function(a,b){return c&&c[b]||""})}function i(a,b){for(var c=[],d=b.config.protectedSource,o=b._.dataStore||(b._.dataStore={id:1}),l=/<\!--\{cke_temp(comment)?\}(\d*?)--\>/g,d=[/<script[\s\S]*?<\/script>/gi,
/<noscript[\s\S]*?<\/noscript>/gi].concat(d),a=a.replace(/<\!--[\s\S]*?--\>/g,function(a){return"<\!--{cke_tempcomment}"+(c.push(a)-1)+"--\>"}),j=0;j<d.length;j++)a=a.replace(d[j],function(a){a=a.replace(l,function(a,b,d){return c[d]});return/cke_temp(comment)?/.test(a)?a:"<\!--{cke_temp}"+(c.push(a)-1)+"--\>"});a=a.replace(l,function(a,b,d){return"<\!--"+A+(b?"{C}":"")+encodeURIComponent(c[d]).replace(/--/g,"%2D%2D")+"--\>"});return a.replace(/(['"]).*?\1/g,function(a){return a.replace(/<\!--\{cke_protected\}([\s\S]+?)--\>/g,
function(a,b){o[o.id]=decodeURIComponent(b);return"{cke_protected_"+o.id++ +"}"})})}CKEDITOR.htmlDataProcessor=function(a){var c,d;this.editor=a;this.dataFilter=c=new CKEDITOR.htmlParser.filter;this.htmlFilter=d=new CKEDITOR.htmlParser.filter;this.writer=new CKEDITOR.htmlParser.basicWriter;c.addRules(u);c.addRules(b(a,"data"));d.addRules(r);d.addRules(b(a,"html"))};CKEDITOR.htmlDataProcessor.prototype={toHtml:function(a,b,d){var a=i(a,this.editor),a=o(a),a=l(a),a=a.replace(G,"$1cke:$2"),a=a.replace(Q,
"<cke:$1$2></cke:$1>"),a=CKEDITOR.env.opera?a:a.replace(/(<pre\b[^>]*>)(\r\n|\n)/g,"$1$2$2"),e=this.editor.editable(),f;!b&&b!==null&&(b=e.getName());e=b||e.getName();if(CKEDITOR.env.ie&&CKEDITOR.env.version<9&&e=="pre"){e="div";a="<pre>"+a+"</pre>";f=1}e=this.editor.document.createElement(e);e.setHtml("a"+a);a=e.getHtml().substr(1);a=a.replace(RegExp(" data-cke-"+CKEDITOR.rnd+"-","ig")," ");f&&(a=a.replace(/^<pre>|<\/pre>$/gi,""));a=a.replace(C,"$1$2");a=j(a);a=y(a);a=CKEDITOR.htmlParser.fragment.fromHtml(a,
b,d===false?false:c(this.editor.config));b=new CKEDITOR.htmlParser.basicWriter;a.writeChildrenHtml(b,this.dataFilter,1);a=b.getHtml(true);return a=q(a)},toDataFormat:function(a){var b=this.editor.editable(),d=this.writer,a=CKEDITOR.htmlParser.fragment.fromHtml(a,b.getName(),c(this.editor.config));d.reset();a.writeChildrenHtml(d,this.htmlFilter,1);d=d.getHtml(true);d=y(d);return d=z(d,this.editor)}};var s=/(?:&nbsp;|\xa0)$/,A="{cke_protected}",B=CKEDITOR.dtd,p=["caption","colgroup","col","thead","tfoot",
"tbody"],E=CKEDITOR.tools.extend({},B.$blockLimit,B.$block),u={elements:{},attributeNames:[[/^on/,"data-cke-pa-on"]]},r={elementNames:[[/^cke:/,""],[/^\?xml:namespace$/,""]],attributeNames:[[/^data-cke-(saved|pa)-/,""],[/^data-cke-.*/,""],["hidefocus",""]],elements:{$:function(a){var b=a.attributes;if(b){if(b["data-cke-temp"])return false;for(var c=["name","href","src"],d,o=0;o<c.length;o++){d="data-cke-saved-"+c[o];d in b&&delete b[c[o]]}}return a},table:function(a){a.children.slice(0).sort(function(a,
b){var c,d;if(a.type==CKEDITOR.NODE_ELEMENT&&b.type==a.type){c=CKEDITOR.tools.indexOf(p,a.name);d=CKEDITOR.tools.indexOf(p,b.name)}if(!(c>-1&&d>-1&&c!=d)){c=h(a);d=h(b)}return c>d?1:-1})},embed:function(a){var b=a.parent;if(b&&b.name=="object"){var c=b.attributes.width,b=b.attributes.height;c&&(a.attributes.width=c);b&&(a.attributes.height=b)}},param:function(a){a.children=[];a.isEmpty=true;return a},a:function(a){if(!a.children.length&&!a.attributes.name&&!a.attributes["data-cke-saved-name"])return false},
span:function(a){a.attributes["class"]=="Apple-style-span"&&delete a.name},html:function(a){delete a.attributes.contenteditable;delete a.attributes["class"]},body:function(a){delete a.attributes.spellcheck;delete a.attributes.contenteditable},style:function(a){var b=a.children[0];b&&b.value&&(b.value=CKEDITOR.tools.trim(b.value));if(!a.attributes.type)a.attributes.type="text/css"},title:function(a){var b=a.children[0];b&&(b.value=a.attributes["data-cke-title"]||"")}},attributes:{"class":function(a){return CKEDITOR.tools.ltrim(a.replace(/(?:^|\s+)cke_[^\s]*/g,
""))||false}}};if(CKEDITOR.env.ie)r.attributes.style=function(a){return a.replace(/(^|;)([^\:]+)/g,function(a){return a.toLowerCase()})};for(var D in{input:1,textarea:1}){u.elements[D]=m;r.elements[D]=n}var v=/<(a|area|img|input|source)\b([^>]*)>/gi,t=/\b(on\w+|href|src|name)\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|(?:[^ "'>]+))/gi,w=/(?:<style(?=[ >])[^>]*>[\s\S]*<\/style>)|(?:<(:?link|meta|base)[^>]*>)/gi,I=/<cke:encoded>([^<]*)<\/cke:encoded>/gi,G=/(<\/?)((?:object|embed|param|html|body|head|title)[^>]*>)/gi,
C=/(<\/?)cke:((?:html|body|head|title)[^>]*>)/gi,Q=/<cke:(param|embed)([^>]*?)\/?>(?!\s*<\/cke:\1)/gi})();
CKEDITOR.htmlParser.element=function(b,c){this.name=b;this.attributes=c||{};this.children=[];var a=b||"",f=a.match(/^cke:(.*)/);f&&(a=f[1]);a=!(!CKEDITOR.dtd.$nonBodyContent[a]&&!CKEDITOR.dtd.$block[a]&&!CKEDITOR.dtd.$listItem[a]&&!CKEDITOR.dtd.$tableContent[a]&&!(CKEDITOR.dtd.$nonEditable[a]||a=="br"));this.isEmpty=!!CKEDITOR.dtd.$empty[b];this.isUnknown=!CKEDITOR.dtd[b];this._={isBlockLike:a,hasInlineStarted:this.isEmpty||!a}};
CKEDITOR.htmlParser.cssStyle=function(b){var c={};((b instanceof CKEDITOR.htmlParser.element?b.attributes.style:b)||"").replace(/&quot;/g,'"').replace(/\s*([^ :;]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(a,b,e){b=="font-family"&&(e=e.replace(/["']/g,""));c[b.toLowerCase()]=e});return{rules:c,populate:function(a){var b=this.toString();if(b)a instanceof CKEDITOR.dom.element?a.setAttribute("style",b):a instanceof CKEDITOR.htmlParser.element?a.attributes.style=b:a.style=b},toString:function(){var a=[],b;
for(b in c)c[b]&&a.push(b,":",c[b],";");return a.join("")}}};
(function(){var b=function(b,a){b=b[0];a=a[0];return b<a?-1:b>a?1:0};CKEDITOR.htmlParser.element.prototype={type:CKEDITOR.NODE_ELEMENT,add:CKEDITOR.htmlParser.fragment.prototype.add,clone:function(){return new CKEDITOR.htmlParser.element(this.name,this.attributes)},writeHtml:function(c,a){var f=this.attributes,e=this,d=e.name,g,k,h,m;e.filterChildren=function(){if(!m){var b=new CKEDITOR.htmlParser.basicWriter;CKEDITOR.htmlParser.fragment.prototype.writeChildrenHtml.call(e,b,a);e.children=(new CKEDITOR.htmlParser.fragment.fromHtml(b.getHtml(),
e.clone(),0)).children;m=1}};if(a){if(!this.parent)a.onRoot(this);for(;;){if(!(d=a.onElementName(d)))return;e.name=d;if(!(e=a.onElement(e)))return;e.parent=this.parent;if(e.name==d)break;if(e.type!=CKEDITOR.NODE_ELEMENT){e.writeHtml(c,a);return}d=e.name;if(!d){for(var d=0,n=this.children.length;d<n;d++)this.children[d].parent=e.parent;this.writeChildrenHtml.call(e,c,m?null:a);return}}f=e.attributes}c.openTag(d,f);for(var n=[],o=0;o<2;o++)for(g in f){k=g;h=f[g];if(o==1)n.push([g,h]);else if(a){for(;;)if(k=
a.onAttributeName(g))if(k!=g){delete f[g];g=k}else break;else{delete f[g];break}k&&((h=a.onAttribute(e,k,h))===false?delete f[k]:f[k]=h)}}c.sortAttributes&&n.sort(b);f=n.length;for(o=0;o<f;o++){g=n[o];c.attribute(g[0],g[1])}c.openTagClose(d,e.isEmpty);if(!e.isEmpty){this.writeChildrenHtml.call(e,c,m?null:a);c.closeTag(d)}},writeChildrenHtml:function(b,a){CKEDITOR.htmlParser.fragment.prototype.writeChildrenHtml.apply(this,arguments)}}})();
(function(){var b={};CKEDITOR.template=function(c){if(b[c])this.output=b[c];else{var a=c.replace(/'/g,"\\'").replace(/{([^}]+)}/g,function(a,b){return"',data['"+b+"']==undefined?'{"+b+"}':data['"+b+"'],'"});this.output=b[c]=Function("data","buffer","return buffer?buffer.push('"+a+"'):['"+a+"'].join('');")}}})();delete CKEDITOR.loadFullCore;CKEDITOR.instances={};CKEDITOR.document=new CKEDITOR.dom.document(document);
CKEDITOR.add=function(b){CKEDITOR.instances[b.name]=b;b.on("focus",function(){if(CKEDITOR.currentInstance!=b){CKEDITOR.currentInstance=b;CKEDITOR.fire("currentInstance")}});b.on("blur",function(){if(CKEDITOR.currentInstance==b){CKEDITOR.currentInstance=null;CKEDITOR.fire("currentInstance")}});CKEDITOR.fire("instance",null,b)};CKEDITOR.remove=function(b){delete CKEDITOR.instances[b.name]};
(function(){var b={};CKEDITOR.addTemplate=function(c,a){var f=b[c];if(f)return f;f={name:c,source:a};CKEDITOR.fire("template",f);return b[c]=new CKEDITOR.template(f.source)};CKEDITOR.getTemplate=function(c){return b[c]}})();(function(){var b=[];CKEDITOR.addCss=function(c){b.push(c)};CKEDITOR.getCss=function(){return b.join("\n")}})();CKEDITOR.on("instanceDestroyed",function(){CKEDITOR.tools.isEmpty(this.instances)&&CKEDITOR.fire("reset")});CKEDITOR.TRISTATE_ON=1;CKEDITOR.TRISTATE_OFF=2;
CKEDITOR.TRISTATE_DISABLED=0;
(function(){CKEDITOR.inline=function(b,c){if(!CKEDITOR.env.isCompatible)return null;b=CKEDITOR.dom.element.get(b);if(b.getEditor())throw'The editor instance "'+b.getEditor().name+'" is already attached to the provided element.';var a=new CKEDITOR.editor(c,b,CKEDITOR.ELEMENT_MODE_INLINE);a.setData(b.getHtml(),null,true);a.on("loaded",function(){a.fire("uiReady");a.editable(b);a.container=b;a.setData(a.getData(1));a.fire("contentDom");a.mode="wysiwyg";a.fire("mode");a.fireOnce("instanceReady");CKEDITOR.fire("instanceReady",
null,a);a.resetDirty()},null,null,1E4);a.on("destroy",function(){a.element.clearCustomData();delete a.element});return a};CKEDITOR.inlineAll=function(){var b,c,a;for(a in CKEDITOR.dtd.$editable)for(var f=CKEDITOR.document.getElementsByTag(a),e=0,d=f.count();e<d;e++){b=f.getItem(e);if(b.getAttribute("contenteditable")=="true"){c={element:b,config:{}};CKEDITOR.fire("inline",c)!==false&&CKEDITOR.inline(b,c.config)}}};CKEDITOR.domReady(function(){!CKEDITOR.disableAutoInline&&CKEDITOR.inlineAll()})})();
CKEDITOR.replaceClass="ckeditor";
(function(){function b(b,e,k,h){if(!CKEDITOR.env.isCompatible)return null;b=CKEDITOR.dom.element.get(b);if(b.getEditor())throw'The editor instance "'+b.getEditor().name+'" is already attached to the provided element.';var m=new CKEDITOR.editor(e,b,h);h==CKEDITOR.ELEMENT_MODE_REPLACE&&b.setStyle("visibility","hidden");k&&m.setData(k,null,true);m.on("loaded",function(){a(m);h==CKEDITOR.ELEMENT_MODE_REPLACE&&m.config.autoUpdateElement&&f(m);m.setMode(m.config.startupMode,function(){m.fireOnce("instanceReady");
CKEDITOR.fire("instanceReady",null,m);m.resetDirty()})});m.on("destroy",c);return m}function c(){var a=this.container,b=this.element;if(a){a.clearCustomData();a.remove()}if(b){b.clearCustomData();this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&b.show();delete this.element}}function a(a){var b=a.name,c=a.element,f=a.elementMode,m=a.fire("uiSpace",{space:"top",html:""}).html,n=a.fireOnce("uiSpace",{space:"bottom",html:""}).html;e||(e=CKEDITOR.addTemplate("maincontainer",'<{outerEl} id="cke_{name}" class="{id} cke cke_reset cke_chrome cke_editor_{name} cke_{langDir} '+
CKEDITOR.env.cssClass+'"  dir="{langDir}" lang="{langCode}" role="application" aria-labelledby="cke_{name}_arialbl"><span id="cke_{name}_arialbl" class="cke_voice_label">{voiceLabel}</span><{outerEl} class="cke_inner cke_reset" role="presentation">{topHtml}<{outerEl} id="{contentId}" class="cke_contents cke_reset" role="presentation"></{outerEl}>{bottomHtml}</{outerEl}></{outerEl}>'));b=CKEDITOR.dom.element.createFromHtml(e.output({id:a.id,name:b,langDir:a.lang.dir,langCode:a.langCode,voiceLabel:a.lang.editor,
topHtml:m?'<span id="'+a.ui.spaceId("top")+'" class="cke_top cke_reset_all" role="presentation" style="height:auto">'+m+"</span>":"",contentId:a.ui.spaceId("contents"),bottomHtml:n?'<span id="'+a.ui.spaceId("bottom")+'" class="cke_bottom cke_reset_all" role="presentation">'+n+"</span>":"",outerEl:CKEDITOR.env.ie?"span":"div"}));if(f==CKEDITOR.ELEMENT_MODE_REPLACE){c.hide();b.insertAfter(c)}else c.append(b);a.container=b;m&&a.ui.space("top").unselectable();n&&a.ui.space("bottom").unselectable();c=
a.config.width;f=a.config.height;c&&b.setStyle("width",CKEDITOR.tools.cssLength(c));f&&a.ui.space("contents").setStyle("height",CKEDITOR.tools.cssLength(f));b.disableContextMenu();CKEDITOR.env.webkit&&b.on("focus",function(){a.focus()});a.fireOnce("uiReady")}function f(a){var b=a.element;if(a.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&b.is("textarea")){var c=b.$.form&&new CKEDITOR.dom.element(b.$.form);if(c){var e=function(){a.updateElement()};c.on("submit",e);if(!c.$.submit.nodeName&&!c.$.submit.length)c.$.submit=
CKEDITOR.tools.override(c.$.submit,function(b){return function(){a.updateElement();b.apply?b.apply(this,arguments):b()}});a.on("destroy",function(){c.removeListener("submit",e)})}}}CKEDITOR.replace=function(a,c){return b(a,c,null,CKEDITOR.ELEMENT_MODE_REPLACE)};CKEDITOR.appendTo=function(a,c,e){return b(a,c,e,CKEDITOR.ELEMENT_MODE_APPENDTO)};CKEDITOR.replaceAll=function(){for(var a=document.getElementsByTagName("textarea"),b=0;b<a.length;b++){var c=null,e=a[b];if(e.name||e.id){if(typeof arguments[0]==
"string"){if(!RegExp("(?:^|\\s)"+arguments[0]+"(?:$|\\s)").test(e.className))continue}else if(typeof arguments[0]=="function"){c={};if(arguments[0](e,c)===false)continue}this.replace(e,c)}}};CKEDITOR.editor.prototype.addMode=function(a,b){(this._.modes||(this._.modes={}))[a]=b};CKEDITOR.editor.prototype.setMode=function(a,b){var c=this,e=this._.modes;if(!(a==c.mode||!e||!e[a])){c.fire("beforeSetMode",a);if(c.mode){var f=c.checkDirty();c._.previousMode=c.mode;c.fire("beforeModeUnload");c.editable(0);
c.ui.space("contents").setHtml("");c.mode=""}this._.modes[a](function(){c.mode=a;if(f!==void 0){c.mayBeDirty=true;!f&&c.resetDirty()}setTimeout(function(){c.fire("mode");b&&b.call(c)},0)})}};CKEDITOR.editor.prototype.resize=function(a,b,c,e){var f=this.container,n=this.ui.space("contents"),o=CKEDITOR.env.webkit&&this.document&&this.document.getWindow().$.frameElement,e=e?f.getChild(1):f;e.setSize("width",a,true);o&&(o.style.width="1%");n.setStyle("height",Math.max(b-(c?0:(e.$.offsetHeight||0)-(n.$.clientHeight||
0)),0)+"px");o&&(o.style.width="100%");this.fire("resize")};CKEDITOR.editor.prototype.getResizable=function(a){return a?this.ui.space("contents"):this.container};var e;CKEDITOR.domReady(function(){CKEDITOR.replaceClass&&CKEDITOR.replaceAll(CKEDITOR.replaceClass)})})();CKEDITOR.config.startupMode="wysiwyg";
(function(){function b(b){var c=b.editor,d=c.editable(),e=b.data.path,f=e.blockLimit,g=b.data.selection.getRanges()[0],i=c.config.enterMode;if(CKEDITOR.env.gecko){var h=e.block||e.blockLimit||e.root,m=h&&h.getLast(a);h&&(h.isBlockBoundary()&&(!m||!(m.type==CKEDITOR.NODE_ELEMENT&&m.isBlockBoundary()))&&!h.is("pre")&&!h.getBogus())&&h.appendBogus()}if(c.config.autoParagraph!==false&&i!=CKEDITOR.ENTER_BR&&g.collapsed&&d.equals(f)&&!e.block){d=g.clone();d.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS);e=new CKEDITOR.dom.walker(d);
e.guard=function(b){return!a(b)||b.type==CKEDITOR.NODE_COMMENT||b.isReadOnly()};if(!e.checkForward()||d.checkStartOfBlock()&&d.checkEndOfBlock()){c=g.fixBlock(true,c.config.enterMode==CKEDITOR.ENTER_DIV?"div":"p");if(CKEDITOR.env.ie)(c=c.getFirst(a))&&(c.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(c.getText()).match(/^(?:&nbsp;|\xa0)$/))&&c.remove();g.select();b.cancel()}}}function c(a){var b=a.data.getTarget();if(b.is("input")){b=b.getAttribute("type");(b=="submit"||b=="reset")&&a.data.preventDefault()}}
function a(a){return h(a)&&m(a)}function f(a,b){return function(c){var d=CKEDITOR.dom.element.get(c.data.$.toElement||c.data.$.fromElement||c.data.$.relatedTarget);(!d||!b.equals(d)&&!b.contains(d))&&a.call(this,c)}}function e(b){var c,d=b.getRanges()[0],b=b.root,e=d.startPath(),f={table:1,ul:1,ol:1,dl:1},g=CKEDITOR.dom.walker.bogus();if(e.contains(f)){var i=d.clone();i.collapse(1);i.setStartAt(b,CKEDITOR.POSITION_AFTER_START);i=new CKEDITOR.dom.walker(i);e=function(b,d){return function(b,o){o&&(b.type==
CKEDITOR.NODE_ELEMENT&&b.is(f))&&(c=b);if(a(b)&&!o&&(!d||!g(b)))return false}};i.guard=e(i);i.checkBackward();if(c){i=d.clone();i.collapse();i.setEndAt(b,CKEDITOR.POSITION_BEFORE_END);i=new CKEDITOR.dom.walker(i);i.guard=e(i,1);c=0;i.checkForward();return c}}return null}function d(a){a.editor.focus();a.editor.fire("saveSnapshot")}function g(a,b){var c=a.editor;!b&&c.getSelection().scrollIntoView();setTimeout(function(){c.fire("saveSnapshot")},0)}CKEDITOR.editable=CKEDITOR.tools.createClass({base:CKEDITOR.dom.element,
$:function(a,b){this.base(b.$||b);this.editor=a;this.hasFocus=false;this.setup()},proto:{focus:function(){this.$[CKEDITOR.env.ie&&this.getDocument().equals(CKEDITOR.document)?"setActive":"focus"]();CKEDITOR.env.safari&&!this.isInline()&&(CKEDITOR.document.getActive().equals(this.getWindow().getFrame())||this.getWindow().focus())},on:function(a,b){var c=Array.prototype.slice.call(arguments,0);if(CKEDITOR.env.ie&&/^focus|blur$/.exec(a)){a=a=="focus"?"focusin":"focusout";b=f(b,this);c[0]=a;c[1]=b}return CKEDITOR.dom.element.prototype.on.apply(this,
c)},attachListener:function(a,b,c,d,e,f){!this._.listeners&&(this._.listeners=[]);var g=Array.prototype.slice.call(arguments,1);this._.listeners.push(a.on.apply(a,g))},clearListeners:function(){var a=this._.listeners;try{for(;a.length;)a.pop().removeListener()}catch(b){}},restoreAttrs:function(){var a=this._.attrChanges,b,c;for(c in a)if(a.hasOwnProperty(c)){b=a[c];b!==null?this.setAttribute(c,b):this.removeAttribute(c)}},attachClass:function(a){var b=this.getCustomData("classes");if(!this.hasClass(a)){!b&&
(b=[]);b.push(a);this.setCustomData("classes",b);this.addClass(a)}},changeAttr:function(a,b){var c=this.getAttribute(a);if(b!==c){!this._.attrChanges&&(this._.attrChanges={});a in this._.attrChanges||(this._.attrChanges[a]=c);this.setAttribute(a,b)}},insertHtml:function(a,b){d(this);n(this,b=="text"?"text":"html",a)},insertText:function(a){d(this);var b=this.editor,c=b.getSelection().getStartElement().hasAscendant("pre",true)?CKEDITOR.ENTER_BR:b.config.enterMode,b=c==CKEDITOR.ENTER_BR,e=CKEDITOR.tools,
a=e.htmlEncode(a.replace(/\r\n/g,"\n")),a=a.replace(/\t/g,"&nbsp;&nbsp; &nbsp;"),c=c==CKEDITOR.ENTER_P?"p":"div";if(!b){var f=/\n{2}/g;if(f.test(a))var g="<"+c+">",i="</"+c+">",a=g+a.replace(f,function(){return i+g})+i}a=a.replace(/\n/g,"<br>");b||(a=a.replace(RegExp("<br>(?=</"+c+">)"),function(a){return e.repeat(a,2)}));a=a.replace(/^ | $/g,"&nbsp;");a=a.replace(/(>|\s) /g,function(a,b){return b+"&nbsp;"}).replace(/ (?=<)/g,"&nbsp;");n(this,"text",a)},insertElement:function(b){d(this);for(var c=
this.editor,e=c.config.enterMode,f=c.getSelection(),h=f.getRanges(),m=b.getName(),i=CKEDITOR.dtd.$block[m],n,k,B,p=h.length-1;p>=0;p--){n=h[p];if(!n.checkReadOnly()){n.deleteContents(1);k=!p&&b||b.clone(1);var E,u;if(i)for(;(E=n.getCommonAncestor(0,1))&&(u=CKEDITOR.dtd[E.getName()])&&(!u||!u[m]);)if(E.getName()in CKEDITOR.dtd.span)n.splitElement(E);else if(n.checkStartOfBlock()&&n.checkEndOfBlock()){n.setStartBefore(E);n.collapse(true);E.remove()}else n.splitBlock(e==CKEDITOR.ENTER_DIV?"div":"p",
c.editable());n.insertNode(k);B||(B=k)}}if(B){n.moveToPosition(B,CKEDITOR.POSITION_AFTER_END);if(i)if((b=B.getNext(a))&&b.type==CKEDITOR.NODE_ELEMENT&&b.is(CKEDITOR.dtd.$block))b.getDtd()["#"]?n.moveToElementEditStart(b):n.moveToElementEditEnd(B);else if(!b&&e!=CKEDITOR.ENTER_BR){b=n.fixBlock(true,e==CKEDITOR.ENTER_DIV?"div":"p");n.moveToElementEditStart(b)}}f.selectRanges([n]);g(this,CKEDITOR.env.opera)},setData:function(a,b){!b&&this.editor.dataProcessor&&(a=this.editor.dataProcessor.toHtml(a));
this.setHtml(a);this.editor.fire("dataReady")},getData:function(a){var b=this.getHtml();!a&&this.editor.dataProcessor&&(b=this.editor.dataProcessor.toDataFormat(b));return b},setReadOnly:function(a){this.setAttribute("contenteditable",!a)},detach:function(){this.removeClass("cke_editable");var a=this.editor;this._.detach();delete a.document;delete a.window},isInline:function(){return this.getDocument().equals(CKEDITOR.document)},setup:function(){var a=this.editor;this.attachListener(a,"beforeGetData",
function(){var b=this.getData();this.is("textarea")||a.config.ignoreEmptyParagraph!==false&&(b=b.replace(k,function(a,b){return b}));a.setData(b,null,1)},this);this.attachListener(a,"getSnapshot",function(a){a.data=this.getData(1)},this);this.attachListener(a,"afterSetData",function(){this.setData(a.getData(1))},this);this.attachListener(a,"loadSnapshot",function(a){this.setData(a.data,1)},this);this.attachListener(a,"beforeFocus",function(){var b=a.getSelection();(b=b&&b.getNative())&&b.type=="Control"||
this.focus()},this);this.attachListener(a,"insertHtml",function(a){this.insertHtml(a.data.dataValue,a.data.mode)},this);this.attachListener(a,"insertElement",function(a){this.insertElement(a.data)},this);this.attachListener(a,"insertText",function(a){this.insertText(a.data)},this);this.setReadOnly(a.readOnly);this.attachClass("cke_editable");this.attachClass(a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?"cke_editable_inline":a.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE||a.elementMode==CKEDITOR.ELEMENT_MODE_APPENDTO?
"cke_editable_themed":"");this.attachClass("cke_contents_"+a.config.contentsLangDirection);a.keystrokeHandler.blockedKeystrokes[8]=a.readOnly;a.keystrokeHandler.attach(this);this.on("blur",function(a){CKEDITOR.env.opera&&CKEDITOR.document.getActive().equals(this.isInline()?this:this.getWindow().getFrame())?a.cancel():this.hasFocus=false},null,null,-1);this.on("focus",function(){this.hasFocus=true},null,null,-1);a.focusManager.add(this);if(this.equals(CKEDITOR.document.getActive())){this.hasFocus=
true;a.once("contentDom",function(){a.focusManager.focus()})}this.isInline()&&this.changeAttr("tabindex",a.tabIndex);if(!this.is("textarea")){a.document=this.getDocument();a.window=this.getWindow();var b=a.document;this.changeAttr("spellcheck",!a.config.disableNativeSpellChecker);var d=a.config.contentsLangDirection;this.getDirection(1)!=d&&this.changeAttr("dir",d);var f=CKEDITOR.getCss();if(f){d=b.getHead();if(!d.getCustomData("stylesheet")){f=b.appendStyleText(f);f=new CKEDITOR.dom.element(f.ownerNode||
f.owningElement);d.setCustomData("stylesheet",f);f.data("cke-temp",1)}}d=b.getCustomData("stylesheet_ref")||0;b.setCustomData("stylesheet_ref",d+1);this.setCustomData("cke_includeReadonly",!a.config.disableReadonlyStyling);this.attachListener(this,"click",function(a){var a=a.data,b=a.getTarget();b.is("a")&&(a.$.button!=2&&b.isReadOnly())&&a.preventDefault()});this.attachListener(a,"key",function(b){if(a.readOnly)return true;var c=b.data.keyCode,d;if(c in{8:1,46:1}){var l=a.getSelection(),b=l.getRanges()[0],
f=b.startPath(),j,g,m,c=c==8;if(l=e(l)){a.fire("saveSnapshot");b.moveToPosition(l,CKEDITOR.POSITION_BEFORE_START);l.remove();b.select();a.fire("saveSnapshot");d=1}else if(b.collapsed)if((j=f.block)&&b[c?"checkStartOfBlock":"checkEndOfBlock"]()&&(m=j[c?"getPrevious":"getNext"](h))&&m.is("table")){a.fire("saveSnapshot");b[c?"checkEndOfBlock":"checkStartOfBlock"]()&&j.remove();b["moveToElementEdit"+(c?"End":"Start")](m);b.select();a.fire("saveSnapshot");d=1}else if(f.blockLimit&&f.blockLimit.is("td")&&
(g=f.blockLimit.getAscendant("table"))&&b.checkBoundaryOfElement(g,c?CKEDITOR.START:CKEDITOR.END)&&(m=g[c?"getPrevious":"getNext"](h))){a.fire("saveSnapshot");b["moveToElementEdit"+(c?"End":"Start")](m);b.checkStartOfBlock()&&b.checkEndOfBlock()?m.remove():b.select();a.fire("saveSnapshot");d=1}else if((g=f.contains(["td","th","caption"]))&&b.checkBoundaryOfElement(g,c?CKEDITOR.START:CKEDITOR.END))if((m=g[c?"getPreviousSourceNode":"getNextSourceNode"](1,CKEDITOR.NODE_ELEMENT))&&!m.isReadOnly()&&b.root.contains(m)){b[c?
"moveToElementEditEnd":"moveToElementEditStart"](m);b.select();d=1}}return!d});CKEDITOR.env.ie&&this.attachListener(this,"click",c);!CKEDITOR.env.ie&&!CKEDITOR.env.opera&&this.attachListener(this,"mousedown",function(b){var c=b.data.getTarget();if(c.is("img","hr","input","textarea","select")){a.getSelection().selectElement(c);c.is("input","textarea","select")&&b.data.preventDefault()}});CKEDITOR.env.gecko&&this.attachListener(this,"mouseup",function(b){if(b.data.$.button==2){b=b.data.getTarget();
if(!b.getOuterHtml().replace(k,"")){var c=a.createRange();c.moveToElementEditStart(b);c.select(true)}}});if(CKEDITOR.env.webkit){this.attachListener(this,"click",function(a){a.data.getTarget().is("input","select")&&a.data.preventDefault()});this.attachListener(this,"mouseup",function(a){a.data.getTarget().is("input","textarea")&&a.data.preventDefault()})}}}},_:{detach:function(){this.editor.setData(this.editor.getData(),0,1);this.clearListeners();this.restoreAttrs();var a;if(a=this.removeCustomData("classes"))for(;a.length;)this.removeClass(a.pop());
a=this.getDocument();var b=a.getHead();if(b.getCustomData("stylesheet")){var c=a.getCustomData("stylesheet_ref");if(--c)a.setCustomData("stylesheet_ref",c);else{a.removeCustomData("stylesheet_ref");b.removeCustomData("stylesheet").remove()}}delete this.editor}}});CKEDITOR.editor.prototype.editable=function(a){var b=this._.editable;if(b&&a)return 0;if(arguments.length)b=this._.editable=a?a instanceof CKEDITOR.editable?a:new CKEDITOR.editable(this,a):(b&&b.detach(),null);return b};var k=/(^|<body\b[^>]*>)\s*<(p|div|address|h\d|center|pre)[^>]*>\s*(?:<br[^>]*>|&nbsp;|\u00A0|&#160;)?\s*(:?<\/\2>)?\s*(?=$|<\/body>)/gi,
h=CKEDITOR.dom.walker.whitespaces(true),m=CKEDITOR.dom.walker.bookmark(false,true);CKEDITOR.on("instanceLoaded",function(a){var c=a.editor;c.on("insertElement",function(a){a=a.data;if(a.type==CKEDITOR.NODE_ELEMENT&&(a.is("input")||a.is("textarea"))){a.getAttribute("contentEditable")!="false"&&a.data("cke-editable",a.hasAttribute("contenteditable")?"true":"1");a.setAttribute("contentEditable",false)}});c.on("selectionChange",function(a){if(!c.readOnly){var d=c.getSelection();if(d&&!d.isLocked){d=c.checkDirty();
c.fire("lockSnapshot");b(a);c.fire("unlockSnapshot");!d&&c.resetDirty()}}})});CKEDITOR.on("instanceCreated",function(a){var b=a.editor;b.on("mode",function(){var a=b.editable();if(a&&a.isInline()){var c=this.lang.editor+", "+this.name;a.changeAttr("role","textbox");a.changeAttr("aria-label",c);a.changeAttr("title",c);if(c=this.ui.space(this.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?"top":"contents")){var d=CKEDITOR.tools.getNextId(),e=CKEDITOR.dom.element.createFromHtml('<span id="'+d+'" class="cke_voice_label">'+
this.lang.common.editorHelp+"</span>");c.append(e);a.changeAttr("aria-describedby",d)}}})});CKEDITOR.addCss(".cke_editable{cursor:text}.cke_editable img,.cke_editable input,.cke_editable textarea{cursor:default}");var n=function(){function b(a){return a.type==CKEDITOR.NODE_ELEMENT}function c(a,d){var e,f,j,g,t=[],h=d.range.startContainer;e=d.range.startPath();for(var h=i[h.getName()],m=0,n=a.getChildren(),q=n.count(),k=-1,z=-1,y=0,s=e.contains(i.$list);m<q;++m){e=n.getItem(m);if(b(e)){j=e.getName();
if(s&&j in CKEDITOR.dtd.$list)t=t.concat(c(e,d));else{g=!!h[j];if(j=="br"&&e.data("cke-eol")&&(!m||m==q-1)){y=(f=m?t[m-1].node:n.getItem(m+1))&&(!b(f)||!f.is("br"));f=f&&b(f)&&i.$block[f.getName()]}k==-1&&!g&&(k=m);g||(z=m);t.push({isElement:1,isLineBreak:y,isBlock:e.isBlockBoundary(),hasBlockSibling:f,node:e,name:j,allowed:g});f=y=0}}else t.push({isElement:0,node:e,allowed:1})}if(k>-1)t[k].firstNotAllowed=1;if(z>-1)t[z].lastNotAllowed=1;return t}function d(a,c){var e=[],f=a.getChildren(),l=f.count(),
g,t=0,h=i[c],m=!a.is(i.$inline)||a.is("br");for(m&&e.push(" ");t<l;t++){g=f.getItem(t);b(g)&&!g.is(h)?e=e.concat(d(g,c)):e.push(g)}m&&e.push(" ");return e}function e(a){return a&&b(a)&&(a.is(i.$removeEmpty)||a.is("a")&&!a.isBlockBoundary())}function f(a,c,d,e){var l=a.clone(),j,g;l.setEndAt(c,CKEDITOR.POSITION_BEFORE_END);if((j=(new CKEDITOR.dom.walker(l)).next())&&b(j)&&m[j.getName()]&&(g=j.getPrevious())&&b(g)&&!g.getParent().equals(a.startContainer)&&d.contains(g)&&e.contains(j)&&j.isIdentical(g)){j.moveChildren(g);
j.remove();f(a,c,d,e)}}function h(a,c){function d(a,c){if(c.isBlock&&c.isElement&&!c.node.is("br")&&b(a)&&a.is("br")){a.remove();return 1}}var e=c.endContainer.getChild(c.endOffset),f=c.endContainer.getChild(c.endOffset-1);e&&d(e,a[a.length-1]);if(f&&d(f,a[0])){c.setEnd(c.endContainer,c.endOffset-1);c.collapse()}}var i=CKEDITOR.dtd,m={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,ul:1,ol:1,li:1,pre:1,dl:1,blockquote:1},n={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},k=CKEDITOR.tools.extend({},i.$inline);delete k.br;
return function(m,s,u){var r=m.editor;m.getDocument();var D=r.getSelection().getRanges()[0];if(!D.checkReadOnly()){var v=(new CKEDITOR.dom.elementPath(D.startContainer,D.root)).blockLimit||D.root,s={type:s,editable:m,editor:r,range:D,blockLimit:v,mergeCandidates:[],zombies:[]},r=s.range,v=s.mergeCandidates,t,w,I,G,C;if(s.type=="text"&&r.shrink(CKEDITOR.SHRINK_ELEMENT,true,false)){w=CKEDITOR.dom.element.createFromHtml("<span>&nbsp;</span>",r.document);r.insertNode(w);r.setStartAfter(w)}I=new CKEDITOR.dom.elementPath(r.startContainer);
s.endPath=G=new CKEDITOR.dom.elementPath(r.endContainer);if(!r.collapsed){t=G.block||G.blockLimit;var Q=r.getCommonAncestor();t&&(!t.equals(Q)&&!t.contains(Q)&&r.checkEndOfBlock())&&s.zombies.push(t);r.deleteContents()}for(;(C=b(r.startContainer)&&r.startContainer.getChild(r.startOffset-1))&&b(C)&&C.isBlockBoundary()&&I.contains(C);)r.moveToPosition(C,CKEDITOR.POSITION_BEFORE_END);f(r,s.blockLimit,I,G);if(w){r.setEndBefore(w);r.collapse();w.remove()}w=r.startPath();if(t=w.contains(e,false,1)){r.splitElement(t);
s.inlineStylesRoot=t;s.inlineStylesPeak=w.lastElement}w=r.createBookmark();(t=w.startNode.getPrevious(a))&&b(t)&&e(t)&&v.push(t);(t=w.startNode.getNext(a))&&b(t)&&e(t)&&v.push(t);for(t=w.startNode;(t=t.getParent())&&e(t);)v.push(t);r.moveToBookmark(w);if(u){C=u;u=s.range;if(s.type=="text"&&s.inlineStylesRoot){w=C;C=s.inlineStylesPeak;r=C.getDocument().createText("{cke-peak}");for(v=s.inlineStylesRoot.getParent();!C.equals(v);){r=r.appendTo(C.clone());C=C.getParent()}C=r.getOuterHtml().replace("{cke-peak}",
w)}w=s.blockLimit.getName();if(/^\s+|\s+$/.test(C)&&"span"in CKEDITOR.dtd[w]){var K='<span data-cke-marker="1">&nbsp;</span>';C=K+C+K}C=s.editor.dataProcessor.toHtml(C,null,false);w=u.document.createElement("body");w.setHtml(C);if(K){w.getFirst().remove();w.getLast().remove()}if((K=u.startPath().block)&&!(K.getChildCount()==1&&K.getBogus()))a:{var F;if(w.getChildCount()==1&&b(F=w.getFirst())&&F.is(n)){K=F.getElementsByTag("*");u=0;for(r=K.count();u<r;u++){C=K.getItem(u);if(!C.is(k))break a}F.moveChildren(F.getParent(1));
F.remove()}}s.dataWrapper=w;F=s.range;var K=F.document,x,u=s.blockLimit;w=0;var J;C=[];var H,N,v=r=0,L,O;I=F.startContainer;t=s.endPath.elements[0];var P;G=t.getPosition(I);Q=!!t.getCommonAncestor(I)&&G!=CKEDITOR.POSITION_IDENTICAL&&!(G&CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED);I=c(s.dataWrapper,s);for(h(I,F);w<I.length;w++){G=I[w];if(x=G.isLineBreak){x=F;L=u;var M=void 0,R=void 0;if(G.hasBlockSibling)x=1;else{M=x.startContainer.getAscendant(i.$block,1);if(!M||!M.is({div:1,p:1}))x=
0;else{R=M.getPosition(L);if(R==CKEDITOR.POSITION_IDENTICAL||R==CKEDITOR.POSITION_CONTAINS)x=0;else{L=x.splitElement(M);x.moveToPosition(L,CKEDITOR.POSITION_AFTER_START);x=1}}}}if(x)v=w>0;else{x=F.startPath();if(!G.isBlock&&(N=s.editor.config.enterMode!=CKEDITOR.ENTER_BR&&s.editor.config.autoParagraph!==false?s.editor.config.enterMode==CKEDITOR.ENTER_DIV?"div":"p":false)&&!x.block&&x.blockLimit&&x.blockLimit.equals(F.root)){N=K.createElement(N);!CKEDITOR.env.ie&&N.appendBogus();F.insertNode(N);!CKEDITOR.env.ie&&
(J=N.getBogus())&&J.remove();F.moveToPosition(N,CKEDITOR.POSITION_BEFORE_END)}if((x=F.startPath().block)&&!x.equals(H)){if(J=x.getBogus()){J.remove();C.push(x)}H=x}G.firstNotAllowed&&(r=1);if(r&&G.isElement){x=F.startContainer;for(L=null;x&&!i[x.getName()][G.name];){if(x.equals(u)){x=null;break}L=x;x=x.getParent()}if(x){if(L){O=F.splitElement(L);s.zombies.push(O);s.zombies.push(L)}}else{L=u.getName();P=!w;x=w==I.length-1;L=d(G.node,L);for(var M=[],R=L.length,T=0,U=void 0,V=0,W=-1;T<R;T++){U=L[T];
if(U==" "){if(!V&&(!P||T)){M.push(new CKEDITOR.dom.text(" "));W=M.length}V=1}else{M.push(U);V=0}}x&&W==M.length&&M.pop();P=M}}if(P){for(;x=P.pop();)F.insertNode(x);P=0}else F.insertNode(G.node);if(G.lastNotAllowed&&w<I.length-1){(O=Q?t:O)&&F.setEndAt(O,CKEDITOR.POSITION_AFTER_START);r=0}F.collapse()}}s.dontMoveCaret=v;s.bogusNeededBlocks=C}J=s.range;var S;O=s.bogusNeededBlocks;for(P=J.createBookmark();H=s.zombies.pop();)if(H.getParent()){N=J.clone();N.moveToElementEditStart(H);N.removeEmptyBlocksAtEnd()}if(O)for(;H=
O.pop();)H.append(CKEDITOR.env.ie?J.document.createText(" "):J.document.createElement("br"));for(;H=s.mergeCandidates.pop();)H.mergeSiblings();J.moveToBookmark(P);if(!s.dontMoveCaret){for(H=b(J.startContainer)&&J.startContainer.getChild(J.startOffset-1);H&&b(H)&&!H.is(i.$empty);){if(H.isBlockBoundary())J.moveToPosition(H,CKEDITOR.POSITION_BEFORE_END);else{if(e(H)&&H.getHtml().match(/(\s|&nbsp;)$/g)){S=null;break}S=J.clone();S.moveToPosition(H,CKEDITOR.POSITION_BEFORE_END)}H=H.getLast(a)}S&&J.moveToRange(S)}D.select();
g(m)}}}()})();
(function(){function b(){var a=this.getSelection(1);if(a.getType()!=CKEDITOR.SELECTION_NONE){this.fire("selectionCheck",a);var b=this.elementPath();if(!b.compare(this._.selectionPreviousPath)){this._.selectionPreviousPath=b;this.fire("selectionChange",{selection:a,path:b})}}}function c(){k=true;if(!g){a.call(this);g=CKEDITOR.tools.setTimeout(a,200,this)}}function a(){g=null;if(k){CKEDITOR.tools.setTimeout(b,0,this);k=false}}function f(a){function b(c,d){return!c||c.type==CKEDITOR.NODE_TEXT?false:
a.clone()["moveToElementEdit"+(d?"End":"Start")](c)}if(!(a.root instanceof CKEDITOR.editable))return false;var c=a.startContainer,d=a.getPreviousNode(h,null,c),e=a.getNextNode(h,null,c);return b(d)||b(e,1)||!d&&!e&&!(c.type==CKEDITOR.NODE_ELEMENT&&c.isBlockBoundary()&&c.getBogus())?true:false}function e(a){return a.getCustomData("cke-fillingChar")}function d(a,b){var c=a&&a.removeCustomData("cke-fillingChar");if(c){if(b!==false){var d,e=a.getDocument().getSelection().getNative(),f=e&&e.type!="None"&&
e.getRangeAt(0);if(c.getLength()>1&&f&&f.intersectsNode(c.$)){d=[e.anchorOffset,e.focusOffset];f=e.focusNode==c.$&&e.focusOffset>0;e.anchorNode==c.$&&e.anchorOffset>0&&d[0]--;f&&d[1]--;var g;f=e;if(!f.isCollapsed){g=f.getRangeAt(0);g.setStart(f.anchorNode,f.anchorOffset);g.setEnd(f.focusNode,f.focusOffset);g=g.collapsed}g&&d.unshift(d.pop())}}c.setText(c.getText().replace(/\u200B/g,""));if(d){c=e.getRangeAt(0);c.setStart(c.startContainer,d[0]);c.setEnd(c.startContainer,d[1]);e.removeAllRanges();e.addRange(c)}}}
var g,k,h=CKEDITOR.dom.walker.invisible(1);CKEDITOR.on("instanceCreated",function(a){function e(){var a=f.getSelection();a&&a.removeAllRanges()}var f=a.editor;f.define("selectionChange",{errorProof:1});f.on("contentDom",function(){var a=f.document,e=CKEDITOR.document,l=f.editable(),g=a.getBody(),o=a.getDocumentElement(),h=l.isInline();if(CKEDITOR.env.ie||CKEDITOR.env.opera||h){var n;l.attachListener(l,"focus",function(){f.unlockSelection(n);n=0},null,null,-1);var k,E=function(){k=f.getSelection(1);
k.lock()};m?l.attachListener(l,"beforedeactivate",E,null,null,-1):l.attachListener(f,"selectionCheck",E,null,null,-1);l.attachListener(l,"blur",function(){f.lockSelection(k);n=1},null,null,-1);l.attachListener(l,"mousedown",function(){n=0})}if(CKEDITOR.env.ie&&!h){var u;l.attachListener(l,"mousedown",function(a){a.data.$.button==2&&f.document.$.selection.type=="None"&&(u=f.window.getScrollPosition())});l.attachListener(l,"mouseup",function(a){if(a.data.$.button==2&&u){f.document.$.documentElement.scrollLeft=
u.x;f.document.$.documentElement.scrollTop=u.y}u=null});if(a.$.compatMode!="BackCompat"){if(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)o.on("mousedown",function(a){function b(a){a=a.data.$;if(d){var c=g.$.createTextRange();try{c.moveToPoint(a.x,a.y)}catch(e){}d.setEndPoint(l.compareEndPoints("StartToStart",c)<0?"EndToEnd":"StartToStart",c);d.select()}}function c(){o.removeListener("mousemove",b);e.removeListener("mouseup",c);o.removeListener("mouseup",c);d.select()}a=a.data;if(a.getTarget().is("html")&&
a.$.y<o.$.clientHeight&&a.$.x<o.$.clientWidth){var d=g.$.createTextRange();try{d.moveToPoint(a.$.x,a.$.y)}catch(f){}var l=d.duplicate();o.on("mousemove",b);e.on("mouseup",c);o.on("mouseup",c)}});if(CKEDITOR.env.version>7){o.on("mousedown",function(a){if(a.data.getTarget().is("html")){e.on("mouseup",r);o.on("mouseup",r)}});var r=function(){e.removeListener("mouseup",r);o.removeListener("mouseup",r);var b=CKEDITOR.document.$.selection,c=b.createRange();b.type!="None"&&c.parentElement().ownerDocument==
a.$&&c.select()}}}}l.attachListener(l,"selectionchange",b,f);l.attachListener(l,"keyup",c,f);l.attachListener(l,"focus",function(){f.forceNextSelectionCheck();f.selectionChange(1)});if(l.isInline()?CKEDITOR.env.webkit||CKEDITOR.env.gecko:CKEDITOR.env.opera){var D;l.attachListener(l,"mousedown",function(){D=1});l.attachListener(a.getDocumentElement(),"mouseup",function(){D&&c.call(f);D=0})}else l.attachListener(l,"mouseup",c,f);if(CKEDITOR.env.webkit)a.on("keydown",function(a){switch(a.data.getKey()){case 13:case 33:case 34:case 35:case 36:case 37:case 39:case 8:case 45:case 46:d(f.editable())}},
null,null,-1)});f.on("contentDomUnload",f.forceNextSelectionCheck,f);f.on("dataReady",function(){f.selectionChange(1)});CKEDITOR.env.ie9Compat&&f.on("beforeDestroy",e,null,null,9);CKEDITOR.env.webkit&&f.on("setData",e);f.on("contentDomUnload",function(){f.unlockSelection()})});CKEDITOR.on("instanceReady",function(a){var b=a.editor,c=b.editable();if(CKEDITOR.env.webkit){b.on("selectionChange",function(){var a=e(c);a&&(a.getCustomData("ready")?d(c):a.setCustomData("ready",1))},null,null,-1);b.on("beforeSetMode",
function(){d(c)},null,null,-1);var f,g,a=function(){var a=b.document,d=e(c);if(d){a=a.$.defaultView.getSelection();a.type=="Caret"&&a.anchorNode==d.$&&(g=1);f=d.getText();d.setText(f.replace(/\u200B/g,""))}},h=function(){var a=b.document,d=e(c);if(d){d.setText(f);if(g){a.$.defaultView.getSelection().setPosition(d.$,d.getLength());g=0}}};b.on("beforeUndoImage",a);b.on("afterUndoImage",h);b.on("beforeGetData",a,null,null,0);b.on("getData",h)}});CKEDITOR.editor.prototype.selectionChange=function(a){(a?
b:c).call(this)};CKEDITOR.editor.prototype.getSelection=function(a){if(this._.savedSelection&&!a)return this._.savedSelection;return(a=this.editable())?new CKEDITOR.dom.selection(a):null};CKEDITOR.editor.prototype.lockSelection=function(a){a=a||this.getSelection(1);if(a.getType()!=CKEDITOR.SELECTION_NONE){!a.isLocked&&a.lock();this._.savedSelection=a;return true}return false};CKEDITOR.editor.prototype.unlockSelection=function(a){var b=this._.savedSelection;if(b){b.unlock(a);delete this._.savedSelection;
return true}return false};CKEDITOR.editor.prototype.forceNextSelectionCheck=function(){delete this._.selectionPreviousPath};CKEDITOR.dom.document.prototype.getSelection=function(){return new CKEDITOR.dom.selection(this)};CKEDITOR.dom.range.prototype.select=function(){var a=this.root instanceof CKEDITOR.editable?this.root.editor.getSelection():new CKEDITOR.dom.selection(this.root);a.selectRanges([this]);return a};CKEDITOR.SELECTION_NONE=1;CKEDITOR.SELECTION_TEXT=2;CKEDITOR.SELECTION_ELEMENT=3;var m=
typeof window.getSelection!="function";CKEDITOR.dom.selection=function(a){var b=a instanceof CKEDITOR.dom.element;this.document=a instanceof CKEDITOR.dom.document?a:a.getDocument();this.root=b?a:this.document.getBody();this.isLocked=0;this._={cache:{}};if(CKEDITOR.env.webkit){a=this.document.getWindow().$.getSelection();if(a.type=="None"&&this.document.getActive().equals(this.root)||a.type=="Caret"&&a.anchorNode.nodeType==CKEDITOR.NODE_DOCUMENT){var c=new CKEDITOR.dom.range(this.root);c.moveToPosition(this.root,
CKEDITOR.POSITION_AFTER_START);b=this.document.$.createRange();b.setStart(c.startContainer.$,c.startOffset);b.collapse(1);a.addRange(b)}}var a=this.getNative(),d;if(a)if(a.getRangeAt)d=(c=a.rangeCount&&a.getRangeAt(0))&&new CKEDITOR.dom.node(c.commonAncestorContainer);else{try{c=a.createRange()}catch(e){}d=c&&CKEDITOR.dom.element.get(c.item&&c.item(0)||c.parentElement())}if(!d||!this.root.equals(d)&&!this.root.contains(d)){this._.cache.type=CKEDITOR.SELECTION_NONE;this._.cache.startElement=null;this._.cache.selectedElement=
null;this._.cache.selectedText="";this._.cache.ranges=new CKEDITOR.dom.rangeList}return this};var n={img:1,hr:1,li:1,table:1,tr:1,td:1,th:1,embed:1,object:1,ol:1,ul:1,a:1,input:1,form:1,select:1,textarea:1,button:1,fieldset:1,thead:1,tfoot:1};CKEDITOR.dom.selection.prototype={getNative:function(){return this._.cache.nativeSel!==void 0?this._.cache.nativeSel:this._.cache.nativeSel=m?this.document.$.selection:this.document.getWindow().$.getSelection()},getType:m?function(){var a=this._.cache;if(a.type)return a.type;
var b=CKEDITOR.SELECTION_NONE;try{var c=this.getNative(),d=c.type;if(d=="Text")b=CKEDITOR.SELECTION_TEXT;if(d=="Control")b=CKEDITOR.SELECTION_ELEMENT;if(c.createRange().parentElement())b=CKEDITOR.SELECTION_TEXT}catch(e){}return a.type=b}:function(){var a=this._.cache;if(a.type)return a.type;var b=CKEDITOR.SELECTION_TEXT,c=this.getNative();if(!c||!c.rangeCount)b=CKEDITOR.SELECTION_NONE;else if(c.rangeCount==1){var c=c.getRangeAt(0),d=c.startContainer;if(d==c.endContainer&&d.nodeType==1&&c.endOffset-
c.startOffset==1&&n[d.childNodes[c.startOffset].nodeName.toLowerCase()])b=CKEDITOR.SELECTION_ELEMENT}return a.type=b},getRanges:function(){var a=m?function(){function a(b){return(new CKEDITOR.dom.node(b)).getIndex()}var b=function(b,c){b=b.duplicate();b.collapse(c);var d=b.parentElement(),e=d.ownerDocument;if(!d.hasChildNodes())return{container:d,offset:0};for(var f=d.children,g,j,h=b.duplicate(),o=0,m=f.length-1,n=-1,k,v;o<=m;){n=Math.floor((o+m)/2);g=f[n];h.moveToElementText(g);k=h.compareEndPoints("StartToStart",
b);if(k>0)m=n-1;else if(k<0)o=n+1;else{if(CKEDITOR.env.ie9Compat&&g.tagName=="BR"){f=e.defaultView.getSelection();return{container:f[c?"anchorNode":"focusNode"],offset:f[c?"anchorOffset":"focusOffset"]}}return{container:d,offset:a(g)}}}if(n==-1||n==f.length-1&&k<0){h.moveToElementText(d);h.setEndPoint("StartToStart",b);e=h.text.replace(/(\r\n|\r)/g,"\n").length;f=d.childNodes;if(!e){g=f[f.length-1];return g.nodeType!=CKEDITOR.NODE_TEXT?{container:d,offset:f.length}:{container:g,offset:g.nodeValue.length}}for(d=
f.length;e>0&&d>0;){j=f[--d];if(j.nodeType==CKEDITOR.NODE_TEXT){v=j;e=e-j.nodeValue.length}}return{container:v,offset:-e}}h.collapse(k>0?true:false);h.setEndPoint(k>0?"StartToStart":"EndToStart",b);e=h.text.replace(/(\r\n|\r)/g,"\n").length;if(!e)return{container:d,offset:a(g)+(k>0?0:1)};for(;e>0;)try{j=g[k>0?"previousSibling":"nextSibling"];if(j.nodeType==CKEDITOR.NODE_TEXT){e=e-j.nodeValue.length;v=j}g=j}catch(t){return{container:d,offset:a(g)}}return{container:v,offset:k>0?-e:v.nodeValue.length+
e}};return function(){var a=this.getNative(),c=a&&a.createRange(),d=this.getType();if(!a)return[];if(d==CKEDITOR.SELECTION_TEXT){a=new CKEDITOR.dom.range(this.root);d=b(c,true);a.setStart(new CKEDITOR.dom.node(d.container),d.offset);d=b(c);a.setEnd(new CKEDITOR.dom.node(d.container),d.offset);a.endContainer.getPosition(a.startContainer)&CKEDITOR.POSITION_PRECEDING&&a.endOffset<=a.startContainer.getIndex()&&a.collapse();return[a]}if(d==CKEDITOR.SELECTION_ELEMENT){for(var d=[],e=0;e<c.length;e++){for(var f=
c.item(e),g=f.parentNode,l=0,a=new CKEDITOR.dom.range(this.root);l<g.childNodes.length&&g.childNodes[l]!=f;l++);a.setStart(new CKEDITOR.dom.node(g),l);a.setEnd(new CKEDITOR.dom.node(g),l+1);d.push(a)}return d}return[]}}():function(){var a=[],b,c=this.getNative();if(!c)return a;for(var d=0;d<c.rangeCount;d++){var e=c.getRangeAt(d);b=new CKEDITOR.dom.range(this.root);b.setStart(new CKEDITOR.dom.node(e.startContainer),e.startOffset);b.setEnd(new CKEDITOR.dom.node(e.endContainer),e.endOffset);a.push(b)}return a};
return function(b){var c=this._.cache;if(c.ranges&&!b)return c.ranges;if(!c.ranges)c.ranges=new CKEDITOR.dom.rangeList(a.call(this));if(b)for(var d=c.ranges,e=0;e<d.length;e++){var f=d[e];f.getCommonAncestor().isReadOnly()&&d.splice(e,1);if(!f.collapsed){if(f.startContainer.isReadOnly())for(var b=f.startContainer,g;b;){if((g=b.type==CKEDITOR.NODE_ELEMENT)&&b.is("body")||!b.isReadOnly())break;g&&b.getAttribute("contentEditable")=="false"&&f.setStartAfter(b);b=b.getParent()}b=f.startContainer;g=f.endContainer;
var h=f.startOffset,m=f.endOffset,n=f.clone();b&&b.type==CKEDITOR.NODE_TEXT&&(h>=b.getLength()?n.setStartAfter(b):n.setStartBefore(b));g&&g.type==CKEDITOR.NODE_TEXT&&(m?n.setEndAfter(g):n.setEndBefore(g));b=new CKEDITOR.dom.walker(n);b.evaluator=function(a){if(a.type==CKEDITOR.NODE_ELEMENT&&a.isReadOnly()){var b=f.clone();f.setEndBefore(a);f.collapsed&&d.splice(e--,1);if(!(a.getPosition(n.endContainer)&CKEDITOR.POSITION_CONTAINS)){b.setStartAfter(a);b.collapsed||d.splice(e+1,0,b)}return true}return false};
b.next()}}return c.ranges}}(),getStartElement:function(){var a=this._.cache;if(a.startElement!==void 0)return a.startElement;var b;switch(this.getType()){case CKEDITOR.SELECTION_ELEMENT:return this.getSelectedElement();case CKEDITOR.SELECTION_TEXT:var c=this.getRanges()[0];if(c){if(c.collapsed){b=c.startContainer;b.type!=CKEDITOR.NODE_ELEMENT&&(b=b.getParent())}else{for(c.optimize();;){b=c.startContainer;if(c.startOffset==(b.getChildCount?b.getChildCount():b.getLength())&&!b.isBlockBoundary())c.setStartAfter(b);
else break}b=c.startContainer;if(b.type!=CKEDITOR.NODE_ELEMENT)return b.getParent();b=b.getChild(c.startOffset);if(!b||b.type!=CKEDITOR.NODE_ELEMENT)b=c.startContainer;else for(c=b.getFirst();c&&c.type==CKEDITOR.NODE_ELEMENT;){b=c;c=c.getFirst()}}b=b.$}}return a.startElement=b?new CKEDITOR.dom.element(b):null},getSelectedElement:function(){var a=this._.cache;if(a.selectedElement!==void 0)return a.selectedElement;var b=this,c=CKEDITOR.tools.tryThese(function(){return b.getNative().createRange().item(0)},
function(){for(var a=b.getRanges()[0],c,d,e=2;e&&(!(c=a.getEnclosedNode())||!(c.type==CKEDITOR.NODE_ELEMENT&&n[c.getName()]&&(d=c)));e--)a.shrink(CKEDITOR.SHRINK_ELEMENT);return d.$});return a.selectedElement=c?new CKEDITOR.dom.element(c):null},getSelectedText:function(){var a=this._.cache;if(a.selectedText!==void 0)return a.selectedText;var b=this.getNative(),b=m?b.type=="Control"?"":b.createRange().text:b.toString();return a.selectedText=b},lock:function(){this.getRanges();this.getStartElement();
this.getSelectedElement();this.getSelectedText();this._.cache.nativeSel=null;this.isLocked=1},unlock:function(a){if(this.isLocked){if(a)var b=this.getSelectedElement(),c=!b&&this.getRanges();this.isLocked=0;this.reset();if(a)(a=b||c[0].getCommonAncestor())&&a.getAscendant("body",1)&&(b?this.selectElement(b):this.selectRanges(c))}},reset:function(){this._.cache={}},selectElement:function(a){var b=new CKEDITOR.dom.range(this.root);b.setStartBefore(a);b.setEndAfter(a);this.selectRanges([b])},selectRanges:function(a){if(a.length)if(this.isLocked){var b=
CKEDITOR.document.getActive();this.unlock();this.selectRanges(a);this.lock();!b.equals(this.root)&&b.focus()}else{if(m){var c=CKEDITOR.dom.walker.whitespaces(true),e=/\ufeff|\u00a0/,g={table:1,tbody:1,tr:1};if(a.length>1){b=a[a.length-1];a[0].setEnd(b.endContainer,b.endOffset)}var b=a[0],a=b.collapsed,h,i,k,A=b.getEnclosedNode();if(A&&A.type==CKEDITOR.NODE_ELEMENT&&A.getName()in n&&(!A.is("a")||!A.getText()))try{k=A.$.createControlRange();k.addElement(A.$);k.select();return}catch(B){}(b.startContainer.type==
CKEDITOR.NODE_ELEMENT&&b.startContainer.getName()in g||b.endContainer.type==CKEDITOR.NODE_ELEMENT&&b.endContainer.getName()in g)&&b.shrink(CKEDITOR.NODE_ELEMENT,true);k=b.createBookmark();var g=k.startNode,p;if(!a)p=k.endNode;k=b.document.$.body.createTextRange();k.moveToElementText(g.$);k.moveStart("character",1);if(p){e=b.document.$.body.createTextRange();e.moveToElementText(p.$);k.setEndPoint("EndToEnd",e);k.moveEnd("character",-1)}else{h=g.getNext(c);i=g.hasAscendant("pre");h=!(h&&h.getText&&
h.getText().match(e))&&(i||!g.hasPrevious()||g.getPrevious().is&&g.getPrevious().is("br"));i=b.document.createElement("span");i.setHtml("&#65279;");i.insertBefore(g);h&&b.document.createText("﻿").insertBefore(g)}b.setStartBefore(g);g.remove();if(a){if(h){k.moveStart("character",-1);k.select();b.document.$.selection.clear()}else k.select();b.moveToPosition(i,CKEDITOR.POSITION_BEFORE_START);i.remove()}else{b.setEndBefore(p);p.remove();k.select()}}else{p=this.getNative();if(!p)return;if(CKEDITOR.env.opera){b=
this.document.$.createRange();b.selectNodeContents(this.root.$);p.addRange(b)}this.removeAllRanges();for(e=0;e<a.length;e++){if(e<a.length-1){b=a[e];k=a[e+1];i=b.clone();i.setStart(b.endContainer,b.endOffset);i.setEnd(k.startContainer,k.startOffset);if(!i.collapsed){i.shrink(CKEDITOR.NODE_ELEMENT,true);h=i.getCommonAncestor();i=i.getEnclosedNode();if(h.isReadOnly()||i&&i.isReadOnly()){k.setStart(b.startContainer,b.startOffset);a.splice(e--,1);continue}}}b=a[e];k=this.document.$.createRange();h=b.startContainer;
if(CKEDITOR.env.opera&&b.collapsed&&h.type==CKEDITOR.NODE_ELEMENT){i=h.getChild(b.startOffset-1);c=h.getChild(b.startOffset);if(!i&&!c&&h.is(CKEDITOR.dtd.$removeEmpty)||i&&i.type==CKEDITOR.NODE_ELEMENT||c&&c.type==CKEDITOR.NODE_ELEMENT){b.insertNode(this.document.createText(""));b.collapse(1)}}if(b.collapsed&&CKEDITOR.env.webkit&&f(b)){h=this.root;d(h,false);i=h.getDocument().createText("​");h.setCustomData("cke-fillingChar",i);b.insertNode(i);if((h=i.getNext())&&!i.getPrevious()&&h.type==CKEDITOR.NODE_ELEMENT&&
h.getName()=="br"){d(this.root);b.moveToPosition(h,CKEDITOR.POSITION_BEFORE_START)}else b.moveToPosition(i,CKEDITOR.POSITION_AFTER_END)}k.setStart(b.startContainer.$,b.startOffset);try{k.setEnd(b.endContainer.$,b.endOffset)}catch(E){if(E.toString().indexOf("NS_ERROR_ILLEGAL_VALUE")>=0){b.collapse(1);k.setEnd(b.endContainer.$,b.endOffset)}else throw E;}p.addRange(k)}}this.reset();this.root.fire("selectionchange")}},createBookmarks:function(a){return this.getRanges().createBookmarks(a)},createBookmarks2:function(a){return this.getRanges().createBookmarks2(a)},
selectBookmarks:function(a){for(var b=[],c=0;c<a.length;c++){var d=new CKEDITOR.dom.range(this.root);d.moveToBookmark(a[c]);b.push(d)}this.selectRanges(b);return this},getCommonAncestor:function(){var a=this.getRanges();return a[0].startContainer.getCommonAncestor(a[a.length-1].endContainer)},scrollIntoView:function(){this.type!=CKEDITOR.SELECTION_NONE&&this.getRanges()[0].scrollIntoView()},removeAllRanges:function(){var a=this.getNative();try{a&&a[m?"empty":"removeAllRanges"]()}catch(b){}this.reset()}}})();
CKEDITOR.editor.prototype.attachStyleStateChange=function(b,c){var a=this._.styleStateChangeCallbacks;if(!a){a=this._.styleStateChangeCallbacks=[];this.on("selectionChange",function(b){for(var c=0;c<a.length;c++){var d=a[c],g=d.style.checkActive(b.data.path)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF;d.fn.call(this,g)}})}a.push({style:b,fn:c})};CKEDITOR.STYLE_BLOCK=1;CKEDITOR.STYLE_INLINE=2;CKEDITOR.STYLE_OBJECT=3;
(function(){function b(a,b){for(var c,d;a=a.getParent();){if(a.equals(b))break;if(a.getAttribute("data-nostyle"))c=a;else if(!d){var e=a.getAttribute("contentEditable");e=="false"?c=a:e=="true"&&(d=1)}}return c}function c(a){var c=a.document;if(a.collapsed){c=y(this,c);a.insertNode(c);a.moveToPosition(c,CKEDITOR.POSITION_BEFORE_END)}else{var d=this.element,e=this._.definition,f,g=e.ignoreReadonly,h=g||e.includeReadonly;h==void 0&&(h=a.root.getCustomData("cke_includeReadonly"));var j=CKEDITOR.dtd[d]||
(f=true,CKEDITOR.dtd.span);a.enlarge(CKEDITOR.ENLARGE_INLINE,1);a.trim();var m=a.createBookmark(),i=m.startNode,n=m.endNode,k=i,o;if(!g){var q=a.getCommonAncestor(),g=b(i,q),q=b(n,q);g&&(k=g.getNextSourceNode(true));q&&(n=q)}for(k.getPosition(n)==CKEDITOR.POSITION_FOLLOWING&&(k=0);k;){g=false;if(k.equals(n)){k=null;g=true}else{var p=k.type,r=p==CKEDITOR.NODE_ELEMENT?k.getName():null,q=r&&k.getAttribute("contentEditable")=="false",s=r&&k.getAttribute("data-nostyle");if(r&&k.data("cke-bookmark")){k=
k.getNextSourceNode(true);continue}if(!r||j[r]&&!s&&(!q||h)&&(k.getPosition(n)|CKEDITOR.POSITION_PRECEDING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED)==CKEDITOR.POSITION_PRECEDING+CKEDITOR.POSITION_IDENTICAL+CKEDITOR.POSITION_IS_CONTAINED&&(!e.childRule||e.childRule(k))){var u=k.getParent();if(u&&((u.getDtd()||CKEDITOR.dtd.span)[d]||f)&&(!e.parentRule||e.parentRule(u))){if(!o&&(!r||!CKEDITOR.dtd.$removeEmpty[r]||(k.getPosition(n)|CKEDITOR.POSITION_PRECEDING|CKEDITOR.POSITION_IDENTICAL|
CKEDITOR.POSITION_IS_CONTAINED)==CKEDITOR.POSITION_PRECEDING+CKEDITOR.POSITION_IDENTICAL+CKEDITOR.POSITION_IS_CONTAINED)){o=a.clone();o.setStartBefore(k)}if(p==CKEDITOR.NODE_TEXT||q||p==CKEDITOR.NODE_ELEMENT&&!k.getChildCount()){for(var p=k,v;(g=!p.getNext(D))&&(v=p.getParent(),j[v.getName()])&&(v.getPosition(i)|CKEDITOR.POSITION_FOLLOWING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED)==CKEDITOR.POSITION_FOLLOWING+CKEDITOR.POSITION_IDENTICAL+CKEDITOR.POSITION_IS_CONTAINED&&(!e.childRule||
e.childRule(v));)p=v;o.setEndAfter(p)}}else g=true}else g=true;k=k.getNextSourceNode(s||q&&!h)}if(g&&o&&!o.collapsed){for(var g=y(this,c),q=g.hasAttributes(),s=o.getCommonAncestor(),p={},r={},u={},z={},A,B,E;g&&s;){if(s.getName()==d){for(A in e.attributes)if(!z[A]&&(E=s.getAttribute(B)))g.getAttribute(A)==E?r[A]=1:z[A]=1;for(B in e.styles)if(!u[B]&&(E=s.getStyle(B)))g.getStyle(B)==E?p[B]=1:u[B]=1}s=s.getParent()}for(A in r)g.removeAttribute(A);for(B in p)g.removeStyle(B);q&&!g.hasAttributes()&&(g=
null);if(g){o.extractContents().appendTo(g);l.call(this,g);o.insertNode(g);g.mergeSiblings();CKEDITOR.env.ie||g.$.normalize()}else{g=new CKEDITOR.dom.element("span");o.extractContents().appendTo(g);o.insertNode(g);l.call(this,g);g.remove(true)}o=null}}a.moveToBookmark(m);a.shrink(CKEDITOR.SHRINK_TEXT)}}function a(a){a.enlarge(CKEDITOR.ENLARGE_INLINE,1);var b=a.createBookmark(),c=b.startNode;if(a.collapsed){for(var d=new CKEDITOR.dom.elementPath(c.getParent(),a.root),e,f=0,g;f<d.elements.length&&(g=
d.elements[f]);f++){if(g==d.block||g==d.blockLimit)break;if(this.checkElementRemovable(g)){var h;if(a.collapsed&&(a.checkBoundaryOfElement(g,CKEDITOR.END)||(h=a.checkBoundaryOfElement(g,CKEDITOR.START)))){e=g;e.match=h?"start":"end"}else{g.mergeSiblings();g.getName()==this.element?o.call(this,g):j(g,s(this)[g.getName()])}}}if(e){g=c;for(f=0;;f++){h=d.elements[f];if(h.equals(e))break;else if(h.match)continue;else h=h.clone();h.append(g);g=h}g[e.match=="start"?"insertBefore":"insertAfter"](e)}}else{var m=
b.endNode,l=this,d=function(){for(var a=new CKEDITOR.dom.elementPath(c.getParent()),b=new CKEDITOR.dom.elementPath(m.getParent()),d=null,e=null,f=0;f<a.elements.length;f++){var g=a.elements[f];if(g==a.block||g==a.blockLimit)break;l.checkElementRemovable(g)&&(d=g)}for(f=0;f<b.elements.length;f++){g=b.elements[f];if(g==b.block||g==b.blockLimit)break;l.checkElementRemovable(g)&&(e=g)}e&&m.breakParent(e);d&&c.breakParent(d)};d();for(e=c;!e.equals(m);){f=e.getNextSourceNode();if(e.type==CKEDITOR.NODE_ELEMENT&&
this.checkElementRemovable(e)){e.getName()==this.element?o.call(this,e):j(e,s(this)[e.getName()]);if(f.type==CKEDITOR.NODE_ELEMENT&&f.contains(c)){d();f=c.getNext()}}e=f}}a.moveToBookmark(b)}function f(a){var b=a.getEnclosedNode()||a.getCommonAncestor(false,true);(a=(new CKEDITOR.dom.elementPath(b,a.root)).contains(this.element,1))&&!a.isReadOnly()&&z(a,this)}function e(a){var b=a.getCommonAncestor(true,true);if(a=(new CKEDITOR.dom.elementPath(b,a.root)).contains(this.element,1)){var b=this._.definition,
c=b.attributes;if(c)for(var d in c)a.removeAttribute(d,c[d]);if(b.styles)for(var e in b.styles)b.styles.hasOwnProperty(e)&&a.removeStyle(e)}}function d(a){var b=a.createBookmark(true),c=a.createIterator();c.enforceRealBlocks=true;if(this._.enterMode)c.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR;for(var d,e=a.document;d=c.getNextParagraph();)if(!d.isReadOnly()){var f=y(this,e,d);k(d,f)}a.moveToBookmark(b)}function g(a){var b=a.createBookmark(1),c=a.createIterator();c.enforceRealBlocks=true;c.enlargeBr=
this._.enterMode!=CKEDITOR.ENTER_BR;for(var d;d=c.getNextParagraph();)if(this.checkElementRemovable(d))if(d.is("pre")){var e=this._.enterMode==CKEDITOR.ENTER_BR?null:a.document.createElement(this._.enterMode==CKEDITOR.ENTER_P?"p":"div");e&&d.copyAttributes(e);k(d,e)}else o.call(this,d);a.moveToBookmark(b)}function k(a,b){var c=!b;if(c){b=a.getDocument().createElement("div");a.copyAttributes(b)}var d=b&&b.is("pre"),e=a.is("pre"),f=!d&&e;if(d&&!e){e=b;(f=a.getBogus())&&f.remove();f=a.getHtml();f=m(f,
/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g,"");f=f.replace(/[ \t\r\n]*(<br[^>]*>)[ \t\r\n]*/gi,"$1");f=f.replace(/([ \t\n\r]+|&nbsp;)/g," ");f=f.replace(/<br\b[^>]*>/gi,"\n");if(CKEDITOR.env.ie){var g=a.getDocument().createElement("div");g.append(e);e.$.outerHTML="<pre>"+f+"</pre>";e.copyAttributes(g.getFirst());e=g.getFirst().remove()}else e.setHtml(f);b=e}else f?b=n(c?[a.getHtml()]:h(a),b):a.moveChildren(b);b.replace(a);if(d){var c=b,j;if((j=c.getPrevious(v))&&j.is&&j.is("pre")){d=m(j.getHtml(),/\n$/,"")+
"\n\n"+m(c.getHtml(),/^\n/,"");CKEDITOR.env.ie?c.$.outerHTML="<pre>"+d+"</pre>":c.setHtml(d);j.remove()}}else c&&q(b)}function h(a){a.getName();var b=[];m(a.getOuterHtml(),/(\S\s*)\n(?:\s|(<span[^>]+data-cke-bookmark.*?\/span>))*\n(?!$)/gi,function(a,b,c){return b+"</pre>"+c+"<pre>"}).replace(/<pre\b.*?>([\s\S]*?)<\/pre>/gi,function(a,c){b.push(c)});return b}function m(a,b,c){var d="",e="",a=a.replace(/(^<span[^>]+data-cke-bookmark.*?\/span>)|(<span[^>]+data-cke-bookmark.*?\/span>$)/gi,function(a,
b,c){b&&(d=b);c&&(e=c);return""});return d+a.replace(b,c)+e}function n(a,b){var c;a.length>1&&(c=new CKEDITOR.dom.documentFragment(b.getDocument()));for(var d=0;d<a.length;d++){var e=a[d],e=e.replace(/(\r\n|\r)/g,"\n"),e=m(e,/^[ \t]*\n/,""),e=m(e,/\n$/,""),e=m(e,/^[ \t]+|[ \t]+$/g,function(a,b){return a.length==1?"&nbsp;":b?" "+CKEDITOR.tools.repeat("&nbsp;",a.length-1):CKEDITOR.tools.repeat("&nbsp;",a.length-1)+" "}),e=e.replace(/\n/g,"<br>"),e=e.replace(/[ \t]{2,}/g,function(a){return CKEDITOR.tools.repeat("&nbsp;",
a.length-1)+" "});if(c){var f=b.clone();f.setHtml(e);c.append(f)}else b.setHtml(e)}return c||b}function o(a){var b=this._.definition,c=b.attributes,b=b.styles,d=s(this)[a.getName()],e=CKEDITOR.tools.isEmpty(c)&&CKEDITOR.tools.isEmpty(b),f;for(f in c)if(!((f=="class"||this._.definition.fullMatch)&&a.getAttribute(f)!=A(f,c[f]))){e=a.hasAttribute(f);a.removeAttribute(f)}for(var g in b)if(!(this._.definition.fullMatch&&a.getStyle(g)!=A(g,b[g],true))){e=e||!!a.getStyle(g);a.removeStyle(g)}j(a,d,p[a.getName()]);
e&&(this._.definition.alwaysRemoveElement?q(a,1):!CKEDITOR.dtd.$block[a.getName()]||this._.enterMode==CKEDITOR.ENTER_BR&&!a.hasAttributes()?q(a):a.renameNode(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))}function l(a){for(var b=s(this),c=a.getElementsByTag(this.element),d=c.count();--d>=0;)o.call(this,c.getItem(d));for(var e in b)if(e!=this.element){c=a.getElementsByTag(e);for(d=c.count()-1;d>=0;d--){var f=c.getItem(d);j(f,b[e])}}}function j(a,b,c){if(b=b&&b.attributes)for(var d=0;d<b.length;d++){var e=
b[d][0],f;if(f=a.getAttribute(e)){var g=b[d][1];(g===null||g.test&&g.test(f)||typeof g=="string"&&f==g)&&a.removeAttribute(e)}}c||q(a)}function q(a,b){if(!a.hasAttributes()||b)if(CKEDITOR.dtd.$block[a.getName()]){var c=a.getPrevious(v),d=a.getNext(v);c&&(c.type==CKEDITOR.NODE_TEXT||!c.isBlockBoundary({br:1}))&&a.append("br",1);d&&(d.type==CKEDITOR.NODE_TEXT||!d.isBlockBoundary({br:1}))&&a.append("br");a.remove(true)}else{c=a.getFirst();d=a.getLast();a.remove(true);if(c){c.type==CKEDITOR.NODE_ELEMENT&&
c.mergeSiblings();d&&(!c.equals(d)&&d.type==CKEDITOR.NODE_ELEMENT)&&d.mergeSiblings()}}}function y(a,b,c){var d;d=a.element;d=="*"&&(d="span");d=new CKEDITOR.dom.element(d,b);c&&c.copyAttributes(d);d=z(d,a);b.getCustomData("doc_processing_style")&&d.hasAttribute("id")?d.removeAttribute("id"):b.setCustomData("doc_processing_style",1);return d}function z(a,b){var c=b._.definition,d=c.attributes,c=CKEDITOR.style.getStyleText(c);if(d)for(var e in d)a.setAttribute(e,d[e]);c&&a.setAttribute("style",c);
return a}function i(a,b){for(var c in a)a[c]=a[c].replace(r,function(a,c){return b[c]})}function s(a){if(a._.overrides)return a._.overrides;var b=a._.overrides={},c=a._.definition.overrides;if(c){CKEDITOR.tools.isArray(c)||(c=[c]);for(var d=0;d<c.length;d++){var e=c[d],f,g;if(typeof e=="string")f=e.toLowerCase();else{f=e.element?e.element.toLowerCase():a.element;g=e.attributes}e=b[f]||(b[f]={});if(g){var e=e.attributes=e.attributes||[],h;for(h in g)e.push([h.toLowerCase(),g[h]])}}}return b}function A(a,
b,c){var d=new CKEDITOR.dom.element("span");d[c?"setStyle":"setAttribute"](a,b);return d[c?"getStyle":"getAttribute"](a)}function B(a,b){for(var c=a.document,d=a.getRanges(),e=b?this.removeFromRange:this.applyToRange,f,g=d.createIterator();f=g.getNextRange();)e.call(this,f);a.selectRanges(d);c.removeCustomData("doc_processing_style")}var p={address:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1,section:1,header:1,footer:1,nav:1,article:1,aside:1,figure:1,dialog:1,hgroup:1,time:1,meter:1,menu:1,command:1,
keygen:1,output:1,progress:1,details:1,datagrid:1,datalist:1},E={a:1,embed:1,hr:1,img:1,li:1,object:1,ol:1,table:1,td:1,tr:1,th:1,ul:1,dl:1,dt:1,dd:1,form:1,audio:1,video:1},u=/\s*(?:;\s*|$)/,r=/#\((.+?)\)/g,D=CKEDITOR.dom.walker.bookmark(0,1),v=CKEDITOR.dom.walker.whitespaces(1);CKEDITOR.style=function(a,b){var c=a.attributes;if(c&&c.style){a.styles=CKEDITOR.tools.extend({},a.styles,CKEDITOR.tools.parseCssText(c.style));delete c.style}if(b){a=CKEDITOR.tools.clone(a);i(a.attributes,b);i(a.styles,
b)}c=this.element=a.element?typeof a.element=="string"?a.element.toLowerCase():a.element:"*";this.type=a.type||(p[c]?CKEDITOR.STYLE_BLOCK:E[c]?CKEDITOR.STYLE_OBJECT:CKEDITOR.STYLE_INLINE);if(typeof this.element=="object")this.type=CKEDITOR.STYLE_OBJECT;this._={definition:a}};CKEDITOR.editor.prototype.applyStyle=function(a){B.call(a,this.getSelection())};CKEDITOR.editor.prototype.removeStyle=function(a){B.call(a,this.getSelection(),1)};CKEDITOR.style.prototype={apply:function(a){B.call(this,a.getSelection())},
remove:function(a){B.call(this,a.getSelection(),1)},applyToRange:function(a){return(this.applyToRange=this.type==CKEDITOR.STYLE_INLINE?c:this.type==CKEDITOR.STYLE_BLOCK?d:this.type==CKEDITOR.STYLE_OBJECT?f:null).call(this,a)},removeFromRange:function(b){return(this.removeFromRange=this.type==CKEDITOR.STYLE_INLINE?a:this.type==CKEDITOR.STYLE_BLOCK?g:this.type==CKEDITOR.STYLE_OBJECT?e:null).call(this,b)},applyToObject:function(a){z(a,this)},checkActive:function(a){switch(this.type){case CKEDITOR.STYLE_BLOCK:return this.checkElementRemovable(a.block||
a.blockLimit,true);case CKEDITOR.STYLE_OBJECT:case CKEDITOR.STYLE_INLINE:for(var b=a.elements,c=0,d;c<b.length;c++){d=b[c];if(!(this.type==CKEDITOR.STYLE_INLINE&&(d==a.block||d==a.blockLimit))){if(this.type==CKEDITOR.STYLE_OBJECT){var e=d.getName();if(!(typeof this.element=="string"?e==this.element:e in this.element))continue}if(this.checkElementRemovable(d,true))return true}}}return false},checkApplicable:function(a){switch(this.type){case CKEDITOR.STYLE_OBJECT:return a.contains(this.element)}return true},
checkElementMatch:function(a,b){var c=this._.definition;if(!a||!c.ignoreReadonly&&a.isReadOnly())return false;var d=a.getName();if(typeof this.element=="string"?d==this.element:d in this.element){if(!b&&!a.hasAttributes())return true;if(d=c._AC)c=d;else{var d={},e=0,f=c.attributes;if(f)for(var g in f){e++;d[g]=f[g]}if(g=CKEDITOR.style.getStyleText(c)){d.style||e++;d.style=g}d._length=e;c=c._AC=d}if(c._length){for(var h in c)if(h!="_length"){e=a.getAttribute(h)||"";if(h=="style")a:{d=c[h];typeof d==
"string"&&(d=CKEDITOR.tools.parseCssText(d));typeof e=="string"&&(e=CKEDITOR.tools.parseCssText(e,true));g=void 0;for(g in d)if(!(g in e&&(e[g]==d[g]||d[g]=="inherit"||e[g]=="inherit"))){d=false;break a}d=true}else d=c[h]==e;if(d){if(!b)return true}else if(b)return false}if(b)return true}else return true}return false},checkElementRemovable:function(a,b){if(this.checkElementMatch(a,b))return true;var c=s(this)[a.getName()];if(c){var d;if(!(c=c.attributes))return true;for(var e=0;e<c.length;e++){d=
c[e][0];if(d=a.getAttribute(d)){var f=c[e][1];if(f===null||typeof f=="string"&&d==f||f.test(d))return true}}}return false},buildPreview:function(a){var b=this._.definition,c=[],d=b.element;d=="bdo"&&(d="span");var c=["<",d],e=b.attributes;if(e)for(var f in e)c.push(" ",f,'="',e[f],'"');(e=CKEDITOR.style.getStyleText(b))&&c.push(' style="',e,'"');c.push(">",a||b.name,"</",d,">");return c.join("")}};CKEDITOR.style.getStyleText=function(a){var b=a._ST;if(b)return b;var b=a.styles,c=a.attributes&&a.attributes.style||
"",d="";c.length&&(c=c.replace(u,";"));for(var e in b){var f=b[e],g=(e+":"+f).replace(u,";");f=="inherit"?d=d+g:c=c+g}c.length&&(c=CKEDITOR.tools.normalizeCssText(c,true));return a._ST=c+d}})();CKEDITOR.styleCommand=function(b){this.style=b};CKEDITOR.styleCommand.prototype.exec=function(b){b.focus();this.state==CKEDITOR.TRISTATE_OFF?b.applyStyle(this.style):this.state==CKEDITOR.TRISTATE_ON&&b.removeStyle(this.style)};CKEDITOR.stylesSet=new CKEDITOR.resourceManager("","stylesSet");
CKEDITOR.addStylesSet=CKEDITOR.tools.bind(CKEDITOR.stylesSet.add,CKEDITOR.stylesSet);CKEDITOR.loadStylesSet=function(b,c,a){CKEDITOR.stylesSet.addExternal(b,c,"");CKEDITOR.stylesSet.load(b,a)};
CKEDITOR.editor.prototype.getStylesSet=function(b){if(this._.stylesDefinitions)b(this._.stylesDefinitions);else{var c=this,a=c.config.stylesCombo_stylesSet||c.config.stylesSet||"default";if(a instanceof Array){c._.stylesDefinitions=a;b(a)}else{var a=a.split(":"),f=a[0];CKEDITOR.stylesSet.addExternal(f,a[1]?a.slice(1).join(":"):CKEDITOR.getUrl("styles.js"),"");CKEDITOR.stylesSet.load(f,function(a){c._.stylesDefinitions=a[f];b(c._.stylesDefinitions)})}}};
CKEDITOR.dom.comment=function(b,c){typeof b=="string"&&(b=(c?c.$:document).createComment(b));CKEDITOR.dom.domObject.call(this,b)};CKEDITOR.dom.comment.prototype=new CKEDITOR.dom.node;CKEDITOR.tools.extend(CKEDITOR.dom.comment.prototype,{type:CKEDITOR.NODE_COMMENT,getOuterHtml:function(){return"<\!--"+this.$.nodeValue+"--\>"}});
(function(){var b={},c;for(c in CKEDITOR.dtd.$blockLimit)c in CKEDITOR.dtd.$list||(b[c]=1);var a={};for(c in CKEDITOR.dtd.$block)c in CKEDITOR.dtd.$blockLimit||c in CKEDITOR.dtd.$empty||(a[c]=1);CKEDITOR.dom.elementPath=function(c,e){var d=null,g=null,k=[],e=e||c.getDocument().getBody(),h=c;do if(h.type==CKEDITOR.NODE_ELEMENT){k.push(h);if(!this.lastElement){this.lastElement=h;if(h.is(CKEDITOR.dtd.$object))continue}var m=h.getName();if(!g){!d&&a[m]&&(d=h);if(b[m]){var n;if(n=!d){if(m=m=="div"){a:{m=
h.getChildren();n=0;for(var o=m.count();n<o;n++){var l=m.getItem(n);if(l.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$block[l.getName()]){m=true;break a}}m=false}m=!m&&!h.equals(e)}n=m}n?d=h:g=h}}if(h.equals(e))break}while(h=h.getParent());this.block=d;this.blockLimit=g;this.root=e;this.elements=k}})();
CKEDITOR.dom.elementPath.prototype={compare:function(b){var c=this.elements,b=b&&b.elements;if(!b||c.length!=b.length)return false;for(var a=0;a<c.length;a++)if(!c[a].equals(b[a]))return false;return true},contains:function(b,c,a){var f;typeof b=="string"&&(f=function(a){return a.getName()==b});b instanceof CKEDITOR.dom.element?f=function(a){return a.equals(b)}:CKEDITOR.tools.isArray(b)?f=function(a){return CKEDITOR.tools.indexOf(b,a.getName())>-1}:typeof b=="function"?f=b:typeof b=="object"&&(f=
function(a){return a.getName()in b});var e=this.elements,d=e.length;c&&d--;if(a){e=Array.prototype.slice.call(e,0);e.reverse()}for(c=0;c<d;c++)if(f(e[c]))return e[c];return null},isContextFor:function(b){var c;if(b in CKEDITOR.dtd.$block){c=this.contains(CKEDITOR.dtd.$intermediate)||this.root.equals(this.block)&&this.block||this.blockLimit;return!!c.getDtd()[b]}return true},direction:function(){return(this.block||this.blockLimit||this.root).getDirection(1)}};
CKEDITOR.dom.text=function(b,c){typeof b=="string"&&(b=(c?c.$:document).createTextNode(b));this.$=b};CKEDITOR.dom.text.prototype=new CKEDITOR.dom.node;
CKEDITOR.tools.extend(CKEDITOR.dom.text.prototype,{type:CKEDITOR.NODE_TEXT,getLength:function(){return this.$.nodeValue.length},getText:function(){return this.$.nodeValue},setText:function(b){this.$.nodeValue=b},split:function(b){var c=this.$.parentNode,a=c.childNodes.length,f=this.getLength(),e=this.getDocument(),d=new CKEDITOR.dom.text(this.$.splitText(b),e);if(c.childNodes.length==a)if(b>=f){d=e.createText("");d.insertAfter(this)}else{b=e.createText("");b.insertAfter(d);b.remove()}return d},substring:function(b,
c){return typeof c!="number"?this.$.nodeValue.substr(b):this.$.nodeValue.substring(b,c)}});
(function(){function b(a,b,c){var d=a.serializable,g=b[c?"endContainer":"startContainer"],k=c?"endOffset":"startOffset",h=d?b.document.getById(a.startNode):a.startNode,a=d?b.document.getById(a.endNode):a.endNode;if(g.equals(h.getPrevious())){b.startOffset=b.startOffset-g.getLength()-a.getPrevious().getLength();g=a.getNext()}else if(g.equals(a.getPrevious())){b.startOffset=b.startOffset-g.getLength();g=a.getNext()}g.equals(h.getParent())&&b[k]++;g.equals(a.getParent())&&b[k]++;b[c?"endContainer":"startContainer"]=
g;return b}CKEDITOR.dom.rangeList=function(a){if(a instanceof CKEDITOR.dom.rangeList)return a;a?a instanceof CKEDITOR.dom.range&&(a=[a]):a=[];return CKEDITOR.tools.extend(a,c)};var c={createIterator:function(){var a=this,b=CKEDITOR.dom.walker.bookmark(),c=[],d;return{getNextRange:function(g){d=d==void 0?0:d+1;var k=a[d];if(k&&a.length>1){if(!d)for(var h=a.length-1;h>=0;h--)c.unshift(a[h].createBookmark(true));if(g)for(var m=0;a[d+m+1];){for(var n=k.document,g=0,h=n.getById(c[m].endNode),n=n.getById(c[m+
1].startNode);;){h=h.getNextSourceNode(false);if(n.equals(h))g=1;else if(b(h)||h.type==CKEDITOR.NODE_ELEMENT&&h.isBlockBoundary())continue;break}if(!g)break;m++}for(k.moveToBookmark(c.shift());m--;){h=a[++d];h.moveToBookmark(c.shift());k.setEnd(h.endContainer,h.endOffset)}}return k}}},createBookmarks:function(a){for(var c=[],e,d=0;d<this.length;d++){c.push(e=this[d].createBookmark(a,true));for(var g=d+1;g<this.length;g++){this[g]=b(e,this[g]);this[g]=b(e,this[g],true)}}return c},createBookmarks2:function(a){for(var b=
[],c=0;c<this.length;c++)b.push(this[c].createBookmark2(a));return b},moveToBookmarks:function(a){for(var b=0;b<this.length;b++)this[b].moveToBookmark(a[b])}}})();
(function(){function b(){return CKEDITOR.getUrl(CKEDITOR.skinName.split(",")[1]||"skins/"+CKEDITOR.skinName.split(",")[0]+"/")}function c(a){var c=CKEDITOR.skin["ua_"+a],d=CKEDITOR.env;if(c)for(var c=c.split(",").sort(function(a,b){return a>b?-1:1}),e=0,f;e<c.length;e++){f=c[e];if(d.ie&&(f.replace(/^ie/,"")==d.version||d.quirks&&f=="iequirks"))f="ie";if(d[f]){a=a+("_"+c[e]);break}}return CKEDITOR.getUrl(b()+a+".css")}function a(a,b){if(!d[a]){CKEDITOR.document.appendStyleSheet(c(a));d[a]=1}b&&b()}
function f(a){var b=a.getById(g);if(!b){b=a.getHead().append("style");b.setAttribute("id",g);b.setAttribute("type","text/css")}return b}function e(a,b,c){var d,e,f;if(CKEDITOR.env.webkit){b=b.split("}").slice(0,-1);for(e=0;e<b.length;e++)b[e]=b[e].split("{")}for(var g=0;g<a.length;g++)if(CKEDITOR.env.webkit)for(e=0;e<b.length;e++){f=b[e][1];for(d=0;d<c.length;d++)f=f.replace(c[d][0],c[d][1]);a[g].$.sheet.addRule(b[e][0],f)}else{f=b;for(d=0;d<c.length;d++)f=f.replace(c[d][0],c[d][1]);CKEDITOR.env.ie?
a[g].$.styleSheet.cssText=a[g].$.styleSheet.cssText+f:a[g].$.innerHTML=a[g].$.innerHTML+f}}var d={};CKEDITOR.skin={path:b,loadPart:function(c,d){CKEDITOR.skin.name!=CKEDITOR.skinName.split(",")[0]?CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(b()+"skin.js"),function(){a(c,d)}):a(c,d)},getPath:function(a){return CKEDITOR.getUrl(c(a))},icons:{},addIcon:function(a,b,c){a=a.toLowerCase();this.icons[a]||(this.icons[a]={path:b,offset:c||0})},getIconStyle:function(a,b,c,d){var e;if(a){a=a.toLowerCase();b&&
(e=this.icons[a+"-rtl"]);e||(e=this.icons[a])}a=c||e&&e.path||"";d=d||e&&e.offset;return a&&"background-image:url("+CKEDITOR.getUrl(a)+");background-position:0 "+d+"px;"}};CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{getUiColor:function(){return this.uiColor},setUiColor:function(a){var b=f(CKEDITOR.document);return(this.setUiColor=function(a){var c=CKEDITOR.skin.chameleon,d=[[h,a]];this.uiColor=a;e([b],c(this,"editor"),d);e(k,c(this,"panel"),d)}).call(this,a)}});var g="cke_ui_color",k=[],h=/\$color/g;
CKEDITOR.on("instanceLoaded",function(a){if(!CKEDITOR.env.ie||!CKEDITOR.env.quirks){var b=a.editor,a=function(a){a=(a.data[0]||a.data).element.getElementsByTag("iframe").getItem(0).getFrameDocument();if(!a.getById("cke_ui_color")){a=f(a);k.push(a);var c=b.getUiColor();c&&e([a],CKEDITOR.skin.chameleon(b,"panel"),[[h,c]])}};b.on("panelShow",a);b.on("menuShow",a);b.config.uiColor&&b.setUiColor(b.config.uiColor)}})})();
(function(){if(CKEDITOR.env.webkit)CKEDITOR.env.hc=false;else{var b=CKEDITOR.dom.element.createFromHtml('<div style="width:0px;height:0px;position:absolute;left:-10000px;border: 1px solid;border-color: red blue;"></div>',CKEDITOR.document);b.appendTo(CKEDITOR.document.getHead());try{CKEDITOR.env.hc=b.getComputedStyle("border-top-color")==b.getComputedStyle("border-right-color")}catch(c){CKEDITOR.env.hc=false}b.remove()}if(CKEDITOR.env.hc)CKEDITOR.env.cssClass=CKEDITOR.env.cssClass+" cke_hc";CKEDITOR.document.appendStyleText(".cke{visibility:hidden;}");
CKEDITOR.status="loaded";CKEDITOR.fireOnce("loaded");if(b=CKEDITOR._.pending){delete CKEDITOR._.pending;for(var a=0;a<b.length;a++){CKEDITOR.editor.prototype.constructor.apply(b[a][0],b[a][1]);CKEDITOR.add(b[a][0])}}})();/*
 Copyright (c) 2003-2013, CKSource - Frederico Knabben. All rights reserved.
 For licensing, see LICENSE.html or http://ckeditor.com/license
*/
CKEDITOR.skin.name="moono";CKEDITOR.skin.ua_editor="ie,iequirks,ie7,ie8,gecko";CKEDITOR.skin.ua_dialog="ie,iequirks,ie7,ie8,opera";
CKEDITOR.skin.chameleon=function(){var b=function(){return function(b,e){for(var a=b.match(/[^#]./g),c=0;3>c;c++){var f=a,h=c,d;d=parseInt(a[c],16);d=("0"+(0>e?0|d*(1+e):0|d+(255-d)*e).toString(16)).slice(-2);f[h]=d}return"#"+a.join("")}}(),c=function(){var b=new CKEDITOR.template("background:#{to};background-image:-webkit-gradient(linear,lefttop,leftbottom,from({from}),to({to}));background-image:-moz-linear-gradient(top,{from},{to});background-image:-webkit-linear-gradient(top,{from},{to});background-image:-o-linear-gradient(top,{from},{to});background-image:-ms-linear-gradient(top,{from},{to});background-image:linear-gradient(top,{from},{to});filter:progid:DXImageTransform.Microsoft.gradient(gradientType=0,startColorstr='{from}',endColorstr='{to}');");return function(c,
a){return b.output({from:c,to:a})}}(),f={editor:new CKEDITOR.template("{id}.cke_chrome [border-color:{defaultBorder};] {id} .cke_top [ {defaultGradient}border-bottom-color:{defaultBorder};] {id} .cke_bottom [{defaultGradient}border-top-color:{defaultBorder};] {id} .cke_resizer [border-right-color:{ckeResizer}] {id} .cke_dialog_title [{defaultGradient}border-bottom-color:{defaultBorder};] {id} .cke_dialog_footer [{defaultGradient}outline-color:{defaultBorder};border-top-color:{defaultBorder};] {id} .cke_dialog_tab [{lightGradient}border-color:{defaultBorder};] {id} .cke_dialog_tab:hover [{mediumGradient}] {id} .cke_dialog_contents [border-top-color:{defaultBorder};] {id} .cke_dialog_tab_selected, {id} .cke_dialog_tab_selected:hover [background:{dialogTabSelected};border-bottom-color:{dialogTabSelectedBorder};] {id} .cke_dialog_body [background:{dialogBody};border-color:{defaultBorder};] {id} .cke_toolgroup [{lightGradient}border-color:{defaultBorder};] {id} a.cke_button_off:hover, {id} a.cke_button_off:focus, {id} a.cke_button_off:active [{mediumGradient}] {id} .cke_button_on [{ckeButtonOn}] {id} .cke_toolbar_separator [background-color: {ckeToolbarSeparator};] {id} .cke_combo_button [border-color:{defaultBorder};{lightGradient}] {id} a.cke_combo_button:hover, {id} a.cke_combo_button:focus, {id} .cke_combo_on a.cke_combo_button [border-color:{defaultBorder};{mediumGradient}] {id} .cke_path_item [color:{elementsPathColor};] {id} a.cke_path_item:hover, {id} a.cke_path_item:focus, {id} a.cke_path_item:active [background-color:{elementsPathBg};] {id}.cke_panel [border-color:{defaultBorder};] "),
panel:new CKEDITOR.template(".cke_panel_grouptitle [{lightGradient}border-color:{defaultBorder};] .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menubutton:hover .cke_menubutton_icon, .cke_menubutton:focus .cke_menubutton_icon, .cke_menubutton:active .cke_menubutton_icon [background-color:{menubuttonIconHover};] .cke_menuseparator [background-color:{menubuttonIcon};] a:hover.cke_colorbox, a:focus.cke_colorbox, a:active.cke_colorbox [border-color:{defaultBorder};] a:hover.cke_colorauto, a:hover.cke_colormore, a:focus.cke_colorauto, a:focus.cke_colormore, a:active.cke_colorauto, a:active.cke_colormore [background-color:{ckeColorauto};border-color:{defaultBorder};] ")};
return function(g,e){var a=g.uiColor,a={id:"."+g.id,defaultBorder:b(a,-0.1),defaultGradient:c(b(a,0.9),a),lightGradient:c(b(a,1),b(a,0.7)),mediumGradient:c(b(a,0.8),b(a,0.5)),ckeButtonOn:c(b(a,0.6),b(a,0.7)),ckeResizer:b(a,-0.4),ckeToolbarSeparator:b(a,0.5),ckeColorauto:b(a,0.8),dialogBody:b(a,0.7),dialogTabSelected:c("#FFFFFF","#FFFFFF"),dialogTabSelectedBorder:"#FFF",elementsPathColor:b(a,-0.6),elementsPathBg:a,menubuttonIcon:b(a,0.5),menubuttonIconHover:b(a,0.3)};return f[e].output(a).replace(/\[/g,
"{").replace(/\]/g,"}")}}();CKEDITOR.plugins.add("dialogui",{onLoad:function(){var h=function(b){this._||(this._={});this._["default"]=this._.initValue=b["default"]||"";this._.required=b.required||!1;for(var a=[this._],d=1;d<arguments.length;d++)a.push(arguments[d]);a.push(!0);CKEDITOR.tools.extend.apply(CKEDITOR.tools,a);return this._},r={build:function(b,a,d){return new CKEDITOR.ui.dialog.textInput(b,a,d)}},l={build:function(b,a,d){return new CKEDITOR.ui.dialog[a.type](b,a,d)}},n={isChanged:function(){return this.getValue()!=
this.getInitValue()},reset:function(b){this.setValue(this.getInitValue(),b)},setInitValue:function(){this._.initValue=this.getValue()},resetInitValue:function(){this._.initValue=this._["default"]},getInitValue:function(){return this._.initValue}},o=CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onChange:function(b,a){this._.domOnChangeRegistered||(b.on("load",function(){this.getInputElement().on("change",function(){b.parts.dialog.isVisible()&&this.fire("change",{value:this.getValue()})},
this)},this),this._.domOnChangeRegistered=!0);this.on("change",a)}},!0),s=/^on([A-Z]\w+)/,p=function(b){for(var a in b)(s.test(a)||"title"==a||"type"==a)&&delete b[a];return b};CKEDITOR.tools.extend(CKEDITOR.ui.dialog,{labeledElement:function(b,a,d,e){if(!(4>arguments.length)){var c=h.call(this,a);c.labelId=CKEDITOR.tools.getNextId()+"_label";this._.children=[];CKEDITOR.ui.dialog.uiElement.call(this,b,a,d,"div",null,{role:"presentation"},function(){var f=[],d=a.required?" cke_required":"";"horizontal"!=
a.labelLayout?f.push('<label class="cke_dialog_ui_labeled_label'+d+'" ',' id="'+c.labelId+'"',c.inputId?' for="'+c.inputId+'"':"",(a.labelStyle?' style="'+a.labelStyle+'"':"")+">",a.label,"</label>",'<div class="cke_dialog_ui_labeled_content"'+(a.controlStyle?' style="'+a.controlStyle+'"':"")+' role="presentation">',e.call(this,b,a),"</div>"):(d={type:"hbox",widths:a.widths,padding:0,children:[{type:"html",html:'<label class="cke_dialog_ui_labeled_label'+d+'" id="'+c.labelId+'" for="'+c.inputId+'"'+
(a.labelStyle?' style="'+a.labelStyle+'"':"")+">"+CKEDITOR.tools.htmlEncode(a.label)+"</span>"},{type:"html",html:'<span class="cke_dialog_ui_labeled_content"'+(a.controlStyle?' style="'+a.controlStyle+'"':"")+">"+e.call(this,b,a)+"</span>"}]},CKEDITOR.dialog._.uiElementBuilders.hbox.build(b,d,f));return f.join("")})}},textInput:function(b,a,d){if(!(3>arguments.length)){h.call(this,a);var e=this._.inputId=CKEDITOR.tools.getNextId()+"_textInput",c={"class":"cke_dialog_ui_input_"+a.type,id:e,type:a.type};
a.validate&&(this.validate=a.validate);a.maxLength&&(c.maxlength=a.maxLength);a.size&&(c.size=a.size);a.inputStyle&&(c.style=a.inputStyle);var f=this,i=!1;b.on("load",function(){f.getInputElement().on("keydown",function(a){a.data.getKeystroke()==13&&(i=true)});f.getInputElement().on("keyup",function(a){if(a.data.getKeystroke()==13&&i){b.getButton("ok")&&setTimeout(function(){b.getButton("ok").click()},0);i=false}},null,null,1E3)});CKEDITOR.ui.dialog.labeledElement.call(this,b,a,d,function(){var b=
['<div class="cke_dialog_ui_input_',a.type,'" role="presentation"'];a.width&&b.push('style="width:'+a.width+'" ');b.push("><input ");c["aria-labelledby"]=this._.labelId;this._.required&&(c["aria-required"]=this._.required);for(var f in c)b.push(f+'="'+c[f]+'" ');b.push(" /></div>");return b.join("")})}},textarea:function(b,a,d){if(!(3>arguments.length)){h.call(this,a);var e=this,c=this._.inputId=CKEDITOR.tools.getNextId()+"_textarea",f={};a.validate&&(this.validate=a.validate);f.rows=a.rows||5;f.cols=
a.cols||20;"undefined"!=typeof a.inputStyle&&(f.style=a.inputStyle);CKEDITOR.ui.dialog.labeledElement.call(this,b,a,d,function(){f["aria-labelledby"]=this._.labelId;this._.required&&(f["aria-required"]=this._.required);var a=['<div class="cke_dialog_ui_input_textarea" role="presentation"><textarea class="cke_dialog_ui_input_textarea" id="',c,'" '],b;for(b in f)a.push(b+'="'+CKEDITOR.tools.htmlEncode(f[b])+'" ');a.push(">",CKEDITOR.tools.htmlEncode(e._["default"]),"</textarea></div>");return a.join("")})}},
checkbox:function(b,a,d){if(!(3>arguments.length)){var e=h.call(this,a,{"default":!!a["default"]});a.validate&&(this.validate=a.validate);CKEDITOR.ui.dialog.uiElement.call(this,b,a,d,"span",null,null,function(){var c=CKEDITOR.tools.extend({},a,{id:a.id?a.id+"_checkbox":CKEDITOR.tools.getNextId()+"_checkbox"},true),f=[],d=CKEDITOR.tools.getNextId()+"_label",g={"class":"cke_dialog_ui_checkbox_input",type:"checkbox","aria-labelledby":d};p(c);if(a["default"])g.checked="checked";if(typeof c.inputStyle!=
"undefined")c.style=c.inputStyle;e.checkbox=new CKEDITOR.ui.dialog.uiElement(b,c,f,"input",null,g);f.push(' <label id="',d,'" for="',g.id,'"'+(a.labelStyle?' style="'+a.labelStyle+'"':"")+">",CKEDITOR.tools.htmlEncode(a.label),"</label>");return f.join("")})}},radio:function(b,a,d){if(!(3>arguments.length)){h.call(this,a);this._["default"]||(this._["default"]=this._.initValue=a.items[0][1]);a.validate&&(this.validate=a.valdiate);var e=[],c=this;CKEDITOR.ui.dialog.labeledElement.call(this,b,a,d,function(){for(var f=
[],d=[],g=a.id?a.id+"_radio":CKEDITOR.tools.getNextId()+"_radio",j=0;j<a.items.length;j++){var k=a.items[j],h=k[2]!==void 0?k[2]:k[0],l=k[1]!==void 0?k[1]:k[0],m=CKEDITOR.tools.getNextId()+"_radio_input",n=m+"_label",m=CKEDITOR.tools.extend({},a,{id:m,title:null,type:null},true),h=CKEDITOR.tools.extend({},m,{title:h},true),o={type:"radio","class":"cke_dialog_ui_radio_input",name:g,value:l,"aria-labelledby":n},q=[];if(c._["default"]==l)o.checked="checked";p(m);p(h);if(typeof m.inputStyle!="undefined")m.style=
m.inputStyle;e.push(new CKEDITOR.ui.dialog.uiElement(b,m,q,"input",null,o));q.push(" ");new CKEDITOR.ui.dialog.uiElement(b,h,q,"label",null,{id:n,"for":o.id},k[0]);f.push(q.join(""))}new CKEDITOR.ui.dialog.hbox(b,e,f,d);return d.join("")});this._.children=e}},button:function(b,a,d){if(arguments.length){"function"==typeof a&&(a=a(b.getParentEditor()));h.call(this,a,{disabled:a.disabled||!1});CKEDITOR.event.implementOn(this);var e=this;b.on("load",function(){var a=this.getElement();(function(){a.on("click",
e.click,e);a.on("keydown",function(a){a.data.getKeystroke()in{32:1}&&(e.click(),a.data.preventDefault())})})();a.unselectable()},this);var c=CKEDITOR.tools.extend({},a);delete c.style;var f=CKEDITOR.tools.getNextId()+"_label";CKEDITOR.ui.dialog.uiElement.call(this,b,c,d,"a",null,{style:a.style,href:"javascript:void(0)",title:a.label,hidefocus:"true","class":a["class"],role:"button","aria-labelledby":f},'<span id="'+f+'" class="cke_dialog_ui_button">'+CKEDITOR.tools.htmlEncode(a.label)+"</span>")}},
select:function(b,a,d){if(!(3>arguments.length)){var e=h.call(this,a);a.validate&&(this.validate=a.validate);e.inputId=CKEDITOR.tools.getNextId()+"_select";CKEDITOR.ui.dialog.labeledElement.call(this,b,a,d,function(){var c=CKEDITOR.tools.extend({},a,{id:a.id?a.id+"_select":CKEDITOR.tools.getNextId()+"_select"},true),d=[],i=[],g={id:e.inputId,"class":"cke_dialog_ui_input_select","aria-labelledby":this._.labelId};d.push('<div class="cke_dialog_ui_input_',a.type,'" role="presentation"');a.width&&d.push('style="width:'+
a.width+'" ');d.push(">");if(a.size!=void 0)g.size=a.size;if(a.multiple!=void 0)g.multiple=a.multiple;p(c);for(var j=0,k;j<a.items.length&&(k=a.items[j]);j++)i.push('<option value="',CKEDITOR.tools.htmlEncode(k[1]!==void 0?k[1]:k[0]).replace(/"/g,"&quot;"),'" /> ',CKEDITOR.tools.htmlEncode(k[0]));if(typeof c.inputStyle!="undefined")c.style=c.inputStyle;e.select=new CKEDITOR.ui.dialog.uiElement(b,c,d,"select",null,g,i.join(""));d.push("</div>");return d.join("")})}},file:function(b,a,d){if(!(3>arguments.length)){void 0===
a["default"]&&(a["default"]="");var e=CKEDITOR.tools.extend(h.call(this,a),{definition:a,buttons:[]});a.validate&&(this.validate=a.validate);b.on("load",function(){CKEDITOR.document.getById(e.frameId).getParent().addClass("cke_dialog_ui_input_file")});CKEDITOR.ui.dialog.labeledElement.call(this,b,a,d,function(){e.frameId=CKEDITOR.tools.getNextId()+"_fileInput";var b=CKEDITOR.env.isCustomDomain(),d=['<iframe frameborder="0" allowtransparency="0" class="cke_dialog_ui_input_file" role="presentation" id="',
e.frameId,'" title="',a.label,'" src="javascript:void('];d.push(b?"(function(){document.open();document.domain='"+document.domain+"';document.close();})()":"0");d.push(')"></iframe>');return d.join("")})}},fileButton:function(b,a,d){if(!(3>arguments.length)){h.call(this,a);var e=this;a.validate&&(this.validate=a.validate);var c=CKEDITOR.tools.extend({},a),f=c.onClick;c.className=(c.className?c.className+" ":"")+"cke_dialog_ui_button";c.onClick=function(c){var d=a["for"];if(!f||f.call(this,c)!==false){b.getContentElement(d[0],
d[1]).submit();this.disable()}};b.on("load",function(){b.getContentElement(a["for"][0],a["for"][1])._.buttons.push(e)});CKEDITOR.ui.dialog.button.call(this,b,c,d)}},html:function(){var b=/^\s*<[\w:]+\s+([^>]*)?>/,a=/^(\s*<[\w:]+(?:\s+[^>]*)?)((?:.|\r|\n)+)$/,d=/\/$/;return function(e,c,f){if(!(3>arguments.length)){var i=[],g=c.html;"<"!=g.charAt(0)&&(g="<span>"+g+"</span>");var j=c.focus;j&&(this.focus=function(){this.selectParentTab();"function"==typeof j&&j.call(this);this.fire("focus")},c.isFocusable&&
(this.isFocusable=this.isFocusable),this.keyboardFocusable=!0);CKEDITOR.ui.dialog.uiElement.call(this,e,c,i,"span",null,null,"");i=i.join("").match(b);g=g.match(a)||["","",""];d.test(g[1])&&(g[1]=g[1].slice(0,-1),g[2]="/"+g[2]);f.push([g[1]," ",i[1]||"",g[2]].join(""))}}}(),fieldset:function(b,a,d,e,c){var f=c.label;this._={children:a};CKEDITOR.ui.dialog.uiElement.call(this,b,c,e,"fieldset",null,null,function(){var a=[];f&&a.push("<legend"+(c.labelStyle?' style="'+c.labelStyle+'"':"")+">"+f+"</legend>");
for(var b=0;b<d.length;b++)a.push(d[b]);return a.join("")})}},!0);CKEDITOR.ui.dialog.html.prototype=new CKEDITOR.ui.dialog.uiElement;CKEDITOR.ui.dialog.labeledElement.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setLabel:function(b){var a=CKEDITOR.document.getById(this._.labelId);1>a.getChildCount()?(new CKEDITOR.dom.text(b,CKEDITOR.document)).appendTo(a):a.getChild(0).$.nodeValue=b;return this},getLabel:function(){var b=CKEDITOR.document.getById(this._.labelId);return!b||1>b.getChildCount()?
"":b.getChild(0).getText()},eventProcessors:o},!0);CKEDITOR.ui.dialog.button.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{click:function(){return!this._.disabled?this.fire("click",{dialog:this._.dialog}):!1},enable:function(){this._.disabled=!1;var b=this.getElement();b&&b.removeClass("cke_disabled")},disable:function(){this._.disabled=!0;this.getElement().addClass("cke_disabled")},isVisible:function(){return this.getElement().getFirst().isVisible()},isEnabled:function(){return!this._.disabled},
eventProcessors:CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onClick:function(b,a){this.on("click",function(){a.apply(this,arguments)})}},!0),accessKeyUp:function(){this.click()},accessKeyDown:function(){this.focus()},keyboardFocusable:!0},!0);CKEDITOR.ui.dialog.textInput.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return CKEDITOR.document.getById(this._.inputId)},focus:function(){var b=this.selectParentTab();
setTimeout(function(){var a=b.getInputElement();a&&a.$.focus()},0)},select:function(){var b=this.selectParentTab();setTimeout(function(){var a=b.getInputElement();a&&(a.$.focus(),a.$.select())},0)},accessKeyUp:function(){this.select()},setValue:function(b){!b&&(b="");return CKEDITOR.ui.dialog.uiElement.prototype.setValue.apply(this,arguments)},keyboardFocusable:!0},n,!0);CKEDITOR.ui.dialog.textarea.prototype=new CKEDITOR.ui.dialog.textInput;CKEDITOR.ui.dialog.select.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,
{getInputElement:function(){return this._.select.getElement()},add:function(b,a,d){var e=new CKEDITOR.dom.element("option",this.getDialog().getParentEditor().document),c=this.getInputElement().$;e.$.text=b;e.$.value=void 0===a||null===a?b:a;void 0===d||null===d?CKEDITOR.env.ie?c.add(e.$):c.add(e.$,null):c.add(e.$,d);return this},remove:function(b){this.getInputElement().$.remove(b);return this},clear:function(){for(var b=this.getInputElement().$;0<b.length;)b.remove(0);return this},keyboardFocusable:!0},
n,!0);CKEDITOR.ui.dialog.checkbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getInputElement:function(){return this._.checkbox.getElement()},setValue:function(b,a){this.getInputElement().$.checked=b;!a&&this.fire("change",{value:b})},getValue:function(){return this.getInputElement().$.checked},accessKeyUp:function(){this.setValue(!this.getValue())},eventProcessors:{onChange:function(b,a){if(!CKEDITOR.env.ie||8<CKEDITOR.env.version)return o.onChange.apply(this,arguments);b.on("load",
function(){var a=this._.checkbox.getElement();a.on("propertychange",function(b){b=b.data.$;"checked"==b.propertyName&&this.fire("change",{value:a.$.checked})},this)},this);this.on("change",a);return null}},keyboardFocusable:!0},n,!0);CKEDITOR.ui.dialog.radio.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setValue:function(b,a){for(var d=this._.children,e,c=0;c<d.length&&(e=d[c]);c++)e.getElement().$.checked=e.getValue()==b;!a&&this.fire("change",{value:b})},getValue:function(){for(var b=
this._.children,a=0;a<b.length;a++)if(b[a].getElement().$.checked)return b[a].getValue();return null},accessKeyUp:function(){var b=this._.children,a;for(a=0;a<b.length;a++)if(b[a].getElement().$.checked){b[a].getElement().focus();return}b[0].getElement().focus()},eventProcessors:{onChange:function(b,a){if(CKEDITOR.env.ie)b.on("load",function(){for(var a=this._.children,b=this,c=0;c<a.length;c++)a[c].getElement().on("propertychange",function(a){a=a.data.$;"checked"==a.propertyName&&this.$.checked&&
b.fire("change",{value:this.getAttribute("value")})})},this),this.on("change",a);else return o.onChange.apply(this,arguments);return null}},keyboardFocusable:!0},n,!0);CKEDITOR.ui.dialog.file.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,n,{getInputElement:function(){var b=CKEDITOR.document.getById(this._.frameId).getFrameDocument();return 0<b.$.forms.length?new CKEDITOR.dom.element(b.$.forms[0].elements[0]):this.getElement()},submit:function(){this.getInputElement().getParent().$.submit();
return this},getAction:function(){return this.getInputElement().getParent().$.action},registerEvents:function(b){var a=/^on([A-Z]\w+)/,d,e=function(a,b,c,d){a.on("formLoaded",function(){a.getInputElement().on(c,d,a)})},c;for(c in b)if(d=c.match(a))this.eventProcessors[c]?this.eventProcessors[c].call(this,this._.dialog,b[c]):e(this,this._.dialog,d[1].toLowerCase(),b[c]);return this},reset:function(){function b(){d.$.open();CKEDITOR.env.isCustomDomain()&&(d.$.domain=document.domain);var b="";e.size&&
(b=e.size-(CKEDITOR.env.ie?7:0));var h=a.frameId+"_input";d.$.write(['<html dir="'+g+'" lang="'+j+'"><head><title></title></head><body style="margin: 0; overflow: hidden; background: transparent;">','<form enctype="multipart/form-data" method="POST" dir="'+g+'" lang="'+j+'" action="',CKEDITOR.tools.htmlEncode(e.action),'"><label id="',a.labelId,'" for="',h,'" style="display:none">',CKEDITOR.tools.htmlEncode(e.label),'</label><input id="',h,'" aria-labelledby="',a.labelId,'" type="file" name="',CKEDITOR.tools.htmlEncode(e.id||
"cke_upload"),'" size="',CKEDITOR.tools.htmlEncode(0<b?b:""),'" /></form></body></html>',"<script>window.parent.CKEDITOR.tools.callFunction("+f+");","window.onbeforeunload = function() {window.parent.CKEDITOR.tools.callFunction("+i+")}<\/script>"].join(""));d.$.close();for(b=0;b<c.length;b++)c[b].enable()}var a=this._,d=CKEDITOR.document.getById(a.frameId).getFrameDocument(),e=a.definition,c=a.buttons,f=this.formLoadedNumber,i=this.formUnloadNumber,g=a.dialog._.editor.lang.dir,j=a.dialog._.editor.langCode;
f||(f=this.formLoadedNumber=CKEDITOR.tools.addFunction(function(){this.fire("formLoaded")},this),i=this.formUnloadNumber=CKEDITOR.tools.addFunction(function(){this.getInputElement().clearCustomData()},this),this.getDialog()._.editor.on("destroy",function(){CKEDITOR.tools.removeFunction(f);CKEDITOR.tools.removeFunction(i)}));CKEDITOR.env.gecko?setTimeout(b,500):b()},getValue:function(){return this.getInputElement().$.value||""},setInitValue:function(){this._.initValue=""},eventProcessors:{onChange:function(b,
a){this._.domOnChangeRegistered||(this.on("formLoaded",function(){this.getInputElement().on("change",function(){this.fire("change",{value:this.getValue()})},this)},this),this._.domOnChangeRegistered=!0);this.on("change",a)}},keyboardFocusable:!0},!0);CKEDITOR.ui.dialog.fileButton.prototype=new CKEDITOR.ui.dialog.button;CKEDITOR.ui.dialog.fieldset.prototype=CKEDITOR.tools.clone(CKEDITOR.ui.dialog.hbox.prototype);CKEDITOR.dialog.addUIElement("text",r);CKEDITOR.dialog.addUIElement("password",r);CKEDITOR.dialog.addUIElement("textarea",
l);CKEDITOR.dialog.addUIElement("checkbox",l);CKEDITOR.dialog.addUIElement("radio",l);CKEDITOR.dialog.addUIElement("button",l);CKEDITOR.dialog.addUIElement("select",l);CKEDITOR.dialog.addUIElement("file",l);CKEDITOR.dialog.addUIElement("fileButton",l);CKEDITOR.dialog.addUIElement("html",l);CKEDITOR.dialog.addUIElement("fieldset",{build:function(b,a,d){for(var e=a.children,c,f=[],i=[],g=0;g<e.length&&(c=e[g]);g++){var h=[];f.push(h);i.push(CKEDITOR.dialog._.uiElementBuilders[c.type].build(b,c,h))}return new CKEDITOR.ui.dialog[a.type](b,
i,f,d,a)}})}});CKEDITOR.DIALOG_RESIZE_NONE=0;CKEDITOR.DIALOG_RESIZE_WIDTH=1;CKEDITOR.DIALOG_RESIZE_HEIGHT=2;CKEDITOR.DIALOG_RESIZE_BOTH=3;
(function(){function p(){for(var a=this._.tabIdList.length,b=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId)+a,c=b-1;c>b-a;c--)if(this._.tabs[this._.tabIdList[c%a]][0].$.offsetHeight)return this._.tabIdList[c%a];return null}function u(){for(var a=this._.tabIdList.length,b=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId),c=b+1;c<b+a;c++)if(this._.tabs[this._.tabIdList[c%a]][0].$.offsetHeight)return this._.tabIdList[c%a];return null}function q(a,b){for(var c=a.$.getElementsByTagName("input"),
e=0,d=c.length;e<d;e++){var g=new CKEDITOR.dom.element(c[e]);"text"==g.getAttribute("type").toLowerCase()&&(b?(g.setAttribute("value",g.getCustomData("fake_value")||""),g.removeCustomData("fake_value")):(g.setCustomData("fake_value",g.getAttribute("value")),g.setAttribute("value","")))}}function P(a,b){var c=this.getInputElement();c&&(a?c.removeAttribute("aria-invalid"):c.setAttribute("aria-invalid",!0));a||(this.select?this.select():this.focus());b&&alert(b);this.fire("validated",{valid:a,msg:b})}
function Q(){var a=this.getInputElement();a&&a.removeAttribute("aria-invalid")}function R(a){var a=CKEDITOR.dom.element.createFromHtml(CKEDITOR.addTemplate("dialog",S).output({id:CKEDITOR.tools.getNextNumber(),editorId:a.id,langDir:a.lang.dir,langCode:a.langCode,editorDialogClass:"cke_editor_"+a.name.replace(/\./g,"\\.")+"_dialog",closeTitle:a.lang.common.close})),b=a.getChild([0,0,0,0,0]),c=b.getChild(0),e=b.getChild(1);if(CKEDITOR.env.ie&&!CKEDITOR.env.ie6Compat){var d=CKEDITOR.env.isCustomDomain(),
d="javascript:void(function(){"+encodeURIComponent("document.open();"+(d?'document.domain="'+document.domain+'";':"")+"document.close();")+"}())";CKEDITOR.dom.element.createFromHtml('<iframe frameBorder="0" class="cke_iframe_shim" src="'+d+'" tabIndex="-1"></iframe>').appendTo(b.getParent())}c.unselectable();e.unselectable();return{element:a,parts:{dialog:a.getChild(0),title:c,close:e,tabs:b.getChild(2),contents:b.getChild([3,0,0,0]),footer:b.getChild([3,0,1,0])}}}function H(a,b,c){this.element=b;
this.focusIndex=c;this.tabIndex=0;this.isFocusable=function(){return!b.getAttribute("disabled")&&b.isVisible()};this.focus=function(){a._.currentFocusIndex=this.focusIndex;this.element.focus()};b.on("keydown",function(a){a.data.getKeystroke()in{32:1,13:1}&&this.fire("click")});b.on("focus",function(){this.fire("mouseover")});b.on("blur",function(){this.fire("mouseout")})}function T(a){function b(){a.layout()}var c=CKEDITOR.document.getWindow();c.on("resize",b);a.on("hide",function(){c.removeListener("resize",
b)})}function I(a,b){this._={dialog:a};CKEDITOR.tools.extend(this,b)}function U(a){function b(b){var c=a.getSize(),h=CKEDITOR.document.getWindow().getViewPaneSize(),o=b.data.$.screenX,i=b.data.$.screenY,n=o-e.x,l=i-e.y;e={x:o,y:i};d.x+=n;d.y+=l;a.move(d.x+k[3]<f?-k[3]:d.x-k[1]>h.width-c.width-f?h.width-c.width+("rtl"==g.lang.dir?0:k[1]):d.x,d.y+k[0]<f?-k[0]:d.y-k[2]>h.height-c.height-f?h.height-c.height+k[2]:d.y,1);b.data.preventDefault()}function c(){CKEDITOR.document.removeListener("mousemove",
b);CKEDITOR.document.removeListener("mouseup",c);if(CKEDITOR.env.ie6Compat){var a=r.getChild(0).getFrameDocument();a.removeListener("mousemove",b);a.removeListener("mouseup",c)}}var e=null,d=null;a.getElement().getFirst();var g=a.getParentEditor(),f=g.config.dialog_magnetDistance,k=CKEDITOR.skin.margins||[0,0,0,0];"undefined"==typeof f&&(f=20);a.parts.title.on("mousedown",function(f){e={x:f.data.$.screenX,y:f.data.$.screenY};CKEDITOR.document.on("mousemove",b);CKEDITOR.document.on("mouseup",c);d=
a.getPosition();if(CKEDITOR.env.ie6Compat){var g=r.getChild(0).getFrameDocument();g.on("mousemove",b);g.on("mouseup",c)}f.data.preventDefault()},a)}function V(a){var b,c;function e(d){var e="rtl"==k.lang.dir,i=o.width,D=o.height,E=i+(d.data.$.screenX-b)*(e?-1:1)*(a._.moved?1:2),n=D+(d.data.$.screenY-c)*(a._.moved?1:2),x=a._.element.getFirst(),x=e&&x.getComputedStyle("right"),y=a.getPosition();y.y+n>h.height&&(n=h.height-y.y);if((e?x:y.x)+E>h.width)E=h.width-(e?x:y.x);if(f==CKEDITOR.DIALOG_RESIZE_WIDTH||
f==CKEDITOR.DIALOG_RESIZE_BOTH)i=Math.max(g.minWidth||0,E-m);if(f==CKEDITOR.DIALOG_RESIZE_HEIGHT||f==CKEDITOR.DIALOG_RESIZE_BOTH)D=Math.max(g.minHeight||0,n-j);a.resize(i,D);a._.moved||a.layout();d.data.preventDefault()}function d(){CKEDITOR.document.removeListener("mouseup",d);CKEDITOR.document.removeListener("mousemove",e);i&&(i.remove(),i=null);if(CKEDITOR.env.ie6Compat){var a=r.getChild(0).getFrameDocument();a.removeListener("mouseup",d);a.removeListener("mousemove",e)}}var g=a.definition,f=g.resizable;
if(f!=CKEDITOR.DIALOG_RESIZE_NONE){var k=a.getParentEditor(),m,j,h,o,i,n=CKEDITOR.tools.addFunction(function(f){o=a.getSize();var g=a.parts.contents;g.$.getElementsByTagName("iframe").length&&(i=CKEDITOR.dom.element.createFromHtml('<div class="cke_dialog_resize_cover" style="height: 100%; position: absolute; width: 100%;"></div>'),g.append(i));j=o.height-a.parts.contents.getSize("height",!(CKEDITOR.env.gecko||CKEDITOR.env.opera||CKEDITOR.env.ie&&CKEDITOR.env.quirks));m=o.width-a.parts.contents.getSize("width",
1);b=f.screenX;c=f.screenY;h=CKEDITOR.document.getWindow().getViewPaneSize();CKEDITOR.document.on("mousemove",e);CKEDITOR.document.on("mouseup",d);CKEDITOR.env.ie6Compat&&(g=r.getChild(0).getFrameDocument(),g.on("mousemove",e),g.on("mouseup",d));f.preventDefault&&f.preventDefault()});a.on("load",function(){var b="";f==CKEDITOR.DIALOG_RESIZE_WIDTH?b=" cke_resizer_horizontal":f==CKEDITOR.DIALOG_RESIZE_HEIGHT&&(b=" cke_resizer_vertical");b=CKEDITOR.dom.element.createFromHtml('<div class="cke_resizer'+
b+" cke_resizer_"+k.lang.dir+'" title="'+CKEDITOR.tools.htmlEncode(k.lang.common.resize)+'" onmousedown="CKEDITOR.tools.callFunction('+n+', event )">'+("ltr"==k.lang.dir?"◢":"◣")+"</div>");a.parts.footer.append(b,1)});k.on("destroy",function(){CKEDITOR.tools.removeFunction(n)})}}function F(a){a.data.preventDefault(1)}function J(a){var b=CKEDITOR.document.getWindow(),c=a.config,e=c.dialog_backgroundCoverColor||"white",d=c.dialog_backgroundCoverOpacity,g=c.baseFloatZIndex,c=CKEDITOR.tools.genKey(e,
d,g),f=w[c];if(f)f.show();else{g=['<div tabIndex="-1" style="position: ',CKEDITOR.env.ie6Compat?"absolute":"fixed","; z-index: ",g,"; top: 0px; left: 0px; ",!CKEDITOR.env.ie6Compat?"background-color: "+e:"",'" class="cke_dialog_background_cover">'];if(CKEDITOR.env.ie6Compat){var k=CKEDITOR.env.isCustomDomain(),e="<html><body style=\\'background-color:"+e+";\\'></body></html>";g.push('<iframe hidefocus="true" frameborder="0" id="cke_dialog_background_iframe" src="javascript:');g.push("void((function(){document.open();"+
(k?"document.domain='"+document.domain+"';":"")+"document.write( '"+e+"' );document.close();})())");g.push('" style="position:absolute;left:0;top:0;width:100%;height: 100%;filter: progid:DXImageTransform.Microsoft.Alpha(opacity=0)"></iframe>')}g.push("</div>");f=CKEDITOR.dom.element.createFromHtml(g.join(""));f.setOpacity(void 0!=d?d:0.5);f.on("keydown",F);f.on("keypress",F);f.on("keyup",F);f.appendTo(CKEDITOR.document.getBody());w[c]=f}a.focusManager.add(f);r=f;var a=function(){var a=b.getViewPaneSize();
f.setStyles({width:a.width+"px",height:a.height+"px"})},m=function(){var a=b.getScrollPosition(),c=CKEDITOR.dialog._.currentTop;f.setStyles({left:a.x+"px",top:a.y+"px"});if(c){do a=c.getPosition(),c.move(a.x,a.y);while(c=c._.parentDialog)}};G=a;b.on("resize",a);a();(!CKEDITOR.env.mac||!CKEDITOR.env.webkit)&&f.focus();if(CKEDITOR.env.ie6Compat){var j=function(){m();arguments.callee.prevScrollHandler.apply(this,arguments)};b.$.setTimeout(function(){j.prevScrollHandler=window.onscroll||function(){};
window.onscroll=j},0);m()}}function K(a){r&&(a.focusManager.remove(r),a=CKEDITOR.document.getWindow(),r.hide(),a.removeListener("resize",G),CKEDITOR.env.ie6Compat&&a.$.setTimeout(function(){window.onscroll=window.onscroll&&window.onscroll.prevScrollHandler||null},0),G=null)}var s=CKEDITOR.tools.cssLength,S='<div class="cke cke_reset_all {editorId} {editorDialogClass}" dir="{langDir}" lang="{langCode}" role="application"><table class="cke_dialog '+CKEDITOR.env.cssClass+' cke_{langDir}" aria-labelledby="cke_dialog_title_{id}" style="position:absolute" role="dialog"><tr><td role="presentation"><div class="cke_dialog_body" role="presentation"><div id="cke_dialog_title_{id}" class="cke_dialog_title" role="presentation"></div><a id="cke_dialog_close_button_{id}" class="cke_dialog_close_button" href="javascript:void(0)" title="{closeTitle}" role="button"><span class="cke_label">X</span></a><div id="cke_dialog_tabs_{id}" class="cke_dialog_tabs" role="tablist"></div><table class="cke_dialog_contents" role="presentation"><tr><td id="cke_dialog_contents_{id}" class="cke_dialog_contents_body" role="presentation"></td></tr><tr><td id="cke_dialog_footer_{id}" class="cke_dialog_footer" role="presentation"></td></tr></table></div></td></tr></table></div>';
CKEDITOR.dialog=function(a,b){function c(){var a=l._.focusList;a.sort(function(a,b){return a.tabIndex!=b.tabIndex?b.tabIndex-a.tabIndex:a.focusIndex-b.focusIndex});for(var b=a.length,c=0;c<b;c++)a[c].focusIndex=c}function e(a){var b=l._.focusList,a=a||0;if(!(1>b.length)){var c=l._.currentFocusIndex;try{b[c].getInputElement().$.blur()}catch(d){}for(var f=c=(c+a+b.length)%b.length;a&&!b[f].isFocusable()&&!(f=(f+a+b.length)%b.length,f==c););b[f].focus();"text"==b[f].type&&b[f].select()}}function d(b){if(l==
CKEDITOR.dialog._.currentTop){var c=b.data.getKeystroke(),f="rtl"==a.lang.dir;o=i=0;if(9==c||c==CKEDITOR.SHIFT+9)c=c==CKEDITOR.SHIFT+9,l._.tabBarMode?(c=c?p.call(l):u.call(l),l.selectPage(c),l._.tabs[c][0].focus()):e(c?-1:1),o=1;else if(c==CKEDITOR.ALT+121&&!l._.tabBarMode&&1<l.getPageCount())l._.tabBarMode=!0,l._.tabs[l._.currentTabId][0].focus(),o=1;else if((37==c||39==c)&&l._.tabBarMode)c=c==(f?39:37)?p.call(l):u.call(l),l.selectPage(c),l._.tabs[c][0].focus(),o=1;else if((13==c||32==c)&&l._.tabBarMode)this.selectPage(this._.currentTabId),
this._.tabBarMode=!1,this._.currentFocusIndex=-1,e(1),o=1;else if(13==c){c=b.data.getTarget();if(!c.is("a","button","select","textarea")&&(!c.is("input")||"button"!=c.$.type))(c=this.getButton("ok"))&&CKEDITOR.tools.setTimeout(c.click,0,c),o=1;i=1}else if(27==c)(c=this.getButton("cancel"))?CKEDITOR.tools.setTimeout(c.click,0,c):!1!==this.fire("cancel",{hide:!0}).hide&&this.hide(),i=1;else return;g(b)}}function g(a){o?a.data.preventDefault(1):i&&a.data.stopPropagation()}var f=CKEDITOR.dialog._.dialogDefinitions[b],
k=CKEDITOR.tools.clone(W),m=a.config.dialog_buttonsOrder||"OS",j=a.lang.dir,h={},o,i;("OS"==m&&CKEDITOR.env.mac||"rtl"==m&&"ltr"==j||"ltr"==m&&"rtl"==j)&&k.buttons.reverse();f=CKEDITOR.tools.extend(f(a),k);f=CKEDITOR.tools.clone(f);f=new L(this,f);k=R(a);this._={editor:a,element:k.element,name:b,contentSize:{width:0,height:0},size:{width:0,height:0},contents:{},buttons:{},accessKeyMap:{},tabs:{},tabIdList:[],currentTabId:null,currentTabIndex:null,pageCount:0,lastTab:null,tabBarMode:!1,focusList:[],
currentFocusIndex:0,hasFocus:!1};this.parts=k.parts;CKEDITOR.tools.setTimeout(function(){a.fire("ariaWidget",this.parts.contents)},0,this);k={position:CKEDITOR.env.ie6Compat?"absolute":"fixed",top:0,visibility:"hidden"};k["rtl"==j?"right":"left"]=0;this.parts.dialog.setStyles(k);CKEDITOR.event.call(this);this.definition=f=CKEDITOR.fire("dialogDefinition",{name:b,definition:f},a).definition;if(!("removeDialogTabs"in a._)&&a.config.removeDialogTabs){k=a.config.removeDialogTabs.split(";");for(j=0;j<
k.length;j++)if(m=k[j].split(":"),2==m.length){var n=m[0];h[n]||(h[n]=[]);h[n].push(m[1])}a._.removeDialogTabs=h}if(a._.removeDialogTabs&&(h=a._.removeDialogTabs[b]))for(j=0;j<h.length;j++)f.removeContents(h[j]);if(f.onLoad)this.on("load",f.onLoad);if(f.onShow)this.on("show",f.onShow);if(f.onHide)this.on("hide",f.onHide);if(f.onOk)this.on("ok",function(b){a.fire("saveSnapshot");setTimeout(function(){a.fire("saveSnapshot")},0);!1===f.onOk.call(this,b)&&(b.data.hide=!1)});if(f.onCancel)this.on("cancel",
function(a){!1===f.onCancel.call(this,a)&&(a.data.hide=!1)});var l=this,C=function(a){var b=l._.contents,c=!1,f;for(f in b)for(var d in b[f])if(c=a.call(this,b[f][d]))return};this.on("ok",function(a){C(function(b){if(b.validate){var c=b.validate(this),f="string"==typeof c||!1===c;f&&(a.data.hide=!1,a.stop());P.call(b,!f,"string"==typeof c?c:void 0);return f}})},this,null,0);this.on("cancel",function(b){C(function(c){if(c.isChanged())return confirm(a.lang.common.confirmCancel)||(b.data.hide=!1),!0})},
this,null,0);this.parts.close.on("click",function(a){!1!==this.fire("cancel",{hide:!0}).hide&&this.hide();a.data.preventDefault()},this);this.changeFocus=e;var v=this._.element;a.focusManager.add(v,1);this.on("show",function(){v.on("keydown",d,this);if(CKEDITOR.env.opera||CKEDITOR.env.gecko)v.on("keypress",g,this)});this.on("hide",function(){v.removeListener("keydown",d);(CKEDITOR.env.opera||CKEDITOR.env.gecko)&&v.removeListener("keypress",g);C(function(a){Q.apply(a)})});this.on("iframeAdded",function(a){(new CKEDITOR.dom.document(a.data.iframe.$.contentWindow.document)).on("keydown",
d,this,null,0)});this.on("show",function(){c();if(a.config.dialog_startupFocusTab&&1<l._.pageCount)l._.tabBarMode=!0,l._.tabs[l._.currentTabId][0].focus();else if(!this._.hasFocus)if(this._.currentFocusIndex=-1,f.onFocus){var b=f.onFocus.call(this);b&&b.focus()}else e(1)},this,null,4294967295);if(CKEDITOR.env.ie6Compat)this.on("load",function(){var a=this.getElement(),b=a.getFirst();b.remove();b.appendTo(a)},this);U(this);V(this);(new CKEDITOR.dom.text(f.title,CKEDITOR.document)).appendTo(this.parts.title);
for(j=0;j<f.contents.length;j++)(h=f.contents[j])&&this.addPage(h);this.parts.tabs.on("click",function(a){var b=a.data.getTarget();b.hasClass("cke_dialog_tab")&&(b=b.$.id,this.selectPage(b.substring(4,b.lastIndexOf("_"))),this._.tabBarMode&&(this._.tabBarMode=!1,this._.currentFocusIndex=-1,e(1)),a.data.preventDefault())},this);j=[];h=CKEDITOR.dialog._.uiElementBuilders.hbox.build(this,{type:"hbox",className:"cke_dialog_footer_buttons",widths:[],children:f.buttons},j).getChild();this.parts.footer.setHtml(j.join(""));
for(j=0;j<h.length;j++)this._.buttons[h[j].id]=h[j]};CKEDITOR.dialog.prototype={destroy:function(){this.hide();this._.element.remove()},resize:function(){return function(a,b){if(!this._.contentSize||!(this._.contentSize.width==a&&this._.contentSize.height==b))CKEDITOR.dialog.fire("resize",{dialog:this,width:a,height:b},this._.editor),this.fire("resize",{width:a,height:b},this._.editor),this.parts.contents.setStyles({width:a+"px",height:b+"px"}),"rtl"==this._.editor.lang.dir&&this._.position&&(this._.position.x=
CKEDITOR.document.getWindow().getViewPaneSize().width-this._.contentSize.width-parseInt(this._.element.getFirst().getStyle("right"),10)),this._.contentSize={width:a,height:b}}}(),getSize:function(){var a=this._.element.getFirst();return{width:a.$.offsetWidth||0,height:a.$.offsetHeight||0}},move:function(a,b,c){var e=this._.element.getFirst(),d="rtl"==this._.editor.lang.dir,g="fixed"==e.getComputedStyle("position");CKEDITOR.env.ie&&e.setStyle("zoom","100%");if(!g||!this._.position||!(this._.position.x==
a&&this._.position.y==b))this._.position={x:a,y:b},g||(g=CKEDITOR.document.getWindow().getScrollPosition(),a+=g.x,b+=g.y),d&&(g=this.getSize(),a=CKEDITOR.document.getWindow().getViewPaneSize().width-g.width-a),b={top:(0<b?b:0)+"px"},b[d?"right":"left"]=(0<a?a:0)+"px",e.setStyles(b),c&&(this._.moved=1)},getPosition:function(){return CKEDITOR.tools.extend({},this._.position)},show:function(){var a=this._.element,b=this.definition;!a.getParent()||!a.getParent().equals(CKEDITOR.document.getBody())?a.appendTo(CKEDITOR.document.getBody()):
a.setStyle("display","block");if(CKEDITOR.env.gecko&&10900>CKEDITOR.env.version){var c=this.parts.dialog;c.setStyle("position","absolute");setTimeout(function(){c.setStyle("position","fixed")},0)}this.resize(this._.contentSize&&this._.contentSize.width||b.width||b.minWidth,this._.contentSize&&this._.contentSize.height||b.height||b.minHeight);this.reset();this.selectPage(this.definition.contents[0].id);null===CKEDITOR.dialog._.currentZIndex&&(CKEDITOR.dialog._.currentZIndex=this._.editor.config.baseFloatZIndex);
this._.element.getFirst().setStyle("z-index",CKEDITOR.dialog._.currentZIndex+=10);null===CKEDITOR.dialog._.currentTop?(CKEDITOR.dialog._.currentTop=this,this._.parentDialog=null,J(this._.editor)):(this._.parentDialog=CKEDITOR.dialog._.currentTop,this._.parentDialog.getElement().getFirst().$.style.zIndex-=Math.floor(this._.editor.config.baseFloatZIndex/2),CKEDITOR.dialog._.currentTop=this);a.on("keydown",M);a.on(CKEDITOR.env.opera?"keypress":"keyup",N);this._.hasFocus=!1;CKEDITOR.tools.setTimeout(function(){this.layout();
T(this);this.parts.dialog.setStyle("visibility","");this.fireOnce("load",{});CKEDITOR.ui.fire("ready",this);this.fire("show",{});this._.editor.fire("dialogShow",this);this._.parentDialog||this._.editor.focusManager.lock();this.foreach(function(a){a.setInitValue&&a.setInitValue()})},100,this)},layout:function(){var a=this.parts.dialog,b=this.getSize(),c=CKEDITOR.document.getWindow().getViewPaneSize(),e=(c.width-b.width)/2,d=(c.height-b.height)/2;CKEDITOR.env.ie6Compat||(b.height+(0<d?d:0)>c.height||
b.width+(0<e?e:0)>c.width?a.setStyle("position","absolute"):a.setStyle("position","fixed"));this.move(this._.moved?this._.position.x:e,this._.moved?this._.position.y:d)},foreach:function(a){for(var b in this._.contents)for(var c in this._.contents[b])a.call(this,this._.contents[b][c]);return this},reset:function(){var a=function(a){a.reset&&a.reset(1)};return function(){this.foreach(a);return this}}(),setupContent:function(){var a=arguments;this.foreach(function(b){b.setup&&b.setup.apply(b,a)})},
commitContent:function(){var a=arguments;this.foreach(function(b){CKEDITOR.env.ie&&this._.currentFocusIndex==b.focusIndex&&b.getInputElement().$.blur();b.commit&&b.commit.apply(b,a)})},hide:function(){if(this.parts.dialog.isVisible()){this.fire("hide",{});this._.editor.fire("dialogHide",this);this.selectPage(this._.tabIdList[0]);var a=this._.element;a.setStyle("display","none");this.parts.dialog.setStyle("visibility","hidden");for(X(this);CKEDITOR.dialog._.currentTop!=this;)CKEDITOR.dialog._.currentTop.hide();
if(this._.parentDialog){var b=this._.parentDialog.getElement().getFirst();b.setStyle("z-index",parseInt(b.$.style.zIndex,10)+Math.floor(this._.editor.config.baseFloatZIndex/2))}else K(this._.editor);if(CKEDITOR.dialog._.currentTop=this._.parentDialog)CKEDITOR.dialog._.currentZIndex-=10;else{CKEDITOR.dialog._.currentZIndex=null;a.removeListener("keydown",M);a.removeListener(CKEDITOR.env.opera?"keypress":"keyup",N);var c=this._.editor;c.focus();setTimeout(function(){c.focusManager.unlock()},0)}delete this._.parentDialog;
this.foreach(function(a){a.resetInitValue&&a.resetInitValue()})}},addPage:function(a){var b=[],c=a.label?' title="'+CKEDITOR.tools.htmlEncode(a.label)+'"':"",e=CKEDITOR.dialog._.uiElementBuilders.vbox.build(this,{type:"vbox",className:"cke_dialog_page_contents",children:a.elements,expand:!!a.expand,padding:a.padding,style:a.style||"width: 100%;"},b),b=CKEDITOR.dom.element.createFromHtml(b.join(""));b.setAttribute("role","tabpanel");var d=CKEDITOR.env,g="cke_"+a.id+"_"+CKEDITOR.tools.getNextNumber(),
c=CKEDITOR.dom.element.createFromHtml(['<a class="cke_dialog_tab"',0<this._.pageCount?" cke_last":"cke_first",c,a.hidden?' style="display:none"':"",' id="',g,'"',d.gecko&&10900<=d.version&&!d.hc?"":' href="javascript:void(0)"',' tabIndex="-1" hidefocus="true" role="tab">',a.label,"</a>"].join(""));b.setAttribute("aria-labelledby",g);this._.tabs[a.id]=[c,b];this._.tabIdList.push(a.id);!a.hidden&&this._.pageCount++;this._.lastTab=c;this.updateStyle();g=this._.contents[a.id]={};for(d=e.getChild();e=
d.shift();)g[e.id]=e,"function"==typeof e.getChild&&d.push.apply(d,e.getChild());b.setAttribute("name",a.id);b.appendTo(this.parts.contents);c.unselectable();this.parts.tabs.append(c);a.accessKey&&(O(this,this,"CTRL+"+a.accessKey,Y,Z),this._.accessKeyMap["CTRL+"+a.accessKey]=a.id)},selectPage:function(a){if(this._.currentTabId!=a&&!0!==this.fire("selectPage",{page:a,currentPage:this._.currentTabId})){for(var b in this._.tabs){var c=this._.tabs[b][0],e=this._.tabs[b][1];b!=a&&(c.removeClass("cke_dialog_tab_selected"),
e.hide());e.setAttribute("aria-hidden",b!=a)}var d=this._.tabs[a];d[0].addClass("cke_dialog_tab_selected");CKEDITOR.env.ie6Compat||CKEDITOR.env.ie7Compat?(q(d[1]),d[1].show(),setTimeout(function(){q(d[1],1)},0)):d[1].show();this._.currentTabId=a;this._.currentTabIndex=CKEDITOR.tools.indexOf(this._.tabIdList,a)}},updateStyle:function(){this.parts.dialog[(1===this._.pageCount?"add":"remove")+"Class"]("cke_single_page")},hidePage:function(a){var b=this._.tabs[a]&&this._.tabs[a][0];b&&(1!=this._.pageCount&&
b.isVisible())&&(a==this._.currentTabId&&this.selectPage(p.call(this)),b.hide(),this._.pageCount--,this.updateStyle())},showPage:function(a){if(a=this._.tabs[a]&&this._.tabs[a][0])a.show(),this._.pageCount++,this.updateStyle()},getElement:function(){return this._.element},getName:function(){return this._.name},getContentElement:function(a,b){var c=this._.contents[a];return c&&c[b]},getValueOf:function(a,b){return this.getContentElement(a,b).getValue()},setValueOf:function(a,b,c){return this.getContentElement(a,
b).setValue(c)},getButton:function(a){return this._.buttons[a]},click:function(a){return this._.buttons[a].click()},disableButton:function(a){return this._.buttons[a].disable()},enableButton:function(a){return this._.buttons[a].enable()},getPageCount:function(){return this._.pageCount},getParentEditor:function(){return this._.editor},getSelectedElement:function(){return this.getParentEditor().getSelection().getSelectedElement()},addFocusable:function(a,b){if("undefined"==typeof b)b=this._.focusList.length,
this._.focusList.push(new H(this,a,b));else{this._.focusList.splice(b,0,new H(this,a,b));for(var c=b+1;c<this._.focusList.length;c++)this._.focusList[c].focusIndex++}}};CKEDITOR.tools.extend(CKEDITOR.dialog,{add:function(a,b){if(!this._.dialogDefinitions[a]||"function"==typeof b)this._.dialogDefinitions[a]=b},exists:function(a){return!!this._.dialogDefinitions[a]},getCurrent:function(){return CKEDITOR.dialog._.currentTop},okButton:function(){var a=function(a,c){c=c||{};return CKEDITOR.tools.extend({id:"ok",
type:"button",label:a.lang.common.ok,"class":"cke_dialog_ui_button_ok",onClick:function(a){a=a.data.dialog;!1!==a.fire("ok",{hide:!0}).hide&&a.hide()}},c,!0)};a.type="button";a.override=function(b){return CKEDITOR.tools.extend(function(c){return a(c,b)},{type:"button"},!0)};return a}(),cancelButton:function(){var a=function(a,c){c=c||{};return CKEDITOR.tools.extend({id:"cancel",type:"button",label:a.lang.common.cancel,"class":"cke_dialog_ui_button_cancel",onClick:function(a){a=a.data.dialog;!1!==
a.fire("cancel",{hide:!0}).hide&&a.hide()}},c,!0)};a.type="button";a.override=function(b){return CKEDITOR.tools.extend(function(c){return a(c,b)},{type:"button"},!0)};return a}(),addUIElement:function(a,b){this._.uiElementBuilders[a]=b}});CKEDITOR.dialog._={uiElementBuilders:{},dialogDefinitions:{},currentTop:null,currentZIndex:null};CKEDITOR.event.implementOn(CKEDITOR.dialog);CKEDITOR.event.implementOn(CKEDITOR.dialog.prototype);var W={resizable:CKEDITOR.DIALOG_RESIZE_BOTH,minWidth:600,minHeight:400,
buttons:[CKEDITOR.dialog.okButton,CKEDITOR.dialog.cancelButton]},z=function(a,b,c){for(var e=0,d;d=a[e];e++)if(d.id==b||c&&d[c]&&(d=z(d[c],b,c)))return d;return null},A=function(a,b,c,e,d){if(c){for(var g=0,f;f=a[g];g++){if(f.id==c)return a.splice(g,0,b),b;if(e&&f[e]&&(f=A(f[e],b,c,e,!0)))return f}if(d)return null}a.push(b);return b},B=function(a,b,c){for(var e=0,d;d=a[e];e++){if(d.id==b)return a.splice(e,1);if(c&&d[c]&&(d=B(d[c],b,c)))return d}return null},L=function(a,b){this.dialog=a;for(var c=
b.contents,e=0,d;d=c[e];e++)c[e]=d&&new I(a,d);CKEDITOR.tools.extend(this,b)};L.prototype={getContents:function(a){return z(this.contents,a)},getButton:function(a){return z(this.buttons,a)},addContents:function(a,b){return A(this.contents,a,b)},addButton:function(a,b){return A(this.buttons,a,b)},removeContents:function(a){B(this.contents,a)},removeButton:function(a){B(this.buttons,a)}};I.prototype={get:function(a){return z(this.elements,a,"children")},add:function(a,b){return A(this.elements,a,b,
"children")},remove:function(a){B(this.elements,a,"children")}};var G,w={},r,t={},M=function(a){var b=a.data.$.ctrlKey||a.data.$.metaKey,c=a.data.$.altKey,e=a.data.$.shiftKey,d=String.fromCharCode(a.data.$.keyCode);if((b=t[(b?"CTRL+":"")+(c?"ALT+":"")+(e?"SHIFT+":"")+d])&&b.length)b=b[b.length-1],b.keydown&&b.keydown.call(b.uiElement,b.dialog,b.key),a.data.preventDefault()},N=function(a){var b=a.data.$.ctrlKey||a.data.$.metaKey,c=a.data.$.altKey,e=a.data.$.shiftKey,d=String.fromCharCode(a.data.$.keyCode);
if((b=t[(b?"CTRL+":"")+(c?"ALT+":"")+(e?"SHIFT+":"")+d])&&b.length)b=b[b.length-1],b.keyup&&(b.keyup.call(b.uiElement,b.dialog,b.key),a.data.preventDefault())},O=function(a,b,c,e,d){(t[c]||(t[c]=[])).push({uiElement:a,dialog:b,key:c,keyup:d||a.accessKeyUp,keydown:e||a.accessKeyDown})},X=function(a){for(var b in t){for(var c=t[b],e=c.length-1;0<=e;e--)(c[e].dialog==a||c[e].uiElement==a)&&c.splice(e,1);0===c.length&&delete t[b]}},Z=function(a,b){a._.accessKeyMap[b]&&a.selectPage(a._.accessKeyMap[b])},
Y=function(){};(function(){CKEDITOR.ui.dialog={uiElement:function(a,b,c,e,d,g,f){if(!(4>arguments.length)){var k=(e.call?e(b):e)||"div",m=["<",k," "],j=(d&&d.call?d(b):d)||{},h=(g&&g.call?g(b):g)||{},o=(f&&f.call?f.call(this,a,b):f)||"",i=this.domId=h.id||CKEDITOR.tools.getNextId()+"_uiElement";this.id=b.id;h.id=i;var n={};b.type&&(n["cke_dialog_ui_"+b.type]=1);b.className&&(n[b.className]=1);b.disabled&&(n.cke_disabled=1);for(var l=h["class"]&&h["class"].split?h["class"].split(" "):[],i=0;i<l.length;i++)l[i]&&
(n[l[i]]=1);l=[];for(i in n)l.push(i);h["class"]=l.join(" ");b.title&&(h.title=b.title);n=(b.style||"").split(";");b.align&&(l=b.align,j["margin-left"]="left"==l?0:"auto",j["margin-right"]="right"==l?0:"auto");for(i in j)n.push(i+":"+j[i]);b.hidden&&n.push("display:none");for(i=n.length-1;0<=i;i--)""===n[i]&&n.splice(i,1);0<n.length&&(h.style=(h.style?h.style+"; ":"")+n.join("; "));for(i in h)m.push(i+'="'+CKEDITOR.tools.htmlEncode(h[i])+'" ');m.push(">",o,"</",k,">");c.push(m.join(""));(this._||
(this._={})).dialog=a;"boolean"==typeof b.isChanged&&(this.isChanged=function(){return b.isChanged});"function"==typeof b.isChanged&&(this.isChanged=b.isChanged);"function"==typeof b.setValue&&(this.setValue=CKEDITOR.tools.override(this.setValue,function(a){return function(c){a.call(this,b.setValue.call(this,c))}}));"function"==typeof b.getValue&&(this.getValue=CKEDITOR.tools.override(this.getValue,function(a){return function(){return b.getValue.call(this,a.call(this))}}));CKEDITOR.event.implementOn(this);
this.registerEvents(b);this.accessKeyUp&&(this.accessKeyDown&&b.accessKey)&&O(this,a,"CTRL+"+b.accessKey);var p=this;a.on("load",function(){var b=p.getInputElement();if(b){var c=p.type in{checkbox:1,ratio:1}&&CKEDITOR.env.ie&&CKEDITOR.env.version<8?"cke_dialog_ui_focused":"";b.on("focus",function(){a._.tabBarMode=false;a._.hasFocus=true;p.fire("focus");c&&this.addClass(c)});b.on("blur",function(){p.fire("blur");c&&this.removeClass(c)})}});this.keyboardFocusable&&(this.tabIndex=b.tabIndex||0,this.focusIndex=
a._.focusList.push(this)-1,this.on("focus",function(){a._.currentFocusIndex=p.focusIndex}));CKEDITOR.tools.extend(this,b)}},hbox:function(a,b,c,e,d){if(!(4>arguments.length)){this._||(this._={});var g=this._.children=b,f=d&&d.widths||null,k=d&&d.height||null,m,j={role:"presentation"};d&&d.align&&(j.align=d.align);CKEDITOR.ui.dialog.uiElement.call(this,a,d||{type:"hbox"},e,"table",{},j,function(){var a=['<tbody><tr class="cke_dialog_ui_hbox">'];for(m=0;m<c.length;m++){var b="cke_dialog_ui_hbox_child",
e=[];0===m&&(b="cke_dialog_ui_hbox_first");m==c.length-1&&(b="cke_dialog_ui_hbox_last");a.push('<td class="',b,'" role="presentation" ');f?f[m]&&e.push("width:"+s(f[m])):e.push("width:"+Math.floor(100/c.length)+"%");k&&e.push("height:"+s(k));d&&void 0!=d.padding&&e.push("padding:"+s(d.padding));CKEDITOR.env.ie&&(CKEDITOR.env.quirks&&g[m].align)&&e.push("text-align:"+g[m].align);0<e.length&&a.push('style="'+e.join("; ")+'" ');a.push(">",c[m],"</td>")}a.push("</tr></tbody>");return a.join("")})}},vbox:function(a,
b,c,e,d){if(!(3>arguments.length)){this._||(this._={});var g=this._.children=b,f=d&&d.width||null,k=d&&d.heights||null;CKEDITOR.ui.dialog.uiElement.call(this,a,d||{type:"vbox"},e,"div",null,{role:"presentation"},function(){var b=['<table role="presentation" cellspacing="0" border="0" '];b.push('style="');d&&d.expand&&b.push("height:100%;");b.push("width:"+s(f||"100%"),";");b.push('"');b.push('align="',CKEDITOR.tools.htmlEncode(d&&d.align||("ltr"==a.getParentEditor().lang.dir?"left":"right")),'" ');
b.push("><tbody>");for(var e=0;e<c.length;e++){var h=[];b.push('<tr><td role="presentation" ');f&&h.push("width:"+s(f||"100%"));k?h.push("height:"+s(k[e])):d&&d.expand&&h.push("height:"+Math.floor(100/c.length)+"%");d&&void 0!=d.padding&&h.push("padding:"+s(d.padding));CKEDITOR.env.ie&&(CKEDITOR.env.quirks&&g[e].align)&&h.push("text-align:"+g[e].align);0<h.length&&b.push('style="',h.join("; "),'" ');b.push(' class="cke_dialog_ui_vbox_child">',c[e],"</td></tr>")}b.push("</tbody></table>");return b.join("")})}}}})();
CKEDITOR.ui.dialog.uiElement.prototype={getElement:function(){return CKEDITOR.document.getById(this.domId)},getInputElement:function(){return this.getElement()},getDialog:function(){return this._.dialog},setValue:function(a,b){this.getInputElement().setValue(a);!b&&this.fire("change",{value:a});return this},getValue:function(){return this.getInputElement().getValue()},isChanged:function(){return!1},selectParentTab:function(){for(var a=this.getInputElement();(a=a.getParent())&&-1==a.$.className.search("cke_dialog_page_contents"););
if(!a)return this;a=a.getAttribute("name");this._.dialog._.currentTabId!=a&&this._.dialog.selectPage(a);return this},focus:function(){this.selectParentTab().getInputElement().focus();return this},registerEvents:function(a){var b=/^on([A-Z]\w+)/,c,e=function(a,b,c,d){b.on("load",function(){a.getInputElement().on(c,d,a)})},d;for(d in a)if(c=d.match(b))this.eventProcessors[d]?this.eventProcessors[d].call(this,this._.dialog,a[d]):e(this,this._.dialog,c[1].toLowerCase(),a[d]);return this},eventProcessors:{onLoad:function(a,
b){a.on("load",b,this)},onShow:function(a,b){a.on("show",b,this)},onHide:function(a,b){a.on("hide",b,this)}},accessKeyDown:function(){this.focus()},accessKeyUp:function(){},disable:function(){var a=this.getElement();this.getInputElement().setAttribute("disabled","true");a.addClass("cke_disabled")},enable:function(){var a=this.getElement();this.getInputElement().removeAttribute("disabled");a.removeClass("cke_disabled")},isEnabled:function(){return!this.getElement().hasClass("cke_disabled")},isVisible:function(){return this.getInputElement().isVisible()},
isFocusable:function(){return!this.isEnabled()||!this.isVisible()?!1:!0}};CKEDITOR.ui.dialog.hbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getChild:function(a){if(1>arguments.length)return this._.children.concat();a.splice||(a=[a]);return 2>a.length?this._.children[a[0]]:this._.children[a[0]]&&this._.children[a[0]].getChild?this._.children[a[0]].getChild(a.slice(1,a.length)):null}},!0);CKEDITOR.ui.dialog.vbox.prototype=new CKEDITOR.ui.dialog.hbox;(function(){var a={build:function(a,
c,e){for(var d=c.children,g,f=[],k=[],m=0;m<d.length&&(g=d[m]);m++){var j=[];f.push(j);k.push(CKEDITOR.dialog._.uiElementBuilders[g.type].build(a,g,j))}return new CKEDITOR.ui.dialog[c.type](a,k,f,e,c)}};CKEDITOR.dialog.addUIElement("hbox",a);CKEDITOR.dialog.addUIElement("vbox",a)})();CKEDITOR.dialogCommand=function(a,b){this.dialogName=a;CKEDITOR.tools.extend(this,b,!0)};CKEDITOR.dialogCommand.prototype={exec:function(a){CKEDITOR.env.opera?CKEDITOR.tools.setTimeout(function(){a.openDialog(this.dialogName)},
0,this):a.openDialog(this.dialogName)},canUndo:!1,editorFocus:CKEDITOR.env.ie||CKEDITOR.env.webkit};(function(){var a=/^([a]|[^a])+$/,b=/^\d*$/,c=/^\d*(?:\.\d+)?$/,e=/^(((\d*(\.\d+))|(\d*))(px|\%)?)?$/,d=/^(((\d*(\.\d+))|(\d*))(px|em|ex|in|cm|mm|pt|pc|\%)?)?$/i,g=/^(\s*[\w-]+\s*:\s*[^:;]+(?:;|$))*$/;CKEDITOR.VALIDATE_OR=1;CKEDITOR.VALIDATE_AND=2;CKEDITOR.dialog.validate={functions:function(){var a=arguments;return function(){var b=this&&this.getValue?this.getValue():a[0],c=void 0,d=CKEDITOR.VALIDATE_AND,
e=[],g;for(g=0;g<a.length;g++)if("function"==typeof a[g])e.push(a[g]);else break;g<a.length&&"string"==typeof a[g]&&(c=a[g],g++);g<a.length&&"number"==typeof a[g]&&(d=a[g]);var i=d==CKEDITOR.VALIDATE_AND?!0:!1;for(g=0;g<e.length;g++)i=d==CKEDITOR.VALIDATE_AND?i&&e[g](b):i||e[g](b);return!i?c:!0}},regex:function(a,b){return function(c){c=this&&this.getValue?this.getValue():c;return!a.test(c)?b:!0}},notEmpty:function(b){return this.regex(a,b)},integer:function(a){return this.regex(b,a)},number:function(a){return this.regex(c,
a)},cssLength:function(a){return this.functions(function(a){return d.test(CKEDITOR.tools.trim(a))},a)},htmlLength:function(a){return this.functions(function(a){return e.test(CKEDITOR.tools.trim(a))},a)},inlineStyle:function(a){return this.functions(function(a){return g.test(CKEDITOR.tools.trim(a))},a)},equals:function(a,b){return this.functions(function(b){return b==a},b)},notEqual:function(a,b){return this.functions(function(b){return b!=a},b)}};CKEDITOR.on("instanceDestroyed",function(a){if(CKEDITOR.tools.isEmpty(CKEDITOR.instances)){for(var b;b=
CKEDITOR.dialog._.currentTop;)b.hide();for(var c in w)w[c].remove();w={}}var a=a.editor._.storedDialogs,d;for(d in a)a[d].destroy()})})();CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{openDialog:function(a,b){var c=null,e=CKEDITOR.dialog._.dialogDefinitions[a];null===CKEDITOR.dialog._.currentTop&&J(this);if("function"==typeof e)c=this._.storedDialogs||(this._.storedDialogs={}),c=c[a]||(c[a]=new CKEDITOR.dialog(this,a)),b&&b.call(c,c),c.show();else{if("failed"==e)throw K(this),Error('[CKEDITOR.dialog.openDialog] Dialog "'+
a+'" failed when loading definition.');"string"==typeof e&&CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(e),function(){"function"!=typeof CKEDITOR.dialog._.dialogDefinitions[a]&&(CKEDITOR.dialog._.dialogDefinitions[a]="failed");this.openDialog(a,b)},this,0,1)}CKEDITOR.skin.loadPart("dialog");return c}})})();
CKEDITOR.plugins.add("dialog",{requires:"dialogui",init:function(p){p.on("contentDom",function(){var u=p.editable();u.attachListener(u,"dblclick",function(q){if(p.readOnly)return!1;q={element:q.data.getTarget()};p.fire("doubleclick",q);q.dialog&&p.openDialog(q.dialog);return 1})})}});CKEDITOR.plugins.add("about",{requires:"dialog",init:function(a){var b=a.addCommand("about",new CKEDITOR.dialogCommand("about"));b.modes={wysiwyg:1,source:1};b.canUndo=!1;b.readOnly=1;a.ui.addButton&&a.ui.addButton("About",{label:a.lang.about.title,command:"about",toolbar:"about"});CKEDITOR.dialog.add("about",this.path+"dialogs/about.js")}});CKEDITOR.plugins.add("basicstyles",{init:function(c){var f=0,a=function(a,d,b,e){e&&(e=new CKEDITOR.style(e),c.attachStyleStateChange(e,function(a){!c.readOnly&&c.getCommand(b).setState(a)}),c.addCommand(b,new CKEDITOR.styleCommand(e)),c.ui.addButton&&c.ui.addButton(a,{label:d,command:b,toolbar:"basicstyles,"+(f+=10)}))},d=c.config,b=c.lang.basicstyles;a("Bold",b.bold,"bold",d.coreStyles_bold);a("Italic",b.italic,"italic",d.coreStyles_italic);a("Underline",b.underline,"underline",d.coreStyles_underline);
a("Strike",b.strike,"strike",d.coreStyles_strike);a("Subscript",b.subscript,"subscript",d.coreStyles_subscript);a("Superscript",b.superscript,"superscript",d.coreStyles_superscript);c.setKeystroke([[CKEDITOR.CTRL+66,"bold"],[CKEDITOR.CTRL+73,"italic"],[CKEDITOR.CTRL+85,"underline"]])}});CKEDITOR.config.coreStyles_bold={element:"strong",overrides:"b"};CKEDITOR.config.coreStyles_italic={element:"em",overrides:"i"};CKEDITOR.config.coreStyles_underline={element:"u"};
CKEDITOR.config.coreStyles_strike={element:"strike"};CKEDITOR.config.coreStyles_subscript={element:"sub"};CKEDITOR.config.coreStyles_superscript={element:"sup"};(function(){function v(b){function a(){var e=b.editable();e.on(q,function(b){(!CKEDITOR.env.ie||!m)&&u(b)});CKEDITOR.env.ie&&e.on("paste",function(e){r||(f(),e.data.preventDefault(),u(e),l("paste")||b.openDialog("paste"))});CKEDITOR.env.ie&&(e.on("contextmenu",h,null,null,0),e.on("beforepaste",function(b){b.data&&!b.data.$.ctrlKey&&h()},null,null,0));e.on("beforecut",function(){!m&&j(b)});e.on("mouseup",function(){setTimeout(function(){s()},0)});e.on("keyup",s)}function d(e){return{type:e,canUndo:"cut"==
e,startDisabled:!0,exec:function(){"cut"==this.type&&j();var e;var a=this.type;if(CKEDITOR.env.ie)e=l(a);else try{e=b.document.$.execCommand(a,!1,null)}catch(c){e=!1}e||alert(b.lang.clipboard[this.type+"Error"]);return e}}}function c(){return{canUndo:!1,async:!0,exec:function(b,a){var c=function(a,c){a&&g(a.type,a.dataValue,!!c);b.fire("afterCommandExec",{name:"paste",command:d,returnValue:!!a})},d=this;"string"==typeof a?c({type:"auto",dataValue:a},1):b.getClipboardData(c)}}}function f(){r=1;setTimeout(function(){r=
0},100)}function h(){m=1;setTimeout(function(){m=0},10)}function l(e){var a=b.document,c=a.getBody(),d=!1,j=function(){d=!0};c.on(e,j);(7<CKEDITOR.env.version?a.$:a.$.selection.createRange()).execCommand(e);c.removeListener(e,j);return d}function g(e,a,c){e={type:e};if(c&&!b.fire("beforePaste",e)||!a)return!1;e.dataValue=a;return b.fire("paste",e)}function j(){if(CKEDITOR.env.ie&&!CKEDITOR.env.quirks){var e=b.getSelection(),a,c,d;if(e.getType()==CKEDITOR.SELECTION_ELEMENT&&(a=e.getSelectedElement()))c=
e.getRanges()[0],d=b.document.createText(""),d.insertBefore(a),c.setStartBefore(d),c.setEndAfter(a),e.selectRanges([c]),setTimeout(function(){a.getParent()&&(d.remove(),e.selectElement(a))},0)}}function k(a,c){var d=b.document,j=b.editable(),k=function(b){b.cancel()},f=CKEDITOR.env.gecko&&10902>=CKEDITOR.env.version;if(!d.getById("cke_pastebin")){var h=b.getSelection(),o=h.createBookmarks(),i=new CKEDITOR.dom.element(j.is("body")&&!CKEDITOR.env.ie&&!CKEDITOR.env.opera?"body":"div",d);i.setAttribute("id",
"cke_pastebin");CKEDITOR.env.opera&&i.appendBogus();var g=0,d=d.getWindow();f?(i.insertAfter(o[0].startNode),i.setStyle("display","inline")):(CKEDITOR.env.webkit?(j.append(i),i.addClass("cke_editable"),g=(j.is("body")?j:CKEDITOR.dom.element.get(i.$.offsetParent)).getDocumentPosition().y):j.getAscendant(CKEDITOR.env.ie||CKEDITOR.env.opera?"body":"html",1).append(i),i.setStyles({position:"absolute",top:d.getScrollPosition().y-g+10+"px",width:"1px",height:Math.max(1,d.getViewPaneSize().height-20)+"px",
overflow:"hidden",margin:0,padding:0}));(f=i.getParent().isReadOnly())?(i.setOpacity(0),i.setAttribute("contenteditable",!0)):i.setStyle("ltr"==b.config.contentsLangDirection?"left":"right","-1000px");b.on("selectionChange",k,null,null,0);f&&i.focus();f=new CKEDITOR.dom.range(i);f.selectNodeContents(i);var l=f.select();if(CKEDITOR.env.ie)var m=j.once("blur",function(){b.lockSelection(l)});var n=CKEDITOR.document.getWindow().getScrollPosition().y;setTimeout(function(){if(CKEDITOR.env.webkit||CKEDITOR.env.opera)CKEDITOR.document[CKEDITOR.env.webkit?
"getBody":"getDocumentElement"]().$.scrollTop=n;m&&m.removeListener();CKEDITOR.env.ie&&j.focus();h.selectBookmarks(o);i.remove();var a;if(CKEDITOR.env.webkit&&(a=i.getFirst())&&a.is&&a.hasClass("Apple-style-span"))i=a;b.removeListener("selectionChange",k);c(i.getHtml())},0)}}function o(){if(CKEDITOR.env.ie){b.focus();f();var a=b.focusManager;a.lock();if(b.editable().fire(q)&&!l("paste"))return a.unlock(),!1;a.unlock()}else try{if(b.editable().fire(q)&&!b.document.$.execCommand("Paste",!1,null))throw 0;
}catch(c){return!1}return!0}function p(a){if("wysiwyg"==b.mode)switch(a.data.keyCode){case CKEDITOR.CTRL+86:case CKEDITOR.SHIFT+45:a=b.editable();f();!CKEDITOR.env.ie&&a.fire("beforepaste");(CKEDITOR.env.opera||CKEDITOR.env.gecko&&10900>CKEDITOR.env.version)&&a.fire("paste");break;case CKEDITOR.CTRL+88:case CKEDITOR.SHIFT+46:b.fire("saveSnapshot"),setTimeout(function(){b.fire("saveSnapshot")},0)}}function u(a){var c={type:"auto"},d=b.fire("beforePaste",c);k(a,function(b){b=b.replace(/<span[^>]+data-cke-bookmark[^<]*?<\/span>/ig,
"");d&&g(c.type,b,0,1)})}function s(){if("wysiwyg"==b.mode){var a=n("Paste");b.getCommand("cut").setState(n("Cut"));b.getCommand("copy").setState(n("Copy"));b.getCommand("paste").setState(a);b.fire("pasteState",a)}}function n(a){var c;if(t&&a in{Paste:1,Cut:1})return CKEDITOR.TRISTATE_DISABLED;if("Paste"==a){CKEDITOR.env.ie&&(m=1);try{c=b.document.$.queryCommandEnabled(a)||CKEDITOR.env.webkit}catch(d){}m=0}else a=b.getSelection(),c=a.getRanges(),c=a.type!=CKEDITOR.SELECTION_NONE&&!(1==c.length&&c[0].collapsed);
return c?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED}var m=0,r=0,t=0,q=CKEDITOR.env.ie?"beforepaste":"paste";(function(){b.on("key",p);b.on("contentDom",a);b.on("selectionChange",function(b){t=b.data.selection.getRanges()[0].checkReadOnly();s()});b.contextMenu&&b.contextMenu.addListener(function(b,a){t=a.getRanges()[0].checkReadOnly();return{cut:n("Cut"),copy:n("Copy"),paste:n("Paste")}})})();(function(){function a(c,d,j,e,f){var k=b.lang.clipboard[d];b.addCommand(d,j);b.ui.addButton&&b.ui.addButton(c,
{label:k,command:d,toolbar:"clipboard,"+e});b.addMenuItems&&b.addMenuItem(d,{label:k,command:d,group:"clipboard",order:f})}a("Cut","cut",d("cut"),10,1);a("Copy","copy",d("copy"),20,4);a("Paste","paste",c(),30,8)})();b.getClipboardData=function(a,c){function d(a){a.removeListener();a.cancel();c(a.data)}function j(a){a.removeListener();a.cancel();g=!0;c({type:h,dataValue:a.data})}function f(){this.customTitle=a&&a.title}var k=!1,h="auto",g=!1;c||(c=a,a=null);b.on("paste",d,null,null,0);b.on("beforePaste",
function(a){a.removeListener();k=true;h=a.data.type},null,null,1E3);!1===o()&&(b.removeListener("paste",d),k&&b.fire("pasteDialog",f)?(b.on("pasteDialogCommit",j),b.on("dialogHide",function(a){a.removeListener();a.data.removeListener("pasteDialogCommit",j);setTimeout(function(){g||c(null)},10)})):c(null))}}function w(b){if(CKEDITOR.env.webkit){if(!b.match(/^[^<]*$/g)&&!b.match(/^(<div><br( ?\/)?><\/div>|<div>[^<]*<\/div>)*$/gi))return"html"}else if(CKEDITOR.env.ie){if(!b.match(/^([^<]|<br( ?\/)?>)*$/gi)&&
!b.match(/^(<p>([^<]|<br( ?\/)?>)*<\/p>|(\r\n))*$/gi))return"html"}else if(CKEDITOR.env.gecko||CKEDITOR.env.opera){if(!b.match(/^([^<]|<br( ?\/)?>)*$/gi))return"html"}else return"html";return"htmlifiedtext"}function x(b,a){function d(a){return CKEDITOR.tools.repeat("</p><p>",~~(a/2))+(1==a%2?"<br>":"")}a=a.replace(/\s+/g," ").replace(/> +</g,"><").replace(/<br ?\/>/gi,"<br>");a=a.replace(/<\/?[A-Z]+>/g,function(a){return a.toLowerCase()});if(a.match(/^[^<]$/))return a;CKEDITOR.env.webkit&&-1<a.indexOf("<div>")&&
(a=a.replace(/^(<div>(<br>|)<\/div>)(?!$|(<div>(<br>|)<\/div>))/g,"<br>").replace(/^(<div>(<br>|)<\/div>){2}(?!$)/g,"<div></div>"),a.match(/<div>(<br>|)<\/div>/)&&(a="<p>"+a.replace(/(<div>(<br>|)<\/div>)+/g,function(a){return d(a.split("</div><div>").length+1)})+"</p>"),a=a.replace(/<\/div><div>/g,"<br>"),a=a.replace(/<\/?div>/g,""));if((CKEDITOR.env.gecko||CKEDITOR.env.opera)&&b.enterMode!=CKEDITOR.ENTER_BR)CKEDITOR.env.gecko&&(a=a.replace(/^<br><br>$/,"<br>")),-1<a.indexOf("<br><br>")&&(a="<p>"+
a.replace(/(<br>){2,}/g,function(a){return d(a.length/4)})+"</p>");return p(b,a)}function y(){var b=new CKEDITOR.htmlParser.filter,a={blockquote:1,dl:1,fieldset:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,ol:1,p:1,table:1,ul:1},d=CKEDITOR.tools.extend({br:0},CKEDITOR.dtd.$inline),c={p:1,br:1,"cke:br":1},f=CKEDITOR.dtd,h=CKEDITOR.tools.extend({area:1,basefont:1,embed:1,iframe:1,map:1,object:1,param:1},CKEDITOR.dtd.$nonBodyContent,CKEDITOR.dtd.$cdata),l=function(a){delete a.name;a.add(new CKEDITOR.htmlParser.text(" "))},
g=function(a){for(var b=a,c;(b=b.next)&&b.name&&b.name.match(/^h\d$/);){c=new CKEDITOR.htmlParser.element("cke:br");c.isEmpty=!0;for(a.add(c);c=b.children.shift();)a.add(c)}};b.addRules({elements:{h1:g,h2:g,h3:g,h4:g,h5:g,h6:g,img:function(a){var a=CKEDITOR.tools.trim(a.attributes.alt||""),b=" ";a&&!a.match(/(^http|\.(jpe?g|gif|png))/i)&&(b=" ["+a+"] ");return new CKEDITOR.htmlParser.text(b)},td:l,th:l,$:function(b){var k=b.name,g;if(h[k])return!1;delete b.attributes;if("br"==k)return b;if(a[k])b.name=
"p";else if(d[k])delete b.name;else if(f[k]){g=new CKEDITOR.htmlParser.element("cke:br");g.isEmpty=!0;if(CKEDITOR.dtd.$empty[k])return g;b.add(g,0);g=g.clone();g.isEmpty=!0;b.add(g);delete b.name}c[b.name]||delete b.name;return b}}});return b}function z(b,a,d){var a=new CKEDITOR.htmlParser.fragment.fromHtml(a),c=new CKEDITOR.htmlParser.basicWriter;a.writeHtml(c,d);var a=c.getHtml(),a=a.replace(/\s*(<\/?[a-z:]+ ?\/?>)\s*/g,"$1").replace(/(<cke:br \/>){2,}/g,"<cke:br />").replace(/(<cke:br \/>)(<\/?p>|<br \/>)/g,
"$2").replace(/(<\/?p>|<br \/>)(<cke:br \/>)/g,"$1").replace(/<(cke:)?br( \/)?>/g,"<br>").replace(/<p><\/p>/g,""),f=0,a=a.replace(/<\/?p>/g,function(a){if("<p>"==a){if(1<++f)return"</p><p>"}else if(0<--f)return"</p><p>";return a}).replace(/<p><\/p>/g,"");return p(b,a)}function p(b,a){b.enterMode==CKEDITOR.ENTER_BR?a=a.replace(/(<\/p><p>)+/g,function(a){return CKEDITOR.tools.repeat("<br>",2*(a.length/7))}).replace(/<\/?p>/g,""):b.enterMode==CKEDITOR.ENTER_DIV&&(a=a.replace(/<(\/)?p>/g,"<$1div>"));
return a}CKEDITOR.plugins.add("clipboard",{requires:"dialog",init:function(b){var a;v(b);CKEDITOR.dialog.add("paste",CKEDITOR.getUrl(this.path+"dialogs/paste.js"));b.on("paste",function(a){var b=a.data.dataValue,f=CKEDITOR.dtd.$block;-1<b.indexOf("Apple-")&&(b=b.replace(/<span class="Apple-converted-space">&nbsp;<\/span>/gi," "),"html"!=a.data.type&&(b=b.replace(/<span class="Apple-tab-span"[^>]*>([^<]*)<\/span>/gi,function(a,b){return b.replace(/\t/g,"&nbsp;&nbsp; &nbsp;")})),-1<b.indexOf('<br class="Apple-interchange-newline">')&&
(a.data.startsWithEOL=1,a.data.preSniffing="html",b=b.replace(/<br class="Apple-interchange-newline">/,"")),b=b.replace(/(<[^>]+) class="Apple-[^"]*"/gi,"$1"));if(b.match(/^<[^<]+cke_(editable|contents)/i)){var h,l,g=new CKEDITOR.dom.element("div");for(g.setHtml(b);1==g.getChildCount()&&(h=g.getFirst())&&h.type==CKEDITOR.NODE_ELEMENT&&(h.hasClass("cke_editable")||h.hasClass("cke_contents"));)g=l=h;l&&(b=l.getHtml().replace(/<br>$/i,""))}CKEDITOR.env.ie?b=b.replace(/^&nbsp;(?: |\r\n)?<(\w+)/g,function(b,
c){if(c.toLowerCase()in f){a.data.preSniffing="html";return"<"+c}return b}):CKEDITOR.env.webkit?b=b.replace(/<\/(\w+)><div><br><\/div>$/,function(b,c){if(c in f){a.data.endsWithEOL=1;return"</"+c+">"}return b}):CKEDITOR.env.gecko&&(b=b.replace(/(\s)<br>$/,"$1"));a.data.dataValue=b},null,null,3);b.on("paste",function(d){var d=d.data,c=d.type,f=d.dataValue,h,l=b.config.clipboard_defaultContentType||"html";h="html"==c||"html"==d.preSniffing?"html":w(f);"htmlifiedtext"==h?f=x(b.config,f):"text"==c&&"html"==
h&&(f=z(b.config,f,a||(a=y(b))));d.startsWithEOL&&(f='<br data-cke-eol="1">'+f);d.endsWithEOL&&(f+='<br data-cke-eol="1">');"auto"==c&&(c="html"==h||"html"==l?"html":"text");d.type=c;d.dataValue=f;delete d.preSniffing;delete d.startsWithEOL;delete d.endsWithEOL},null,null,6);b.on("paste",function(a){a=a.data;b.insertHtml(a.dataValue,a.type);setTimeout(function(){b.fire("afterPaste")},0)},null,null,1E3);b.on("pasteDialog",function(a){setTimeout(function(){b.openDialog("paste",a.data)},0)})}})})();(function(){var a='<a id="{id}" class="cke_button cke_button__{name} cke_button_{state} {cls}"'+(CKEDITOR.env.gecko&&10900<=CKEDITOR.env.version&&!CKEDITOR.env.hc?"":'" href="javascript:void(\'{titleJs}\')"')+' title="{title}" tabindex="-1" hidefocus="true" role="button" aria-labelledby="{id}_label" aria-haspopup="{hasArrow}"';if(CKEDITOR.env.opera||CKEDITOR.env.gecko&&CKEDITOR.env.mac)a+=' onkeypress="return false;"';CKEDITOR.env.gecko&&(a+=' onblur="this.style.cssText = this.style.cssText;"');var a=
a+(' onkeydown="return CKEDITOR.tools.callFunction({keydownFn},event);" onfocus="return CKEDITOR.tools.callFunction({focusFn},event);"  onmousedown="return CKEDITOR.tools.callFunction({mousedownFn},event);" '+(CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick")+'="CKEDITOR.tools.callFunction({clickFn},this);return false;"><span class="cke_button_icon cke_button__{iconName}_icon" style="{style}"'),a=a+'>&nbsp;</span><span id="{id}_label" class="cke_button_label cke_button__{name}_label">{label}</span>{arrowHtml}</a>',
m=CKEDITOR.addTemplate("buttonArrow",'<span class="cke_button_arrow">'+(CKEDITOR.env.hc?"&#9660;":"")+"</span>"),n=CKEDITOR.addTemplate("button",a);CKEDITOR.plugins.add("button",{beforeInit:function(b){b.ui.addHandler(CKEDITOR.UI_BUTTON,CKEDITOR.ui.button.handler)}});CKEDITOR.UI_BUTTON="button";CKEDITOR.ui.button=function(b){CKEDITOR.tools.extend(this,b,{title:b.label,click:b.click||function(e){e.execCommand(b.command)}});this._={}};CKEDITOR.ui.button.handler={create:function(b){return new CKEDITOR.ui.button(b)}};
CKEDITOR.ui.button.prototype={render:function(b,e){var a=CKEDITOR.env,i=this._.id=CKEDITOR.tools.getNextId(),f="",d=this.command,l;this._.editor=b;var c={id:i,button:this,editor:b,focus:function(){CKEDITOR.document.getById(i).focus()},execute:function(){this.button.click(b)},attach:function(b){this.button.attach(b)}},o=CKEDITOR.tools.addFunction(function(b){if(c.onkey)return b=new CKEDITOR.dom.event(b),!1!==c.onkey(c,b.getKeystroke())}),p=CKEDITOR.tools.addFunction(function(b){var a;c.onfocus&&(a=
!1!==c.onfocus(c,new CKEDITOR.dom.event(b)));CKEDITOR.env.gecko&&10900>CKEDITOR.env.version&&b.preventBubble();return a}),j=0,q=CKEDITOR.tools.addFunction(function(){if(CKEDITOR.env.opera){var a=b.editable();a.isInline()&&a.hasFocus&&(b.lockSelection(),j=1)}});c.clickFn=l=CKEDITOR.tools.addFunction(function(){j&&(b.unlockSelection(1),j=0);c.execute()});if(this.modes){var k={},g=function(){var a=b.mode;a&&(a=this.modes[a]?void 0!=k[a]?k[a]:CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,this.setState(b.readOnly&&
!this.readOnly?CKEDITOR.TRISTATE_DISABLED:a))};b.on("beforeModeUnload",function(){b.mode&&this._.state!=CKEDITOR.TRISTATE_DISABLED&&(k[b.mode]=this._.state)},this);b.on("mode",g,this);!this.readOnly&&b.on("readOnly",g,this)}else if(d&&(d=b.getCommand(d)))d.on("state",function(){this.setState(d.state)},this),f+=d.state==CKEDITOR.TRISTATE_ON?"on":d.state==CKEDITOR.TRISTATE_DISABLED?"disabled":"off";if(this.directional)b.on("contentDirChanged",function(a){var e=CKEDITOR.document.getById(this._.id),c=
e.getFirst(),a=a.data;a!=b.lang.dir?e.addClass("cke_"+a):e.removeClass("cke_ltr").removeClass("cke_rtl");c.setAttribute("style",CKEDITOR.skin.getIconStyle(h,"rtl"==a,this.icon,this.iconOffset))},this);d||(f+="off");var h=g=this.name||this.command;this.icon&&!/\./.test(this.icon)&&(h=this.icon,this.icon=null);a={id:i,name:g,iconName:h,label:this.label,cls:this.className||"",state:f,title:this.title,titleJs:a.gecko&&10900<=a.version&&!a.hc?"":(this.title||"").replace("'",""),hasArrow:this.hasArrow?
"true":"false",keydownFn:o,mousedownFn:q,focusFn:p,clickFn:l,style:CKEDITOR.skin.getIconStyle(h,"rtl"==b.lang.dir,this.icon,this.iconOffset),arrowHtml:this.hasArrow?m.output():""};n.output(a,e);if(this.onRender)this.onRender();return c},setState:function(b){if(this._.state==b)return!1;this._.state=b;var a=CKEDITOR.document.getById(this._.id);return a?(a.setState(b,"cke_button"),b==CKEDITOR.TRISTATE_DISABLED?a.setAttribute("aria-disabled",!0):a.removeAttribute("aria-disabled"),b==CKEDITOR.TRISTATE_ON?
a.setAttribute("aria-pressed",!0):a.removeAttribute("aria-pressed"),!0):!1}};CKEDITOR.ui.prototype.addButton=function(b,a){this.add(b,CKEDITOR.UI_BUTTON,a)}})();(function(){function w(a){function e(){for(var b=h(),g=CKEDITOR.tools.clone(a.config.toolbarGroups)||o(a),f=0;f<g.length;f++){var d=g[f];if("/"!=d){"string"==typeof d&&(d=g[f]={name:d});var e,n=d.groups;if(n)for(var l=0;l<n.length;l++)e=n[l],(e=b[e])&&c(d,e);(e=b[d.name])&&c(d,e)}}return g}function h(){var b={},c,f,d;for(c in a.ui.items)f=a.ui.items[c],d=f.toolbar||"others",d=d.split(","),f=d[0],d=parseInt(d[1]||-1,10),b[f]||(b[f]=[]),b[f].push({name:c,order:d});for(f in b)b[f]=b[f].sort(function(a,
b){return a.order==b.order?0:0>b.order?-1:0>a.order?1:a.order<b.order?-1:1});return b}function c(a,c){if(c.length){a.items?a.items.push("-"):a.items=[];for(var d;d=c.shift();)a.items.push(d.name)}}var d=a.config.toolbar;"string"==typeof d&&(d=a.config["toolbar_"+d]);return a.toolbar=d||e()}function o(a){return a._.toolbarGroups||(a._.toolbarGroups=[{name:"document",groups:["mode","document","doctools"]},{name:"clipboard",groups:["clipboard","undo"]},{name:"editing",groups:["find","selection","spellchecker"]},
{name:"forms"},"/",{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"paragraph",groups:["list","indent","blocks","align"]},{name:"links"},{name:"insert"},"/",{name:"styles"},{name:"colors"},{name:"tools"},{name:"others"},{name:"about"}])}var t=function(){this.toolbars=[];this.focusCommandExecuted=!1};t.prototype.focus=function(){for(var a=0,e;e=this.toolbars[a++];)for(var h=0,c;c=e.items[h++];)if(c.focus){c.focus();return}};var x={modes:{wysiwyg:1,source:1},readOnly:1,exec:function(a){a.toolbox&&
(a.toolbox.focusCommandExecuted=!0,CKEDITOR.env.ie||CKEDITOR.env.air?setTimeout(function(){a.toolbox.focus()},100):a.toolbox.focus())}};CKEDITOR.plugins.add("toolbar",{requires:"button",init:function(a){var e,h=function(c,d){var b,g="rtl"==a.lang.dir,f=a.config.toolbarGroupCycling,f=void 0===f||f;switch(d){case 9:case CKEDITOR.SHIFT+9:for(;!b||!b.items.length;)if(b=9==d?(b?b.next:c.toolbar.next)||a.toolbox.toolbars[0]:(b?b.previous:c.toolbar.previous)||a.toolbox.toolbars[a.toolbox.toolbars.length-
1],b.items.length)for(c=b.items[e?b.items.length-1:0];c&&!c.focus;)(c=e?c.previous:c.next)||(b=0);c&&c.focus();return!1;case g?37:39:case 40:b=c;do b=b.next,!b&&f&&(b=c.toolbar.items[0]);while(b&&!b.focus);b?b.focus():h(c,9);return!1;case g?39:37:case 38:b=c;do b=b.previous,!b&&f&&(b=c.toolbar.items[c.toolbar.items.length-1]);while(b&&!b.focus);b?b.focus():(e=1,h(c,CKEDITOR.SHIFT+9),e=0);return!1;case 27:return a.focus(),!1;case 13:case 32:return c.execute(),!1}return!0};a.on("uiSpace",function(c){if(c.data.space==
a.config.toolbarLocation){a.toolbox=new t;var d=CKEDITOR.tools.getNextId(),b=a.config.removeButtons,b=b&&b.split(","),g=['<span id="',d,'" class="cke_voice_label">',a.lang.toolbar.toolbars,"</span>",'<span id="'+a.ui.spaceId("toolbox")+'" class="cke_toolbox" role="group" aria-labelledby="',d,'" onmousedown="return false;">'],d=!1!==a.config.toolbarStartupExpanded,f,e;a.config.toolbarCanCollapse&&a.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&g.push('<span class="cke_toolbox_main"'+(d?">":' style="display:none">'));
for(var o=a.toolbox.toolbars,n=w(a),l=0;l<n.length;l++){var j,i=0,q,m=n[l],r;if(m)if(f&&(g.push("</span>"),e=f=0),"/"===m)g.push('<span class="cke_toolbar_break"></span>');else{r=m.items||m;for(var s=0;s<r.length;s++){var k;k=r[s];var u;if(!(b&&0<=CKEDITOR.tools.indexOf(b,k))&&(k=a.ui.create(k)))if(k.type==CKEDITOR.UI_SEPARATOR)e=f&&k;else{u=!1!==k.canGroup;if(!i){j=CKEDITOR.tools.getNextId();i={id:j,items:[]};q=m.name&&(a.lang.toolbar.toolbarGroups[m.name]||m.name);g.push('<span id="',j,'" class="cke_toolbar"',
q?' aria-labelledby="'+j+'_label"':"",' role="toolbar">');q&&g.push('<span id="',j,'_label" class="cke_voice_label">',q,"</span>");g.push('<span class="cke_toolbar_start"></span>');var p=o.push(i)-1;0<p&&(i.previous=o[p-1],i.previous.next=i)}u?f||(g.push('<span class="cke_toolgroup" role="presentation">'),f=1):f&&(g.push("</span>"),f=0);j=function(b){b=b.render(a,g);p=i.items.push(b)-1;if(p>0){b.previous=i.items[p-1];b.previous.next=b}b.toolbar=i;b.onkey=h;b.onfocus=function(){a.toolbox.focusCommandExecuted||
a.focus()}};e&&(j(e),e=0);j(k)}}f&&(g.push("</span>"),e=f=0);i&&g.push('<span class="cke_toolbar_end"></span></span>')}}a.config.toolbarCanCollapse&&g.push("</span>");if(a.config.toolbarCanCollapse&&a.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var v=CKEDITOR.tools.addFunction(function(){a.execCommand("toolbarCollapse")});a.on("destroy",function(){CKEDITOR.tools.removeFunction(v)});a.addCommand("toolbarCollapse",{readOnly:1,exec:function(a){var b=a.ui.space("toolbar_collapser"),c=b.getPrevious(),d=
a.ui.space("contents"),e=c.getParent(),f=parseInt(d.$.style.height,10),g=e.$.offsetHeight,h=b.hasClass("cke_toolbox_collapser_min");h?(c.show(),b.removeClass("cke_toolbox_collapser_min"),b.setAttribute("title",a.lang.toolbar.toolbarCollapse)):(c.hide(),b.addClass("cke_toolbox_collapser_min"),b.setAttribute("title",a.lang.toolbar.toolbarExpand));b.getFirst().setText(h?"▲":"◀");d.setStyle("height",f-(e.$.offsetHeight-g)+"px");a.fire("resize")},modes:{wysiwyg:1,source:1}});a.setKeystroke(CKEDITOR.ALT+
(CKEDITOR.env.ie||CKEDITOR.env.webkit?189:109),"toolbarCollapse");g.push('<a title="'+(d?a.lang.toolbar.toolbarCollapse:a.lang.toolbar.toolbarExpand)+'" id="'+a.ui.spaceId("toolbar_collapser")+'" tabIndex="-1" class="cke_toolbox_collapser');d||g.push(" cke_toolbox_collapser_min");g.push('" onclick="CKEDITOR.tools.callFunction('+v+')">','<span class="cke_arrow">&#9650;</span>',"</a>")}g.push("</span>");c.data.html+=g.join("")}});a.on("destroy",function(){if(this.toolbox){var a,d=0,b,e,f;for(a=this.toolbox.toolbars;d<
a.length;d++){e=a[d].items;for(b=0;b<e.length;b++)f=e[b],f.clickFn&&CKEDITOR.tools.removeFunction(f.clickFn),f.keyDownFn&&CKEDITOR.tools.removeFunction(f.keyDownFn)}}});a.on("uiReady",function(){var c=a.ui.space("toolbox");c&&a.focusManager.add(c,1)});a.addCommand("toolbarFocus",x);a.setKeystroke(CKEDITOR.ALT+121,"toolbarFocus");a.ui.add("-",CKEDITOR.UI_SEPARATOR,{});a.ui.addHandler(CKEDITOR.UI_SEPARATOR,{create:function(){return{render:function(a,d){d.push('<span class="cke_toolbar_separator" role="separator"></span>');
return{}}}}})}});CKEDITOR.ui.prototype.addToolbarGroup=function(a,e,h){var c=o(this.editor),d=0===e,b={name:a};if(h){if(h=CKEDITOR.tools.search(c,function(a){return a.name==h})){!h.groups&&(h.groups=[]);if(e&&(e=CKEDITOR.tools.indexOf(h.groups,e),0<=e)){h.groups.splice(e+1,0,a);return}d?h.groups.splice(0,0,a):h.groups.push(a);return}e=null}e&&(e=CKEDITOR.tools.indexOf(c,function(a){return a.name==e}));d?c.splice(0,0,a):"number"==typeof e?c.splice(e+1,0,b):c.push(a)}})();CKEDITOR.UI_SEPARATOR="separator";
CKEDITOR.config.toolbarLocation="top";(function(){function C(c,j,f){function b(b){if((d=a[b?"getFirst":"getLast"]())&&(!d.is||!d.isBlockBoundary())&&(m=j.root[b?"getPrevious":"getNext"](CKEDITOR.dom.walker.invisible(!0)))&&(!m.is||!m.isBlockBoundary({br:1})))c.document.createElement("br")[b?"insertBefore":"insertAfter"](d)}for(var i=CKEDITOR.plugins.list.listToArray(j.root,f),e=[],h=0;h<j.contents.length;h++){var g=j.contents[h];if((g=g.getAscendant("li",!0))&&!g.getCustomData("list_item_processed"))e.push(g),CKEDITOR.dom.element.setMarker(f,
g,"list_item_processed",!0)}g=null;for(h=0;h<e.length;h++)g=e[h].getCustomData("listarray_index"),i[g].indent=-1;for(h=g+1;h<i.length;h++)if(i[h].indent>i[h-1].indent+1){e=i[h-1].indent+1-i[h].indent;for(g=i[h].indent;i[h]&&i[h].indent>=g;)i[h].indent+=e,h++;h--}var a=CKEDITOR.plugins.list.arrayToList(i,f,null,c.config.enterMode,j.root.getAttribute("dir")).listNode,d,m;b(!0);b();a.replace(j.root)}function x(c,j){this.name=c;this.context=this.type=j}function y(c,j,f,b){for(var i,e;i=c[b?"getLast":
"getFirst"](D);)(e=i.getDirection(1))!==j.getDirection(1)&&i.setAttribute("dir",e),i.remove(),f?i[b?"insertBefore":"insertAfter"](f):j.append(i,b)}function A(c){var j;(j=function(f){var b=c[f?"getPrevious":"getNext"](q);b&&(b.type==CKEDITOR.NODE_ELEMENT&&b.is(c.getName()))&&(y(c,b,null,!f),c.remove(),c=b)})();j(1)}function B(c){return c.type==CKEDITOR.NODE_ELEMENT&&(c.getName()in CKEDITOR.dtd.$block||c.getName()in CKEDITOR.dtd.$listItem)&&CKEDITOR.dtd[c.getName()]["#"]}function v(c,j,f){c.fire("saveSnapshot");
f.enlarge(CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS);var b=f.extractContents();j.trim(!1,!0);var i=j.createBookmark(),e=new CKEDITOR.dom.elementPath(j.startContainer),h=e.block,e=e.lastElement.getAscendant("li",1)||h,g=new CKEDITOR.dom.elementPath(f.startContainer),a=g.contains(CKEDITOR.dtd.$listItem),g=g.contains(CKEDITOR.dtd.$list);h?(h=h.getBogus())&&h.remove():g&&(h=g.getPrevious(q))&&u(h)&&h.remove();(h=b.getLast())&&(h.type==CKEDITOR.NODE_ELEMENT&&h.is("br"))&&h.remove();(h=j.startContainer.getChild(j.startOffset))?
b.insertBefore(h):j.startContainer.append(b);if(a&&(b=w(a)))e.contains(a)?(y(b,a.getParent(),a),b.remove()):e.append(b);for(;f.checkStartOfBlock()&&f.checkEndOfBlock();)g=f.startPath(),b=g.block,b.is("li")&&(e=b.getParent(),b.equals(e.getLast(q))&&b.equals(e.getFirst(q))&&(b=e)),f.moveToPosition(b,CKEDITOR.POSITION_BEFORE_START),b.remove();f=f.clone();b=c.editable();f.setEndAt(b,CKEDITOR.POSITION_BEFORE_END);f=new CKEDITOR.dom.walker(f);f.evaluator=function(a){return q(a)&&!u(a)};(f=f.next())&&(f.type==
CKEDITOR.NODE_ELEMENT&&f.getName()in CKEDITOR.dtd.$list)&&A(f);j.moveToBookmark(i);j.select();c.fire("saveSnapshot")}function w(c){return(c=c.getLast(q))&&c.type==CKEDITOR.NODE_ELEMENT&&c.getName()in r?c:null}var r={ol:1,ul:1},E=CKEDITOR.dom.walker.whitespaces(),F=CKEDITOR.dom.walker.bookmark(),q=function(c){return!(E(c)||F(c))},u=CKEDITOR.dom.walker.bogus();CKEDITOR.plugins.list={listToArray:function(c,j,f,b,i){if(!r[c.getName()])return[];b||(b=0);f||(f=[]);for(var e=0,h=c.getChildCount();e<h;e++){var g=
c.getChild(e);g.type==CKEDITOR.NODE_ELEMENT&&g.getName()in CKEDITOR.dtd.$list&&CKEDITOR.plugins.list.listToArray(g,j,f,b+1);if("li"==g.$.nodeName.toLowerCase()){var a={parent:c,indent:b,element:g,contents:[]};i?a.grandparent=i:(a.grandparent=c.getParent(),a.grandparent&&"li"==a.grandparent.$.nodeName.toLowerCase()&&(a.grandparent=a.grandparent.getParent()));j&&CKEDITOR.dom.element.setMarker(j,g,"listarray_index",f.length);f.push(a);for(var d=0,m=g.getChildCount(),k;d<m;d++)k=g.getChild(d),k.type==
CKEDITOR.NODE_ELEMENT&&r[k.getName()]?CKEDITOR.plugins.list.listToArray(k,j,f,b+1,a.grandparent):a.contents.push(k)}}return f},arrayToList:function(c,j,f,b,i){f||(f=0);if(!c||c.length<f+1)return null;for(var e,h=c[f].parent.getDocument(),g=new CKEDITOR.dom.documentFragment(h),a=null,d=f,m=Math.max(c[f].indent,0),k=null,n,l,p=b==CKEDITOR.ENTER_P?"p":"div";;){var o=c[d];e=o.grandparent;n=o.element.getDirection(1);if(o.indent==m){if(!a||c[d].parent.getName()!=a.getName())a=c[d].parent.clone(!1,1),i&&
a.setAttribute("dir",i),g.append(a);k=a.append(o.element.clone(0,1));n!=a.getDirection(1)&&k.setAttribute("dir",n);for(e=0;e<o.contents.length;e++)k.append(o.contents[e].clone(1,1));d++}else if(o.indent==Math.max(m,0)+1)l=c[d-1].element.getDirection(1),d=CKEDITOR.plugins.list.arrayToList(c,null,d,b,l!=n?n:null),!k.getChildCount()&&(CKEDITOR.env.ie&&!(7<h.$.documentMode))&&k.append(h.createText(" ")),k.append(d.listNode),d=d.nextIndex;else if(-1==o.indent&&!f&&e){r[e.getName()]?(k=o.element.clone(!1,
!0),n!=e.getDirection(1)&&k.setAttribute("dir",n)):k=new CKEDITOR.dom.documentFragment(h);var a=e.getDirection(1)!=n,s=o.element,z=s.getAttribute("class"),u=s.getAttribute("style"),w=k.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&(b!=CKEDITOR.ENTER_BR||a||u||z),t,x=o.contents.length;for(e=0;e<x;e++){t=o.contents[e];if(t.type==CKEDITOR.NODE_ELEMENT&&t.isBlockBoundary()){a&&!t.getDirection()&&t.setAttribute("dir",n);var v=t,y=s.getAttribute("style");y&&v.setAttribute("style",y.replace(/([^;])$/,"$1;")+(v.getAttribute("style")||
""));z&&t.addClass(z)}else w&&(l||(l=h.createElement(p),a&&l.setAttribute("dir",n)),u&&l.setAttribute("style",u),z&&l.setAttribute("class",z),l.append(t.clone(1,1)));k.append(l||t.clone(1,1))}k.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&d!=c.length-1&&((n=k.getLast())&&(n.type==CKEDITOR.NODE_ELEMENT&&"_moz"==n.getAttribute("type"))&&n.remove(),(!k.getLast(q)||!(n.type==CKEDITOR.NODE_ELEMENT&&n.getName()in CKEDITOR.dtd.$block))&&k.append(h.createElement("br")));n=k.$.nodeName.toLowerCase();!CKEDITOR.env.ie&&
("div"==n||"p"==n)&&k.appendBogus();g.append(k);a=null;d++}else return null;l=null;if(c.length<=d||Math.max(c[d].indent,0)<m)break}if(j)for(c=g.getFirst();c;){if(c.type==CKEDITOR.NODE_ELEMENT&&(CKEDITOR.dom.element.clearMarkers(j,c),c.getName()in CKEDITOR.dtd.$listItem&&(f=c,h=i=b=void 0,b=f.getDirection()))){for(i=f.getParent();i&&!(h=i.getDirection());)i=i.getParent();b==h&&f.removeAttribute("dir")}c=c.getNextSourceNode()}return{listNode:g,nextIndex:d}}};var G=/^h[1-6]$/,D=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT);
x.prototype={exec:function(c){this.refresh(c,c.elementPath());var j=c.config,f=c.getSelection(),b=f&&f.getRanges(!0);if(this.state==CKEDITOR.TRISTATE_OFF){var i=c.editable();if(i.getFirst(q)){var e=1==b.length&&b[0];(j=e&&e.getEnclosedNode())&&(j.is&&this.type==j.getName())&&this.setState(CKEDITOR.TRISTATE_ON)}else j.enterMode==CKEDITOR.ENTER_BR?i.appendBogus():b[0].fixBlock(1,j.enterMode==CKEDITOR.ENTER_P?"p":"div"),f.selectRanges(b)}for(var j=f.createBookmarks(!0),i=[],h={},b=b.createIterator(),
g=0;(e=b.getNextRange())&&++g;){var a=e.getBoundaryNodes(),d=a.startNode,m=a.endNode;d.type==CKEDITOR.NODE_ELEMENT&&"td"==d.getName()&&e.setStartAt(a.startNode,CKEDITOR.POSITION_AFTER_START);m.type==CKEDITOR.NODE_ELEMENT&&"td"==m.getName()&&e.setEndAt(a.endNode,CKEDITOR.POSITION_BEFORE_END);e=e.createIterator();for(e.forceBrBreak=this.state==CKEDITOR.TRISTATE_OFF;a=e.getNextParagraph();)if(!a.getCustomData("list_block")){CKEDITOR.dom.element.setMarker(h,a,"list_block",1);for(var k=c.elementPath(a),
d=k.elements,m=0,k=k.blockLimit,n,l=d.length-1;0<=l&&(n=d[l]);l--)if(r[n.getName()]&&k.contains(n)){k.removeCustomData("list_group_object_"+g);(d=n.getCustomData("list_group_object"))?d.contents.push(a):(d={root:n,contents:[a]},i.push(d),CKEDITOR.dom.element.setMarker(h,n,"list_group_object",d));m=1;break}m||(m=k,m.getCustomData("list_group_object_"+g)?m.getCustomData("list_group_object_"+g).contents.push(a):(d={root:m,contents:[a]},CKEDITOR.dom.element.setMarker(h,m,"list_group_object_"+g,d),i.push(d)))}}for(n=
[];0<i.length;)if(d=i.shift(),this.state==CKEDITOR.TRISTATE_OFF)if(r[d.root.getName()]){a=c;b=d;d=h;g=n;m=CKEDITOR.plugins.list.listToArray(b.root,d);k=[];for(e=0;e<b.contents.length;e++)if(l=b.contents[e],(l=l.getAscendant("li",!0))&&!l.getCustomData("list_item_processed"))k.push(l),CKEDITOR.dom.element.setMarker(d,l,"list_item_processed",!0);for(var l=b.root.getDocument(),p=void 0,o=void 0,e=0;e<k.length;e++){var s=k[e].getCustomData("listarray_index"),p=m[s].parent;p.is(this.type)||(o=l.createElement(this.type),
p.copyAttributes(o,{start:1,type:1}),o.removeStyle("list-style-type"),m[s].parent=o)}a=CKEDITOR.plugins.list.arrayToList(m,d,null,a.config.enterMode);d=void 0;m=a.listNode.getChildCount();for(e=0;e<m&&(d=a.listNode.getChild(e));e++)d.getName()==this.type&&g.push(d);a.listNode.replace(b.root)}else{m=c;a=d;e=n;k=a.contents;b=a.root.getDocument();g=[];1==k.length&&k[0].equals(a.root)&&(d=b.createElement("div"),k[0].moveChildren&&k[0].moveChildren(d),k[0].append(d),k[0]=d);a=a.contents[0].getParent();
for(l=0;l<k.length;l++)a=a.getCommonAncestor(k[l].getParent());p=m.config.useComputedState;m=d=void 0;p=void 0===p||p;for(l=0;l<k.length;l++)for(o=k[l];s=o.getParent();){if(s.equals(a)){g.push(o);!m&&o.getDirection()&&(m=1);o=o.getDirection(p);null!==d&&(d=d&&d!=o?null:o);break}o=s}if(!(1>g.length)){k=g[g.length-1].getNext();l=b.createElement(this.type);e.push(l);for(p=e=void 0;g.length;)e=g.shift(),p=b.createElement("li"),e.is("pre")||G.test(e.getName())?e.appendTo(p):(e.copyAttributes(p),d&&e.getDirection()&&
(p.removeStyle("direction"),p.removeAttribute("dir")),e.moveChildren(p),e.remove()),p.appendTo(l);d&&m&&l.setAttribute("dir",d);k?l.insertBefore(k):l.appendTo(a)}}else this.state==CKEDITOR.TRISTATE_ON&&r[d.root.getName()]&&C.call(this,c,d,h);for(l=0;l<n.length;l++)A(n[l]);CKEDITOR.dom.element.clearAllMarkers(h);f.selectBookmarks(j);c.focus()},refresh:function(c,j){var f=j.contains(r,1),b=j.blockLimit||j.root;f&&b.contains(f)?this.setState(f.is(this.type)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF):
this.setState(CKEDITOR.TRISTATE_OFF)}};CKEDITOR.plugins.add("list",{init:function(c){c.blockless||(c.addCommand("numberedlist",new x("numberedlist","ol")),c.addCommand("bulletedlist",new x("bulletedlist","ul")),c.ui.addButton&&(c.ui.addButton("NumberedList",{label:c.lang.list.numberedlist,command:"numberedlist",directional:!0,toolbar:"list,10"}),c.ui.addButton("BulletedList",{label:c.lang.list.bulletedlist,command:"bulletedlist",directional:!0,toolbar:"list,20"})),c.on("key",function(j){var f=j.data.keyCode;
if(c.mode=="wysiwyg"&&f in{8:1,46:1}){var b=c.getSelection().getRanges()[0],i=b.startPath();if(b.collapsed){var i=new CKEDITOR.dom.elementPath(b.startContainer),e=f==8,h=c.editable(),g=new CKEDITOR.dom.walker(b.clone());g.evaluator=function(a){return q(a)&&!u(a)};g.guard=function(a,b){return!(b&&a.type==CKEDITOR.NODE_ELEMENT&&a.is("table"))};f=b.clone();if(e){var a,d;if((a=i.contains(r))&&b.checkBoundaryOfElement(a,CKEDITOR.START)&&(a=a.getParent())&&a.is("li")&&(a=w(a))){d=a;a=a.getPrevious(q);f.moveToPosition(a&&
u(a)?a:d,CKEDITOR.POSITION_BEFORE_START)}else{g.range.setStartAt(h,CKEDITOR.POSITION_AFTER_START);g.range.setEnd(b.startContainer,b.startOffset);if((a=g.previous())&&a.type==CKEDITOR.NODE_ELEMENT&&(a.getName()in r||a.is("li"))){if(!a.is("li")){g.range.selectNodeContents(a);g.reset();g.evaluator=B;a=g.previous()}d=a;f.moveToElementEditEnd(d)}}if(d){v(c,f,b);j.cancel()}else if((f=i.contains(r))&&b.checkBoundaryOfElement(f,CKEDITOR.START)){d=f.getFirst(q);if(b.checkBoundaryOfElement(d,CKEDITOR.START)){a=
f.getPrevious(q);if(w(d)){if(a){b.moveToElementEditEnd(a);b.select()}}else c.execCommand("outdent");j.cancel()}}}else if(d=i.contains("li")){g.range.setEndAt(h,CKEDITOR.POSITION_BEFORE_END);h=(i=d.getLast(q))&&B(i)?i:d;d=0;if((a=g.next())&&a.type==CKEDITOR.NODE_ELEMENT&&a.getName()in r&&a.equals(i)){d=1;a=g.next()}else b.checkBoundaryOfElement(h,CKEDITOR.END)&&(d=1);if(d&&a){b=b.clone();b.moveToElementEditStart(a);v(c,f,b);j.cancel()}}else{g.range.setEndAt(h,CKEDITOR.POSITION_BEFORE_END);if((a=g.next())&&
a.type==CKEDITOR.NODE_ELEMENT&&a.is(r)){a=a.getFirst(q);if(i.block&&b.checkStartOfBlock()&&b.checkEndOfBlock()){i.block.remove();b.moveToElementEditStart(a);b.select()}else if(w(a)){b.moveToElementEditStart(a);b.select()}else{b=b.clone();b.moveToElementEditStart(a);v(c,f,b)}j.cancel()}}setTimeout(function(){c.selectionChange(1)})}}}))}})})();(function(){function p(d,i){this.name=i;if(this.useIndentClasses=d.config.indentClasses&&0<d.config.indentClasses.length){this.classNameRegex=RegExp("(?:^|\\s+)("+d.config.indentClasses.join("|")+")(?=$|\\s)");this.indentClassMap={};for(var a=0;a<d.config.indentClasses.length;a++)this.indentClassMap[d.config.indentClasses[a]]=a+1}this.startDisabled="outdent"==i}function r(d,i){return"ltr"==(i||d.getComputedStyle("direction"))?"margin-left":"margin-right"}function q(d){return d.type==CKEDITOR.NODE_ELEMENT&&
d.is("li")}var m={ol:1,ul:1},t=CKEDITOR.dom.walker.whitespaces(!0),u=CKEDITOR.dom.walker.bookmark(!1,!0);p.prototype={context:"p",refresh:function(d,i){var a=i&&i.contains(m),f=i.block||i.blockLimit;a?this.setState(CKEDITOR.TRISTATE_OFF):!this.useIndentClasses&&"indent"==this.name?this.setState(CKEDITOR.TRISTATE_OFF):f?this.useIndentClasses?(a=f.$.className.match(this.classNameRegex),f=0,a&&(a=a[1],f=this.indentClassMap[a]),"outdent"==this.name&&!f||"indent"==this.name&&f==d.config.indentClasses.length?
this.setState(CKEDITOR.TRISTATE_DISABLED):this.setState(CKEDITOR.TRISTATE_OFF)):(a=parseInt(f.getStyle(r(f)),10),isNaN(a)&&(a=0),0>=a?this.setState(CKEDITOR.TRISTATE_DISABLED):this.setState(CKEDITOR.TRISTATE_OFF)):this.setState(CKEDITOR.TRISTATE_DISABLED)},exec:function(d){function i(n){for(var h=l.startContainer,b=l.endContainer;h&&!h.getParent().equals(n);)h=h.getParent();for(;b&&!b.getParent().equals(n);)b=b.getParent();if(h&&b){for(var c=h,h=[],a=!1;!a;)c.equals(b)&&(a=!0),h.push(c),c=c.getNext();
if(!(1>h.length)){c=n.getParents(!0);for(b=0;b<c.length;b++)if(c[b].getName&&m[c[b].getName()]){n=c[b];break}for(var c="indent"==e.name?1:-1,b=h[0],h=h[h.length-1],a=CKEDITOR.plugins.list.listToArray(n,o),k=a[h.getCustomData("listarray_index")].indent,b=b.getCustomData("listarray_index");b<=h.getCustomData("listarray_index");b++)if(a[b].indent+=c,0<c){var i=a[b].parent;a[b].parent=new CKEDITOR.dom.element(i.getName(),i.getDocument())}for(b=h.getCustomData("listarray_index")+1;b<a.length&&a[b].indent>
k;b++)a[b].indent+=c;h=CKEDITOR.plugins.list.arrayToList(a,o,null,d.config.enterMode,n.getDirection());if("outdent"==e.name){var j;if((j=n.getParent())&&j.is("li"))for(var c=h.listNode.getChildren(),f=[],g,b=c.count()-1;0<=b;b--)(g=c.getItem(b))&&(g.is&&g.is("li"))&&f.push(g)}h&&h.listNode.replace(n);if(f&&f.length)for(b=0;b<f.length;b++){for(g=n=f[b];(g=g.getNext())&&g.is&&g.getName()in m;)CKEDITOR.env.ie&&!n.getFirst(function(b){return t(b)&&u(b)})&&n.append(l.document.createText(" ")),n.append(g);
n.insertAfter(j)}}}}function a(){var a=l.createIterator(),e=d.config.enterMode;a.enforceRealBlocks=!0;a.enlargeBr=e!=CKEDITOR.ENTER_BR;for(var b;b=a.getNextParagraph(e==CKEDITOR.ENTER_P?"p":"div");)f(b)}function f(a,g){if(a.getCustomData("indent_processed"))return!1;if(e.useIndentClasses){var b=a.$.className.match(e.classNameRegex),c=0;b&&(b=b[1],c=e.indentClassMap[b]);"outdent"==e.name?c--:c++;if(0>c)return!1;c=Math.min(c,d.config.indentClasses.length);c=Math.max(c,0);a.$.className=CKEDITOR.tools.ltrim(a.$.className.replace(e.classNameRegex,
""));0<c&&a.addClass(d.config.indentClasses[c-1])}else{b=r(a,g);c=parseInt(a.getStyle(b),10);isNaN(c)&&(c=0);var f=d.config.indentOffset||40,c=c+("indent"==e.name?1:-1)*f;if(0>c)return!1;c=Math.max(c,0);c=Math.ceil(c/f)*f;a.setStyle(b,c?c+(d.config.indentUnit||"px"):"");""===a.getAttribute("style")&&a.removeAttribute("style")}CKEDITOR.dom.element.setMarker(o,a,"indent_processed",1);return!0}for(var e=this,o={},g=d.getSelection(),v=g.createBookmarks(1),l,p=(g&&g.getRanges(1)).createIterator();l=p.getNextRange();){for(var j=
l.getCommonAncestor();j&&!(j.type==CKEDITOR.NODE_ELEMENT&&m[j.getName()]);)j=j.getParent();if(!j){var k=l.getEnclosedNode();k&&(k.type==CKEDITOR.NODE_ELEMENT&&k.getName()in m)&&(l.setStartAt(k,CKEDITOR.POSITION_AFTER_START),l.setEndAt(k,CKEDITOR.POSITION_BEFORE_END),j=k)}j&&(l.startContainer.type==CKEDITOR.NODE_ELEMENT&&l.startContainer.getName()in m)&&(k=new CKEDITOR.dom.walker(l),k.evaluator=q,l.startContainer=k.next());j&&(l.endContainer.type==CKEDITOR.NODE_ELEMENT&&l.endContainer.getName()in m)&&
(k=new CKEDITOR.dom.walker(l),k.evaluator=q,l.endContainer=k.previous());if(j){var k=j.getFirst(q),w=!!k.getNext(q),s=l.startContainer;(!k.equals(s)&&!k.contains(s)||!("indent"==e.name||e.useIndentClasses||parseInt(j.getStyle(r(j)),10))||!f(j,!w&&k.getDirection()))&&i(j)}else a()}CKEDITOR.dom.element.clearAllMarkers(o);d.forceNextSelectionCheck();g.selectBookmarks(v)}};CKEDITOR.plugins.add("indent",{requires:"list",onLoad:function(){(CKEDITOR.env.ie6Compat||CKEDITOR.env.ie7Compat)&&CKEDITOR.addCss(".cke_editable ul,.cke_editable ol{\tmargin-left: 0px;\tpadding-left: 40px;}")},
init:function(d){d.blockless||(d.addCommand("indent",new p(d,"indent")),d.addCommand("outdent",new p(d,"outdent")),d.ui.addButton&&(d.ui.addButton("Indent",{label:d.lang.indent.indent,command:"indent",directional:!0,toolbar:"indent,20"}),d.ui.addButton("Outdent",{label:d.lang.indent.outdent,command:"outdent",directional:!0,toolbar:"indent,10"})),d.on("dirChanged",function(i){var a=d.createRange();a.setStartBefore(i.data.node);a.setEndAfter(i.data.node);for(var f=new CKEDITOR.dom.walker(a),e;e=f.next();)if(e.type==
CKEDITOR.NODE_ELEMENT)if(!e.equals(i.data.node)&&e.getDirection()){a.setStartAfter(e);f=new CKEDITOR.dom.walker(a)}else{var o=d.config.indentClasses;if(o)for(var g=i.data.dir=="ltr"?["_rtl",""]:["","_rtl"],m=0;m<o.length;m++)if(e.hasClass(o[m]+g[0])){e.removeClass(o[m]+g[0]);e.addClass(o[m]+g[1])}o=e.getStyle("margin-right");g=e.getStyle("margin-left");o?e.setStyle("margin-left",o):e.removeStyle("margin-left");g?e.setStyle("margin-right",g):e.removeStyle("margin-right")}}))}})})();(function(){function m(a,d,b){b=a.config.forceEnterMode||b;if("wysiwyg"!=a.mode)return!1;d||(d=a.config.enterMode);a.elementPath().isContextFor("p")||(d=CKEDITOR.ENTER_BR,b=1);a.fire("saveSnapshot");d==CKEDITOR.ENTER_BR?n(a,d,null,b):o(a,d,null,b);a.fire("saveSnapshot");return!0}function p(a){for(var a=a.getSelection().getRanges(!0),d=a.length-1;0<d;d--)a[d].deleteContents();return a[0]}CKEDITOR.plugins.add("enterkey",{requires:"indent",init:function(a){a.addCommand("enter",{modes:{wysiwyg:1},editorFocus:!1,
exec:function(a){m(a)}});a.addCommand("shiftEnter",{modes:{wysiwyg:1},editorFocus:!1,exec:function(a){"wysiwyg"==a.mode&&m(a,a.config.shiftEnterMode,1)}});a.setKeystroke([[13,"enter"],[CKEDITOR.SHIFT+13,"shiftEnter"]])}});var s=CKEDITOR.dom.walker.whitespaces(),t=CKEDITOR.dom.walker.bookmark();CKEDITOR.plugins.enterkey={enterBlock:function(a,d,b,i){if(b=b||p(a)){var f=b.document,j=b.checkStartOfBlock(),h=b.checkEndOfBlock(),c=a.elementPath(b.startContainer).block;if(j&&h){if(c&&(c.is("li")||c.getParent().is("li"))){a.execCommand("outdent");
return}if(c&&c.getParent().is("blockquote")){c.breakParent(c.getParent());c.getPrevious().getFirst(CKEDITOR.dom.walker.invisible(1))||c.getPrevious().remove();c.getNext().getFirst(CKEDITOR.dom.walker.invisible(1))||c.getNext().remove();b.moveToElementEditStart(c);b.select();return}}else if(c&&c.is("pre")&&!h){n(a,d,b,i);return}var c=d==CKEDITOR.ENTER_DIV?"div":"p",l=b.splitBlock(c);if(l){var d=l.previousBlock,a=l.nextBlock,j=l.wasStartOfBlock,h=l.wasEndOfBlock,g;if(a)g=a.getParent(),g.is("li")&&(a.breakParent(g),
a.move(a.getNext(),1));else if(d&&(g=d.getParent())&&g.is("li"))d.breakParent(g),g=d.getNext(),b.moveToElementEditStart(g),d.move(d.getPrevious());if(!j&&!h){if(a.is("li")){var e=b.clone();e.selectNodeContents(a);e=new CKEDITOR.dom.walker(e);e.evaluator=function(a){return!(t(a)||s(a)||a.type==CKEDITOR.NODE_ELEMENT&&a.getName()in CKEDITOR.dtd.$inline&&!(a.getName()in CKEDITOR.dtd.$empty))};(g=e.next())&&(g.type==CKEDITOR.NODE_ELEMENT&&g.is("ul","ol"))&&(CKEDITOR.env.ie?f.createText(" "):f.createElement("br")).insertBefore(g)}a&&
b.moveToElementEditStart(a)}else{var k;if(d){if(d.is("li")||!q.test(d.getName())&&!d.is("pre"))e=d.clone()}else a&&(e=a.clone());e?i&&!e.is("li")&&e.renameNode(c):g&&g.is("li")?e=g:(e=f.createElement(c),d&&(k=d.getDirection())&&e.setAttribute("dir",k));if(f=l.elementPath){i=0;for(g=f.elements.length;i<g;i++){k=f.elements[i];if(k.equals(f.block)||k.equals(f.blockLimit))break;CKEDITOR.dtd.$removeEmpty[k.getName()]&&(k=k.clone(),e.moveChildren(k),e.append(k))}}CKEDITOR.env.ie||e.appendBogus();e.getParent()||
b.insertNode(e);e.is("li")&&e.removeAttribute("value");if(CKEDITOR.env.ie&&j&&(!h||!d.getChildCount()))b.moveToElementEditStart(h?d:e),b.select();b.moveToElementEditStart(j&&!h?a:e)}b.select();b.scrollIntoView()}}},enterBr:function(a,d,b,i){if(b=b||p(a)){var f=b.document,j=b.checkEndOfBlock(),h=new CKEDITOR.dom.elementPath(a.getSelection().getStartElement()),c=h.block,h=c&&h.block.getName();!i&&"li"==h?o(a,d,b,i):(!i&&j&&q.test(h)?(j=c.getDirection())?(f=f.createElement("div"),f.setAttribute("dir",
j),f.insertAfter(c),b.setStart(f,0)):(f.createElement("br").insertAfter(c),CKEDITOR.env.gecko&&f.createText("").insertAfter(c),b.setStartAt(c.getNext(),CKEDITOR.env.ie?CKEDITOR.POSITION_BEFORE_START:CKEDITOR.POSITION_AFTER_START)):(c="pre"==h&&CKEDITOR.env.ie&&8>CKEDITOR.env.version?f.createText("\r"):f.createElement("br"),b.deleteContents(),b.insertNode(c),CKEDITOR.env.ie?b.setStartAt(c,CKEDITOR.POSITION_AFTER_END):(f.createText("﻿").insertAfter(c),j&&c.getParent().appendBogus(),c.getNext().$.nodeValue=
"",b.setStartAt(c.getNext(),CKEDITOR.POSITION_AFTER_START))),b.collapse(!0),b.select(),b.scrollIntoView())}}};var r=CKEDITOR.plugins.enterkey,n=r.enterBr,o=r.enterBlock,q=/^h[1-6]$/})();(function(){function j(a,b){var d={},e=[],f={nbsp:" ",shy:"­",gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},a=a.replace(/\b(nbsp|shy|gt|lt|amp|apos|quot)(?:,|$)/g,function(a,h){var c=b?"&"+h+";":f[h];d[c]=b?f[h]:"&"+h+";";e.push(c);return""});if(!b&&a){var a=a.split(","),c=document.createElement("div"),g;c.innerHTML="&"+a.join(";&")+";";g=c.innerHTML;c=null;for(c=0;c<g.length;c++){var i=g.charAt(c);d[i]="&"+a[c]+";";e.push(i)}}d.regex=e.join(b?"|":"");return d}CKEDITOR.plugins.add("entities",{afterInit:function(a){var b=
a.config;if(a=(a=a.dataProcessor)&&a.htmlFilter){var d=[];!1!==b.basicEntities&&d.push("nbsp,gt,lt,amp");b.entities&&(d.length&&d.push("quot,iexcl,cent,pound,curren,yen,brvbar,sect,uml,copy,ordf,laquo,not,shy,reg,macr,deg,plusmn,sup2,sup3,acute,micro,para,middot,cedil,sup1,ordm,raquo,frac14,frac12,frac34,iquest,times,divide,fnof,bull,hellip,prime,Prime,oline,frasl,weierp,image,real,trade,alefsym,larr,uarr,rarr,darr,harr,crarr,lArr,uArr,rArr,dArr,hArr,forall,part,exist,empty,nabla,isin,notin,ni,prod,sum,minus,lowast,radic,prop,infin,ang,and,or,cap,cup,int,there4,sim,cong,asymp,ne,equiv,le,ge,sub,sup,nsub,sube,supe,oplus,otimes,perp,sdot,lceil,rceil,lfloor,rfloor,lang,rang,loz,spades,clubs,hearts,diams,circ,tilde,ensp,emsp,thinsp,zwnj,zwj,lrm,rlm,ndash,mdash,lsquo,rsquo,sbquo,ldquo,rdquo,bdquo,dagger,Dagger,permil,lsaquo,rsaquo,euro"),
b.entities_latin&&d.push("Agrave,Aacute,Acirc,Atilde,Auml,Aring,AElig,Ccedil,Egrave,Eacute,Ecirc,Euml,Igrave,Iacute,Icirc,Iuml,ETH,Ntilde,Ograve,Oacute,Ocirc,Otilde,Ouml,Oslash,Ugrave,Uacute,Ucirc,Uuml,Yacute,THORN,szlig,agrave,aacute,acirc,atilde,auml,aring,aelig,ccedil,egrave,eacute,ecirc,euml,igrave,iacute,icirc,iuml,eth,ntilde,ograve,oacute,ocirc,otilde,ouml,oslash,ugrave,uacute,ucirc,uuml,yacute,thorn,yuml,OElig,oelig,Scaron,scaron,Yuml"),b.entities_greek&&d.push("Alpha,Beta,Gamma,Delta,Epsilon,Zeta,Eta,Theta,Iota,Kappa,Lambda,Mu,Nu,Xi,Omicron,Pi,Rho,Sigma,Tau,Upsilon,Phi,Chi,Psi,Omega,alpha,beta,gamma,delta,epsilon,zeta,eta,theta,iota,kappa,lambda,mu,nu,xi,omicron,pi,rho,sigmaf,sigma,tau,upsilon,phi,chi,psi,omega,thetasym,upsih,piv"),
b.entities_additional&&d.push(b.entities_additional));var e=j(d.join(",")),f=e.regex?"["+e.regex+"]":"a^";delete e.regex;b.entities&&b.entities_processNumerical&&(f="[^ -~]|"+f);var f=RegExp(f,"g"),c=function(a){return b.entities_processNumerical=="force"||!e[a]?"&#"+a.charCodeAt(0)+";":e[a]},g=j("nbsp,gt,lt,amp,shy",!0),i=RegExp(g.regex,"g"),k=function(a){return g[a]};a.addRules({text:function(a){return a.replace(i,k).replace(f,c)}})}}})})();CKEDITOR.config.basicEntities=!0;
CKEDITOR.config.entities=!0;CKEDITOR.config.entities_latin=!0;CKEDITOR.config.entities_greek=!0;CKEDITOR.config.entities_additional="#39";(function(){function t(a){var e="left"==a?"pageXOffset":"pageYOffset";return e in g.$?g.$[e]:CKEDITOR.document.$.documentElement["left"==a?"scrollLeft":"scrollTop"]}function p(a){var e,f=a.config,p=f.floatSpaceDockedOffsetX||0,o=f.floatSpaceDockedOffsetY||0,u=f.floatSpacePinnedOffsetX||0,q=f.floatSpacePinnedOffsetY||0,i=function(c){function f(a,c,b){d.setStyle(c,s(b));d.setStyle("position",a)}function j(a){var c=n.getDocumentPosition();switch(a){case "top":f("absolute","top",c.y-l-o);break;case "pin":f("fixed",
"top",q);break;case "bottom":f("absolute","top",c.y+(b.height||b.bottom-b.top)+o)}e=a}"focus"==c.name&&d.show();d.removeStyle("left");d.removeStyle("right");var n=a.editable(),k=d.getClientRect(),b=n.getClientRect(),l=k.height,r=t("left");if(e){"top"==e&&k.top<q?j("pin"):"pin"==e?b.top>o+l?j("top"):b.bottom-k.bottom<l&&j("bottom"):"bottom"==e&&(b.top>o+l?j("top"):b.bottom>2*l+q&&j("pin"));var c=g.getViewPaneSize(),h=c.width/2,h=0<b.left&&b.right<c.width&&b.width>k.width?"rtl"==a.config.contentsLangDirection?
"right":"left":h-b.left>b.right-h?"left":"right",m;k.width>c.width?(h="left",m=0):(m="left"==h?0<b.left?b.left:0:b.right<c.width?c.width-b.right:0,m+k.width>c.width&&(h="left"==h?"right":"left",m=0));d.setStyle(h,s(("pin"==e?u:p)+m+("pin"==e?0:r)))}else e="pin",j("pin"),i(c)},f=CKEDITOR.document.getBody(),r={id:a.id,name:a.name,langDir:a.lang.dir,langCode:a.langCode},n=a.fire("uiSpace",{space:"top",html:""}).html;if(n){var d=f.append(CKEDITOR.dom.element.createFromHtml(v.output(CKEDITOR.tools.extend({topId:a.ui.spaceId("top"),
content:n,style:"display:none;z-index:"+(a.config.baseFloatZIndex-1)},r))));d.unselectable();d.on("mousedown",function(a){a=a.data;a.getTarget().hasAscendant("a",1)||a.preventDefault()});a.on("focus",function(a){i(a);g.on("scroll",i);g.on("resize",i)});a.on("blur",function(){d.hide();g.removeListener("scroll",i);g.removeListener("resize",i)});a.on("destroy",function(){g.removeListener("scroll",i);g.removeListener("resize",i);d.clearCustomData();d.remove()});a.focusManager.hasFocus&&d.show();a.focusManager.add(d,
1)}}var v=CKEDITOR.addTemplate("floatcontainer",'<div id="cke_{name}" class="cke {id} cke_reset_all cke_chrome cke_editor_{name} cke_float cke_{langDir} '+CKEDITOR.env.cssClass+'" dir="{langDir}" title="'+(CKEDITOR.env.gecko?" ":"")+'" lang="{langCode}" role="application" style="{style}"><div class="cke_inner"><div id="{topId}" class="cke_top" role="presentation">{content}</div></div></div>');CKEDITOR.plugins.add("floatingspace",{init:function(a){a.on("contentDom",function(){p(a)})}});var g=CKEDITOR.document.getWindow(),
s=CKEDITOR.tools.cssLength})();(function(){function n(a){var c=this.editor,d=a.document,b=d.body;(a=d.getElementById("cke_actscrpt"))&&a.parentNode.removeChild(a);(a=d.getElementById("cke_shimscrpt"))&&a.parentNode.removeChild(a);CKEDITOR.env.gecko&&(b.contentEditable=!1,2E4>CKEDITOR.env.version&&(b.innerHTML=b.innerHTML.replace(/^.*<\!-- cke-content-start --\>/,""),setTimeout(function(){var a=new CKEDITOR.dom.range(new CKEDITOR.dom.document(d));a.setStart(new CKEDITOR.dom.node(b),0);c.getSelection().selectRanges([a])},0)));b.contentEditable=
!0;CKEDITOR.env.ie&&(b.hideFocus=!0,b.disabled=!0,b.removeAttribute("disabled"));delete this._.isLoadingData;this.$=b;d=new CKEDITOR.dom.document(d);this.setup();CKEDITOR.env.ie&&(d.getDocumentElement().addClass(d.$.compatMode),c.config.enterMode!=CKEDITOR.ENTER_P&&d.on("selectionchange",function(){var a=d.getBody(),b=c.getSelection(),e=b&&b.getRanges()[0];e&&(a.getHtml().match(/^<p>&nbsp;<\/p>$/i)&&e.startContainer.equals(a))&&setTimeout(function(){e=c.getSelection().getRanges()[0];if(!e.startContainer.equals("body")){a.getFirst().remove(1);
e.moveToElementEditEnd(a);e.select()}},0)}));CKEDITOR.env.gecko&&CKEDITOR.tools.setTimeout(o,0,this,c);try{c.document.$.execCommand("2D-position",!1,!0)}catch(e){}try{c.document.$.execCommand("enableInlineTableEditing",!1,!c.config.disableNativeTableHandles)}catch(f){}if(c.config.disableObjectResizing)try{this.getDocument().$.execCommand("enableObjectResizing",!1,!1)}catch(g){this.attachListener(this,CKEDITOR.env.ie?"resizestart":"resize",function(a){a.data.preventDefault()})}(CKEDITOR.env.gecko||
CKEDITOR.env.ie&&"CSS1Compat"==c.document.$.compatMode)&&this.attachListener(this,"keydown",function(a){var b=a.data.getKeystroke();if(b==33||b==34)if(CKEDITOR.env.ie)setTimeout(function(){c.getSelection().scrollIntoView()},0);else if(c.window.$.innerHeight>this.$.offsetHeight){var d=c.createRange();d[b==33?"moveToElementEditStart":"moveToElementEditEnd"](this);d.select();a.data.preventDefault()}});CKEDITOR.env.ie&&this.attachListener(d,"blur",function(){try{d.$.selection.empty()}catch(a){}});c.document.getElementsByTag("title").getItem(0).data("cke-title",
c.document.$.title);CKEDITOR.env.ie&&(c.document.$.title=this._.docTitle);CKEDITOR.tools.setTimeout(function(){c.fire("contentDom");if(this._.isPendingFocus){c.focus();this._.isPendingFocus=false}setTimeout(function(){c.fire("dataReady")},0);CKEDITOR.env.ie&&setTimeout(function(){if(c.document){var a=c.document.$.body;a.runtimeStyle.marginBottom="0px";a.runtimeStyle.marginBottom=""}},1E3)},0,this)}function p(a){a.checkDirty()||setTimeout(function(){a.resetDirty()},0)}function o(a){if(!a.readOnly){var c=
a.window,d=a.document,b=d.getBody(),e=b.getFirst(),f=b.getChildren().count();if(!f||1==f&&e.type==CKEDITOR.NODE_ELEMENT&&e.hasAttribute("_moz_editor_bogus_node")){p(a);var e=CKEDITOR.document,g=e.getDocumentElement(),h=g.$.scrollTop,i=g.$.scrollLeft,j=d.$.createEvent("KeyEvents");j.initKeyEvent("keypress",!0,!0,c.$,!1,!1,!1,!1,0,32);d.$.dispatchEvent(j);(h!=g.$.scrollTop||i!=g.$.scrollLeft)&&e.getWindow().$.scrollTo(i,h);f&&b.getFirst().remove();d.getBody().appendBogus();a=a.createRange();a.setStartAt(b,
CKEDITOR.POSITION_AFTER_START);a.select()}}}function q(){var a=[];if(8<=CKEDITOR.document.$.documentMode){a.push("html.CSS1Compat [contenteditable=false]{min-height:0 !important}");var c=[],d;for(d in CKEDITOR.dtd.$removeEmpty)c.push("html.CSS1Compat "+d+"[contenteditable=false]");a.push(c.join(",")+"{display:inline-block}")}else CKEDITOR.env.gecko&&(a.push("html{height:100% !important}"),a.push("img:-moz-broken{-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"));a.push("html{cursor:text;*cursor:auto}");
a.push("img,input,textarea{cursor:default}");return a.join("\n")}CKEDITOR.plugins.add("wysiwygarea",{init:function(a){a.addMode("wysiwyg",function(c){function d(d){d&&d.removeListener();a.editable(new k(a,b.$.contentWindow.document.body));a.setData(a.getData(1),c)}var b=CKEDITOR.document.createElement("iframe");b.setStyles({width:"100%",height:"100%"});b.addClass("cke_wysiwyg_frame cke_reset");var e=a.ui.space("contents");e.append(b);var f="document.open();"+(l?'document.domain="'+document.domain+
'";':"")+"document.close();",f=CKEDITOR.env.air?"javascript:void(0)":CKEDITOR.env.ie?"javascript:void(function(){"+encodeURIComponent(f)+"}())":"",g=CKEDITOR.env.ie||CKEDITOR.env.gecko;if(g)b.on("load",d);var h=[a.lang.editor,a.name].join(),i=a.lang.common.editorHelp;CKEDITOR.env.ie&&(h+=", "+i);var j=CKEDITOR.tools.getNextId(),m=CKEDITOR.dom.element.createFromHtml('<span id="'+j+'" class="cke_voice_label">'+i+"</span>");e.append(m,1);a.on("beforeModeUnload",function(a){a.removeListener();m.remove()});
b.setAttributes({frameBorder:0,"aria-describedby":j,title:h,src:f,tabIndex:a.tabIndex,allowTransparency:"true"});!g&&d();CKEDITOR.env.webkit&&(f=function(){e.setStyle("width","100%");b.hide();b.setSize("width",e.getSize("width"));e.removeStyle("width");b.show()},b.setCustomData("onResize",f),CKEDITOR.document.getWindow().on("resize",f));a.fire("ariaWidget",b)})}});var l=CKEDITOR.env.isCustomDomain(),k=CKEDITOR.tools.createClass({$:function(a){this.base.apply(this,arguments);this._.frameLoadedHandler=
CKEDITOR.tools.addFunction(function(a){CKEDITOR.tools.setTimeout(n,0,this,a)},this);this._.docTitle=this.getWindow().getFrame().getAttribute("title")},base:CKEDITOR.editable,proto:{setData:function(a,c){var d=this.editor;if(c)this.setHtml(a);else{this._.isLoadingData=!0;d._.dataStore={id:1};var b=d.config,e=b.fullPage,f=b.docType,g=CKEDITOR.tools.buildStyleHtml(q()).replace(/<style>/,'<style data-cke-temp="1">');e||(g+=CKEDITOR.tools.buildStyleHtml(d.config.contentsCss));var h=b.baseHref?'<base href="'+
b.baseHref+'" data-cke-temp="1" />':"";e&&(a=a.replace(/<!DOCTYPE[^>]*>/i,function(a){d.docType=f=a;return""}).replace(/<\?xml\s[^\?]*\?>/i,function(a){d.xmlDeclaration=a;return""}));d.dataProcessor&&(a=d.dataProcessor.toHtml(a));e?(/<body[\s|>]/.test(a)||(a="<body>"+a),/<html[\s|>]/.test(a)||(a="<html>"+a+"</html>"),/<head[\s|>]/.test(a)?/<title[\s|>]/.test(a)||(a=a.replace(/<head[^>]*>/,"$&<title></title>")):a=a.replace(/<html[^>]*>/,"$&<head><title></title></head>"),h&&(a=a.replace(/<head>/,"$&"+
h)),a=a.replace(/<\/head\s*>/,g+"$&"),a=f+a):a=b.docType+'<html dir="'+b.contentsLangDirection+'" lang="'+(b.contentsLanguage||d.langCode)+'"><head><title>'+this._.docTitle+"</title>"+h+g+"</head><body"+(b.bodyId?' id="'+b.bodyId+'"':"")+(b.bodyClass?' class="'+b.bodyClass+'"':"")+">"+a+"</body></html>";CKEDITOR.env.gecko&&(a=a.replace(/<body/,'<body contenteditable="true" '),2E4>CKEDITOR.env.version&&(a=a.replace(/<body[^>]*>/,"$&<\!-- cke-content-start --\>")));b='<script id="cke_actscrpt" type="text/javascript"'+
(CKEDITOR.env.ie?' defer="defer" ':"")+">"+(l?'document.domain="'+document.domain+'";':"")+"var wasLoaded=0;function onload(){if(!wasLoaded)window.parent.CKEDITOR.tools.callFunction("+this._.frameLoadedHandler+",window);wasLoaded=1;}"+(CKEDITOR.env.ie?"onload();":'document.addEventListener("DOMContentLoaded", onload, false );')+"<\/script>";CKEDITOR.env.ie&&9>CKEDITOR.env.version&&(b+='<script id="cke_shimscrpt">(function(){var e="abbr,article,aside,audio,bdi,canvas,data,datalist,details,figcaption,figure,footer,header,hgroup,mark,meter,nav,output,progress,section,summary,time,video".split(","),i=e.length;while(i--){document.createElement(e[i])}})()<\/script>');
a=a.replace(/(?=\s*<\/(:?head)>)/,b);this.clearCustomData();this.clearListeners();d.fire("contentDomUnload");var i=this.getDocument();try{i.write(a)}catch(j){setTimeout(function(){i.write(a)},0)}}},getData:function(a){if(a)return this.getHtml();var a=this.editor,c=a.config.fullPage,d=c&&a.docType,b=c&&a.xmlDeclaration,e=this.getDocument(),c=c?e.getDocumentElement().getOuterHtml():e.getBody().getHtml();CKEDITOR.env.gecko&&(c=c.replace(/<br>(?=\s*(:?$|<\/body>))/,""));a.dataProcessor&&(c=a.dataProcessor.toDataFormat(c));
b&&(c=b+"\n"+c);d&&(c=d+"\n"+c);return c},focus:function(){this._.isLoadingData?this._.isPendingFocus=!0:k.baseProto.focus.call(this)},detach:function(){var a=this.editor,c=a.document,d=a.window.getFrame();k.baseProto.detach.call(this);this.clearCustomData();c.getDocumentElement().clearCustomData();d.clearCustomData();CKEDITOR.tools.removeFunction(this._.frameLoadedHandler);(c=d.removeCustomData("onResize"))&&c.removeListener();a.fire("contentDomUnload");d.remove()}}});CKEDITOR.env.gecko&&function(){var a=
document.body;if(a){var c=a.getAttribute("onpageshow");a.setAttribute("onpageshow",(c?c+";":"")+'event.persisted&&(function(){var x=CKEDITOR.instances,d,i;for(i in x){d=x[i].document;if(d){d.$.designMode="off";d.$.designMode="on";}}})();')}else window.addEventListener("load",arguments.callee,!1)}()})();CKEDITOR.config.disableObjectResizing=!1;CKEDITOR.config.disableNativeTableHandles=!0;CKEDITOR.config.disableNativeSpellChecker=!0;CKEDITOR.config.contentsCss=CKEDITOR.basePath+"contents.css";(function(){function g(a,b){var c=j.exec(a),d=j.exec(b);if(c){if(!c[2]&&"px"==d[2])return d[1];if("px"==c[2]&&!d[2])return d[1]+"px"}return b}var i=CKEDITOR.htmlParser.cssStyle,h=CKEDITOR.tools.cssLength,j=/^((?:\d*(?:\.\d+))|(?:\d+))(.*)?$/i,l={elements:{$:function(a){var b=a.attributes;if((b=(b=(b=b&&b["data-cke-realelement"])&&new CKEDITOR.htmlParser.fragment.fromHtml(decodeURIComponent(b)))&&b.children[0])&&a.attributes["data-cke-resizable"]){var c=(new i(a)).rules,a=b.attributes,d=c.width,c=
c.height;d&&(a.width=g(a.width,d));c&&(a.height=g(a.height,c))}return b}}},k=CKEDITOR.plugins.add("fakeobjects",{afterInit:function(a){(a=(a=a.dataProcessor)&&a.htmlFilter)&&a.addRules(l)}});CKEDITOR.editor.prototype.createFakeElement=function(a,b,c,d){var e=this.lang.fakeobjects,e=e[c]||e.unknown,b={"class":b,"data-cke-realelement":encodeURIComponent(a.getOuterHtml()),"data-cke-real-node-type":a.type,alt:e,title:e,align:a.getAttribute("align")||""};CKEDITOR.env.hc||(b.src=CKEDITOR.getUrl(k.path+
"images/spacer.gif"));c&&(b["data-cke-real-element-type"]=c);d&&(b["data-cke-resizable"]=d,c=new i,d=a.getAttribute("width"),a=a.getAttribute("height"),d&&(c.rules.width=h(d)),a&&(c.rules.height=h(a)),c.populate(b));return this.document.createElement("img",{attributes:b})};CKEDITOR.editor.prototype.createFakeParserElement=function(a,b,c,d){var e=this.lang.fakeobjects,e=e[c]||e.unknown,f;f=new CKEDITOR.htmlParser.basicWriter;a.writeHtml(f);f=f.getHtml();b={"class":b,"data-cke-realelement":encodeURIComponent(f),
"data-cke-real-node-type":a.type,alt:e,title:e,align:a.attributes.align||""};CKEDITOR.env.hc||(b.src=CKEDITOR.getUrl(k.path+"images/spacer.gif"));c&&(b["data-cke-real-element-type"]=c);d&&(b["data-cke-resizable"]=d,d=a.attributes,a=new i,c=d.width,d=d.height,void 0!=c&&(a.rules.width=h(c)),void 0!=d&&(a.rules.height=h(d)),a.populate(b));return new CKEDITOR.htmlParser.element("img",b)};CKEDITOR.editor.prototype.restoreRealElement=function(a){if(a.data("cke-real-node-type")!=CKEDITOR.NODE_ELEMENT)return null;
var b=CKEDITOR.dom.element.createFromHtml(decodeURIComponent(a.data("cke-realelement")),this.document);if(a.data("cke-resizable")){var c=a.getStyle("width"),a=a.getStyle("height");c&&b.setAttribute("width",g(b.getAttribute("width"),c));a&&b.setAttribute("height",g(b.getAttribute("height"),a))}return b}})();CKEDITOR.plugins.add("link",{requires:"dialog,fakeobjects",onLoad:function(){function b(b){return c.replace(/%1/g,"rtl"==b?"right":"left").replace(/%2/g,"cke_contents_"+b)}var a="background:url("+CKEDITOR.getUrl(this.path+"images/anchor.png")+") no-repeat %1 center;border:1px dotted #00f;",c=".%2 a.cke_anchor,.%2 a.cke_anchor_empty,.cke_editable.%2 a[name],.cke_editable.%2 a[data-cke-saved-name]{"+a+"padding-%1:18px;cursor:auto;}"+(CKEDITOR.env.ie?"a.cke_anchor_empty{display:inline-block;}":"")+".%2 img.cke_anchor{"+
a+"width:16px;min-height:15px;height:1.15em;vertical-align:"+(CKEDITOR.env.opera?"middle":"text-bottom")+";}";CKEDITOR.addCss(b("ltr")+b("rtl"))},init:function(b){b.addCommand("link",new CKEDITOR.dialogCommand("link"));b.addCommand("anchor",new CKEDITOR.dialogCommand("anchor"));b.addCommand("unlink",new CKEDITOR.unlinkCommand);b.addCommand("removeAnchor",new CKEDITOR.removeAnchorCommand);b.setKeystroke(CKEDITOR.CTRL+76,"link");b.ui.addButton&&(b.ui.addButton("Link",{label:b.lang.link.toolbar,command:"link",
toolbar:"links,10"}),b.ui.addButton("Unlink",{label:b.lang.link.unlink,command:"unlink",toolbar:"links,20"}),b.ui.addButton("Anchor",{label:b.lang.link.anchor.toolbar,command:"anchor",toolbar:"links,30"}));CKEDITOR.dialog.add("link",this.path+"dialogs/link.js");CKEDITOR.dialog.add("anchor",this.path+"dialogs/anchor.js");b.on("doubleclick",function(a){var c=CKEDITOR.plugins.link.getSelectedLink(b)||a.data.element;if(!c.isReadOnly())if(c.is("a")){a.data.dialog=c.getAttribute("name")&&(!c.getAttribute("href")||
!c.getChildCount())?"anchor":"link";b.getSelection().selectElement(c)}else if(CKEDITOR.plugins.link.tryRestoreFakeAnchor(b,c))a.data.dialog="anchor"});b.addMenuItems&&b.addMenuItems({anchor:{label:b.lang.link.anchor.menu,command:"anchor",group:"anchor",order:1},removeAnchor:{label:b.lang.link.anchor.remove,command:"removeAnchor",group:"anchor",order:5},link:{label:b.lang.link.menu,command:"link",group:"link",order:1},unlink:{label:b.lang.link.unlink,command:"unlink",group:"link",order:5}});b.contextMenu&&
b.contextMenu.addListener(function(a){if(!a||a.isReadOnly())return null;a=CKEDITOR.plugins.link.tryRestoreFakeAnchor(b,a);if(!a&&!(a=CKEDITOR.plugins.link.getSelectedLink(b)))return null;var c={};a.getAttribute("href")&&a.getChildCount()&&(c={link:CKEDITOR.TRISTATE_OFF,unlink:CKEDITOR.TRISTATE_OFF});if(a&&a.hasAttribute("name"))c.anchor=c.removeAnchor=CKEDITOR.TRISTATE_OFF;return c})},afterInit:function(b){var a=b.dataProcessor,c=a&&a.dataFilter,a=a&&a.htmlFilter,d=b._.elementsPath&&b._.elementsPath.filters;
c&&c.addRules({elements:{a:function(a){var c=a.attributes;if(!c.name)return null;var d=!a.children.length;if(CKEDITOR.plugins.link.synAnchorSelector){var a=d?"cke_anchor_empty":"cke_anchor",e=c["class"];if(c.name&&(!e||0>e.indexOf(a)))c["class"]=(e||"")+" "+a;d&&CKEDITOR.plugins.link.emptyAnchorFix&&(c.contenteditable="false",c["data-cke-editable"]=1)}else if(CKEDITOR.plugins.link.fakeAnchor&&d)return b.createFakeParserElement(a,"cke_anchor","anchor");return null}}});CKEDITOR.plugins.link.emptyAnchorFix&&
a&&a.addRules({elements:{a:function(a){delete a.attributes.contenteditable}}});d&&d.push(function(a,c){if("a"==c&&(CKEDITOR.plugins.link.tryRestoreFakeAnchor(b,a)||a.getAttribute("name")&&(!a.getAttribute("href")||!a.getChildCount())))return"anchor"})}});
CKEDITOR.plugins.link={getSelectedLink:function(b){var a=b.getSelection(),c=a.getSelectedElement();return c&&c.is("a")?c:(a=a.getRanges(!0)[0])?(a.shrink(CKEDITOR.SHRINK_TEXT),b.elementPath(a.getCommonAncestor()).contains("a",1)):null},fakeAnchor:CKEDITOR.env.opera||CKEDITOR.env.webkit,synAnchorSelector:CKEDITOR.env.ie,emptyAnchorFix:CKEDITOR.env.ie&&8>CKEDITOR.env.version,tryRestoreFakeAnchor:function(b,a){if(a&&a.data("cke-real-element-type")&&"anchor"==a.data("cke-real-element-type")){var c=b.restoreRealElement(a);
if(c.data("cke-saved-name"))return c}}};CKEDITOR.unlinkCommand=function(){};CKEDITOR.unlinkCommand.prototype={exec:function(b){var a=new CKEDITOR.style({element:"a",type:CKEDITOR.STYLE_INLINE,alwaysRemoveElement:1});b.removeStyle(a)},refresh:function(b,a){var c=a.lastElement&&a.lastElement.getAscendant("a",!0);c&&"a"==c.getName()&&c.getAttribute("href")&&c.getChildCount()?this.setState(CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_DISABLED)},contextSensitive:1,startDisabled:1};
CKEDITOR.removeAnchorCommand=function(){};CKEDITOR.removeAnchorCommand.prototype={exec:function(b){var a=b.getSelection(),c=a.createBookmarks(),d;if(a&&(d=a.getSelectedElement())&&(CKEDITOR.plugins.link.fakeAnchor&&!d.getChildCount()?CKEDITOR.plugins.link.tryRestoreFakeAnchor(b,d):d.is("a")))d.remove(1);else if(d=CKEDITOR.plugins.link.getSelectedLink(b))d.hasAttribute("href")?(d.removeAttributes({name:1,"data-cke-saved-name":1}),d.removeClass("cke_anchor")):d.remove(1);a.selectBookmarks(c)}};
CKEDITOR.tools.extend(CKEDITOR.config,{linkShowAdvancedTab:!0,linkShowTargetTab:!0});(function(){var c={canUndo:!1,async:!0,exec:function(a){a.getClipboardData({title:a.lang.pastetext.title},function(b){b&&a.fire("paste",{type:"text",dataValue:b.dataValue});a.fire("afterCommandExec",{name:"pastetext",command:c,returnValue:!!b})})}};CKEDITOR.plugins.add("pastetext",{requires:"clipboard",init:function(a){a.addCommand("pastetext",c);a.ui.addButton&&a.ui.addButton("PasteText",{label:a.lang.pastetext.button,command:"pastetext",toolbar:"clipboard,40"});if(a.config.forcePasteAsPlainText)a.on("beforePaste",
function(a){"html"!=a.data.type&&(a.data.type="text")});a.on("pasteState",function(b){a.getCommand("pastetext").setState(b.data)})}})})();(function(){function h(a){this.editor=a;this.reset()}CKEDITOR.plugins.add("undo",{init:function(a){function c(a){b.enabled&&!1!==a.data.command.canUndo&&b.save()}var b=new h(a),d=a.addCommand("undo",{exec:function(){b.undo()&&(a.selectionChange(),this.fire("afterUndo"))},state:CKEDITOR.TRISTATE_DISABLED,canUndo:!1}),e=a.addCommand("redo",{exec:function(){b.redo()&&(a.selectionChange(),this.fire("afterRedo"))},state:CKEDITOR.TRISTATE_DISABLED,canUndo:!1});a.setKeystroke([[CKEDITOR.CTRL+90,"undo"],
[CKEDITOR.CTRL+89,"redo"],[CKEDITOR.CTRL+CKEDITOR.SHIFT+90,"redo"]]);b.onChange=function(){d.setState(b.undoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED);e.setState(b.redoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)};a.on("beforeCommandExec",c);a.on("afterCommandExec",c);a.on("saveSnapshot",function(a){b.save(a.data&&a.data.contentOnly)});a.on("contentDom",function(){a.editable().on("keydown",function(a){!a.data.$.ctrlKey&&!a.data.$.metaKey&&b.type(a)})});a.on("beforeModeUnload",
function(){"wysiwyg"==a.mode&&b.save(!0)});a.on("mode",function(){b.enabled=a.readOnly?!1:"wysiwyg"==a.mode;b.onChange()});a.ui.addButton&&(a.ui.addButton("Undo",{label:a.lang.undo.undo,command:"undo",toolbar:"undo,10"}),a.ui.addButton("Redo",{label:a.lang.undo.redo,command:"redo",toolbar:"undo,20"}));a.resetUndo=function(){b.reset();a.fire("saveSnapshot")};a.on("updateSnapshot",function(){b.currentImage&&b.update()});a.on("lockSnapshot",b.lock,b);a.on("unlockSnapshot",b.unlock,b)}});CKEDITOR.plugins.undo=
{};var i=CKEDITOR.plugins.undo.Image=function(a){this.editor=a;a.fire("beforeUndoImage");var c=a.getSnapshot(),b=c&&a.getSelection();CKEDITOR.env.ie&&c&&(c=c.replace(/\s+data-cke-expando=".*?"/g,""));this.contents=c;this.bookmarks=b&&b.createBookmarks2(!0);a.fire("afterUndoImage")},j=/\b(?:href|src|name)="[^"]*?"/gi;i.prototype={equals:function(a,c){var b=this.contents,d=a.contents;if(CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat))b=b.replace(j,""),d=d.replace(j,"");if(b!=d)return!1;
if(c)return!0;b=this.bookmarks;d=a.bookmarks;if(b||d){if(!b||!d||b.length!=d.length)return!1;for(var e=0;e<b.length;e++){var g=b[e],f=d[e];if(g.startOffset!=f.startOffset||g.endOffset!=f.endOffset||!CKEDITOR.tools.arrayCompare(g.start,f.start)||!CKEDITOR.tools.arrayCompare(g.end,f.end))return!1}}return!0}};var k={8:1,46:1},m={16:1,17:1,18:1},l={37:1,38:1,39:1,40:1};h.prototype={type:function(a){var a=a&&a.data.getKey(),c=a in k,b=this.lastKeystroke in k,d=c&&a==this.lastKeystroke,e=a in l,g=this.lastKeystroke in
l;if(!(a in m||this.typing)||!c&&!e&&(b||g)||c&&!d){var f=new i(this.editor),h=this.snapshots.length;CKEDITOR.tools.setTimeout(function(){var a=this.editor.getSnapshot();CKEDITOR.env.ie&&(a=a.replace(/\s+data-cke-expando=".*?"/g,""));f.contents!=a&&h==this.snapshots.length&&(this.typing=!0,this.save(!1,f,!1)||this.snapshots.splice(this.index+1,this.snapshots.length-this.index-1),this.hasUndo=!0,this.hasRedo=!1,this.modifiersCount=this.typesCount=1,this.onChange())},0,this)}this.lastKeystroke=a;c?
(this.typesCount=0,this.modifiersCount++,25<this.modifiersCount&&(this.save(!1,null,!1),this.modifiersCount=1)):e||(this.modifiersCount=0,this.typesCount++,25<this.typesCount&&(this.save(!1,null,!1),this.typesCount=1))},reset:function(){this.lastKeystroke=0;this.snapshots=[];this.index=-1;this.limit=this.editor.config.undoStackSize||20;this.currentImage=null;this.hasRedo=this.hasUndo=!1;this.locked=null;this.resetType()},resetType:function(){this.typing=!1;delete this.lastKeystroke;this.modifiersCount=
this.typesCount=0},fireChange:function(){this.hasUndo=!!this.getNextImage(!0);this.hasRedo=!!this.getNextImage(!1);this.resetType();this.onChange()},save:function(a,c,b){if(this.locked)return!1;var d=this.snapshots;c||(c=new i(this.editor));if(!1===c.contents||this.currentImage&&c.equals(this.currentImage,a))return!1;d.splice(this.index+1,d.length-this.index-1);d.length==this.limit&&d.shift();this.index=d.push(c)-1;this.currentImage=c;!1!==b&&this.fireChange();return!0},restoreImage:function(a){var c=
this.editor,b;a.bookmarks&&(c.focus(),b=c.getSelection());this.locked=1;this.editor.loadSnapshot(a.contents);a.bookmarks?b.selectBookmarks(a.bookmarks):CKEDITOR.env.ie&&(c=this.editor.document.getBody().$.createTextRange(),c.collapse(!0),c.select());this.locked=0;this.index=a.index;this.update();this.fireChange()},getNextImage:function(a){var c=this.snapshots,b=this.currentImage,d;if(b)if(a)for(d=this.index-1;0<=d;d--){if(a=c[d],!b.equals(a,!0))return a.index=d,a}else for(d=this.index+1;d<c.length;d++)if(a=
c[d],!b.equals(a,!0))return a.index=d,a;return null},redoable:function(){return this.enabled&&this.hasRedo},undoable:function(){return this.enabled&&this.hasUndo},undo:function(){if(this.undoable()){this.save(!0);var a=this.getNextImage(!0);if(a)return this.restoreImage(a),!0}return!1},redo:function(){if(this.redoable()&&(this.save(!0),this.redoable())){var a=this.getNextImage(!1);if(a)return this.restoreImage(a),!0}return!1},update:function(){this.locked||this.snapshots.splice(this.index,1,this.currentImage=
new i(this.editor))},lock:function(){if(!this.locked){var a=this.editor.getSnapshot();this.locked={update:this.currentImage&&a==this.currentImage.contents?a:null}}},unlock:function(){if(this.locked){var a=this.locked.update,c=this.editor.getSnapshot();this.locked=null;"string"==typeof a&&c!=a&&this.update()}}}})();(function(){CKEDITOR.plugins.add("panel",{beforeInit:function(a){a.ui.addHandler(CKEDITOR.UI_PANEL,CKEDITOR.ui.panel.handler)}});CKEDITOR.UI_PANEL="panel";CKEDITOR.ui.panel=function(a,b){b&&CKEDITOR.tools.extend(this,b);CKEDITOR.tools.extend(this,{className:"",css:[]});this.id=CKEDITOR.tools.getNextId();this.document=a;this.isFramed=this.forceIFrame||this.css.length;this._={blocks:{}}};CKEDITOR.ui.panel.handler={create:function(a){return new CKEDITOR.ui.panel(a)}};var e=CKEDITOR.addTemplate("panel",
'<div lang="{langCode}" id="{id}" dir={dir} class="cke cke_reset_all {editorId} cke_panel cke_panel {cls} cke_{dir}" style="z-index:{z-index}" role="presentation">{frame}</div>'),f=CKEDITOR.addTemplate("panel-frame",'<iframe id="{id}" class="cke_panel_frame" role="application" frameborder="0" src="{src}"></iframe>'),g=CKEDITOR.addTemplate("panel-frame-inner",'<!DOCTYPE html><html class="cke_panel_container {env}" dir="{dir}" lang="{langCode}"><head>{css}</head><body class="cke_{dir}" style="margin:0;padding:0" onload="{onload}"></body></html>');
CKEDITOR.ui.panel.prototype={render:function(a,b){this.getHolderElement=function(){var a=this._.holder;if(!a){if(this.isFramed){var a=this.document.getById(this.id+"_frame"),b=a.getParent(),a=a.getFrameDocument();CKEDITOR.env.iOS&&b.setStyles({overflow:"scroll","-webkit-overflow-scrolling":"touch"});b=CKEDITOR.tools.addFunction(CKEDITOR.tools.bind(function(){this.isLoaded=!0;if(this.onLoad)this.onLoad()},this));a.write(g.output(CKEDITOR.tools.extend({css:CKEDITOR.tools.buildStyleHtml(this.css),onload:"window.parent.CKEDITOR.tools.callFunction("+
b+");"},c)));a.getWindow().$.CKEDITOR=CKEDITOR;a.on("key"+(CKEDITOR.env.opera?"press":"down"),function(a){var b=a.data.getKeystroke(),c=this.document.getById(this.id).getAttribute("dir");this._.onKeyDown&&!1===this._.onKeyDown(b)?a.data.preventDefault():(27==b||b==("rtl"==c?39:37))&&this.onEscape&&!1===this.onEscape(b)&&a.data.preventDefault()},this);a=a.getBody();a.unselectable();CKEDITOR.env.air&&CKEDITOR.tools.callFunction(b)}else a=this.document.getById(this.id);this._.holder=a}return a};var c=
{editorId:a.id,id:this.id,langCode:a.langCode,dir:a.lang.dir,cls:this.className,frame:"",env:CKEDITOR.env.cssClass,"z-index":a.config.baseFloatZIndex+1};this.isFramed&&(c.frame=f.output({id:this.id+"_frame",src:"javascript:void(document.open(),"+(CKEDITOR.env.isCustomDomain()?"document.domain='"+document.domain+"',":"")+'document.close())">'}));var d=e.output(c);b&&b.push(d);return d},addBlock:function(a,b){b=this._.blocks[a]=b instanceof CKEDITOR.ui.panel.block?b:new CKEDITOR.ui.panel.block(this.getHolderElement(),
b);this._.currentBlock||this.showBlock(a);return b},getBlock:function(a){return this._.blocks[a]},showBlock:function(a){var a=this._.blocks[a],b=this._.currentBlock,c=!this.forceIFrame||CKEDITOR.env.ie?this._.holder:this.document.getById(this.id+"_frame");b&&(c.removeAttributes(b.attributes),b.hide());this._.currentBlock=a;c.setAttributes(a.attributes);CKEDITOR.fire("ariaWidget",c);a._.focusIndex=-1;this._.onKeyDown=a.onKeyDown&&CKEDITOR.tools.bind(a.onKeyDown,a);a.show();return a},destroy:function(){this.element&&
this.element.remove()}};CKEDITOR.ui.panel.block=CKEDITOR.tools.createClass({$:function(a,b){this.element=a.append(a.getDocument().createElement("div",{attributes:{tabIndex:-1,"class":"cke_panel_block",role:"presentation"},styles:{display:"none"}}));b&&CKEDITOR.tools.extend(this,b);this.attributes.title||(this.attributes.title=this.attributes["aria-label"]);this.keys={};this._.focusIndex=-1;this.element.disableContextMenu()},_:{markItem:function(a){-1!=a&&(a=this.element.getElementsByTag("a").getItem(this._.focusIndex=
a),(CKEDITOR.env.webkit||CKEDITOR.env.opera)&&a.getDocument().getWindow().focus(),a.focus(),this.onMark&&this.onMark(a))}},proto:{show:function(){this.element.setStyle("display","")},hide:function(){(!this.onHide||!0!==this.onHide.call(this))&&this.element.setStyle("display","none")},onKeyDown:function(a){var b=this.keys[a];switch(b){case "next":for(var a=this._.focusIndex,b=this.element.getElementsByTag("a"),c;c=b.getItem(++a);)if(c.getAttribute("_cke_focus")&&c.$.offsetWidth){this._.focusIndex=
a;c.focus();break}return!1;case "prev":a=this._.focusIndex;for(b=this.element.getElementsByTag("a");0<a&&(c=b.getItem(--a));)if(c.getAttribute("_cke_focus")&&c.$.offsetWidth){this._.focusIndex=a;c.focus();break}return!1;case "click":case "mouseup":return a=this._.focusIndex,(c=0<=a&&this.element.getElementsByTag("a").getItem(a))&&(c.$[b]?c.$[b]():c.$["on"+b]()),!1}return!0}}})})();CKEDITOR.plugins.add("floatpanel",{requires:"panel"});
(function(){function o(a,b,c,h,g){var g=CKEDITOR.tools.genKey(b.getUniqueId(),c.getUniqueId(),a.lang.dir,a.uiColor||"",h.css||"",g||""),e=i[g];e||(e=i[g]=new CKEDITOR.ui.panel(b,h),e.element=c.append(CKEDITOR.dom.element.createFromHtml(e.render(a),b)),e.element.setStyles({display:"none",position:"absolute"}));return e}var i={};CKEDITOR.ui.floatPanel=CKEDITOR.tools.createClass({$:function(a,b,c,h){function g(){j.hide()}c.forceIFrame=1;c.toolbarRelated&&a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&
(b=CKEDITOR.document.getById("cke_"+a.name));var e=b.getDocument(),h=o(a,e,b,c,h||0),k=h.element,d=k.getFirst(),j=this;k.disableContextMenu();k.setAttribute("role","application");this.element=k;this._={editor:a,panel:h,parentElement:b,definition:c,document:e,iframe:d,children:[],dir:a.lang.dir};a.on("mode",g);a.on("resize",g);e.getWindow().on("resize",g)},proto:{addBlock:function(a,b){return this._.panel.addBlock(a,b)},addListBlock:function(a,b){return this._.panel.addListBlock(a,b)},getBlock:function(a){return this._.panel.getBlock(a)},
showBlock:function(a,b,c,h,g){var e=this._.panel,k=e.showBlock(a);this.allowBlur(!1);a=this._.editor.editable();this._.returnFocus=a.hasFocus?a:new CKEDITOR.dom.element(CKEDITOR.document.$.activeElement);var d=this.element,a=this._.iframe,a=CKEDITOR.env.ie?a:new CKEDITOR.dom.window(a.$.contentWindow),j=d.getDocument(),i=this._.parentElement.getPositionedAncestor(),n=b.getDocumentPosition(j),j=i?i.getDocumentPosition(j):{x:0,y:0},m="rtl"==this._.dir,f=n.x+(h||0)-j.x,l=n.y+(g||0)-j.y;if(m&&(1==c||4==
c))f+=b.$.offsetWidth;else if(!m&&(2==c||3==c))f+=b.$.offsetWidth-1;if(3==c||4==c)l+=b.$.offsetHeight-1;this._.panel._.offsetParentId=b.getId();d.setStyles({top:l+"px",left:0,display:""});d.setOpacity(0);d.getFirst().removeStyle("width");this._.editor.focusManager.add(a);this._.blurSet||(CKEDITOR.event.useCapture=!0,a.on("blur",function(a){this.allowBlur()&&a.data.getPhase()==CKEDITOR.EVENT_PHASE_AT_TARGET&&(this.visible&&!this._.activeChild)&&(delete this._.returnFocus,this.hide())},this),a.on("focus",
function(){this._.focused=!0;this.hideChild();this.allowBlur(!0)},this),CKEDITOR.event.useCapture=!1,this._.blurSet=1);e.onEscape=CKEDITOR.tools.bind(function(a){if(this.onEscape&&this.onEscape(a)===false)return false},this);CKEDITOR.tools.setTimeout(function(){var a=CKEDITOR.tools.bind(function(){d.removeStyle("width");if(k.autoSize){var a=k.element.getDocument(),a=(CKEDITOR.env.webkit?k.element:a.getBody()).$.scrollWidth;CKEDITOR.env.ie&&(CKEDITOR.env.quirks&&a>0)&&(a=a+((d.$.offsetWidth||0)-(d.$.clientWidth||
0)+3));d.setStyle("width",a+10+"px");a=k.element.$.scrollHeight;CKEDITOR.env.ie&&(CKEDITOR.env.quirks&&a>0)&&(a=a+((d.$.offsetHeight||0)-(d.$.clientHeight||0)+3));d.setStyle("height",a+"px");e._.currentBlock.element.setStyle("display","none").removeStyle("display")}else d.removeStyle("height");m&&(f=f-d.$.offsetWidth);d.setStyle("left",f+"px");var b=e.element.getWindow(),a=d.$.getBoundingClientRect(),b=b.getViewPaneSize(),c=a.width||a.right-a.left,g=a.height||a.bottom-a.top,h=m?a.right:b.width-a.left,
i=m?b.width-a.right:a.left;m?h<c&&(f=i>c?f+c:b.width>c?f-a.left:f-a.right+b.width):h<c&&(f=i>c?f-c:b.width>c?f-a.right+b.width:f-a.left);c=a.top;b.height-a.top<g&&(l=c>g?l-g:b.height>g?l-a.bottom+b.height:l-a.top);if(CKEDITOR.env.ie){b=a=new CKEDITOR.dom.element(d.$.offsetParent);b.getName()=="html"&&(b=b.getDocument().getBody());b.getComputedStyle("direction")=="rtl"&&(f=CKEDITOR.env.ie8Compat?f-d.getDocument().getDocumentElement().$.scrollLeft*2:f-(a.$.scrollWidth-a.$.clientWidth))}var a=d.getFirst(),
j;(j=a.getCustomData("activePanel"))&&j.onHide&&j.onHide.call(this,1);a.setCustomData("activePanel",this);d.setStyles({top:l+"px",left:f+"px"});d.setOpacity(1)},this);e.isLoaded?a():e.onLoad=a;CKEDITOR.tools.setTimeout(function(){this.focus();this.allowBlur(true);this._.editor.fire("panelShow",this)},0,this)},CKEDITOR.env.air?200:0,this);this.visible=1;this.onShow&&this.onShow.call(this)},focus:function(){if(CKEDITOR.env.webkit){var a=CKEDITOR.document.getActive();!a.equals(this._.iframe)&&a.$.blur()}(this._.lastFocused||
this._.iframe.getFrameDocument().getWindow()).focus()},blur:function(){var a=this._.iframe.getFrameDocument().getActive();a.is("a")&&(this._.lastFocused=a)},hide:function(a){if(this.visible&&(!this.onHide||!0!==this.onHide.call(this))){this.hideChild();CKEDITOR.env.gecko&&this._.iframe.getFrameDocument().$.activeElement.blur();this.element.setStyle("display","none");this.visible=0;this.element.getFirst().removeCustomData("activePanel");if(a=a&&this._.returnFocus)CKEDITOR.env.webkit&&a.type&&a.getWindow().$.focus(),
a.focus();delete this._.lastFocused;this._.editor.fire("panelHide",this)}},allowBlur:function(a){var b=this._.panel;void 0!=a&&(b.allowBlur=a);return b.allowBlur},showAsChild:function(a,b,c,h,g,e){this._.activeChild==a&&a._.panel._.offsetParentId==c.getId()||(this.hideChild(),a.onHide=CKEDITOR.tools.bind(function(){CKEDITOR.tools.setTimeout(function(){this._.focused||this.hide()},0,this)},this),this._.activeChild=a,this._.focused=!1,a.showBlock(b,c,h,g,e),this.blur(),(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)&&
setTimeout(function(){a.element.getChild(0).$.style.cssText+=""},100))},hideChild:function(a){var b=this._.activeChild;b&&(delete b.onHide,delete this._.activeChild,b.hide(),a&&this.focus())}}});CKEDITOR.on("instanceDestroyed",function(){var a=CKEDITOR.tools.isEmpty(CKEDITOR.instances),b;for(b in i){var c=i[b];a?c.destroy():c.element.hide()}a&&(i={})})})();CKEDITOR.plugins.add("listblock",{requires:"panel",onLoad:function(){var e=CKEDITOR.addTemplate("panel-list",'<ul role="presentation" class="cke_panel_list">{items}</ul>'),f=CKEDITOR.addTemplate("panel-list-item",'<li id="{id}" class="cke_panel_listItem" role=presentation><a id="{id}_option" _cke_focus=1 hidefocus=true title="{title}" href="javascript:void(\'{val}\')"  {onclick}="CKEDITOR.tools.callFunction({clickFn},\'{val}\'); return false;" role="option">{text}</a></li>'),g=CKEDITOR.addTemplate("panel-list-group",
'<h1 id="{id}" class="cke_panel_grouptitle" role="presentation" >{label}</h1>');CKEDITOR.ui.panel.prototype.addListBlock=function(a,b){return this.addBlock(a,new CKEDITOR.ui.listBlock(this.getHolderElement(),b))};CKEDITOR.ui.listBlock=CKEDITOR.tools.createClass({base:CKEDITOR.ui.panel.block,$:function(a,b){var b=b||{},c=b.attributes||(b.attributes={});(this.multiSelect=!!b.multiSelect)&&(c["aria-multiselectable"]=!0);!c.role&&(c.role="listbox");this.base.apply(this,arguments);c=this.keys;c[40]="next";
c[9]="next";c[38]="prev";c[CKEDITOR.SHIFT+9]="prev";c[32]=CKEDITOR.env.ie?"mouseup":"click";CKEDITOR.env.ie&&(c[13]="mouseup");this._.pendingHtml=[];this._.pendingList=[];this._.items={};this._.groups={}},_:{close:function(){if(this._.started){var a=e.output({items:this._.pendingList.join("")});this._.pendingList=[];this._.pendingHtml.push(a);delete this._.started}},getClick:function(){this._.click||(this._.click=CKEDITOR.tools.addFunction(function(a){var b=this.toggle(a);if(this.onClick)this.onClick(a,
b)},this));return this._.click}},proto:{add:function(a,b,c){var d=CKEDITOR.tools.getNextId();this._.started||(this._.started=1,this._.size=this._.size||0);this._.items[a]=d;a={id:d,val:a,onclick:CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick",clickFn:this._.getClick(),title:c||a,text:b||a};this._.pendingList.push(f.output(a))},startGroup:function(a){this._.close();var b=CKEDITOR.tools.getNextId();this._.groups[a]=b;this._.pendingHtml.push(g.output({id:b,label:a}))},commit:function(){this._.close();
this.element.appendHtml(this._.pendingHtml.join(""));delete this._.size;this._.pendingHtml=[]},toggle:function(a){var b=this.isMarked(a);b?this.unmark(a):this.mark(a);return!b},hideGroup:function(a){var b=(a=this.element.getDocument().getById(this._.groups[a]))&&a.getNext();a&&(a.setStyle("display","none"),b&&"ul"==b.getName()&&b.setStyle("display","none"))},hideItem:function(a){this.element.getDocument().getById(this._.items[a]).setStyle("display","none")},showAll:function(){var a=this._.items,b=
this._.groups,c=this.element.getDocument(),d;for(d in a)c.getById(a[d]).setStyle("display","");for(var e in b)a=c.getById(b[e]),d=a.getNext(),a.setStyle("display",""),d&&"ul"==d.getName()&&d.setStyle("display","")},mark:function(a){this.multiSelect||this.unmarkAll();var a=this._.items[a],b=this.element.getDocument().getById(a);b.addClass("cke_selected");this.element.getDocument().getById(a+"_option").setAttribute("aria-selected",!0);this.onMark&&this.onMark(b)},unmark:function(a){var b=this.element.getDocument(),
a=this._.items[a],c=b.getById(a);c.removeClass("cke_selected");b.getById(a+"_option").removeAttribute("aria-selected");this.onUnmark&&this.onUnmark(c)},unmarkAll:function(){var a=this._.items,b=this.element.getDocument(),c;for(c in a){var d=a[c];b.getById(d).removeClass("cke_selected");b.getById(d+"_option").removeAttribute("aria-selected")}this.onUnmark&&this.onUnmark()},isMarked:function(a){return this.element.getDocument().getById(this._.items[a]).hasClass("cke_selected")},focus:function(a){this._.focusIndex=
-1;if(a){for(var b=this.element.getDocument().getById(this._.items[a]).getFirst(),a=this.element.getElementsByTag("a"),c,d=-1;c=a.getItem(++d);)if(c.equals(b)){this._.focusIndex=d;break}setTimeout(function(){b.focus()},0)}}}})}});CKEDITOR.plugins.add("richcombo",{requires:"floatpanel,listblock,button",beforeInit:function(c){c.ui.addHandler(CKEDITOR.UI_RICHCOMBO,CKEDITOR.ui.richCombo.handler)}});
(function(){var c='<span id="{id}" class="cke_combo cke_combo__{name} {cls}" role="presentation"><span id="{id}_label" class="cke_combo_label">{label}</span><a class="cke_combo_button" hidefocus=true title="{title}" tabindex="-1"'+(CKEDITOR.env.gecko&&10900<=CKEDITOR.env.version&&!CKEDITOR.env.hc?"":'" href="javascript:void(\'{titleJs}\')"')+' hidefocus="true" role="button" aria-labelledby="{id}_label" aria-haspopup="true"';if(CKEDITOR.env.opera||CKEDITOR.env.gecko&&CKEDITOR.env.mac)c+=' onkeypress="return false;"';
CKEDITOR.env.gecko&&(c+=' onblur="this.style.cssText = this.style.cssText;"');var c=c+(' onkeydown="return CKEDITOR.tools.callFunction({keydownFn},event,this);" onmousedown="return CKEDITOR.tools.callFunction({mousedownFn},event);"  onfocus="return CKEDITOR.tools.callFunction({focusFn},event);" '+(CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick")+'="CKEDITOR.tools.callFunction({clickFn},this);return false;"><span id="{id}_text" class="cke_combo_text cke_combo_inlinelabel">{label}</span><span class="cke_combo_open"><span class="cke_combo_arrow">'+
(CKEDITOR.env.hc?"&#9660;":CKEDITOR.env.air?"&nbsp;":"")+"</span></span></a></span>"),h=CKEDITOR.addTemplate("combo",c);CKEDITOR.UI_RICHCOMBO="richcombo";CKEDITOR.ui.richCombo=CKEDITOR.tools.createClass({$:function(a){CKEDITOR.tools.extend(this,a,{canGroup:!1,title:a.label,modes:{wysiwyg:1},editorFocus:1});a=this.panel||{};delete this.panel;this.id=CKEDITOR.tools.getNextNumber();this.document=a.parent&&a.parent.getDocument()||CKEDITOR.document;a.className="cke_combopanel";a.block={multiSelect:a.multiSelect,
attributes:a.attributes};a.toolbarRelated=!0;this._={panelDefinition:a,items:{}}},proto:{renderHtml:function(a){var b=[];this.render(a,b);return b.join("")},render:function(a,b){function j(){var d=this.modes[a.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED;this.setState(a.readOnly&&!this.readOnly?CKEDITOR.TRISTATE_DISABLED:d);this.setValue("")}var c=CKEDITOR.env,g="cke_"+this.id,e=CKEDITOR.tools.addFunction(function(b){i&&(a.unlockSelection(1),i=0);d.execute(b)},this),f=this,d={id:g,combo:this,
focus:function(){CKEDITOR.document.getById(g).getChild(1).focus()},execute:function(d){var b=f._;if(b.state!=CKEDITOR.TRISTATE_DISABLED)if(f.createPanel(a),b.on)b.panel.hide();else{f.commit();var c=f.getValue();c?b.list.mark(c):b.list.unmarkAll();b.panel.showBlock(f.id,new CKEDITOR.dom.element(d),4)}},clickFn:e};a.on("mode",j,this);!this.readOnly&&a.on("readOnly",j,this);var k=CKEDITOR.tools.addFunction(function(a,b){var a=new CKEDITOR.dom.event(a),c=a.getKeystroke();switch(c){case 13:case 32:case 40:CKEDITOR.tools.callFunction(e,
b);break;default:d.onkey(d,c)}a.preventDefault()}),l=CKEDITOR.tools.addFunction(function(){d.onfocus&&d.onfocus()}),i=0,m=CKEDITOR.tools.addFunction(function(){if(CKEDITOR.env.opera){var b=a.editable();b.isInline()&&b.hasFocus&&(a.lockSelection(),i=1)}});d.keyDownFn=k;c={id:g,name:this.name||this.command,label:this.label,title:this.title,cls:this.className||"",titleJs:c.gecko&&10900<=c.version&&!c.hc?"":(this.title||"").replace("'",""),keydownFn:k,mousedownFn:m,focusFn:l,clickFn:e};h.output(c,b);
if(this.onRender)this.onRender();return d},createPanel:function(a){if(!this._.panel){var b=this._.panelDefinition,c=this._.panelDefinition.block,h=b.parent||CKEDITOR.document.getBody(),g="cke_combopanel__"+this.name,e=new CKEDITOR.ui.floatPanel(a,h,b),f=e.addListBlock(this.id,c),d=this;e.onShow=function(){this.element.addClass(g);d.setState(CKEDITOR.TRISTATE_ON);f.focus(!f.multiSelect&&d.getValue());d._.on=1;d.editorFocus&&a.focus();if(d.onOpen)d.onOpen()};e.onHide=function(b){this.element.removeClass(g);
d.setState(d.modes&&d.modes[a.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED);d._.on=0;if(!b&&d.onClose)d.onClose()};e.onEscape=function(){e.hide(1)};f.onClick=function(a,b){d.onClick&&d.onClick.call(d,a,b);e.hide()};this._.panel=e;this._.list=f;e.getBlock(this.id).onHide=function(){d._.on=0;d.setState(CKEDITOR.TRISTATE_OFF)};this.init&&this.init()}},setValue:function(a,b){this._.value=a;var c=this.document.getById("cke_"+this.id+"_text");c&&(!a&&!b?(b=this.label,c.addClass("cke_combo_inlinelabel")):
c.removeClass("cke_combo_inlinelabel"),c.setText("undefined"!=typeof b?b:a))},getValue:function(){return this._.value||""},unmarkAll:function(){this._.list.unmarkAll()},mark:function(a){this._.list.mark(a)},hideItem:function(a){this._.list.hideItem(a)},hideGroup:function(a){this._.list.hideGroup(a)},showAll:function(){this._.list.showAll()},add:function(a,b,c){this._.items[a]=c||a;this._.list.add(a,b,c)},startGroup:function(a){this._.list.startGroup(a)},commit:function(){this._.committed||(this._.list.commit(),
this._.committed=1,CKEDITOR.ui.fire("ready",this));this._.committed=1},setState:function(a){if(this._.state!=a){var b=this.document.getById("cke_"+this.id);b.setState(a,"cke_combo");a==CKEDITOR.TRISTATE_DISABLED?b.setAttribute("aria-disabled",!0):b.removeAttribute("aria-disabled");this._.state=a}},enable:function(){this._.state==CKEDITOR.TRISTATE_DISABLED&&this.setState(this._.lastState)},disable:function(){this._.state!=CKEDITOR.TRISTATE_DISABLED&&(this._.lastState=this._.state,this.setState(CKEDITOR.TRISTATE_DISABLED))}},
statics:{handler:{create:function(a){return new CKEDITOR.ui.richCombo(a)}}}});CKEDITOR.ui.prototype.addRichCombo=function(a,b){this.add(a,CKEDITOR.UI_RICHCOMBO,b)}})();(function(){function g(a,b,g,h,j,l,m,n){for(var o=a.config,c=j.split(";"),j=[],f={},d=0;d<c.length;d++){var e=c[d];if(e){var e=e.split("/"),k={},i=c[d]=e[0];k[g]=j[d]=e[1]||i;f[i]=new CKEDITOR.style(m,k);f[i]._.definition.name=i}else c.splice(d--,1)}a.ui.addRichCombo(b,{label:h.label,title:h.panelTitle,toolbar:"styles,"+n,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(o.contentsCss),multiSelect:!1,attributes:{"aria-label":h.panelTitle}},init:function(){this.startGroup(h.panelTitle);for(var a=
0;a<c.length;a++){var b=c[a];this.add(b,f[b].buildPreview(),b)}},onClick:function(b){a.focus();a.fire("saveSnapshot");var c=f[b];a[this.getValue()==b?"removeStyle":"applyStyle"](c);a.fire("saveSnapshot")},onRender:function(){a.on("selectionChange",function(a){for(var b=this.getValue(),a=a.data.path.elements,c=0,d;c<a.length;c++){d=a[c];for(var e in f)if(f[e].checkElementMatch(d,!0)){e!=b&&this.setValue(e);return}}this.setValue("",l)},this)}})}CKEDITOR.plugins.add("font",{requires:"richcombo",init:function(a){var b=
a.config;g(a,"Font","family",a.lang.font,b.font_names,b.font_defaultLabel,b.font_style,30);g(a,"FontSize","size",a.lang.font.fontSize,b.fontSize_sizes,b.fontSize_defaultLabel,b.fontSize_style,40)}})})();CKEDITOR.config.font_names="Arial/Arial, Helvetica, sans-serif;Comic Sans MS/Comic Sans MS, cursive;Courier New/Courier New, Courier, monospace;Georgia/Georgia, serif;Lucida Sans Unicode/Lucida Sans Unicode, Lucida Grande, sans-serif;Tahoma/Tahoma, Geneva, sans-serif;Times New Roman/Times New Roman, Times, serif;Trebuchet MS/Trebuchet MS, Helvetica, sans-serif;Verdana/Verdana, Geneva, sans-serif";
CKEDITOR.config.font_defaultLabel="";CKEDITOR.config.font_style={element:"span",styles:{"font-family":"#(family)"},overrides:[{element:"font",attributes:{face:null}}]};CKEDITOR.config.fontSize_sizes="8/8px;9/9px;10/10px;11/11px;12/12px;14/14px;16/16px;18/18px;20/20px;22/22px;24/24px;26/26px;28/28px;36/36px;48/48px;72/72px";CKEDITOR.config.fontSize_defaultLabel="";CKEDITOR.config.fontSize_style={element:"span",styles:{"font-size":"#(size)"},overrides:[{element:"font",attributes:{size:null}}]};(function(){var b={canUndo:!1,exec:function(a){var b=a.document.createElement("hr");a.insertElement(b)}};CKEDITOR.plugins.add("horizontalrule",{init:function(a){a.blockless||(a.addCommand("horizontalrule",b),a.ui.addButton&&a.ui.addButton("HorizontalRule",{label:a.lang.horizontalrule.toolbar,command:"horizontalrule",toolbar:"insert,40"}))}})})();CKEDITOR.plugins.add("menu",{requires:"floatpanel",beforeInit:function(k){for(var g=k.config.menu_groups.split(","),m=k._.menuGroups={},l=k._.menuItems={},a=0;a<g.length;a++)m[g[a]]=a+1;k.addMenuGroup=function(b,a){m[b]=a||100};k.addMenuItem=function(a,c){m[c.group]&&(l[a]=new CKEDITOR.menuItem(this,a,c))};k.addMenuItems=function(a){for(var c in a)this.addMenuItem(c,a[c])};k.getMenuItem=function(a){return l[a]};k.removeMenuItem=function(a){delete l[a]}}});
(function(){function k(a){a.sort(function(a,c){return a.group<c.group?-1:a.group>c.group?1:a.order<c.order?-1:a.order>c.order?1:0})}var g='<span class="cke_menuitem"><a id="{id}" class="cke_menubutton cke_menubutton__{name} cke_menubutton_{state} {cls}" href="{href}" title="{title}" tabindex="-1"_cke_focus=1 hidefocus="true" role="menuitem" aria-haspopup="{hasPopup}" aria-disabled="{disabled}" aria-pressed="{pressed}"';if(CKEDITOR.env.opera||CKEDITOR.env.gecko&&CKEDITOR.env.mac)g+=' onkeypress="return false;"';
CKEDITOR.env.gecko&&(g+=' onblur="this.style.cssText = this.style.cssText;"');var g=g+(' onmouseover="CKEDITOR.tools.callFunction({hoverFn},{index});" onmouseout="CKEDITOR.tools.callFunction({moveOutFn},{index});" '+(CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick")+'="CKEDITOR.tools.callFunction({clickFn},{index}); return false;">'),m=CKEDITOR.addTemplate("menuItem",g+'<span class="cke_menubutton_inner"><span class="cke_menubutton_icon"><span class="cke_button_icon cke_button__{iconName}_icon" style="{iconStyle}"></span></span><span class="cke_menubutton_label">{label}</span>{arrowHtml}</span></a></span>'),
l=CKEDITOR.addTemplate("menuArrow",'<span class="cke_menuarrow"><span>{label}</span></span>');CKEDITOR.menu=CKEDITOR.tools.createClass({$:function(a,b){b=this._.definition=b||{};this.id=CKEDITOR.tools.getNextId();this.editor=a;this.items=[];this._.listeners=[];this._.level=b.level||1;var c=CKEDITOR.tools.extend({},b.panel,{css:[CKEDITOR.skin.getPath("editor")],level:this._.level-1,block:{}}),j=c.block.attributes=c.attributes||{};!j.role&&(j.role="menu");this._.panelDefinition=c},_:{onShow:function(){var a=
this.editor.getSelection(),b=a&&a.getStartElement(),c=this.editor.elementPath(),j=this._.listeners;this.removeAll();for(var e=0;e<j.length;e++){var i=j[e](b,a,c);if(i)for(var f in i){var h=this.editor.getMenuItem(f);if(h&&(!h.command||this.editor.getCommand(h.command).state))h.state=i[f],this.add(h)}}},onClick:function(a){this.hide();if(a.onClick)a.onClick();else a.command&&this.editor.execCommand(a.command)},onEscape:function(a){var b=this.parent;b?b._.panel.hideChild(1):27==a&&this.hide(1);return!1},
onHide:function(){this.onHide&&this.onHide()},showSubMenu:function(a){var b=this._.subMenu,c=this.items[a];if(c=c.getItems&&c.getItems()){b?b.removeAll():(b=this._.subMenu=new CKEDITOR.menu(this.editor,CKEDITOR.tools.extend({},this._.definition,{level:this._.level+1},!0)),b.parent=this,b._.onClick=CKEDITOR.tools.bind(this._.onClick,this));for(var j in c){var e=this.editor.getMenuItem(j);e&&(e.state=c[j],b.add(e))}var i=this._.panel.getBlock(this.id).element.getDocument().getById(this.id+(""+a));setTimeout(function(){b.show(i,
2)},0)}else this._.panel.hideChild(1)}},proto:{add:function(a){a.order||(a.order=this.items.length);this.items.push(a)},removeAll:function(){this.items=[]},show:function(a,b,c,j){if(!this.parent&&(this._.onShow(),!this.items.length))return;var b=b||("rtl"==this.editor.lang.dir?2:1),e=this.items,i=this.editor,f=this._.panel,h=this._.element;if(!f){f=this._.panel=new CKEDITOR.ui.floatPanel(this.editor,CKEDITOR.document.getBody(),this._.panelDefinition,this._.level);f.onEscape=CKEDITOR.tools.bind(function(a){if(!1===
this._.onEscape(a))return!1},this);f.onShow=function(){f._.panel.getHolderElement().getParent().addClass("cke cke_reset_all")};f.onHide=CKEDITOR.tools.bind(function(){this._.onHide&&this._.onHide()},this);h=f.addBlock(this.id,this._.panelDefinition.block);h.autoSize=!0;var d=h.keys;d[40]="next";d[9]="next";d[38]="prev";d[CKEDITOR.SHIFT+9]="prev";d["rtl"==i.lang.dir?37:39]=CKEDITOR.env.ie?"mouseup":"click";d[32]=CKEDITOR.env.ie?"mouseup":"click";CKEDITOR.env.ie&&(d[13]="mouseup");h=this._.element=
h.element;d=h.getDocument();d.getBody().setStyle("overflow","hidden");d.getElementsByTag("html").getItem(0).setStyle("overflow","hidden");this._.itemOverFn=CKEDITOR.tools.addFunction(function(a){clearTimeout(this._.showSubTimeout);this._.showSubTimeout=CKEDITOR.tools.setTimeout(this._.showSubMenu,i.config.menu_subMenuDelay||400,this,[a])},this);this._.itemOutFn=CKEDITOR.tools.addFunction(function(){clearTimeout(this._.showSubTimeout)},this);this._.itemClickFn=CKEDITOR.tools.addFunction(function(a){var b=
this.items[a];if(b.state==CKEDITOR.TRISTATE_DISABLED)this.hide(1);else if(b.getItems)this._.showSubMenu(a);else this._.onClick(b)},this)}k(e);for(var d=i.elementPath(),d=['<div class="cke_menu'+(d&&d.direction()!=i.lang.dir?" cke_mixed_dir_content":"")+'" role="presentation">'],g=e.length,m=g&&e[0].group,l=0;l<g;l++){var n=e[l];m!=n.group&&(d.push('<div class="cke_menuseparator" role="separator"></div>'),m=n.group);n.render(this,l,d)}d.push("</div>");h.setHtml(d.join(""));CKEDITOR.ui.fire("ready",
this);this.parent?this.parent._.panel.showAsChild(f,this.id,a,b,c,j):f.showBlock(this.id,a,b,c,j);i.fire("menuShow",[f])},addListener:function(a){this._.listeners.push(a)},hide:function(a){this._.onHide&&this._.onHide();this._.panel&&this._.panel.hide(a)}}});CKEDITOR.menuItem=CKEDITOR.tools.createClass({$:function(a,b,c){CKEDITOR.tools.extend(this,c,{order:0,className:"cke_menubutton__"+b});this.group=a._.menuGroups[this.group];this.editor=a;this.name=b},proto:{render:function(a,b,c){var g=a.id+(""+
b),e="undefined"==typeof this.state?CKEDITOR.TRISTATE_OFF:this.state,i=e==CKEDITOR.TRISTATE_ON?"on":e==CKEDITOR.TRISTATE_DISABLED?"disabled":"off",f=this.getItems,h="&#"+("rtl"==this.editor.lang.dir?"9668":"9658")+";",d=this.name;this.icon&&!/\./.test(this.icon)&&(d=this.icon);a={id:g,name:this.name,iconName:d,label:this.label,cls:this.className||"",state:i,hasPopup:f?"true":"false",disabled:e==CKEDITOR.TRISTATE_DISABLED,pressed:e==CKEDITOR.TRISTATE_ON,title:this.label,href:"javascript:void('"+(this.label||
"").replace("'")+"')",hoverFn:a._.itemOverFn,moveOutFn:a._.itemOutFn,clickFn:a._.itemClickFn,index:b,iconStyle:CKEDITOR.skin.getIconStyle(d,"rtl"==this.editor.lang.dir,d==this.icon?null:this.icon,this.iconOffset),arrowHtml:f?l.output({label:h}):""};m.output(a,c)}}})})();CKEDITOR.config.menu_groups="clipboard,form,tablecell,tablecellproperties,tablerow,tablecolumn,table,anchor,link,image,flash,checkbox,radio,textfield,hiddenfield,imagebutton,button,select,textarea,div";CKEDITOR.plugins.add("contextmenu",{requires:"menu",onLoad:function(){CKEDITOR.plugins.contextMenu=CKEDITOR.tools.createClass({base:CKEDITOR.menu,$:function(b){this.base.call(this,b,{panel:{className:"cke_menu_panel",attributes:{"aria-label":b.lang.contextmenu.options}}})},proto:{addTarget:function(b,d){if(CKEDITOR.env.opera&&!("oncontextmenu"in document.body)){var c;b.on("mousedown",function(a){a=a.data;if(2!=a.$.button)a.getKeystroke()==CKEDITOR.CTRL+1&&b.fire("contextmenu",a);else if(!d||!(CKEDITOR.env.mac?
a.$.metaKey:a.$.ctrlKey)){var g=a.getTarget();c||(g=g.getDocument(),c=g.createElement("input"),c.$.type="button",g.getBody().append(c));c.setAttribute("style","position:absolute;top:"+(a.$.clientY-2)+"px;left:"+(a.$.clientX-2)+"px;width:5px;height:5px;opacity:0.01")}});b.on("mouseup",function(a){c&&(c.remove(),c=void 0,b.fire("contextmenu",a.data))})}b.on("contextmenu",function(a){a=a.data;if(!d||!(CKEDITOR.env.webkit?e:CKEDITOR.env.mac?a.$.metaKey:a.$.ctrlKey)){a.preventDefault();var b=a.getTarget().getDocument(),
c=a.getTarget().getDocument().getDocumentElement(),f=!b.equals(CKEDITOR.document),b=b.getWindow().getScrollPosition(),h=f?a.$.clientX:a.$.pageX||b.x+a.$.clientX,i=f?a.$.clientY:a.$.pageY||b.y+a.$.clientY;CKEDITOR.tools.setTimeout(function(){this.open(c,null,h,i)},CKEDITOR.env.ie?200:0,this)}},this);if(CKEDITOR.env.opera)b.on("keypress",function(a){a=a.data;0===a.$.keyCode&&a.preventDefault()});if(CKEDITOR.env.webkit){var e,f=function(){e=0};b.on("keydown",function(a){e=CKEDITOR.env.mac?a.data.$.metaKey:
a.data.$.ctrlKey});b.on("keyup",f);b.on("contextmenu",f)}},open:function(b,d,c,e){this.editor.focus();b=b||CKEDITOR.document.getDocumentElement();this.editor.selectionChange(1);this.show(b,d,c,e)}}})},beforeInit:function(b){var d=b.contextMenu=new CKEDITOR.plugins.contextMenu(b);b.on("contentDom",function(){d.addTarget(b.editable(),!1!==b.config.browserContextMenuOnCtrl)});b.addCommand("contextMenu",{exec:function(){b.contextMenu.open(b.document.getBody())}});b.setKeystroke(CKEDITOR.SHIFT+121,"contextMenu");
b.setKeystroke(CKEDITOR.CTRL+CKEDITOR.SHIFT+121,"contextMenu")}});(function(){CKEDITOR.plugins.liststyle={requires:"dialog,contextmenu",init:function(a){a.addCommand("numberedListStyle",new CKEDITOR.dialogCommand("numberedListStyle"));CKEDITOR.dialog.add("numberedListStyle",this.path+"dialogs/liststyle.js");a.addCommand("bulletedListStyle",new CKEDITOR.dialogCommand("bulletedListStyle"));CKEDITOR.dialog.add("bulletedListStyle",this.path+"dialogs/liststyle.js");a.addMenuGroup("list",108);a.addMenuItems({numberedlist:{label:a.lang.liststyle.numberedTitle,group:"list",
command:"numberedListStyle"},bulletedlist:{label:a.lang.liststyle.bulletedTitle,group:"list",command:"bulletedListStyle"}});a.contextMenu.addListener(function(a){if(!a||a.isReadOnly())return null;for(;a;){var b=a.getName();if("ol"==b)return{numberedlist:CKEDITOR.TRISTATE_OFF};if("ul"==b)return{bulletedlist:CKEDITOR.TRISTATE_OFF};a=a.getParent()}return null})}};CKEDITOR.plugins.add("liststyle",CKEDITOR.plugins.liststyle)})();(function(){function h(a,d,f){var b=CKEDITOR.cleanWord;b?f():(a=CKEDITOR.getUrl(a.config.pasteFromWordCleanupFile||d+"filter/default.js"),CKEDITOR.scriptLoader.load(a,f,null,!0));return!b}function i(a){a.data.type="html"}CKEDITOR.plugins.add("pastefromword",{requires:"clipboard",init:function(a){var d=0,f=this.path;a.addCommand("pastefromword",{canUndo:!1,async:!0,exec:function(a){var e=this;d=1;a.once("beforePaste",i);a.getClipboardData({title:a.lang.pastefromword.title},function(c){c&&a.fire("paste",
{type:"html",dataValue:c.dataValue});a.fire("afterCommandExec",{name:"pastefromword",command:e,returnValue:!!c})})}});a.ui.addButton&&a.ui.addButton("PasteFromWord",{label:a.lang.pastefromword.toolbar,command:"pastefromword",toolbar:"clipboard,50"});a.on("pasteState",function(b){a.getCommand("pastefromword").setState(b.data)});a.on("paste",function(b){var e=b.data,c=e.dataValue;if(c&&(d||/(class=\"?Mso|style=\"[^\"]*\bmso\-|w:WordDocument)/.test(c))){var g=h(a,f,function(){if(g)a.fire("paste",e);
else if(!a.config.pasteFromWordPromptCleanup||d||confirm(a.lang.pastefromword.confirmCleanup))e.dataValue=CKEDITOR.cleanWord(c,a)});g&&b.cancel()}},null,null,3)}})})();CKEDITOR.plugins.add("removeformat",{init:function(a){a.addCommand("removeFormat",CKEDITOR.plugins.removeformat.commands.removeformat);a.ui.addButton&&a.ui.addButton("RemoveFormat",{label:a.lang.removeformat.toolbar,command:"removeFormat",toolbar:"cleanup,10"})}});
CKEDITOR.plugins.removeformat={commands:{removeformat:{exec:function(a){for(var h=a._.removeFormatRegex||(a._.removeFormatRegex=RegExp("^(?:"+a.config.removeFormatTags.replace(/,/g,"|")+")$","i")),e=a._.removeAttributes||(a._.removeAttributes=a.config.removeFormatAttributes.split(",")),f=CKEDITOR.plugins.removeformat.filter,k=a.getSelection().getRanges(1),l=k.createIterator(),c;c=l.getNextRange();){c.collapsed||c.enlarge(CKEDITOR.ENLARGE_ELEMENT);var i=c.createBookmark(),b=i.startNode,j=i.endNode,
d=function(b){for(var c=a.elementPath(b),e=c.elements,d=1,g;(g=e[d])&&!g.equals(c.block)&&!g.equals(c.blockLimit);d++)h.test(g.getName())&&f(a,g)&&b.breakParent(g)};d(b);if(j){d(j);for(b=b.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT);b&&!b.equals(j);)d=b.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT),!("img"==b.getName()&&b.data("cke-realelement"))&&f(a,b)&&(h.test(b.getName())?b.remove(1):(b.removeAttributes(e),a.fire("removeFormatCleanup",b))),b=d}c.moveToBookmark(i)}a.forceNextSelectionCheck();a.getSelection().selectRanges(k)}}},
filter:function(a,h){for(var e=a._.removeFormatFilters||[],f=0;f<e.length;f++)if(!1===e[f](h))return!1;return!0}};CKEDITOR.editor.prototype.addRemoveFormatFilter=function(a){this._.removeFormatFilters||(this._.removeFormatFilters=[]);this._.removeFormatFilters.push(a)};CKEDITOR.config.removeFormatTags="b,big,code,del,dfn,em,font,i,ins,kbd,q,samp,small,span,strike,strong,sub,sup,tt,u,var";CKEDITOR.config.removeFormatAttributes="class,style,lang,width,height,align,hspace,valign";(function(){CKEDITOR.plugins.add("sourcearea",{init:function(a){function d(){this.hide();this.setStyle("height",this.getParent().$.clientHeight+"px");this.setStyle("width",this.getParent().$.clientWidth+"px");this.show()}if(a.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var e=CKEDITOR.plugins.sourcearea;a.addMode("source",function(e){var b=a.ui.space("contents").getDocument().createElement("textarea");b.setStyles(CKEDITOR.tools.extend({width:CKEDITOR.env.ie7Compat?"99%":"100%",height:"100%",resize:"none",
outline:"none","text-align":"left"},CKEDITOR.tools.cssVendorPrefix("tab-size",a.config.sourceAreaTabSize||4)));b.addClass("cke_source cke_reset cke_enable_context_menu");a.ui.space("contents").append(b);b=a.editable(new c(a,b));b.setData(a.getData(1));CKEDITOR.env.ie&&(b.attachListener(a,"resize",d,b),b.attachListener(CKEDITOR.document.getWindow(),"resize",d,b),CKEDITOR.tools.setTimeout(d,0,b));a.fire("ariaWidget",this);e()});a.addCommand("source",e.commands.source);a.ui.addButton&&a.ui.addButton("Source",
{label:a.lang.sourcearea.toolbar,command:"source",toolbar:"mode,10"});a.on("mode",function(){a.getCommand("source").setState("source"==a.mode?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)})}}});var c=CKEDITOR.tools.createClass({base:CKEDITOR.editable,proto:{setData:function(a){this.setValue(a);this.editor.fire("dataReady")},getData:function(){return this.getValue()},insertHtml:function(){},insertElement:function(){},insertText:function(){},setReadOnly:function(a){this[(a?"set":"remove")+"Attribute"]("readOnly",
"readonly")},detach:function(){c.baseProto.detach.call(this);this.clearCustomData();this.remove()}}})})();CKEDITOR.plugins.sourcearea={commands:{source:{modes:{wysiwyg:1,source:1},editorFocus:!1,readOnly:1,exec:function(c){"wysiwyg"==c.mode&&c.fire("saveSnapshot");c.getCommand("source").setState(CKEDITOR.TRISTATE_DISABLED);c.setMode("source"==c.mode?"wysiwyg":"source")},canUndo:!1}}};CKEDITOR.plugins.add("specialchar",{availableLangs:{ca:1,cs:1,cy:1,de:1,en:1,eo:1,et:1,fa:1,fi:1,fr:1,he:1,hr:1,it:1,ku:1,lv:1,nb:1,nl:1,no:1,"pt-br":1,sk:1,sv:1,tr:1,ug:1,"zh-cn":1},requires:"dialog",init:function(a){var c=this;CKEDITOR.dialog.add("specialchar",this.path+"dialogs/specialchar.js");a.addCommand("specialchar",{exec:function(){var b=a.langCode,b=c.availableLangs[b]?b:c.availableLangs[b.replace(/-.*/,"")]?b.replace(/-.*/,""):"en";CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(c.path+"dialogs/lang/"+
b+".js"),function(){CKEDITOR.tools.extend(a.lang.specialchar,c.langEntries[b]);a.openDialog("specialchar")})},modes:{wysiwyg:1},canUndo:!1});a.ui.addButton&&a.ui.addButton("SpecialChar",{label:a.lang.specialchar.toolbar,command:"specialchar",toolbar:"insert,50"})}});CKEDITOR.config.specialChars="! &quot; # $ % &amp; ' ( ) * + - . / 0 1 2 3 4 5 6 7 8 9 : ; &lt; = &gt; ? @ A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [ ] ^ _ ` a b c d e f g h i j k l m n o p q r s t u v w x y z { | } ~ &euro; &lsquo; &rsquo; &ldquo; &rdquo; &ndash; &mdash; &iexcl; &cent; &pound; &curren; &yen; &brvbar; &sect; &uml; &copy; &ordf; &laquo; &not; &reg; &macr; &deg; &sup2; &sup3; &acute; &micro; &para; &middot; &cedil; &sup1; &ordm; &raquo; &frac14; &frac12; &frac34; &iquest; &Agrave; &Aacute; &Acirc; &Atilde; &Auml; &Aring; &AElig; &Ccedil; &Egrave; &Eacute; &Ecirc; &Euml; &Igrave; &Iacute; &Icirc; &Iuml; &ETH; &Ntilde; &Ograve; &Oacute; &Ocirc; &Otilde; &Ouml; &times; &Oslash; &Ugrave; &Uacute; &Ucirc; &Uuml; &Yacute; &THORN; &szlig; &agrave; &aacute; &acirc; &atilde; &auml; &aring; &aelig; &ccedil; &egrave; &eacute; &ecirc; &euml; &igrave; &iacute; &icirc; &iuml; &eth; &ntilde; &ograve; &oacute; &ocirc; &otilde; &ouml; &divide; &oslash; &ugrave; &uacute; &ucirc; &uuml; &yacute; &thorn; &yuml; &OElig; &oelig; &#372; &#374 &#373 &#375; &sbquo; &#8219; &bdquo; &hellip; &trade; &#9658; &bull; &rarr; &rArr; &hArr; &diams; &asymp;".split(" ");CKEDITOR.config.plugins='dialogui,dialog,about,basicstyles,clipboard,button,toolbar,list,indent,enterkey,entities,floatingspace,wysiwygarea,fakeobjects,link,pastetext,undo,panel,floatpanel,listblock,richcombo,font,horizontalrule,menu,contextmenu,liststyle,pastefromword,removeformat,sourcearea,specialchar';CKEDITOR.config.skin='moono';(function() {var icons = ( 'about,0,bold,32,italic,64,strike,96,subscript,128,superscript,160,underline,192,copy-rtl,224,copy,256,cut-rtl,288,cut,320,paste-rtl,352,paste,384,bulletedlist-rtl,416,bulletedlist,448,numberedlist-rtl,480,numberedlist,512,indent-rtl,544,indent,576,outdent-rtl,608,outdent,640,anchor-rtl,672,anchor,704,link,736,unlink,768,pastetext-rtl,800,pastetext,832,redo-rtl,864,redo,896,undo-rtl,928,undo,960,horizontalrule,992,pastefromword-rtl,1024,pastefromword,1056,removeformat,1088,source-rtl,1120,source,1152,specialchar,1184' ),path = CKEDITOR.getUrl( 'plugins/icons.png' ),icons = icons.split( ',' );for ( var i = 0; i < icons.length; i++ )CKEDITOR.skin.icons[ icons[ i ] ] = { path: path, offset: -icons[ ++i ] };})();CKEDITOR.lang.languages={"en":1};}());



/**
 * CoffeeScript Compiler v1.6.1
 * http://coffeescript.org
 *
 * Copyright 2011, Jeremy Ashkenas
 * Released under the MIT License
 */
(function(root){var CoffeeScript=function(){function require(e){return require[e]}return require["./helpers"]=new function(){var e=this;(function(){var t,n,i,s;e.starts=function(e,t,n){return t===e.substr(n,t.length)},e.ends=function(e,t,n){var i;return i=t.length,t===e.substr(e.length-i-(n||0),i)},e.compact=function(e){var t,n,i,s;for(s=[],n=0,i=e.length;i>n;n++)t=e[n],t&&s.push(t);return s},e.count=function(e,t){var n,i;if(n=i=0,!t.length)return 1/0;for(;i=1+e.indexOf(t,i);)n++;return n},e.merge=function(e,t){return n(n({},e),t)},n=e.extend=function(e,t){var n,i;for(n in t)i=t[n],e[n]=i;return e},e.flatten=i=function(e){var t,n,s,r;for(n=[],s=0,r=e.length;r>s;s++)t=e[s],t instanceof Array?n=n.concat(i(t)):n.push(t);return n},e.del=function(e,t){var n;return n=e[t],delete e[t],n},e.last=function(e,t){return e[e.length-(t||0)-1]},e.some=null!=(s=Array.prototype.some)?s:function(e){var t,n,i;for(n=0,i=this.length;i>n;n++)if(t=this[n],e(t))return!0;return!1},t=function(e,t){return t?{first_line:e.first_line,first_column:e.first_column,last_line:t.last_line,last_column:t.last_column}:e},e.addLocationDataFn=function(e,n){return function(i){return"object"==typeof i&&i.updateLocationDataIfMissing&&i.updateLocationDataIfMissing(t(e,n)),i}},e.locationDataToString=function(e){var t;return"2"in e&&"first_line"in e[2]?t=e[2]:"first_line"in e&&(t=e),t?""+(t.first_line+1)+":"+(t.first_column+1)+"-"+(""+(t.last_line+1)+":"+(t.last_column+1)):"No location data"},e.baseFileName=function(e,t){var n;return null==t&&(t=!1),n=e.split("/"),e=n[n.length-1],t?(n=e.split("."),n.pop(),"coffee"===n[n.length-1]&&n.pop(),n.join(".")):e},e.isCoffee=function(e){return/\.((lit)?coffee|coffee\.md)$/.test(e)},e.isLiterate=function(e){return/\.(litcoffee|coffee\.md)$/.test(e)}}).call(this)},require["./rewriter"]=new function(){var e=this;(function(){var t,n,i,s,r,a,o,c,h,l,u,p,d,f,m,g,b,k,y,v=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1},w=[].slice;for(f=function(e,t){var n;return n=[e,t],n.generated=!0,n},e.Rewriter=function(){function e(){}return e.prototype.rewrite=function(e){return this.tokens=e,this.removeLeadingNewlines(),this.removeMidExpressionNewlines(),this.closeOpenCalls(),this.closeOpenIndexes(),this.addImplicitIndentation(),this.tagPostfixConditionals(),this.addImplicitBracesAndParens(),this.addLocationDataToGeneratedTokens(),this.tokens},e.prototype.scanTokens=function(e){var t,n,i;for(i=this.tokens,t=0;n=i[t];)t+=e.call(this,n,t,i);return!0},e.prototype.detectEnd=function(e,t,n){var r,a,o,c,h;for(o=this.tokens,r=0;a=o[e];){if(0===r&&t.call(this,a,e))return n.call(this,a,e);if(!a||0>r)return n.call(this,a,e-1);c=a[0],v.call(s,c)>=0?r+=1:(h=a[0],v.call(i,h)>=0&&(r-=1)),e+=1}return e-1},e.prototype.removeLeadingNewlines=function(){var e,t,n,i,s;for(s=this.tokens,e=n=0,i=s.length;i>n&&(t=s[e][0],"TERMINATOR"===t);e=++n);return e?this.tokens.splice(0,e):void 0},e.prototype.removeMidExpressionNewlines=function(){return this.scanTokens(function(e,t,i){var s;return"TERMINATOR"===e[0]&&(s=this.tag(t+1),v.call(n,s)>=0)?(i.splice(t,1),0):1})},e.prototype.closeOpenCalls=function(){var e,t;return t=function(e,t){var n;return")"===(n=e[0])||"CALL_END"===n||"OUTDENT"===e[0]&&")"===this.tag(t-1)},e=function(e,t){return this.tokens["OUTDENT"===e[0]?t-1:t][0]="CALL_END"},this.scanTokens(function(n,i){return"CALL_START"===n[0]&&this.detectEnd(i+1,t,e),1})},e.prototype.closeOpenIndexes=function(){var e,t;return t=function(e){var t;return"]"===(t=e[0])||"INDEX_END"===t},e=function(e){return e[0]="INDEX_END"},this.scanTokens(function(n,i){return"INDEX_START"===n[0]&&this.detectEnd(i+1,t,e),1})},e.prototype.matchTags=function(){var e,t,n,i,s,r,a;for(t=arguments[0],i=arguments.length>=2?w.call(arguments,1):[],e=0,n=s=0,r=i.length;r>=0?r>s:s>r;n=r>=0?++s:--s){for(;"HERECOMMENT"===this.tag(t+n+e);)e+=2;if(null!=i[n]&&("string"==typeof i[n]&&(i[n]=[i[n]]),a=this.tag(t+n+e),0>v.call(i[n],a)))return!1}return!0},e.prototype.looksObjectish=function(e){return this.matchTags(e,"@",null,":")||this.matchTags(e,null,":")},e.prototype.findTagsBackwards=function(e,t){var n,r,a,o,c,h,l;for(n=[];e>=0&&(n.length||(o=this.tag(e),0>v.call(t,o)&&(c=this.tag(e),0>v.call(s,c)||this.tokens[e].generated)&&(h=this.tag(e),0>v.call(u,h))));)r=this.tag(e),v.call(i,r)>=0&&n.push(this.tag(e)),a=this.tag(e),v.call(s,a)>=0&&n.length&&n.pop(),e-=1;return l=this.tag(e),v.call(t,l)>=0},e.prototype.addImplicitBracesAndParens=function(){var e;return e=[],this.scanTokens(function(t,n,r){var l,p,d,m,g,b,k,y,w,T,C,F,L,E,N,x,D,S,A,R,I,_,$,O,M,j;if(R=t[0],T=(n>0?r[n-1]:[])[0],y=(r.length-1>n?r[n+1]:[])[0],N=function(){return e[e.length-1]},x=n,d=function(e){return n-x+e},m=function(){var e,t;return null!=(e=N())?null!=(t=e[2])?t.ours:void 0:void 0},g=function(){var e;return m()&&"("===(null!=(e=N())?e[0]:void 0)},k=function(){var e;return m()&&"{"===(null!=(e=N())?e[0]:void 0)},b=function(){var e;return m&&"CONTROL"===(null!=(e=N())?e[0]:void 0)},D=function(t){var i;return i=null!=t?t:n,e.push(["(",i,{ours:!0}]),r.splice(i,0,f("CALL_START","(")),null==t?n+=1:void 0},l=function(){return e.pop(),r.splice(n,0,f("CALL_END",")")),n+=1},S=function(t,i){var s;return null==i&&(i=!0),s=null!=t?t:n,e.push(["{",s,{sameLine:!0,startsLine:i,ours:!0}]),r.splice(s,0,f("{",f(new String("{")))),null==t?n+=1:void 0},p=function(t){return t=null!=t?t:n,e.pop(),r.splice(t,0,f("}","}")),n+=1},g()&&("IF"===R||"TRY"===R||"FINALLY"===R||"CATCH"===R||"CLASS"===R||"SWITCH"===R))return e.push(["CONTROL",n,{ours:!0}]),d(1);if("INDENT"===R&&m()){if("=>"!==T&&"->"!==T&&"["!==T&&"("!==T&&","!==T&&"{"!==T&&"TRY"!==T&&"ELSE"!==T&&"="!==T)for(;g();)l();return b()&&e.pop(),e.push([R,n]),d(1)}if(v.call(s,R)>=0)return e.push([R,n]),d(1);if(v.call(i,R)>=0){for(;m();)g()?l():k()?p():e.pop();e.pop()}if((v.call(c,R)>=0&&t.spaced||"?"===R&&n>0&&!r[n-1].spaced)&&(v.call(a,y)>=0||v.call(h,y)>=0&&!(null!=(I=r[n+1])?I.spaced:void 0)&&!(null!=(_=r[n+1])?_.newLine:void 0)))return"?"===R&&(R=t[0]="FUNC_EXIST"),D(n+1),d(2);if(this.matchTags(n,c,"INDENT",null,":")&&!this.findTagsBackwards(n,["CLASS","EXTENDS","IF","CATCH","SWITCH","LEADING_WHEN","FOR","WHILE","UNTIL"]))return D(n+1),e.push(["INDENT",n+2]),d(3);if(":"===R){for(C="@"===this.tag(n-2)?n-2:n-1;"HERECOMMENT"===this.tag(C-2);)C-=2;return A=0===C||($=this.tag(C-1),v.call(u,$)>=0)||r[C-1].newLine,N()&&(O=N(),E=O[0],L=O[1],("{"===E||"INDENT"===E&&"{"===this.tag(L-1))&&(A||","===this.tag(C-1)||"{"===this.tag(C-1)))?d(1):(S(C,!!A),d(2))}if("OUTDENT"===T&&g()&&("."===R||"?."===R||"::"===R||"?::"===R))return l(),d(1);if(k()&&v.call(u,R)>=0&&(N()[2].sameLine=!1),v.call(o,R)>=0)for(;m();)if(M=N(),E=M[0],L=M[1],j=M[2],F=j.sameLine,A=j.startsLine,g()&&","!==T)l();else if(k()&&F&&!A)p();else{if(!k()||"TERMINATOR"!==R||","===T||A&&this.looksObjectish(n+1))break;p()}if(","===R&&!this.looksObjectish(n+1)&&k()&&("TERMINATOR"!==y||!this.looksObjectish(n+2)))for(w="OUTDENT"===y?1:0;k();)p(n+w);return d(1)})},e.prototype.addLocationDataToGeneratedTokens=function(){return this.scanTokens(function(e,t,n){var i,s,r,a,o;return e[2]?1:e.generated||e.explicit?(o=null!=(r=null!=(a=n[t-1])?a[2]:void 0)?r:{last_line:0,last_column:0},s=o.last_line,i=o.last_column,e[2]={first_line:s,first_column:i,last_line:s,last_column:i},1):1})},e.prototype.addImplicitIndentation=function(){var e,t,n,i,s;return s=n=i=null,t=function(e){var t;return";"!==e[1]&&(t=e[0],v.call(p,t)>=0)&&!("ELSE"===e[0]&&"IF"!==s&&"THEN"!==s)},e=function(e,t){return this.tokens.splice(","===this.tag(t-1)?t-1:t,0,i)},this.scanTokens(function(r,a,o){var c,h,l;return c=r[0],"TERMINATOR"===c&&"THEN"===this.tag(a+1)?(o.splice(a,1),0):"ELSE"===c&&"OUTDENT"!==this.tag(a-1)?(o.splice.apply(o,[a,0].concat(w.call(this.indentation(r)))),2):"CATCH"!==c||"OUTDENT"!==(h=this.tag(a+2))&&"TERMINATOR"!==h&&"FINALLY"!==h?v.call(d,c)>=0&&"INDENT"!==this.tag(a+1)&&("ELSE"!==c||"IF"!==this.tag(a+1))?(s=c,l=this.indentation(r,!0),n=l[0],i=l[1],"THEN"===s&&(n.fromThen=!0),o.splice(a+1,0,n),this.detectEnd(a+2,t,e),"THEN"===c&&o.splice(a,1),1):1:(o.splice.apply(o,[a+2,0].concat(w.call(this.indentation(r)))),4)})},e.prototype.tagPostfixConditionals=function(){var e,t,n;return n=null,t=function(e){var t;return"TERMINATOR"===(t=e[0])||"INDENT"===t},e=function(e){return"INDENT"!==e[0]||e.generated&&!e.fromThen?n[0]="POST_"+n[0]:void 0},this.scanTokens(function(i,s){return"IF"!==i[0]?1:(n=i,this.detectEnd(s+1,t,e),1)})},e.prototype.indentation=function(e,t){var n,i;return null==t&&(t=!1),n=["INDENT",2],i=["OUTDENT",2],t&&(n.generated=i.generated=!0),t||(n.explicit=i.explicit=!0),[n,i]},e.prototype.generate=f,e.prototype.tag=function(e){var t;return null!=(t=this.tokens[e])?t[0]:void 0},e}(),t=[["(",")"],["[","]"],["{","}"],["INDENT","OUTDENT"],["CALL_START","CALL_END"],["PARAM_START","PARAM_END"],["INDEX_START","INDEX_END"]],e.INVERSES=l={},s=[],i=[],b=0,k=t.length;k>b;b++)y=t[b],m=y[0],g=y[1],s.push(l[g]=m),i.push(l[m]=g);n=["CATCH","WHEN","ELSE","FINALLY"].concat(i),c=["IDENTIFIER","SUPER",")","CALL_END","]","INDEX_END","@","THIS"],a=["IDENTIFIER","NUMBER","STRING","JS","REGEX","NEW","PARAM_START","CLASS","IF","TRY","SWITCH","THIS","BOOL","NULL","UNDEFINED","UNARY","SUPER","@","->","=>","[","(","{","--","++"],h=["+","-"],r=["->","=>","{","[",","],o=["POST_IF","FOR","WHILE","UNTIL","WHEN","BY","LOOP","TERMINATOR"],d=["ELSE","->","=>","TRY","FINALLY","THEN"],p=["TERMINATOR","CATCH","FINALLY","ELSE","OUTDENT","LEADING_WHEN"],u=["TERMINATOR","INDENT","OUTDENT"]}).call(this)},require["./lexer"]=new function(){var e=this;(function(){var t,n,i,s,r,a,o,c,h,l,u,p,d,f,m,g,b,k,y,v,w,T,C,F,L,E,N,x,D,S,A,R,I,_,$,O,M,j,B,V,P,U,q,H,G,W,X,Y,K,z,J,Z=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};z=require("./rewriter"),M=z.Rewriter,k=z.INVERSES,J=require("./helpers"),G=J.count,K=J.starts,H=J.compact,X=J.last,Y=J.locationDataToString,e.Lexer=E=function(){function e(){}return e.prototype.tokenize=function(e,t){var n,i,s,r;for(null==t&&(t={}),this.literate=t.literate,this.indent=0,this.indebt=0,this.outdebt=0,this.indents=[],this.ends=[],this.tokens=[],this.chunkLine=t.line||0,this.chunkColumn=t.column||0,e=this.clean(e),i=0;this.chunk=e.slice(i);)n=this.identifierToken()||this.commentToken()||this.whitespaceToken()||this.lineToken()||this.heredocToken()||this.stringToken()||this.numberToken()||this.regexToken()||this.jsToken()||this.literalToken(),r=this.getLineAndColumnFromChunk(n),this.chunkLine=r[0],this.chunkColumn=r[1],i+=n;return this.closeIndentation(),(s=this.ends.pop())&&this.error("missing "+s),t.rewrite===!1?this.tokens:(new M).rewrite(this.tokens)},e.prototype.clean=function(e){var n,i,s;return e.charCodeAt(0)===t&&(e=e.slice(1)),e=e.replace(/\r/g,"").replace(P,""),q.test(e)&&(e="\n"+e,this.chunkLine--),this.literate&&(i=function(){var t,i,r,a;for(r=e.split("\n"),a=[],t=0,i=r.length;i>t;t++)n=r[t],(s=F.exec(n))?a.push(n.slice(s[0].length)):a.push("# "+n);return a}(),e=i.join("\n")),e},e.prototype.identifierToken=function(){var e,t,n,i,s,c,h,l,u,p,d,f,m,b;return(h=g.exec(this.chunk))?(c=h[0],i=h[1],e=h[2],s=i.length,l=void 0,"own"===i&&"FOR"===this.tag()?(this.token("OWN",i),i.length):(n=e||(u=X(this.tokens))&&("."===(f=u[0])||"?."===f||"::"===f||"?::"===f||!u.spaced&&"@"===u[0]),p="IDENTIFIER",!n&&(Z.call(w,i)>=0||Z.call(o,i)>=0)&&(p=i.toUpperCase(),"WHEN"===p&&(m=this.tag(),Z.call(T,m)>=0)?p="LEADING_WHEN":"FOR"===p?this.seenFor=!0:"UNLESS"===p?p="IF":Z.call(U,p)>=0?p="UNARY":Z.call($,p)>=0&&("INSTANCEOF"!==p&&this.seenFor?(p="FOR"+p,this.seenFor=!1):(p="RELATION","!"===this.value()&&(l=this.tokens.pop(),i="!"+i)))),Z.call(v,i)>=0&&(n?(p="IDENTIFIER",i=new String(i),i.reserved=!0):Z.call(O,i)>=0&&this.error('reserved word "'+i+'"')),n||(Z.call(r,i)>=0&&(i=a[i]),p=function(){switch(i){case"!":return"UNARY";case"==":case"!=":return"COMPARE";case"&&":case"||":return"LOGIC";case"true":case"false":return"BOOL";case"break":case"continue":return"STATEMENT";default:return p}}()),d=this.token(p,i,0,s),l&&(b=[l[2].first_line,l[2].first_column],d[2].first_line=b[0],d[2].first_column=b[1]),e&&(t=c.lastIndexOf(":"),this.token(":",":",t,e.length)),c.length)):0},e.prototype.numberToken=function(){var e,t,n,i,s;return(n=R.exec(this.chunk))?(i=n[0],/^0[BOX]/.test(i)?this.error("radix prefix '"+i+"' must be lowercase"):/E/.test(i)&&!/^0x/.test(i)?this.error("exponential notation '"+i+"' must be indicated with a lowercase 'e'"):/^0\d*[89]/.test(i)?this.error("decimal literal '"+i+"' must not be prefixed with '0'"):/^0\d+/.test(i)&&this.error("octal literal '"+i+"' must be prefixed with '0o'"),t=i.length,(s=/^0o([0-7]+)/.exec(i))&&(i="0x"+parseInt(s[1],8).toString(16)),(e=/^0b([01]+)/.exec(i))&&(i="0x"+parseInt(e[1],2).toString(16)),this.token("NUMBER",i,0,t),t):0},e.prototype.stringToken=function(){var e,t,n;switch(this.chunk.charAt(0)){case"'":if(!(e=B.exec(this.chunk)))return 0;n=e[0],this.token("STRING",n.replace(x,"\\\n"),0,n.length);break;case'"':if(!(n=this.balancedString(this.chunk,'"')))return 0;n.indexOf("#{",1)>0?this.interpolateString(n.slice(1,-1),{strOffset:1,lexedLength:n.length}):this.token("STRING",this.escapeLines(n,0,n.length));break;default:return 0}return(t=/^(?:\\.|[^\\])*\\(?:0[0-7]|[1-7])/.test(n))&&this.error("octal escape sequences "+n+" are not allowed"),n.length},e.prototype.heredocToken=function(){var e,t,n,i;return(n=u.exec(this.chunk))?(t=n[0],i=t.charAt(0),e=this.sanitizeHeredoc(n[2],{quote:i,indent:null}),'"'===i&&e.indexOf("#{")>=0?this.interpolateString(e,{heredoc:!0,strOffset:3,lexedLength:t.length}):this.token("STRING",this.makeString(e,i,!0),0,t.length),t.length):0},e.prototype.commentToken=function(){var e,t,n;return(n=this.chunk.match(c))?(e=n[0],t=n[1],t&&this.token("HERECOMMENT",this.sanitizeHeredoc(t,{herecomment:!0,indent:Array(this.indent+1).join(" ")}),0,e.length),e.length):0},e.prototype.jsToken=function(){var e,t;return"`"===this.chunk.charAt(0)&&(e=y.exec(this.chunk))?(this.token("JS",(t=e[0]).slice(1,-1),0,t.length),t.length):0},e.prototype.regexToken=function(){var e,t,n,i,s,r,a;return"/"!==this.chunk.charAt(0)?0:(n=f.exec(this.chunk))?t=this.heregexToken(n):(i=X(this.tokens),i&&(r=i[0],Z.call(i.spaced?S:A,r)>=0)?0:(n=_.exec(this.chunk))?(a=n,n=a[0],s=a[1],e=a[2],"/*"===s.slice(0,2)&&this.error("regular expressions cannot begin with `*`"),"//"===s&&(s="/(?:)/"),this.token("REGEX",""+s+e,0,n.length),n.length):0)},e.prototype.heregexToken=function(e){var t,n,i,s,r,a,o,c,h,l,u,p,d,f,g,b;if(s=e[0],t=e[1],n=e[2],0>t.indexOf("#{"))return o=t.replace(m,"").replace(/\//g,"\\/"),o.match(/^\*/)&&this.error("regular expressions cannot begin with `*`"),this.token("REGEX","/"+(o||"(?:)")+"/"+n,0,s.length),s.length;for(this.token("IDENTIFIER","RegExp",0,0),this.token("CALL_START","(",0,0),l=[],f=this.interpolateString(t,{regex:!0}),p=0,d=f.length;d>p;p++){if(h=f[p],c=h[0],u=h[1],"TOKENS"===c)l.push.apply(l,u);else if("NEOSTRING"===c){if(!(u=u.replace(m,"")))continue;u=u.replace(/\\/g,"\\\\"),h[0]="STRING",h[1]=this.makeString(u,'"',!0),l.push(h)}else this.error("Unexpected "+c);a=X(this.tokens),r=["+","+"],r[2]=a[2],l.push(r)}return l.pop(),"STRING"!==(null!=(g=l[0])?g[0]:void 0)&&(this.token("STRING",'""',0,0),this.token("+","+",0,0)),(b=this.tokens).push.apply(b,l),n&&(i=s.lastIndexOf(n),this.token(",",",",i,0),this.token("STRING",'"'+n+'"',i,n.length)),this.token(")",")",s.length-1,0),s.length},e.prototype.lineToken=function(){var e,t,n,i,s;if(!(n=D.exec(this.chunk)))return 0;if(t=n[0],this.seenFor=!1,s=t.length-1-t.lastIndexOf("\n"),i=this.unfinished(),s-this.indebt===this.indent)return i?this.suppressNewlines():this.newlineToken(0),t.length;if(s>this.indent){if(i)return this.indebt=s-this.indent,this.suppressNewlines(),t.length;e=s-this.indent+this.outdebt,this.token("INDENT",e,0,t.length),this.indents.push(e),this.ends.push("OUTDENT"),this.outdebt=this.indebt=0}else this.indebt=0,this.outdentToken(this.indent-s,i,t.length);return this.indent=s,t.length},e.prototype.outdentToken=function(e,t,n){for(var i,s;e>0;)s=this.indents.length-1,void 0===this.indents[s]?e=0:this.indents[s]===this.outdebt?(e-=this.outdebt,this.outdebt=0):this.indents[s]<this.outdebt?(this.outdebt-=this.indents[s],e-=this.indents[s]):(i=this.indents.pop()+this.outdebt,e-=i,this.outdebt=0,this.pair("OUTDENT"),this.token("OUTDENT",i,0,n));for(i&&(this.outdebt-=e);";"===this.value();)this.tokens.pop();return"TERMINATOR"===this.tag()||t||this.token("TERMINATOR","\n",n,0),this},e.prototype.whitespaceToken=function(){var e,t,n;return(e=q.exec(this.chunk))||(t="\n"===this.chunk.charAt(0))?(n=X(this.tokens),n&&(n[e?"spaced":"newLine"]=!0),e?e[0].length:0):0},e.prototype.newlineToken=function(e){for(;";"===this.value();)this.tokens.pop();return"TERMINATOR"!==this.tag()&&this.token("TERMINATOR","\n",e,0),this},e.prototype.suppressNewlines=function(){return"\\"===this.value()&&this.tokens.pop(),this},e.prototype.literalToken=function(){var e,t,n,r,a,o,c,u;if((e=I.exec(this.chunk))?(r=e[0],s.test(r)&&this.tagParameters()):r=this.chunk.charAt(0),n=r,t=X(this.tokens),"="===r&&t&&(!t[1].reserved&&(a=t[1],Z.call(v,a)>=0)&&this.error('reserved word "'+this.value()+"\" can't be assigned"),"||"===(o=t[1])||"&&"===o))return t[0]="COMPOUND_ASSIGN",t[1]+="=",r.length;if(";"===r)this.seenFor=!1,n="TERMINATOR";else if(Z.call(N,r)>=0)n="MATH";else if(Z.call(h,r)>=0)n="COMPARE";else if(Z.call(l,r)>=0)n="COMPOUND_ASSIGN";else if(Z.call(U,r)>=0)n="UNARY";else if(Z.call(j,r)>=0)n="SHIFT";else if(Z.call(L,r)>=0||"?"===r&&(null!=t?t.spaced:void 0))n="LOGIC";else if(t&&!t.spaced)if("("===r&&(c=t[0],Z.call(i,c)>=0))"?"===t[0]&&(t[0]="FUNC_EXIST"),n="CALL_START";else if("["===r&&(u=t[0],Z.call(b,u)>=0))switch(n="INDEX_START",t[0]){case"?":t[0]="INDEX_SOAK"}switch(r){case"(":case"{":case"[":this.ends.push(k[r]);break;case")":case"}":case"]":this.pair(r)}return this.token(n,r),r.length},e.prototype.sanitizeHeredoc=function(e,t){var n,i,s,r,a;if(s=t.indent,i=t.herecomment){if(p.test(e)&&this.error('block comment cannot contain "*/", starting'),0>e.indexOf("\n"))return e}else for(;r=d.exec(e);)n=r[1],(null===s||(a=n.length)>0&&s.length>a)&&(s=n);return s&&(e=e.replace(RegExp("\\n"+s,"g"),"\n")),this.literate&&(e=e.replace(/\n# \n/g,"\n\n")),i||(e=e.replace(/^\n/,"")),e},e.prototype.tagParameters=function(){var e,t,n,i;if(")"!==this.tag())return this;for(t=[],i=this.tokens,e=i.length,i[--e][0]="PARAM_END";n=i[--e];)switch(n[0]){case")":t.push(n);break;case"(":case"CALL_START":if(!t.length)return"("===n[0]?(n[0]="PARAM_START",this):this;t.pop()}return this},e.prototype.closeIndentation=function(){return this.outdentToken(this.indent)},e.prototype.balancedString=function(e,t){var n,i,s,r,a,o,c,h;for(n=0,o=[t],i=c=1,h=e.length;h>=1?h>c:c>h;i=h>=1?++c:--c)if(n)--n;else{switch(s=e.charAt(i)){case"\\":++n;continue;case t:if(o.pop(),!o.length)return e.slice(0,+i+1||9e9);t=o[o.length-1];continue}"}"!==t||'"'!==s&&"'"!==s?"}"===t&&"/"===s&&(r=f.exec(e.slice(i))||_.exec(e.slice(i)))?n+=r[0].length-1:"}"===t&&"{"===s?o.push(t="}"):'"'===t&&"#"===a&&"{"===s&&o.push(t="}"):o.push(t=s),a=s}return this.error("missing "+o.pop()+", starting")},e.prototype.interpolateString=function(t,n){var i,s,r,a,o,c,h,l,u,p,d,f,m,g,b,k,y,v,w,T,C,F,L,E,N,x,D;for(null==n&&(n={}),r=n.heredoc,y=n.regex,m=n.offsetInChunk,v=n.strOffset,u=n.lexedLength,m=m||0,v=v||0,u=u||t.length,r&&t.length>0&&"\n"===t[0]&&(t=t.slice(1),v++),C=[],g=0,a=-1;l=t.charAt(a+=1);)"\\"!==l?"#"===l&&"{"===t.charAt(a+1)&&(s=this.balancedString(t.slice(a+1),"}"))&&(a>g&&C.push(this.makeToken("NEOSTRING",t.slice(g,a),v+g)),o=s.slice(1,-1),o.length&&(N=this.getLineAndColumnFromChunk(v+a+1),p=N[0],i=N[1],f=(new e).tokenize(o,{line:p,column:i,rewrite:!1}),k=f.pop(),"TERMINATOR"===(null!=(x=f[0])?x[0]:void 0)&&(k=f.shift()),(h=f.length)&&(h>1&&(f.unshift(this.makeToken("(","(",v+a+1,0)),f.push(this.makeToken(")",")",v+a+1+o.length,0))),C.push(["TOKENS",f]))),a+=s.length,g=a+1):a+=1;if(a>g&&t.length>g&&C.push(this.makeToken("NEOSTRING",t.slice(g),v+g)),y)return C;if(!C.length)return this.token("STRING",'""',m,u);for("NEOSTRING"!==C[0][0]&&C.unshift(this.makeToken("NEOSTRING","",m)),(c=C.length>1)&&this.token("(","(",m,0),a=L=0,E=C.length;E>L;a=++L)T=C[a],w=T[0],F=T[1],a&&(a&&(b=this.token("+","+")),d="TOKENS"===w?F[0]:T,b[2]={first_line:d[2].first_line,first_column:d[2].first_column,last_line:d[2].first_line,last_column:d[2].first_column}),"TOKENS"===w?(D=this.tokens).push.apply(D,F):"NEOSTRING"===w?(T[0]="STRING",T[1]=this.makeString(F,'"',r),this.tokens.push(T)):this.error("Unexpected "+w);return c&&this.token(")",")",m+u,0),C},e.prototype.pair=function(e){var t,n;return e!==(n=X(this.ends))?("OUTDENT"!==n&&this.error("unmatched "+e),this.indent-=t=X(this.indents),this.outdentToken(t,!0),this.pair(e)):this.ends.pop()},e.prototype.getLineAndColumnFromChunk=function(e){var t,n,i,s;return 0===e?[this.chunkLine,this.chunkColumn]:(s=e>=this.chunk.length?this.chunk:this.chunk.slice(0,+(e-1)+1||9e9),n=G(s,"\n"),t=this.chunkColumn,n>0?(i=s.split("\n"),t=X(i).length):t+=s.length,[this.chunkLine+n,t])},e.prototype.makeToken=function(e,t,n,i){var s,r,a,o,c;return null==n&&(n=0),null==i&&(i=t.length),r={},o=this.getLineAndColumnFromChunk(n),r.first_line=o[0],r.first_column=o[1],s=Math.max(0,i-1),c=this.getLineAndColumnFromChunk(n+(i-1)),r.last_line=c[0],r.last_column=c[1],a=[e,t,r]},e.prototype.token=function(e,t,n,i){var s;return s=this.makeToken(e,t,n,i),this.tokens.push(s),s},e.prototype.tag=function(e,t){var n;return(n=X(this.tokens,e))&&(t?n[0]=t:n[0])},e.prototype.value=function(e,t){var n;return(n=X(this.tokens,e))&&(t?n[1]=t:n[1])},e.prototype.unfinished=function(){var e;return C.test(this.chunk)||"\\"===(e=this.tag())||"."===e||"?."===e||"?::"===e||"UNARY"===e||"MATH"===e||"+"===e||"-"===e||"SHIFT"===e||"RELATION"===e||"COMPARE"===e||"LOGIC"===e||"THROW"===e||"EXTENDS"===e},e.prototype.escapeLines=function(e,t){return e.replace(x,t?"\\n":"")},e.prototype.makeString=function(e,t,n){return e?(e=e.replace(/\\([\s\S])/g,function(e,n){return"\n"===n||n===t?n:e}),e=e.replace(RegExp(""+t,"g"),"\\$&"),t+this.escapeLines(e,n)+t):t+t},e.prototype.error=function(e){throw SyntaxError(""+e+" on line "+(this.chunkLine+1))},e}(),w=["true","false","null","this","new","delete","typeof","in","instanceof","return","throw","break","continue","debugger","if","else","switch","for","while","do","try","catch","finally","class","extends","super"],o=["undefined","then","unless","until","loop","of","by","when"],a={and:"&&",or:"||",is:"==",isnt:"!=",not:"!",yes:"true",no:"false",on:"true",off:"false"},r=function(){var e;e=[];for(W in a)e.push(W);return e}(),o=o.concat(r),O=["case","default","function","var","void","with","const","let","enum","export","import","native","__hasProp","__extends","__slice","__bind","__indexOf","implements","interface","package","private","protected","public","static","yield"],V=["arguments","eval"],v=w.concat(O).concat(V),e.RESERVED=O.concat(w).concat(o).concat(V),e.STRICT_PROSCRIBED=V,t=65279,g=/^([$A-Za-z_\x7f-\uffff][$\w\x7f-\uffff]*)([^\n\S]*:(?!:))?/,R=/^0b[01]+|^0o[0-7]+|^0x[\da-f]+|^\d*\.?\d+(?:e[+-]?\d+)?/i,u=/^("""|''')([\s\S]*?)(?:\n[^\n\S]*)?\1/,I=/^(?:[-=]>|[-+*\/%<>&|^!?=]=|>>>=?|([-+:])\1|([&|<>])\2=?|\?(\.|::)|\.{2,3})/,q=/^[^\n\S]+/,c=/^###([^#][\s\S]*?)(?:###[^\n\S]*|(?:###)$)|^(?:\s*#(?!##[^#]).*)+/,F=/^([ ]{4}|\t)/,s=/^[-=]>/,D=/^(?:\n[^\n\S]*)+/,B=/^'[^\\']*(?:\\.[^\\']*)*'/,y=/^`[^\\`]*(?:\\.[^\\`]*)*`/,_=/^(\/(?![\s=])[^[\/\n\\]*(?:(?:\\[\s\S]|\[[^\]\n\\]*(?:\\[\s\S][^\]\n\\]*)*])[^[\/\n\\]*)*\/)([imgy]{0,4})(?!\w)/,f=/^\/{3}([\s\S]+?)\/{3}([imgy]{0,4})(?!\w)/,m=/\s+(?:#.*)?/g,x=/\n/g,d=/\n+([^\n\S]*)/g,p=/\*\//,C=/^\s*(?:,|\??\.(?![.\d])|::)/,P=/\s+$/,l=["-=","+=","/=","*=","%=","||=","&&=","?=","<<=",">>=",">>>=","&=","^=","|="],U=["!","~","NEW","TYPEOF","DELETE","DO"],L=["&&","||","&","|","^"],j=["<<",">>",">>>"],h=["==","!=","<",">","<=",">="],N=["*","/","%"],$=["IN","OF","INSTANCEOF"],n=["TRUE","FALSE"],S=["NUMBER","REGEX","BOOL","NULL","UNDEFINED","++","--","]"],A=S.concat(")","}","THIS","IDENTIFIER","STRING"),i=["IDENTIFIER","STRING","REGEX",")","]","}","?","::","@","THIS","SUPER"],b=i.concat("NUMBER","BOOL","NULL","UNDEFINED"),T=["INDENT","OUTDENT","TERMINATOR"]}).call(this)},require["./parser"]=new function(){var e=this,t=function(){function e(){this.yy={}}var t={trace:function(){},yy:{},symbols_:{error:2,Root:3,Body:4,Block:5,TERMINATOR:6,Line:7,Expression:8,Statement:9,Return:10,Comment:11,STATEMENT:12,Value:13,Invocation:14,Code:15,Operation:16,Assign:17,If:18,Try:19,While:20,For:21,Switch:22,Class:23,Throw:24,INDENT:25,OUTDENT:26,Identifier:27,IDENTIFIER:28,AlphaNumeric:29,NUMBER:30,STRING:31,Literal:32,JS:33,REGEX:34,DEBUGGER:35,UNDEFINED:36,NULL:37,BOOL:38,Assignable:39,"=":40,AssignObj:41,ObjAssignable:42,":":43,ThisProperty:44,RETURN:45,HERECOMMENT:46,PARAM_START:47,ParamList:48,PARAM_END:49,FuncGlyph:50,"->":51,"=>":52,OptComma:53,",":54,Param:55,ParamVar:56,"...":57,Array:58,Object:59,Splat:60,SimpleAssignable:61,Accessor:62,Parenthetical:63,Range:64,This:65,".":66,"?.":67,"::":68,"?::":69,Index:70,INDEX_START:71,IndexValue:72,INDEX_END:73,INDEX_SOAK:74,Slice:75,"{":76,AssignList:77,"}":78,CLASS:79,EXTENDS:80,OptFuncExist:81,Arguments:82,SUPER:83,FUNC_EXIST:84,CALL_START:85,CALL_END:86,ArgList:87,THIS:88,"@":89,"[":90,"]":91,RangeDots:92,"..":93,Arg:94,SimpleArgs:95,TRY:96,Catch:97,FINALLY:98,CATCH:99,THROW:100,"(":101,")":102,WhileSource:103,WHILE:104,WHEN:105,UNTIL:106,Loop:107,LOOP:108,ForBody:109,FOR:110,ForStart:111,ForSource:112,ForVariables:113,OWN:114,ForValue:115,FORIN:116,FOROF:117,BY:118,SWITCH:119,Whens:120,ELSE:121,When:122,LEADING_WHEN:123,IfBlock:124,IF:125,POST_IF:126,UNARY:127,"-":128,"+":129,"--":130,"++":131,"?":132,MATH:133,SHIFT:134,COMPARE:135,LOGIC:136,RELATION:137,COMPOUND_ASSIGN:138,$accept:0,$end:1},terminals_:{2:"error",6:"TERMINATOR",12:"STATEMENT",25:"INDENT",26:"OUTDENT",28:"IDENTIFIER",30:"NUMBER",31:"STRING",33:"JS",34:"REGEX",35:"DEBUGGER",36:"UNDEFINED",37:"NULL",38:"BOOL",40:"=",43:":",45:"RETURN",46:"HERECOMMENT",47:"PARAM_START",49:"PARAM_END",51:"->",52:"=>",54:",",57:"...",66:".",67:"?.",68:"::",69:"?::",71:"INDEX_START",73:"INDEX_END",74:"INDEX_SOAK",76:"{",78:"}",79:"CLASS",80:"EXTENDS",83:"SUPER",84:"FUNC_EXIST",85:"CALL_START",86:"CALL_END",88:"THIS",89:"@",90:"[",91:"]",93:"..",96:"TRY",98:"FINALLY",99:"CATCH",100:"THROW",101:"(",102:")",104:"WHILE",105:"WHEN",106:"UNTIL",108:"LOOP",110:"FOR",114:"OWN",116:"FORIN",117:"FOROF",118:"BY",119:"SWITCH",121:"ELSE",123:"LEADING_WHEN",125:"IF",126:"POST_IF",127:"UNARY",128:"-",129:"+",130:"--",131:"++",132:"?",133:"MATH",134:"SHIFT",135:"COMPARE",136:"LOGIC",137:"RELATION",138:"COMPOUND_ASSIGN"},productions_:[0,[3,0],[3,1],[3,2],[4,1],[4,3],[4,2],[7,1],[7,1],[9,1],[9,1],[9,1],[8,1],[8,1],[8,1],[8,1],[8,1],[8,1],[8,1],[8,1],[8,1],[8,1],[8,1],[8,1],[5,2],[5,3],[27,1],[29,1],[29,1],[32,1],[32,1],[32,1],[32,1],[32,1],[32,1],[32,1],[17,3],[17,4],[17,5],[41,1],[41,3],[41,5],[41,1],[42,1],[42,1],[42,1],[10,2],[10,1],[11,1],[15,5],[15,2],[50,1],[50,1],[53,0],[53,1],[48,0],[48,1],[48,3],[48,4],[48,6],[55,1],[55,2],[55,3],[56,1],[56,1],[56,1],[56,1],[60,2],[61,1],[61,2],[61,2],[61,1],[39,1],[39,1],[39,1],[13,1],[13,1],[13,1],[13,1],[13,1],[62,2],[62,2],[62,2],[62,2],[62,1],[62,1],[70,3],[70,2],[72,1],[72,1],[59,4],[77,0],[77,1],[77,3],[77,4],[77,6],[23,1],[23,2],[23,3],[23,4],[23,2],[23,3],[23,4],[23,5],[14,3],[14,3],[14,1],[14,2],[81,0],[81,1],[82,2],[82,4],[65,1],[65,1],[44,2],[58,2],[58,4],[92,1],[92,1],[64,5],[75,3],[75,2],[75,2],[75,1],[87,1],[87,3],[87,4],[87,4],[87,6],[94,1],[94,1],[95,1],[95,3],[19,2],[19,3],[19,4],[19,5],[97,3],[97,3],[24,2],[63,3],[63,5],[103,2],[103,4],[103,2],[103,4],[20,2],[20,2],[20,2],[20,1],[107,2],[107,2],[21,2],[21,2],[21,2],[109,2],[109,2],[111,2],[111,3],[115,1],[115,1],[115,1],[115,1],[113,1],[113,3],[112,2],[112,2],[112,4],[112,4],[112,4],[112,6],[112,6],[22,5],[22,7],[22,4],[22,6],[120,1],[120,2],[122,3],[122,4],[124,3],[124,5],[18,1],[18,3],[18,3],[18,3],[16,2],[16,2],[16,2],[16,2],[16,2],[16,2],[16,2],[16,2],[16,3],[16,3],[16,3],[16,3],[16,3],[16,3],[16,3],[16,3],[16,5],[16,4],[16,3]],performAction:function(e,t,n,i,s,r,a){var o=r.length-1;switch(s){case 1:return this.$=i.addLocationDataFn(a[o],a[o])(new i.Block);case 2:return this.$=r[o];case 3:return this.$=r[o-1];case 4:this.$=i.addLocationDataFn(a[o],a[o])(i.Block.wrap([r[o]]));break;case 5:this.$=i.addLocationDataFn(a[o-2],a[o])(r[o-2].push(r[o]));break;case 6:this.$=r[o-1];break;case 7:this.$=r[o];break;case 8:this.$=r[o];break;case 9:this.$=r[o];break;case 10:this.$=r[o];break;case 11:this.$=i.addLocationDataFn(a[o],a[o])(new i.Literal(r[o]));break;case 12:this.$=r[o];break;case 13:this.$=r[o];break;case 14:this.$=r[o];break;case 15:this.$=r[o];break;case 16:this.$=r[o];break;case 17:this.$=r[o];break;case 18:this.$=r[o];break;case 19:this.$=r[o];break;case 20:this.$=r[o];break;case 21:this.$=r[o];break;case 22:this.$=r[o];break;case 23:this.$=r[o];break;case 24:this.$=i.addLocationDataFn(a[o-1],a[o])(new i.Block);break;case 25:this.$=i.addLocationDataFn(a[o-2],a[o])(r[o-1]);break;case 26:this.$=i.addLocationDataFn(a[o],a[o])(new i.Literal(r[o]));break;case 27:this.$=i.addLocationDataFn(a[o],a[o])(new i.Literal(r[o]));break;case 28:this.$=i.addLocationDataFn(a[o],a[o])(new i.Literal(r[o]));break;case 29:this.$=r[o];break;case 30:this.$=i.addLocationDataFn(a[o],a[o])(new i.Literal(r[o]));break;case 31:this.$=i.addLocationDataFn(a[o],a[o])(new i.Literal(r[o]));break;case 32:this.$=i.addLocationDataFn(a[o],a[o])(new i.Literal(r[o]));break;case 33:this.$=i.addLocationDataFn(a[o],a[o])(new i.Undefined);break;case 34:this.$=i.addLocationDataFn(a[o],a[o])(new i.Null);break;case 35:this.$=i.addLocationDataFn(a[o],a[o])(new i.Bool(r[o]));break;case 36:this.$=i.addLocationDataFn(a[o-2],a[o])(new i.Assign(r[o-2],r[o]));break;case 37:this.$=i.addLocationDataFn(a[o-3],a[o])(new i.Assign(r[o-3],r[o]));break;case 38:this.$=i.addLocationDataFn(a[o-4],a[o])(new i.Assign(r[o-4],r[o-1]));break;case 39:this.$=i.addLocationDataFn(a[o],a[o])(new i.Value(r[o]));break;case 40:this.$=i.addLocationDataFn(a[o-2],a[o])(new i.Assign(i.addLocationDataFn(a[o-2])(new i.Value(r[o-2])),r[o],"object"));break;case 41:this.$=i.addLocationDataFn(a[o-4],a[o])(new i.Assign(i.addLocationDataFn(a[o-4])(new i.Value(r[o-4])),r[o-1],"object"));break;case 42:this.$=r[o];break;case 43:this.$=r[o];break;case 44:this.$=r[o];break;case 45:this.$=r[o];break;case 46:this.$=i.addLocationDataFn(a[o-1],a[o])(new i.Return(r[o]));break;case 47:this.$=i.addLocationDataFn(a[o],a[o])(new i.Return);break;case 48:this.$=i.addLocationDataFn(a[o],a[o])(new i.Comment(r[o]));break;case 49:this.$=i.addLocationDataFn(a[o-4],a[o])(new i.Code(r[o-3],r[o],r[o-1]));break;case 50:this.$=i.addLocationDataFn(a[o-1],a[o])(new i.Code([],r[o],r[o-1]));break;case 51:this.$=i.addLocationDataFn(a[o],a[o])("func");break;case 52:this.$=i.addLocationDataFn(a[o],a[o])("boundfunc");break;case 53:this.$=r[o];break;case 54:this.$=r[o];break;case 55:this.$=i.addLocationDataFn(a[o],a[o])([]);break;case 56:this.$=i.addLocationDataFn(a[o],a[o])([r[o]]);break;case 57:this.$=i.addLocationDataFn(a[o-2],a[o])(r[o-2].concat(r[o]));break;case 58:this.$=i.addLocationDataFn(a[o-3],a[o])(r[o-3].concat(r[o]));break;case 59:this.$=i.addLocationDataFn(a[o-5],a[o])(r[o-5].concat(r[o-2]));break;case 60:this.$=i.addLocationDataFn(a[o],a[o])(new i.Param(r[o]));break;case 61:this.$=i.addLocationDataFn(a[o-1],a[o])(new i.Param(r[o-1],null,!0));break;case 62:this.$=i.addLocationDataFn(a[o-2],a[o])(new i.Param(r[o-2],r[o]));break;case 63:this.$=r[o];break;case 64:this.$=r[o];break;case 65:this.$=r[o];break;case 66:this.$=r[o];break;case 67:this.$=i.addLocationDataFn(a[o-1],a[o])(new i.Splat(r[o-1]));break;case 68:this.$=i.addLocationDataFn(a[o],a[o])(new i.Value(r[o]));break;case 69:this.$=i.addLocationDataFn(a[o-1],a[o])(r[o-1].add(r[o]));break;case 70:this.$=i.addLocationDataFn(a[o-1],a[o])(new i.Value(r[o-1],[].concat(r[o])));
break;case 71:this.$=r[o];break;case 72:this.$=r[o];break;case 73:this.$=i.addLocationDataFn(a[o],a[o])(new i.Value(r[o]));break;case 74:this.$=i.addLocationDataFn(a[o],a[o])(new i.Value(r[o]));break;case 75:this.$=r[o];break;case 76:this.$=i.addLocationDataFn(a[o],a[o])(new i.Value(r[o]));break;case 77:this.$=i.addLocationDataFn(a[o],a[o])(new i.Value(r[o]));break;case 78:this.$=i.addLocationDataFn(a[o],a[o])(new i.Value(r[o]));break;case 79:this.$=r[o];break;case 80:this.$=i.addLocationDataFn(a[o-1],a[o])(new i.Access(r[o]));break;case 81:this.$=i.addLocationDataFn(a[o-1],a[o])(new i.Access(r[o],"soak"));break;case 82:this.$=i.addLocationDataFn(a[o-1],a[o])([i.addLocationDataFn(a[o-1])(new i.Access(new i.Literal("prototype"))),i.addLocationDataFn(a[o])(new i.Access(r[o]))]);break;case 83:this.$=i.addLocationDataFn(a[o-1],a[o])([i.addLocationDataFn(a[o-1])(new i.Access(new i.Literal("prototype"),"soak")),i.addLocationDataFn(a[o])(new i.Access(r[o]))]);break;case 84:this.$=i.addLocationDataFn(a[o],a[o])(new i.Access(new i.Literal("prototype")));break;case 85:this.$=r[o];break;case 86:this.$=i.addLocationDataFn(a[o-2],a[o])(r[o-1]);break;case 87:this.$=i.addLocationDataFn(a[o-1],a[o])(i.extend(r[o],{soak:!0}));break;case 88:this.$=i.addLocationDataFn(a[o],a[o])(new i.Index(r[o]));break;case 89:this.$=i.addLocationDataFn(a[o],a[o])(new i.Slice(r[o]));break;case 90:this.$=i.addLocationDataFn(a[o-3],a[o])(new i.Obj(r[o-2],r[o-3].generated));break;case 91:this.$=i.addLocationDataFn(a[o],a[o])([]);break;case 92:this.$=i.addLocationDataFn(a[o],a[o])([r[o]]);break;case 93:this.$=i.addLocationDataFn(a[o-2],a[o])(r[o-2].concat(r[o]));break;case 94:this.$=i.addLocationDataFn(a[o-3],a[o])(r[o-3].concat(r[o]));break;case 95:this.$=i.addLocationDataFn(a[o-5],a[o])(r[o-5].concat(r[o-2]));break;case 96:this.$=i.addLocationDataFn(a[o],a[o])(new i.Class);break;case 97:this.$=i.addLocationDataFn(a[o-1],a[o])(new i.Class(null,null,r[o]));break;case 98:this.$=i.addLocationDataFn(a[o-2],a[o])(new i.Class(null,r[o]));break;case 99:this.$=i.addLocationDataFn(a[o-3],a[o])(new i.Class(null,r[o-1],r[o]));break;case 100:this.$=i.addLocationDataFn(a[o-1],a[o])(new i.Class(r[o]));break;case 101:this.$=i.addLocationDataFn(a[o-2],a[o])(new i.Class(r[o-1],null,r[o]));break;case 102:this.$=i.addLocationDataFn(a[o-3],a[o])(new i.Class(r[o-2],r[o]));break;case 103:this.$=i.addLocationDataFn(a[o-4],a[o])(new i.Class(r[o-3],r[o-1],r[o]));break;case 104:this.$=i.addLocationDataFn(a[o-2],a[o])(new i.Call(r[o-2],r[o],r[o-1]));break;case 105:this.$=i.addLocationDataFn(a[o-2],a[o])(new i.Call(r[o-2],r[o],r[o-1]));break;case 106:this.$=i.addLocationDataFn(a[o],a[o])(new i.Call("super",[new i.Splat(new i.Literal("arguments"))]));break;case 107:this.$=i.addLocationDataFn(a[o-1],a[o])(new i.Call("super",r[o]));break;case 108:this.$=i.addLocationDataFn(a[o],a[o])(!1);break;case 109:this.$=i.addLocationDataFn(a[o],a[o])(!0);break;case 110:this.$=i.addLocationDataFn(a[o-1],a[o])([]);break;case 111:this.$=i.addLocationDataFn(a[o-3],a[o])(r[o-2]);break;case 112:this.$=i.addLocationDataFn(a[o],a[o])(new i.Value(new i.Literal("this")));break;case 113:this.$=i.addLocationDataFn(a[o],a[o])(new i.Value(new i.Literal("this")));break;case 114:this.$=i.addLocationDataFn(a[o-1],a[o])(new i.Value(i.addLocationDataFn(a[o-1])(new i.Literal("this")),[i.addLocationDataFn(a[o])(new i.Access(r[o]))],"this"));break;case 115:this.$=i.addLocationDataFn(a[o-1],a[o])(new i.Arr([]));break;case 116:this.$=i.addLocationDataFn(a[o-3],a[o])(new i.Arr(r[o-2]));break;case 117:this.$=i.addLocationDataFn(a[o],a[o])("inclusive");break;case 118:this.$=i.addLocationDataFn(a[o],a[o])("exclusive");break;case 119:this.$=i.addLocationDataFn(a[o-4],a[o])(new i.Range(r[o-3],r[o-1],r[o-2]));break;case 120:this.$=i.addLocationDataFn(a[o-2],a[o])(new i.Range(r[o-2],r[o],r[o-1]));break;case 121:this.$=i.addLocationDataFn(a[o-1],a[o])(new i.Range(r[o-1],null,r[o]));break;case 122:this.$=i.addLocationDataFn(a[o-1],a[o])(new i.Range(null,r[o],r[o-1]));break;case 123:this.$=i.addLocationDataFn(a[o],a[o])(new i.Range(null,null,r[o]));break;case 124:this.$=i.addLocationDataFn(a[o],a[o])([r[o]]);break;case 125:this.$=i.addLocationDataFn(a[o-2],a[o])(r[o-2].concat(r[o]));break;case 126:this.$=i.addLocationDataFn(a[o-3],a[o])(r[o-3].concat(r[o]));break;case 127:this.$=i.addLocationDataFn(a[o-3],a[o])(r[o-2]);break;case 128:this.$=i.addLocationDataFn(a[o-5],a[o])(r[o-5].concat(r[o-2]));break;case 129:this.$=r[o];break;case 130:this.$=r[o];break;case 131:this.$=r[o];break;case 132:this.$=i.addLocationDataFn(a[o-2],a[o])([].concat(r[o-2],r[o]));break;case 133:this.$=i.addLocationDataFn(a[o-1],a[o])(new i.Try(r[o]));break;case 134:this.$=i.addLocationDataFn(a[o-2],a[o])(new i.Try(r[o-1],r[o][0],r[o][1]));break;case 135:this.$=i.addLocationDataFn(a[o-3],a[o])(new i.Try(r[o-2],null,null,r[o]));break;case 136:this.$=i.addLocationDataFn(a[o-4],a[o])(new i.Try(r[o-3],r[o-2][0],r[o-2][1],r[o]));break;case 137:this.$=i.addLocationDataFn(a[o-2],a[o])([r[o-1],r[o]]);break;case 138:this.$=i.addLocationDataFn(a[o-2],a[o])([i.addLocationDataFn(a[o-1])(new i.Value(r[o-1])),r[o]]);break;case 139:this.$=i.addLocationDataFn(a[o-1],a[o])(new i.Throw(r[o]));break;case 140:this.$=i.addLocationDataFn(a[o-2],a[o])(new i.Parens(r[o-1]));break;case 141:this.$=i.addLocationDataFn(a[o-4],a[o])(new i.Parens(r[o-2]));break;case 142:this.$=i.addLocationDataFn(a[o-1],a[o])(new i.While(r[o]));break;case 143:this.$=i.addLocationDataFn(a[o-3],a[o])(new i.While(r[o-2],{guard:r[o]}));break;case 144:this.$=i.addLocationDataFn(a[o-1],a[o])(new i.While(r[o],{invert:!0}));break;case 145:this.$=i.addLocationDataFn(a[o-3],a[o])(new i.While(r[o-2],{invert:!0,guard:r[o]}));break;case 146:this.$=i.addLocationDataFn(a[o-1],a[o])(r[o-1].addBody(r[o]));break;case 147:this.$=i.addLocationDataFn(a[o-1],a[o])(r[o].addBody(i.addLocationDataFn(a[o-1])(i.Block.wrap([r[o-1]]))));break;case 148:this.$=i.addLocationDataFn(a[o-1],a[o])(r[o].addBody(i.addLocationDataFn(a[o-1])(i.Block.wrap([r[o-1]]))));break;case 149:this.$=i.addLocationDataFn(a[o],a[o])(r[o]);break;case 150:this.$=i.addLocationDataFn(a[o-1],a[o])(new i.While(i.addLocationDataFn(a[o-1])(new i.Literal("true"))).addBody(r[o]));break;case 151:this.$=i.addLocationDataFn(a[o-1],a[o])(new i.While(i.addLocationDataFn(a[o-1])(new i.Literal("true"))).addBody(i.addLocationDataFn(a[o])(i.Block.wrap([r[o]]))));break;case 152:this.$=i.addLocationDataFn(a[o-1],a[o])(new i.For(r[o-1],r[o]));break;case 153:this.$=i.addLocationDataFn(a[o-1],a[o])(new i.For(r[o-1],r[o]));break;case 154:this.$=i.addLocationDataFn(a[o-1],a[o])(new i.For(r[o],r[o-1]));break;case 155:this.$=i.addLocationDataFn(a[o-1],a[o])({source:i.addLocationDataFn(a[o])(new i.Value(r[o]))});break;case 156:this.$=i.addLocationDataFn(a[o-1],a[o])(function(){return r[o].own=r[o-1].own,r[o].name=r[o-1][0],r[o].index=r[o-1][1],r[o]}());break;case 157:this.$=i.addLocationDataFn(a[o-1],a[o])(r[o]);break;case 158:this.$=i.addLocationDataFn(a[o-2],a[o])(function(){return r[o].own=!0,r[o]}());break;case 159:this.$=r[o];break;case 160:this.$=r[o];break;case 161:this.$=i.addLocationDataFn(a[o],a[o])(new i.Value(r[o]));break;case 162:this.$=i.addLocationDataFn(a[o],a[o])(new i.Value(r[o]));break;case 163:this.$=i.addLocationDataFn(a[o],a[o])([r[o]]);break;case 164:this.$=i.addLocationDataFn(a[o-2],a[o])([r[o-2],r[o]]);break;case 165:this.$=i.addLocationDataFn(a[o-1],a[o])({source:r[o]});break;case 166:this.$=i.addLocationDataFn(a[o-1],a[o])({source:r[o],object:!0});break;case 167:this.$=i.addLocationDataFn(a[o-3],a[o])({source:r[o-2],guard:r[o]});break;case 168:this.$=i.addLocationDataFn(a[o-3],a[o])({source:r[o-2],guard:r[o],object:!0});break;case 169:this.$=i.addLocationDataFn(a[o-3],a[o])({source:r[o-2],step:r[o]});break;case 170:this.$=i.addLocationDataFn(a[o-5],a[o])({source:r[o-4],guard:r[o-2],step:r[o]});break;case 171:this.$=i.addLocationDataFn(a[o-5],a[o])({source:r[o-4],step:r[o-2],guard:r[o]});break;case 172:this.$=i.addLocationDataFn(a[o-4],a[o])(new i.Switch(r[o-3],r[o-1]));break;case 173:this.$=i.addLocationDataFn(a[o-6],a[o])(new i.Switch(r[o-5],r[o-3],r[o-1]));break;case 174:this.$=i.addLocationDataFn(a[o-3],a[o])(new i.Switch(null,r[o-1]));break;case 175:this.$=i.addLocationDataFn(a[o-5],a[o])(new i.Switch(null,r[o-3],r[o-1]));break;case 176:this.$=r[o];break;case 177:this.$=i.addLocationDataFn(a[o-1],a[o])(r[o-1].concat(r[o]));break;case 178:this.$=i.addLocationDataFn(a[o-2],a[o])([[r[o-1],r[o]]]);break;case 179:this.$=i.addLocationDataFn(a[o-3],a[o])([[r[o-2],r[o-1]]]);break;case 180:this.$=i.addLocationDataFn(a[o-2],a[o])(new i.If(r[o-1],r[o],{type:r[o-2]}));break;case 181:this.$=i.addLocationDataFn(a[o-4],a[o])(r[o-4].addElse(new i.If(r[o-1],r[o],{type:r[o-2]})));break;case 182:this.$=r[o];break;case 183:this.$=i.addLocationDataFn(a[o-2],a[o])(r[o-2].addElse(r[o]));break;case 184:this.$=i.addLocationDataFn(a[o-2],a[o])(new i.If(r[o],i.addLocationDataFn(a[o-2])(i.Block.wrap([r[o-2]])),{type:r[o-1],statement:!0}));break;case 185:this.$=i.addLocationDataFn(a[o-2],a[o])(new i.If(r[o],i.addLocationDataFn(a[o-2])(i.Block.wrap([r[o-2]])),{type:r[o-1],statement:!0}));break;case 186:this.$=i.addLocationDataFn(a[o-1],a[o])(new i.Op(r[o-1],r[o]));break;case 187:this.$=i.addLocationDataFn(a[o-1],a[o])(new i.Op("-",r[o]));break;case 188:this.$=i.addLocationDataFn(a[o-1],a[o])(new i.Op("+",r[o]));break;case 189:this.$=i.addLocationDataFn(a[o-1],a[o])(new i.Op("--",r[o]));break;case 190:this.$=i.addLocationDataFn(a[o-1],a[o])(new i.Op("++",r[o]));break;case 191:this.$=i.addLocationDataFn(a[o-1],a[o])(new i.Op("--",r[o-1],null,!0));break;case 192:this.$=i.addLocationDataFn(a[o-1],a[o])(new i.Op("++",r[o-1],null,!0));break;case 193:this.$=i.addLocationDataFn(a[o-1],a[o])(new i.Existence(r[o-1]));break;case 194:this.$=i.addLocationDataFn(a[o-2],a[o])(new i.Op("+",r[o-2],r[o]));break;case 195:this.$=i.addLocationDataFn(a[o-2],a[o])(new i.Op("-",r[o-2],r[o]));break;case 196:this.$=i.addLocationDataFn(a[o-2],a[o])(new i.Op(r[o-1],r[o-2],r[o]));break;case 197:this.$=i.addLocationDataFn(a[o-2],a[o])(new i.Op(r[o-1],r[o-2],r[o]));break;case 198:this.$=i.addLocationDataFn(a[o-2],a[o])(new i.Op(r[o-1],r[o-2],r[o]));break;case 199:this.$=i.addLocationDataFn(a[o-2],a[o])(new i.Op(r[o-1],r[o-2],r[o]));break;case 200:this.$=i.addLocationDataFn(a[o-2],a[o])(function(){return"!"===r[o-1].charAt(0)?new i.Op(r[o-1].slice(1),r[o-2],r[o]).invert():new i.Op(r[o-1],r[o-2],r[o])}());break;case 201:this.$=i.addLocationDataFn(a[o-2],a[o])(new i.Assign(r[o-2],r[o],r[o-1]));break;case 202:this.$=i.addLocationDataFn(a[o-4],a[o])(new i.Assign(r[o-4],r[o-1],r[o-3]));break;case 203:this.$=i.addLocationDataFn(a[o-3],a[o])(new i.Assign(r[o-3],r[o],r[o-2]));break;case 204:this.$=i.addLocationDataFn(a[o-2],a[o])(new i.Extends(r[o-2],r[o]))}},table:[{1:[2,1],3:1,4:2,5:3,7:4,8:6,9:7,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,25:[1,5],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{1:[3]},{1:[2,2],6:[1,74]},{6:[1,75]},{1:[2,4],6:[2,4],26:[2,4],102:[2,4]},{4:77,7:4,8:6,9:7,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,26:[1,76],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{1:[2,7],6:[2,7],26:[2,7],102:[2,7],103:87,104:[1,65],106:[1,66],109:88,110:[1,68],111:69,126:[1,86],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{1:[2,8],6:[2,8],26:[2,8],102:[2,8],103:90,104:[1,65],106:[1,66],109:91,110:[1,68],111:69,126:[1,89]},{1:[2,12],6:[2,12],25:[2,12],26:[2,12],49:[2,12],54:[2,12],57:[2,12],62:93,66:[1,95],67:[1,96],68:[1,97],69:[1,98],70:99,71:[1,100],73:[2,12],74:[1,101],78:[2,12],81:92,84:[1,94],85:[2,108],86:[2,12],91:[2,12],93:[2,12],102:[2,12],104:[2,12],105:[2,12],106:[2,12],110:[2,12],118:[2,12],126:[2,12],128:[2,12],129:[2,12],132:[2,12],133:[2,12],134:[2,12],135:[2,12],136:[2,12],137:[2,12]},{1:[2,13],6:[2,13],25:[2,13],26:[2,13],49:[2,13],54:[2,13],57:[2,13],62:103,66:[1,95],67:[1,96],68:[1,97],69:[1,98],70:99,71:[1,100],73:[2,13],74:[1,101],78:[2,13],81:102,84:[1,94],85:[2,108],86:[2,13],91:[2,13],93:[2,13],102:[2,13],104:[2,13],105:[2,13],106:[2,13],110:[2,13],118:[2,13],126:[2,13],128:[2,13],129:[2,13],132:[2,13],133:[2,13],134:[2,13],135:[2,13],136:[2,13],137:[2,13]},{1:[2,14],6:[2,14],25:[2,14],26:[2,14],49:[2,14],54:[2,14],57:[2,14],73:[2,14],78:[2,14],86:[2,14],91:[2,14],93:[2,14],102:[2,14],104:[2,14],105:[2,14],106:[2,14],110:[2,14],118:[2,14],126:[2,14],128:[2,14],129:[2,14],132:[2,14],133:[2,14],134:[2,14],135:[2,14],136:[2,14],137:[2,14]},{1:[2,15],6:[2,15],25:[2,15],26:[2,15],49:[2,15],54:[2,15],57:[2,15],73:[2,15],78:[2,15],86:[2,15],91:[2,15],93:[2,15],102:[2,15],104:[2,15],105:[2,15],106:[2,15],110:[2,15],118:[2,15],126:[2,15],128:[2,15],129:[2,15],132:[2,15],133:[2,15],134:[2,15],135:[2,15],136:[2,15],137:[2,15]},{1:[2,16],6:[2,16],25:[2,16],26:[2,16],49:[2,16],54:[2,16],57:[2,16],73:[2,16],78:[2,16],86:[2,16],91:[2,16],93:[2,16],102:[2,16],104:[2,16],105:[2,16],106:[2,16],110:[2,16],118:[2,16],126:[2,16],128:[2,16],129:[2,16],132:[2,16],133:[2,16],134:[2,16],135:[2,16],136:[2,16],137:[2,16]},{1:[2,17],6:[2,17],25:[2,17],26:[2,17],49:[2,17],54:[2,17],57:[2,17],73:[2,17],78:[2,17],86:[2,17],91:[2,17],93:[2,17],102:[2,17],104:[2,17],105:[2,17],106:[2,17],110:[2,17],118:[2,17],126:[2,17],128:[2,17],129:[2,17],132:[2,17],133:[2,17],134:[2,17],135:[2,17],136:[2,17],137:[2,17]},{1:[2,18],6:[2,18],25:[2,18],26:[2,18],49:[2,18],54:[2,18],57:[2,18],73:[2,18],78:[2,18],86:[2,18],91:[2,18],93:[2,18],102:[2,18],104:[2,18],105:[2,18],106:[2,18],110:[2,18],118:[2,18],126:[2,18],128:[2,18],129:[2,18],132:[2,18],133:[2,18],134:[2,18],135:[2,18],136:[2,18],137:[2,18]},{1:[2,19],6:[2,19],25:[2,19],26:[2,19],49:[2,19],54:[2,19],57:[2,19],73:[2,19],78:[2,19],86:[2,19],91:[2,19],93:[2,19],102:[2,19],104:[2,19],105:[2,19],106:[2,19],110:[2,19],118:[2,19],126:[2,19],128:[2,19],129:[2,19],132:[2,19],133:[2,19],134:[2,19],135:[2,19],136:[2,19],137:[2,19]},{1:[2,20],6:[2,20],25:[2,20],26:[2,20],49:[2,20],54:[2,20],57:[2,20],73:[2,20],78:[2,20],86:[2,20],91:[2,20],93:[2,20],102:[2,20],104:[2,20],105:[2,20],106:[2,20],110:[2,20],118:[2,20],126:[2,20],128:[2,20],129:[2,20],132:[2,20],133:[2,20],134:[2,20],135:[2,20],136:[2,20],137:[2,20]},{1:[2,21],6:[2,21],25:[2,21],26:[2,21],49:[2,21],54:[2,21],57:[2,21],73:[2,21],78:[2,21],86:[2,21],91:[2,21],93:[2,21],102:[2,21],104:[2,21],105:[2,21],106:[2,21],110:[2,21],118:[2,21],126:[2,21],128:[2,21],129:[2,21],132:[2,21],133:[2,21],134:[2,21],135:[2,21],136:[2,21],137:[2,21]},{1:[2,22],6:[2,22],25:[2,22],26:[2,22],49:[2,22],54:[2,22],57:[2,22],73:[2,22],78:[2,22],86:[2,22],91:[2,22],93:[2,22],102:[2,22],104:[2,22],105:[2,22],106:[2,22],110:[2,22],118:[2,22],126:[2,22],128:[2,22],129:[2,22],132:[2,22],133:[2,22],134:[2,22],135:[2,22],136:[2,22],137:[2,22]},{1:[2,23],6:[2,23],25:[2,23],26:[2,23],49:[2,23],54:[2,23],57:[2,23],73:[2,23],78:[2,23],86:[2,23],91:[2,23],93:[2,23],102:[2,23],104:[2,23],105:[2,23],106:[2,23],110:[2,23],118:[2,23],126:[2,23],128:[2,23],129:[2,23],132:[2,23],133:[2,23],134:[2,23],135:[2,23],136:[2,23],137:[2,23]},{1:[2,9],6:[2,9],26:[2,9],102:[2,9],104:[2,9],106:[2,9],110:[2,9],126:[2,9]},{1:[2,10],6:[2,10],26:[2,10],102:[2,10],104:[2,10],106:[2,10],110:[2,10],126:[2,10]},{1:[2,11],6:[2,11],26:[2,11],102:[2,11],104:[2,11],106:[2,11],110:[2,11],126:[2,11]},{1:[2,75],6:[2,75],25:[2,75],26:[2,75],40:[1,104],49:[2,75],54:[2,75],57:[2,75],66:[2,75],67:[2,75],68:[2,75],69:[2,75],71:[2,75],73:[2,75],74:[2,75],78:[2,75],84:[2,75],85:[2,75],86:[2,75],91:[2,75],93:[2,75],102:[2,75],104:[2,75],105:[2,75],106:[2,75],110:[2,75],118:[2,75],126:[2,75],128:[2,75],129:[2,75],132:[2,75],133:[2,75],134:[2,75],135:[2,75],136:[2,75],137:[2,75]},{1:[2,76],6:[2,76],25:[2,76],26:[2,76],49:[2,76],54:[2,76],57:[2,76],66:[2,76],67:[2,76],68:[2,76],69:[2,76],71:[2,76],73:[2,76],74:[2,76],78:[2,76],84:[2,76],85:[2,76],86:[2,76],91:[2,76],93:[2,76],102:[2,76],104:[2,76],105:[2,76],106:[2,76],110:[2,76],118:[2,76],126:[2,76],128:[2,76],129:[2,76],132:[2,76],133:[2,76],134:[2,76],135:[2,76],136:[2,76],137:[2,76]},{1:[2,77],6:[2,77],25:[2,77],26:[2,77],49:[2,77],54:[2,77],57:[2,77],66:[2,77],67:[2,77],68:[2,77],69:[2,77],71:[2,77],73:[2,77],74:[2,77],78:[2,77],84:[2,77],85:[2,77],86:[2,77],91:[2,77],93:[2,77],102:[2,77],104:[2,77],105:[2,77],106:[2,77],110:[2,77],118:[2,77],126:[2,77],128:[2,77],129:[2,77],132:[2,77],133:[2,77],134:[2,77],135:[2,77],136:[2,77],137:[2,77]},{1:[2,78],6:[2,78],25:[2,78],26:[2,78],49:[2,78],54:[2,78],57:[2,78],66:[2,78],67:[2,78],68:[2,78],69:[2,78],71:[2,78],73:[2,78],74:[2,78],78:[2,78],84:[2,78],85:[2,78],86:[2,78],91:[2,78],93:[2,78],102:[2,78],104:[2,78],105:[2,78],106:[2,78],110:[2,78],118:[2,78],126:[2,78],128:[2,78],129:[2,78],132:[2,78],133:[2,78],134:[2,78],135:[2,78],136:[2,78],137:[2,78]},{1:[2,79],6:[2,79],25:[2,79],26:[2,79],49:[2,79],54:[2,79],57:[2,79],66:[2,79],67:[2,79],68:[2,79],69:[2,79],71:[2,79],73:[2,79],74:[2,79],78:[2,79],84:[2,79],85:[2,79],86:[2,79],91:[2,79],93:[2,79],102:[2,79],104:[2,79],105:[2,79],106:[2,79],110:[2,79],118:[2,79],126:[2,79],128:[2,79],129:[2,79],132:[2,79],133:[2,79],134:[2,79],135:[2,79],136:[2,79],137:[2,79]},{1:[2,106],6:[2,106],25:[2,106],26:[2,106],49:[2,106],54:[2,106],57:[2,106],66:[2,106],67:[2,106],68:[2,106],69:[2,106],71:[2,106],73:[2,106],74:[2,106],78:[2,106],82:105,84:[2,106],85:[1,106],86:[2,106],91:[2,106],93:[2,106],102:[2,106],104:[2,106],105:[2,106],106:[2,106],110:[2,106],118:[2,106],126:[2,106],128:[2,106],129:[2,106],132:[2,106],133:[2,106],134:[2,106],135:[2,106],136:[2,106],137:[2,106]},{6:[2,55],25:[2,55],27:110,28:[1,73],44:111,48:107,49:[2,55],54:[2,55],55:108,56:109,58:112,59:113,76:[1,70],89:[1,114],90:[1,115]},{5:116,25:[1,5]},{8:117,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{8:119,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{8:120,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{13:122,14:123,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:124,44:63,58:47,59:48,61:121,63:25,64:26,65:27,76:[1,70],83:[1,28],88:[1,58],89:[1,59],90:[1,57],101:[1,56]},{13:122,14:123,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:124,44:63,58:47,59:48,61:125,63:25,64:26,65:27,76:[1,70],83:[1,28],88:[1,58],89:[1,59],90:[1,57],101:[1,56]},{1:[2,72],6:[2,72],25:[2,72],26:[2,72],40:[2,72],49:[2,72],54:[2,72],57:[2,72],66:[2,72],67:[2,72],68:[2,72],69:[2,72],71:[2,72],73:[2,72],74:[2,72],78:[2,72],80:[1,129],84:[2,72],85:[2,72],86:[2,72],91:[2,72],93:[2,72],102:[2,72],104:[2,72],105:[2,72],106:[2,72],110:[2,72],118:[2,72],126:[2,72],128:[2,72],129:[2,72],130:[1,126],131:[1,127],132:[2,72],133:[2,72],134:[2,72],135:[2,72],136:[2,72],137:[2,72],138:[1,128]},{1:[2,182],6:[2,182],25:[2,182],26:[2,182],49:[2,182],54:[2,182],57:[2,182],73:[2,182],78:[2,182],86:[2,182],91:[2,182],93:[2,182],102:[2,182],104:[2,182],105:[2,182],106:[2,182],110:[2,182],118:[2,182],121:[1,130],126:[2,182],128:[2,182],129:[2,182],132:[2,182],133:[2,182],134:[2,182],135:[2,182],136:[2,182],137:[2,182]},{5:131,25:[1,5]},{5:132,25:[1,5]},{1:[2,149],6:[2,149],25:[2,149],26:[2,149],49:[2,149],54:[2,149],57:[2,149],73:[2,149],78:[2,149],86:[2,149],91:[2,149],93:[2,149],102:[2,149],104:[2,149],105:[2,149],106:[2,149],110:[2,149],118:[2,149],126:[2,149],128:[2,149],129:[2,149],132:[2,149],133:[2,149],134:[2,149],135:[2,149],136:[2,149],137:[2,149]},{5:133,25:[1,5]},{8:134,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,25:[1,135],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{1:[2,96],5:136,6:[2,96],13:122,14:123,25:[1,5],26:[2,96],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:124,44:63,49:[2,96],54:[2,96],57:[2,96],58:47,59:48,61:138,63:25,64:26,65:27,73:[2,96],76:[1,70],78:[2,96],80:[1,137],83:[1,28],86:[2,96],88:[1,58],89:[1,59],90:[1,57],91:[2,96],93:[2,96],101:[1,56],102:[2,96],104:[2,96],105:[2,96],106:[2,96],110:[2,96],118:[2,96],126:[2,96],128:[2,96],129:[2,96],132:[2,96],133:[2,96],134:[2,96],135:[2,96],136:[2,96],137:[2,96]},{8:139,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{1:[2,47],6:[2,47],8:140,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,26:[2,47],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],102:[2,47],103:39,104:[2,47],106:[2,47],107:40,108:[1,67],109:41,110:[2,47],111:69,119:[1,42],124:37,125:[1,64],126:[2,47],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{1:[2,48],6:[2,48],25:[2,48],26:[2,48],54:[2,48],78:[2,48],102:[2,48],104:[2,48],106:[2,48],110:[2,48],126:[2,48]},{1:[2,73],6:[2,73],25:[2,73],26:[2,73],40:[2,73],49:[2,73],54:[2,73],57:[2,73],66:[2,73],67:[2,73],68:[2,73],69:[2,73],71:[2,73],73:[2,73],74:[2,73],78:[2,73],84:[2,73],85:[2,73],86:[2,73],91:[2,73],93:[2,73],102:[2,73],104:[2,73],105:[2,73],106:[2,73],110:[2,73],118:[2,73],126:[2,73],128:[2,73],129:[2,73],132:[2,73],133:[2,73],134:[2,73],135:[2,73],136:[2,73],137:[2,73]},{1:[2,74],6:[2,74],25:[2,74],26:[2,74],40:[2,74],49:[2,74],54:[2,74],57:[2,74],66:[2,74],67:[2,74],68:[2,74],69:[2,74],71:[2,74],73:[2,74],74:[2,74],78:[2,74],84:[2,74],85:[2,74],86:[2,74],91:[2,74],93:[2,74],102:[2,74],104:[2,74],105:[2,74],106:[2,74],110:[2,74],118:[2,74],126:[2,74],128:[2,74],129:[2,74],132:[2,74],133:[2,74],134:[2,74],135:[2,74],136:[2,74],137:[2,74]},{1:[2,29],6:[2,29],25:[2,29],26:[2,29],49:[2,29],54:[2,29],57:[2,29],66:[2,29],67:[2,29],68:[2,29],69:[2,29],71:[2,29],73:[2,29],74:[2,29],78:[2,29],84:[2,29],85:[2,29],86:[2,29],91:[2,29],93:[2,29],102:[2,29],104:[2,29],105:[2,29],106:[2,29],110:[2,29],118:[2,29],126:[2,29],128:[2,29],129:[2,29],132:[2,29],133:[2,29],134:[2,29],135:[2,29],136:[2,29],137:[2,29]},{1:[2,30],6:[2,30],25:[2,30],26:[2,30],49:[2,30],54:[2,30],57:[2,30],66:[2,30],67:[2,30],68:[2,30],69:[2,30],71:[2,30],73:[2,30],74:[2,30],78:[2,30],84:[2,30],85:[2,30],86:[2,30],91:[2,30],93:[2,30],102:[2,30],104:[2,30],105:[2,30],106:[2,30],110:[2,30],118:[2,30],126:[2,30],128:[2,30],129:[2,30],132:[2,30],133:[2,30],134:[2,30],135:[2,30],136:[2,30],137:[2,30]},{1:[2,31],6:[2,31],25:[2,31],26:[2,31],49:[2,31],54:[2,31],57:[2,31],66:[2,31],67:[2,31],68:[2,31],69:[2,31],71:[2,31],73:[2,31],74:[2,31],78:[2,31],84:[2,31],85:[2,31],86:[2,31],91:[2,31],93:[2,31],102:[2,31],104:[2,31],105:[2,31],106:[2,31],110:[2,31],118:[2,31],126:[2,31],128:[2,31],129:[2,31],132:[2,31],133:[2,31],134:[2,31],135:[2,31],136:[2,31],137:[2,31]},{1:[2,32],6:[2,32],25:[2,32],26:[2,32],49:[2,32],54:[2,32],57:[2,32],66:[2,32],67:[2,32],68:[2,32],69:[2,32],71:[2,32],73:[2,32],74:[2,32],78:[2,32],84:[2,32],85:[2,32],86:[2,32],91:[2,32],93:[2,32],102:[2,32],104:[2,32],105:[2,32],106:[2,32],110:[2,32],118:[2,32],126:[2,32],128:[2,32],129:[2,32],132:[2,32],133:[2,32],134:[2,32],135:[2,32],136:[2,32],137:[2,32]},{1:[2,33],6:[2,33],25:[2,33],26:[2,33],49:[2,33],54:[2,33],57:[2,33],66:[2,33],67:[2,33],68:[2,33],69:[2,33],71:[2,33],73:[2,33],74:[2,33],78:[2,33],84:[2,33],85:[2,33],86:[2,33],91:[2,33],93:[2,33],102:[2,33],104:[2,33],105:[2,33],106:[2,33],110:[2,33],118:[2,33],126:[2,33],128:[2,33],129:[2,33],132:[2,33],133:[2,33],134:[2,33],135:[2,33],136:[2,33],137:[2,33]},{1:[2,34],6:[2,34],25:[2,34],26:[2,34],49:[2,34],54:[2,34],57:[2,34],66:[2,34],67:[2,34],68:[2,34],69:[2,34],71:[2,34],73:[2,34],74:[2,34],78:[2,34],84:[2,34],85:[2,34],86:[2,34],91:[2,34],93:[2,34],102:[2,34],104:[2,34],105:[2,34],106:[2,34],110:[2,34],118:[2,34],126:[2,34],128:[2,34],129:[2,34],132:[2,34],133:[2,34],134:[2,34],135:[2,34],136:[2,34],137:[2,34]},{1:[2,35],6:[2,35],25:[2,35],26:[2,35],49:[2,35],54:[2,35],57:[2,35],66:[2,35],67:[2,35],68:[2,35],69:[2,35],71:[2,35],73:[2,35],74:[2,35],78:[2,35],84:[2,35],85:[2,35],86:[2,35],91:[2,35],93:[2,35],102:[2,35],104:[2,35],105:[2,35],106:[2,35],110:[2,35],118:[2,35],126:[2,35],128:[2,35],129:[2,35],132:[2,35],133:[2,35],134:[2,35],135:[2,35],136:[2,35],137:[2,35]},{4:141,7:4,8:6,9:7,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,25:[1,142],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{8:143,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,25:[1,147],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,60:148,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],87:145,88:[1,58],89:[1,59],90:[1,57],91:[1,144],94:146,96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{1:[2,112],6:[2,112],25:[2,112],26:[2,112],49:[2,112],54:[2,112],57:[2,112],66:[2,112],67:[2,112],68:[2,112],69:[2,112],71:[2,112],73:[2,112],74:[2,112],78:[2,112],84:[2,112],85:[2,112],86:[2,112],91:[2,112],93:[2,112],102:[2,112],104:[2,112],105:[2,112],106:[2,112],110:[2,112],118:[2,112],126:[2,112],128:[2,112],129:[2,112],132:[2,112],133:[2,112],134:[2,112],135:[2,112],136:[2,112],137:[2,112]},{1:[2,113],6:[2,113],25:[2,113],26:[2,113],27:149,28:[1,73],49:[2,113],54:[2,113],57:[2,113],66:[2,113],67:[2,113],68:[2,113],69:[2,113],71:[2,113],73:[2,113],74:[2,113],78:[2,113],84:[2,113],85:[2,113],86:[2,113],91:[2,113],93:[2,113],102:[2,113],104:[2,113],105:[2,113],106:[2,113],110:[2,113],118:[2,113],126:[2,113],128:[2,113],129:[2,113],132:[2,113],133:[2,113],134:[2,113],135:[2,113],136:[2,113],137:[2,113]},{25:[2,51]},{25:[2,52]},{1:[2,68],6:[2,68],25:[2,68],26:[2,68],40:[2,68],49:[2,68],54:[2,68],57:[2,68],66:[2,68],67:[2,68],68:[2,68],69:[2,68],71:[2,68],73:[2,68],74:[2,68],78:[2,68],80:[2,68],84:[2,68],85:[2,68],86:[2,68],91:[2,68],93:[2,68],102:[2,68],104:[2,68],105:[2,68],106:[2,68],110:[2,68],118:[2,68],126:[2,68],128:[2,68],129:[2,68],130:[2,68],131:[2,68],132:[2,68],133:[2,68],134:[2,68],135:[2,68],136:[2,68],137:[2,68],138:[2,68]},{1:[2,71],6:[2,71],25:[2,71],26:[2,71],40:[2,71],49:[2,71],54:[2,71],57:[2,71],66:[2,71],67:[2,71],68:[2,71],69:[2,71],71:[2,71],73:[2,71],74:[2,71],78:[2,71],80:[2,71],84:[2,71],85:[2,71],86:[2,71],91:[2,71],93:[2,71],102:[2,71],104:[2,71],105:[2,71],106:[2,71],110:[2,71],118:[2,71],126:[2,71],128:[2,71],129:[2,71],130:[2,71],131:[2,71],132:[2,71],133:[2,71],134:[2,71],135:[2,71],136:[2,71],137:[2,71],138:[2,71]},{8:150,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{8:151,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{8:152,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{5:153,8:154,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,25:[1,5],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{27:159,28:[1,73],44:160,58:161,59:162,64:155,76:[1,70],89:[1,114],90:[1,57],113:156,114:[1,157],115:158},{112:163,116:[1,164],117:[1,165]},{6:[2,91],11:169,25:[2,91],27:170,28:[1,73],29:171,30:[1,71],31:[1,72],41:167,42:168,44:172,46:[1,46],54:[2,91],77:166,78:[2,91],89:[1,114]},{1:[2,27],6:[2,27],25:[2,27],26:[2,27],43:[2,27],49:[2,27],54:[2,27],57:[2,27],66:[2,27],67:[2,27],68:[2,27],69:[2,27],71:[2,27],73:[2,27],74:[2,27],78:[2,27],84:[2,27],85:[2,27],86:[2,27],91:[2,27],93:[2,27],102:[2,27],104:[2,27],105:[2,27],106:[2,27],110:[2,27],118:[2,27],126:[2,27],128:[2,27],129:[2,27],132:[2,27],133:[2,27],134:[2,27],135:[2,27],136:[2,27],137:[2,27]},{1:[2,28],6:[2,28],25:[2,28],26:[2,28],43:[2,28],49:[2,28],54:[2,28],57:[2,28],66:[2,28],67:[2,28],68:[2,28],69:[2,28],71:[2,28],73:[2,28],74:[2,28],78:[2,28],84:[2,28],85:[2,28],86:[2,28],91:[2,28],93:[2,28],102:[2,28],104:[2,28],105:[2,28],106:[2,28],110:[2,28],118:[2,28],126:[2,28],128:[2,28],129:[2,28],132:[2,28],133:[2,28],134:[2,28],135:[2,28],136:[2,28],137:[2,28]},{1:[2,26],6:[2,26],25:[2,26],26:[2,26],40:[2,26],43:[2,26],49:[2,26],54:[2,26],57:[2,26],66:[2,26],67:[2,26],68:[2,26],69:[2,26],71:[2,26],73:[2,26],74:[2,26],78:[2,26],80:[2,26],84:[2,26],85:[2,26],86:[2,26],91:[2,26],93:[2,26],102:[2,26],104:[2,26],105:[2,26],106:[2,26],110:[2,26],116:[2,26],117:[2,26],118:[2,26],126:[2,26],128:[2,26],129:[2,26],130:[2,26],131:[2,26],132:[2,26],133:[2,26],134:[2,26],135:[2,26],136:[2,26],137:[2,26],138:[2,26]},{1:[2,6],6:[2,6],7:173,8:6,9:7,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,26:[2,6],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],102:[2,6],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{1:[2,3]},{1:[2,24],6:[2,24],25:[2,24],26:[2,24],49:[2,24],54:[2,24],57:[2,24],73:[2,24],78:[2,24],86:[2,24],91:[2,24],93:[2,24],98:[2,24],99:[2,24],102:[2,24],104:[2,24],105:[2,24],106:[2,24],110:[2,24],118:[2,24],121:[2,24],123:[2,24],126:[2,24],128:[2,24],129:[2,24],132:[2,24],133:[2,24],134:[2,24],135:[2,24],136:[2,24],137:[2,24]},{6:[1,74],26:[1,174]},{1:[2,193],6:[2,193],25:[2,193],26:[2,193],49:[2,193],54:[2,193],57:[2,193],73:[2,193],78:[2,193],86:[2,193],91:[2,193],93:[2,193],102:[2,193],104:[2,193],105:[2,193],106:[2,193],110:[2,193],118:[2,193],126:[2,193],128:[2,193],129:[2,193],132:[2,193],133:[2,193],134:[2,193],135:[2,193],136:[2,193],137:[2,193]},{8:175,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{8:176,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{8:177,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{8:178,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{8:179,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{8:180,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{8:181,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{8:182,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{1:[2,148],6:[2,148],25:[2,148],26:[2,148],49:[2,148],54:[2,148],57:[2,148],73:[2,148],78:[2,148],86:[2,148],91:[2,148],93:[2,148],102:[2,148],104:[2,148],105:[2,148],106:[2,148],110:[2,148],118:[2,148],126:[2,148],128:[2,148],129:[2,148],132:[2,148],133:[2,148],134:[2,148],135:[2,148],136:[2,148],137:[2,148]},{1:[2,153],6:[2,153],25:[2,153],26:[2,153],49:[2,153],54:[2,153],57:[2,153],73:[2,153],78:[2,153],86:[2,153],91:[2,153],93:[2,153],102:[2,153],104:[2,153],105:[2,153],106:[2,153],110:[2,153],118:[2,153],126:[2,153],128:[2,153],129:[2,153],132:[2,153],133:[2,153],134:[2,153],135:[2,153],136:[2,153],137:[2,153]},{8:183,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{1:[2,147],6:[2,147],25:[2,147],26:[2,147],49:[2,147],54:[2,147],57:[2,147],73:[2,147],78:[2,147],86:[2,147],91:[2,147],93:[2,147],102:[2,147],104:[2,147],105:[2,147],106:[2,147],110:[2,147],118:[2,147],126:[2,147],128:[2,147],129:[2,147],132:[2,147],133:[2,147],134:[2,147],135:[2,147],136:[2,147],137:[2,147]},{1:[2,152],6:[2,152],25:[2,152],26:[2,152],49:[2,152],54:[2,152],57:[2,152],73:[2,152],78:[2,152],86:[2,152],91:[2,152],93:[2,152],102:[2,152],104:[2,152],105:[2,152],106:[2,152],110:[2,152],118:[2,152],126:[2,152],128:[2,152],129:[2,152],132:[2,152],133:[2,152],134:[2,152],135:[2,152],136:[2,152],137:[2,152]},{82:184,85:[1,106]},{1:[2,69],6:[2,69],25:[2,69],26:[2,69],40:[2,69],49:[2,69],54:[2,69],57:[2,69],66:[2,69],67:[2,69],68:[2,69],69:[2,69],71:[2,69],73:[2,69],74:[2,69],78:[2,69],80:[2,69],84:[2,69],85:[2,69],86:[2,69],91:[2,69],93:[2,69],102:[2,69],104:[2,69],105:[2,69],106:[2,69],110:[2,69],118:[2,69],126:[2,69],128:[2,69],129:[2,69],130:[2,69],131:[2,69],132:[2,69],133:[2,69],134:[2,69],135:[2,69],136:[2,69],137:[2,69],138:[2,69]},{85:[2,109]},{27:185,28:[1,73]},{27:186,28:[1,73]},{1:[2,84],6:[2,84],25:[2,84],26:[2,84],27:187,28:[1,73],40:[2,84],49:[2,84],54:[2,84],57:[2,84],66:[2,84],67:[2,84],68:[2,84],69:[2,84],71:[2,84],73:[2,84],74:[2,84],78:[2,84],80:[2,84],84:[2,84],85:[2,84],86:[2,84],91:[2,84],93:[2,84],102:[2,84],104:[2,84],105:[2,84],106:[2,84],110:[2,84],118:[2,84],126:[2,84],128:[2,84],129:[2,84],130:[2,84],131:[2,84],132:[2,84],133:[2,84],134:[2,84],135:[2,84],136:[2,84],137:[2,84],138:[2,84]},{27:188,28:[1,73]},{1:[2,85],6:[2,85],25:[2,85],26:[2,85],40:[2,85],49:[2,85],54:[2,85],57:[2,85],66:[2,85],67:[2,85],68:[2,85],69:[2,85],71:[2,85],73:[2,85],74:[2,85],78:[2,85],80:[2,85],84:[2,85],85:[2,85],86:[2,85],91:[2,85],93:[2,85],102:[2,85],104:[2,85],105:[2,85],106:[2,85],110:[2,85],118:[2,85],126:[2,85],128:[2,85],129:[2,85],130:[2,85],131:[2,85],132:[2,85],133:[2,85],134:[2,85],135:[2,85],136:[2,85],137:[2,85],138:[2,85]},{8:190,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],57:[1,194],58:47,59:48,61:36,63:25,64:26,65:27,72:189,75:191,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],92:192,93:[1,193],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{70:195,71:[1,100],74:[1,101]},{82:196,85:[1,106]},{1:[2,70],6:[2,70],25:[2,70],26:[2,70],40:[2,70],49:[2,70],54:[2,70],57:[2,70],66:[2,70],67:[2,70],68:[2,70],69:[2,70],71:[2,70],73:[2,70],74:[2,70],78:[2,70],80:[2,70],84:[2,70],85:[2,70],86:[2,70],91:[2,70],93:[2,70],102:[2,70],104:[2,70],105:[2,70],106:[2,70],110:[2,70],118:[2,70],126:[2,70],128:[2,70],129:[2,70],130:[2,70],131:[2,70],132:[2,70],133:[2,70],134:[2,70],135:[2,70],136:[2,70],137:[2,70],138:[2,70]},{6:[1,198],8:197,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,25:[1,199],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{1:[2,107],6:[2,107],25:[2,107],26:[2,107],49:[2,107],54:[2,107],57:[2,107],66:[2,107],67:[2,107],68:[2,107],69:[2,107],71:[2,107],73:[2,107],74:[2,107],78:[2,107],84:[2,107],85:[2,107],86:[2,107],91:[2,107],93:[2,107],102:[2,107],104:[2,107],105:[2,107],106:[2,107],110:[2,107],118:[2,107],126:[2,107],128:[2,107],129:[2,107],132:[2,107],133:[2,107],134:[2,107],135:[2,107],136:[2,107],137:[2,107]},{8:202,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,25:[1,147],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,60:148,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],86:[1,200],87:201,88:[1,58],89:[1,59],90:[1,57],94:146,96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{6:[2,53],25:[2,53],49:[1,203],53:205,54:[1,204]},{6:[2,56],25:[2,56],26:[2,56],49:[2,56],54:[2,56]},{6:[2,60],25:[2,60],26:[2,60],40:[1,207],49:[2,60],54:[2,60],57:[1,206]},{6:[2,63],25:[2,63],26:[2,63],40:[2,63],49:[2,63],54:[2,63],57:[2,63]},{6:[2,64],25:[2,64],26:[2,64],40:[2,64],49:[2,64],54:[2,64],57:[2,64]},{6:[2,65],25:[2,65],26:[2,65],40:[2,65],49:[2,65],54:[2,65],57:[2,65]},{6:[2,66],25:[2,66],26:[2,66],40:[2,66],49:[2,66],54:[2,66],57:[2,66]},{27:149,28:[1,73]},{8:202,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,25:[1,147],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,60:148,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],87:145,88:[1,58],89:[1,59],90:[1,57],91:[1,144],94:146,96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{1:[2,50],6:[2,50],25:[2,50],26:[2,50],49:[2,50],54:[2,50],57:[2,50],73:[2,50],78:[2,50],86:[2,50],91:[2,50],93:[2,50],102:[2,50],104:[2,50],105:[2,50],106:[2,50],110:[2,50],118:[2,50],126:[2,50],128:[2,50],129:[2,50],132:[2,50],133:[2,50],134:[2,50],135:[2,50],136:[2,50],137:[2,50]},{1:[2,186],6:[2,186],25:[2,186],26:[2,186],49:[2,186],54:[2,186],57:[2,186],73:[2,186],78:[2,186],86:[2,186],91:[2,186],93:[2,186],102:[2,186],103:87,104:[2,186],105:[2,186],106:[2,186],109:88,110:[2,186],111:69,118:[2,186],126:[2,186],128:[2,186],129:[2,186],132:[1,78],133:[2,186],134:[2,186],135:[2,186],136:[2,186],137:[2,186]},{103:90,104:[1,65],106:[1,66],109:91,110:[1,68],111:69,126:[1,89]},{1:[2,187],6:[2,187],25:[2,187],26:[2,187],49:[2,187],54:[2,187],57:[2,187],73:[2,187],78:[2,187],86:[2,187],91:[2,187],93:[2,187],102:[2,187],103:87,104:[2,187],105:[2,187],106:[2,187],109:88,110:[2,187],111:69,118:[2,187],126:[2,187],128:[2,187],129:[2,187],132:[1,78],133:[2,187],134:[2,187],135:[2,187],136:[2,187],137:[2,187]},{1:[2,188],6:[2,188],25:[2,188],26:[2,188],49:[2,188],54:[2,188],57:[2,188],73:[2,188],78:[2,188],86:[2,188],91:[2,188],93:[2,188],102:[2,188],103:87,104:[2,188],105:[2,188],106:[2,188],109:88,110:[2,188],111:69,118:[2,188],126:[2,188],128:[2,188],129:[2,188],132:[1,78],133:[2,188],134:[2,188],135:[2,188],136:[2,188],137:[2,188]},{1:[2,189],6:[2,189],25:[2,189],26:[2,189],49:[2,189],54:[2,189],57:[2,189],66:[2,72],67:[2,72],68:[2,72],69:[2,72],71:[2,72],73:[2,189],74:[2,72],78:[2,189],84:[2,72],85:[2,72],86:[2,189],91:[2,189],93:[2,189],102:[2,189],104:[2,189],105:[2,189],106:[2,189],110:[2,189],118:[2,189],126:[2,189],128:[2,189],129:[2,189],132:[2,189],133:[2,189],134:[2,189],135:[2,189],136:[2,189],137:[2,189]},{62:93,66:[1,95],67:[1,96],68:[1,97],69:[1,98],70:99,71:[1,100],74:[1,101],81:92,84:[1,94],85:[2,108]},{62:103,66:[1,95],67:[1,96],68:[1,97],69:[1,98],70:99,71:[1,100],74:[1,101],81:102,84:[1,94],85:[2,108]},{66:[2,75],67:[2,75],68:[2,75],69:[2,75],71:[2,75],74:[2,75],84:[2,75],85:[2,75]},{1:[2,190],6:[2,190],25:[2,190],26:[2,190],49:[2,190],54:[2,190],57:[2,190],66:[2,72],67:[2,72],68:[2,72],69:[2,72],71:[2,72],73:[2,190],74:[2,72],78:[2,190],84:[2,72],85:[2,72],86:[2,190],91:[2,190],93:[2,190],102:[2,190],104:[2,190],105:[2,190],106:[2,190],110:[2,190],118:[2,190],126:[2,190],128:[2,190],129:[2,190],132:[2,190],133:[2,190],134:[2,190],135:[2,190],136:[2,190],137:[2,190]},{1:[2,191],6:[2,191],25:[2,191],26:[2,191],49:[2,191],54:[2,191],57:[2,191],73:[2,191],78:[2,191],86:[2,191],91:[2,191],93:[2,191],102:[2,191],104:[2,191],105:[2,191],106:[2,191],110:[2,191],118:[2,191],126:[2,191],128:[2,191],129:[2,191],132:[2,191],133:[2,191],134:[2,191],135:[2,191],136:[2,191],137:[2,191]},{1:[2,192],6:[2,192],25:[2,192],26:[2,192],49:[2,192],54:[2,192],57:[2,192],73:[2,192],78:[2,192],86:[2,192],91:[2,192],93:[2,192],102:[2,192],104:[2,192],105:[2,192],106:[2,192],110:[2,192],118:[2,192],126:[2,192],128:[2,192],129:[2,192],132:[2,192],133:[2,192],134:[2,192],135:[2,192],136:[2,192],137:[2,192]},{6:[1,210],8:208,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,25:[1,209],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{8:211,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{5:212,25:[1,5],125:[1,213]},{1:[2,133],6:[2,133],25:[2,133],26:[2,133],49:[2,133],54:[2,133],57:[2,133],73:[2,133],78:[2,133],86:[2,133],91:[2,133],93:[2,133],97:214,98:[1,215],99:[1,216],102:[2,133],104:[2,133],105:[2,133],106:[2,133],110:[2,133],118:[2,133],126:[2,133],128:[2,133],129:[2,133],132:[2,133],133:[2,133],134:[2,133],135:[2,133],136:[2,133],137:[2,133]},{1:[2,146],6:[2,146],25:[2,146],26:[2,146],49:[2,146],54:[2,146],57:[2,146],73:[2,146],78:[2,146],86:[2,146],91:[2,146],93:[2,146],102:[2,146],104:[2,146],105:[2,146],106:[2,146],110:[2,146],118:[2,146],126:[2,146],128:[2,146],129:[2,146],132:[2,146],133:[2,146],134:[2,146],135:[2,146],136:[2,146],137:[2,146]},{1:[2,154],6:[2,154],25:[2,154],26:[2,154],49:[2,154],54:[2,154],57:[2,154],73:[2,154],78:[2,154],86:[2,154],91:[2,154],93:[2,154],102:[2,154],104:[2,154],105:[2,154],106:[2,154],110:[2,154],118:[2,154],126:[2,154],128:[2,154],129:[2,154],132:[2,154],133:[2,154],134:[2,154],135:[2,154],136:[2,154],137:[2,154]},{25:[1,217],103:87,104:[1,65],106:[1,66],109:88,110:[1,68],111:69,126:[1,86],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{120:218,122:219,123:[1,220]},{1:[2,97],6:[2,97],25:[2,97],26:[2,97],49:[2,97],54:[2,97],57:[2,97],73:[2,97],78:[2,97],86:[2,97],91:[2,97],93:[2,97],102:[2,97],104:[2,97],105:[2,97],106:[2,97],110:[2,97],118:[2,97],126:[2,97],128:[2,97],129:[2,97],132:[2,97],133:[2,97],134:[2,97],135:[2,97],136:[2,97],137:[2,97]},{8:221,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{1:[2,100],5:222,6:[2,100],25:[1,5],26:[2,100],49:[2,100],54:[2,100],57:[2,100],66:[2,72],67:[2,72],68:[2,72],69:[2,72],71:[2,72],73:[2,100],74:[2,72],78:[2,100],80:[1,223],84:[2,72],85:[2,72],86:[2,100],91:[2,100],93:[2,100],102:[2,100],104:[2,100],105:[2,100],106:[2,100],110:[2,100],118:[2,100],126:[2,100],128:[2,100],129:[2,100],132:[2,100],133:[2,100],134:[2,100],135:[2,100],136:[2,100],137:[2,100]},{1:[2,139],6:[2,139],25:[2,139],26:[2,139],49:[2,139],54:[2,139],57:[2,139],73:[2,139],78:[2,139],86:[2,139],91:[2,139],93:[2,139],102:[2,139],103:87,104:[2,139],105:[2,139],106:[2,139],109:88,110:[2,139],111:69,118:[2,139],126:[2,139],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{1:[2,46],6:[2,46],26:[2,46],102:[2,46],103:87,104:[2,46],106:[2,46],109:88,110:[2,46],111:69,126:[2,46],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{6:[1,74],102:[1,224]},{4:225,7:4,8:6,9:7,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{6:[2,129],25:[2,129],54:[2,129],57:[1,227],91:[2,129],92:226,93:[1,193],103:87,104:[1,65],106:[1,66],109:88,110:[1,68],111:69,126:[1,86],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{1:[2,115],6:[2,115],25:[2,115],26:[2,115],40:[2,115],49:[2,115],54:[2,115],57:[2,115],66:[2,115],67:[2,115],68:[2,115],69:[2,115],71:[2,115],73:[2,115],74:[2,115],78:[2,115],84:[2,115],85:[2,115],86:[2,115],91:[2,115],93:[2,115],102:[2,115],104:[2,115],105:[2,115],106:[2,115],110:[2,115],116:[2,115],117:[2,115],118:[2,115],126:[2,115],128:[2,115],129:[2,115],132:[2,115],133:[2,115],134:[2,115],135:[2,115],136:[2,115],137:[2,115]},{6:[2,53],25:[2,53],53:228,54:[1,229],91:[2,53]},{6:[2,124],25:[2,124],26:[2,124],54:[2,124],86:[2,124],91:[2,124]},{8:202,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,25:[1,147],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,60:148,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],87:230,88:[1,58],89:[1,59],90:[1,57],94:146,96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{6:[2,130],25:[2,130],26:[2,130],54:[2,130],86:[2,130],91:[2,130]},{1:[2,114],6:[2,114],25:[2,114],26:[2,114],40:[2,114],43:[2,114],49:[2,114],54:[2,114],57:[2,114],66:[2,114],67:[2,114],68:[2,114],69:[2,114],71:[2,114],73:[2,114],74:[2,114],78:[2,114],80:[2,114],84:[2,114],85:[2,114],86:[2,114],91:[2,114],93:[2,114],102:[2,114],104:[2,114],105:[2,114],106:[2,114],110:[2,114],116:[2,114],117:[2,114],118:[2,114],126:[2,114],128:[2,114],129:[2,114],130:[2,114],131:[2,114],132:[2,114],133:[2,114],134:[2,114],135:[2,114],136:[2,114],137:[2,114],138:[2,114]},{5:231,25:[1,5],103:87,104:[1,65],106:[1,66],109:88,110:[1,68],111:69,126:[1,86],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{1:[2,142],6:[2,142],25:[2,142],26:[2,142],49:[2,142],54:[2,142],57:[2,142],73:[2,142],78:[2,142],86:[2,142],91:[2,142],93:[2,142],102:[2,142],103:87,104:[1,65],105:[1,232],106:[1,66],109:88,110:[1,68],111:69,118:[2,142],126:[2,142],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{1:[2,144],6:[2,144],25:[2,144],26:[2,144],49:[2,144],54:[2,144],57:[2,144],73:[2,144],78:[2,144],86:[2,144],91:[2,144],93:[2,144],102:[2,144],103:87,104:[1,65],105:[1,233],106:[1,66],109:88,110:[1,68],111:69,118:[2,144],126:[2,144],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{1:[2,150],6:[2,150],25:[2,150],26:[2,150],49:[2,150],54:[2,150],57:[2,150],73:[2,150],78:[2,150],86:[2,150],91:[2,150],93:[2,150],102:[2,150],104:[2,150],105:[2,150],106:[2,150],110:[2,150],118:[2,150],126:[2,150],128:[2,150],129:[2,150],132:[2,150],133:[2,150],134:[2,150],135:[2,150],136:[2,150],137:[2,150]},{1:[2,151],6:[2,151],25:[2,151],26:[2,151],49:[2,151],54:[2,151],57:[2,151],73:[2,151],78:[2,151],86:[2,151],91:[2,151],93:[2,151],102:[2,151],103:87,104:[1,65],105:[2,151],106:[1,66],109:88,110:[1,68],111:69,118:[2,151],126:[2,151],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{1:[2,155],6:[2,155],25:[2,155],26:[2,155],49:[2,155],54:[2,155],57:[2,155],73:[2,155],78:[2,155],86:[2,155],91:[2,155],93:[2,155],102:[2,155],104:[2,155],105:[2,155],106:[2,155],110:[2,155],118:[2,155],126:[2,155],128:[2,155],129:[2,155],132:[2,155],133:[2,155],134:[2,155],135:[2,155],136:[2,155],137:[2,155]},{116:[2,157],117:[2,157]},{27:159,28:[1,73],44:160,58:161,59:162,76:[1,70],89:[1,114],90:[1,115],113:234,115:158},{54:[1,235],116:[2,163],117:[2,163]},{54:[2,159],116:[2,159],117:[2,159]},{54:[2,160],116:[2,160],117:[2,160]},{54:[2,161],116:[2,161],117:[2,161]},{54:[2,162],116:[2,162],117:[2,162]},{1:[2,156],6:[2,156],25:[2,156],26:[2,156],49:[2,156],54:[2,156],57:[2,156],73:[2,156],78:[2,156],86:[2,156],91:[2,156],93:[2,156],102:[2,156],104:[2,156],105:[2,156],106:[2,156],110:[2,156],118:[2,156],126:[2,156],128:[2,156],129:[2,156],132:[2,156],133:[2,156],134:[2,156],135:[2,156],136:[2,156],137:[2,156]},{8:236,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{8:237,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{6:[2,53],25:[2,53],53:238,54:[1,239],78:[2,53]},{6:[2,92],25:[2,92],26:[2,92],54:[2,92],78:[2,92]},{6:[2,39],25:[2,39],26:[2,39],43:[1,240],54:[2,39],78:[2,39]},{6:[2,42],25:[2,42],26:[2,42],54:[2,42],78:[2,42]},{6:[2,43],25:[2,43],26:[2,43],43:[2,43],54:[2,43],78:[2,43]},{6:[2,44],25:[2,44],26:[2,44],43:[2,44],54:[2,44],78:[2,44]},{6:[2,45],25:[2,45],26:[2,45],43:[2,45],54:[2,45],78:[2,45]},{1:[2,5],6:[2,5],26:[2,5],102:[2,5]},{1:[2,25],6:[2,25],25:[2,25],26:[2,25],49:[2,25],54:[2,25],57:[2,25],73:[2,25],78:[2,25],86:[2,25],91:[2,25],93:[2,25],98:[2,25],99:[2,25],102:[2,25],104:[2,25],105:[2,25],106:[2,25],110:[2,25],118:[2,25],121:[2,25],123:[2,25],126:[2,25],128:[2,25],129:[2,25],132:[2,25],133:[2,25],134:[2,25],135:[2,25],136:[2,25],137:[2,25]},{1:[2,194],6:[2,194],25:[2,194],26:[2,194],49:[2,194],54:[2,194],57:[2,194],73:[2,194],78:[2,194],86:[2,194],91:[2,194],93:[2,194],102:[2,194],103:87,104:[2,194],105:[2,194],106:[2,194],109:88,110:[2,194],111:69,118:[2,194],126:[2,194],128:[2,194],129:[2,194],132:[1,78],133:[1,81],134:[2,194],135:[2,194],136:[2,194],137:[2,194]},{1:[2,195],6:[2,195],25:[2,195],26:[2,195],49:[2,195],54:[2,195],57:[2,195],73:[2,195],78:[2,195],86:[2,195],91:[2,195],93:[2,195],102:[2,195],103:87,104:[2,195],105:[2,195],106:[2,195],109:88,110:[2,195],111:69,118:[2,195],126:[2,195],128:[2,195],129:[2,195],132:[1,78],133:[1,81],134:[2,195],135:[2,195],136:[2,195],137:[2,195]},{1:[2,196],6:[2,196],25:[2,196],26:[2,196],49:[2,196],54:[2,196],57:[2,196],73:[2,196],78:[2,196],86:[2,196],91:[2,196],93:[2,196],102:[2,196],103:87,104:[2,196],105:[2,196],106:[2,196],109:88,110:[2,196],111:69,118:[2,196],126:[2,196],128:[2,196],129:[2,196],132:[1,78],133:[2,196],134:[2,196],135:[2,196],136:[2,196],137:[2,196]},{1:[2,197],6:[2,197],25:[2,197],26:[2,197],49:[2,197],54:[2,197],57:[2,197],73:[2,197],78:[2,197],86:[2,197],91:[2,197],93:[2,197],102:[2,197],103:87,104:[2,197],105:[2,197],106:[2,197],109:88,110:[2,197],111:69,118:[2,197],126:[2,197],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[2,197],135:[2,197],136:[2,197],137:[2,197]},{1:[2,198],6:[2,198],25:[2,198],26:[2,198],49:[2,198],54:[2,198],57:[2,198],73:[2,198],78:[2,198],86:[2,198],91:[2,198],93:[2,198],102:[2,198],103:87,104:[2,198],105:[2,198],106:[2,198],109:88,110:[2,198],111:69,118:[2,198],126:[2,198],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[2,198],136:[2,198],137:[1,85]},{1:[2,199],6:[2,199],25:[2,199],26:[2,199],49:[2,199],54:[2,199],57:[2,199],73:[2,199],78:[2,199],86:[2,199],91:[2,199],93:[2,199],102:[2,199],103:87,104:[2,199],105:[2,199],106:[2,199],109:88,110:[2,199],111:69,118:[2,199],126:[2,199],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[2,199],137:[1,85]},{1:[2,200],6:[2,200],25:[2,200],26:[2,200],49:[2,200],54:[2,200],57:[2,200],73:[2,200],78:[2,200],86:[2,200],91:[2,200],93:[2,200],102:[2,200],103:87,104:[2,200],105:[2,200],106:[2,200],109:88,110:[2,200],111:69,118:[2,200],126:[2,200],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[2,200],136:[2,200],137:[2,200]},{1:[2,185],6:[2,185],25:[2,185],26:[2,185],49:[2,185],54:[2,185],57:[2,185],73:[2,185],78:[2,185],86:[2,185],91:[2,185],93:[2,185],102:[2,185],103:87,104:[1,65],105:[2,185],106:[1,66],109:88,110:[1,68],111:69,118:[2,185],126:[1,86],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{1:[2,184],6:[2,184],25:[2,184],26:[2,184],49:[2,184],54:[2,184],57:[2,184],73:[2,184],78:[2,184],86:[2,184],91:[2,184],93:[2,184],102:[2,184],103:87,104:[1,65],105:[2,184],106:[1,66],109:88,110:[1,68],111:69,118:[2,184],126:[1,86],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{1:[2,104],6:[2,104],25:[2,104],26:[2,104],49:[2,104],54:[2,104],57:[2,104],66:[2,104],67:[2,104],68:[2,104],69:[2,104],71:[2,104],73:[2,104],74:[2,104],78:[2,104],84:[2,104],85:[2,104],86:[2,104],91:[2,104],93:[2,104],102:[2,104],104:[2,104],105:[2,104],106:[2,104],110:[2,104],118:[2,104],126:[2,104],128:[2,104],129:[2,104],132:[2,104],133:[2,104],134:[2,104],135:[2,104],136:[2,104],137:[2,104]},{1:[2,80],6:[2,80],25:[2,80],26:[2,80],40:[2,80],49:[2,80],54:[2,80],57:[2,80],66:[2,80],67:[2,80],68:[2,80],69:[2,80],71:[2,80],73:[2,80],74:[2,80],78:[2,80],80:[2,80],84:[2,80],85:[2,80],86:[2,80],91:[2,80],93:[2,80],102:[2,80],104:[2,80],105:[2,80],106:[2,80],110:[2,80],118:[2,80],126:[2,80],128:[2,80],129:[2,80],130:[2,80],131:[2,80],132:[2,80],133:[2,80],134:[2,80],135:[2,80],136:[2,80],137:[2,80],138:[2,80]},{1:[2,81],6:[2,81],25:[2,81],26:[2,81],40:[2,81],49:[2,81],54:[2,81],57:[2,81],66:[2,81],67:[2,81],68:[2,81],69:[2,81],71:[2,81],73:[2,81],74:[2,81],78:[2,81],80:[2,81],84:[2,81],85:[2,81],86:[2,81],91:[2,81],93:[2,81],102:[2,81],104:[2,81],105:[2,81],106:[2,81],110:[2,81],118:[2,81],126:[2,81],128:[2,81],129:[2,81],130:[2,81],131:[2,81],132:[2,81],133:[2,81],134:[2,81],135:[2,81],136:[2,81],137:[2,81],138:[2,81]},{1:[2,82],6:[2,82],25:[2,82],26:[2,82],40:[2,82],49:[2,82],54:[2,82],57:[2,82],66:[2,82],67:[2,82],68:[2,82],69:[2,82],71:[2,82],73:[2,82],74:[2,82],78:[2,82],80:[2,82],84:[2,82],85:[2,82],86:[2,82],91:[2,82],93:[2,82],102:[2,82],104:[2,82],105:[2,82],106:[2,82],110:[2,82],118:[2,82],126:[2,82],128:[2,82],129:[2,82],130:[2,82],131:[2,82],132:[2,82],133:[2,82],134:[2,82],135:[2,82],136:[2,82],137:[2,82],138:[2,82]},{1:[2,83],6:[2,83],25:[2,83],26:[2,83],40:[2,83],49:[2,83],54:[2,83],57:[2,83],66:[2,83],67:[2,83],68:[2,83],69:[2,83],71:[2,83],73:[2,83],74:[2,83],78:[2,83],80:[2,83],84:[2,83],85:[2,83],86:[2,83],91:[2,83],93:[2,83],102:[2,83],104:[2,83],105:[2,83],106:[2,83],110:[2,83],118:[2,83],126:[2,83],128:[2,83],129:[2,83],130:[2,83],131:[2,83],132:[2,83],133:[2,83],134:[2,83],135:[2,83],136:[2,83],137:[2,83],138:[2,83]},{73:[1,241]},{57:[1,194],73:[2,88],92:242,93:[1,193],103:87,104:[1,65],106:[1,66],109:88,110:[1,68],111:69,126:[1,86],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{73:[2,89]},{8:243,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,73:[2,123],76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{12:[2,117],28:[2,117],30:[2,117],31:[2,117],33:[2,117],34:[2,117],35:[2,117],36:[2,117],37:[2,117],38:[2,117],45:[2,117],46:[2,117],47:[2,117],51:[2,117],52:[2,117],73:[2,117],76:[2,117],79:[2,117],83:[2,117],88:[2,117],89:[2,117],90:[2,117],96:[2,117],100:[2,117],101:[2,117],104:[2,117],106:[2,117],108:[2,117],110:[2,117],119:[2,117],125:[2,117],127:[2,117],128:[2,117],129:[2,117],130:[2,117],131:[2,117]},{12:[2,118],28:[2,118],30:[2,118],31:[2,118],33:[2,118],34:[2,118],35:[2,118],36:[2,118],37:[2,118],38:[2,118],45:[2,118],46:[2,118],47:[2,118],51:[2,118],52:[2,118],73:[2,118],76:[2,118],79:[2,118],83:[2,118],88:[2,118],89:[2,118],90:[2,118],96:[2,118],100:[2,118],101:[2,118],104:[2,118],106:[2,118],108:[2,118],110:[2,118],119:[2,118],125:[2,118],127:[2,118],128:[2,118],129:[2,118],130:[2,118],131:[2,118]},{1:[2,87],6:[2,87],25:[2,87],26:[2,87],40:[2,87],49:[2,87],54:[2,87],57:[2,87],66:[2,87],67:[2,87],68:[2,87],69:[2,87],71:[2,87],73:[2,87],74:[2,87],78:[2,87],80:[2,87],84:[2,87],85:[2,87],86:[2,87],91:[2,87],93:[2,87],102:[2,87],104:[2,87],105:[2,87],106:[2,87],110:[2,87],118:[2,87],126:[2,87],128:[2,87],129:[2,87],130:[2,87],131:[2,87],132:[2,87],133:[2,87],134:[2,87],135:[2,87],136:[2,87],137:[2,87],138:[2,87]},{1:[2,105],6:[2,105],25:[2,105],26:[2,105],49:[2,105],54:[2,105],57:[2,105],66:[2,105],67:[2,105],68:[2,105],69:[2,105],71:[2,105],73:[2,105],74:[2,105],78:[2,105],84:[2,105],85:[2,105],86:[2,105],91:[2,105],93:[2,105],102:[2,105],104:[2,105],105:[2,105],106:[2,105],110:[2,105],118:[2,105],126:[2,105],128:[2,105],129:[2,105],132:[2,105],133:[2,105],134:[2,105],135:[2,105],136:[2,105],137:[2,105]},{1:[2,36],6:[2,36],25:[2,36],26:[2,36],49:[2,36],54:[2,36],57:[2,36],73:[2,36],78:[2,36],86:[2,36],91:[2,36],93:[2,36],102:[2,36],103:87,104:[2,36],105:[2,36],106:[2,36],109:88,110:[2,36],111:69,118:[2,36],126:[2,36],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{8:244,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{8:245,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{1:[2,110],6:[2,110],25:[2,110],26:[2,110],49:[2,110],54:[2,110],57:[2,110],66:[2,110],67:[2,110],68:[2,110],69:[2,110],71:[2,110],73:[2,110],74:[2,110],78:[2,110],84:[2,110],85:[2,110],86:[2,110],91:[2,110],93:[2,110],102:[2,110],104:[2,110],105:[2,110],106:[2,110],110:[2,110],118:[2,110],126:[2,110],128:[2,110],129:[2,110],132:[2,110],133:[2,110],134:[2,110],135:[2,110],136:[2,110],137:[2,110]},{6:[2,53],25:[2,53],53:246,54:[1,229],86:[2,53]},{6:[2,129],25:[2,129],26:[2,129],54:[2,129],57:[1,247],86:[2,129],91:[2,129],103:87,104:[1,65],106:[1,66],109:88,110:[1,68],111:69,126:[1,86],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{50:248,51:[1,60],52:[1,61]},{6:[2,54],25:[2,54],26:[2,54],27:110,28:[1,73],44:111,55:249,56:109,58:112,59:113,76:[1,70],89:[1,114],90:[1,115]},{6:[1,250],25:[1,251]},{6:[2,61],25:[2,61],26:[2,61],49:[2,61],54:[2,61]},{8:252,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{1:[2,201],6:[2,201],25:[2,201],26:[2,201],49:[2,201],54:[2,201],57:[2,201],73:[2,201],78:[2,201],86:[2,201],91:[2,201],93:[2,201],102:[2,201],103:87,104:[2,201],105:[2,201],106:[2,201],109:88,110:[2,201],111:69,118:[2,201],126:[2,201],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{8:253,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{8:254,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{1:[2,204],6:[2,204],25:[2,204],26:[2,204],49:[2,204],54:[2,204],57:[2,204],73:[2,204],78:[2,204],86:[2,204],91:[2,204],93:[2,204],102:[2,204],103:87,104:[2,204],105:[2,204],106:[2,204],109:88,110:[2,204],111:69,118:[2,204],126:[2,204],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{1:[2,183],6:[2,183],25:[2,183],26:[2,183],49:[2,183],54:[2,183],57:[2,183],73:[2,183],78:[2,183],86:[2,183],91:[2,183],93:[2,183],102:[2,183],104:[2,183],105:[2,183],106:[2,183],110:[2,183],118:[2,183],126:[2,183],128:[2,183],129:[2,183],132:[2,183],133:[2,183],134:[2,183],135:[2,183],136:[2,183],137:[2,183]},{8:255,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{1:[2,134],6:[2,134],25:[2,134],26:[2,134],49:[2,134],54:[2,134],57:[2,134],73:[2,134],78:[2,134],86:[2,134],91:[2,134],93:[2,134],98:[1,256],102:[2,134],104:[2,134],105:[2,134],106:[2,134],110:[2,134],118:[2,134],126:[2,134],128:[2,134],129:[2,134],132:[2,134],133:[2,134],134:[2,134],135:[2,134],136:[2,134],137:[2,134]},{5:257,25:[1,5]},{27:258,28:[1,73],59:259,76:[1,70]},{120:260,122:219,123:[1,220]},{26:[1,261],121:[1,262],122:263,123:[1,220]},{26:[2,176],121:[2,176],123:[2,176]},{8:265,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],95:264,96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{1:[2,98],5:266,6:[2,98],25:[1,5],26:[2,98],49:[2,98],54:[2,98],57:[2,98],73:[2,98],78:[2,98],86:[2,98],91:[2,98],93:[2,98],102:[2,98],103:87,104:[1,65],105:[2,98],106:[1,66],109:88,110:[1,68],111:69,118:[2,98],126:[2,98],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{1:[2,101],6:[2,101],25:[2,101],26:[2,101],49:[2,101],54:[2,101],57:[2,101],73:[2,101],78:[2,101],86:[2,101],91:[2,101],93:[2,101],102:[2,101],104:[2,101],105:[2,101],106:[2,101],110:[2,101],118:[2,101],126:[2,101],128:[2,101],129:[2,101],132:[2,101],133:[2,101],134:[2,101],135:[2,101],136:[2,101],137:[2,101]},{8:267,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{1:[2,140],6:[2,140],25:[2,140],26:[2,140],49:[2,140],54:[2,140],57:[2,140],66:[2,140],67:[2,140],68:[2,140],69:[2,140],71:[2,140],73:[2,140],74:[2,140],78:[2,140],84:[2,140],85:[2,140],86:[2,140],91:[2,140],93:[2,140],102:[2,140],104:[2,140],105:[2,140],106:[2,140],110:[2,140],118:[2,140],126:[2,140],128:[2,140],129:[2,140],132:[2,140],133:[2,140],134:[2,140],135:[2,140],136:[2,140],137:[2,140]},{6:[1,74],26:[1,268]},{8:269,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{6:[2,67],12:[2,118],25:[2,67],28:[2,118],30:[2,118],31:[2,118],33:[2,118],34:[2,118],35:[2,118],36:[2,118],37:[2,118],38:[2,118],45:[2,118],46:[2,118],47:[2,118],51:[2,118],52:[2,118],54:[2,67],76:[2,118],79:[2,118],83:[2,118],88:[2,118],89:[2,118],90:[2,118],91:[2,67],96:[2,118],100:[2,118],101:[2,118],104:[2,118],106:[2,118],108:[2,118],110:[2,118],119:[2,118],125:[2,118],127:[2,118],128:[2,118],129:[2,118],130:[2,118],131:[2,118]},{6:[1,271],25:[1,272],91:[1,270]},{6:[2,54],8:202,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,25:[2,54],26:[2,54],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,60:148,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],86:[2,54],88:[1,58],89:[1,59],90:[1,57],91:[2,54],94:273,96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{6:[2,53],25:[2,53],26:[2,53],53:274,54:[1,229]},{1:[2,180],6:[2,180],25:[2,180],26:[2,180],49:[2,180],54:[2,180],57:[2,180],73:[2,180],78:[2,180],86:[2,180],91:[2,180],93:[2,180],102:[2,180],104:[2,180],105:[2,180],106:[2,180],110:[2,180],118:[2,180],121:[2,180],126:[2,180],128:[2,180],129:[2,180],132:[2,180],133:[2,180],134:[2,180],135:[2,180],136:[2,180],137:[2,180]},{8:275,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{8:276,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{116:[2,158],117:[2,158]},{27:159,28:[1,73],44:160,58:161,59:162,76:[1,70],89:[1,114],90:[1,115],115:277},{1:[2,165],6:[2,165],25:[2,165],26:[2,165],49:[2,165],54:[2,165],57:[2,165],73:[2,165],78:[2,165],86:[2,165],91:[2,165],93:[2,165],102:[2,165],103:87,104:[2,165],105:[1,278],106:[2,165],109:88,110:[2,165],111:69,118:[1,279],126:[2,165],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{1:[2,166],6:[2,166],25:[2,166],26:[2,166],49:[2,166],54:[2,166],57:[2,166],73:[2,166],78:[2,166],86:[2,166],91:[2,166],93:[2,166],102:[2,166],103:87,104:[2,166],105:[1,280],106:[2,166],109:88,110:[2,166],111:69,118:[2,166],126:[2,166],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{6:[1,282],25:[1,283],78:[1,281]},{6:[2,54],11:169,25:[2,54],26:[2,54],27:170,28:[1,73],29:171,30:[1,71],31:[1,72],41:284,42:168,44:172,46:[1,46],78:[2,54],89:[1,114]},{8:285,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,25:[1,286],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{1:[2,86],6:[2,86],25:[2,86],26:[2,86],40:[2,86],49:[2,86],54:[2,86],57:[2,86],66:[2,86],67:[2,86],68:[2,86],69:[2,86],71:[2,86],73:[2,86],74:[2,86],78:[2,86],80:[2,86],84:[2,86],85:[2,86],86:[2,86],91:[2,86],93:[2,86],102:[2,86],104:[2,86],105:[2,86],106:[2,86],110:[2,86],118:[2,86],126:[2,86],128:[2,86],129:[2,86],130:[2,86],131:[2,86],132:[2,86],133:[2,86],134:[2,86],135:[2,86],136:[2,86],137:[2,86],138:[2,86]},{8:287,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,73:[2,121],76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{73:[2,122],103:87,104:[1,65],106:[1,66],109:88,110:[1,68],111:69,126:[1,86],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{1:[2,37],6:[2,37],25:[2,37],26:[2,37],49:[2,37],54:[2,37],57:[2,37],73:[2,37],78:[2,37],86:[2,37],91:[2,37],93:[2,37],102:[2,37],103:87,104:[2,37],105:[2,37],106:[2,37],109:88,110:[2,37],111:69,118:[2,37],126:[2,37],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{26:[1,288],103:87,104:[1,65],106:[1,66],109:88,110:[1,68],111:69,126:[1,86],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{6:[1,271],25:[1,272],86:[1,289]},{6:[2,67],25:[2,67],26:[2,67],54:[2,67],86:[2,67],91:[2,67]},{5:290,25:[1,5]},{6:[2,57],25:[2,57],26:[2,57],49:[2,57],54:[2,57]},{27:110,28:[1,73],44:111,55:291,56:109,58:112,59:113,76:[1,70],89:[1,114],90:[1,115]},{6:[2,55],25:[2,55],26:[2,55],27:110,28:[1,73],44:111,48:292,54:[2,55],55:108,56:109,58:112,59:113,76:[1,70],89:[1,114],90:[1,115]},{6:[2,62],25:[2,62],26:[2,62],49:[2,62],54:[2,62],103:87,104:[1,65],106:[1,66],109:88,110:[1,68],111:69,126:[1,86],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{26:[1,293],103:87,104:[1,65],106:[1,66],109:88,110:[1,68],111:69,126:[1,86],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{1:[2,203],6:[2,203],25:[2,203],26:[2,203],49:[2,203],54:[2,203],57:[2,203],73:[2,203],78:[2,203],86:[2,203],91:[2,203],93:[2,203],102:[2,203],103:87,104:[2,203],105:[2,203],106:[2,203],109:88,110:[2,203],111:69,118:[2,203],126:[2,203],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{5:294,25:[1,5],103:87,104:[1,65],106:[1,66],109:88,110:[1,68],111:69,126:[1,86],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{5:295,25:[1,5]},{1:[2,135],6:[2,135],25:[2,135],26:[2,135],49:[2,135],54:[2,135],57:[2,135],73:[2,135],78:[2,135],86:[2,135],91:[2,135],93:[2,135],102:[2,135],104:[2,135],105:[2,135],106:[2,135],110:[2,135],118:[2,135],126:[2,135],128:[2,135],129:[2,135],132:[2,135],133:[2,135],134:[2,135],135:[2,135],136:[2,135],137:[2,135]},{5:296,25:[1,5]},{5:297,25:[1,5]},{26:[1,298],121:[1,299],122:263,123:[1,220]},{1:[2,174],6:[2,174],25:[2,174],26:[2,174],49:[2,174],54:[2,174],57:[2,174],73:[2,174],78:[2,174],86:[2,174],91:[2,174],93:[2,174],102:[2,174],104:[2,174],105:[2,174],106:[2,174],110:[2,174],118:[2,174],126:[2,174],128:[2,174],129:[2,174],132:[2,174],133:[2,174],134:[2,174],135:[2,174],136:[2,174],137:[2,174]},{5:300,25:[1,5]},{26:[2,177],121:[2,177],123:[2,177]},{5:301,25:[1,5],54:[1,302]},{25:[2,131],54:[2,131],103:87,104:[1,65],106:[1,66],109:88,110:[1,68],111:69,126:[1,86],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{1:[2,99],6:[2,99],25:[2,99],26:[2,99],49:[2,99],54:[2,99],57:[2,99],73:[2,99],78:[2,99],86:[2,99],91:[2,99],93:[2,99],102:[2,99],104:[2,99],105:[2,99],106:[2,99],110:[2,99],118:[2,99],126:[2,99],128:[2,99],129:[2,99],132:[2,99],133:[2,99],134:[2,99],135:[2,99],136:[2,99],137:[2,99]},{1:[2,102],5:303,6:[2,102],25:[1,5],26:[2,102],49:[2,102],54:[2,102],57:[2,102],73:[2,102],78:[2,102],86:[2,102],91:[2,102],93:[2,102],102:[2,102],103:87,104:[1,65],105:[2,102],106:[1,66],109:88,110:[1,68],111:69,118:[2,102],126:[2,102],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{102:[1,304]},{91:[1,305],103:87,104:[1,65],106:[1,66],109:88,110:[1,68],111:69,126:[1,86],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{1:[2,116],6:[2,116],25:[2,116],26:[2,116],40:[2,116],49:[2,116],54:[2,116],57:[2,116],66:[2,116],67:[2,116],68:[2,116],69:[2,116],71:[2,116],73:[2,116],74:[2,116],78:[2,116],84:[2,116],85:[2,116],86:[2,116],91:[2,116],93:[2,116],102:[2,116],104:[2,116],105:[2,116],106:[2,116],110:[2,116],116:[2,116],117:[2,116],118:[2,116],126:[2,116],128:[2,116],129:[2,116],132:[2,116],133:[2,116],134:[2,116],135:[2,116],136:[2,116],137:[2,116]},{8:202,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,60:148,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],94:306,96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{8:202,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,25:[1,147],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,60:148,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],87:307,88:[1,58],89:[1,59],90:[1,57],94:146,96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{6:[2,125],25:[2,125],26:[2,125],54:[2,125],86:[2,125],91:[2,125]},{6:[1,271],25:[1,272],26:[1,308]},{1:[2,143],6:[2,143],25:[2,143],26:[2,143],49:[2,143],54:[2,143],57:[2,143],73:[2,143],78:[2,143],86:[2,143],91:[2,143],93:[2,143],102:[2,143],103:87,104:[1,65],105:[2,143],106:[1,66],109:88,110:[1,68],111:69,118:[2,143],126:[2,143],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{1:[2,145],6:[2,145],25:[2,145],26:[2,145],49:[2,145],54:[2,145],57:[2,145],73:[2,145],78:[2,145],86:[2,145],91:[2,145],93:[2,145],102:[2,145],103:87,104:[1,65],105:[2,145],106:[1,66],109:88,110:[1,68],111:69,118:[2,145],126:[2,145],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{116:[2,164],117:[2,164]},{8:309,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{8:310,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{8:311,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{1:[2,90],6:[2,90],25:[2,90],26:[2,90],40:[2,90],49:[2,90],54:[2,90],57:[2,90],66:[2,90],67:[2,90],68:[2,90],69:[2,90],71:[2,90],73:[2,90],74:[2,90],78:[2,90],84:[2,90],85:[2,90],86:[2,90],91:[2,90],93:[2,90],102:[2,90],104:[2,90],105:[2,90],106:[2,90],110:[2,90],116:[2,90],117:[2,90],118:[2,90],126:[2,90],128:[2,90],129:[2,90],132:[2,90],133:[2,90],134:[2,90],135:[2,90],136:[2,90],137:[2,90]},{11:169,27:170,28:[1,73],29:171,30:[1,71],31:[1,72],41:312,42:168,44:172,46:[1,46],89:[1,114]},{6:[2,91],11:169,25:[2,91],26:[2,91],27:170,28:[1,73],29:171,30:[1,71],31:[1,72],41:167,42:168,44:172,46:[1,46],54:[2,91],77:313,89:[1,114]},{6:[2,93],25:[2,93],26:[2,93],54:[2,93],78:[2,93]},{6:[2,40],25:[2,40],26:[2,40],54:[2,40],78:[2,40],103:87,104:[1,65],106:[1,66],109:88,110:[1,68],111:69,126:[1,86],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{8:314,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{73:[2,120],103:87,104:[1,65],106:[1,66],109:88,110:[1,68],111:69,126:[1,86],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{1:[2,38],6:[2,38],25:[2,38],26:[2,38],49:[2,38],54:[2,38],57:[2,38],73:[2,38],78:[2,38],86:[2,38],91:[2,38],93:[2,38],102:[2,38],104:[2,38],105:[2,38],106:[2,38],110:[2,38],118:[2,38],126:[2,38],128:[2,38],129:[2,38],132:[2,38],133:[2,38],134:[2,38],135:[2,38],136:[2,38],137:[2,38]},{1:[2,111],6:[2,111],25:[2,111],26:[2,111],49:[2,111],54:[2,111],57:[2,111],66:[2,111],67:[2,111],68:[2,111],69:[2,111],71:[2,111],73:[2,111],74:[2,111],78:[2,111],84:[2,111],85:[2,111],86:[2,111],91:[2,111],93:[2,111],102:[2,111],104:[2,111],105:[2,111],106:[2,111],110:[2,111],118:[2,111],126:[2,111],128:[2,111],129:[2,111],132:[2,111],133:[2,111],134:[2,111],135:[2,111],136:[2,111],137:[2,111]},{1:[2,49],6:[2,49],25:[2,49],26:[2,49],49:[2,49],54:[2,49],57:[2,49],73:[2,49],78:[2,49],86:[2,49],91:[2,49],93:[2,49],102:[2,49],104:[2,49],105:[2,49],106:[2,49],110:[2,49],118:[2,49],126:[2,49],128:[2,49],129:[2,49],132:[2,49],133:[2,49],134:[2,49],135:[2,49],136:[2,49],137:[2,49]},{6:[2,58],25:[2,58],26:[2,58],49:[2,58],54:[2,58]},{6:[2,53],25:[2,53],26:[2,53],53:315,54:[1,204]},{1:[2,202],6:[2,202],25:[2,202],26:[2,202],49:[2,202],54:[2,202],57:[2,202],73:[2,202],78:[2,202],86:[2,202],91:[2,202],93:[2,202],102:[2,202],104:[2,202],105:[2,202],106:[2,202],110:[2,202],118:[2,202],126:[2,202],128:[2,202],129:[2,202],132:[2,202],133:[2,202],134:[2,202],135:[2,202],136:[2,202],137:[2,202]},{1:[2,181],6:[2,181],25:[2,181],26:[2,181],49:[2,181],54:[2,181],57:[2,181],73:[2,181],78:[2,181],86:[2,181],91:[2,181],93:[2,181],102:[2,181],104:[2,181],105:[2,181],106:[2,181],110:[2,181],118:[2,181],121:[2,181],126:[2,181],128:[2,181],129:[2,181],132:[2,181],133:[2,181],134:[2,181],135:[2,181],136:[2,181],137:[2,181]},{1:[2,136],6:[2,136],25:[2,136],26:[2,136],49:[2,136],54:[2,136],57:[2,136],73:[2,136],78:[2,136],86:[2,136],91:[2,136],93:[2,136],102:[2,136],104:[2,136],105:[2,136],106:[2,136],110:[2,136],118:[2,136],126:[2,136],128:[2,136],129:[2,136],132:[2,136],133:[2,136],134:[2,136],135:[2,136],136:[2,136],137:[2,136]},{1:[2,137],6:[2,137],25:[2,137],26:[2,137],49:[2,137],54:[2,137],57:[2,137],73:[2,137],78:[2,137],86:[2,137],91:[2,137],93:[2,137],98:[2,137],102:[2,137],104:[2,137],105:[2,137],106:[2,137],110:[2,137],118:[2,137],126:[2,137],128:[2,137],129:[2,137],132:[2,137],133:[2,137],134:[2,137],135:[2,137],136:[2,137],137:[2,137]},{1:[2,138],6:[2,138],25:[2,138],26:[2,138],49:[2,138],54:[2,138],57:[2,138],73:[2,138],78:[2,138],86:[2,138],91:[2,138],93:[2,138],98:[2,138],102:[2,138],104:[2,138],105:[2,138],106:[2,138],110:[2,138],118:[2,138],126:[2,138],128:[2,138],129:[2,138],132:[2,138],133:[2,138],134:[2,138],135:[2,138],136:[2,138],137:[2,138]},{1:[2,172],6:[2,172],25:[2,172],26:[2,172],49:[2,172],54:[2,172],57:[2,172],73:[2,172],78:[2,172],86:[2,172],91:[2,172],93:[2,172],102:[2,172],104:[2,172],105:[2,172],106:[2,172],110:[2,172],118:[2,172],126:[2,172],128:[2,172],129:[2,172],132:[2,172],133:[2,172],134:[2,172],135:[2,172],136:[2,172],137:[2,172]},{5:316,25:[1,5]},{26:[1,317]},{6:[1,318],26:[2,178],121:[2,178],123:[2,178]},{8:319,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{1:[2,103],6:[2,103],25:[2,103],26:[2,103],49:[2,103],54:[2,103],57:[2,103],73:[2,103],78:[2,103],86:[2,103],91:[2,103],93:[2,103],102:[2,103],104:[2,103],105:[2,103],106:[2,103],110:[2,103],118:[2,103],126:[2,103],128:[2,103],129:[2,103],132:[2,103],133:[2,103],134:[2,103],135:[2,103],136:[2,103],137:[2,103]},{1:[2,141],6:[2,141],25:[2,141],26:[2,141],49:[2,141],54:[2,141],57:[2,141],66:[2,141],67:[2,141],68:[2,141],69:[2,141],71:[2,141],73:[2,141],74:[2,141],78:[2,141],84:[2,141],85:[2,141],86:[2,141],91:[2,141],93:[2,141],102:[2,141],104:[2,141],105:[2,141],106:[2,141],110:[2,141],118:[2,141],126:[2,141],128:[2,141],129:[2,141],132:[2,141],133:[2,141],134:[2,141],135:[2,141],136:[2,141],137:[2,141]},{1:[2,119],6:[2,119],25:[2,119],26:[2,119],49:[2,119],54:[2,119],57:[2,119],66:[2,119],67:[2,119],68:[2,119],69:[2,119],71:[2,119],73:[2,119],74:[2,119],78:[2,119],84:[2,119],85:[2,119],86:[2,119],91:[2,119],93:[2,119],102:[2,119],104:[2,119],105:[2,119],106:[2,119],110:[2,119],118:[2,119],126:[2,119],128:[2,119],129:[2,119],132:[2,119],133:[2,119],134:[2,119],135:[2,119],136:[2,119],137:[2,119]},{6:[2,126],25:[2,126],26:[2,126],54:[2,126],86:[2,126],91:[2,126]},{6:[2,53],25:[2,53],26:[2,53],53:320,54:[1,229]},{6:[2,127],25:[2,127],26:[2,127],54:[2,127],86:[2,127],91:[2,127]},{1:[2,167],6:[2,167],25:[2,167],26:[2,167],49:[2,167],54:[2,167],57:[2,167],73:[2,167],78:[2,167],86:[2,167],91:[2,167],93:[2,167],102:[2,167],103:87,104:[2,167],105:[2,167],106:[2,167],109:88,110:[2,167],111:69,118:[1,321],126:[2,167],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{1:[2,169],6:[2,169],25:[2,169],26:[2,169],49:[2,169],54:[2,169],57:[2,169],73:[2,169],78:[2,169],86:[2,169],91:[2,169],93:[2,169],102:[2,169],103:87,104:[2,169],105:[1,322],106:[2,169],109:88,110:[2,169],111:69,118:[2,169],126:[2,169],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{1:[2,168],6:[2,168],25:[2,168],26:[2,168],49:[2,168],54:[2,168],57:[2,168],73:[2,168],78:[2,168],86:[2,168],91:[2,168],93:[2,168],102:[2,168],103:87,104:[2,168],105:[2,168],106:[2,168],109:88,110:[2,168],111:69,118:[2,168],126:[2,168],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{6:[2,94],25:[2,94],26:[2,94],54:[2,94],78:[2,94]},{6:[2,53],25:[2,53],26:[2,53],53:323,54:[1,239]},{26:[1,324],103:87,104:[1,65],106:[1,66],109:88,110:[1,68],111:69,126:[1,86],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{6:[1,250],25:[1,251],26:[1,325]},{26:[1,326]},{1:[2,175],6:[2,175],25:[2,175],26:[2,175],49:[2,175],54:[2,175],57:[2,175],73:[2,175],78:[2,175],86:[2,175],91:[2,175],93:[2,175],102:[2,175],104:[2,175],105:[2,175],106:[2,175],110:[2,175],118:[2,175],126:[2,175],128:[2,175],129:[2,175],132:[2,175],133:[2,175],134:[2,175],135:[2,175],136:[2,175],137:[2,175]},{26:[2,179],121:[2,179],123:[2,179]},{25:[2,132],54:[2,132],103:87,104:[1,65],106:[1,66],109:88,110:[1,68],111:69,126:[1,86],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{6:[1,271],25:[1,272],26:[1,327]},{8:328,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{8:329,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{6:[1,282],25:[1,283],26:[1,330]},{6:[2,41],25:[2,41],26:[2,41],54:[2,41],78:[2,41]},{6:[2,59],25:[2,59],26:[2,59],49:[2,59],54:[2,59]},{1:[2,173],6:[2,173],25:[2,173],26:[2,173],49:[2,173],54:[2,173],57:[2,173],73:[2,173],78:[2,173],86:[2,173],91:[2,173],93:[2,173],102:[2,173],104:[2,173],105:[2,173],106:[2,173],110:[2,173],118:[2,173],126:[2,173],128:[2,173],129:[2,173],132:[2,173],133:[2,173],134:[2,173],135:[2,173],136:[2,173],137:[2,173]},{6:[2,128],25:[2,128],26:[2,128],54:[2,128],86:[2,128],91:[2,128]},{1:[2,170],6:[2,170],25:[2,170],26:[2,170],49:[2,170],54:[2,170],57:[2,170],73:[2,170],78:[2,170],86:[2,170],91:[2,170],93:[2,170],102:[2,170],103:87,104:[2,170],105:[2,170],106:[2,170],109:88,110:[2,170],111:69,118:[2,170],126:[2,170],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{1:[2,171],6:[2,171],25:[2,171],26:[2,171],49:[2,171],54:[2,171],57:[2,171],73:[2,171],78:[2,171],86:[2,171],91:[2,171],93:[2,171],102:[2,171],103:87,104:[2,171],105:[2,171],106:[2,171],109:88,110:[2,171],111:69,118:[2,171],126:[2,171],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{6:[2,95],25:[2,95],26:[2,95],54:[2,95],78:[2,95]}],defaultActions:{60:[2,51],61:[2,52],75:[2,3],94:[2,109],191:[2,89]},parseError:function(e){throw Error(e)
},parse:function(e){function t(){var e;return e=n.lexer.lex()||1,"number"!=typeof e&&(e=n.symbols_[e]||e),e}var n=this,i=[0],s=[null],r=[],a=this.table,o="",c=0,h=0,l=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,this.lexer.yylloc===void 0&&(this.lexer.yylloc={});var u=this.lexer.yylloc;r.push(u);var p=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var d,f,m,g,b,k,y,v,w,T={};;){if(m=i[i.length-1],this.defaultActions[m]?g=this.defaultActions[m]:((null===d||d===void 0)&&(d=t()),g=a[m]&&a[m][d]),g===void 0||!g.length||!g[0]){var C="";if(!l){w=[];for(k in a[m])this.terminals_[k]&&k>2&&w.push("'"+this.terminals_[k]+"'");C=this.lexer.showPosition?"Parse error on line "+(c+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+w.join(", ")+", got '"+(this.terminals_[d]||d)+"'":"Parse error on line "+(c+1)+": Unexpected "+(1==d?"end of input":"'"+(this.terminals_[d]||d)+"'"),this.parseError(C,{text:this.lexer.match,token:this.terminals_[d]||d,line:this.lexer.yylineno,loc:u,expected:w})}}if(g[0]instanceof Array&&g.length>1)throw Error("Parse Error: multiple actions possible at state: "+m+", token: "+d);switch(g[0]){case 1:i.push(d),s.push(this.lexer.yytext),r.push(this.lexer.yylloc),i.push(g[1]),d=null,f?(d=f,f=null):(h=this.lexer.yyleng,o=this.lexer.yytext,c=this.lexer.yylineno,u=this.lexer.yylloc,l>0&&l--);break;case 2:if(y=this.productions_[g[1]][1],T.$=s[s.length-y],T._$={first_line:r[r.length-(y||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(y||1)].first_column,last_column:r[r.length-1].last_column},p&&(T._$.range=[r[r.length-(y||1)].range[0],r[r.length-1].range[1]]),b=this.performAction.call(T,o,h,c,this.yy,g[1],s,r),b!==void 0)return b;y&&(i=i.slice(0,2*-1*y),s=s.slice(0,-1*y),r=r.slice(0,-1*y)),i.push(this.productions_[g[1]][0]),s.push(T.$),r.push(T._$),v=a[i[i.length-2]][i[i.length-1]],i.push(v);break;case 3:return!0}}return!0}};return e.prototype=t,t.Parser=e,new e}();require!==void 0&&e!==void 0&&(e.parser=t,e.Parser=t.Parser,e.parse=function(){return t.parse.apply(t,arguments)},e.main=function(t){t[1]||(console.log("Usage: "+t[0]+" FILE"),process.exit(1));var n=require("fs").readFileSync(require("path").normalize(t[1]),"utf8");return e.parser.parse(n)},"undefined"!=typeof module&&require.main===module&&e.main(process.argv.slice(1)))},require["./scope"]=new function(){var e=this;(function(){var t,n,i,s;s=require("./helpers"),n=s.extend,i=s.last,e.Scope=t=function(){function e(t,n,i){this.parent=t,this.expressions=n,this.method=i,this.variables=[{name:"arguments",type:"arguments"}],this.positions={},this.parent||(e.root=this)}return e.root=null,e.prototype.add=function(e,t,n){return this.shared&&!n?this.parent.add(e,t,n):Object.prototype.hasOwnProperty.call(this.positions,e)?this.variables[this.positions[e]].type=t:this.positions[e]=this.variables.push({name:e,type:t})-1},e.prototype.namedMethod=function(){var e;return(null!=(e=this.method)?e.name:void 0)||!this.parent?this.method:this.parent.namedMethod()},e.prototype.find=function(e){return this.check(e)?!0:(this.add(e,"var"),!1)},e.prototype.parameter=function(e){return this.shared&&this.parent.check(e,!0)?void 0:this.add(e,"param")},e.prototype.check=function(e){var t;return!!(this.type(e)||(null!=(t=this.parent)?t.check(e):void 0))},e.prototype.temporary=function(e,t){return e.length>1?"_"+e+(t>1?t-1:""):"_"+(t+parseInt(e,36)).toString(36).replace(/\d/g,"a")},e.prototype.type=function(e){var t,n,i,s;for(s=this.variables,n=0,i=s.length;i>n;n++)if(t=s[n],t.name===e)return t.type;return null},e.prototype.freeVariable=function(e,t){var n,i;for(null==t&&(t=!0),n=0;this.check(i=this.temporary(e,n));)n++;return t&&this.add(i,"var",!0),i},e.prototype.assign=function(e,t){return this.add(e,{value:t,assigned:!0},!0),this.hasAssignments=!0},e.prototype.hasDeclarations=function(){return!!this.declaredVariables().length},e.prototype.declaredVariables=function(){var e,t,n,i,s,r;for(e=[],t=[],r=this.variables,i=0,s=r.length;s>i;i++)n=r[i],"var"===n.type&&("_"===n.name.charAt(0)?t:e).push(n.name);return e.sort().concat(t.sort())},e.prototype.assignedVariables=function(){var e,t,n,i,s;for(i=this.variables,s=[],t=0,n=i.length;n>t;t++)e=i[t],e.type.assigned&&s.push(""+e.name+" = "+e.type.value);return s},e}()}).call(this)},require["./nodes"]=new function(){var e=this;(function(){var t,n,i,s,r,a,o,c,h,l,u,p,d,f,m,g,b,k,y,v,w,T,C,F,L,E,N,x,D,S,A,R,I,_,$,O,M,j,B,V,P,U,q,H,G,W,X,Y,K,z,J,Z,Q,et,tt,nt,it,st,rt,at,ot,ct,ht,lt,ut,pt,dt,ft,mt={}.hasOwnProperty,gt=function(e,t){function n(){this.constructor=e}for(var i in t)mt.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},bt=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1},kt=[].slice;Error.stackTraceLimit=1/0,V=require("./scope").Scope,dt=require("./lexer"),$=dt.RESERVED,B=dt.STRICT_PROSCRIBED,ft=require("./helpers"),Q=ft.compact,it=ft.flatten,nt=ft.extend,ot=ft.merge,et=ft.del,lt=ft.starts,tt=ft.ends,rt=ft.last,ht=ft.some,Z=ft.addLocationDataFn,at=ft.locationDataToString,e.extend=nt,e.addLocationDataFn=Z,J=function(){return!0},S=function(){return!1},G=function(){return this},D=function(){return this.negated=!this.negated,this},e.CodeFragment=l=function(){function e(e,t){var n;this.code=""+t,this.locationData=null!=e?e.locationData:void 0,this.type=(null!=e?null!=(n=e.constructor)?n.name:void 0:void 0)||"unknown"}return e.prototype.toString=function(){return""+this.code+[this.locationData?": "+at(this.locationData):void 0]},e}(),st=function(e){var t;return function(){var n,i,s;for(s=[],n=0,i=e.length;i>n;n++)t=e[n],s.push(t.code);return s}().join("")},e.Base=s=function(){function e(){}return e.prototype.compile=function(e,t){return st(this.compileToFragments(e,t))},e.prototype.compileToFragments=function(e,t){var n;return e=nt({},e),t&&(e.level=t),n=this.unfoldSoak(e)||this,n.tab=e.indent,e.level!==E&&n.isStatement(e)?n.compileClosure(e):n.compileNode(e)},e.prototype.compileClosure=function(e){if(this.jumps())throw SyntaxError("cannot use a pure statement in an expression.");return e.sharedScope=!0,c.wrap(this).compileNode(e)},e.prototype.cache=function(e,t,n){var s,r;return this.isComplex()?(s=new N(n||e.scope.freeVariable("ref")),r=new i(s,this),t?[r.compileToFragments(e,t),[this.makeCode(s.value)]]:[r,s]):(s=t?this.compileToFragments(e,t):this,[s,s])},e.prototype.cacheToCodeFragments=function(e){return[st(e[0]),st(e[1])]},e.prototype.makeReturn=function(e){var t;return t=this.unwrapAll(),e?new a(new N(""+e+".push"),[t]):new M(t)},e.prototype.contains=function(e){var t;return t=!1,this.traverseChildren(!1,function(n){return e(n)?(t=!0,!1):void 0}),t},e.prototype.containsType=function(e){return this instanceof e||this.contains(function(t){return t instanceof e})},e.prototype.lastNonComment=function(e){var t;for(t=e.length;t--;)if(!(e[t]instanceof u))return e[t];return null},e.prototype.toString=function(e,t){var n,i;return null==e&&(e=""),null==t&&(t=this.constructor.name),n=this.locationData?at(this.locationData):"??",i="\n"+e+n+": "+t,this.soak&&(i+="?"),this.eachChild(function(t){return i+=t.toString(e+H)}),i},e.prototype.eachChild=function(e){var t,n,i,s,r,a,o,c;if(!this.children)return this;for(o=this.children,i=0,r=o.length;r>i;i++)if(t=o[i],this[t])for(c=it([this[t]]),s=0,a=c.length;a>s;s++)if(n=c[s],e(n)===!1)return this;return this},e.prototype.traverseChildren=function(e,t){return this.eachChild(function(n){return t(n)===!1?!1:n.traverseChildren(e,t)})},e.prototype.invert=function(){return new R("!",this)},e.prototype.unwrapAll=function(){var e;for(e=this;e!==(e=e.unwrap()););return e},e.prototype.children=[],e.prototype.isStatement=S,e.prototype.jumps=S,e.prototype.isComplex=J,e.prototype.isChainable=S,e.prototype.isAssignable=S,e.prototype.unwrap=G,e.prototype.unfoldSoak=S,e.prototype.assigns=S,e.prototype.updateLocationDataIfMissing=function(e){return this.locationData||(this.locationData={},nt(this.locationData,e)),this.eachChild(function(t){return t.updateLocationDataIfMissing(e)})},e.prototype.makeCode=function(e){return new l(this,e)},e.prototype.wrapInBraces=function(e){return[].concat(this.makeCode("("),e,this.makeCode(")"))},e.prototype.joinFragmentArrays=function(e,t){var n,i,s,r,a;for(n=[],s=r=0,a=e.length;a>r;s=++r)i=e[s],s&&n.push(this.makeCode(t)),n=n.concat(i);return n},e}(),e.Block=r=function(e){function t(e){this.expressions=Q(it(e||[]))}return gt(t,e),t.prototype.children=["expressions"],t.prototype.push=function(e){return this.expressions.push(e),this},t.prototype.pop=function(){return this.expressions.pop()},t.prototype.unshift=function(e){return this.expressions.unshift(e),this},t.prototype.unwrap=function(){return 1===this.expressions.length?this.expressions[0]:this},t.prototype.isEmpty=function(){return!this.expressions.length},t.prototype.isStatement=function(e){var t,n,i,s;for(s=this.expressions,n=0,i=s.length;i>n;n++)if(t=s[n],t.isStatement(e))return!0;return!1},t.prototype.jumps=function(e){var t,n,i,s;for(s=this.expressions,n=0,i=s.length;i>n;n++)if(t=s[n],t.jumps(e))return t},t.prototype.makeReturn=function(e){var t,n;for(n=this.expressions.length;n--;)if(t=this.expressions[n],!(t instanceof u)){this.expressions[n]=t.makeReturn(e),t instanceof M&&!t.expression&&this.expressions.splice(n,1);break}return this},t.prototype.compileToFragments=function(e,n){return null==e&&(e={}),e.scope?t.__super__.compileToFragments.call(this,e,n):this.compileRoot(e)},t.prototype.compileNode=function(e){var n,i,s,r,a,o,c,h,l;for(this.tab=e.indent,o=e.level===E,i=[],l=this.expressions,r=c=0,h=l.length;h>c;r=++c)a=l[r],a=a.unwrapAll(),a=a.unfoldSoak(e)||a,a instanceof t?i.push(a.compileNode(e)):o?(a.front=!0,s=a.compileToFragments(e),a.isStatement(e)||(s.unshift(this.makeCode(""+this.tab)),s.push(this.makeCode(";"))),i.push(s)):i.push(a.compileToFragments(e,C));return o?this.spaced?[].concat(this.makeCode("\n"),this.joinFragmentArrays(i,"\n\n"),this.makeCode("\n")):this.joinFragmentArrays(i,"\n"):(n=i.length?this.joinFragmentArrays(i,", "):[this.makeCode("void 0")],i.length>1&&e.level>=C?this.wrapInBraces(n):n)},t.prototype.compileRoot=function(e){var t,n,i,s,r,a;return e.indent=e.bare?"":H,e.scope=new V(null,this,null),e.level=E,this.spaced=!0,s=[],e.bare||(r=function(){var e,n,s,r;for(s=this.expressions,r=[],i=e=0,n=s.length;n>e&&(t=s[i],t.unwrap()instanceof u);i=++e)r.push(t);return r}.call(this),a=this.expressions.slice(r.length),this.expressions=r,r.length&&(s=this.compileNode(ot(e,{indent:""})),s.push(this.makeCode("\n"))),this.expressions=a),n=this.compileWithDeclarations(e),e.bare?n:[].concat(s,this.makeCode("(function() {\n"),n,this.makeCode("\n}).call(this);\n"))},t.prototype.compileWithDeclarations=function(e){var t,n,i,s,r,a,o,c,h,l,p,d,f,m;for(s=[],a=[],d=this.expressions,r=l=0,p=d.length;p>l&&(i=d[r],i=i.unwrap(),i instanceof u||i instanceof N);r=++l);return e=ot(e,{level:E}),r&&(o=this.expressions.splice(r,9e9),f=[this.spaced,!1],h=f[0],this.spaced=f[1],m=[this.compileNode(e),h],s=m[0],this.spaced=m[1],this.expressions=o),a=this.compileNode(e),c=e.scope,c.expressions===this&&(n=e.scope.hasDeclarations(),t=c.hasAssignments,(n||t)&&(r&&s.push(this.makeCode("\n")),s.push(this.makeCode(""+this.tab+"var ")),n&&s.push(this.makeCode(c.declaredVariables().join(", "))),t&&(n&&s.push(this.makeCode(",\n"+(this.tab+H))),s.push(this.makeCode(c.assignedVariables().join(",\n"+(this.tab+H))))),s.push(this.makeCode(";\n")))),s.concat(a)},t.wrap=function(e){return 1===e.length&&e[0]instanceof t?e[0]:new t(e)},t}(s),e.Literal=N=function(e){function t(e){this.value=e}return gt(t,e),t.prototype.makeReturn=function(){return this.isStatement()?this:t.__super__.makeReturn.apply(this,arguments)},t.prototype.isAssignable=function(){return m.test(this.value)},t.prototype.isStatement=function(){var e;return"break"===(e=this.value)||"continue"===e||"debugger"===e},t.prototype.isComplex=S,t.prototype.assigns=function(e){return e===this.value},t.prototype.jumps=function(e){return"break"!==this.value||(null!=e?e.loop:void 0)||(null!=e?e.block:void 0)?"continue"!==this.value||(null!=e?e.loop:void 0)?void 0:this:this},t.prototype.compileNode=function(e){var t,n,i;return n="this"===this.value?(null!=(i=e.scope.method)?i.bound:void 0)?e.scope.method.context:this.value:this.value.reserved?'"'+this.value+'"':this.value,t=this.isStatement()?""+this.tab+n+";":n,[this.makeCode(t)]},t.prototype.toString=function(){return' "'+this.value+'"'},t}(s),e.Undefined=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return gt(t,e),t.prototype.isAssignable=S,t.prototype.isComplex=S,t.prototype.compileNode=function(e){return[this.makeCode(e.level>=w?"(void 0)":"void 0")]},t}(s),e.Null=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return gt(t,e),t.prototype.isAssignable=S,t.prototype.isComplex=S,t.prototype.compileNode=function(){return[this.makeCode("null")]},t}(s),e.Bool=function(e){function t(e){this.val=e}return gt(t,e),t.prototype.isAssignable=S,t.prototype.isComplex=S,t.prototype.compileNode=function(){return[this.makeCode(this.val)]},t}(s),e.Return=M=function(e){function t(e){e&&!e.unwrap().isUndefined&&(this.expression=e)}return gt(t,e),t.prototype.children=["expression"],t.prototype.isStatement=J,t.prototype.makeReturn=G,t.prototype.jumps=G,t.prototype.compileToFragments=function(e,n){var i,s;return i=null!=(s=this.expression)?s.makeReturn():void 0,!i||i instanceof t?t.__super__.compileToFragments.call(this,e,n):i.compileToFragments(e,n)},t.prototype.compileNode=function(e){var t;return t=[],t.push(this.makeCode(this.tab+("return"+[this.expression?" ":void 0]))),this.expression&&(t=t.concat(this.expression.compileToFragments(e,L))),t.push(this.makeCode(";")),t},t}(s),e.Value=K=function(e){function t(e,n,i){return!n&&e instanceof t?e:(this.base=e,this.properties=n||[],i&&(this[i]=!0),this)}return gt(t,e),t.prototype.children=["base","properties"],t.prototype.add=function(e){return this.properties=this.properties.concat(e),this},t.prototype.hasProperties=function(){return!!this.properties.length},t.prototype.isArray=function(){return!this.properties.length&&this.base instanceof n},t.prototype.isComplex=function(){return this.hasProperties()||this.base.isComplex()},t.prototype.isAssignable=function(){return this.hasProperties()||this.base.isAssignable()},t.prototype.isSimpleNumber=function(){return this.base instanceof N&&j.test(this.base.value)},t.prototype.isString=function(){return this.base instanceof N&&b.test(this.base.value)},t.prototype.isAtomic=function(){var e,t,n,i;for(i=this.properties.concat(this.base),t=0,n=i.length;n>t;t++)if(e=i[t],e.soak||e instanceof a)return!1;return!0},t.prototype.isStatement=function(e){return!this.properties.length&&this.base.isStatement(e)},t.prototype.assigns=function(e){return!this.properties.length&&this.base.assigns(e)},t.prototype.jumps=function(e){return!this.properties.length&&this.base.jumps(e)},t.prototype.isObject=function(e){return this.properties.length?!1:this.base instanceof A&&(!e||this.base.generated)},t.prototype.isSplice=function(){return rt(this.properties)instanceof P},t.prototype.unwrap=function(){return this.properties.length?this:this.base},t.prototype.cacheReference=function(e){var n,s,r,a;return r=rt(this.properties),2>this.properties.length&&!this.base.isComplex()&&!(null!=r?r.isComplex():void 0)?[this,this]:(n=new t(this.base,this.properties.slice(0,-1)),n.isComplex()&&(s=new N(e.scope.freeVariable("base")),n=new t(new _(new i(s,n)))),r?(r.isComplex()&&(a=new N(e.scope.freeVariable("name")),r=new v(new i(a,r.index)),a=new v(a)),[n.add(r),new t(s||n.base,[a||r])]):[n,s])},t.prototype.compileNode=function(e){var t,n,i,s,r;for(this.base.front=this.front,i=this.properties,t=this.base.compileToFragments(e,i.length?w:null),(this.base instanceof _||i.length)&&j.test(st(t))&&t.push(this.makeCode(".")),s=0,r=i.length;r>s;s++)n=i[s],t.push.apply(t,n.compileToFragments(e));return t},t.prototype.unfoldSoak=function(e){var n,s=this;return null!=(n=this.unfoldedSoak)?n:this.unfoldedSoak=function(){var n,r,a,o,c,h,l,u,d,f;if(a=s.base.unfoldSoak(e))return(d=a.body.properties).push.apply(d,s.properties),a;for(f=s.properties,r=l=0,u=f.length;u>l;r=++l)if(o=f[r],o.soak)return o.soak=!1,n=new t(s.base,s.properties.slice(0,r)),h=new t(s.base,s.properties.slice(r)),n.isComplex()&&(c=new N(e.scope.freeVariable("ref")),n=new _(new i(c,n)),h.base=c),new k(new p(n),h,{soak:!0});return!1}()},t}(s),e.Comment=u=function(e){function t(e){this.comment=e}return gt(t,e),t.prototype.isStatement=J,t.prototype.makeReturn=G,t.prototype.compileNode=function(e,t){var n;return n="/*"+ct(this.comment,this.tab)+("\n"+this.tab+"*/\n"),(t||e.level)===E&&(n=e.indent+n),[this.makeCode(n)]},t}(s),e.Call=a=function(e){function n(e,t,n){this.args=null!=t?t:[],this.soak=n,this.isNew=!1,this.isSuper="super"===e,this.variable=this.isSuper?null:e}return gt(n,e),n.prototype.children=["variable","args"],n.prototype.newInstance=function(){var e,t;return e=(null!=(t=this.variable)?t.base:void 0)||this.variable,e instanceof n&&!e.isNew?e.newInstance():this.isNew=!0,this},n.prototype.superReference=function(e){var n,i;if(i=e.scope.namedMethod(),null!=i?i.klass:void 0)return n=[new t(new N("__super__"))],i["static"]&&n.push(new t(new N("constructor"))),n.push(new t(new N(i.name))),new K(new N(i.klass),n).compile(e);if(null!=i?i.ctor:void 0)return""+i.name+".__super__.constructor";throw SyntaxError("cannot call super outside of an instance method.")},n.prototype.superThis=function(e){var t;return t=e.scope.method,t&&!t.klass&&t.context||"this"},n.prototype.unfoldSoak=function(e){var t,i,s,r,a,o,c,h,l;if(this.soak){if(this.variable){if(i=ut(e,this,"variable"))return i;h=new K(this.variable).cacheReference(e),s=h[0],a=h[1]}else s=new N(this.superReference(e)),a=new K(s);return a=new n(a,this.args),a.isNew=this.isNew,s=new N("typeof "+s.compile(e)+' === "function"'),new k(s,new K(a),{soak:!0})}for(t=this,r=[];;)if(t.variable instanceof n)r.push(t),t=t.variable;else{if(!(t.variable instanceof K))break;if(r.push(t),!((t=t.variable.base)instanceof n))break}for(l=r.reverse(),o=0,c=l.length;c>o;o++)t=l[o],i&&(t.variable instanceof n?t.variable=i:t.variable.base=i),i=ut(e,t,"variable");return i},n.prototype.compileNode=function(e){var t,n,i,s,r,a,o,c,h,l;if(null!=(h=this.variable)&&(h.front=this.front),s=U.compileSplattedArray(e,this.args,!0),s.length)return this.compileSplat(e,s);for(i=[],l=this.args,n=o=0,c=l.length;c>o;n=++o)t=l[n],n&&i.push(this.makeCode(", ")),i.push.apply(i,t.compileToFragments(e,C));return r=[],this.isSuper?(a=this.superReference(e)+(".call("+this.superThis(e)),i.length&&(a+=", "),r.push(this.makeCode(a))):(this.isNew&&r.push(this.makeCode("new ")),r.push.apply(r,this.variable.compileToFragments(e,w)),r.push(this.makeCode("("))),r.push.apply(r,i),r.push(this.makeCode(")")),r},n.prototype.compileSplat=function(e,t){var n,i,s,r,a,o;return this.isSuper?[].concat(this.makeCode(""+this.superReference(e)+".apply("+this.superThis(e)+", "),t,this.makeCode(")")):this.isNew?(r=this.tab+H,[].concat(this.makeCode("(function(func, args, ctor) {\n"+r+"ctor.prototype = func.prototype;\n"+r+"var child = new ctor, result = func.apply(child, args);\n"+r+"return Object(result) === result ? result : child;\n"+this.tab+"})("),this.variable.compileToFragments(e,C),this.makeCode(", "),t,this.makeCode(", function(){})"))):(n=[],i=new K(this.variable),(a=i.properties.pop())&&i.isComplex()?(o=e.scope.freeVariable("ref"),n=n.concat(this.makeCode("("+o+" = "),i.compileToFragments(e,C),this.makeCode(")"),a.compileToFragments(e))):(s=i.compileToFragments(e,w),j.test(st(s))&&(s=this.wrapInBraces(s)),a?(o=st(s),s.push.apply(s,a.compileToFragments(e))):o="null",n=n.concat(s)),n=n.concat(this.makeCode(".apply("+o+", "),t,this.makeCode(")")))},n}(s),e.Extends=d=function(e){function t(e,t){this.child=e,this.parent=t}return gt(t,e),t.prototype.children=["child","parent"],t.prototype.compileToFragments=function(e){return new a(new K(new N(pt("extends"))),[this.child,this.parent]).compileToFragments(e)},t}(s),e.Access=t=function(e){function t(e,t){this.name=e,this.name.asKey=!0,this.soak="soak"===t}return gt(t,e),t.prototype.children=["name"],t.prototype.compileToFragments=function(e){var t;return t=this.name.compileToFragments(e),m.test(st(t))?t.unshift(this.makeCode(".")):(t.unshift(this.makeCode("[")),t.push(this.makeCode("]"))),t},t.prototype.isComplex=S,t}(s),e.Index=v=function(e){function t(e){this.index=e}return gt(t,e),t.prototype.children=["index"],t.prototype.compileToFragments=function(e){return[].concat(this.makeCode("["),this.index.compileToFragments(e,L),this.makeCode("]"))},t.prototype.isComplex=function(){return this.index.isComplex()},t}(s),e.Range=O=function(e){function t(e,t,n){this.from=e,this.to=t,this.exclusive="exclusive"===n,this.equals=this.exclusive?"":"="}return gt(t,e),t.prototype.children=["from","to"],t.prototype.compileVariables=function(e){var t,n,i,s,r;return e=ot(e,{top:!0}),n=this.cacheToCodeFragments(this.from.cache(e,C)),this.fromC=n[0],this.fromVar=n[1],i=this.cacheToCodeFragments(this.to.cache(e,C)),this.toC=i[0],this.toVar=i[1],(t=et(e,"step"))&&(s=this.cacheToCodeFragments(t.cache(e,C)),this.step=s[0],this.stepVar=s[1]),r=[this.fromVar.match(j),this.toVar.match(j)],this.fromNum=r[0],this.toNum=r[1],this.stepVar?this.stepNum=this.stepVar.match(j):void 0},t.prototype.compileNode=function(e){var t,n,i,s,r,a,o,c,h,l,u,p,d,f;return this.fromVar||this.compileVariables(e),e.index?(o=this.fromNum&&this.toNum,r=et(e,"index"),a=et(e,"name"),h=a&&a!==r,p=""+r+" = "+this.fromC,this.toC!==this.toVar&&(p+=", "+this.toC),this.step!==this.stepVar&&(p+=", "+this.step),d=[""+r+" <"+this.equals,""+r+" >"+this.equals],c=d[0],s=d[1],n=this.stepNum?+this.stepNum>0?""+c+" "+this.toVar:""+s+" "+this.toVar:o?(f=[+this.fromNum,+this.toNum],i=f[0],u=f[1],f,u>=i?""+c+" "+u:""+s+" "+u):(t=this.stepVar?""+this.stepVar+" > 0":""+this.fromVar+" <= "+this.toVar,""+t+" ? "+c+" "+this.toVar+" : "+s+" "+this.toVar),l=this.stepVar?""+r+" += "+this.stepVar:o?h?u>=i?"++"+r:"--"+r:u>=i?""+r+"++":""+r+"--":h?""+t+" ? ++"+r+" : --"+r:""+t+" ? "+r+"++ : "+r+"--",h&&(p=""+a+" = "+p),h&&(l=""+a+" = "+l),[this.makeCode(""+p+"; "+n+"; "+l)]):this.compileArray(e)},t.prototype.compileArray=function(e){var t,n,i,s,r,a,o,c,h,l,u,p,d;return this.fromNum&&this.toNum&&20>=Math.abs(this.fromNum-this.toNum)?(h=function(){d=[];for(var e=p=+this.fromNum,t=+this.toNum;t>=p?t>=e:e>=t;t>=p?e++:e--)d.push(e);return d}.apply(this),this.exclusive&&h.pop(),[this.makeCode("["+h.join(", ")+"]")]):(a=this.tab+H,r=e.scope.freeVariable("i"),l=e.scope.freeVariable("results"),c="\n"+a+l+" = [];",this.fromNum&&this.toNum?(e.index=r,n=st(this.compileNode(e))):(u=""+r+" = "+this.fromC+(this.toC!==this.toVar?", "+this.toC:""),i=""+this.fromVar+" <= "+this.toVar,n="var "+u+"; "+i+" ? "+r+" <"+this.equals+" "+this.toVar+" : "+r+" >"+this.equals+" "+this.toVar+"; "+i+" ? "+r+"++ : "+r+"--"),o="{ "+l+".push("+r+"); }\n"+a+"return "+l+";\n"+e.indent,s=function(e){return null!=e?e.contains(function(e){return e instanceof N&&"arguments"===e.value&&!e.asKey}):void 0},(s(this.from)||s(this.to))&&(t=", arguments"),[this.makeCode("(function() {"+c+"\n"+a+"for ("+n+")"+o+"}).apply(this"+(null!=t?t:"")+")")])},t}(s),e.Slice=P=function(e){function t(e){this.range=e,t.__super__.constructor.call(this)}return gt(t,e),t.prototype.children=["range"],t.prototype.compileNode=function(e){var t,n,i,s,r,a,o;return o=this.range,r=o.to,i=o.from,s=i&&i.compileToFragments(e,L)||[this.makeCode("0")],r&&(t=r.compileToFragments(e,L),n=st(t),(this.range.exclusive||-1!==+n)&&(a=", "+(this.range.exclusive?n:j.test(n)?""+(+n+1):(t=r.compileToFragments(e,w),"+"+st(t)+" + 1 || 9e9")))),[this.makeCode(".slice("+st(s)+(a||"")+")")]},t}(s),e.Obj=A=function(e){function t(e,t){this.generated=null!=t?t:!1,this.objects=this.properties=e||[]}return gt(t,e),t.prototype.children=["properties"],t.prototype.compileNode=function(e){var t,n,s,r,a,o,c,h,l,p,d,f,m;if(l=this.properties,!l.length)return[this.makeCode(this.front?"({})":"{}")];if(this.generated)for(p=0,f=l.length;f>p;p++)if(c=l[p],c instanceof K)throw Error("cannot have an implicit value in an implicit object");for(s=e.indent+=H,o=this.lastNonComment(this.properties),t=[],n=d=0,m=l.length;m>d;n=++d)h=l[n],a=n===l.length-1?"":h===o||h instanceof u?"\n":",\n",r=h instanceof u?"":s,h instanceof K&&h["this"]&&(h=new i(h.properties[0].name,h,"object")),h instanceof u||(h instanceof i||(h=new i(h,h,"object")),(h.variable.base||h.variable).asKey=!0),r&&t.push(this.makeCode(r)),t.push.apply(t,h.compileToFragments(e,E)),a&&t.push(this.makeCode(a));return t.unshift(this.makeCode("{"+(l.length&&"\n"))),t.push(this.makeCode(""+(l.length&&"\n"+this.tab)+"}")),this.front?this.wrapInBraces(t):t},t.prototype.assigns=function(e){var t,n,i,s;for(s=this.properties,n=0,i=s.length;i>n;n++)if(t=s[n],t.assigns(e))return!0;return!1},t}(s),e.Arr=n=function(e){function t(e){this.objects=e||[]}return gt(t,e),t.prototype.children=["objects"],t.prototype.compileNode=function(e){var t,n,i,s,r,a,o;if(!this.objects.length)return[this.makeCode("[]")];if(e.indent+=H,t=U.compileSplattedArray(e,this.objects),t.length)return t;for(t=[],n=function(){var t,n,i,s;for(i=this.objects,s=[],t=0,n=i.length;n>t;t++)r=i[t],s.push(r.compileToFragments(e,C));return s}.call(this),s=a=0,o=n.length;o>a;s=++a)i=n[s],s&&t.push(this.makeCode(", ")),t.push.apply(t,i);return st(t).indexOf("\n")>=0?(t.unshift(this.makeCode("[\n"+e.indent)),t.push(this.makeCode("\n"+this.tab+"]"))):(t.unshift(this.makeCode("[")),t.push(this.makeCode("]"))),t},t.prototype.assigns=function(e){var t,n,i,s;for(s=this.objects,n=0,i=s.length;i>n;n++)if(t=s[n],t.assigns(e))return!0;return!1},t}(s),e.Class=o=function(e){function n(e,t,n){this.variable=e,this.parent=t,this.body=null!=n?n:new r,this.boundFuncs=[],this.body.classBody=!0}return gt(n,e),n.prototype.children=["variable","parent","body"],n.prototype.determineName=function(){var e,n;if(!this.variable)return null;if(e=(n=rt(this.variable.properties))?n instanceof t&&n.name.value:this.variable.base.value,bt.call(B,e)>=0)throw SyntaxError("variable name may not be "+e);return e&&(e=m.test(e)&&e)},n.prototype.setContext=function(e){return this.body.traverseChildren(!1,function(t){return t.classBody?!1:t instanceof N&&"this"===t.value?t.value=e:t instanceof h&&(t.klass=e,t.bound)?t.context=e:void 0})},n.prototype.addBoundFunctions=function(e){var n,s,a,o,c,l,u,p,d,f;if(this.boundFuncs.length)for(e.scope.assign("_this","this"),d=this.boundFuncs,u=0,p=d.length;p>u;u++)f=d[u],c=f[0],a=f[1],o=new K(new N("this"),[new t(c)]),n=new r([new M(new N(""+this.ctor.name+".prototype."+c.value+".apply(_this, arguments)"))]),l=new h(a.params,n,"boundfunc"),s=new i(o,l),this.ctor.body.unshift(s)},n.prototype.addProperties=function(e,n,s){var r,a,o,c,l;return l=e.base.properties.slice(0),o=function(){var e;for(e=[];r=l.shift();){if(r instanceof i)if(a=r.variable.base,delete r.context,c=r.value,"constructor"===a.value){if(this.ctor)throw Error("cannot define more than one constructor in a class");if(c.bound)throw Error("cannot define a constructor as a bound function");c instanceof h?r=this.ctor=c:(this.externalCtor=s.scope.freeVariable("class"),r=new i(new N(this.externalCtor),c))}else r.variable["this"]?(c["static"]=!0,c.bound&&(c.context=n)):(r.variable=new K(new N(n),[new t(new N("prototype")),new t(a)]),c instanceof h&&c.bound&&(this.boundFuncs.push([a,c]),c.bound=!1));e.push(r)}return e}.call(this),Q(o)},n.prototype.walkBody=function(e,t){var i=this;return this.traverseChildren(!1,function(s){var a,o,c,h,l,u,p;if(a=!0,s instanceof n)return!1;if(s instanceof r){for(p=o=s.expressions,c=l=0,u=p.length;u>l;c=++l)h=p[c],h instanceof K&&h.isObject(!0)&&(a=!1,o[c]=i.addProperties(h,e,t));s.expressions=o=it(o)}return a&&!(s instanceof n)})},n.prototype.hoistDirectivePrologue=function(){var e,t,n;for(t=0,e=this.body.expressions;(n=e[t])&&n instanceof u||n instanceof K&&n.isString();)++t;return this.directives=e.splice(0,t)},n.prototype.ensureConstructor=function(e){return this.ctor||(this.ctor=new h,this.parent&&this.ctor.body.push(new N(""+e+".__super__.constructor.apply(this, arguments)")),this.externalCtor&&this.ctor.body.push(new N(""+this.externalCtor+".apply(this, arguments)")),this.ctor.body.makeReturn(),this.body.expressions.unshift(this.ctor)),this.ctor.ctor=this.ctor.name=e,this.ctor.klass=null,this.ctor.noReturn=!0},n.prototype.compileNode=function(e){var t,n,s,r,a,o,l;return n=this.determineName(),a=n||"_Class",a.reserved&&(a="_"+a),r=new N(a),this.hoistDirectivePrologue(),this.setContext(a),this.walkBody(a,e),this.ensureConstructor(a),this.body.spaced=!0,this.ctor instanceof h||this.body.expressions.unshift(this.ctor),this.body.expressions.push(r),(l=this.body.expressions).unshift.apply(l,this.directives),this.addBoundFunctions(e),t=c.wrap(this.body),this.parent&&(this.superClass=new N(e.scope.freeVariable("super",!1)),this.body.expressions.unshift(new d(r,this.superClass)),t.args.push(this.parent),o=t.variable.params||t.variable.base.params,o.push(new I(this.superClass))),s=new _(t,!0),this.variable&&(s=new i(this.variable,s)),s.compileToFragments(e)},n}(s),e.Assign=i=function(e){function n(e,t,n,i){var s,r,a;if(this.variable=e,this.value=t,this.context=n,this.param=i&&i.param,this.subpattern=i&&i.subpattern,a=r=this.variable.unwrapAll().value,s=bt.call(B,a)>=0,s&&"object"!==this.context)throw SyntaxError('variable name may not be "'+r+'"')}return gt(n,e),n.prototype.children=["variable","value"],n.prototype.isStatement=function(e){return(null!=e?e.level:void 0)===E&&null!=this.context&&bt.call(this.context,"?")>=0},n.prototype.assigns=function(e){return this["object"===this.context?"value":"variable"].assigns(e)},n.prototype.unfoldSoak=function(e){return ut(e,this,"variable")},n.prototype.compileNode=function(e){var t,n,i,s,r,a,o,c,l,u,p;if(i=this.variable instanceof K){if(this.variable.isArray()||this.variable.isObject())return this.compilePatternMatch(e);if(this.variable.isSplice())return this.compileSplice(e);if("||="===(c=this.context)||"&&="===c||"?="===c)return this.compileConditional(e)}if(n=this.variable.compileToFragments(e,C),r=st(n),!this.context){if(!(o=this.variable.unwrapAll()).isAssignable())throw SyntaxError('"'+this.variable.compile(e)+'" cannot be assigned.');("function"==typeof o.hasProperties?o.hasProperties():void 0)||(this.param?e.scope.add(r,"var"):e.scope.find(r))}return this.value instanceof h&&(s=x.exec(r))&&(s[1]&&(this.value.klass=s[1]),this.value.name=null!=(l=null!=(u=null!=(p=s[2])?p:s[3])?u:s[4])?l:s[5]),a=this.value.compileToFragments(e,C),"object"===this.context?n.concat(this.makeCode(": "),a):(t=n.concat(this.makeCode(" "+(this.context||"=")+" "),a),C>=e.level?t:this.wrapInBraces(t))},n.prototype.compilePatternMatch=function(e){var i,s,r,a,o,c,h,l,u,p,d,f,g,b,k,y,w,T,L,x,D,S,A,R,I,O,M,j;if(y=e.level===E,T=this.value,d=this.variable.base.objects,!(f=d.length))return r=T.compileToFragments(e),e.level>=F?this.wrapInBraces(r):r;if(h=this.variable.isObject(),y&&1===f&&!((p=d[0])instanceof U)){if(p instanceof n?(A=p,R=A.variable,c=R.base,p=A.value):c=h?p["this"]?p.properties[0].name:p:new N(0),i=m.test(c.unwrap().value||0),T=new K(T),T.properties.push(new(i?t:v)(c)),I=p.unwrap().value,bt.call($,I)>=0)throw new SyntaxError("assignment to a reserved word: "+p.compile(e)+" = "+T.compile(e));return new n(p,T,null,{param:this.param}).compileToFragments(e,E)}for(L=T.compileToFragments(e,C),x=st(L),s=[],k=!1,(!m.test(x)||this.variable.assigns(x))&&(s.push([this.makeCode(""+(g=e.scope.freeVariable("ref"))+" = ")].concat(kt.call(L))),L=[this.makeCode(g)],x=g),o=D=0,S=d.length;S>D;o=++D){if(p=d[o],c=o,h&&(p instanceof n?(O=p,M=O.variable,c=M.base,p=O.value):p.base instanceof _?(j=new K(p.unwrapAll()).cacheReference(e),p=j[0],c=j[1]):c=p["this"]?p.properties[0].name:p),!k&&p instanceof U)u=p.name.unwrap().value,p=p.unwrap(),w=""+f+" <= "+x+".length ? "+pt("slice")+".call("+x+", "+o,(b=f-o-1)?(l=e.scope.freeVariable("i"),w+=", "+l+" = "+x+".length - "+b+") : ("+l+" = "+o+", [])"):w+=") : []",w=new N(w),k=""+l+"++";
else{if(u=p.unwrap().value,p instanceof U)throw p=p.name.compileToFragments(e),new SyntaxError("multiple splats are disallowed in an assignment: "+p+"...");"number"==typeof c?(c=new N(k||c),i=!1):i=h&&m.test(c.unwrap().value||0),w=new K(new N(x),[new(i?t:v)(c)])}if(null!=u&&bt.call($,u)>=0)throw new SyntaxError("assignment to a reserved word: "+p.compile(e)+" = "+w.compile(e));s.push(new n(p,w,null,{param:this.param,subpattern:!0}).compileToFragments(e,C))}return y||this.subpattern||s.push(L),a=this.joinFragmentArrays(s,", "),C>e.level?a:this.wrapInBraces(a)},n.prototype.compileConditional=function(e){var t,i,s;if(s=this.variable.cacheReference(e),t=s[0],i=s[1],!t.properties.length&&t.base instanceof N&&"this"!==t.base.value&&!e.scope.check(t.base.value))throw Error('the variable "'+t.base.value+"\" can't be assigned with "+this.context+" because it has not been defined.");return bt.call(this.context,"?")>=0&&(e.isExistentialEquals=!0),new R(this.context.slice(0,-1),t,new n(i,this.value,"=")).compileToFragments(e)},n.prototype.compileSplice=function(e){var t,n,i,s,r,a,o,c,h,l,u,p;return l=this.variable.properties.pop().range,i=l.from,o=l.to,n=l.exclusive,a=this.variable.compile(e),i?(u=this.cacheToCodeFragments(i.cache(e,F)),s=u[0],r=u[1]):s=r="0",o?(null!=i?i.isSimpleNumber():void 0)&&o.isSimpleNumber()?(o=+o.compile(e)-+r,n||(o+=1)):(o=o.compile(e,w)+" - "+r,n||(o+=" + 1")):o="9e9",p=this.value.cache(e,C),c=p[0],h=p[1],t=[].concat(this.makeCode("[].splice.apply("+a+", ["+s+", "+o+"].concat("),c,this.makeCode(")), "),h),e.level>E?this.wrapInBraces(t):t},n}(s),e.Code=h=function(e){function t(e,t,n){this.params=e||[],this.body=t||new r,this.bound="boundfunc"===n,this.bound&&(this.context="_this")}return gt(t,e),t.prototype.children=["params","body"],t.prototype.isStatement=function(){return!!this.ctor},t.prototype.jumps=S,t.prototype.compileNode=function(e){var t,s,r,a,o,c,h,l,u,p,d,f,m,g,b,y,v,T,C,F,L,E,x,D,S,A,I,_,$,O,M,j,B,P,U,q;for(e.scope=new V(e.scope,this.body,this),e.scope.shared=et(e,"sharedScope"),e.indent+=H,delete e.bare,delete e.isExistentialEquals,p=[],r=[],O=this.paramNames(),y=0,F=O.length;F>y;y++)h=O[y],e.scope.check(h)||e.scope.parameter(h);for(M=this.params,v=0,L=M.length;L>v;v++)if(u=M[v],u.splat){for(j=this.params,T=0,E=j.length;E>T;T++)l=j[T].name,l["this"]&&(l=l.properties[0].name),l.value&&e.scope.add(l.value,"var",!0);f=new i(new K(new n(function(){var t,n,i,s;for(i=this.params,s=[],t=0,n=i.length;n>t;t++)l=i[t],s.push(l.asReference(e));return s}.call(this))),new K(new N("arguments")));break}for(B=this.params,C=0,x=B.length;x>C;C++)u=B[C],u.isComplex()?(g=d=u.asReference(e),u.value&&(g=new R("?",d,u.value)),r.push(new i(new K(u.name),g,"=",{param:!0}))):(d=u,u.value&&(c=new N(d.name.value+" == null"),g=new i(new K(u.name),u.value,"="),r.push(new k(c,g)))),f||p.push(d);for(b=this.body.isEmpty(),f&&r.unshift(f),r.length&&(P=this.body.expressions).unshift.apply(P,r),a=I=0,D=p.length;D>I;a=++I)l=p[a],p[a]=l.compileToFragments(e),e.scope.parameter(st(p[a]));for(m=[],U=this.paramNames(),_=0,S=U.length;S>_;_++){if(h=U[_],bt.call(m,h)>=0)throw SyntaxError("multiple parameters named '"+h+"'");m.push(h)}for(b||this.noReturn||this.body.makeReturn(),this.bound&&((null!=(q=e.scope.parent.method)?q.bound:void 0)?this.bound=this.context=e.scope.parent.method.context:this["static"]||e.scope.parent.assign("_this","this")),o=e.indent,s="function",this.ctor&&(s+=" "+this.name),s+="(",t=[this.makeCode(s)],a=$=0,A=p.length;A>$;a=++$)l=p[a],a&&t.push(this.makeCode(", ")),t.push.apply(t,l);return t.push(this.makeCode(") {")),this.body.isEmpty()||(t=t.concat(this.makeCode("\n"),this.body.compileWithDeclarations(e),this.makeCode("\n"+this.tab))),t.push(this.makeCode("}")),this.ctor?[this.makeCode(this.tab)].concat(kt.call(t)):this.front||e.level>=w?this.wrapInBraces(t):t},t.prototype.paramNames=function(){var e,t,n,i,s;for(e=[],s=this.params,n=0,i=s.length;i>n;n++)t=s[n],e.push.apply(e,t.names());return e},t.prototype.traverseChildren=function(e,n){return e?t.__super__.traverseChildren.call(this,e,n):void 0},t}(s),e.Param=I=function(e){function t(e,t,n){var i;if(this.name=e,this.value=t,this.splat=n,i=e=this.name.unwrapAll().value,bt.call(B,i)>=0)throw SyntaxError('parameter name "'+e+'" is not allowed')}return gt(t,e),t.prototype.children=["name","value"],t.prototype.compileToFragments=function(e){return this.name.compileToFragments(e,C)},t.prototype.asReference=function(e){var t;return this.reference?this.reference:(t=this.name,t["this"]?(t=t.properties[0].name,t.value.reserved&&(t=new N(e.scope.freeVariable(t.value)))):t.isComplex()&&(t=new N(e.scope.freeVariable("arg"))),t=new K(t),this.splat&&(t=new U(t)),this.reference=t)},t.prototype.isComplex=function(){return this.name.isComplex()},t.prototype.names=function(e){var t,n,s,r,a,o;if(null==e&&(e=this.name),t=function(e){var t;return t=e.properties[0].name.value,t.reserved?[]:[t]},e instanceof N)return[e.value];if(e instanceof K)return t(e);for(n=[],o=e.objects,r=0,a=o.length;a>r;r++)if(s=o[r],s instanceof i)n.push.apply(n,this.names(s.value.unwrap()));else if(s instanceof U)n.push(s.name.unwrap().value);else{if(!(s instanceof K))throw SyntaxError("illegal parameter "+s.compile());s.isArray()||s.isObject()?n.push.apply(n,this.names(s.base)):s["this"]?n.push.apply(n,t(s)):n.push(s.base.value)}return n},t}(s),e.Splat=U=function(e){function t(e){this.name=e.compile?e:new N(e)}return gt(t,e),t.prototype.children=["name"],t.prototype.isAssignable=J,t.prototype.assigns=function(e){return this.name.assigns(e)},t.prototype.compileToFragments=function(e){return this.name.compileToFragments(e)},t.prototype.unwrap=function(){return this.name},t.compileSplattedArray=function(e,n,i){var s,r,a,o,c,h,l,u,p,d;for(l=-1;(u=n[++l])&&!(u instanceof t););if(l>=n.length)return[];if(1===n.length)return u=n[0],c=u.compileToFragments(e,C),i?c:[].concat(u.makeCode(""+pt("slice")+".call("),c,u.makeCode(")"));for(s=n.slice(l),h=p=0,d=s.length;d>p;h=++p)u=s[h],a=u.compileToFragments(e,C),s[h]=u instanceof t?[].concat(u.makeCode(""+pt("slice")+".call("),a,u.makeCode(")")):[].concat(u.makeCode("["),a,u.makeCode("]"));return 0===l?(u=n[0],o=u.joinFragmentArrays(s.slice(1),", "),s[0].concat(u.makeCode(".concat("),o,u.makeCode(")"))):(r=function(){var t,i,s,r;for(s=n.slice(0,l),r=[],t=0,i=s.length;i>t;t++)u=s[t],r.push(u.compileToFragments(e,C));return r}(),r=n[0].joinFragmentArrays(r,", "),o=n[l].joinFragmentArrays(s,", "),[].concat(n[0].makeCode("["),r,n[l].makeCode("].concat("),o,rt(n).makeCode(")")))},t}(s),e.While=z=function(e){function t(e,t){this.condition=(null!=t?t.invert:void 0)?e.invert():e,this.guard=null!=t?t.guard:void 0}return gt(t,e),t.prototype.children=["condition","guard","body"],t.prototype.isStatement=J,t.prototype.makeReturn=function(e){return e?t.__super__.makeReturn.apply(this,arguments):(this.returns=!this.jumps({loop:!0}),this)},t.prototype.addBody=function(e){return this.body=e,this},t.prototype.jumps=function(){var e,t,n,i;if(e=this.body.expressions,!e.length)return!1;for(n=0,i=e.length;i>n;n++)if(t=e[n],t.jumps({loop:!0}))return t;return!1},t.prototype.compileNode=function(e){var t,n,i,s;return e.indent+=H,s="",n=this.body,n.isEmpty()?n="":(this.returns&&(n.makeReturn(i=e.scope.freeVariable("results")),s=""+this.tab+i+" = [];\n"),this.guard&&(n.expressions.length>1?n.expressions.unshift(new k(new _(this.guard).invert(),new N("continue"))):this.guard&&(n=r.wrap([new k(this.guard,n)]))),n=[].concat(this.makeCode("\n"),n.compileToFragments(e,E),this.makeCode("\n"+this.tab))),t=[].concat(this.makeCode(s+this.tab+"while ("),this.condition.compileToFragments(e,L),this.makeCode(") {"),n,this.makeCode("}")),this.returns&&t.push(this.makeCode("\n"+this.tab+"return "+i+";")),t},t}(s),e.Op=R=function(e){function t(e,t,i,s){if("in"===e)return new y(t,i);if("do"===e)return this.generateDo(t);if("new"===e){if(t instanceof a&&!t["do"]&&!t.isNew)return t.newInstance();(t instanceof h&&t.bound||t["do"])&&(t=new _(t))}return this.operator=n[e]||e,this.first=t,this.second=i,this.flip=!!s,this}var n,s;return gt(t,e),n={"==":"===","!=":"!==",of:"in"},s={"!==":"===","===":"!=="},t.prototype.children=["first","second"],t.prototype.isSimpleNumber=S,t.prototype.isUnary=function(){return!this.second},t.prototype.isComplex=function(){var e;return!(this.isUnary()&&("+"===(e=this.operator)||"-"===e))||this.first.isComplex()},t.prototype.isChainable=function(){var e;return"<"===(e=this.operator)||">"===e||">="===e||"<="===e||"==="===e||"!=="===e},t.prototype.invert=function(){var e,n,i,r,a;if(this.isChainable()&&this.first.isChainable()){for(e=!0,n=this;n&&n.operator;)e&&(e=n.operator in s),n=n.first;if(!e)return new _(this).invert();for(n=this;n&&n.operator;)n.invert=!n.invert,n.operator=s[n.operator],n=n.first;return this}return(r=s[this.operator])?(this.operator=r,this.first.unwrap()instanceof t&&this.first.invert(),this):this.second?new _(this).invert():"!"===this.operator&&(i=this.first.unwrap())instanceof t&&("!"===(a=i.operator)||"in"===a||"instanceof"===a)?i:new t("!",this)},t.prototype.unfoldSoak=function(e){var t;return("++"===(t=this.operator)||"--"===t||"delete"===t)&&ut(e,this,"first")},t.prototype.generateDo=function(e){var t,n,s,r,o,c,l,u;for(r=[],n=e instanceof i&&(o=e.value.unwrap())instanceof h?o:e,u=n.params||[],c=0,l=u.length;l>c;c++)s=u[c],s.value?(r.push(s.value),delete s.value):r.push(s);return t=new a(e,r),t["do"]=!0,t},t.prototype.compileNode=function(e){var t,n,i,s;if(n=this.isChainable()&&this.first.isChainable(),n||(this.first.front=this.front),"delete"===this.operator&&e.scope.check(this.first.unwrapAll().value))throw SyntaxError("delete operand may not be argument or var");if(("--"===(i=this.operator)||"++"===i)&&(s=this.first.unwrapAll().value,bt.call(B,s)>=0))throw SyntaxError("prefix increment/decrement may not have eval or arguments operand");return this.isUnary()?this.compileUnary(e):n?this.compileChain(e):"?"===this.operator?this.compileExistence(e):(t=[].concat(this.first.compileToFragments(e,F),this.makeCode(" "+this.operator+" "),this.second.compileToFragments(e,F)),F>=e.level?t:this.wrapInBraces(t))},t.prototype.compileChain=function(e){var t,n,i,s;return s=this.first.second.cache(e),this.first.second=s[0],i=s[1],n=this.first.compileToFragments(e,F),t=n.concat(this.makeCode(" "+(this.invert?"&&":"||")+" "),i.compileToFragments(e),this.makeCode(" "+this.operator+" "),this.second.compileToFragments(e,F)),this.wrapInBraces(t)},t.prototype.compileExistence=function(e){var t,n;return this.first.isComplex()?(n=new N(e.scope.freeVariable("ref")),t=new _(new i(n,this.first))):(t=this.first,n=t),new k(new p(t),n,{type:"if"}).addElse(this.second).compileToFragments(e)},t.prototype.compileUnary=function(e){var n,i,s;return i=[],n=this.operator,i.push([this.makeCode(n)]),"!"===n&&this.first instanceof p?(this.first.negated=!this.first.negated,this.first.compileToFragments(e)):e.level>=w?new _(this).compileToFragments(e):(s="+"===n||"-"===n,("new"===n||"typeof"===n||"delete"===n||s&&this.first instanceof t&&this.first.operator===n)&&i.push([this.makeCode(" ")]),(s&&this.first instanceof t||"new"===n&&this.first.isStatement(e))&&(this.first=new _(this.first)),i.push(this.first.compileToFragments(e,F)),this.flip&&i.reverse(),this.joinFragmentArrays(i,""))},t.prototype.toString=function(e){return t.__super__.toString.call(this,e,this.constructor.name+" "+this.operator)},t}(s),e.In=y=function(e){function t(e,t){this.object=e,this.array=t}return gt(t,e),t.prototype.children=["object","array"],t.prototype.invert=D,t.prototype.compileNode=function(e){var t,n,i,s,r;if(this.array instanceof K&&this.array.isArray()){for(r=this.array.base.objects,i=0,s=r.length;s>i;i++)if(n=r[i],n instanceof U){t=!0;break}if(!t)return this.compileOrTest(e)}return this.compileLoopTest(e)},t.prototype.compileOrTest=function(e){var t,n,i,s,r,a,o,c,h,l,u,p;if(0===this.array.base.objects.length)return[this.makeCode(""+!!this.negated)];for(l=this.object.cache(e,F),a=l[0],r=l[1],u=this.negated?[" !== "," && "]:[" === "," || "],t=u[0],n=u[1],o=[],p=this.array.base.objects,i=c=0,h=p.length;h>c;i=++c)s=p[i],i&&o.push(this.makeCode(n)),o=o.concat(i?r:a,this.makeCode(t),s.compileToFragments(e,w));return F>e.level?o:this.wrapInBraces(o)},t.prototype.compileLoopTest=function(e){var t,n,i,s;return s=this.object.cache(e,C),i=s[0],n=s[1],t=[].concat(this.makeCode(pt("indexOf")+".call("),this.array.compileToFragments(e,C),this.makeCode(", "),n,this.makeCode(") "+(this.negated?"< 0":">= 0"))),st(i)===st(n)?t:(t=i.concat(this.makeCode(", "),t),C>e.level?t:this.wrapInBraces(t))},t.prototype.toString=function(e){return t.__super__.toString.call(this,e,this.constructor.name+(this.negated?"!":""))},t}(s),e.Try=X=function(e){function t(e,t,n,i){this.attempt=e,this.error=t,this.recovery=n,this.ensure=i}return gt(t,e),t.prototype.children=["attempt","recovery","ensure"],t.prototype.isStatement=J,t.prototype.jumps=function(e){var t;return this.attempt.jumps(e)||(null!=(t=this.recovery)?t.jumps(e):void 0)},t.prototype.makeReturn=function(e){return this.attempt&&(this.attempt=this.attempt.makeReturn(e)),this.recovery&&(this.recovery=this.recovery.makeReturn(e)),this},t.prototype.compileNode=function(e){var t,n,s,r;return e.indent+=H,r=this.attempt.compileToFragments(e,E),t=function(){var t,n;if(this.recovery){if(("function"==typeof(t=this.error).isObject?t.isObject():void 0)&&(s=new N("_error"),this.recovery.unshift(new i(this.error,s)),this.error=s),n=this.error.value,bt.call(B,n)>=0)throw SyntaxError('catch variable may not be "'+this.error.value+'"');return e.scope.check(this.error.value)||e.scope.add(this.error.value,"param"),[].concat(this.makeCode(" catch ("),this.error.compileToFragments(e),this.makeCode(") {\n"),this.recovery.compileToFragments(e,E),this.makeCode("\n"+this.tab+"}"))}return this.ensure||this.recovery?[]:[this.makeCode(" catch (_error) {}")]}.call(this),n=this.ensure?[].concat(this.makeCode(" finally {\n"),this.ensure.compileToFragments(e,E),this.makeCode("\n"+this.tab+"}")):[],[].concat(this.makeCode(""+this.tab+"try {\n"),r,this.makeCode("\n"+this.tab+"}"),t,n)},t}(s),e.Throw=W=function(e){function t(e){this.expression=e}return gt(t,e),t.prototype.children=["expression"],t.prototype.isStatement=J,t.prototype.jumps=S,t.prototype.makeReturn=G,t.prototype.compileNode=function(e){return[].concat(this.makeCode(this.tab+"throw "),this.expression.compileToFragments(e),this.makeCode(";"))},t}(s),e.Existence=p=function(e){function t(e){this.expression=e}return gt(t,e),t.prototype.children=["expression"],t.prototype.invert=D,t.prototype.compileNode=function(e){var t,n,i,s;return this.expression.front=this.front,i=this.expression.compile(e,F),m.test(i)&&!e.scope.check(i)?(s=this.negated?["===","||"]:["!==","&&"],t=s[0],n=s[1],i="typeof "+i+" "+t+' "undefined" '+n+" "+i+" "+t+" null"):i=""+i+" "+(this.negated?"==":"!=")+" null",[this.makeCode(T>=e.level?i:"("+i+")")]},t}(s),e.Parens=_=function(e){function t(e){this.body=e}return gt(t,e),t.prototype.children=["body"],t.prototype.unwrap=function(){return this.body},t.prototype.isComplex=function(){return this.body.isComplex()},t.prototype.compileNode=function(e){var t,n,i;return n=this.body.unwrap(),n instanceof K&&n.isAtomic()?(n.front=this.front,n.compileToFragments(e)):(i=n.compileToFragments(e,L),t=F>e.level&&(n instanceof R||n instanceof a||n instanceof f&&n.returns),t?i:this.wrapInBraces(i))},t}(s),e.For=f=function(e){function t(e,t){var n;if(this.source=t.source,this.guard=t.guard,this.step=t.step,this.name=t.name,this.index=t.index,this.body=r.wrap([e]),this.own=!!t.own,this.object=!!t.object,this.object&&(n=[this.index,this.name],this.name=n[0],this.index=n[1]),this.index instanceof K)throw SyntaxError("index cannot be a pattern matching expression");if(this.range=this.source instanceof K&&this.source.base instanceof O&&!this.source.properties.length,this.pattern=this.name instanceof K,this.range&&this.index)throw SyntaxError("indexes do not apply to range loops");if(this.range&&this.pattern)throw SyntaxError("cannot pattern match over range loops");this.returns=!1}return gt(t,e),t.prototype.children=["body","source","guard","step"],t.prototype.compileNode=function(e){var t,n,s,a,o,c,h,l,u,p,d,f,g,b,y,v,w,T,F,L,x,D,S,A,R,I,$,O,B,V,P,U,q,G;return t=r.wrap([this.body]),T=null!=(q=rt(t.expressions))?q.jumps():void 0,T&&T instanceof M&&(this.returns=!1),$=this.range?this.source.base:this.source,I=e.scope,L=this.name&&this.name.compile(e,C),b=this.index&&this.index.compile(e,C),L&&!this.pattern&&I.find(L),b&&I.find(b),this.returns&&(R=I.freeVariable("results")),y=this.object&&b||I.freeVariable("i"),v=this.range&&L||b||y,w=v!==y?""+v+" = ":"",this.step&&!this.range&&(G=this.cacheToCodeFragments(this.step.cache(e,C)),O=G[0],V=G[1],B=V.match(j)),this.pattern&&(L=y),U="",d="",h="",f=this.tab+H,this.range?p=$.compileToFragments(ot(e,{index:y,name:L,step:this.step})):(P=this.source.compile(e,C),!L&&!this.own||m.test(P)||(h+=""+this.tab+(D=I.freeVariable("ref"))+" = "+P+";\n",P=D),L&&!this.pattern&&(x=""+L+" = "+P+"["+v+"]"),this.object||(O!==V&&(h+=""+this.tab+O+";\n"),this.step&&B&&(u=0>+B)||(F=I.freeVariable("len")),o=""+w+y+" = 0, "+F+" = "+P+".length",c=""+w+y+" = "+P+".length - 1",s=""+y+" < "+F,a=""+y+" >= 0",this.step?(B?u&&(s=a,o=c):(s=""+V+" > 0 ? "+s+" : "+a,o="("+V+" > 0 ? ("+o+") : "+c+")"),g=""+y+" += "+V):g=""+(v!==y?"++"+y:""+y+"++"),p=[this.makeCode(""+o+"; "+s+"; "+w+g)])),this.returns&&(S=""+this.tab+R+" = [];\n",A="\n"+this.tab+"return "+R+";",t.makeReturn(R)),this.guard&&(t.expressions.length>1?t.expressions.unshift(new k(new _(this.guard).invert(),new N("continue"))):this.guard&&(t=r.wrap([new k(this.guard,t)]))),this.pattern&&t.expressions.unshift(new i(this.name,new N(""+P+"["+v+"]"))),l=[].concat(this.makeCode(h),this.pluckDirectCall(e,t)),x&&(U="\n"+f+x+";"),this.object&&(p=[this.makeCode(""+v+" in "+P)],this.own&&(d="\n"+f+"if (!"+pt("hasProp")+".call("+P+", "+v+")) continue;")),n=t.compileToFragments(ot(e,{indent:f}),E),n&&n.length>0&&(n=[].concat(this.makeCode("\n"),n,this.makeCode("\n"))),[].concat(l,this.makeCode(""+(S||"")+this.tab+"for ("),p,this.makeCode(") {"+d+U),n,this.makeCode(""+this.tab+"}"+(A||"")))},t.prototype.pluckDirectCall=function(e,t){var n,s,r,o,c,l,u,p,d,f,m,g,b,k,y;for(s=[],f=t.expressions,c=p=0,d=f.length;d>p;c=++p)r=f[c],r=r.unwrapAll(),r instanceof a&&(u=r.variable.unwrapAll(),(u instanceof h||u instanceof K&&(null!=(m=u.base)?m.unwrapAll():void 0)instanceof h&&1===u.properties.length&&("call"===(g=null!=(b=u.properties[0].name)?b.value:void 0)||"apply"===g))&&(o=(null!=(k=u.base)?k.unwrapAll():void 0)||u,l=new N(e.scope.freeVariable("fn")),n=new K(l),u.base&&(y=[n,u],u.base=y[0],n=y[1]),t.expressions[c]=new a(n,r.args),s=s.concat(this.makeCode(this.tab),new i(l,o).compileToFragments(e,E),this.makeCode(";\n"))));return s},t}(z),e.Switch=q=function(e){function t(e,t,n){this.subject=e,this.cases=t,this.otherwise=n}return gt(t,e),t.prototype.children=["subject","cases","otherwise"],t.prototype.isStatement=J,t.prototype.jumps=function(e){var t,n,i,s,r,a,o;for(null==e&&(e={block:!0}),r=this.cases,i=0,s=r.length;s>i;i++)if(a=r[i],n=a[0],t=a[1],t.jumps(e))return t;return null!=(o=this.otherwise)?o.jumps(e):void 0},t.prototype.makeReturn=function(e){var t,n,i,s,a;for(s=this.cases,n=0,i=s.length;i>n;n++)t=s[n],t[1].makeReturn(e);return e&&(this.otherwise||(this.otherwise=new r([new N("void 0")]))),null!=(a=this.otherwise)&&a.makeReturn(e),this},t.prototype.compileNode=function(e){var t,n,i,s,r,a,o,c,h,l,u,p,d,f,m,g;for(c=e.indent+H,h=e.indent=c+H,a=[].concat(this.makeCode(this.tab+"switch ("),this.subject?this.subject.compileToFragments(e,L):this.makeCode("false"),this.makeCode(") {\n")),f=this.cases,o=l=0,p=f.length;p>l;o=++l){for(m=f[o],s=m[0],t=m[1],g=it([s]),u=0,d=g.length;d>u;u++)i=g[u],this.subject||(i=i.invert()),a=a.concat(this.makeCode(c+"case "),i.compileToFragments(e,L),this.makeCode(":\n"));if((n=t.compileToFragments(e,E)).length>0&&(a=a.concat(n,this.makeCode("\n"))),o===this.cases.length-1&&!this.otherwise)break;r=this.lastNonComment(t.expressions),r instanceof M||r instanceof N&&r.jumps()&&"debugger"!==r.value||a.push(i.makeCode(h+"break;\n"))}return this.otherwise&&this.otherwise.expressions.length&&a.push.apply(a,[this.makeCode(c+"default:\n")].concat(kt.call(this.otherwise.compileToFragments(e,E)),[this.makeCode("\n")])),a.push(this.makeCode(this.tab+"}")),a},t}(s),e.If=k=function(e){function t(e,t,n){this.body=t,null==n&&(n={}),this.condition="unless"===n.type?e.invert():e,this.elseBody=null,this.isChain=!1,this.soak=n.soak}return gt(t,e),t.prototype.children=["condition","body","elseBody"],t.prototype.bodyNode=function(){var e;return null!=(e=this.body)?e.unwrap():void 0},t.prototype.elseBodyNode=function(){var e;return null!=(e=this.elseBody)?e.unwrap():void 0},t.prototype.addElse=function(e){return this.isChain?this.elseBodyNode().addElse(e):(this.isChain=e instanceof t,this.elseBody=this.ensureBlock(e)),this},t.prototype.isStatement=function(e){var t;return(null!=e?e.level:void 0)===E||this.bodyNode().isStatement(e)||(null!=(t=this.elseBodyNode())?t.isStatement(e):void 0)},t.prototype.jumps=function(e){var t;return this.body.jumps(e)||(null!=(t=this.elseBody)?t.jumps(e):void 0)},t.prototype.compileNode=function(e){return this.isStatement(e)?this.compileStatement(e):this.compileExpression(e)},t.prototype.makeReturn=function(e){return e&&(this.elseBody||(this.elseBody=new r([new N("void 0")]))),this.body&&(this.body=new r([this.body.makeReturn(e)])),this.elseBody&&(this.elseBody=new r([this.elseBody.makeReturn(e)])),this},t.prototype.ensureBlock=function(e){return e instanceof r?e:new r([e])},t.prototype.compileStatement=function(e){var n,i,s,r,a,o,c;return s=et(e,"chainChild"),(a=et(e,"isExistentialEquals"))?new t(this.condition.invert(),this.elseBodyNode(),{type:"if"}).compileToFragments(e):(c=e.indent+H,r=this.condition.compileToFragments(e,L),i=this.ensureBlock(this.body).compileToFragments(ot(e,{indent:c})),o=[].concat(this.makeCode("if ("),r,this.makeCode(") {\n"),i,this.makeCode("\n"+this.tab+"}")),s||o.unshift(this.makeCode(this.tab)),this.elseBody?(n=o.concat(this.makeCode(" else ")),this.isChain?(e.chainChild=!0,n=n.concat(this.elseBody.unwrap().compileToFragments(e,E))):n=n.concat(this.makeCode("{\n"),this.elseBody.compileToFragments(ot(e,{indent:c}),E),this.makeCode("\n"+this.tab+"}")),n):o)},t.prototype.compileExpression=function(e){var t,n,i,s;return i=this.condition.compileToFragments(e,T),n=this.bodyNode().compileToFragments(e,C),t=this.elseBodyNode()?this.elseBodyNode().compileToFragments(e,C):[this.makeCode("void 0")],s=i.concat(this.makeCode(" ? "),n,this.makeCode(" : "),t),e.level>=T?this.wrapInBraces(s):s},t.prototype.unfoldSoak=function(){return this.soak&&this},t}(s),c={wrap:function(e,n,i){var s,o,c,l,u;if(e.jumps())return e;if(c=new h([],r.wrap([e])),s=[],(l=e.contains(this.literalArgs))||e.contains(this.literalThis)){if(l&&e.classBody)throw SyntaxError("Class bodies shouldn't reference arguments");u=new N(l?"apply":"call"),s=[new N("this")],l&&s.push(new N("arguments")),c=new K(c,[new t(u)])}return c.noReturn=i,o=new a(c,s),n?r.wrap([o]):o},literalArgs:function(e){return e instanceof N&&"arguments"===e.value&&!e.asKey},literalThis:function(e){return e instanceof N&&"this"===e.value&&!e.asKey||e instanceof h&&e.bound||e instanceof a&&e.isSuper}},ut=function(e,t,n){var i;if(i=t[n].unfoldSoak(e))return t[n]=i.body,i.body=new K(t),i},Y={"extends":function(){return"function(child, parent) { for (var key in parent) { if ("+pt("hasProp")+".call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; }"},indexOf:function(){return"[].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; }"},hasProp:function(){return"{}.hasOwnProperty"},slice:function(){return"[].slice"}},E=1,L=2,C=3,T=4,F=5,w=6,H="  ",g="[$A-Za-z_\\x7f-\\uffff][$\\w\\x7f-\\uffff]*",m=RegExp("^"+g+"$"),j=/^[+-]?\d+$/,x=RegExp("^(?:("+g+")\\.prototype(?:\\.("+g+")|\\[(\"(?:[^\\\\\"\\r\\n]|\\\\.)*\"|'(?:[^\\\\'\\r\\n]|\\\\.)*')\\]|\\[(0x[\\da-fA-F]+|\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\]))|("+g+")$"),b=/^['"]/,pt=function(e){var t;return t="__"+e,V.root.assign(t,Y[e]()),t},ct=function(e,t){return e=e.replace(/\n/g,"$&"+t),e.replace(/\s+$/,"")}}).call(this)},require["./sourcemap"]=new function(){var e=this;(function(){var t,n,i,s,r,a,o,c;n=function(){function e(e){this.generatedLine=e,this.columnMap={},this.columnMappings=[]}return e.prototype.addMapping=function(e,t,n){var i,s;return s=t[0],i=t[1],null==n&&(n={}),this.columnMap[e]&&n.noReplace?void 0:(this.columnMap[e]={generatedLine:this.generatedLine,generatedColumn:e,sourceLine:s,sourceColumn:i},this.columnMappings.push(this.columnMap[e]),this.columnMappings.sort(function(e,t){return e.generatedColumn-t.generatedColumn}))},e.prototype.getSourcePosition=function(e){var t,n,i,s,r,a;for(t=null,i=null,a=this.columnMappings,s=0,r=a.length;r>s&&(n=a[s],!(n.generatedColumn>e));s++)i=n;return i?t=[i.sourceLine,i.sourceColumn]:void 0},e}(),e.SourceMap=function(){function e(){this.generatedLines=[]}return e.prototype.addMapping=function(e,t,i){var s,r,a;return null==i&&(i={}),r=t[0],s=t[1],a=this.generatedLines[r],a||(a=this.generatedLines[r]=new n(r)),a.addMapping(s,e,i)},e.prototype.getSourcePosition=function(e){var t,n,i,s;return i=e[0],n=e[1],t=null,s=this.generatedLines[i],s&&(t=s.getSourcePosition(n)),t},e.prototype.forEachMapping=function(e){var t,n,i,s,r,a,o;for(a=this.generatedLines,o=[],n=s=0,r=a.length;r>s;n=++s)i=a[n],i?o.push(function(){var n,s,r,a;for(r=i.columnMappings,a=[],n=0,s=r.length;s>n;n++)t=r[n],a.push(e(t));return a}()):o.push(void 0);return o},e}(),e.generateV3SourceMap=function(t,n,i){var s,r,a,o,c,h,l;return null==n&&(n=null),null==i&&(i=null),l=0,r=0,o=0,a=0,h=!1,c="",t.forEachMapping(function(t){for(;t.generatedLine>l;)r=0,h=!1,c+=";",l++;return h&&(c+=",",h=!1),c+=e.vlqEncodeValue(t.generatedColumn-r),r=t.generatedColumn,c+=e.vlqEncodeValue(0),c+=e.vlqEncodeValue(t.sourceLine-o),o=t.sourceLine,c+=e.vlqEncodeValue(t.sourceColumn-a),a=t.sourceColumn,h=!0}),s={version:3,file:i,sourceRoot:"",sources:n?[n]:[],names:[],mappings:c},JSON.stringify(s,null,2)},e.loadV3SourceMap=function(){return todo()},t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=t.length-1,c=function(e){if(e>i)throw Error("Cannot encode value "+e+" > "+i);if(0>e)throw Error("Cannot encode value "+e+" < 0");return t[e]},o=function(e){var n;if(n=t.indexOf(e),-1===n)throw Error("Invalid Base 64 character: "+e);return n},r=5,s=1<<r,a=s-1,e.vlqEncodeValue=function(e){var t,n,i,o;for(i=0>e?1:0,o=(Math.abs(e)<<1)+i,t="";o||!t;)n=o&a,o>>=r,o&&(n|=s),t+=c(n);return t},e.vlqDecodeValue=function(e,t){var n,i,c,h,l,u,p,d;for(null==t&&(t=0),u=t,c=!1,d=0,i=0;!c;)l=o(e[u]),u+=1,h=l&a,d+=h<<i,l&s||(c=!0),i+=r;return n=u-t,p=1&d,d>>=1,p&&(d=-d),[d,n]}}).call(this)},require["./coffee-script"]=new function(){var e=this;(function(){var t,n,i,s,r,a,o,c,h,l,u,p,d,f,m={}.hasOwnProperty;if(s=require("fs"),h=require("path"),t=require("./lexer").Lexer,c=require("./parser").parser,r=require("./helpers"),u=require("vm"),l=require("./sourcemap"),o=function(e,t){var i,a;return i=s.readFileSync(t,"utf8"),a=65279===i.charCodeAt(0)?i.substring(1):i,e._compile(n(a,{filename:t,literate:r.isLiterate(t)}),t)},require.extensions)for(f=[".coffee",".litcoffee",".md",".coffee.md"],p=0,d=f.length;d>p;p++)i=f[p],require.extensions[i]=o;e.VERSION="1.6.1",e.helpers=r,e.compile=n=function(t,n){var i,s,o,h,u,p,d,f,m,g,b,k,y,v;null==n&&(n={}),g=e.helpers.merge;try{for(n.sourceMap&&(s=r.baseFileName(n.filename),m=r.baseFileName(n.filename,!0)+".js",k=new l.SourceMap),p=c.parse(a.tokenize(t,n)).compileToFragments(n),h=0,n.header&&(h+=1),n.sourceMap&&(h+=1),o=0,f="",y=0,v=p.length;v>y;y++)u=p[y],k&&(u.locationData&&k.addMapping([u.locationData.first_line,u.locationData.first_column],[h,o],{noReplace:!0}),b=r.count(u.code,"\n"),h+=b,o=u.code.length-(b?u.code.lastIndexOf("\n"):0)),f+=u.code}catch(w){throw n.filename&&(w.message="In "+n.filename+", "+w.message),w}return n.header&&(d="Generated by CoffeeScript "+this.VERSION,f="// "+d+"\n"+f),n.sourceMap?(i={js:f},k&&(i.sourceMap=k,i.v3SourceMap=l.generateV3SourceMap(k,s,m)),i):f},e.tokens=function(e,t){return a.tokenize(e,t)},e.nodes=function(e,t){return"string"==typeof e?c.parse(a.tokenize(e,t)):c.parse(e)},e.run=function(e,t){var i;return null==t&&(t={}),i=require.main,i.filename=process.argv[1]=t.filename?s.realpathSync(t.filename):".",i.moduleCache&&(i.moduleCache={}),i.paths=require("module")._nodeModulePaths(h.dirname(s.realpathSync(t.filename))),!r.isCoffee(i.filename)||require.extensions?i._compile(n(e,t),i.filename):i._compile(e,i.filename)},e.eval=function(e,t){var i,s,r,a,o,c,l,p,d,f,g,b,k,y;if(null==t&&(t={}),e=e.trim()){if(s=u.Script){if(null!=t.sandbox){if(t.sandbox instanceof s.createContext().constructor)l=t.sandbox;else{l=s.createContext(),b=t.sandbox;for(a in b)m.call(b,a)&&(p=b[a],l[a]=p)}l.global=l.root=l.GLOBAL=l}else l=global;if(l.__filename=t.filename||"eval",l.__dirname=h.dirname(l.__filename),l===global&&!l.module&&!l.require){for(i=require("module"),l.module=g=new i(t.modulename||"eval"),l.require=y=function(e){return i._load(e,g,!0)},g.filename=l.__filename,k=Object.getOwnPropertyNames(require),d=0,f=k.length;f>d;d++)c=k[d],"paths"!==c&&(y[c]=require[c]);y.paths=g.paths=i._nodeModulePaths(process.cwd()),y.resolve=function(e){return i._resolveFilename(e,g)}}}o={};for(a in t)m.call(t,a)&&(p=t[a],o[a]=p);return o.bare=!0,r=n(e,o),l===global?u.runInThisContext(r):u.runInContext(r,l)}},a=new t,c.lexer={lex:function(){var e,t;return t=this.tokens[this.pos++],t?(e=t[0],this.yytext=t[1],this.yylloc=t[2],this.yylineno=this.yylloc.first_line):e="",e},setInput:function(e){return this.tokens=e,this.pos=0},upcomingInput:function(){return""}},c.yy=require("./nodes")}).call(this)},require["./browser"]=new function(){var exports=this;(function(){var CoffeeScript,runScripts,__indexOf=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};CoffeeScript=require("./coffee-script"),CoffeeScript.require=require,CoffeeScript.eval=function(code,options){var _ref;return null==options&&(options={}),null==(_ref=options.bare)&&(options.bare=!0),eval(CoffeeScript.compile(code,options))},CoffeeScript.run=function(e,t){return null==t&&(t={}),t.bare=!0,Function(CoffeeScript.compile(e,t))()},"undefined"!=typeof window&&null!==window&&(CoffeeScript.load=function(e,t,n){var i;return null==n&&(n={}),i=window.ActiveXObject?new window.ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest,i.open("GET",e,!0),"overrideMimeType"in i&&i.overrideMimeType("text/plain"),i.onreadystatechange=function(){var s;if(4===i.readyState){if(0!==(s=i.status)&&200!==s)throw Error("Could not load "+e);if(CoffeeScript.run(i.responseText,n),t)return t()}},i.send(null)},runScripts=function(){var e,t,n,i,s,r,a;return a=document.getElementsByTagName("script"),t=["text/coffeescript","text/literate-coffeescript"],e=function(){var e,n,i,s;for(s=[],e=0,n=a.length;n>e;e++)r=a[e],i=r.type,__indexOf.call(t,i)>=0&&s.push(r);return s}(),i=0,s=e.length,(n=function(){var s,r,a;return a=e[i++],s=null!=a?a.type:void 0,__indexOf.call(t,s)>=0?(r={literate:"text/literate-coffeescript"===s},a.src?CoffeeScript.load(a.src,n,r):(CoffeeScript.run(a.innerHTML,r),n())):void 0})(),null},window.addEventListener?addEventListener("DOMContentLoaded",runScripts,!1):attachEvent("onload",runScripts))}).call(this)},require["./coffee-script"]}();"function"==typeof define&&define.amd?define(function(){return CoffeeScript}):root.CoffeeScript=CoffeeScript})(this);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZGVybml6ci5qcyIsImpxdWVyeS5qcyIsInVuZGVyc2NvcmUuanMiLCJzaGExLmpzIiwiaTE4bmV4dC5qcyIsImpxdWVyeS5jb3VjaC5qcyIsImpxdWVyeS5jb29raWUuanMiLCJqcXVlcnkudGFibGVzb3J0ZXIuanMiLCJqcXVlcnkuZmxvdC5qcyIsImV4Y2FudmFzLmpzIiwianF1ZXJ5LnVpLmNvcmUuanMiLCJqcXVlcnkudWkud2lkZ2V0LmpzIiwianF1ZXJ5LnVpLnBvc2l0aW9uLmpzIiwianF1ZXJ5LnVpLm1lbnUuanMiLCJqcXVlcnkudWkuYXV0b2NvbXBsZXRlLmpzIiwianF1ZXJ5LnVpLm1vdXNlLmpzIiwianF1ZXJ5LnVpLnNvcnRhYmxlLmpzIiwianF1ZXJ5LnVpLmFjY29yZGlvbi5qcyIsImpxdWVyeS51aS5idXR0b24uanMiLCJqcXVlcnkudWkucHJvZ3Jlc3NiYXIuanMiLCJpbmZsZWN0aW9uLmpzIiwiYmFja2JvbmUuanMiLCJtb21lbnQuanMiLCJiYWNrYm9uZS1jb3VjaGRiLmpzIiwidHJhbnNjcmlwdGlvbkNoZWNrZGlnaXQuanMiLCJiYXNlNjQuanMiLCJqc3R6LmpzIiwiY2tlZGl0b3IuanMiLCJjb2ZmZWUtc2NyaXB0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQ0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ2huVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDM2dEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDMU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDMzJCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNqSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ2pDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN0Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQ0hBO0FBQ0E7QUFDQTtBQUNBO0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDcEZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDcjJEQTtBQUNBO0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3paQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQzFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQzdJQTtBQUNBO0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDN3JCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImxpYi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qISBtb2Rlcm5penIgMy4yLjAgKEN1c3RvbSBCdWlsZCkgfCBNSVQgKlxuICogaHR0cDovL21vZGVybml6ci5jb20vZG93bmxvYWQvPy1zZXRjbGFzc2VzICEqL1xuIWZ1bmN0aW9uKG4sZSxzKXtmdW5jdGlvbiBvKG4sZSl7cmV0dXJuIHR5cGVvZiBuPT09ZX1mdW5jdGlvbiBhKCl7dmFyIG4sZSxzLGEsaSxsLHI7Zm9yKHZhciBjIGluIGYpaWYoZi5oYXNPd25Qcm9wZXJ0eShjKSl7aWYobj1bXSxlPWZbY10sZS5uYW1lJiYobi5wdXNoKGUubmFtZS50b0xvd2VyQ2FzZSgpKSxlLm9wdGlvbnMmJmUub3B0aW9ucy5hbGlhc2VzJiZlLm9wdGlvbnMuYWxpYXNlcy5sZW5ndGgpKWZvcihzPTA7czxlLm9wdGlvbnMuYWxpYXNlcy5sZW5ndGg7cysrKW4ucHVzaChlLm9wdGlvbnMuYWxpYXNlc1tzXS50b0xvd2VyQ2FzZSgpKTtmb3IoYT1vKGUuZm4sXCJmdW5jdGlvblwiKT9lLmZuKCk6ZS5mbixpPTA7aTxuLmxlbmd0aDtpKyspbD1uW2ldLHI9bC5zcGxpdChcIi5cIiksMT09PXIubGVuZ3RoP01vZGVybml6cltyWzBdXT1hOighTW9kZXJuaXpyW3JbMF1dfHxNb2Rlcm5penJbclswXV1pbnN0YW5jZW9mIEJvb2xlYW58fChNb2Rlcm5penJbclswXV09bmV3IEJvb2xlYW4oTW9kZXJuaXpyW3JbMF1dKSksTW9kZXJuaXpyW3JbMF1dW3JbMV1dPWEpLHQucHVzaCgoYT9cIlwiOlwibm8tXCIpK3Iuam9pbihcIi1cIikpfX1mdW5jdGlvbiBpKG4pe3ZhciBlPXIuY2xhc3NOYW1lLHM9TW9kZXJuaXpyLl9jb25maWcuY2xhc3NQcmVmaXh8fFwiXCI7aWYoYyYmKGU9ZS5iYXNlVmFsKSxNb2Rlcm5penIuX2NvbmZpZy5lbmFibGVKU0NsYXNzKXt2YXIgbz1uZXcgUmVnRXhwKFwiKF58XFxcXHMpXCIrcytcIm5vLWpzKFxcXFxzfCQpXCIpO2U9ZS5yZXBsYWNlKG8sXCIkMVwiK3MrXCJqcyQyXCIpfU1vZGVybml6ci5fY29uZmlnLmVuYWJsZUNsYXNzZXMmJihlKz1cIiBcIitzK24uam9pbihcIiBcIitzKSxjP3IuY2xhc3NOYW1lLmJhc2VWYWw9ZTpyLmNsYXNzTmFtZT1lKX12YXIgdD1bXSxmPVtdLGw9e192ZXJzaW9uOlwiMy4yLjBcIixfY29uZmlnOntjbGFzc1ByZWZpeDpcIlwiLGVuYWJsZUNsYXNzZXM6ITAsZW5hYmxlSlNDbGFzczohMCx1c2VQcmVmaXhlczohMH0sX3E6W10sb246ZnVuY3Rpb24obixlKXt2YXIgcz10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtlKHNbbl0pfSwwKX0sYWRkVGVzdDpmdW5jdGlvbihuLGUscyl7Zi5wdXNoKHtuYW1lOm4sZm46ZSxvcHRpb25zOnN9KX0sYWRkQXN5bmNUZXN0OmZ1bmN0aW9uKG4pe2YucHVzaCh7bmFtZTpudWxsLGZuOm59KX19LE1vZGVybml6cj1mdW5jdGlvbigpe307TW9kZXJuaXpyLnByb3RvdHlwZT1sLE1vZGVybml6cj1uZXcgTW9kZXJuaXpyO3ZhciByPWUuZG9jdW1lbnRFbGVtZW50LGM9XCJzdmdcIj09PXIubm9kZU5hbWUudG9Mb3dlckNhc2UoKTthKCksaSh0KSxkZWxldGUgbC5hZGRUZXN0LGRlbGV0ZSBsLmFkZEFzeW5jVGVzdDtmb3IodmFyIHU9MDt1PE1vZGVybml6ci5fcS5sZW5ndGg7dSsrKU1vZGVybml6ci5fcVt1XSgpO24uTW9kZXJuaXpyPU1vZGVybml6cn0od2luZG93LGRvY3VtZW50KTsiLCIvKiFcbiAqIGpRdWVyeSBKYXZhU2NyaXB0IExpYnJhcnkgdjEuMTEuM1xuICogaHR0cDovL2pxdWVyeS5jb20vXG4gKlxuICogSW5jbHVkZXMgU2l6emxlLmpzXG4gKiBodHRwOi8vc2l6emxlanMuY29tL1xuICpcbiAqIENvcHlyaWdodCAyMDA1LCAyMDE0IGpRdWVyeSBGb3VuZGF0aW9uLCBJbmMuIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIERhdGU6IDIwMTUtMDQtMjhUMTY6MTlaXG4gKi9cblxuKGZ1bmN0aW9uKCBnbG9iYWwsIGZhY3RvcnkgKSB7XG5cbiAgaWYgKCB0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBtb2R1bGUuZXhwb3J0cyA9PT0gXCJvYmplY3RcIiApIHtcbiAgICAvLyBGb3IgQ29tbW9uSlMgYW5kIENvbW1vbkpTLWxpa2UgZW52aXJvbm1lbnRzIHdoZXJlIGEgcHJvcGVyIHdpbmRvdyBpcyBwcmVzZW50LFxuICAgIC8vIGV4ZWN1dGUgdGhlIGZhY3RvcnkgYW5kIGdldCBqUXVlcnlcbiAgICAvLyBGb3IgZW52aXJvbm1lbnRzIHRoYXQgZG8gbm90IGluaGVyZW50bHkgcG9zc2VzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudFxuICAgIC8vIChzdWNoIGFzIE5vZGUuanMpLCBleHBvc2UgYSBqUXVlcnktbWFraW5nIGZhY3RvcnkgYXMgbW9kdWxlLmV4cG9ydHNcbiAgICAvLyBUaGlzIGFjY2VudHVhdGVzIHRoZSBuZWVkIGZvciB0aGUgY3JlYXRpb24gb2YgYSByZWFsIHdpbmRvd1xuICAgIC8vIGUuZy4gdmFyIGpRdWVyeSA9IHJlcXVpcmUoXCJqcXVlcnlcIikod2luZG93KTtcbiAgICAvLyBTZWUgdGlja2V0ICMxNDU0OSBmb3IgbW9yZSBpbmZvXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBnbG9iYWwuZG9jdW1lbnQgP1xuICAgICAgZmFjdG9yeSggZ2xvYmFsLCB0cnVlICkgOlxuICAgICAgZnVuY3Rpb24oIHcgKSB7XG4gICAgICAgIGlmICggIXcuZG9jdW1lbnQgKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCBcImpRdWVyeSByZXF1aXJlcyBhIHdpbmRvdyB3aXRoIGEgZG9jdW1lbnRcIiApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWN0b3J5KCB3ICk7XG4gICAgICB9O1xuICB9IGVsc2Uge1xuICAgIGZhY3RvcnkoIGdsb2JhbCApO1xuICB9XG5cbi8vIFBhc3MgdGhpcyBpZiB3aW5kb3cgaXMgbm90IGRlZmluZWQgeWV0XG59KHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB0aGlzLCBmdW5jdGlvbiggd2luZG93LCBub0dsb2JhbCApIHtcblxuLy8gQ2FuJ3QgZG8gdGhpcyBiZWNhdXNlIHNldmVyYWwgYXBwcyBpbmNsdWRpbmcgQVNQLk5FVCB0cmFjZVxuLy8gdGhlIHN0YWNrIHZpYSBhcmd1bWVudHMuY2FsbGVyLmNhbGxlZSBhbmQgRmlyZWZveCBkaWVzIGlmXG4vLyB5b3UgdHJ5IHRvIHRyYWNlIHRocm91Z2ggXCJ1c2Ugc3RyaWN0XCIgY2FsbCBjaGFpbnMuICgjMTMzMzUpXG4vLyBTdXBwb3J0OiBGaXJlZm94IDE4K1xuLy9cblxudmFyIGRlbGV0ZWRJZHMgPSBbXTtcblxudmFyIHNsaWNlID0gZGVsZXRlZElkcy5zbGljZTtcblxudmFyIGNvbmNhdCA9IGRlbGV0ZWRJZHMuY29uY2F0O1xuXG52YXIgcHVzaCA9IGRlbGV0ZWRJZHMucHVzaDtcblxudmFyIGluZGV4T2YgPSBkZWxldGVkSWRzLmluZGV4T2Y7XG5cbnZhciBjbGFzczJ0eXBlID0ge307XG5cbnZhciB0b1N0cmluZyA9IGNsYXNzMnR5cGUudG9TdHJpbmc7XG5cbnZhciBoYXNPd24gPSBjbGFzczJ0eXBlLmhhc093blByb3BlcnR5O1xuXG52YXIgc3VwcG9ydCA9IHt9O1xuXG5cblxudmFyXG4gIHZlcnNpb24gPSBcIjEuMTEuM1wiLFxuXG4gIC8vIERlZmluZSBhIGxvY2FsIGNvcHkgb2YgalF1ZXJ5XG4gIGpRdWVyeSA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCApIHtcbiAgICAvLyBUaGUgalF1ZXJ5IG9iamVjdCBpcyBhY3R1YWxseSBqdXN0IHRoZSBpbml0IGNvbnN0cnVjdG9yICdlbmhhbmNlZCdcbiAgICAvLyBOZWVkIGluaXQgaWYgalF1ZXJ5IGlzIGNhbGxlZCAoanVzdCBhbGxvdyBlcnJvciB0byBiZSB0aHJvd24gaWYgbm90IGluY2x1ZGVkKVxuICAgIHJldHVybiBuZXcgalF1ZXJ5LmZuLmluaXQoIHNlbGVjdG9yLCBjb250ZXh0ICk7XG4gIH0sXG5cbiAgLy8gU3VwcG9ydDogQW5kcm9pZDw0LjEsIElFPDlcbiAgLy8gTWFrZSBzdXJlIHdlIHRyaW0gQk9NIGFuZCBOQlNQXG4gIHJ0cmltID0gL15bXFxzXFx1RkVGRlxceEEwXSt8W1xcc1xcdUZFRkZcXHhBMF0rJC9nLFxuXG4gIC8vIE1hdGNoZXMgZGFzaGVkIHN0cmluZyBmb3IgY2FtZWxpemluZ1xuICBybXNQcmVmaXggPSAvXi1tcy0vLFxuICByZGFzaEFscGhhID0gLy0oW1xcZGEtel0pL2dpLFxuXG4gIC8vIFVzZWQgYnkgalF1ZXJ5LmNhbWVsQ2FzZSBhcyBjYWxsYmFjayB0byByZXBsYWNlKClcbiAgZmNhbWVsQ2FzZSA9IGZ1bmN0aW9uKCBhbGwsIGxldHRlciApIHtcbiAgICByZXR1cm4gbGV0dGVyLnRvVXBwZXJDYXNlKCk7XG4gIH07XG5cbmpRdWVyeS5mbiA9IGpRdWVyeS5wcm90b3R5cGUgPSB7XG4gIC8vIFRoZSBjdXJyZW50IHZlcnNpb24gb2YgalF1ZXJ5IGJlaW5nIHVzZWRcbiAganF1ZXJ5OiB2ZXJzaW9uLFxuXG4gIGNvbnN0cnVjdG9yOiBqUXVlcnksXG5cbiAgLy8gU3RhcnQgd2l0aCBhbiBlbXB0eSBzZWxlY3RvclxuICBzZWxlY3RvcjogXCJcIixcblxuICAvLyBUaGUgZGVmYXVsdCBsZW5ndGggb2YgYSBqUXVlcnkgb2JqZWN0IGlzIDBcbiAgbGVuZ3RoOiAwLFxuXG4gIHRvQXJyYXk6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBzbGljZS5jYWxsKCB0aGlzICk7XG4gIH0sXG5cbiAgLy8gR2V0IHRoZSBOdGggZWxlbWVudCBpbiB0aGUgbWF0Y2hlZCBlbGVtZW50IHNldCBPUlxuICAvLyBHZXQgdGhlIHdob2xlIG1hdGNoZWQgZWxlbWVudCBzZXQgYXMgYSBjbGVhbiBhcnJheVxuICBnZXQ6IGZ1bmN0aW9uKCBudW0gKSB7XG4gICAgcmV0dXJuIG51bSAhPSBudWxsID9cblxuICAgICAgLy8gUmV0dXJuIGp1c3QgdGhlIG9uZSBlbGVtZW50IGZyb20gdGhlIHNldFxuICAgICAgKCBudW0gPCAwID8gdGhpc1sgbnVtICsgdGhpcy5sZW5ndGggXSA6IHRoaXNbIG51bSBdICkgOlxuXG4gICAgICAvLyBSZXR1cm4gYWxsIHRoZSBlbGVtZW50cyBpbiBhIGNsZWFuIGFycmF5XG4gICAgICBzbGljZS5jYWxsKCB0aGlzICk7XG4gIH0sXG5cbiAgLy8gVGFrZSBhbiBhcnJheSBvZiBlbGVtZW50cyBhbmQgcHVzaCBpdCBvbnRvIHRoZSBzdGFja1xuICAvLyAocmV0dXJuaW5nIHRoZSBuZXcgbWF0Y2hlZCBlbGVtZW50IHNldClcbiAgcHVzaFN0YWNrOiBmdW5jdGlvbiggZWxlbXMgKSB7XG5cbiAgICAvLyBCdWlsZCBhIG5ldyBqUXVlcnkgbWF0Y2hlZCBlbGVtZW50IHNldFxuICAgIHZhciByZXQgPSBqUXVlcnkubWVyZ2UoIHRoaXMuY29uc3RydWN0b3IoKSwgZWxlbXMgKTtcblxuICAgIC8vIEFkZCB0aGUgb2xkIG9iamVjdCBvbnRvIHRoZSBzdGFjayAoYXMgYSByZWZlcmVuY2UpXG4gICAgcmV0LnByZXZPYmplY3QgPSB0aGlzO1xuICAgIHJldC5jb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuXG4gICAgLy8gUmV0dXJuIHRoZSBuZXdseS1mb3JtZWQgZWxlbWVudCBzZXRcbiAgICByZXR1cm4gcmV0O1xuICB9LFxuXG4gIC8vIEV4ZWN1dGUgYSBjYWxsYmFjayBmb3IgZXZlcnkgZWxlbWVudCBpbiB0aGUgbWF0Y2hlZCBzZXQuXG4gIC8vIChZb3UgY2FuIHNlZWQgdGhlIGFyZ3VtZW50cyB3aXRoIGFuIGFycmF5IG9mIGFyZ3MsIGJ1dCB0aGlzIGlzXG4gIC8vIG9ubHkgdXNlZCBpbnRlcm5hbGx5LilcbiAgZWFjaDogZnVuY3Rpb24oIGNhbGxiYWNrLCBhcmdzICkge1xuICAgIHJldHVybiBqUXVlcnkuZWFjaCggdGhpcywgY2FsbGJhY2ssIGFyZ3MgKTtcbiAgfSxcblxuICBtYXA6IGZ1bmN0aW9uKCBjYWxsYmFjayApIHtcbiAgICByZXR1cm4gdGhpcy5wdXNoU3RhY2soIGpRdWVyeS5tYXAodGhpcywgZnVuY3Rpb24oIGVsZW0sIGkgKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2suY2FsbCggZWxlbSwgaSwgZWxlbSApO1xuICAgIH0pKTtcbiAgfSxcblxuICBzbGljZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMucHVzaFN0YWNrKCBzbGljZS5hcHBseSggdGhpcywgYXJndW1lbnRzICkgKTtcbiAgfSxcblxuICBmaXJzdDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZXEoIDAgKTtcbiAgfSxcblxuICBsYXN0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5lcSggLTEgKTtcbiAgfSxcblxuICBlcTogZnVuY3Rpb24oIGkgKSB7XG4gICAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoLFxuICAgICAgaiA9ICtpICsgKCBpIDwgMCA/IGxlbiA6IDAgKTtcbiAgICByZXR1cm4gdGhpcy5wdXNoU3RhY2soIGogPj0gMCAmJiBqIDwgbGVuID8gWyB0aGlzW2pdIF0gOiBbXSApO1xuICB9LFxuXG4gIGVuZDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMucHJldk9iamVjdCB8fCB0aGlzLmNvbnN0cnVjdG9yKG51bGwpO1xuICB9LFxuXG4gIC8vIEZvciBpbnRlcm5hbCB1c2Ugb25seS5cbiAgLy8gQmVoYXZlcyBsaWtlIGFuIEFycmF5J3MgbWV0aG9kLCBub3QgbGlrZSBhIGpRdWVyeSBtZXRob2QuXG4gIHB1c2g6IHB1c2gsXG4gIHNvcnQ6IGRlbGV0ZWRJZHMuc29ydCxcbiAgc3BsaWNlOiBkZWxldGVkSWRzLnNwbGljZVxufTtcblxualF1ZXJ5LmV4dGVuZCA9IGpRdWVyeS5mbi5leHRlbmQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHNyYywgY29weUlzQXJyYXksIGNvcHksIG5hbWUsIG9wdGlvbnMsIGNsb25lLFxuICAgIHRhcmdldCA9IGFyZ3VtZW50c1swXSB8fCB7fSxcbiAgICBpID0gMSxcbiAgICBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLFxuICAgIGRlZXAgPSBmYWxzZTtcblxuICAvLyBIYW5kbGUgYSBkZWVwIGNvcHkgc2l0dWF0aW9uXG4gIGlmICggdHlwZW9mIHRhcmdldCA9PT0gXCJib29sZWFuXCIgKSB7XG4gICAgZGVlcCA9IHRhcmdldDtcblxuICAgIC8vIHNraXAgdGhlIGJvb2xlYW4gYW5kIHRoZSB0YXJnZXRcbiAgICB0YXJnZXQgPSBhcmd1bWVudHNbIGkgXSB8fCB7fTtcbiAgICBpKys7XG4gIH1cblxuICAvLyBIYW5kbGUgY2FzZSB3aGVuIHRhcmdldCBpcyBhIHN0cmluZyBvciBzb21ldGhpbmcgKHBvc3NpYmxlIGluIGRlZXAgY29weSlcbiAgaWYgKCB0eXBlb2YgdGFyZ2V0ICE9PSBcIm9iamVjdFwiICYmICFqUXVlcnkuaXNGdW5jdGlvbih0YXJnZXQpICkge1xuICAgIHRhcmdldCA9IHt9O1xuICB9XG5cbiAgLy8gZXh0ZW5kIGpRdWVyeSBpdHNlbGYgaWYgb25seSBvbmUgYXJndW1lbnQgaXMgcGFzc2VkXG4gIGlmICggaSA9PT0gbGVuZ3RoICkge1xuICAgIHRhcmdldCA9IHRoaXM7XG4gICAgaS0tO1xuICB9XG5cbiAgZm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG4gICAgLy8gT25seSBkZWFsIHdpdGggbm9uLW51bGwvdW5kZWZpbmVkIHZhbHVlc1xuICAgIGlmICggKG9wdGlvbnMgPSBhcmd1bWVudHNbIGkgXSkgIT0gbnVsbCApIHtcbiAgICAgIC8vIEV4dGVuZCB0aGUgYmFzZSBvYmplY3RcbiAgICAgIGZvciAoIG5hbWUgaW4gb3B0aW9ucyApIHtcbiAgICAgICAgc3JjID0gdGFyZ2V0WyBuYW1lIF07XG4gICAgICAgIGNvcHkgPSBvcHRpb25zWyBuYW1lIF07XG5cbiAgICAgICAgLy8gUHJldmVudCBuZXZlci1lbmRpbmcgbG9vcFxuICAgICAgICBpZiAoIHRhcmdldCA9PT0gY29weSApIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlY3Vyc2UgaWYgd2UncmUgbWVyZ2luZyBwbGFpbiBvYmplY3RzIG9yIGFycmF5c1xuICAgICAgICBpZiAoIGRlZXAgJiYgY29weSAmJiAoIGpRdWVyeS5pc1BsYWluT2JqZWN0KGNvcHkpIHx8IChjb3B5SXNBcnJheSA9IGpRdWVyeS5pc0FycmF5KGNvcHkpKSApICkge1xuICAgICAgICAgIGlmICggY29weUlzQXJyYXkgKSB7XG4gICAgICAgICAgICBjb3B5SXNBcnJheSA9IGZhbHNlO1xuICAgICAgICAgICAgY2xvbmUgPSBzcmMgJiYgalF1ZXJ5LmlzQXJyYXkoc3JjKSA/IHNyYyA6IFtdO1xuXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNsb25lID0gc3JjICYmIGpRdWVyeS5pc1BsYWluT2JqZWN0KHNyYykgPyBzcmMgOiB7fTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBOZXZlciBtb3ZlIG9yaWdpbmFsIG9iamVjdHMsIGNsb25lIHRoZW1cbiAgICAgICAgICB0YXJnZXRbIG5hbWUgXSA9IGpRdWVyeS5leHRlbmQoIGRlZXAsIGNsb25lLCBjb3B5ICk7XG5cbiAgICAgICAgLy8gRG9uJ3QgYnJpbmcgaW4gdW5kZWZpbmVkIHZhbHVlc1xuICAgICAgICB9IGVsc2UgaWYgKCBjb3B5ICE9PSB1bmRlZmluZWQgKSB7XG4gICAgICAgICAgdGFyZ2V0WyBuYW1lIF0gPSBjb3B5O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gUmV0dXJuIHRoZSBtb2RpZmllZCBvYmplY3RcbiAgcmV0dXJuIHRhcmdldDtcbn07XG5cbmpRdWVyeS5leHRlbmQoe1xuICAvLyBVbmlxdWUgZm9yIGVhY2ggY29weSBvZiBqUXVlcnkgb24gdGhlIHBhZ2VcbiAgZXhwYW5kbzogXCJqUXVlcnlcIiArICggdmVyc2lvbiArIE1hdGgucmFuZG9tKCkgKS5yZXBsYWNlKCAvXFxEL2csIFwiXCIgKSxcblxuICAvLyBBc3N1bWUgalF1ZXJ5IGlzIHJlYWR5IHdpdGhvdXQgdGhlIHJlYWR5IG1vZHVsZVxuICBpc1JlYWR5OiB0cnVlLFxuXG4gIGVycm9yOiBmdW5jdGlvbiggbXNnICkge1xuICAgIHRocm93IG5ldyBFcnJvciggbXNnICk7XG4gIH0sXG5cbiAgbm9vcDogZnVuY3Rpb24oKSB7fSxcblxuICAvLyBTZWUgdGVzdC91bml0L2NvcmUuanMgZm9yIGRldGFpbHMgY29uY2VybmluZyBpc0Z1bmN0aW9uLlxuICAvLyBTaW5jZSB2ZXJzaW9uIDEuMywgRE9NIG1ldGhvZHMgYW5kIGZ1bmN0aW9ucyBsaWtlIGFsZXJ0XG4gIC8vIGFyZW4ndCBzdXBwb3J0ZWQuIFRoZXkgcmV0dXJuIGZhbHNlIG9uIElFICgjMjk2OCkuXG4gIGlzRnVuY3Rpb246IGZ1bmN0aW9uKCBvYmogKSB7XG4gICAgcmV0dXJuIGpRdWVyeS50eXBlKG9iaikgPT09IFwiZnVuY3Rpb25cIjtcbiAgfSxcblxuICBpc0FycmF5OiBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uKCBvYmogKSB7XG4gICAgcmV0dXJuIGpRdWVyeS50eXBlKG9iaikgPT09IFwiYXJyYXlcIjtcbiAgfSxcblxuICBpc1dpbmRvdzogZnVuY3Rpb24oIG9iaiApIHtcbiAgICAvKiBqc2hpbnQgZXFlcWVxOiBmYWxzZSAqL1xuICAgIHJldHVybiBvYmogIT0gbnVsbCAmJiBvYmogPT0gb2JqLndpbmRvdztcbiAgfSxcblxuICBpc051bWVyaWM6IGZ1bmN0aW9uKCBvYmogKSB7XG4gICAgLy8gcGFyc2VGbG9hdCBOYU5zIG51bWVyaWMtY2FzdCBmYWxzZSBwb3NpdGl2ZXMgKG51bGx8dHJ1ZXxmYWxzZXxcIlwiKVxuICAgIC8vIC4uLmJ1dCBtaXNpbnRlcnByZXRzIGxlYWRpbmctbnVtYmVyIHN0cmluZ3MsIHBhcnRpY3VsYXJseSBoZXggbGl0ZXJhbHMgKFwiMHguLi5cIilcbiAgICAvLyBzdWJ0cmFjdGlvbiBmb3JjZXMgaW5maW5pdGllcyB0byBOYU5cbiAgICAvLyBhZGRpbmcgMSBjb3JyZWN0cyBsb3NzIG9mIHByZWNpc2lvbiBmcm9tIHBhcnNlRmxvYXQgKCMxNTEwMClcbiAgICByZXR1cm4gIWpRdWVyeS5pc0FycmF5KCBvYmogKSAmJiAob2JqIC0gcGFyc2VGbG9hdCggb2JqICkgKyAxKSA+PSAwO1xuICB9LFxuXG4gIGlzRW1wdHlPYmplY3Q6IGZ1bmN0aW9uKCBvYmogKSB7XG4gICAgdmFyIG5hbWU7XG4gICAgZm9yICggbmFtZSBpbiBvYmogKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9LFxuXG4gIGlzUGxhaW5PYmplY3Q6IGZ1bmN0aW9uKCBvYmogKSB7XG4gICAgdmFyIGtleTtcblxuICAgIC8vIE11c3QgYmUgYW4gT2JqZWN0LlxuICAgIC8vIEJlY2F1c2Ugb2YgSUUsIHdlIGFsc28gaGF2ZSB0byBjaGVjayB0aGUgcHJlc2VuY2Ugb2YgdGhlIGNvbnN0cnVjdG9yIHByb3BlcnR5LlxuICAgIC8vIE1ha2Ugc3VyZSB0aGF0IERPTSBub2RlcyBhbmQgd2luZG93IG9iamVjdHMgZG9uJ3QgcGFzcyB0aHJvdWdoLCBhcyB3ZWxsXG4gICAgaWYgKCAhb2JqIHx8IGpRdWVyeS50eXBlKG9iaikgIT09IFwib2JqZWN0XCIgfHwgb2JqLm5vZGVUeXBlIHx8IGpRdWVyeS5pc1dpbmRvdyggb2JqICkgKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIC8vIE5vdCBvd24gY29uc3RydWN0b3IgcHJvcGVydHkgbXVzdCBiZSBPYmplY3RcbiAgICAgIGlmICggb2JqLmNvbnN0cnVjdG9yICYmXG4gICAgICAgICFoYXNPd24uY2FsbChvYmosIFwiY29uc3RydWN0b3JcIikgJiZcbiAgICAgICAgIWhhc093bi5jYWxsKG9iai5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsIFwiaXNQcm90b3R5cGVPZlwiKSApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKCBlICkge1xuICAgICAgLy8gSUU4LDkgV2lsbCB0aHJvdyBleGNlcHRpb25zIG9uIGNlcnRhaW4gaG9zdCBvYmplY3RzICM5ODk3XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gU3VwcG9ydDogSUU8OVxuICAgIC8vIEhhbmRsZSBpdGVyYXRpb24gb3ZlciBpbmhlcml0ZWQgcHJvcGVydGllcyBiZWZvcmUgb3duIHByb3BlcnRpZXMuXG4gICAgaWYgKCBzdXBwb3J0Lm93bkxhc3QgKSB7XG4gICAgICBmb3IgKCBrZXkgaW4gb2JqICkge1xuICAgICAgICByZXR1cm4gaGFzT3duLmNhbGwoIG9iaiwga2V5ICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gT3duIHByb3BlcnRpZXMgYXJlIGVudW1lcmF0ZWQgZmlyc3RseSwgc28gdG8gc3BlZWQgdXAsXG4gICAgLy8gaWYgbGFzdCBvbmUgaXMgb3duLCB0aGVuIGFsbCBwcm9wZXJ0aWVzIGFyZSBvd24uXG4gICAgZm9yICgga2V5IGluIG9iaiApIHt9XG5cbiAgICByZXR1cm4ga2V5ID09PSB1bmRlZmluZWQgfHwgaGFzT3duLmNhbGwoIG9iaiwga2V5ICk7XG4gIH0sXG5cbiAgdHlwZTogZnVuY3Rpb24oIG9iaiApIHtcbiAgICBpZiAoIG9iaiA9PSBudWxsICkge1xuICAgICAgcmV0dXJuIG9iaiArIFwiXCI7XG4gICAgfVxuICAgIHJldHVybiB0eXBlb2Ygb2JqID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBvYmogPT09IFwiZnVuY3Rpb25cIiA/XG4gICAgICBjbGFzczJ0eXBlWyB0b1N0cmluZy5jYWxsKG9iaikgXSB8fCBcIm9iamVjdFwiIDpcbiAgICAgIHR5cGVvZiBvYmo7XG4gIH0sXG5cbiAgLy8gRXZhbHVhdGVzIGEgc2NyaXB0IGluIGEgZ2xvYmFsIGNvbnRleHRcbiAgLy8gV29ya2Fyb3VuZHMgYmFzZWQgb24gZmluZGluZ3MgYnkgSmltIERyaXNjb2xsXG4gIC8vIGh0dHA6Ly93ZWJsb2dzLmphdmEubmV0L2Jsb2cvZHJpc2NvbGwvYXJjaGl2ZS8yMDA5LzA5LzA4L2V2YWwtamF2YXNjcmlwdC1nbG9iYWwtY29udGV4dFxuICBnbG9iYWxFdmFsOiBmdW5jdGlvbiggZGF0YSApIHtcbiAgICBpZiAoIGRhdGEgJiYgalF1ZXJ5LnRyaW0oIGRhdGEgKSApIHtcbiAgICAgIC8vIFdlIHVzZSBleGVjU2NyaXB0IG9uIEludGVybmV0IEV4cGxvcmVyXG4gICAgICAvLyBXZSB1c2UgYW4gYW5vbnltb3VzIGZ1bmN0aW9uIHNvIHRoYXQgY29udGV4dCBpcyB3aW5kb3dcbiAgICAgIC8vIHJhdGhlciB0aGFuIGpRdWVyeSBpbiBGaXJlZm94XG4gICAgICAoIHdpbmRvdy5leGVjU2NyaXB0IHx8IGZ1bmN0aW9uKCBkYXRhICkge1xuICAgICAgICB3aW5kb3dbIFwiZXZhbFwiIF0uY2FsbCggd2luZG93LCBkYXRhICk7XG4gICAgICB9ICkoIGRhdGEgKTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gQ29udmVydCBkYXNoZWQgdG8gY2FtZWxDYXNlOyB1c2VkIGJ5IHRoZSBjc3MgYW5kIGRhdGEgbW9kdWxlc1xuICAvLyBNaWNyb3NvZnQgZm9yZ290IHRvIGh1bXAgdGhlaXIgdmVuZG9yIHByZWZpeCAoIzk1NzIpXG4gIGNhbWVsQ2FzZTogZnVuY3Rpb24oIHN0cmluZyApIHtcbiAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoIHJtc1ByZWZpeCwgXCJtcy1cIiApLnJlcGxhY2UoIHJkYXNoQWxwaGEsIGZjYW1lbENhc2UgKTtcbiAgfSxcblxuICBub2RlTmFtZTogZnVuY3Rpb24oIGVsZW0sIG5hbWUgKSB7XG4gICAgcmV0dXJuIGVsZW0ubm9kZU5hbWUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBuYW1lLnRvTG93ZXJDYXNlKCk7XG4gIH0sXG5cbiAgLy8gYXJncyBpcyBmb3IgaW50ZXJuYWwgdXNhZ2Ugb25seVxuICBlYWNoOiBmdW5jdGlvbiggb2JqLCBjYWxsYmFjaywgYXJncyApIHtcbiAgICB2YXIgdmFsdWUsXG4gICAgICBpID0gMCxcbiAgICAgIGxlbmd0aCA9IG9iai5sZW5ndGgsXG4gICAgICBpc0FycmF5ID0gaXNBcnJheWxpa2UoIG9iaiApO1xuXG4gICAgaWYgKCBhcmdzICkge1xuICAgICAgaWYgKCBpc0FycmF5ICkge1xuICAgICAgICBmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcbiAgICAgICAgICB2YWx1ZSA9IGNhbGxiYWNrLmFwcGx5KCBvYmpbIGkgXSwgYXJncyApO1xuXG4gICAgICAgICAgaWYgKCB2YWx1ZSA9PT0gZmFsc2UgKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAoIGkgaW4gb2JqICkge1xuICAgICAgICAgIHZhbHVlID0gY2FsbGJhY2suYXBwbHkoIG9ialsgaSBdLCBhcmdzICk7XG5cbiAgICAgICAgICBpZiAoIHZhbHVlID09PSBmYWxzZSApIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgLy8gQSBzcGVjaWFsLCBmYXN0LCBjYXNlIGZvciB0aGUgbW9zdCBjb21tb24gdXNlIG9mIGVhY2hcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCBpc0FycmF5ICkge1xuICAgICAgICBmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcbiAgICAgICAgICB2YWx1ZSA9IGNhbGxiYWNrLmNhbGwoIG9ialsgaSBdLCBpLCBvYmpbIGkgXSApO1xuXG4gICAgICAgICAgaWYgKCB2YWx1ZSA9PT0gZmFsc2UgKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAoIGkgaW4gb2JqICkge1xuICAgICAgICAgIHZhbHVlID0gY2FsbGJhY2suY2FsbCggb2JqWyBpIF0sIGksIG9ialsgaSBdICk7XG5cbiAgICAgICAgICBpZiAoIHZhbHVlID09PSBmYWxzZSApIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgLy8gU3VwcG9ydDogQW5kcm9pZDw0LjEsIElFPDlcbiAgdHJpbTogZnVuY3Rpb24oIHRleHQgKSB7XG4gICAgcmV0dXJuIHRleHQgPT0gbnVsbCA/XG4gICAgICBcIlwiIDpcbiAgICAgICggdGV4dCArIFwiXCIgKS5yZXBsYWNlKCBydHJpbSwgXCJcIiApO1xuICB9LFxuXG4gIC8vIHJlc3VsdHMgaXMgZm9yIGludGVybmFsIHVzYWdlIG9ubHlcbiAgbWFrZUFycmF5OiBmdW5jdGlvbiggYXJyLCByZXN1bHRzICkge1xuICAgIHZhciByZXQgPSByZXN1bHRzIHx8IFtdO1xuXG4gICAgaWYgKCBhcnIgIT0gbnVsbCApIHtcbiAgICAgIGlmICggaXNBcnJheWxpa2UoIE9iamVjdChhcnIpICkgKSB7XG4gICAgICAgIGpRdWVyeS5tZXJnZSggcmV0LFxuICAgICAgICAgIHR5cGVvZiBhcnIgPT09IFwic3RyaW5nXCIgP1xuICAgICAgICAgIFsgYXJyIF0gOiBhcnJcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHB1c2guY2FsbCggcmV0LCBhcnIgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmV0O1xuICB9LFxuXG4gIGluQXJyYXk6IGZ1bmN0aW9uKCBlbGVtLCBhcnIsIGkgKSB7XG4gICAgdmFyIGxlbjtcblxuICAgIGlmICggYXJyICkge1xuICAgICAgaWYgKCBpbmRleE9mICkge1xuICAgICAgICByZXR1cm4gaW5kZXhPZi5jYWxsKCBhcnIsIGVsZW0sIGkgKTtcbiAgICAgIH1cblxuICAgICAgbGVuID0gYXJyLmxlbmd0aDtcbiAgICAgIGkgPSBpID8gaSA8IDAgPyBNYXRoLm1heCggMCwgbGVuICsgaSApIDogaSA6IDA7XG5cbiAgICAgIGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuICAgICAgICAvLyBTa2lwIGFjY2Vzc2luZyBpbiBzcGFyc2UgYXJyYXlzXG4gICAgICAgIGlmICggaSBpbiBhcnIgJiYgYXJyWyBpIF0gPT09IGVsZW0gKSB7XG4gICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gLTE7XG4gIH0sXG5cbiAgbWVyZ2U6IGZ1bmN0aW9uKCBmaXJzdCwgc2Vjb25kICkge1xuICAgIHZhciBsZW4gPSArc2Vjb25kLmxlbmd0aCxcbiAgICAgIGogPSAwLFxuICAgICAgaSA9IGZpcnN0Lmxlbmd0aDtcblxuICAgIHdoaWxlICggaiA8IGxlbiApIHtcbiAgICAgIGZpcnN0WyBpKysgXSA9IHNlY29uZFsgaisrIF07XG4gICAgfVxuXG4gICAgLy8gU3VwcG9ydDogSUU8OVxuICAgIC8vIFdvcmthcm91bmQgY2FzdGluZyBvZiAubGVuZ3RoIHRvIE5hTiBvbiBvdGhlcndpc2UgYXJyYXlsaWtlIG9iamVjdHMgKGUuZy4sIE5vZGVMaXN0cylcbiAgICBpZiAoIGxlbiAhPT0gbGVuICkge1xuICAgICAgd2hpbGUgKCBzZWNvbmRbal0gIT09IHVuZGVmaW5lZCApIHtcbiAgICAgICAgZmlyc3RbIGkrKyBdID0gc2Vjb25kWyBqKysgXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmaXJzdC5sZW5ndGggPSBpO1xuXG4gICAgcmV0dXJuIGZpcnN0O1xuICB9LFxuXG4gIGdyZXA6IGZ1bmN0aW9uKCBlbGVtcywgY2FsbGJhY2ssIGludmVydCApIHtcbiAgICB2YXIgY2FsbGJhY2tJbnZlcnNlLFxuICAgICAgbWF0Y2hlcyA9IFtdLFxuICAgICAgaSA9IDAsXG4gICAgICBsZW5ndGggPSBlbGVtcy5sZW5ndGgsXG4gICAgICBjYWxsYmFja0V4cGVjdCA9ICFpbnZlcnQ7XG5cbiAgICAvLyBHbyB0aHJvdWdoIHRoZSBhcnJheSwgb25seSBzYXZpbmcgdGhlIGl0ZW1zXG4gICAgLy8gdGhhdCBwYXNzIHRoZSB2YWxpZGF0b3IgZnVuY3Rpb25cbiAgICBmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcbiAgICAgIGNhbGxiYWNrSW52ZXJzZSA9ICFjYWxsYmFjayggZWxlbXNbIGkgXSwgaSApO1xuICAgICAgaWYgKCBjYWxsYmFja0ludmVyc2UgIT09IGNhbGxiYWNrRXhwZWN0ICkge1xuICAgICAgICBtYXRjaGVzLnB1c2goIGVsZW1zWyBpIF0gKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbWF0Y2hlcztcbiAgfSxcblxuICAvLyBhcmcgaXMgZm9yIGludGVybmFsIHVzYWdlIG9ubHlcbiAgbWFwOiBmdW5jdGlvbiggZWxlbXMsIGNhbGxiYWNrLCBhcmcgKSB7XG4gICAgdmFyIHZhbHVlLFxuICAgICAgaSA9IDAsXG4gICAgICBsZW5ndGggPSBlbGVtcy5sZW5ndGgsXG4gICAgICBpc0FycmF5ID0gaXNBcnJheWxpa2UoIGVsZW1zICksXG4gICAgICByZXQgPSBbXTtcblxuICAgIC8vIEdvIHRocm91Z2ggdGhlIGFycmF5LCB0cmFuc2xhdGluZyBlYWNoIG9mIHRoZSBpdGVtcyB0byB0aGVpciBuZXcgdmFsdWVzXG4gICAgaWYgKCBpc0FycmF5ICkge1xuICAgICAgZm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG4gICAgICAgIHZhbHVlID0gY2FsbGJhY2soIGVsZW1zWyBpIF0sIGksIGFyZyApO1xuXG4gICAgICAgIGlmICggdmFsdWUgIT0gbnVsbCApIHtcbiAgICAgICAgICByZXQucHVzaCggdmFsdWUgKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgLy8gR28gdGhyb3VnaCBldmVyeSBrZXkgb24gdGhlIG9iamVjdCxcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yICggaSBpbiBlbGVtcyApIHtcbiAgICAgICAgdmFsdWUgPSBjYWxsYmFjayggZWxlbXNbIGkgXSwgaSwgYXJnICk7XG5cbiAgICAgICAgaWYgKCB2YWx1ZSAhPSBudWxsICkge1xuICAgICAgICAgIHJldC5wdXNoKCB2YWx1ZSApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRmxhdHRlbiBhbnkgbmVzdGVkIGFycmF5c1xuICAgIHJldHVybiBjb25jYXQuYXBwbHkoIFtdLCByZXQgKTtcbiAgfSxcblxuICAvLyBBIGdsb2JhbCBHVUlEIGNvdW50ZXIgZm9yIG9iamVjdHNcbiAgZ3VpZDogMSxcblxuICAvLyBCaW5kIGEgZnVuY3Rpb24gdG8gYSBjb250ZXh0LCBvcHRpb25hbGx5IHBhcnRpYWxseSBhcHBseWluZyBhbnlcbiAgLy8gYXJndW1lbnRzLlxuICBwcm94eTogZnVuY3Rpb24oIGZuLCBjb250ZXh0ICkge1xuICAgIHZhciBhcmdzLCBwcm94eSwgdG1wO1xuXG4gICAgaWYgKCB0eXBlb2YgY29udGV4dCA9PT0gXCJzdHJpbmdcIiApIHtcbiAgICAgIHRtcCA9IGZuWyBjb250ZXh0IF07XG4gICAgICBjb250ZXh0ID0gZm47XG4gICAgICBmbiA9IHRtcDtcbiAgICB9XG5cbiAgICAvLyBRdWljayBjaGVjayB0byBkZXRlcm1pbmUgaWYgdGFyZ2V0IGlzIGNhbGxhYmxlLCBpbiB0aGUgc3BlY1xuICAgIC8vIHRoaXMgdGhyb3dzIGEgVHlwZUVycm9yLCBidXQgd2Ugd2lsbCBqdXN0IHJldHVybiB1bmRlZmluZWQuXG4gICAgaWYgKCAhalF1ZXJ5LmlzRnVuY3Rpb24oIGZuICkgKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8vIFNpbXVsYXRlZCBiaW5kXG4gICAgYXJncyA9IHNsaWNlLmNhbGwoIGFyZ3VtZW50cywgMiApO1xuICAgIHByb3h5ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZm4uYXBwbHkoIGNvbnRleHQgfHwgdGhpcywgYXJncy5jb25jYXQoIHNsaWNlLmNhbGwoIGFyZ3VtZW50cyApICkgKTtcbiAgICB9O1xuXG4gICAgLy8gU2V0IHRoZSBndWlkIG9mIHVuaXF1ZSBoYW5kbGVyIHRvIHRoZSBzYW1lIG9mIG9yaWdpbmFsIGhhbmRsZXIsIHNvIGl0IGNhbiBiZSByZW1vdmVkXG4gICAgcHJveHkuZ3VpZCA9IGZuLmd1aWQgPSBmbi5ndWlkIHx8IGpRdWVyeS5ndWlkKys7XG5cbiAgICByZXR1cm4gcHJveHk7XG4gIH0sXG5cbiAgbm93OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gKyggbmV3IERhdGUoKSApO1xuICB9LFxuXG4gIC8vIGpRdWVyeS5zdXBwb3J0IGlzIG5vdCB1c2VkIGluIENvcmUgYnV0IG90aGVyIHByb2plY3RzIGF0dGFjaCB0aGVpclxuICAvLyBwcm9wZXJ0aWVzIHRvIGl0IHNvIGl0IG5lZWRzIHRvIGV4aXN0LlxuICBzdXBwb3J0OiBzdXBwb3J0XG59KTtcblxuLy8gUG9wdWxhdGUgdGhlIGNsYXNzMnR5cGUgbWFwXG5qUXVlcnkuZWFjaChcIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3JcIi5zcGxpdChcIiBcIiksIGZ1bmN0aW9uKGksIG5hbWUpIHtcbiAgY2xhc3MydHlwZVsgXCJbb2JqZWN0IFwiICsgbmFtZSArIFwiXVwiIF0gPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG59KTtcblxuZnVuY3Rpb24gaXNBcnJheWxpa2UoIG9iaiApIHtcblxuICAvLyBTdXBwb3J0OiBpT1MgOC4yIChub3QgcmVwcm9kdWNpYmxlIGluIHNpbXVsYXRvcilcbiAgLy8gYGluYCBjaGVjayB1c2VkIHRvIHByZXZlbnQgSklUIGVycm9yIChnaC0yMTQ1KVxuICAvLyBoYXNPd24gaXNuJ3QgdXNlZCBoZXJlIGR1ZSB0byBmYWxzZSBuZWdhdGl2ZXNcbiAgLy8gcmVnYXJkaW5nIE5vZGVsaXN0IGxlbmd0aCBpbiBJRVxuICB2YXIgbGVuZ3RoID0gXCJsZW5ndGhcIiBpbiBvYmogJiYgb2JqLmxlbmd0aCxcbiAgICB0eXBlID0galF1ZXJ5LnR5cGUoIG9iaiApO1xuXG4gIGlmICggdHlwZSA9PT0gXCJmdW5jdGlvblwiIHx8IGpRdWVyeS5pc1dpbmRvdyggb2JqICkgKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKCBvYmoubm9kZVR5cGUgPT09IDEgJiYgbGVuZ3RoICkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIHR5cGUgPT09IFwiYXJyYXlcIiB8fCBsZW5ndGggPT09IDAgfHxcbiAgICB0eXBlb2YgbGVuZ3RoID09PSBcIm51bWJlclwiICYmIGxlbmd0aCA+IDAgJiYgKCBsZW5ndGggLSAxICkgaW4gb2JqO1xufVxudmFyIFNpenpsZSA9XG4vKiFcbiAqIFNpenpsZSBDU1MgU2VsZWN0b3IgRW5naW5lIHYyLjIuMC1wcmVcbiAqIGh0dHA6Ly9zaXp6bGVqcy5jb20vXG4gKlxuICogQ29weXJpZ2h0IDIwMDgsIDIwMTQgalF1ZXJ5IEZvdW5kYXRpb24sIEluYy4gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKlxuICogRGF0ZTogMjAxNC0xMi0xNlxuICovXG4oZnVuY3Rpb24oIHdpbmRvdyApIHtcblxudmFyIGksXG4gIHN1cHBvcnQsXG4gIEV4cHIsXG4gIGdldFRleHQsXG4gIGlzWE1MLFxuICB0b2tlbml6ZSxcbiAgY29tcGlsZSxcbiAgc2VsZWN0LFxuICBvdXRlcm1vc3RDb250ZXh0LFxuICBzb3J0SW5wdXQsXG4gIGhhc0R1cGxpY2F0ZSxcblxuICAvLyBMb2NhbCBkb2N1bWVudCB2YXJzXG4gIHNldERvY3VtZW50LFxuICBkb2N1bWVudCxcbiAgZG9jRWxlbSxcbiAgZG9jdW1lbnRJc0hUTUwsXG4gIHJidWdneVFTQSxcbiAgcmJ1Z2d5TWF0Y2hlcyxcbiAgbWF0Y2hlcyxcbiAgY29udGFpbnMsXG5cbiAgLy8gSW5zdGFuY2Utc3BlY2lmaWMgZGF0YVxuICBleHBhbmRvID0gXCJzaXp6bGVcIiArIDEgKiBuZXcgRGF0ZSgpLFxuICBwcmVmZXJyZWREb2MgPSB3aW5kb3cuZG9jdW1lbnQsXG4gIGRpcnJ1bnMgPSAwLFxuICBkb25lID0gMCxcbiAgY2xhc3NDYWNoZSA9IGNyZWF0ZUNhY2hlKCksXG4gIHRva2VuQ2FjaGUgPSBjcmVhdGVDYWNoZSgpLFxuICBjb21waWxlckNhY2hlID0gY3JlYXRlQ2FjaGUoKSxcbiAgc29ydE9yZGVyID0gZnVuY3Rpb24oIGEsIGIgKSB7XG4gICAgaWYgKCBhID09PSBiICkge1xuICAgICAgaGFzRHVwbGljYXRlID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH0sXG5cbiAgLy8gR2VuZXJhbC1wdXJwb3NlIGNvbnN0YW50c1xuICBNQVhfTkVHQVRJVkUgPSAxIDw8IDMxLFxuXG4gIC8vIEluc3RhbmNlIG1ldGhvZHNcbiAgaGFzT3duID0gKHt9KS5oYXNPd25Qcm9wZXJ0eSxcbiAgYXJyID0gW10sXG4gIHBvcCA9IGFyci5wb3AsXG4gIHB1c2hfbmF0aXZlID0gYXJyLnB1c2gsXG4gIHB1c2ggPSBhcnIucHVzaCxcbiAgc2xpY2UgPSBhcnIuc2xpY2UsXG4gIC8vIFVzZSBhIHN0cmlwcGVkLWRvd24gaW5kZXhPZiBhcyBpdCdzIGZhc3RlciB0aGFuIG5hdGl2ZVxuICAvLyBodHRwOi8vanNwZXJmLmNvbS90aG9yLWluZGV4b2YtdnMtZm9yLzVcbiAgaW5kZXhPZiA9IGZ1bmN0aW9uKCBsaXN0LCBlbGVtICkge1xuICAgIHZhciBpID0gMCxcbiAgICAgIGxlbiA9IGxpc3QubGVuZ3RoO1xuICAgIGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuICAgICAgaWYgKCBsaXN0W2ldID09PSBlbGVtICkge1xuICAgICAgICByZXR1cm4gaTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9LFxuXG4gIGJvb2xlYW5zID0gXCJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZFwiLFxuXG4gIC8vIFJlZ3VsYXIgZXhwcmVzc2lvbnNcblxuICAvLyBXaGl0ZXNwYWNlIGNoYXJhY3RlcnMgaHR0cDovL3d3dy53My5vcmcvVFIvY3NzMy1zZWxlY3RvcnMvI3doaXRlc3BhY2VcbiAgd2hpdGVzcGFjZSA9IFwiW1xcXFx4MjBcXFxcdFxcXFxyXFxcXG5cXFxcZl1cIixcbiAgLy8gaHR0cDovL3d3dy53My5vcmcvVFIvY3NzMy1zeW50YXgvI2NoYXJhY3RlcnNcbiAgY2hhcmFjdGVyRW5jb2RpbmcgPSBcIig/OlxcXFxcXFxcLnxbXFxcXHctXXxbXlxcXFx4MDAtXFxcXHhhMF0pK1wiLFxuXG4gIC8vIExvb3NlbHkgbW9kZWxlZCBvbiBDU1MgaWRlbnRpZmllciBjaGFyYWN0ZXJzXG4gIC8vIEFuIHVucXVvdGVkIHZhbHVlIHNob3VsZCBiZSBhIENTUyBpZGVudGlmaWVyIGh0dHA6Ly93d3cudzMub3JnL1RSL2NzczMtc2VsZWN0b3JzLyNhdHRyaWJ1dGUtc2VsZWN0b3JzXG4gIC8vIFByb3BlciBzeW50YXg6IGh0dHA6Ly93d3cudzMub3JnL1RSL0NTUzIxL3N5bmRhdGEuaHRtbCN2YWx1ZS1kZWYtaWRlbnRpZmllclxuICBpZGVudGlmaWVyID0gY2hhcmFjdGVyRW5jb2RpbmcucmVwbGFjZSggXCJ3XCIsIFwidyNcIiApLFxuXG4gIC8vIEF0dHJpYnV0ZSBzZWxlY3RvcnM6IGh0dHA6Ly93d3cudzMub3JnL1RSL3NlbGVjdG9ycy8jYXR0cmlidXRlLXNlbGVjdG9yc1xuICBhdHRyaWJ1dGVzID0gXCJcXFxcW1wiICsgd2hpdGVzcGFjZSArIFwiKihcIiArIGNoYXJhY3RlckVuY29kaW5nICsgXCIpKD86XCIgKyB3aGl0ZXNwYWNlICtcbiAgICAvLyBPcGVyYXRvciAoY2FwdHVyZSAyKVxuICAgIFwiKihbKl4kfCF+XT89KVwiICsgd2hpdGVzcGFjZSArXG4gICAgLy8gXCJBdHRyaWJ1dGUgdmFsdWVzIG11c3QgYmUgQ1NTIGlkZW50aWZpZXJzIFtjYXB0dXJlIDVdIG9yIHN0cmluZ3MgW2NhcHR1cmUgMyBvciBjYXB0dXJlIDRdXCJcbiAgICBcIiooPzonKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcJ10pKiknfFxcXCIoKD86XFxcXFxcXFwufFteXFxcXFxcXFxcXFwiXSkqKVxcXCJ8KFwiICsgaWRlbnRpZmllciArIFwiKSl8KVwiICsgd2hpdGVzcGFjZSArXG4gICAgXCIqXFxcXF1cIixcblxuICBwc2V1ZG9zID0gXCI6KFwiICsgY2hhcmFjdGVyRW5jb2RpbmcgKyBcIikoPzpcXFxcKChcIiArXG4gICAgLy8gVG8gcmVkdWNlIHRoZSBudW1iZXIgb2Ygc2VsZWN0b3JzIG5lZWRpbmcgdG9rZW5pemUgaW4gdGhlIHByZUZpbHRlciwgcHJlZmVyIGFyZ3VtZW50czpcbiAgICAvLyAxLiBxdW90ZWQgKGNhcHR1cmUgMzsgY2FwdHVyZSA0IG9yIGNhcHR1cmUgNSlcbiAgICBcIignKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcJ10pKiknfFxcXCIoKD86XFxcXFxcXFwufFteXFxcXFxcXFxcXFwiXSkqKVxcXCIpfFwiICtcbiAgICAvLyAyLiBzaW1wbGUgKGNhcHR1cmUgNilcbiAgICBcIigoPzpcXFxcXFxcXC58W15cXFxcXFxcXCgpW1xcXFxdXXxcIiArIGF0dHJpYnV0ZXMgKyBcIikqKXxcIiArXG4gICAgLy8gMy4gYW55dGhpbmcgZWxzZSAoY2FwdHVyZSAyKVxuICAgIFwiLipcIiArXG4gICAgXCIpXFxcXCl8KVwiLFxuXG4gIC8vIExlYWRpbmcgYW5kIG5vbi1lc2NhcGVkIHRyYWlsaW5nIHdoaXRlc3BhY2UsIGNhcHR1cmluZyBzb21lIG5vbi13aGl0ZXNwYWNlIGNoYXJhY3RlcnMgcHJlY2VkaW5nIHRoZSBsYXR0ZXJcbiAgcndoaXRlc3BhY2UgPSBuZXcgUmVnRXhwKCB3aGl0ZXNwYWNlICsgXCIrXCIsIFwiZ1wiICksXG4gIHJ0cmltID0gbmV3IFJlZ0V4cCggXCJeXCIgKyB3aGl0ZXNwYWNlICsgXCIrfCgoPzpefFteXFxcXFxcXFxdKSg/OlxcXFxcXFxcLikqKVwiICsgd2hpdGVzcGFjZSArIFwiKyRcIiwgXCJnXCIgKSxcblxuICByY29tbWEgPSBuZXcgUmVnRXhwKCBcIl5cIiArIHdoaXRlc3BhY2UgKyBcIiosXCIgKyB3aGl0ZXNwYWNlICsgXCIqXCIgKSxcbiAgcmNvbWJpbmF0b3JzID0gbmV3IFJlZ0V4cCggXCJeXCIgKyB3aGl0ZXNwYWNlICsgXCIqKFs+K35dfFwiICsgd2hpdGVzcGFjZSArIFwiKVwiICsgd2hpdGVzcGFjZSArIFwiKlwiICksXG5cbiAgcmF0dHJpYnV0ZVF1b3RlcyA9IG5ldyBSZWdFeHAoIFwiPVwiICsgd2hpdGVzcGFjZSArIFwiKihbXlxcXFxdJ1xcXCJdKj8pXCIgKyB3aGl0ZXNwYWNlICsgXCIqXFxcXF1cIiwgXCJnXCIgKSxcblxuICBycHNldWRvID0gbmV3IFJlZ0V4cCggcHNldWRvcyApLFxuICByaWRlbnRpZmllciA9IG5ldyBSZWdFeHAoIFwiXlwiICsgaWRlbnRpZmllciArIFwiJFwiICksXG5cbiAgbWF0Y2hFeHByID0ge1xuICAgIFwiSURcIjogbmV3IFJlZ0V4cCggXCJeIyhcIiArIGNoYXJhY3RlckVuY29kaW5nICsgXCIpXCIgKSxcbiAgICBcIkNMQVNTXCI6IG5ldyBSZWdFeHAoIFwiXlxcXFwuKFwiICsgY2hhcmFjdGVyRW5jb2RpbmcgKyBcIilcIiApLFxuICAgIFwiVEFHXCI6IG5ldyBSZWdFeHAoIFwiXihcIiArIGNoYXJhY3RlckVuY29kaW5nLnJlcGxhY2UoIFwid1wiLCBcIncqXCIgKSArIFwiKVwiICksXG4gICAgXCJBVFRSXCI6IG5ldyBSZWdFeHAoIFwiXlwiICsgYXR0cmlidXRlcyApLFxuICAgIFwiUFNFVURPXCI6IG5ldyBSZWdFeHAoIFwiXlwiICsgcHNldWRvcyApLFxuICAgIFwiQ0hJTERcIjogbmV3IFJlZ0V4cCggXCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXFxcKFwiICsgd2hpdGVzcGFjZSArXG4gICAgICBcIiooZXZlbnxvZGR8KChbKy1dfCkoXFxcXGQqKW58KVwiICsgd2hpdGVzcGFjZSArIFwiKig/OihbKy1dfClcIiArIHdoaXRlc3BhY2UgK1xuICAgICAgXCIqKFxcXFxkKyl8KSlcIiArIHdoaXRlc3BhY2UgKyBcIipcXFxcKXwpXCIsIFwiaVwiICksXG4gICAgXCJib29sXCI6IG5ldyBSZWdFeHAoIFwiXig/OlwiICsgYm9vbGVhbnMgKyBcIikkXCIsIFwiaVwiICksXG4gICAgLy8gRm9yIHVzZSBpbiBsaWJyYXJpZXMgaW1wbGVtZW50aW5nIC5pcygpXG4gICAgLy8gV2UgdXNlIHRoaXMgZm9yIFBPUyBtYXRjaGluZyBpbiBgc2VsZWN0YFxuICAgIFwibmVlZHNDb250ZXh0XCI6IG5ldyBSZWdFeHAoIFwiXlwiICsgd2hpdGVzcGFjZSArIFwiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFxcXChcIiArXG4gICAgICB3aGl0ZXNwYWNlICsgXCIqKCg/Oi1cXFxcZCk/XFxcXGQqKVwiICsgd2hpdGVzcGFjZSArIFwiKlxcXFwpfCkoPz1bXi1dfCQpXCIsIFwiaVwiIClcbiAgfSxcblxuICByaW5wdXRzID0gL14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxcbiAgcmhlYWRlciA9IC9eaFxcZCQvaSxcblxuICBybmF0aXZlID0gL15bXntdK1xce1xccypcXFtuYXRpdmUgXFx3LyxcblxuICAvLyBFYXNpbHktcGFyc2VhYmxlL3JldHJpZXZhYmxlIElEIG9yIFRBRyBvciBDTEFTUyBzZWxlY3RvcnNcbiAgcnF1aWNrRXhwciA9IC9eKD86IyhbXFx3LV0rKXwoXFx3Kyl8XFwuKFtcXHctXSspKSQvLFxuXG4gIHJzaWJsaW5nID0gL1srfl0vLFxuICByZXNjYXBlID0gLyd8XFxcXC9nLFxuXG4gIC8vIENTUyBlc2NhcGVzIGh0dHA6Ly93d3cudzMub3JnL1RSL0NTUzIxL3N5bmRhdGEuaHRtbCNlc2NhcGVkLWNoYXJhY3RlcnNcbiAgcnVuZXNjYXBlID0gbmV3IFJlZ0V4cCggXCJcXFxcXFxcXChbXFxcXGRhLWZdezEsNn1cIiArIHdoaXRlc3BhY2UgKyBcIj98KFwiICsgd2hpdGVzcGFjZSArIFwiKXwuKVwiLCBcImlnXCIgKSxcbiAgZnVuZXNjYXBlID0gZnVuY3Rpb24oIF8sIGVzY2FwZWQsIGVzY2FwZWRXaGl0ZXNwYWNlICkge1xuICAgIHZhciBoaWdoID0gXCIweFwiICsgZXNjYXBlZCAtIDB4MTAwMDA7XG4gICAgLy8gTmFOIG1lYW5zIG5vbi1jb2RlcG9pbnRcbiAgICAvLyBTdXBwb3J0OiBGaXJlZm94PDI0XG4gICAgLy8gV29ya2Fyb3VuZCBlcnJvbmVvdXMgbnVtZXJpYyBpbnRlcnByZXRhdGlvbiBvZiArXCIweFwiXG4gICAgcmV0dXJuIGhpZ2ggIT09IGhpZ2ggfHwgZXNjYXBlZFdoaXRlc3BhY2UgP1xuICAgICAgZXNjYXBlZCA6XG4gICAgICBoaWdoIDwgMCA/XG4gICAgICAgIC8vIEJNUCBjb2RlcG9pbnRcbiAgICAgICAgU3RyaW5nLmZyb21DaGFyQ29kZSggaGlnaCArIDB4MTAwMDAgKSA6XG4gICAgICAgIC8vIFN1cHBsZW1lbnRhbCBQbGFuZSBjb2RlcG9pbnQgKHN1cnJvZ2F0ZSBwYWlyKVxuICAgICAgICBTdHJpbmcuZnJvbUNoYXJDb2RlKCBoaWdoID4+IDEwIHwgMHhEODAwLCBoaWdoICYgMHgzRkYgfCAweERDMDAgKTtcbiAgfSxcblxuICAvLyBVc2VkIGZvciBpZnJhbWVzXG4gIC8vIFNlZSBzZXREb2N1bWVudCgpXG4gIC8vIFJlbW92aW5nIHRoZSBmdW5jdGlvbiB3cmFwcGVyIGNhdXNlcyBhIFwiUGVybWlzc2lvbiBEZW5pZWRcIlxuICAvLyBlcnJvciBpbiBJRVxuICB1bmxvYWRIYW5kbGVyID0gZnVuY3Rpb24oKSB7XG4gICAgc2V0RG9jdW1lbnQoKTtcbiAgfTtcblxuLy8gT3B0aW1pemUgZm9yIHB1c2guYXBwbHkoIF8sIE5vZGVMaXN0IClcbnRyeSB7XG4gIHB1c2guYXBwbHkoXG4gICAgKGFyciA9IHNsaWNlLmNhbGwoIHByZWZlcnJlZERvYy5jaGlsZE5vZGVzICkpLFxuICAgIHByZWZlcnJlZERvYy5jaGlsZE5vZGVzXG4gICk7XG4gIC8vIFN1cHBvcnQ6IEFuZHJvaWQ8NC4wXG4gIC8vIERldGVjdCBzaWxlbnRseSBmYWlsaW5nIHB1c2guYXBwbHlcbiAgYXJyWyBwcmVmZXJyZWREb2MuY2hpbGROb2Rlcy5sZW5ndGggXS5ub2RlVHlwZTtcbn0gY2F0Y2ggKCBlICkge1xuICBwdXNoID0geyBhcHBseTogYXJyLmxlbmd0aCA/XG5cbiAgICAvLyBMZXZlcmFnZSBzbGljZSBpZiBwb3NzaWJsZVxuICAgIGZ1bmN0aW9uKCB0YXJnZXQsIGVscyApIHtcbiAgICAgIHB1c2hfbmF0aXZlLmFwcGx5KCB0YXJnZXQsIHNsaWNlLmNhbGwoZWxzKSApO1xuICAgIH0gOlxuXG4gICAgLy8gU3VwcG9ydDogSUU8OVxuICAgIC8vIE90aGVyd2lzZSBhcHBlbmQgZGlyZWN0bHlcbiAgICBmdW5jdGlvbiggdGFyZ2V0LCBlbHMgKSB7XG4gICAgICB2YXIgaiA9IHRhcmdldC5sZW5ndGgsXG4gICAgICAgIGkgPSAwO1xuICAgICAgLy8gQ2FuJ3QgdHJ1c3QgTm9kZUxpc3QubGVuZ3RoXG4gICAgICB3aGlsZSAoICh0YXJnZXRbaisrXSA9IGVsc1tpKytdKSApIHt9XG4gICAgICB0YXJnZXQubGVuZ3RoID0gaiAtIDE7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBTaXp6bGUoIHNlbGVjdG9yLCBjb250ZXh0LCByZXN1bHRzLCBzZWVkICkge1xuICB2YXIgbWF0Y2gsIGVsZW0sIG0sIG5vZGVUeXBlLFxuICAgIC8vIFFTQSB2YXJzXG4gICAgaSwgZ3JvdXBzLCBvbGQsIG5pZCwgbmV3Q29udGV4dCwgbmV3U2VsZWN0b3I7XG5cbiAgaWYgKCAoIGNvbnRleHQgPyBjb250ZXh0Lm93bmVyRG9jdW1lbnQgfHwgY29udGV4dCA6IHByZWZlcnJlZERvYyApICE9PSBkb2N1bWVudCApIHtcbiAgICBzZXREb2N1bWVudCggY29udGV4dCApO1xuICB9XG5cbiAgY29udGV4dCA9IGNvbnRleHQgfHwgZG9jdW1lbnQ7XG4gIHJlc3VsdHMgPSByZXN1bHRzIHx8IFtdO1xuICBub2RlVHlwZSA9IGNvbnRleHQubm9kZVR5cGU7XG5cbiAgaWYgKCB0eXBlb2Ygc2VsZWN0b3IgIT09IFwic3RyaW5nXCIgfHwgIXNlbGVjdG9yIHx8XG4gICAgbm9kZVR5cGUgIT09IDEgJiYgbm9kZVR5cGUgIT09IDkgJiYgbm9kZVR5cGUgIT09IDExICkge1xuXG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH1cblxuICBpZiAoICFzZWVkICYmIGRvY3VtZW50SXNIVE1MICkge1xuXG4gICAgLy8gVHJ5IHRvIHNob3J0Y3V0IGZpbmQgb3BlcmF0aW9ucyB3aGVuIHBvc3NpYmxlIChlLmcuLCBub3QgdW5kZXIgRG9jdW1lbnRGcmFnbWVudClcbiAgICBpZiAoIG5vZGVUeXBlICE9PSAxMSAmJiAobWF0Y2ggPSBycXVpY2tFeHByLmV4ZWMoIHNlbGVjdG9yICkpICkge1xuICAgICAgLy8gU3BlZWQtdXA6IFNpenpsZShcIiNJRFwiKVxuICAgICAgaWYgKCAobSA9IG1hdGNoWzFdKSApIHtcbiAgICAgICAgaWYgKCBub2RlVHlwZSA9PT0gOSApIHtcbiAgICAgICAgICBlbGVtID0gY29udGV4dC5nZXRFbGVtZW50QnlJZCggbSApO1xuICAgICAgICAgIC8vIENoZWNrIHBhcmVudE5vZGUgdG8gY2F0Y2ggd2hlbiBCbGFja2JlcnJ5IDQuNiByZXR1cm5zXG4gICAgICAgICAgLy8gbm9kZXMgdGhhdCBhcmUgbm8gbG9uZ2VyIGluIHRoZSBkb2N1bWVudCAoalF1ZXJ5ICM2OTYzKVxuICAgICAgICAgIGlmICggZWxlbSAmJiBlbGVtLnBhcmVudE5vZGUgKSB7XG4gICAgICAgICAgICAvLyBIYW5kbGUgdGhlIGNhc2Ugd2hlcmUgSUUsIE9wZXJhLCBhbmQgV2Via2l0IHJldHVybiBpdGVtc1xuICAgICAgICAgICAgLy8gYnkgbmFtZSBpbnN0ZWFkIG9mIElEXG4gICAgICAgICAgICBpZiAoIGVsZW0uaWQgPT09IG0gKSB7XG4gICAgICAgICAgICAgIHJlc3VsdHMucHVzaCggZWxlbSApO1xuICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIENvbnRleHQgaXMgbm90IGEgZG9jdW1lbnRcbiAgICAgICAgICBpZiAoIGNvbnRleHQub3duZXJEb2N1bWVudCAmJiAoZWxlbSA9IGNvbnRleHQub3duZXJEb2N1bWVudC5nZXRFbGVtZW50QnlJZCggbSApKSAmJlxuICAgICAgICAgICAgY29udGFpbnMoIGNvbnRleHQsIGVsZW0gKSAmJiBlbGVtLmlkID09PSBtICkge1xuICAgICAgICAgICAgcmVzdWx0cy5wdXNoKCBlbGVtICk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgLy8gU3BlZWQtdXA6IFNpenpsZShcIlRBR1wiKVxuICAgICAgfSBlbHNlIGlmICggbWF0Y2hbMl0gKSB7XG4gICAgICAgIHB1c2guYXBwbHkoIHJlc3VsdHMsIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHNlbGVjdG9yICkgKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG5cbiAgICAgIC8vIFNwZWVkLXVwOiBTaXp6bGUoXCIuQ0xBU1NcIilcbiAgICAgIH0gZWxzZSBpZiAoIChtID0gbWF0Y2hbM10pICYmIHN1cHBvcnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSApIHtcbiAgICAgICAgcHVzaC5hcHBseSggcmVzdWx0cywgY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCBtICkgKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUVNBIHBhdGhcbiAgICBpZiAoIHN1cHBvcnQucXNhICYmICghcmJ1Z2d5UVNBIHx8ICFyYnVnZ3lRU0EudGVzdCggc2VsZWN0b3IgKSkgKSB7XG4gICAgICBuaWQgPSBvbGQgPSBleHBhbmRvO1xuICAgICAgbmV3Q29udGV4dCA9IGNvbnRleHQ7XG4gICAgICBuZXdTZWxlY3RvciA9IG5vZGVUeXBlICE9PSAxICYmIHNlbGVjdG9yO1xuXG4gICAgICAvLyBxU0Egd29ya3Mgc3RyYW5nZWx5IG9uIEVsZW1lbnQtcm9vdGVkIHF1ZXJpZXNcbiAgICAgIC8vIFdlIGNhbiB3b3JrIGFyb3VuZCB0aGlzIGJ5IHNwZWNpZnlpbmcgYW4gZXh0cmEgSUQgb24gdGhlIHJvb3RcbiAgICAgIC8vIGFuZCB3b3JraW5nIHVwIGZyb20gdGhlcmUgKFRoYW5rcyB0byBBbmRyZXcgRHVwb250IGZvciB0aGUgdGVjaG5pcXVlKVxuICAgICAgLy8gSUUgOCBkb2Vzbid0IHdvcmsgb24gb2JqZWN0IGVsZW1lbnRzXG4gICAgICBpZiAoIG5vZGVUeXBlID09PSAxICYmIGNvbnRleHQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSAhPT0gXCJvYmplY3RcIiApIHtcbiAgICAgICAgZ3JvdXBzID0gdG9rZW5pemUoIHNlbGVjdG9yICk7XG5cbiAgICAgICAgaWYgKCAob2xkID0gY29udGV4dC5nZXRBdHRyaWJ1dGUoXCJpZFwiKSkgKSB7XG4gICAgICAgICAgbmlkID0gb2xkLnJlcGxhY2UoIHJlc2NhcGUsIFwiXFxcXCQmXCIgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb250ZXh0LnNldEF0dHJpYnV0ZSggXCJpZFwiLCBuaWQgKTtcbiAgICAgICAgfVxuICAgICAgICBuaWQgPSBcIltpZD0nXCIgKyBuaWQgKyBcIiddIFwiO1xuXG4gICAgICAgIGkgPSBncm91cHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGktLSApIHtcbiAgICAgICAgICBncm91cHNbaV0gPSBuaWQgKyB0b1NlbGVjdG9yKCBncm91cHNbaV0gKTtcbiAgICAgICAgfVxuICAgICAgICBuZXdDb250ZXh0ID0gcnNpYmxpbmcudGVzdCggc2VsZWN0b3IgKSAmJiB0ZXN0Q29udGV4dCggY29udGV4dC5wYXJlbnROb2RlICkgfHwgY29udGV4dDtcbiAgICAgICAgbmV3U2VsZWN0b3IgPSBncm91cHMuam9pbihcIixcIik7XG4gICAgICB9XG5cbiAgICAgIGlmICggbmV3U2VsZWN0b3IgKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcHVzaC5hcHBseSggcmVzdWx0cyxcbiAgICAgICAgICAgIG5ld0NvbnRleHQucXVlcnlTZWxlY3RvckFsbCggbmV3U2VsZWN0b3IgKVxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICAgIH0gY2F0Y2gocXNhRXJyb3IpIHtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBpZiAoICFvbGQgKSB7XG4gICAgICAgICAgICBjb250ZXh0LnJlbW92ZUF0dHJpYnV0ZShcImlkXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIEFsbCBvdGhlcnNcbiAgcmV0dXJuIHNlbGVjdCggc2VsZWN0b3IucmVwbGFjZSggcnRyaW0sIFwiJDFcIiApLCBjb250ZXh0LCByZXN1bHRzLCBzZWVkICk7XG59XG5cbi8qKlxuICogQ3JlYXRlIGtleS12YWx1ZSBjYWNoZXMgb2YgbGltaXRlZCBzaXplXG4gKiBAcmV0dXJucyB7RnVuY3Rpb24oc3RyaW5nLCBPYmplY3QpfSBSZXR1cm5zIHRoZSBPYmplY3QgZGF0YSBhZnRlciBzdG9yaW5nIGl0IG9uIGl0c2VsZiB3aXRoXG4gKiAgcHJvcGVydHkgbmFtZSB0aGUgKHNwYWNlLXN1ZmZpeGVkKSBzdHJpbmcgYW5kIChpZiB0aGUgY2FjaGUgaXMgbGFyZ2VyIHRoYW4gRXhwci5jYWNoZUxlbmd0aClcbiAqICBkZWxldGluZyB0aGUgb2xkZXN0IGVudHJ5XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUNhY2hlKCkge1xuICB2YXIga2V5cyA9IFtdO1xuXG4gIGZ1bmN0aW9uIGNhY2hlKCBrZXksIHZhbHVlICkge1xuICAgIC8vIFVzZSAoa2V5ICsgXCIgXCIpIHRvIGF2b2lkIGNvbGxpc2lvbiB3aXRoIG5hdGl2ZSBwcm90b3R5cGUgcHJvcGVydGllcyAoc2VlIElzc3VlICMxNTcpXG4gICAgaWYgKCBrZXlzLnB1c2goIGtleSArIFwiIFwiICkgPiBFeHByLmNhY2hlTGVuZ3RoICkge1xuICAgICAgLy8gT25seSBrZWVwIHRoZSBtb3N0IHJlY2VudCBlbnRyaWVzXG4gICAgICBkZWxldGUgY2FjaGVbIGtleXMuc2hpZnQoKSBdO1xuICAgIH1cbiAgICByZXR1cm4gKGNhY2hlWyBrZXkgKyBcIiBcIiBdID0gdmFsdWUpO1xuICB9XG4gIHJldHVybiBjYWNoZTtcbn1cblxuLyoqXG4gKiBNYXJrIGEgZnVuY3Rpb24gZm9yIHNwZWNpYWwgdXNlIGJ5IFNpenpsZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIG1hcmtcbiAqL1xuZnVuY3Rpb24gbWFya0Z1bmN0aW9uKCBmbiApIHtcbiAgZm5bIGV4cGFuZG8gXSA9IHRydWU7XG4gIHJldHVybiBmbjtcbn1cblxuLyoqXG4gKiBTdXBwb3J0IHRlc3RpbmcgdXNpbmcgYW4gZWxlbWVudFxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gUGFzc2VkIHRoZSBjcmVhdGVkIGRpdiBhbmQgZXhwZWN0cyBhIGJvb2xlYW4gcmVzdWx0XG4gKi9cbmZ1bmN0aW9uIGFzc2VydCggZm4gKSB7XG4gIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4gIHRyeSB7XG4gICAgcmV0dXJuICEhZm4oIGRpdiApO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IGZpbmFsbHkge1xuICAgIC8vIFJlbW92ZSBmcm9tIGl0cyBwYXJlbnQgYnkgZGVmYXVsdFxuICAgIGlmICggZGl2LnBhcmVudE5vZGUgKSB7XG4gICAgICBkaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggZGl2ICk7XG4gICAgfVxuICAgIC8vIHJlbGVhc2UgbWVtb3J5IGluIElFXG4gICAgZGl2ID0gbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIEFkZHMgdGhlIHNhbWUgaGFuZGxlciBmb3IgYWxsIG9mIHRoZSBzcGVjaWZpZWQgYXR0cnNcbiAqIEBwYXJhbSB7U3RyaW5nfSBhdHRycyBQaXBlLXNlcGFyYXRlZCBsaXN0IG9mIGF0dHJpYnV0ZXNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXIgVGhlIG1ldGhvZCB0aGF0IHdpbGwgYmUgYXBwbGllZFxuICovXG5mdW5jdGlvbiBhZGRIYW5kbGUoIGF0dHJzLCBoYW5kbGVyICkge1xuICB2YXIgYXJyID0gYXR0cnMuc3BsaXQoXCJ8XCIpLFxuICAgIGkgPSBhdHRycy5sZW5ndGg7XG5cbiAgd2hpbGUgKCBpLS0gKSB7XG4gICAgRXhwci5hdHRySGFuZGxlWyBhcnJbaV0gXSA9IGhhbmRsZXI7XG4gIH1cbn1cblxuLyoqXG4gKiBDaGVja3MgZG9jdW1lbnQgb3JkZXIgb2YgdHdvIHNpYmxpbmdzXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGFcbiAqIEBwYXJhbSB7RWxlbWVudH0gYlxuICogQHJldHVybnMge051bWJlcn0gUmV0dXJucyBsZXNzIHRoYW4gMCBpZiBhIHByZWNlZGVzIGIsIGdyZWF0ZXIgdGhhbiAwIGlmIGEgZm9sbG93cyBiXG4gKi9cbmZ1bmN0aW9uIHNpYmxpbmdDaGVjayggYSwgYiApIHtcbiAgdmFyIGN1ciA9IGIgJiYgYSxcbiAgICBkaWZmID0gY3VyICYmIGEubm9kZVR5cGUgPT09IDEgJiYgYi5ub2RlVHlwZSA9PT0gMSAmJlxuICAgICAgKCB+Yi5zb3VyY2VJbmRleCB8fCBNQVhfTkVHQVRJVkUgKSAtXG4gICAgICAoIH5hLnNvdXJjZUluZGV4IHx8IE1BWF9ORUdBVElWRSApO1xuXG4gIC8vIFVzZSBJRSBzb3VyY2VJbmRleCBpZiBhdmFpbGFibGUgb24gYm90aCBub2Rlc1xuICBpZiAoIGRpZmYgKSB7XG4gICAgcmV0dXJuIGRpZmY7XG4gIH1cblxuICAvLyBDaGVjayBpZiBiIGZvbGxvd3MgYVxuICBpZiAoIGN1ciApIHtcbiAgICB3aGlsZSAoIChjdXIgPSBjdXIubmV4dFNpYmxpbmcpICkge1xuICAgICAgaWYgKCBjdXIgPT09IGIgKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gYSA/IDEgOiAtMTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gdXNlIGluIHBzZXVkb3MgZm9yIGlucHV0IHR5cGVzXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICovXG5mdW5jdGlvbiBjcmVhdGVJbnB1dFBzZXVkbyggdHlwZSApIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuICAgIHZhciBuYW1lID0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIHJldHVybiBuYW1lID09PSBcImlucHV0XCIgJiYgZWxlbS50eXBlID09PSB0eXBlO1xuICB9O1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB0byB1c2UgaW4gcHNldWRvcyBmb3IgYnV0dG9uc1xuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQnV0dG9uUHNldWRvKCB0eXBlICkge1xuICByZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG4gICAgdmFyIG5hbWUgPSBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgcmV0dXJuIChuYW1lID09PSBcImlucHV0XCIgfHwgbmFtZSA9PT0gXCJidXR0b25cIikgJiYgZWxlbS50eXBlID09PSB0eXBlO1xuICB9O1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB0byB1c2UgaW4gcHNldWRvcyBmb3IgcG9zaXRpb25hbHNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oIGZuICkge1xuICByZXR1cm4gbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBhcmd1bWVudCApIHtcbiAgICBhcmd1bWVudCA9ICthcmd1bWVudDtcbiAgICByZXR1cm4gbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWVkLCBtYXRjaGVzICkge1xuICAgICAgdmFyIGosXG4gICAgICAgIG1hdGNoSW5kZXhlcyA9IGZuKCBbXSwgc2VlZC5sZW5ndGgsIGFyZ3VtZW50ICksXG4gICAgICAgIGkgPSBtYXRjaEluZGV4ZXMubGVuZ3RoO1xuXG4gICAgICAvLyBNYXRjaCBlbGVtZW50cyBmb3VuZCBhdCB0aGUgc3BlY2lmaWVkIGluZGV4ZXNcbiAgICAgIHdoaWxlICggaS0tICkge1xuICAgICAgICBpZiAoIHNlZWRbIChqID0gbWF0Y2hJbmRleGVzW2ldKSBdICkge1xuICAgICAgICAgIHNlZWRbal0gPSAhKG1hdGNoZXNbal0gPSBzZWVkW2pdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgYSBub2RlIGZvciB2YWxpZGl0eSBhcyBhIFNpenpsZSBjb250ZXh0XG4gKiBAcGFyYW0ge0VsZW1lbnR8T2JqZWN0PX0gY29udGV4dFxuICogQHJldHVybnMge0VsZW1lbnR8T2JqZWN0fEJvb2xlYW59IFRoZSBpbnB1dCBub2RlIGlmIGFjY2VwdGFibGUsIG90aGVyd2lzZSBhIGZhbHN5IHZhbHVlXG4gKi9cbmZ1bmN0aW9uIHRlc3RDb250ZXh0KCBjb250ZXh0ICkge1xuICByZXR1cm4gY29udGV4dCAmJiB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBjb250ZXh0O1xufVxuXG4vLyBFeHBvc2Ugc3VwcG9ydCB2YXJzIGZvciBjb252ZW5pZW5jZVxuc3VwcG9ydCA9IFNpenpsZS5zdXBwb3J0ID0ge307XG5cbi8qKlxuICogRGV0ZWN0cyBYTUwgbm9kZXNcbiAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3R9IGVsZW0gQW4gZWxlbWVudCBvciBhIGRvY3VtZW50XG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZmYgZWxlbSBpcyBhIG5vbi1IVE1MIFhNTCBub2RlXG4gKi9cbmlzWE1MID0gU2l6emxlLmlzWE1MID0gZnVuY3Rpb24oIGVsZW0gKSB7XG4gIC8vIGRvY3VtZW50RWxlbWVudCBpcyB2ZXJpZmllZCBmb3IgY2FzZXMgd2hlcmUgaXQgZG9lc24ndCB5ZXQgZXhpc3RcbiAgLy8gKHN1Y2ggYXMgbG9hZGluZyBpZnJhbWVzIGluIElFIC0gIzQ4MzMpXG4gIHZhciBkb2N1bWVudEVsZW1lbnQgPSBlbGVtICYmIChlbGVtLm93bmVyRG9jdW1lbnQgfHwgZWxlbSkuZG9jdW1lbnRFbGVtZW50O1xuICByZXR1cm4gZG9jdW1lbnRFbGVtZW50ID8gZG9jdW1lbnRFbGVtZW50Lm5vZGVOYW1lICE9PSBcIkhUTUxcIiA6IGZhbHNlO1xufTtcblxuLyoqXG4gKiBTZXRzIGRvY3VtZW50LXJlbGF0ZWQgdmFyaWFibGVzIG9uY2UgYmFzZWQgb24gdGhlIGN1cnJlbnQgZG9jdW1lbnRcbiAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3R9IFtkb2NdIEFuIGVsZW1lbnQgb3IgZG9jdW1lbnQgb2JqZWN0IHRvIHVzZSB0byBzZXQgdGhlIGRvY3VtZW50XG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjdXJyZW50IGRvY3VtZW50XG4gKi9cbnNldERvY3VtZW50ID0gU2l6emxlLnNldERvY3VtZW50ID0gZnVuY3Rpb24oIG5vZGUgKSB7XG4gIHZhciBoYXNDb21wYXJlLCBwYXJlbnQsXG4gICAgZG9jID0gbm9kZSA/IG5vZGUub3duZXJEb2N1bWVudCB8fCBub2RlIDogcHJlZmVycmVkRG9jO1xuXG4gIC8vIElmIG5vIGRvY3VtZW50IGFuZCBkb2N1bWVudEVsZW1lbnQgaXMgYXZhaWxhYmxlLCByZXR1cm5cbiAgaWYgKCBkb2MgPT09IGRvY3VtZW50IHx8IGRvYy5ub2RlVHlwZSAhPT0gOSB8fCAhZG9jLmRvY3VtZW50RWxlbWVudCApIHtcbiAgICByZXR1cm4gZG9jdW1lbnQ7XG4gIH1cblxuICAvLyBTZXQgb3VyIGRvY3VtZW50XG4gIGRvY3VtZW50ID0gZG9jO1xuICBkb2NFbGVtID0gZG9jLmRvY3VtZW50RWxlbWVudDtcbiAgcGFyZW50ID0gZG9jLmRlZmF1bHRWaWV3O1xuXG4gIC8vIFN1cHBvcnQ6IElFPjhcbiAgLy8gSWYgaWZyYW1lIGRvY3VtZW50IGlzIGFzc2lnbmVkIHRvIFwiZG9jdW1lbnRcIiB2YXJpYWJsZSBhbmQgaWYgaWZyYW1lIGhhcyBiZWVuIHJlbG9hZGVkLFxuICAvLyBJRSB3aWxsIHRocm93IFwicGVybWlzc2lvbiBkZW5pZWRcIiBlcnJvciB3aGVuIGFjY2Vzc2luZyBcImRvY3VtZW50XCIgdmFyaWFibGUsIHNlZSBqUXVlcnkgIzEzOTM2XG4gIC8vIElFNi04IGRvIG5vdCBzdXBwb3J0IHRoZSBkZWZhdWx0VmlldyBwcm9wZXJ0eSBzbyBwYXJlbnQgd2lsbCBiZSB1bmRlZmluZWRcbiAgaWYgKCBwYXJlbnQgJiYgcGFyZW50ICE9PSBwYXJlbnQudG9wICkge1xuICAgIC8vIElFMTEgZG9lcyBub3QgaGF2ZSBhdHRhY2hFdmVudCwgc28gYWxsIG11c3Qgc3VmZmVyXG4gICAgaWYgKCBwYXJlbnQuYWRkRXZlbnRMaXN0ZW5lciApIHtcbiAgICAgIHBhcmVudC5hZGRFdmVudExpc3RlbmVyKCBcInVubG9hZFwiLCB1bmxvYWRIYW5kbGVyLCBmYWxzZSApO1xuICAgIH0gZWxzZSBpZiAoIHBhcmVudC5hdHRhY2hFdmVudCApIHtcbiAgICAgIHBhcmVudC5hdHRhY2hFdmVudCggXCJvbnVubG9hZFwiLCB1bmxvYWRIYW5kbGVyICk7XG4gICAgfVxuICB9XG5cbiAgLyogU3VwcG9ydCB0ZXN0c1xuICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4gIGRvY3VtZW50SXNIVE1MID0gIWlzWE1MKCBkb2MgKTtcblxuICAvKiBBdHRyaWJ1dGVzXG4gIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuICAvLyBTdXBwb3J0OiBJRTw4XG4gIC8vIFZlcmlmeSB0aGF0IGdldEF0dHJpYnV0ZSByZWFsbHkgcmV0dXJucyBhdHRyaWJ1dGVzIGFuZCBub3QgcHJvcGVydGllc1xuICAvLyAoZXhjZXB0aW5nIElFOCBib29sZWFucylcbiAgc3VwcG9ydC5hdHRyaWJ1dGVzID0gYXNzZXJ0KGZ1bmN0aW9uKCBkaXYgKSB7XG4gICAgZGl2LmNsYXNzTmFtZSA9IFwiaVwiO1xuICAgIHJldHVybiAhZGl2LmdldEF0dHJpYnV0ZShcImNsYXNzTmFtZVwiKTtcbiAgfSk7XG5cbiAgLyogZ2V0RWxlbWVudChzKUJ5KlxuICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbiAgLy8gQ2hlY2sgaWYgZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCIqXCIpIHJldHVybnMgb25seSBlbGVtZW50c1xuICBzdXBwb3J0LmdldEVsZW1lbnRzQnlUYWdOYW1lID0gYXNzZXJ0KGZ1bmN0aW9uKCBkaXYgKSB7XG4gICAgZGl2LmFwcGVuZENoaWxkKCBkb2MuY3JlYXRlQ29tbWVudChcIlwiKSApO1xuICAgIHJldHVybiAhZGl2LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiKlwiKS5sZW5ndGg7XG4gIH0pO1xuXG4gIC8vIFN1cHBvcnQ6IElFPDlcbiAgc3VwcG9ydC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lID0gcm5hdGl2ZS50ZXN0KCBkb2MuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSApO1xuXG4gIC8vIFN1cHBvcnQ6IElFPDEwXG4gIC8vIENoZWNrIGlmIGdldEVsZW1lbnRCeUlkIHJldHVybnMgZWxlbWVudHMgYnkgbmFtZVxuICAvLyBUaGUgYnJva2VuIGdldEVsZW1lbnRCeUlkIG1ldGhvZHMgZG9uJ3QgcGljayB1cCBwcm9ncmFtYXRpY2FsbHktc2V0IG5hbWVzLFxuICAvLyBzbyB1c2UgYSByb3VuZGFib3V0IGdldEVsZW1lbnRzQnlOYW1lIHRlc3RcbiAgc3VwcG9ydC5nZXRCeUlkID0gYXNzZXJ0KGZ1bmN0aW9uKCBkaXYgKSB7XG4gICAgZG9jRWxlbS5hcHBlbmRDaGlsZCggZGl2ICkuaWQgPSBleHBhbmRvO1xuICAgIHJldHVybiAhZG9jLmdldEVsZW1lbnRzQnlOYW1lIHx8ICFkb2MuZ2V0RWxlbWVudHNCeU5hbWUoIGV4cGFuZG8gKS5sZW5ndGg7XG4gIH0pO1xuXG4gIC8vIElEIGZpbmQgYW5kIGZpbHRlclxuICBpZiAoIHN1cHBvcnQuZ2V0QnlJZCApIHtcbiAgICBFeHByLmZpbmRbXCJJRFwiXSA9IGZ1bmN0aW9uKCBpZCwgY29udGV4dCApIHtcbiAgICAgIGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQgIT09IFwidW5kZWZpbmVkXCIgJiYgZG9jdW1lbnRJc0hUTUwgKSB7XG4gICAgICAgIHZhciBtID0gY29udGV4dC5nZXRFbGVtZW50QnlJZCggaWQgKTtcbiAgICAgICAgLy8gQ2hlY2sgcGFyZW50Tm9kZSB0byBjYXRjaCB3aGVuIEJsYWNrYmVycnkgNC42IHJldHVybnNcbiAgICAgICAgLy8gbm9kZXMgdGhhdCBhcmUgbm8gbG9uZ2VyIGluIHRoZSBkb2N1bWVudCAjNjk2M1xuICAgICAgICByZXR1cm4gbSAmJiBtLnBhcmVudE5vZGUgPyBbIG0gXSA6IFtdO1xuICAgICAgfVxuICAgIH07XG4gICAgRXhwci5maWx0ZXJbXCJJRFwiXSA9IGZ1bmN0aW9uKCBpZCApIHtcbiAgICAgIHZhciBhdHRySWQgPSBpZC5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuICAgICAgICByZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUoXCJpZFwiKSA9PT0gYXR0cklkO1xuICAgICAgfTtcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIC8vIFN1cHBvcnQ6IElFNi83XG4gICAgLy8gZ2V0RWxlbWVudEJ5SWQgaXMgbm90IHJlbGlhYmxlIGFzIGEgZmluZCBzaG9ydGN1dFxuICAgIGRlbGV0ZSBFeHByLmZpbmRbXCJJRFwiXTtcblxuICAgIEV4cHIuZmlsdGVyW1wiSURcIl0gPSAgZnVuY3Rpb24oIGlkICkge1xuICAgICAgdmFyIGF0dHJJZCA9IGlkLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG4gICAgICAgIHZhciBub2RlID0gdHlwZW9mIGVsZW0uZ2V0QXR0cmlidXRlTm9kZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBlbGVtLmdldEF0dHJpYnV0ZU5vZGUoXCJpZFwiKTtcbiAgICAgICAgcmV0dXJuIG5vZGUgJiYgbm9kZS52YWx1ZSA9PT0gYXR0cklkO1xuICAgICAgfTtcbiAgICB9O1xuICB9XG5cbiAgLy8gVGFnXG4gIEV4cHIuZmluZFtcIlRBR1wiXSA9IHN1cHBvcnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgP1xuICAgIGZ1bmN0aW9uKCB0YWcsIGNvbnRleHQgKSB7XG4gICAgICBpZiAoIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lICE9PSBcInVuZGVmaW5lZFwiICkge1xuICAgICAgICByZXR1cm4gY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSggdGFnICk7XG5cbiAgICAgIC8vIERvY3VtZW50RnJhZ21lbnQgbm9kZXMgZG9uJ3QgaGF2ZSBnRUJUTlxuICAgICAgfSBlbHNlIGlmICggc3VwcG9ydC5xc2EgKSB7XG4gICAgICAgIHJldHVybiBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoIHRhZyApO1xuICAgICAgfVxuICAgIH0gOlxuXG4gICAgZnVuY3Rpb24oIHRhZywgY29udGV4dCApIHtcbiAgICAgIHZhciBlbGVtLFxuICAgICAgICB0bXAgPSBbXSxcbiAgICAgICAgaSA9IDAsXG4gICAgICAgIC8vIEJ5IGhhcHB5IGNvaW5jaWRlbmNlLCBhIChicm9rZW4pIGdFQlROIGFwcGVhcnMgb24gRG9jdW1lbnRGcmFnbWVudCBub2RlcyB0b29cbiAgICAgICAgcmVzdWx0cyA9IGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHRhZyApO1xuXG4gICAgICAvLyBGaWx0ZXIgb3V0IHBvc3NpYmxlIGNvbW1lbnRzXG4gICAgICBpZiAoIHRhZyA9PT0gXCIqXCIgKSB7XG4gICAgICAgIHdoaWxlICggKGVsZW0gPSByZXN1bHRzW2krK10pICkge1xuICAgICAgICAgIGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcbiAgICAgICAgICAgIHRtcC5wdXNoKCBlbGVtICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRtcDtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHRzO1xuICAgIH07XG5cbiAgLy8gQ2xhc3NcbiAgRXhwci5maW5kW1wiQ0xBU1NcIl0gPSBzdXBwb3J0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgJiYgZnVuY3Rpb24oIGNsYXNzTmFtZSwgY29udGV4dCApIHtcbiAgICBpZiAoIGRvY3VtZW50SXNIVE1MICkge1xuICAgICAgcmV0dXJuIGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSggY2xhc3NOYW1lICk7XG4gICAgfVxuICB9O1xuXG4gIC8qIFFTQS9tYXRjaGVzU2VsZWN0b3JcbiAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4gIC8vIFFTQSBhbmQgbWF0Y2hlc1NlbGVjdG9yIHN1cHBvcnRcblxuICAvLyBtYXRjaGVzU2VsZWN0b3IoOmFjdGl2ZSkgcmVwb3J0cyBmYWxzZSB3aGVuIHRydWUgKElFOS9PcGVyYSAxMS41KVxuICByYnVnZ3lNYXRjaGVzID0gW107XG5cbiAgLy8gcVNhKDpmb2N1cykgcmVwb3J0cyBmYWxzZSB3aGVuIHRydWUgKENocm9tZSAyMSlcbiAgLy8gV2UgYWxsb3cgdGhpcyBiZWNhdXNlIG9mIGEgYnVnIGluIElFOC85IHRoYXQgdGhyb3dzIGFuIGVycm9yXG4gIC8vIHdoZW5ldmVyIGBkb2N1bWVudC5hY3RpdmVFbGVtZW50YCBpcyBhY2Nlc3NlZCBvbiBhbiBpZnJhbWVcbiAgLy8gU28sIHdlIGFsbG93IDpmb2N1cyB0byBwYXNzIHRocm91Z2ggUVNBIGFsbCB0aGUgdGltZSB0byBhdm9pZCB0aGUgSUUgZXJyb3JcbiAgLy8gU2VlIGh0dHA6Ly9idWdzLmpxdWVyeS5jb20vdGlja2V0LzEzMzc4XG4gIHJidWdneVFTQSA9IFtdO1xuXG4gIGlmICggKHN1cHBvcnQucXNhID0gcm5hdGl2ZS50ZXN0KCBkb2MucXVlcnlTZWxlY3RvckFsbCApKSApIHtcbiAgICAvLyBCdWlsZCBRU0EgcmVnZXhcbiAgICAvLyBSZWdleCBzdHJhdGVneSBhZG9wdGVkIGZyb20gRGllZ28gUGVyaW5pXG4gICAgYXNzZXJ0KGZ1bmN0aW9uKCBkaXYgKSB7XG4gICAgICAvLyBTZWxlY3QgaXMgc2V0IHRvIGVtcHR5IHN0cmluZyBvbiBwdXJwb3NlXG4gICAgICAvLyBUaGlzIGlzIHRvIHRlc3QgSUUncyB0cmVhdG1lbnQgb2Ygbm90IGV4cGxpY2l0bHlcbiAgICAgIC8vIHNldHRpbmcgYSBib29sZWFuIGNvbnRlbnQgYXR0cmlidXRlLFxuICAgICAgLy8gc2luY2UgaXRzIHByZXNlbmNlIHNob3VsZCBiZSBlbm91Z2hcbiAgICAgIC8vIGh0dHA6Ly9idWdzLmpxdWVyeS5jb20vdGlja2V0LzEyMzU5XG4gICAgICBkb2NFbGVtLmFwcGVuZENoaWxkKCBkaXYgKS5pbm5lckhUTUwgPSBcIjxhIGlkPSdcIiArIGV4cGFuZG8gKyBcIic+PC9hPlwiICtcbiAgICAgICAgXCI8c2VsZWN0IGlkPSdcIiArIGV4cGFuZG8gKyBcIi1cXGZdJyBtc2FsbG93Y2FwdHVyZT0nJz5cIiArXG4gICAgICAgIFwiPG9wdGlvbiBzZWxlY3RlZD0nJz48L29wdGlvbj48L3NlbGVjdD5cIjtcblxuICAgICAgLy8gU3VwcG9ydDogSUU4LCBPcGVyYSAxMS0xMi4xNlxuICAgICAgLy8gTm90aGluZyBzaG91bGQgYmUgc2VsZWN0ZWQgd2hlbiBlbXB0eSBzdHJpbmdzIGZvbGxvdyBePSBvciAkPSBvciAqPVxuICAgICAgLy8gVGhlIHRlc3QgYXR0cmlidXRlIG11c3QgYmUgdW5rbm93biBpbiBPcGVyYSBidXQgXCJzYWZlXCIgZm9yIFdpblJUXG4gICAgICAvLyBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvaWUvaGg0NjUzODguYXNweCNhdHRyaWJ1dGVfc2VjdGlvblxuICAgICAgaWYgKCBkaXYucXVlcnlTZWxlY3RvckFsbChcIlttc2FsbG93Y2FwdHVyZV49JyddXCIpLmxlbmd0aCApIHtcbiAgICAgICAgcmJ1Z2d5UVNBLnB1c2goIFwiWypeJF09XCIgKyB3aGl0ZXNwYWNlICsgXCIqKD86Jyd8XFxcIlxcXCIpXCIgKTtcbiAgICAgIH1cblxuICAgICAgLy8gU3VwcG9ydDogSUU4XG4gICAgICAvLyBCb29sZWFuIGF0dHJpYnV0ZXMgYW5kIFwidmFsdWVcIiBhcmUgbm90IHRyZWF0ZWQgY29ycmVjdGx5XG4gICAgICBpZiAoICFkaXYucXVlcnlTZWxlY3RvckFsbChcIltzZWxlY3RlZF1cIikubGVuZ3RoICkge1xuICAgICAgICByYnVnZ3lRU0EucHVzaCggXCJcXFxcW1wiICsgd2hpdGVzcGFjZSArIFwiKig/OnZhbHVlfFwiICsgYm9vbGVhbnMgKyBcIilcIiApO1xuICAgICAgfVxuXG4gICAgICAvLyBTdXBwb3J0OiBDaHJvbWU8MjksIEFuZHJvaWQ8NC4yKywgU2FmYXJpPDcuMCssIGlPUzw3LjArLCBQaGFudG9tSlM8MS45LjcrXG4gICAgICBpZiAoICFkaXYucXVlcnlTZWxlY3RvckFsbCggXCJbaWR+PVwiICsgZXhwYW5kbyArIFwiLV1cIiApLmxlbmd0aCApIHtcbiAgICAgICAgcmJ1Z2d5UVNBLnB1c2goXCJ+PVwiKTtcbiAgICAgIH1cblxuICAgICAgLy8gV2Via2l0L09wZXJhIC0gOmNoZWNrZWQgc2hvdWxkIHJldHVybiBzZWxlY3RlZCBvcHRpb24gZWxlbWVudHNcbiAgICAgIC8vIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMTEvUkVDLWNzczMtc2VsZWN0b3JzLTIwMTEwOTI5LyNjaGVja2VkXG4gICAgICAvLyBJRTggdGhyb3dzIGVycm9yIGhlcmUgYW5kIHdpbGwgbm90IHNlZSBsYXRlciB0ZXN0c1xuICAgICAgaWYgKCAhZGl2LnF1ZXJ5U2VsZWN0b3JBbGwoXCI6Y2hlY2tlZFwiKS5sZW5ndGggKSB7XG4gICAgICAgIHJidWdneVFTQS5wdXNoKFwiOmNoZWNrZWRcIik7XG4gICAgICB9XG5cbiAgICAgIC8vIFN1cHBvcnQ6IFNhZmFyaSA4KywgaU9TIDgrXG4gICAgICAvLyBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTM2ODUxXG4gICAgICAvLyBJbi1wYWdlIGBzZWxlY3RvciNpZCBzaWJpbmctY29tYmluYXRvciBzZWxlY3RvcmAgZmFpbHNcbiAgICAgIGlmICggIWRpdi5xdWVyeVNlbGVjdG9yQWxsKCBcImEjXCIgKyBleHBhbmRvICsgXCIrKlwiICkubGVuZ3RoICkge1xuICAgICAgICByYnVnZ3lRU0EucHVzaChcIi4jLitbK35dXCIpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgYXNzZXJ0KGZ1bmN0aW9uKCBkaXYgKSB7XG4gICAgICAvLyBTdXBwb3J0OiBXaW5kb3dzIDggTmF0aXZlIEFwcHNcbiAgICAgIC8vIFRoZSB0eXBlIGFuZCBuYW1lIGF0dHJpYnV0ZXMgYXJlIHJlc3RyaWN0ZWQgZHVyaW5nIC5pbm5lckhUTUwgYXNzaWdubWVudFxuICAgICAgdmFyIGlucHV0ID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSggXCJ0eXBlXCIsIFwiaGlkZGVuXCIgKTtcbiAgICAgIGRpdi5hcHBlbmRDaGlsZCggaW5wdXQgKS5zZXRBdHRyaWJ1dGUoIFwibmFtZVwiLCBcIkRcIiApO1xuXG4gICAgICAvLyBTdXBwb3J0OiBJRThcbiAgICAgIC8vIEVuZm9yY2UgY2FzZS1zZW5zaXRpdml0eSBvZiBuYW1lIGF0dHJpYnV0ZVxuICAgICAgaWYgKCBkaXYucXVlcnlTZWxlY3RvckFsbChcIltuYW1lPWRdXCIpLmxlbmd0aCApIHtcbiAgICAgICAgcmJ1Z2d5UVNBLnB1c2goIFwibmFtZVwiICsgd2hpdGVzcGFjZSArIFwiKlsqXiR8IX5dPz1cIiApO1xuICAgICAgfVxuXG4gICAgICAvLyBGRiAzLjUgLSA6ZW5hYmxlZC86ZGlzYWJsZWQgYW5kIGhpZGRlbiBlbGVtZW50cyAoaGlkZGVuIGVsZW1lbnRzIGFyZSBzdGlsbCBlbmFibGVkKVxuICAgICAgLy8gSUU4IHRocm93cyBlcnJvciBoZXJlIGFuZCB3aWxsIG5vdCBzZWUgbGF0ZXIgdGVzdHNcbiAgICAgIGlmICggIWRpdi5xdWVyeVNlbGVjdG9yQWxsKFwiOmVuYWJsZWRcIikubGVuZ3RoICkge1xuICAgICAgICByYnVnZ3lRU0EucHVzaCggXCI6ZW5hYmxlZFwiLCBcIjpkaXNhYmxlZFwiICk7XG4gICAgICB9XG5cbiAgICAgIC8vIE9wZXJhIDEwLTExIGRvZXMgbm90IHRocm93IG9uIHBvc3QtY29tbWEgaW52YWxpZCBwc2V1ZG9zXG4gICAgICBkaXYucXVlcnlTZWxlY3RvckFsbChcIiosOnhcIik7XG4gICAgICByYnVnZ3lRU0EucHVzaChcIiwuKjpcIik7XG4gICAgfSk7XG4gIH1cblxuICBpZiAoIChzdXBwb3J0Lm1hdGNoZXNTZWxlY3RvciA9IHJuYXRpdmUudGVzdCggKG1hdGNoZXMgPSBkb2NFbGVtLm1hdGNoZXMgfHxcbiAgICBkb2NFbGVtLndlYmtpdE1hdGNoZXNTZWxlY3RvciB8fFxuICAgIGRvY0VsZW0ubW96TWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgZG9jRWxlbS5vTWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgZG9jRWxlbS5tc01hdGNoZXNTZWxlY3RvcikgKSkgKSB7XG5cbiAgICBhc3NlcnQoZnVuY3Rpb24oIGRpdiApIHtcbiAgICAgIC8vIENoZWNrIHRvIHNlZSBpZiBpdCdzIHBvc3NpYmxlIHRvIGRvIG1hdGNoZXNTZWxlY3RvclxuICAgICAgLy8gb24gYSBkaXNjb25uZWN0ZWQgbm9kZSAoSUUgOSlcbiAgICAgIHN1cHBvcnQuZGlzY29ubmVjdGVkTWF0Y2ggPSBtYXRjaGVzLmNhbGwoIGRpdiwgXCJkaXZcIiApO1xuXG4gICAgICAvLyBUaGlzIHNob3VsZCBmYWlsIHdpdGggYW4gZXhjZXB0aW9uXG4gICAgICAvLyBHZWNrbyBkb2VzIG5vdCBlcnJvciwgcmV0dXJucyBmYWxzZSBpbnN0ZWFkXG4gICAgICBtYXRjaGVzLmNhbGwoIGRpdiwgXCJbcyE9JyddOnhcIiApO1xuICAgICAgcmJ1Z2d5TWF0Y2hlcy5wdXNoKCBcIiE9XCIsIHBzZXVkb3MgKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJidWdneVFTQSA9IHJidWdneVFTQS5sZW5ndGggJiYgbmV3IFJlZ0V4cCggcmJ1Z2d5UVNBLmpvaW4oXCJ8XCIpICk7XG4gIHJidWdneU1hdGNoZXMgPSByYnVnZ3lNYXRjaGVzLmxlbmd0aCAmJiBuZXcgUmVnRXhwKCByYnVnZ3lNYXRjaGVzLmpvaW4oXCJ8XCIpICk7XG5cbiAgLyogQ29udGFpbnNcbiAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuICBoYXNDb21wYXJlID0gcm5hdGl2ZS50ZXN0KCBkb2NFbGVtLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uICk7XG5cbiAgLy8gRWxlbWVudCBjb250YWlucyBhbm90aGVyXG4gIC8vIFB1cnBvc2VmdWxseSBkb2VzIG5vdCBpbXBsZW1lbnQgaW5jbHVzaXZlIGRlc2NlbmRlbnRcbiAgLy8gQXMgaW4sIGFuIGVsZW1lbnQgZG9lcyBub3QgY29udGFpbiBpdHNlbGZcbiAgY29udGFpbnMgPSBoYXNDb21wYXJlIHx8IHJuYXRpdmUudGVzdCggZG9jRWxlbS5jb250YWlucyApID9cbiAgICBmdW5jdGlvbiggYSwgYiApIHtcbiAgICAgIHZhciBhZG93biA9IGEubm9kZVR5cGUgPT09IDkgPyBhLmRvY3VtZW50RWxlbWVudCA6IGEsXG4gICAgICAgIGJ1cCA9IGIgJiYgYi5wYXJlbnROb2RlO1xuICAgICAgcmV0dXJuIGEgPT09IGJ1cCB8fCAhISggYnVwICYmIGJ1cC5ub2RlVHlwZSA9PT0gMSAmJiAoXG4gICAgICAgIGFkb3duLmNvbnRhaW5zID9cbiAgICAgICAgICBhZG93bi5jb250YWlucyggYnVwICkgOlxuICAgICAgICAgIGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24gJiYgYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiggYnVwICkgJiAxNlxuICAgICAgKSk7XG4gICAgfSA6XG4gICAgZnVuY3Rpb24oIGEsIGIgKSB7XG4gICAgICBpZiAoIGIgKSB7XG4gICAgICAgIHdoaWxlICggKGIgPSBiLnBhcmVudE5vZGUpICkge1xuICAgICAgICAgIGlmICggYiA9PT0gYSApIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgLyogU29ydGluZ1xuICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbiAgLy8gRG9jdW1lbnQgb3JkZXIgc29ydGluZ1xuICBzb3J0T3JkZXIgPSBoYXNDb21wYXJlID9cbiAgZnVuY3Rpb24oIGEsIGIgKSB7XG5cbiAgICAvLyBGbGFnIGZvciBkdXBsaWNhdGUgcmVtb3ZhbFxuICAgIGlmICggYSA9PT0gYiApIHtcbiAgICAgIGhhc0R1cGxpY2F0ZSA9IHRydWU7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICAvLyBTb3J0IG9uIG1ldGhvZCBleGlzdGVuY2UgaWYgb25seSBvbmUgaW5wdXQgaGFzIGNvbXBhcmVEb2N1bWVudFBvc2l0aW9uXG4gICAgdmFyIGNvbXBhcmUgPSAhYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiAtICFiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uO1xuICAgIGlmICggY29tcGFyZSApIHtcbiAgICAgIHJldHVybiBjb21wYXJlO1xuICAgIH1cblxuICAgIC8vIENhbGN1bGF0ZSBwb3NpdGlvbiBpZiBib3RoIGlucHV0cyBiZWxvbmcgdG8gdGhlIHNhbWUgZG9jdW1lbnRcbiAgICBjb21wYXJlID0gKCBhLm93bmVyRG9jdW1lbnQgfHwgYSApID09PSAoIGIub3duZXJEb2N1bWVudCB8fCBiICkgP1xuICAgICAgYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiggYiApIDpcblxuICAgICAgLy8gT3RoZXJ3aXNlIHdlIGtub3cgdGhleSBhcmUgZGlzY29ubmVjdGVkXG4gICAgICAxO1xuXG4gICAgLy8gRGlzY29ubmVjdGVkIG5vZGVzXG4gICAgaWYgKCBjb21wYXJlICYgMSB8fFxuICAgICAgKCFzdXBwb3J0LnNvcnREZXRhY2hlZCAmJiBiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBhICkgPT09IGNvbXBhcmUpICkge1xuXG4gICAgICAvLyBDaG9vc2UgdGhlIGZpcnN0IGVsZW1lbnQgdGhhdCBpcyByZWxhdGVkIHRvIG91ciBwcmVmZXJyZWQgZG9jdW1lbnRcbiAgICAgIGlmICggYSA9PT0gZG9jIHx8IGEub3duZXJEb2N1bWVudCA9PT0gcHJlZmVycmVkRG9jICYmIGNvbnRhaW5zKHByZWZlcnJlZERvYywgYSkgKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIGlmICggYiA9PT0gZG9jIHx8IGIub3duZXJEb2N1bWVudCA9PT0gcHJlZmVycmVkRG9jICYmIGNvbnRhaW5zKHByZWZlcnJlZERvYywgYikgKSB7XG4gICAgICAgIHJldHVybiAxO1xuICAgICAgfVxuXG4gICAgICAvLyBNYWludGFpbiBvcmlnaW5hbCBvcmRlclxuICAgICAgcmV0dXJuIHNvcnRJbnB1dCA/XG4gICAgICAgICggaW5kZXhPZiggc29ydElucHV0LCBhICkgLSBpbmRleE9mKCBzb3J0SW5wdXQsIGIgKSApIDpcbiAgICAgICAgMDtcbiAgICB9XG5cbiAgICByZXR1cm4gY29tcGFyZSAmIDQgPyAtMSA6IDE7XG4gIH0gOlxuICBmdW5jdGlvbiggYSwgYiApIHtcbiAgICAvLyBFeGl0IGVhcmx5IGlmIHRoZSBub2RlcyBhcmUgaWRlbnRpY2FsXG4gICAgaWYgKCBhID09PSBiICkge1xuICAgICAgaGFzRHVwbGljYXRlID0gdHJ1ZTtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIHZhciBjdXIsXG4gICAgICBpID0gMCxcbiAgICAgIGF1cCA9IGEucGFyZW50Tm9kZSxcbiAgICAgIGJ1cCA9IGIucGFyZW50Tm9kZSxcbiAgICAgIGFwID0gWyBhIF0sXG4gICAgICBicCA9IFsgYiBdO1xuXG4gICAgLy8gUGFyZW50bGVzcyBub2RlcyBhcmUgZWl0aGVyIGRvY3VtZW50cyBvciBkaXNjb25uZWN0ZWRcbiAgICBpZiAoICFhdXAgfHwgIWJ1cCApIHtcbiAgICAgIHJldHVybiBhID09PSBkb2MgPyAtMSA6XG4gICAgICAgIGIgPT09IGRvYyA/IDEgOlxuICAgICAgICBhdXAgPyAtMSA6XG4gICAgICAgIGJ1cCA/IDEgOlxuICAgICAgICBzb3J0SW5wdXQgP1xuICAgICAgICAoIGluZGV4T2YoIHNvcnRJbnB1dCwgYSApIC0gaW5kZXhPZiggc29ydElucHV0LCBiICkgKSA6XG4gICAgICAgIDA7XG5cbiAgICAvLyBJZiB0aGUgbm9kZXMgYXJlIHNpYmxpbmdzLCB3ZSBjYW4gZG8gYSBxdWljayBjaGVja1xuICAgIH0gZWxzZSBpZiAoIGF1cCA9PT0gYnVwICkge1xuICAgICAgcmV0dXJuIHNpYmxpbmdDaGVjayggYSwgYiApO1xuICAgIH1cblxuICAgIC8vIE90aGVyd2lzZSB3ZSBuZWVkIGZ1bGwgbGlzdHMgb2YgdGhlaXIgYW5jZXN0b3JzIGZvciBjb21wYXJpc29uXG4gICAgY3VyID0gYTtcbiAgICB3aGlsZSAoIChjdXIgPSBjdXIucGFyZW50Tm9kZSkgKSB7XG4gICAgICBhcC51bnNoaWZ0KCBjdXIgKTtcbiAgICB9XG4gICAgY3VyID0gYjtcbiAgICB3aGlsZSAoIChjdXIgPSBjdXIucGFyZW50Tm9kZSkgKSB7XG4gICAgICBicC51bnNoaWZ0KCBjdXIgKTtcbiAgICB9XG5cbiAgICAvLyBXYWxrIGRvd24gdGhlIHRyZWUgbG9va2luZyBmb3IgYSBkaXNjcmVwYW5jeVxuICAgIHdoaWxlICggYXBbaV0gPT09IGJwW2ldICkge1xuICAgICAgaSsrO1xuICAgIH1cblxuICAgIHJldHVybiBpID9cbiAgICAgIC8vIERvIGEgc2libGluZyBjaGVjayBpZiB0aGUgbm9kZXMgaGF2ZSBhIGNvbW1vbiBhbmNlc3RvclxuICAgICAgc2libGluZ0NoZWNrKCBhcFtpXSwgYnBbaV0gKSA6XG5cbiAgICAgIC8vIE90aGVyd2lzZSBub2RlcyBpbiBvdXIgZG9jdW1lbnQgc29ydCBmaXJzdFxuICAgICAgYXBbaV0gPT09IHByZWZlcnJlZERvYyA/IC0xIDpcbiAgICAgIGJwW2ldID09PSBwcmVmZXJyZWREb2MgPyAxIDpcbiAgICAgIDA7XG4gIH07XG5cbiAgcmV0dXJuIGRvYztcbn07XG5cblNpenpsZS5tYXRjaGVzID0gZnVuY3Rpb24oIGV4cHIsIGVsZW1lbnRzICkge1xuICByZXR1cm4gU2l6emxlKCBleHByLCBudWxsLCBudWxsLCBlbGVtZW50cyApO1xufTtcblxuU2l6emxlLm1hdGNoZXNTZWxlY3RvciA9IGZ1bmN0aW9uKCBlbGVtLCBleHByICkge1xuICAvLyBTZXQgZG9jdW1lbnQgdmFycyBpZiBuZWVkZWRcbiAgaWYgKCAoIGVsZW0ub3duZXJEb2N1bWVudCB8fCBlbGVtICkgIT09IGRvY3VtZW50ICkge1xuICAgIHNldERvY3VtZW50KCBlbGVtICk7XG4gIH1cblxuICAvLyBNYWtlIHN1cmUgdGhhdCBhdHRyaWJ1dGUgc2VsZWN0b3JzIGFyZSBxdW90ZWRcbiAgZXhwciA9IGV4cHIucmVwbGFjZSggcmF0dHJpYnV0ZVF1b3RlcywgXCI9JyQxJ11cIiApO1xuXG4gIGlmICggc3VwcG9ydC5tYXRjaGVzU2VsZWN0b3IgJiYgZG9jdW1lbnRJc0hUTUwgJiZcbiAgICAoICFyYnVnZ3lNYXRjaGVzIHx8ICFyYnVnZ3lNYXRjaGVzLnRlc3QoIGV4cHIgKSApICYmXG4gICAgKCAhcmJ1Z2d5UVNBICAgICB8fCAhcmJ1Z2d5UVNBLnRlc3QoIGV4cHIgKSApICkge1xuXG4gICAgdHJ5IHtcbiAgICAgIHZhciByZXQgPSBtYXRjaGVzLmNhbGwoIGVsZW0sIGV4cHIgKTtcblxuICAgICAgLy8gSUUgOSdzIG1hdGNoZXNTZWxlY3RvciByZXR1cm5zIGZhbHNlIG9uIGRpc2Nvbm5lY3RlZCBub2Rlc1xuICAgICAgaWYgKCByZXQgfHwgc3VwcG9ydC5kaXNjb25uZWN0ZWRNYXRjaCB8fFxuICAgICAgICAgIC8vIEFzIHdlbGwsIGRpc2Nvbm5lY3RlZCBub2RlcyBhcmUgc2FpZCB0byBiZSBpbiBhIGRvY3VtZW50XG4gICAgICAgICAgLy8gZnJhZ21lbnQgaW4gSUUgOVxuICAgICAgICAgIGVsZW0uZG9jdW1lbnQgJiYgZWxlbS5kb2N1bWVudC5ub2RlVHlwZSAhPT0gMTEgKSB7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuXG4gIHJldHVybiBTaXp6bGUoIGV4cHIsIGRvY3VtZW50LCBudWxsLCBbIGVsZW0gXSApLmxlbmd0aCA+IDA7XG59O1xuXG5TaXp6bGUuY29udGFpbnMgPSBmdW5jdGlvbiggY29udGV4dCwgZWxlbSApIHtcbiAgLy8gU2V0IGRvY3VtZW50IHZhcnMgaWYgbmVlZGVkXG4gIGlmICggKCBjb250ZXh0Lm93bmVyRG9jdW1lbnQgfHwgY29udGV4dCApICE9PSBkb2N1bWVudCApIHtcbiAgICBzZXREb2N1bWVudCggY29udGV4dCApO1xuICB9XG4gIHJldHVybiBjb250YWlucyggY29udGV4dCwgZWxlbSApO1xufTtcblxuU2l6emxlLmF0dHIgPSBmdW5jdGlvbiggZWxlbSwgbmFtZSApIHtcbiAgLy8gU2V0IGRvY3VtZW50IHZhcnMgaWYgbmVlZGVkXG4gIGlmICggKCBlbGVtLm93bmVyRG9jdW1lbnQgfHwgZWxlbSApICE9PSBkb2N1bWVudCApIHtcbiAgICBzZXREb2N1bWVudCggZWxlbSApO1xuICB9XG5cbiAgdmFyIGZuID0gRXhwci5hdHRySGFuZGxlWyBuYW1lLnRvTG93ZXJDYXNlKCkgXSxcbiAgICAvLyBEb24ndCBnZXQgZm9vbGVkIGJ5IE9iamVjdC5wcm90b3R5cGUgcHJvcGVydGllcyAoalF1ZXJ5ICMxMzgwNylcbiAgICB2YWwgPSBmbiAmJiBoYXNPd24uY2FsbCggRXhwci5hdHRySGFuZGxlLCBuYW1lLnRvTG93ZXJDYXNlKCkgKSA/XG4gICAgICBmbiggZWxlbSwgbmFtZSwgIWRvY3VtZW50SXNIVE1MICkgOlxuICAgICAgdW5kZWZpbmVkO1xuXG4gIHJldHVybiB2YWwgIT09IHVuZGVmaW5lZCA/XG4gICAgdmFsIDpcbiAgICBzdXBwb3J0LmF0dHJpYnV0ZXMgfHwgIWRvY3VtZW50SXNIVE1MID9cbiAgICAgIGVsZW0uZ2V0QXR0cmlidXRlKCBuYW1lICkgOlxuICAgICAgKHZhbCA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZShuYW1lKSkgJiYgdmFsLnNwZWNpZmllZCA/XG4gICAgICAgIHZhbC52YWx1ZSA6XG4gICAgICAgIG51bGw7XG59O1xuXG5TaXp6bGUuZXJyb3IgPSBmdW5jdGlvbiggbXNnICkge1xuICB0aHJvdyBuZXcgRXJyb3IoIFwiU3ludGF4IGVycm9yLCB1bnJlY29nbml6ZWQgZXhwcmVzc2lvbjogXCIgKyBtc2cgKTtcbn07XG5cbi8qKlxuICogRG9jdW1lbnQgc29ydGluZyBhbmQgcmVtb3ZpbmcgZHVwbGljYXRlc1xuICogQHBhcmFtIHtBcnJheUxpa2V9IHJlc3VsdHNcbiAqL1xuU2l6emxlLnVuaXF1ZVNvcnQgPSBmdW5jdGlvbiggcmVzdWx0cyApIHtcbiAgdmFyIGVsZW0sXG4gICAgZHVwbGljYXRlcyA9IFtdLFxuICAgIGogPSAwLFxuICAgIGkgPSAwO1xuXG4gIC8vIFVubGVzcyB3ZSAqa25vdyogd2UgY2FuIGRldGVjdCBkdXBsaWNhdGVzLCBhc3N1bWUgdGhlaXIgcHJlc2VuY2VcbiAgaGFzRHVwbGljYXRlID0gIXN1cHBvcnQuZGV0ZWN0RHVwbGljYXRlcztcbiAgc29ydElucHV0ID0gIXN1cHBvcnQuc29ydFN0YWJsZSAmJiByZXN1bHRzLnNsaWNlKCAwICk7XG4gIHJlc3VsdHMuc29ydCggc29ydE9yZGVyICk7XG5cbiAgaWYgKCBoYXNEdXBsaWNhdGUgKSB7XG4gICAgd2hpbGUgKCAoZWxlbSA9IHJlc3VsdHNbaSsrXSkgKSB7XG4gICAgICBpZiAoIGVsZW0gPT09IHJlc3VsdHNbIGkgXSApIHtcbiAgICAgICAgaiA9IGR1cGxpY2F0ZXMucHVzaCggaSApO1xuICAgICAgfVxuICAgIH1cbiAgICB3aGlsZSAoIGotLSApIHtcbiAgICAgIHJlc3VsdHMuc3BsaWNlKCBkdXBsaWNhdGVzWyBqIF0sIDEgKTtcbiAgICB9XG4gIH1cblxuICAvLyBDbGVhciBpbnB1dCBhZnRlciBzb3J0aW5nIHRvIHJlbGVhc2Ugb2JqZWN0c1xuICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9zaXp6bGUvcHVsbC8yMjVcbiAgc29ydElucHV0ID0gbnVsbDtcblxuICByZXR1cm4gcmVzdWx0cztcbn07XG5cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiBmb3IgcmV0cmlldmluZyB0aGUgdGV4dCB2YWx1ZSBvZiBhbiBhcnJheSBvZiBET00gbm9kZXNcbiAqIEBwYXJhbSB7QXJyYXl8RWxlbWVudH0gZWxlbVxuICovXG5nZXRUZXh0ID0gU2l6emxlLmdldFRleHQgPSBmdW5jdGlvbiggZWxlbSApIHtcbiAgdmFyIG5vZGUsXG4gICAgcmV0ID0gXCJcIixcbiAgICBpID0gMCxcbiAgICBub2RlVHlwZSA9IGVsZW0ubm9kZVR5cGU7XG5cbiAgaWYgKCAhbm9kZVR5cGUgKSB7XG4gICAgLy8gSWYgbm8gbm9kZVR5cGUsIHRoaXMgaXMgZXhwZWN0ZWQgdG8gYmUgYW4gYXJyYXlcbiAgICB3aGlsZSAoIChub2RlID0gZWxlbVtpKytdKSApIHtcbiAgICAgIC8vIERvIG5vdCB0cmF2ZXJzZSBjb21tZW50IG5vZGVzXG4gICAgICByZXQgKz0gZ2V0VGV4dCggbm9kZSApO1xuICAgIH1cbiAgfSBlbHNlIGlmICggbm9kZVR5cGUgPT09IDEgfHwgbm9kZVR5cGUgPT09IDkgfHwgbm9kZVR5cGUgPT09IDExICkge1xuICAgIC8vIFVzZSB0ZXh0Q29udGVudCBmb3IgZWxlbWVudHNcbiAgICAvLyBpbm5lclRleHQgdXNhZ2UgcmVtb3ZlZCBmb3IgY29uc2lzdGVuY3kgb2YgbmV3IGxpbmVzIChqUXVlcnkgIzExMTUzKVxuICAgIGlmICggdHlwZW9mIGVsZW0udGV4dENvbnRlbnQgPT09IFwic3RyaW5nXCIgKSB7XG4gICAgICByZXR1cm4gZWxlbS50ZXh0Q29udGVudDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVHJhdmVyc2UgaXRzIGNoaWxkcmVuXG4gICAgICBmb3IgKCBlbGVtID0gZWxlbS5maXJzdENoaWxkOyBlbGVtOyBlbGVtID0gZWxlbS5uZXh0U2libGluZyApIHtcbiAgICAgICAgcmV0ICs9IGdldFRleHQoIGVsZW0gKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAoIG5vZGVUeXBlID09PSAzIHx8IG5vZGVUeXBlID09PSA0ICkge1xuICAgIHJldHVybiBlbGVtLm5vZGVWYWx1ZTtcbiAgfVxuICAvLyBEbyBub3QgaW5jbHVkZSBjb21tZW50IG9yIHByb2Nlc3NpbmcgaW5zdHJ1Y3Rpb24gbm9kZXNcblxuICByZXR1cm4gcmV0O1xufTtcblxuRXhwciA9IFNpenpsZS5zZWxlY3RvcnMgPSB7XG5cbiAgLy8gQ2FuIGJlIGFkanVzdGVkIGJ5IHRoZSB1c2VyXG4gIGNhY2hlTGVuZ3RoOiA1MCxcblxuICBjcmVhdGVQc2V1ZG86IG1hcmtGdW5jdGlvbixcblxuICBtYXRjaDogbWF0Y2hFeHByLFxuXG4gIGF0dHJIYW5kbGU6IHt9LFxuXG4gIGZpbmQ6IHt9LFxuXG4gIHJlbGF0aXZlOiB7XG4gICAgXCI+XCI6IHsgZGlyOiBcInBhcmVudE5vZGVcIiwgZmlyc3Q6IHRydWUgfSxcbiAgICBcIiBcIjogeyBkaXI6IFwicGFyZW50Tm9kZVwiIH0sXG4gICAgXCIrXCI6IHsgZGlyOiBcInByZXZpb3VzU2libGluZ1wiLCBmaXJzdDogdHJ1ZSB9LFxuICAgIFwiflwiOiB7IGRpcjogXCJwcmV2aW91c1NpYmxpbmdcIiB9XG4gIH0sXG5cbiAgcHJlRmlsdGVyOiB7XG4gICAgXCJBVFRSXCI6IGZ1bmN0aW9uKCBtYXRjaCApIHtcbiAgICAgIG1hdGNoWzFdID0gbWF0Y2hbMV0ucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTtcblxuICAgICAgLy8gTW92ZSB0aGUgZ2l2ZW4gdmFsdWUgdG8gbWF0Y2hbM10gd2hldGhlciBxdW90ZWQgb3IgdW5xdW90ZWRcbiAgICAgIG1hdGNoWzNdID0gKCBtYXRjaFszXSB8fCBtYXRjaFs0XSB8fCBtYXRjaFs1XSB8fCBcIlwiICkucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTtcblxuICAgICAgaWYgKCBtYXRjaFsyXSA9PT0gXCJ+PVwiICkge1xuICAgICAgICBtYXRjaFszXSA9IFwiIFwiICsgbWF0Y2hbM10gKyBcIiBcIjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1hdGNoLnNsaWNlKCAwLCA0ICk7XG4gICAgfSxcblxuICAgIFwiQ0hJTERcIjogZnVuY3Rpb24oIG1hdGNoICkge1xuICAgICAgLyogbWF0Y2hlcyBmcm9tIG1hdGNoRXhwcltcIkNISUxEXCJdXG4gICAgICAgIDEgdHlwZSAob25seXxudGh8Li4uKVxuICAgICAgICAyIHdoYXQgKGNoaWxkfG9mLXR5cGUpXG4gICAgICAgIDMgYXJndW1lbnQgKGV2ZW58b2RkfFxcZCp8XFxkKm4oWystXVxcZCspP3wuLi4pXG4gICAgICAgIDQgeG4tY29tcG9uZW50IG9mIHhuK3kgYXJndW1lbnQgKFsrLV0/XFxkKm58KVxuICAgICAgICA1IHNpZ24gb2YgeG4tY29tcG9uZW50XG4gICAgICAgIDYgeCBvZiB4bi1jb21wb25lbnRcbiAgICAgICAgNyBzaWduIG9mIHktY29tcG9uZW50XG4gICAgICAgIDggeSBvZiB5LWNvbXBvbmVudFxuICAgICAgKi9cbiAgICAgIG1hdGNoWzFdID0gbWF0Y2hbMV0udG9Mb3dlckNhc2UoKTtcblxuICAgICAgaWYgKCBtYXRjaFsxXS5zbGljZSggMCwgMyApID09PSBcIm50aFwiICkge1xuICAgICAgICAvLyBudGgtKiByZXF1aXJlcyBhcmd1bWVudFxuICAgICAgICBpZiAoICFtYXRjaFszXSApIHtcbiAgICAgICAgICBTaXp6bGUuZXJyb3IoIG1hdGNoWzBdICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBudW1lcmljIHggYW5kIHkgcGFyYW1ldGVycyBmb3IgRXhwci5maWx0ZXIuQ0hJTERcbiAgICAgICAgLy8gcmVtZW1iZXIgdGhhdCBmYWxzZS90cnVlIGNhc3QgcmVzcGVjdGl2ZWx5IHRvIDAvMVxuICAgICAgICBtYXRjaFs0XSA9ICsoIG1hdGNoWzRdID8gbWF0Y2hbNV0gKyAobWF0Y2hbNl0gfHwgMSkgOiAyICogKCBtYXRjaFszXSA9PT0gXCJldmVuXCIgfHwgbWF0Y2hbM10gPT09IFwib2RkXCIgKSApO1xuICAgICAgICBtYXRjaFs1XSA9ICsoICggbWF0Y2hbN10gKyBtYXRjaFs4XSApIHx8IG1hdGNoWzNdID09PSBcIm9kZFwiICk7XG5cbiAgICAgIC8vIG90aGVyIHR5cGVzIHByb2hpYml0IGFyZ3VtZW50c1xuICAgICAgfSBlbHNlIGlmICggbWF0Y2hbM10gKSB7XG4gICAgICAgIFNpenpsZS5lcnJvciggbWF0Y2hbMF0gKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1hdGNoO1xuICAgIH0sXG5cbiAgICBcIlBTRVVET1wiOiBmdW5jdGlvbiggbWF0Y2ggKSB7XG4gICAgICB2YXIgZXhjZXNzLFxuICAgICAgICB1bnF1b3RlZCA9ICFtYXRjaFs2XSAmJiBtYXRjaFsyXTtcblxuICAgICAgaWYgKCBtYXRjaEV4cHJbXCJDSElMRFwiXS50ZXN0KCBtYXRjaFswXSApICkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgLy8gQWNjZXB0IHF1b3RlZCBhcmd1bWVudHMgYXMtaXNcbiAgICAgIGlmICggbWF0Y2hbM10gKSB7XG4gICAgICAgIG1hdGNoWzJdID0gbWF0Y2hbNF0gfHwgbWF0Y2hbNV0gfHwgXCJcIjtcblxuICAgICAgLy8gU3RyaXAgZXhjZXNzIGNoYXJhY3RlcnMgZnJvbSB1bnF1b3RlZCBhcmd1bWVudHNcbiAgICAgIH0gZWxzZSBpZiAoIHVucXVvdGVkICYmIHJwc2V1ZG8udGVzdCggdW5xdW90ZWQgKSAmJlxuICAgICAgICAvLyBHZXQgZXhjZXNzIGZyb20gdG9rZW5pemUgKHJlY3Vyc2l2ZWx5KVxuICAgICAgICAoZXhjZXNzID0gdG9rZW5pemUoIHVucXVvdGVkLCB0cnVlICkpICYmXG4gICAgICAgIC8vIGFkdmFuY2UgdG8gdGhlIG5leHQgY2xvc2luZyBwYXJlbnRoZXNpc1xuICAgICAgICAoZXhjZXNzID0gdW5xdW90ZWQuaW5kZXhPZiggXCIpXCIsIHVucXVvdGVkLmxlbmd0aCAtIGV4Y2VzcyApIC0gdW5xdW90ZWQubGVuZ3RoKSApIHtcblxuICAgICAgICAvLyBleGNlc3MgaXMgYSBuZWdhdGl2ZSBpbmRleFxuICAgICAgICBtYXRjaFswXSA9IG1hdGNoWzBdLnNsaWNlKCAwLCBleGNlc3MgKTtcbiAgICAgICAgbWF0Y2hbMl0gPSB1bnF1b3RlZC5zbGljZSggMCwgZXhjZXNzICk7XG4gICAgICB9XG5cbiAgICAgIC8vIFJldHVybiBvbmx5IGNhcHR1cmVzIG5lZWRlZCBieSB0aGUgcHNldWRvIGZpbHRlciBtZXRob2QgKHR5cGUgYW5kIGFyZ3VtZW50KVxuICAgICAgcmV0dXJuIG1hdGNoLnNsaWNlKCAwLCAzICk7XG4gICAgfVxuICB9LFxuXG4gIGZpbHRlcjoge1xuXG4gICAgXCJUQUdcIjogZnVuY3Rpb24oIG5vZGVOYW1lU2VsZWN0b3IgKSB7XG4gICAgICB2YXIgbm9kZU5hbWUgPSBub2RlTmFtZVNlbGVjdG9yLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICkudG9Mb3dlckNhc2UoKTtcbiAgICAgIHJldHVybiBub2RlTmFtZVNlbGVjdG9yID09PSBcIipcIiA/XG4gICAgICAgIGZ1bmN0aW9uKCkgeyByZXR1cm4gdHJ1ZTsgfSA6XG4gICAgICAgIGZ1bmN0aW9uKCBlbGVtICkge1xuICAgICAgICAgIHJldHVybiBlbGVtLm5vZGVOYW1lICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbm9kZU5hbWU7XG4gICAgICAgIH07XG4gICAgfSxcblxuICAgIFwiQ0xBU1NcIjogZnVuY3Rpb24oIGNsYXNzTmFtZSApIHtcbiAgICAgIHZhciBwYXR0ZXJuID0gY2xhc3NDYWNoZVsgY2xhc3NOYW1lICsgXCIgXCIgXTtcblxuICAgICAgcmV0dXJuIHBhdHRlcm4gfHxcbiAgICAgICAgKHBhdHRlcm4gPSBuZXcgUmVnRXhwKCBcIihefFwiICsgd2hpdGVzcGFjZSArIFwiKVwiICsgY2xhc3NOYW1lICsgXCIoXCIgKyB3aGl0ZXNwYWNlICsgXCJ8JClcIiApKSAmJlxuICAgICAgICBjbGFzc0NhY2hlKCBjbGFzc05hbWUsIGZ1bmN0aW9uKCBlbGVtICkge1xuICAgICAgICAgIHJldHVybiBwYXR0ZXJuLnRlc3QoIHR5cGVvZiBlbGVtLmNsYXNzTmFtZSA9PT0gXCJzdHJpbmdcIiAmJiBlbGVtLmNsYXNzTmFtZSB8fCB0eXBlb2YgZWxlbS5nZXRBdHRyaWJ1dGUgIT09IFwidW5kZWZpbmVkXCIgJiYgZWxlbS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSB8fCBcIlwiICk7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBcIkFUVFJcIjogZnVuY3Rpb24oIG5hbWUsIG9wZXJhdG9yLCBjaGVjayApIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IFNpenpsZS5hdHRyKCBlbGVtLCBuYW1lICk7XG5cbiAgICAgICAgaWYgKCByZXN1bHQgPT0gbnVsbCApIHtcbiAgICAgICAgICByZXR1cm4gb3BlcmF0b3IgPT09IFwiIT1cIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoICFvcGVyYXRvciApIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlc3VsdCArPSBcIlwiO1xuXG4gICAgICAgIHJldHVybiBvcGVyYXRvciA9PT0gXCI9XCIgPyByZXN1bHQgPT09IGNoZWNrIDpcbiAgICAgICAgICBvcGVyYXRvciA9PT0gXCIhPVwiID8gcmVzdWx0ICE9PSBjaGVjayA6XG4gICAgICAgICAgb3BlcmF0b3IgPT09IFwiXj1cIiA/IGNoZWNrICYmIHJlc3VsdC5pbmRleE9mKCBjaGVjayApID09PSAwIDpcbiAgICAgICAgICBvcGVyYXRvciA9PT0gXCIqPVwiID8gY2hlY2sgJiYgcmVzdWx0LmluZGV4T2YoIGNoZWNrICkgPiAtMSA6XG4gICAgICAgICAgb3BlcmF0b3IgPT09IFwiJD1cIiA/IGNoZWNrICYmIHJlc3VsdC5zbGljZSggLWNoZWNrLmxlbmd0aCApID09PSBjaGVjayA6XG4gICAgICAgICAgb3BlcmF0b3IgPT09IFwifj1cIiA/ICggXCIgXCIgKyByZXN1bHQucmVwbGFjZSggcndoaXRlc3BhY2UsIFwiIFwiICkgKyBcIiBcIiApLmluZGV4T2YoIGNoZWNrICkgPiAtMSA6XG4gICAgICAgICAgb3BlcmF0b3IgPT09IFwifD1cIiA/IHJlc3VsdCA9PT0gY2hlY2sgfHwgcmVzdWx0LnNsaWNlKCAwLCBjaGVjay5sZW5ndGggKyAxICkgPT09IGNoZWNrICsgXCItXCIgOlxuICAgICAgICAgIGZhbHNlO1xuICAgICAgfTtcbiAgICB9LFxuXG4gICAgXCJDSElMRFwiOiBmdW5jdGlvbiggdHlwZSwgd2hhdCwgYXJndW1lbnQsIGZpcnN0LCBsYXN0ICkge1xuICAgICAgdmFyIHNpbXBsZSA9IHR5cGUuc2xpY2UoIDAsIDMgKSAhPT0gXCJudGhcIixcbiAgICAgICAgZm9yd2FyZCA9IHR5cGUuc2xpY2UoIC00ICkgIT09IFwibGFzdFwiLFxuICAgICAgICBvZlR5cGUgPSB3aGF0ID09PSBcIm9mLXR5cGVcIjtcblxuICAgICAgcmV0dXJuIGZpcnN0ID09PSAxICYmIGxhc3QgPT09IDAgP1xuXG4gICAgICAgIC8vIFNob3J0Y3V0IGZvciA6bnRoLSoobilcbiAgICAgICAgZnVuY3Rpb24oIGVsZW0gKSB7XG4gICAgICAgICAgcmV0dXJuICEhZWxlbS5wYXJlbnROb2RlO1xuICAgICAgICB9IDpcblxuICAgICAgICBmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuICAgICAgICAgIHZhciBjYWNoZSwgb3V0ZXJDYWNoZSwgbm9kZSwgZGlmZiwgbm9kZUluZGV4LCBzdGFydCxcbiAgICAgICAgICAgIGRpciA9IHNpbXBsZSAhPT0gZm9yd2FyZCA/IFwibmV4dFNpYmxpbmdcIiA6IFwicHJldmlvdXNTaWJsaW5nXCIsXG4gICAgICAgICAgICBwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGUsXG4gICAgICAgICAgICBuYW1lID0gb2ZUeXBlICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgICAgIHVzZUNhY2hlID0gIXhtbCAmJiAhb2ZUeXBlO1xuXG4gICAgICAgICAgaWYgKCBwYXJlbnQgKSB7XG5cbiAgICAgICAgICAgIC8vIDooZmlyc3R8bGFzdHxvbmx5KS0oY2hpbGR8b2YtdHlwZSlcbiAgICAgICAgICAgIGlmICggc2ltcGxlICkge1xuICAgICAgICAgICAgICB3aGlsZSAoIGRpciApIHtcbiAgICAgICAgICAgICAgICBub2RlID0gZWxlbTtcbiAgICAgICAgICAgICAgICB3aGlsZSAoIChub2RlID0gbm9kZVsgZGlyIF0pICkge1xuICAgICAgICAgICAgICAgICAgaWYgKCBvZlR5cGUgPyBub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5hbWUgOiBub2RlLm5vZGVUeXBlID09PSAxICkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFJldmVyc2UgZGlyZWN0aW9uIGZvciA6b25seS0qIChpZiB3ZSBoYXZlbid0IHlldCBkb25lIHNvKVxuICAgICAgICAgICAgICAgIHN0YXJ0ID0gZGlyID0gdHlwZSA9PT0gXCJvbmx5XCIgJiYgIXN0YXJ0ICYmIFwibmV4dFNpYmxpbmdcIjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc3RhcnQgPSBbIGZvcndhcmQgPyBwYXJlbnQuZmlyc3RDaGlsZCA6IHBhcmVudC5sYXN0Q2hpbGQgXTtcblxuICAgICAgICAgICAgLy8gbm9uLXhtbCA6bnRoLWNoaWxkKC4uLikgc3RvcmVzIGNhY2hlIGRhdGEgb24gYHBhcmVudGBcbiAgICAgICAgICAgIGlmICggZm9yd2FyZCAmJiB1c2VDYWNoZSApIHtcbiAgICAgICAgICAgICAgLy8gU2VlayBgZWxlbWAgZnJvbSBhIHByZXZpb3VzbHktY2FjaGVkIGluZGV4XG4gICAgICAgICAgICAgIG91dGVyQ2FjaGUgPSBwYXJlbnRbIGV4cGFuZG8gXSB8fCAocGFyZW50WyBleHBhbmRvIF0gPSB7fSk7XG4gICAgICAgICAgICAgIGNhY2hlID0gb3V0ZXJDYWNoZVsgdHlwZSBdIHx8IFtdO1xuICAgICAgICAgICAgICBub2RlSW5kZXggPSBjYWNoZVswXSA9PT0gZGlycnVucyAmJiBjYWNoZVsxXTtcbiAgICAgICAgICAgICAgZGlmZiA9IGNhY2hlWzBdID09PSBkaXJydW5zICYmIGNhY2hlWzJdO1xuICAgICAgICAgICAgICBub2RlID0gbm9kZUluZGV4ICYmIHBhcmVudC5jaGlsZE5vZGVzWyBub2RlSW5kZXggXTtcblxuICAgICAgICAgICAgICB3aGlsZSAoIChub2RlID0gKytub2RlSW5kZXggJiYgbm9kZSAmJiBub2RlWyBkaXIgXSB8fFxuXG4gICAgICAgICAgICAgICAgLy8gRmFsbGJhY2sgdG8gc2Vla2luZyBgZWxlbWAgZnJvbSB0aGUgc3RhcnRcbiAgICAgICAgICAgICAgICAoZGlmZiA9IG5vZGVJbmRleCA9IDApIHx8IHN0YXJ0LnBvcCgpKSApIHtcblxuICAgICAgICAgICAgICAgIC8vIFdoZW4gZm91bmQsIGNhY2hlIGluZGV4ZXMgb24gYHBhcmVudGAgYW5kIGJyZWFrXG4gICAgICAgICAgICAgICAgaWYgKCBub2RlLm5vZGVUeXBlID09PSAxICYmICsrZGlmZiAmJiBub2RlID09PSBlbGVtICkge1xuICAgICAgICAgICAgICAgICAgb3V0ZXJDYWNoZVsgdHlwZSBdID0gWyBkaXJydW5zLCBub2RlSW5kZXgsIGRpZmYgXTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBVc2UgcHJldmlvdXNseS1jYWNoZWQgZWxlbWVudCBpbmRleCBpZiBhdmFpbGFibGVcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIHVzZUNhY2hlICYmIChjYWNoZSA9IChlbGVtWyBleHBhbmRvIF0gfHwgKGVsZW1bIGV4cGFuZG8gXSA9IHt9KSlbIHR5cGUgXSkgJiYgY2FjaGVbMF0gPT09IGRpcnJ1bnMgKSB7XG4gICAgICAgICAgICAgIGRpZmYgPSBjYWNoZVsxXTtcblxuICAgICAgICAgICAgLy8geG1sIDpudGgtY2hpbGQoLi4uKSBvciA6bnRoLWxhc3QtY2hpbGQoLi4uKSBvciA6bnRoKC1sYXN0KT8tb2YtdHlwZSguLi4pXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBVc2UgdGhlIHNhbWUgbG9vcCBhcyBhYm92ZSB0byBzZWVrIGBlbGVtYCBmcm9tIHRoZSBzdGFydFxuICAgICAgICAgICAgICB3aGlsZSAoIChub2RlID0gKytub2RlSW5kZXggJiYgbm9kZSAmJiBub2RlWyBkaXIgXSB8fFxuICAgICAgICAgICAgICAgIChkaWZmID0gbm9kZUluZGV4ID0gMCkgfHwgc3RhcnQucG9wKCkpICkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCAoIG9mVHlwZSA/IG5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbmFtZSA6IG5vZGUubm9kZVR5cGUgPT09IDEgKSAmJiArK2RpZmYgKSB7XG4gICAgICAgICAgICAgICAgICAvLyBDYWNoZSB0aGUgaW5kZXggb2YgZWFjaCBlbmNvdW50ZXJlZCBlbGVtZW50XG4gICAgICAgICAgICAgICAgICBpZiAoIHVzZUNhY2hlICkge1xuICAgICAgICAgICAgICAgICAgICAobm9kZVsgZXhwYW5kbyBdIHx8IChub2RlWyBleHBhbmRvIF0gPSB7fSkpWyB0eXBlIF0gPSBbIGRpcnJ1bnMsIGRpZmYgXTtcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgaWYgKCBub2RlID09PSBlbGVtICkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSW5jb3Jwb3JhdGUgdGhlIG9mZnNldCwgdGhlbiBjaGVjayBhZ2FpbnN0IGN5Y2xlIHNpemVcbiAgICAgICAgICAgIGRpZmYgLT0gbGFzdDtcbiAgICAgICAgICAgIHJldHVybiBkaWZmID09PSBmaXJzdCB8fCAoIGRpZmYgJSBmaXJzdCA9PT0gMCAmJiBkaWZmIC8gZmlyc3QgPj0gMCApO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9LFxuXG4gICAgXCJQU0VVRE9cIjogZnVuY3Rpb24oIHBzZXVkbywgYXJndW1lbnQgKSB7XG4gICAgICAvLyBwc2V1ZG8tY2xhc3MgbmFtZXMgYXJlIGNhc2UtaW5zZW5zaXRpdmVcbiAgICAgIC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL3NlbGVjdG9ycy8jcHNldWRvLWNsYXNzZXNcbiAgICAgIC8vIFByaW9yaXRpemUgYnkgY2FzZSBzZW5zaXRpdml0eSBpbiBjYXNlIGN1c3RvbSBwc2V1ZG9zIGFyZSBhZGRlZCB3aXRoIHVwcGVyY2FzZSBsZXR0ZXJzXG4gICAgICAvLyBSZW1lbWJlciB0aGF0IHNldEZpbHRlcnMgaW5oZXJpdHMgZnJvbSBwc2V1ZG9zXG4gICAgICB2YXIgYXJncyxcbiAgICAgICAgZm4gPSBFeHByLnBzZXVkb3NbIHBzZXVkbyBdIHx8IEV4cHIuc2V0RmlsdGVyc1sgcHNldWRvLnRvTG93ZXJDYXNlKCkgXSB8fFxuICAgICAgICAgIFNpenpsZS5lcnJvciggXCJ1bnN1cHBvcnRlZCBwc2V1ZG86IFwiICsgcHNldWRvICk7XG5cbiAgICAgIC8vIFRoZSB1c2VyIG1heSB1c2UgY3JlYXRlUHNldWRvIHRvIGluZGljYXRlIHRoYXRcbiAgICAgIC8vIGFyZ3VtZW50cyBhcmUgbmVlZGVkIHRvIGNyZWF0ZSB0aGUgZmlsdGVyIGZ1bmN0aW9uXG4gICAgICAvLyBqdXN0IGFzIFNpenpsZSBkb2VzXG4gICAgICBpZiAoIGZuWyBleHBhbmRvIF0gKSB7XG4gICAgICAgIHJldHVybiBmbiggYXJndW1lbnQgKTtcbiAgICAgIH1cblxuICAgICAgLy8gQnV0IG1haW50YWluIHN1cHBvcnQgZm9yIG9sZCBzaWduYXR1cmVzXG4gICAgICBpZiAoIGZuLmxlbmd0aCA+IDEgKSB7XG4gICAgICAgIGFyZ3MgPSBbIHBzZXVkbywgcHNldWRvLCBcIlwiLCBhcmd1bWVudCBdO1xuICAgICAgICByZXR1cm4gRXhwci5zZXRGaWx0ZXJzLmhhc093blByb3BlcnR5KCBwc2V1ZG8udG9Mb3dlckNhc2UoKSApID9cbiAgICAgICAgICBtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIHNlZWQsIG1hdGNoZXMgKSB7XG4gICAgICAgICAgICB2YXIgaWR4LFxuICAgICAgICAgICAgICBtYXRjaGVkID0gZm4oIHNlZWQsIGFyZ3VtZW50ICksXG4gICAgICAgICAgICAgIGkgPSBtYXRjaGVkLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICggaS0tICkge1xuICAgICAgICAgICAgICBpZHggPSBpbmRleE9mKCBzZWVkLCBtYXRjaGVkW2ldICk7XG4gICAgICAgICAgICAgIHNlZWRbIGlkeCBdID0gISggbWF0Y2hlc1sgaWR4IF0gPSBtYXRjaGVkW2ldICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkgOlxuICAgICAgICAgIGZ1bmN0aW9uKCBlbGVtICkge1xuICAgICAgICAgICAgcmV0dXJuIGZuKCBlbGVtLCAwLCBhcmdzICk7XG4gICAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZuO1xuICAgIH1cbiAgfSxcblxuICBwc2V1ZG9zOiB7XG4gICAgLy8gUG90ZW50aWFsbHkgY29tcGxleCBwc2V1ZG9zXG4gICAgXCJub3RcIjogbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcbiAgICAgIC8vIFRyaW0gdGhlIHNlbGVjdG9yIHBhc3NlZCB0byBjb21waWxlXG4gICAgICAvLyB0byBhdm9pZCB0cmVhdGluZyBsZWFkaW5nIGFuZCB0cmFpbGluZ1xuICAgICAgLy8gc3BhY2VzIGFzIGNvbWJpbmF0b3JzXG4gICAgICB2YXIgaW5wdXQgPSBbXSxcbiAgICAgICAgcmVzdWx0cyA9IFtdLFxuICAgICAgICBtYXRjaGVyID0gY29tcGlsZSggc2VsZWN0b3IucmVwbGFjZSggcnRyaW0sIFwiJDFcIiApICk7XG5cbiAgICAgIHJldHVybiBtYXRjaGVyWyBleHBhbmRvIF0gP1xuICAgICAgICBtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIHNlZWQsIG1hdGNoZXMsIGNvbnRleHQsIHhtbCApIHtcbiAgICAgICAgICB2YXIgZWxlbSxcbiAgICAgICAgICAgIHVubWF0Y2hlZCA9IG1hdGNoZXIoIHNlZWQsIG51bGwsIHhtbCwgW10gKSxcbiAgICAgICAgICAgIGkgPSBzZWVkLmxlbmd0aDtcblxuICAgICAgICAgIC8vIE1hdGNoIGVsZW1lbnRzIHVubWF0Y2hlZCBieSBgbWF0Y2hlcmBcbiAgICAgICAgICB3aGlsZSAoIGktLSApIHtcbiAgICAgICAgICAgIGlmICggKGVsZW0gPSB1bm1hdGNoZWRbaV0pICkge1xuICAgICAgICAgICAgICBzZWVkW2ldID0gIShtYXRjaGVzW2ldID0gZWxlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KSA6XG4gICAgICAgIGZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7XG4gICAgICAgICAgaW5wdXRbMF0gPSBlbGVtO1xuICAgICAgICAgIG1hdGNoZXIoIGlucHV0LCBudWxsLCB4bWwsIHJlc3VsdHMgKTtcbiAgICAgICAgICAvLyBEb24ndCBrZWVwIHRoZSBlbGVtZW50IChpc3N1ZSAjMjk5KVxuICAgICAgICAgIGlucHV0WzBdID0gbnVsbDtcbiAgICAgICAgICByZXR1cm4gIXJlc3VsdHMucG9wKCk7XG4gICAgICAgIH07XG4gICAgfSksXG5cbiAgICBcImhhc1wiOiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuICAgICAgICByZXR1cm4gU2l6emxlKCBzZWxlY3RvciwgZWxlbSApLmxlbmd0aCA+IDA7XG4gICAgICB9O1xuICAgIH0pLFxuXG4gICAgXCJjb250YWluc1wiOiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIHRleHQgKSB7XG4gICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuICAgICAgICByZXR1cm4gKCBlbGVtLnRleHRDb250ZW50IHx8IGVsZW0uaW5uZXJUZXh0IHx8IGdldFRleHQoIGVsZW0gKSApLmluZGV4T2YoIHRleHQgKSA+IC0xO1xuICAgICAgfTtcbiAgICB9KSxcblxuICAgIC8vIFwiV2hldGhlciBhbiBlbGVtZW50IGlzIHJlcHJlc2VudGVkIGJ5IGEgOmxhbmcoKSBzZWxlY3RvclxuICAgIC8vIGlzIGJhc2VkIHNvbGVseSBvbiB0aGUgZWxlbWVudCdzIGxhbmd1YWdlIHZhbHVlXG4gICAgLy8gYmVpbmcgZXF1YWwgdG8gdGhlIGlkZW50aWZpZXIgQyxcbiAgICAvLyBvciBiZWdpbm5pbmcgd2l0aCB0aGUgaWRlbnRpZmllciBDIGltbWVkaWF0ZWx5IGZvbGxvd2VkIGJ5IFwiLVwiLlxuICAgIC8vIFRoZSBtYXRjaGluZyBvZiBDIGFnYWluc3QgdGhlIGVsZW1lbnQncyBsYW5ndWFnZSB2YWx1ZSBpcyBwZXJmb3JtZWQgY2FzZS1pbnNlbnNpdGl2ZWx5LlxuICAgIC8vIFRoZSBpZGVudGlmaWVyIEMgZG9lcyBub3QgaGF2ZSB0byBiZSBhIHZhbGlkIGxhbmd1YWdlIG5hbWUuXCJcbiAgICAvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI2xhbmctcHNldWRvXG4gICAgXCJsYW5nXCI6IG1hcmtGdW5jdGlvbiggZnVuY3Rpb24oIGxhbmcgKSB7XG4gICAgICAvLyBsYW5nIHZhbHVlIG11c3QgYmUgYSB2YWxpZCBpZGVudGlmaWVyXG4gICAgICBpZiAoICFyaWRlbnRpZmllci50ZXN0KGxhbmcgfHwgXCJcIikgKSB7XG4gICAgICAgIFNpenpsZS5lcnJvciggXCJ1bnN1cHBvcnRlZCBsYW5nOiBcIiArIGxhbmcgKTtcbiAgICAgIH1cbiAgICAgIGxhbmcgPSBsYW5nLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICkudG9Mb3dlckNhc2UoKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcbiAgICAgICAgdmFyIGVsZW1MYW5nO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgaWYgKCAoZWxlbUxhbmcgPSBkb2N1bWVudElzSFRNTCA/XG4gICAgICAgICAgICBlbGVtLmxhbmcgOlxuICAgICAgICAgICAgZWxlbS5nZXRBdHRyaWJ1dGUoXCJ4bWw6bGFuZ1wiKSB8fCBlbGVtLmdldEF0dHJpYnV0ZShcImxhbmdcIikpICkge1xuXG4gICAgICAgICAgICBlbGVtTGFuZyA9IGVsZW1MYW5nLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICByZXR1cm4gZWxlbUxhbmcgPT09IGxhbmcgfHwgZWxlbUxhbmcuaW5kZXhPZiggbGFuZyArIFwiLVwiICkgPT09IDA7XG4gICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlICggKGVsZW0gPSBlbGVtLnBhcmVudE5vZGUpICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfTtcbiAgICB9KSxcblxuICAgIC8vIE1pc2NlbGxhbmVvdXNcbiAgICBcInRhcmdldFwiOiBmdW5jdGlvbiggZWxlbSApIHtcbiAgICAgIHZhciBoYXNoID0gd2luZG93LmxvY2F0aW9uICYmIHdpbmRvdy5sb2NhdGlvbi5oYXNoO1xuICAgICAgcmV0dXJuIGhhc2ggJiYgaGFzaC5zbGljZSggMSApID09PSBlbGVtLmlkO1xuICAgIH0sXG5cbiAgICBcInJvb3RcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG4gICAgICByZXR1cm4gZWxlbSA9PT0gZG9jRWxlbTtcbiAgICB9LFxuXG4gICAgXCJmb2N1c1wiOiBmdW5jdGlvbiggZWxlbSApIHtcbiAgICAgIHJldHVybiBlbGVtID09PSBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmICghZG9jdW1lbnQuaGFzRm9jdXMgfHwgZG9jdW1lbnQuaGFzRm9jdXMoKSkgJiYgISEoZWxlbS50eXBlIHx8IGVsZW0uaHJlZiB8fCB+ZWxlbS50YWJJbmRleCk7XG4gICAgfSxcblxuICAgIC8vIEJvb2xlYW4gcHJvcGVydGllc1xuICAgIFwiZW5hYmxlZFwiOiBmdW5jdGlvbiggZWxlbSApIHtcbiAgICAgIHJldHVybiBlbGVtLmRpc2FibGVkID09PSBmYWxzZTtcbiAgICB9LFxuXG4gICAgXCJkaXNhYmxlZFwiOiBmdW5jdGlvbiggZWxlbSApIHtcbiAgICAgIHJldHVybiBlbGVtLmRpc2FibGVkID09PSB0cnVlO1xuICAgIH0sXG5cbiAgICBcImNoZWNrZWRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG4gICAgICAvLyBJbiBDU1MzLCA6Y2hlY2tlZCBzaG91bGQgcmV0dXJuIGJvdGggY2hlY2tlZCBhbmQgc2VsZWN0ZWQgZWxlbWVudHNcbiAgICAgIC8vIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMTEvUkVDLWNzczMtc2VsZWN0b3JzLTIwMTEwOTI5LyNjaGVja2VkXG4gICAgICB2YXIgbm9kZU5hbWUgPSBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICByZXR1cm4gKG5vZGVOYW1lID09PSBcImlucHV0XCIgJiYgISFlbGVtLmNoZWNrZWQpIHx8IChub2RlTmFtZSA9PT0gXCJvcHRpb25cIiAmJiAhIWVsZW0uc2VsZWN0ZWQpO1xuICAgIH0sXG5cbiAgICBcInNlbGVjdGVkXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuICAgICAgLy8gQWNjZXNzaW5nIHRoaXMgcHJvcGVydHkgbWFrZXMgc2VsZWN0ZWQtYnktZGVmYXVsdFxuICAgICAgLy8gb3B0aW9ucyBpbiBTYWZhcmkgd29yayBwcm9wZXJseVxuICAgICAgaWYgKCBlbGVtLnBhcmVudE5vZGUgKSB7XG4gICAgICAgIGVsZW0ucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZWxlbS5zZWxlY3RlZCA9PT0gdHJ1ZTtcbiAgICB9LFxuXG4gICAgLy8gQ29udGVudHNcbiAgICBcImVtcHR5XCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuICAgICAgLy8gaHR0cDovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLyNlbXB0eS1wc2V1ZG9cbiAgICAgIC8vIDplbXB0eSBpcyBuZWdhdGVkIGJ5IGVsZW1lbnQgKDEpIG9yIGNvbnRlbnQgbm9kZXMgKHRleHQ6IDM7IGNkYXRhOiA0OyBlbnRpdHkgcmVmOiA1KSxcbiAgICAgIC8vICAgYnV0IG5vdCBieSBvdGhlcnMgKGNvbW1lbnQ6IDg7IHByb2Nlc3NpbmcgaW5zdHJ1Y3Rpb246IDc7IGV0Yy4pXG4gICAgICAvLyBub2RlVHlwZSA8IDYgd29ya3MgYmVjYXVzZSBhdHRyaWJ1dGVzICgyKSBkbyBub3QgYXBwZWFyIGFzIGNoaWxkcmVuXG4gICAgICBmb3IgKCBlbGVtID0gZWxlbS5maXJzdENoaWxkOyBlbGVtOyBlbGVtID0gZWxlbS5uZXh0U2libGluZyApIHtcbiAgICAgICAgaWYgKCBlbGVtLm5vZGVUeXBlIDwgNiApIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG5cbiAgICBcInBhcmVudFwiOiBmdW5jdGlvbiggZWxlbSApIHtcbiAgICAgIHJldHVybiAhRXhwci5wc2V1ZG9zW1wiZW1wdHlcIl0oIGVsZW0gKTtcbiAgICB9LFxuXG4gICAgLy8gRWxlbWVudC9pbnB1dCB0eXBlc1xuICAgIFwiaGVhZGVyXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuICAgICAgcmV0dXJuIHJoZWFkZXIudGVzdCggZWxlbS5ub2RlTmFtZSApO1xuICAgIH0sXG5cbiAgICBcImlucHV0XCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuICAgICAgcmV0dXJuIHJpbnB1dHMudGVzdCggZWxlbS5ub2RlTmFtZSApO1xuICAgIH0sXG5cbiAgICBcImJ1dHRvblwiOiBmdW5jdGlvbiggZWxlbSApIHtcbiAgICAgIHZhciBuYW1lID0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgcmV0dXJuIG5hbWUgPT09IFwiaW5wdXRcIiAmJiBlbGVtLnR5cGUgPT09IFwiYnV0dG9uXCIgfHwgbmFtZSA9PT0gXCJidXR0b25cIjtcbiAgICB9LFxuXG4gICAgXCJ0ZXh0XCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuICAgICAgdmFyIGF0dHI7XG4gICAgICByZXR1cm4gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcImlucHV0XCIgJiZcbiAgICAgICAgZWxlbS50eXBlID09PSBcInRleHRcIiAmJlxuXG4gICAgICAgIC8vIFN1cHBvcnQ6IElFPDhcbiAgICAgICAgLy8gTmV3IEhUTUw1IGF0dHJpYnV0ZSB2YWx1ZXMgKGUuZy4sIFwic2VhcmNoXCIpIGFwcGVhciB3aXRoIGVsZW0udHlwZSA9PT0gXCJ0ZXh0XCJcbiAgICAgICAgKCAoYXR0ciA9IGVsZW0uZ2V0QXR0cmlidXRlKFwidHlwZVwiKSkgPT0gbnVsbCB8fCBhdHRyLnRvTG93ZXJDYXNlKCkgPT09IFwidGV4dFwiICk7XG4gICAgfSxcblxuICAgIC8vIFBvc2l0aW9uLWluLWNvbGxlY3Rpb25cbiAgICBcImZpcnN0XCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gWyAwIF07XG4gICAgfSksXG5cbiAgICBcImxhc3RcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGggKSB7XG4gICAgICByZXR1cm4gWyBsZW5ndGggLSAxIF07XG4gICAgfSksXG5cbiAgICBcImVxXCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoLCBhcmd1bWVudCApIHtcbiAgICAgIHJldHVybiBbIGFyZ3VtZW50IDwgMCA/IGFyZ3VtZW50ICsgbGVuZ3RoIDogYXJndW1lbnQgXTtcbiAgICB9KSxcblxuICAgIFwiZXZlblwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCApIHtcbiAgICAgIHZhciBpID0gMDtcbiAgICAgIGZvciAoIDsgaSA8IGxlbmd0aDsgaSArPSAyICkge1xuICAgICAgICBtYXRjaEluZGV4ZXMucHVzaCggaSApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1hdGNoSW5kZXhlcztcbiAgICB9KSxcblxuICAgIFwib2RkXCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoICkge1xuICAgICAgdmFyIGkgPSAxO1xuICAgICAgZm9yICggOyBpIDwgbGVuZ3RoOyBpICs9IDIgKSB7XG4gICAgICAgIG1hdGNoSW5kZXhlcy5wdXNoKCBpICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWF0Y2hJbmRleGVzO1xuICAgIH0pLFxuXG4gICAgXCJsdFwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCwgYXJndW1lbnQgKSB7XG4gICAgICB2YXIgaSA9IGFyZ3VtZW50IDwgMCA/IGFyZ3VtZW50ICsgbGVuZ3RoIDogYXJndW1lbnQ7XG4gICAgICBmb3IgKCA7IC0taSA+PSAwOyApIHtcbiAgICAgICAgbWF0Y2hJbmRleGVzLnB1c2goIGkgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYXRjaEluZGV4ZXM7XG4gICAgfSksXG5cbiAgICBcImd0XCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoLCBhcmd1bWVudCApIHtcbiAgICAgIHZhciBpID0gYXJndW1lbnQgPCAwID8gYXJndW1lbnQgKyBsZW5ndGggOiBhcmd1bWVudDtcbiAgICAgIGZvciAoIDsgKytpIDwgbGVuZ3RoOyApIHtcbiAgICAgICAgbWF0Y2hJbmRleGVzLnB1c2goIGkgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYXRjaEluZGV4ZXM7XG4gICAgfSlcbiAgfVxufTtcblxuRXhwci5wc2V1ZG9zW1wibnRoXCJdID0gRXhwci5wc2V1ZG9zW1wiZXFcIl07XG5cbi8vIEFkZCBidXR0b24vaW5wdXQgdHlwZSBwc2V1ZG9zXG5mb3IgKCBpIGluIHsgcmFkaW86IHRydWUsIGNoZWNrYm94OiB0cnVlLCBmaWxlOiB0cnVlLCBwYXNzd29yZDogdHJ1ZSwgaW1hZ2U6IHRydWUgfSApIHtcbiAgRXhwci5wc2V1ZG9zWyBpIF0gPSBjcmVhdGVJbnB1dFBzZXVkbyggaSApO1xufVxuZm9yICggaSBpbiB7IHN1Ym1pdDogdHJ1ZSwgcmVzZXQ6IHRydWUgfSApIHtcbiAgRXhwci5wc2V1ZG9zWyBpIF0gPSBjcmVhdGVCdXR0b25Qc2V1ZG8oIGkgKTtcbn1cblxuLy8gRWFzeSBBUEkgZm9yIGNyZWF0aW5nIG5ldyBzZXRGaWx0ZXJzXG5mdW5jdGlvbiBzZXRGaWx0ZXJzKCkge31cbnNldEZpbHRlcnMucHJvdG90eXBlID0gRXhwci5maWx0ZXJzID0gRXhwci5wc2V1ZG9zO1xuRXhwci5zZXRGaWx0ZXJzID0gbmV3IHNldEZpbHRlcnMoKTtcblxudG9rZW5pemUgPSBTaXp6bGUudG9rZW5pemUgPSBmdW5jdGlvbiggc2VsZWN0b3IsIHBhcnNlT25seSApIHtcbiAgdmFyIG1hdGNoZWQsIG1hdGNoLCB0b2tlbnMsIHR5cGUsXG4gICAgc29GYXIsIGdyb3VwcywgcHJlRmlsdGVycyxcbiAgICBjYWNoZWQgPSB0b2tlbkNhY2hlWyBzZWxlY3RvciArIFwiIFwiIF07XG5cbiAgaWYgKCBjYWNoZWQgKSB7XG4gICAgcmV0dXJuIHBhcnNlT25seSA/IDAgOiBjYWNoZWQuc2xpY2UoIDAgKTtcbiAgfVxuXG4gIHNvRmFyID0gc2VsZWN0b3I7XG4gIGdyb3VwcyA9IFtdO1xuICBwcmVGaWx0ZXJzID0gRXhwci5wcmVGaWx0ZXI7XG5cbiAgd2hpbGUgKCBzb0ZhciApIHtcblxuICAgIC8vIENvbW1hIGFuZCBmaXJzdCBydW5cbiAgICBpZiAoICFtYXRjaGVkIHx8IChtYXRjaCA9IHJjb21tYS5leGVjKCBzb0ZhciApKSApIHtcbiAgICAgIGlmICggbWF0Y2ggKSB7XG4gICAgICAgIC8vIERvbid0IGNvbnN1bWUgdHJhaWxpbmcgY29tbWFzIGFzIHZhbGlkXG4gICAgICAgIHNvRmFyID0gc29GYXIuc2xpY2UoIG1hdGNoWzBdLmxlbmd0aCApIHx8IHNvRmFyO1xuICAgICAgfVxuICAgICAgZ3JvdXBzLnB1c2goICh0b2tlbnMgPSBbXSkgKTtcbiAgICB9XG5cbiAgICBtYXRjaGVkID0gZmFsc2U7XG5cbiAgICAvLyBDb21iaW5hdG9yc1xuICAgIGlmICggKG1hdGNoID0gcmNvbWJpbmF0b3JzLmV4ZWMoIHNvRmFyICkpICkge1xuICAgICAgbWF0Y2hlZCA9IG1hdGNoLnNoaWZ0KCk7XG4gICAgICB0b2tlbnMucHVzaCh7XG4gICAgICAgIHZhbHVlOiBtYXRjaGVkLFxuICAgICAgICAvLyBDYXN0IGRlc2NlbmRhbnQgY29tYmluYXRvcnMgdG8gc3BhY2VcbiAgICAgICAgdHlwZTogbWF0Y2hbMF0ucmVwbGFjZSggcnRyaW0sIFwiIFwiIClcbiAgICAgIH0pO1xuICAgICAgc29GYXIgPSBzb0Zhci5zbGljZSggbWF0Y2hlZC5sZW5ndGggKTtcbiAgICB9XG5cbiAgICAvLyBGaWx0ZXJzXG4gICAgZm9yICggdHlwZSBpbiBFeHByLmZpbHRlciApIHtcbiAgICAgIGlmICggKG1hdGNoID0gbWF0Y2hFeHByWyB0eXBlIF0uZXhlYyggc29GYXIgKSkgJiYgKCFwcmVGaWx0ZXJzWyB0eXBlIF0gfHxcbiAgICAgICAgKG1hdGNoID0gcHJlRmlsdGVyc1sgdHlwZSBdKCBtYXRjaCApKSkgKSB7XG4gICAgICAgIG1hdGNoZWQgPSBtYXRjaC5zaGlmdCgpO1xuICAgICAgICB0b2tlbnMucHVzaCh7XG4gICAgICAgICAgdmFsdWU6IG1hdGNoZWQsXG4gICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICBtYXRjaGVzOiBtYXRjaFxuICAgICAgICB9KTtcbiAgICAgICAgc29GYXIgPSBzb0Zhci5zbGljZSggbWF0Y2hlZC5sZW5ndGggKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoICFtYXRjaGVkICkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgLy8gUmV0dXJuIHRoZSBsZW5ndGggb2YgdGhlIGludmFsaWQgZXhjZXNzXG4gIC8vIGlmIHdlJ3JlIGp1c3QgcGFyc2luZ1xuICAvLyBPdGhlcndpc2UsIHRocm93IGFuIGVycm9yIG9yIHJldHVybiB0b2tlbnNcbiAgcmV0dXJuIHBhcnNlT25seSA/XG4gICAgc29GYXIubGVuZ3RoIDpcbiAgICBzb0ZhciA/XG4gICAgICBTaXp6bGUuZXJyb3IoIHNlbGVjdG9yICkgOlxuICAgICAgLy8gQ2FjaGUgdGhlIHRva2Vuc1xuICAgICAgdG9rZW5DYWNoZSggc2VsZWN0b3IsIGdyb3VwcyApLnNsaWNlKCAwICk7XG59O1xuXG5mdW5jdGlvbiB0b1NlbGVjdG9yKCB0b2tlbnMgKSB7XG4gIHZhciBpID0gMCxcbiAgICBsZW4gPSB0b2tlbnMubGVuZ3RoLFxuICAgIHNlbGVjdG9yID0gXCJcIjtcbiAgZm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG4gICAgc2VsZWN0b3IgKz0gdG9rZW5zW2ldLnZhbHVlO1xuICB9XG4gIHJldHVybiBzZWxlY3Rvcjtcbn1cblxuZnVuY3Rpb24gYWRkQ29tYmluYXRvciggbWF0Y2hlciwgY29tYmluYXRvciwgYmFzZSApIHtcbiAgdmFyIGRpciA9IGNvbWJpbmF0b3IuZGlyLFxuICAgIGNoZWNrTm9uRWxlbWVudHMgPSBiYXNlICYmIGRpciA9PT0gXCJwYXJlbnROb2RlXCIsXG4gICAgZG9uZU5hbWUgPSBkb25lKys7XG5cbiAgcmV0dXJuIGNvbWJpbmF0b3IuZmlyc3QgP1xuICAgIC8vIENoZWNrIGFnYWluc3QgY2xvc2VzdCBhbmNlc3Rvci9wcmVjZWRpbmcgZWxlbWVudFxuICAgIGZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7XG4gICAgICB3aGlsZSAoIChlbGVtID0gZWxlbVsgZGlyIF0pICkge1xuICAgICAgICBpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgfHwgY2hlY2tOb25FbGVtZW50cyApIHtcbiAgICAgICAgICByZXR1cm4gbWF0Y2hlciggZWxlbSwgY29udGV4dCwgeG1sICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IDpcblxuICAgIC8vIENoZWNrIGFnYWluc3QgYWxsIGFuY2VzdG9yL3ByZWNlZGluZyBlbGVtZW50c1xuICAgIGZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7XG4gICAgICB2YXIgb2xkQ2FjaGUsIG91dGVyQ2FjaGUsXG4gICAgICAgIG5ld0NhY2hlID0gWyBkaXJydW5zLCBkb25lTmFtZSBdO1xuXG4gICAgICAvLyBXZSBjYW4ndCBzZXQgYXJiaXRyYXJ5IGRhdGEgb24gWE1MIG5vZGVzLCBzbyB0aGV5IGRvbid0IGJlbmVmaXQgZnJvbSBkaXIgY2FjaGluZ1xuICAgICAgaWYgKCB4bWwgKSB7XG4gICAgICAgIHdoaWxlICggKGVsZW0gPSBlbGVtWyBkaXIgXSkgKSB7XG4gICAgICAgICAgaWYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMgKSB7XG4gICAgICAgICAgICBpZiAoIG1hdGNoZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApICkge1xuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdoaWxlICggKGVsZW0gPSBlbGVtWyBkaXIgXSkgKSB7XG4gICAgICAgICAgaWYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMgKSB7XG4gICAgICAgICAgICBvdXRlckNhY2hlID0gZWxlbVsgZXhwYW5kbyBdIHx8IChlbGVtWyBleHBhbmRvIF0gPSB7fSk7XG4gICAgICAgICAgICBpZiAoIChvbGRDYWNoZSA9IG91dGVyQ2FjaGVbIGRpciBdKSAmJlxuICAgICAgICAgICAgICBvbGRDYWNoZVsgMCBdID09PSBkaXJydW5zICYmIG9sZENhY2hlWyAxIF0gPT09IGRvbmVOYW1lICkge1xuXG4gICAgICAgICAgICAgIC8vIEFzc2lnbiB0byBuZXdDYWNoZSBzbyByZXN1bHRzIGJhY2stcHJvcGFnYXRlIHRvIHByZXZpb3VzIGVsZW1lbnRzXG4gICAgICAgICAgICAgIHJldHVybiAobmV3Q2FjaGVbIDIgXSA9IG9sZENhY2hlWyAyIF0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gUmV1c2UgbmV3Y2FjaGUgc28gcmVzdWx0cyBiYWNrLXByb3BhZ2F0ZSB0byBwcmV2aW91cyBlbGVtZW50c1xuICAgICAgICAgICAgICBvdXRlckNhY2hlWyBkaXIgXSA9IG5ld0NhY2hlO1xuXG4gICAgICAgICAgICAgIC8vIEEgbWF0Y2ggbWVhbnMgd2UncmUgZG9uZTsgYSBmYWlsIG1lYW5zIHdlIGhhdmUgdG8ga2VlcCBjaGVja2luZ1xuICAgICAgICAgICAgICBpZiAoIChuZXdDYWNoZVsgMiBdID0gbWF0Y2hlciggZWxlbSwgY29udGV4dCwgeG1sICkpICkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICkge1xuICByZXR1cm4gbWF0Y2hlcnMubGVuZ3RoID4gMSA/XG4gICAgZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHtcbiAgICAgIHZhciBpID0gbWF0Y2hlcnMubGVuZ3RoO1xuICAgICAgd2hpbGUgKCBpLS0gKSB7XG4gICAgICAgIGlmICggIW1hdGNoZXJzW2ldKCBlbGVtLCBjb250ZXh0LCB4bWwgKSApIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gOlxuICAgIG1hdGNoZXJzWzBdO1xufVxuXG5mdW5jdGlvbiBtdWx0aXBsZUNvbnRleHRzKCBzZWxlY3RvciwgY29udGV4dHMsIHJlc3VsdHMgKSB7XG4gIHZhciBpID0gMCxcbiAgICBsZW4gPSBjb250ZXh0cy5sZW5ndGg7XG4gIGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuICAgIFNpenpsZSggc2VsZWN0b3IsIGNvbnRleHRzW2ldLCByZXN1bHRzICk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdHM7XG59XG5cbmZ1bmN0aW9uIGNvbmRlbnNlKCB1bm1hdGNoZWQsIG1hcCwgZmlsdGVyLCBjb250ZXh0LCB4bWwgKSB7XG4gIHZhciBlbGVtLFxuICAgIG5ld1VubWF0Y2hlZCA9IFtdLFxuICAgIGkgPSAwLFxuICAgIGxlbiA9IHVubWF0Y2hlZC5sZW5ndGgsXG4gICAgbWFwcGVkID0gbWFwICE9IG51bGw7XG5cbiAgZm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG4gICAgaWYgKCAoZWxlbSA9IHVubWF0Y2hlZFtpXSkgKSB7XG4gICAgICBpZiAoICFmaWx0ZXIgfHwgZmlsdGVyKCBlbGVtLCBjb250ZXh0LCB4bWwgKSApIHtcbiAgICAgICAgbmV3VW5tYXRjaGVkLnB1c2goIGVsZW0gKTtcbiAgICAgICAgaWYgKCBtYXBwZWQgKSB7XG4gICAgICAgICAgbWFwLnB1c2goIGkgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXdVbm1hdGNoZWQ7XG59XG5cbmZ1bmN0aW9uIHNldE1hdGNoZXIoIHByZUZpbHRlciwgc2VsZWN0b3IsIG1hdGNoZXIsIHBvc3RGaWx0ZXIsIHBvc3RGaW5kZXIsIHBvc3RTZWxlY3RvciApIHtcbiAgaWYgKCBwb3N0RmlsdGVyICYmICFwb3N0RmlsdGVyWyBleHBhbmRvIF0gKSB7XG4gICAgcG9zdEZpbHRlciA9IHNldE1hdGNoZXIoIHBvc3RGaWx0ZXIgKTtcbiAgfVxuICBpZiAoIHBvc3RGaW5kZXIgJiYgIXBvc3RGaW5kZXJbIGV4cGFuZG8gXSApIHtcbiAgICBwb3N0RmluZGVyID0gc2V0TWF0Y2hlciggcG9zdEZpbmRlciwgcG9zdFNlbGVjdG9yICk7XG4gIH1cbiAgcmV0dXJuIG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VlZCwgcmVzdWx0cywgY29udGV4dCwgeG1sICkge1xuICAgIHZhciB0ZW1wLCBpLCBlbGVtLFxuICAgICAgcHJlTWFwID0gW10sXG4gICAgICBwb3N0TWFwID0gW10sXG4gICAgICBwcmVleGlzdGluZyA9IHJlc3VsdHMubGVuZ3RoLFxuXG4gICAgICAvLyBHZXQgaW5pdGlhbCBlbGVtZW50cyBmcm9tIHNlZWQgb3IgY29udGV4dFxuICAgICAgZWxlbXMgPSBzZWVkIHx8IG11bHRpcGxlQ29udGV4dHMoIHNlbGVjdG9yIHx8IFwiKlwiLCBjb250ZXh0Lm5vZGVUeXBlID8gWyBjb250ZXh0IF0gOiBjb250ZXh0LCBbXSApLFxuXG4gICAgICAvLyBQcmVmaWx0ZXIgdG8gZ2V0IG1hdGNoZXIgaW5wdXQsIHByZXNlcnZpbmcgYSBtYXAgZm9yIHNlZWQtcmVzdWx0cyBzeW5jaHJvbml6YXRpb25cbiAgICAgIG1hdGNoZXJJbiA9IHByZUZpbHRlciAmJiAoIHNlZWQgfHwgIXNlbGVjdG9yICkgP1xuICAgICAgICBjb25kZW5zZSggZWxlbXMsIHByZU1hcCwgcHJlRmlsdGVyLCBjb250ZXh0LCB4bWwgKSA6XG4gICAgICAgIGVsZW1zLFxuXG4gICAgICBtYXRjaGVyT3V0ID0gbWF0Y2hlciA/XG4gICAgICAgIC8vIElmIHdlIGhhdmUgYSBwb3N0RmluZGVyLCBvciBmaWx0ZXJlZCBzZWVkLCBvciBub24tc2VlZCBwb3N0RmlsdGVyIG9yIHByZWV4aXN0aW5nIHJlc3VsdHMsXG4gICAgICAgIHBvc3RGaW5kZXIgfHwgKCBzZWVkID8gcHJlRmlsdGVyIDogcHJlZXhpc3RpbmcgfHwgcG9zdEZpbHRlciApID9cblxuICAgICAgICAgIC8vIC4uLmludGVybWVkaWF0ZSBwcm9jZXNzaW5nIGlzIG5lY2Vzc2FyeVxuICAgICAgICAgIFtdIDpcblxuICAgICAgICAgIC8vIC4uLm90aGVyd2lzZSB1c2UgcmVzdWx0cyBkaXJlY3RseVxuICAgICAgICAgIHJlc3VsdHMgOlxuICAgICAgICBtYXRjaGVySW47XG5cbiAgICAvLyBGaW5kIHByaW1hcnkgbWF0Y2hlc1xuICAgIGlmICggbWF0Y2hlciApIHtcbiAgICAgIG1hdGNoZXIoIG1hdGNoZXJJbiwgbWF0Y2hlck91dCwgY29udGV4dCwgeG1sICk7XG4gICAgfVxuXG4gICAgLy8gQXBwbHkgcG9zdEZpbHRlclxuICAgIGlmICggcG9zdEZpbHRlciApIHtcbiAgICAgIHRlbXAgPSBjb25kZW5zZSggbWF0Y2hlck91dCwgcG9zdE1hcCApO1xuICAgICAgcG9zdEZpbHRlciggdGVtcCwgW10sIGNvbnRleHQsIHhtbCApO1xuXG4gICAgICAvLyBVbi1tYXRjaCBmYWlsaW5nIGVsZW1lbnRzIGJ5IG1vdmluZyB0aGVtIGJhY2sgdG8gbWF0Y2hlckluXG4gICAgICBpID0gdGVtcC5sZW5ndGg7XG4gICAgICB3aGlsZSAoIGktLSApIHtcbiAgICAgICAgaWYgKCAoZWxlbSA9IHRlbXBbaV0pICkge1xuICAgICAgICAgIG1hdGNoZXJPdXRbIHBvc3RNYXBbaV0gXSA9ICEobWF0Y2hlckluWyBwb3N0TWFwW2ldIF0gPSBlbGVtKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICggc2VlZCApIHtcbiAgICAgIGlmICggcG9zdEZpbmRlciB8fCBwcmVGaWx0ZXIgKSB7XG4gICAgICAgIGlmICggcG9zdEZpbmRlciApIHtcbiAgICAgICAgICAvLyBHZXQgdGhlIGZpbmFsIG1hdGNoZXJPdXQgYnkgY29uZGVuc2luZyB0aGlzIGludGVybWVkaWF0ZSBpbnRvIHBvc3RGaW5kZXIgY29udGV4dHNcbiAgICAgICAgICB0ZW1wID0gW107XG4gICAgICAgICAgaSA9IG1hdGNoZXJPdXQubGVuZ3RoO1xuICAgICAgICAgIHdoaWxlICggaS0tICkge1xuICAgICAgICAgICAgaWYgKCAoZWxlbSA9IG1hdGNoZXJPdXRbaV0pICkge1xuICAgICAgICAgICAgICAvLyBSZXN0b3JlIG1hdGNoZXJJbiBzaW5jZSBlbGVtIGlzIG5vdCB5ZXQgYSBmaW5hbCBtYXRjaFxuICAgICAgICAgICAgICB0ZW1wLnB1c2goIChtYXRjaGVySW5baV0gPSBlbGVtKSApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBwb3N0RmluZGVyKCBudWxsLCAobWF0Y2hlck91dCA9IFtdKSwgdGVtcCwgeG1sICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNb3ZlIG1hdGNoZWQgZWxlbWVudHMgZnJvbSBzZWVkIHRvIHJlc3VsdHMgdG8ga2VlcCB0aGVtIHN5bmNocm9uaXplZFxuICAgICAgICBpID0gbWF0Y2hlck91dC5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggaS0tICkge1xuICAgICAgICAgIGlmICggKGVsZW0gPSBtYXRjaGVyT3V0W2ldKSAmJlxuICAgICAgICAgICAgKHRlbXAgPSBwb3N0RmluZGVyID8gaW5kZXhPZiggc2VlZCwgZWxlbSApIDogcHJlTWFwW2ldKSA+IC0xICkge1xuXG4gICAgICAgICAgICBzZWVkW3RlbXBdID0gIShyZXN1bHRzW3RlbXBdID0gZWxlbSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAvLyBBZGQgZWxlbWVudHMgdG8gcmVzdWx0cywgdGhyb3VnaCBwb3N0RmluZGVyIGlmIGRlZmluZWRcbiAgICB9IGVsc2Uge1xuICAgICAgbWF0Y2hlck91dCA9IGNvbmRlbnNlKFxuICAgICAgICBtYXRjaGVyT3V0ID09PSByZXN1bHRzID9cbiAgICAgICAgICBtYXRjaGVyT3V0LnNwbGljZSggcHJlZXhpc3RpbmcsIG1hdGNoZXJPdXQubGVuZ3RoICkgOlxuICAgICAgICAgIG1hdGNoZXJPdXRcbiAgICAgICk7XG4gICAgICBpZiAoIHBvc3RGaW5kZXIgKSB7XG4gICAgICAgIHBvc3RGaW5kZXIoIG51bGwsIHJlc3VsdHMsIG1hdGNoZXJPdXQsIHhtbCApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHVzaC5hcHBseSggcmVzdWx0cywgbWF0Y2hlck91dCApO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIG1hdGNoZXJGcm9tVG9rZW5zKCB0b2tlbnMgKSB7XG4gIHZhciBjaGVja0NvbnRleHQsIG1hdGNoZXIsIGosXG4gICAgbGVuID0gdG9rZW5zLmxlbmd0aCxcbiAgICBsZWFkaW5nUmVsYXRpdmUgPSBFeHByLnJlbGF0aXZlWyB0b2tlbnNbMF0udHlwZSBdLFxuICAgIGltcGxpY2l0UmVsYXRpdmUgPSBsZWFkaW5nUmVsYXRpdmUgfHwgRXhwci5yZWxhdGl2ZVtcIiBcIl0sXG4gICAgaSA9IGxlYWRpbmdSZWxhdGl2ZSA/IDEgOiAwLFxuXG4gICAgLy8gVGhlIGZvdW5kYXRpb25hbCBtYXRjaGVyIGVuc3VyZXMgdGhhdCBlbGVtZW50cyBhcmUgcmVhY2hhYmxlIGZyb20gdG9wLWxldmVsIGNvbnRleHQocylcbiAgICBtYXRjaENvbnRleHQgPSBhZGRDb21iaW5hdG9yKCBmdW5jdGlvbiggZWxlbSApIHtcbiAgICAgIHJldHVybiBlbGVtID09PSBjaGVja0NvbnRleHQ7XG4gICAgfSwgaW1wbGljaXRSZWxhdGl2ZSwgdHJ1ZSApLFxuICAgIG1hdGNoQW55Q29udGV4dCA9IGFkZENvbWJpbmF0b3IoIGZ1bmN0aW9uKCBlbGVtICkge1xuICAgICAgcmV0dXJuIGluZGV4T2YoIGNoZWNrQ29udGV4dCwgZWxlbSApID4gLTE7XG4gICAgfSwgaW1wbGljaXRSZWxhdGl2ZSwgdHJ1ZSApLFxuICAgIG1hdGNoZXJzID0gWyBmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuICAgICAgdmFyIHJldCA9ICggIWxlYWRpbmdSZWxhdGl2ZSAmJiAoIHhtbCB8fCBjb250ZXh0ICE9PSBvdXRlcm1vc3RDb250ZXh0ICkgKSB8fCAoXG4gICAgICAgIChjaGVja0NvbnRleHQgPSBjb250ZXh0KS5ub2RlVHlwZSA/XG4gICAgICAgICAgbWF0Y2hDb250ZXh0KCBlbGVtLCBjb250ZXh0LCB4bWwgKSA6XG4gICAgICAgICAgbWF0Y2hBbnlDb250ZXh0KCBlbGVtLCBjb250ZXh0LCB4bWwgKSApO1xuICAgICAgLy8gQXZvaWQgaGFuZ2luZyBvbnRvIGVsZW1lbnQgKGlzc3VlICMyOTkpXG4gICAgICBjaGVja0NvbnRleHQgPSBudWxsO1xuICAgICAgcmV0dXJuIHJldDtcbiAgICB9IF07XG5cbiAgZm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG4gICAgaWYgKCAobWF0Y2hlciA9IEV4cHIucmVsYXRpdmVbIHRva2Vuc1tpXS50eXBlIF0pICkge1xuICAgICAgbWF0Y2hlcnMgPSBbIGFkZENvbWJpbmF0b3IoZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICksIG1hdGNoZXIpIF07XG4gICAgfSBlbHNlIHtcbiAgICAgIG1hdGNoZXIgPSBFeHByLmZpbHRlclsgdG9rZW5zW2ldLnR5cGUgXS5hcHBseSggbnVsbCwgdG9rZW5zW2ldLm1hdGNoZXMgKTtcblxuICAgICAgLy8gUmV0dXJuIHNwZWNpYWwgdXBvbiBzZWVpbmcgYSBwb3NpdGlvbmFsIG1hdGNoZXJcbiAgICAgIGlmICggbWF0Y2hlclsgZXhwYW5kbyBdICkge1xuICAgICAgICAvLyBGaW5kIHRoZSBuZXh0IHJlbGF0aXZlIG9wZXJhdG9yIChpZiBhbnkpIGZvciBwcm9wZXIgaGFuZGxpbmdcbiAgICAgICAgaiA9ICsraTtcbiAgICAgICAgZm9yICggOyBqIDwgbGVuOyBqKysgKSB7XG4gICAgICAgICAgaWYgKCBFeHByLnJlbGF0aXZlWyB0b2tlbnNbal0udHlwZSBdICkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZXRNYXRjaGVyKFxuICAgICAgICAgIGkgPiAxICYmIGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApLFxuICAgICAgICAgIGkgPiAxICYmIHRvU2VsZWN0b3IoXG4gICAgICAgICAgICAvLyBJZiB0aGUgcHJlY2VkaW5nIHRva2VuIHdhcyBhIGRlc2NlbmRhbnQgY29tYmluYXRvciwgaW5zZXJ0IGFuIGltcGxpY2l0IGFueS1lbGVtZW50IGAqYFxuICAgICAgICAgICAgdG9rZW5zLnNsaWNlKCAwLCBpIC0gMSApLmNvbmNhdCh7IHZhbHVlOiB0b2tlbnNbIGkgLSAyIF0udHlwZSA9PT0gXCIgXCIgPyBcIipcIiA6IFwiXCIgfSlcbiAgICAgICAgICApLnJlcGxhY2UoIHJ0cmltLCBcIiQxXCIgKSxcbiAgICAgICAgICBtYXRjaGVyLFxuICAgICAgICAgIGkgPCBqICYmIG1hdGNoZXJGcm9tVG9rZW5zKCB0b2tlbnMuc2xpY2UoIGksIGogKSApLFxuICAgICAgICAgIGogPCBsZW4gJiYgbWF0Y2hlckZyb21Ub2tlbnMoICh0b2tlbnMgPSB0b2tlbnMuc2xpY2UoIGogKSkgKSxcbiAgICAgICAgICBqIDwgbGVuICYmIHRvU2VsZWN0b3IoIHRva2VucyApXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBtYXRjaGVycy5wdXNoKCBtYXRjaGVyICk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApO1xufVxuXG5mdW5jdGlvbiBtYXRjaGVyRnJvbUdyb3VwTWF0Y2hlcnMoIGVsZW1lbnRNYXRjaGVycywgc2V0TWF0Y2hlcnMgKSB7XG4gIHZhciBieVNldCA9IHNldE1hdGNoZXJzLmxlbmd0aCA+IDAsXG4gICAgYnlFbGVtZW50ID0gZWxlbWVudE1hdGNoZXJzLmxlbmd0aCA+IDAsXG4gICAgc3VwZXJNYXRjaGVyID0gZnVuY3Rpb24oIHNlZWQsIGNvbnRleHQsIHhtbCwgcmVzdWx0cywgb3V0ZXJtb3N0ICkge1xuICAgICAgdmFyIGVsZW0sIGosIG1hdGNoZXIsXG4gICAgICAgIG1hdGNoZWRDb3VudCA9IDAsXG4gICAgICAgIGkgPSBcIjBcIixcbiAgICAgICAgdW5tYXRjaGVkID0gc2VlZCAmJiBbXSxcbiAgICAgICAgc2V0TWF0Y2hlZCA9IFtdLFxuICAgICAgICBjb250ZXh0QmFja3VwID0gb3V0ZXJtb3N0Q29udGV4dCxcbiAgICAgICAgLy8gV2UgbXVzdCBhbHdheXMgaGF2ZSBlaXRoZXIgc2VlZCBlbGVtZW50cyBvciBvdXRlcm1vc3QgY29udGV4dFxuICAgICAgICBlbGVtcyA9IHNlZWQgfHwgYnlFbGVtZW50ICYmIEV4cHIuZmluZFtcIlRBR1wiXSggXCIqXCIsIG91dGVybW9zdCApLFxuICAgICAgICAvLyBVc2UgaW50ZWdlciBkaXJydW5zIGlmZiB0aGlzIGlzIHRoZSBvdXRlcm1vc3QgbWF0Y2hlclxuICAgICAgICBkaXJydW5zVW5pcXVlID0gKGRpcnJ1bnMgKz0gY29udGV4dEJhY2t1cCA9PSBudWxsID8gMSA6IE1hdGgucmFuZG9tKCkgfHwgMC4xKSxcbiAgICAgICAgbGVuID0gZWxlbXMubGVuZ3RoO1xuXG4gICAgICBpZiAoIG91dGVybW9zdCApIHtcbiAgICAgICAgb3V0ZXJtb3N0Q29udGV4dCA9IGNvbnRleHQgIT09IGRvY3VtZW50ICYmIGNvbnRleHQ7XG4gICAgICB9XG5cbiAgICAgIC8vIEFkZCBlbGVtZW50cyBwYXNzaW5nIGVsZW1lbnRNYXRjaGVycyBkaXJlY3RseSB0byByZXN1bHRzXG4gICAgICAvLyBLZWVwIGBpYCBhIHN0cmluZyBpZiB0aGVyZSBhcmUgbm8gZWxlbWVudHMgc28gYG1hdGNoZWRDb3VudGAgd2lsbCBiZSBcIjAwXCIgYmVsb3dcbiAgICAgIC8vIFN1cHBvcnQ6IElFPDksIFNhZmFyaVxuICAgICAgLy8gVG9sZXJhdGUgTm9kZUxpc3QgcHJvcGVydGllcyAoSUU6IFwibGVuZ3RoXCI7IFNhZmFyaTogPG51bWJlcj4pIG1hdGNoaW5nIGVsZW1lbnRzIGJ5IGlkXG4gICAgICBmb3IgKCA7IGkgIT09IGxlbiAmJiAoZWxlbSA9IGVsZW1zW2ldKSAhPSBudWxsOyBpKysgKSB7XG4gICAgICAgIGlmICggYnlFbGVtZW50ICYmIGVsZW0gKSB7XG4gICAgICAgICAgaiA9IDA7XG4gICAgICAgICAgd2hpbGUgKCAobWF0Y2hlciA9IGVsZW1lbnRNYXRjaGVyc1tqKytdKSApIHtcbiAgICAgICAgICAgIGlmICggbWF0Y2hlciggZWxlbSwgY29udGV4dCwgeG1sICkgKSB7XG4gICAgICAgICAgICAgIHJlc3VsdHMucHVzaCggZWxlbSApO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCBvdXRlcm1vc3QgKSB7XG4gICAgICAgICAgICBkaXJydW5zID0gZGlycnVuc1VuaXF1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUcmFjayB1bm1hdGNoZWQgZWxlbWVudHMgZm9yIHNldCBmaWx0ZXJzXG4gICAgICAgIGlmICggYnlTZXQgKSB7XG4gICAgICAgICAgLy8gVGhleSB3aWxsIGhhdmUgZ29uZSB0aHJvdWdoIGFsbCBwb3NzaWJsZSBtYXRjaGVyc1xuICAgICAgICAgIGlmICggKGVsZW0gPSAhbWF0Y2hlciAmJiBlbGVtKSApIHtcbiAgICAgICAgICAgIG1hdGNoZWRDb3VudC0tO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIExlbmd0aGVuIHRoZSBhcnJheSBmb3IgZXZlcnkgZWxlbWVudCwgbWF0Y2hlZCBvciBub3RcbiAgICAgICAgICBpZiAoIHNlZWQgKSB7XG4gICAgICAgICAgICB1bm1hdGNoZWQucHVzaCggZWxlbSApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBBcHBseSBzZXQgZmlsdGVycyB0byB1bm1hdGNoZWQgZWxlbWVudHNcbiAgICAgIG1hdGNoZWRDb3VudCArPSBpO1xuICAgICAgaWYgKCBieVNldCAmJiBpICE9PSBtYXRjaGVkQ291bnQgKSB7XG4gICAgICAgIGogPSAwO1xuICAgICAgICB3aGlsZSAoIChtYXRjaGVyID0gc2V0TWF0Y2hlcnNbaisrXSkgKSB7XG4gICAgICAgICAgbWF0Y2hlciggdW5tYXRjaGVkLCBzZXRNYXRjaGVkLCBjb250ZXh0LCB4bWwgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggc2VlZCApIHtcbiAgICAgICAgICAvLyBSZWludGVncmF0ZSBlbGVtZW50IG1hdGNoZXMgdG8gZWxpbWluYXRlIHRoZSBuZWVkIGZvciBzb3J0aW5nXG4gICAgICAgICAgaWYgKCBtYXRjaGVkQ291bnQgPiAwICkge1xuICAgICAgICAgICAgd2hpbGUgKCBpLS0gKSB7XG4gICAgICAgICAgICAgIGlmICggISh1bm1hdGNoZWRbaV0gfHwgc2V0TWF0Y2hlZFtpXSkgKSB7XG4gICAgICAgICAgICAgICAgc2V0TWF0Y2hlZFtpXSA9IHBvcC5jYWxsKCByZXN1bHRzICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBEaXNjYXJkIGluZGV4IHBsYWNlaG9sZGVyIHZhbHVlcyB0byBnZXQgb25seSBhY3R1YWwgbWF0Y2hlc1xuICAgICAgICAgIHNldE1hdGNoZWQgPSBjb25kZW5zZSggc2V0TWF0Y2hlZCApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWRkIG1hdGNoZXMgdG8gcmVzdWx0c1xuICAgICAgICBwdXNoLmFwcGx5KCByZXN1bHRzLCBzZXRNYXRjaGVkICk7XG5cbiAgICAgICAgLy8gU2VlZGxlc3Mgc2V0IG1hdGNoZXMgc3VjY2VlZGluZyBtdWx0aXBsZSBzdWNjZXNzZnVsIG1hdGNoZXJzIHN0aXB1bGF0ZSBzb3J0aW5nXG4gICAgICAgIGlmICggb3V0ZXJtb3N0ICYmICFzZWVkICYmIHNldE1hdGNoZWQubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICggbWF0Y2hlZENvdW50ICsgc2V0TWF0Y2hlcnMubGVuZ3RoICkgPiAxICkge1xuXG4gICAgICAgICAgU2l6emxlLnVuaXF1ZVNvcnQoIHJlc3VsdHMgKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBPdmVycmlkZSBtYW5pcHVsYXRpb24gb2YgZ2xvYmFscyBieSBuZXN0ZWQgbWF0Y2hlcnNcbiAgICAgIGlmICggb3V0ZXJtb3N0ICkge1xuICAgICAgICBkaXJydW5zID0gZGlycnVuc1VuaXF1ZTtcbiAgICAgICAgb3V0ZXJtb3N0Q29udGV4dCA9IGNvbnRleHRCYWNrdXA7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB1bm1hdGNoZWQ7XG4gICAgfTtcblxuICByZXR1cm4gYnlTZXQgP1xuICAgIG1hcmtGdW5jdGlvbiggc3VwZXJNYXRjaGVyICkgOlxuICAgIHN1cGVyTWF0Y2hlcjtcbn1cblxuY29tcGlsZSA9IFNpenpsZS5jb21waWxlID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBtYXRjaCAvKiBJbnRlcm5hbCBVc2UgT25seSAqLyApIHtcbiAgdmFyIGksXG4gICAgc2V0TWF0Y2hlcnMgPSBbXSxcbiAgICBlbGVtZW50TWF0Y2hlcnMgPSBbXSxcbiAgICBjYWNoZWQgPSBjb21waWxlckNhY2hlWyBzZWxlY3RvciArIFwiIFwiIF07XG5cbiAgaWYgKCAhY2FjaGVkICkge1xuICAgIC8vIEdlbmVyYXRlIGEgZnVuY3Rpb24gb2YgcmVjdXJzaXZlIGZ1bmN0aW9ucyB0aGF0IGNhbiBiZSB1c2VkIHRvIGNoZWNrIGVhY2ggZWxlbWVudFxuICAgIGlmICggIW1hdGNoICkge1xuICAgICAgbWF0Y2ggPSB0b2tlbml6ZSggc2VsZWN0b3IgKTtcbiAgICB9XG4gICAgaSA9IG1hdGNoLmxlbmd0aDtcbiAgICB3aGlsZSAoIGktLSApIHtcbiAgICAgIGNhY2hlZCA9IG1hdGNoZXJGcm9tVG9rZW5zKCBtYXRjaFtpXSApO1xuICAgICAgaWYgKCBjYWNoZWRbIGV4cGFuZG8gXSApIHtcbiAgICAgICAgc2V0TWF0Y2hlcnMucHVzaCggY2FjaGVkICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtZW50TWF0Y2hlcnMucHVzaCggY2FjaGVkICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2FjaGUgdGhlIGNvbXBpbGVkIGZ1bmN0aW9uXG4gICAgY2FjaGVkID0gY29tcGlsZXJDYWNoZSggc2VsZWN0b3IsIG1hdGNoZXJGcm9tR3JvdXBNYXRjaGVycyggZWxlbWVudE1hdGNoZXJzLCBzZXRNYXRjaGVycyApICk7XG5cbiAgICAvLyBTYXZlIHNlbGVjdG9yIGFuZCB0b2tlbml6YXRpb25cbiAgICBjYWNoZWQuc2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgfVxuICByZXR1cm4gY2FjaGVkO1xufTtcblxuLyoqXG4gKiBBIGxvdy1sZXZlbCBzZWxlY3Rpb24gZnVuY3Rpb24gdGhhdCB3b3JrcyB3aXRoIFNpenpsZSdzIGNvbXBpbGVkXG4gKiAgc2VsZWN0b3IgZnVuY3Rpb25zXG4gKiBAcGFyYW0ge1N0cmluZ3xGdW5jdGlvbn0gc2VsZWN0b3IgQSBzZWxlY3RvciBvciBhIHByZS1jb21waWxlZFxuICogIHNlbGVjdG9yIGZ1bmN0aW9uIGJ1aWx0IHdpdGggU2l6emxlLmNvbXBpbGVcbiAqIEBwYXJhbSB7RWxlbWVudH0gY29udGV4dFxuICogQHBhcmFtIHtBcnJheX0gW3Jlc3VsdHNdXG4gKiBAcGFyYW0ge0FycmF5fSBbc2VlZF0gQSBzZXQgb2YgZWxlbWVudHMgdG8gbWF0Y2ggYWdhaW5zdFxuICovXG5zZWxlY3QgPSBTaXp6bGUuc2VsZWN0ID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBjb250ZXh0LCByZXN1bHRzLCBzZWVkICkge1xuICB2YXIgaSwgdG9rZW5zLCB0b2tlbiwgdHlwZSwgZmluZCxcbiAgICBjb21waWxlZCA9IHR5cGVvZiBzZWxlY3RvciA9PT0gXCJmdW5jdGlvblwiICYmIHNlbGVjdG9yLFxuICAgIG1hdGNoID0gIXNlZWQgJiYgdG9rZW5pemUoIChzZWxlY3RvciA9IGNvbXBpbGVkLnNlbGVjdG9yIHx8IHNlbGVjdG9yKSApO1xuXG4gIHJlc3VsdHMgPSByZXN1bHRzIHx8IFtdO1xuXG4gIC8vIFRyeSB0byBtaW5pbWl6ZSBvcGVyYXRpb25zIGlmIHRoZXJlIGlzIG5vIHNlZWQgYW5kIG9ubHkgb25lIGdyb3VwXG4gIGlmICggbWF0Y2gubGVuZ3RoID09PSAxICkge1xuXG4gICAgLy8gVGFrZSBhIHNob3J0Y3V0IGFuZCBzZXQgdGhlIGNvbnRleHQgaWYgdGhlIHJvb3Qgc2VsZWN0b3IgaXMgYW4gSURcbiAgICB0b2tlbnMgPSBtYXRjaFswXSA9IG1hdGNoWzBdLnNsaWNlKCAwICk7XG4gICAgaWYgKCB0b2tlbnMubGVuZ3RoID4gMiAmJiAodG9rZW4gPSB0b2tlbnNbMF0pLnR5cGUgPT09IFwiSURcIiAmJlxuICAgICAgICBzdXBwb3J0LmdldEJ5SWQgJiYgY29udGV4dC5ub2RlVHlwZSA9PT0gOSAmJiBkb2N1bWVudElzSFRNTCAmJlxuICAgICAgICBFeHByLnJlbGF0aXZlWyB0b2tlbnNbMV0udHlwZSBdICkge1xuXG4gICAgICBjb250ZXh0ID0gKCBFeHByLmZpbmRbXCJJRFwiXSggdG9rZW4ubWF0Y2hlc1swXS5yZXBsYWNlKHJ1bmVzY2FwZSwgZnVuZXNjYXBlKSwgY29udGV4dCApIHx8IFtdIClbMF07XG4gICAgICBpZiAoICFjb250ZXh0ICkge1xuICAgICAgICByZXR1cm4gcmVzdWx0cztcblxuICAgICAgLy8gUHJlY29tcGlsZWQgbWF0Y2hlcnMgd2lsbCBzdGlsbCB2ZXJpZnkgYW5jZXN0cnksIHNvIHN0ZXAgdXAgYSBsZXZlbFxuICAgICAgfSBlbHNlIGlmICggY29tcGlsZWQgKSB7XG4gICAgICAgIGNvbnRleHQgPSBjb250ZXh0LnBhcmVudE5vZGU7XG4gICAgICB9XG5cbiAgICAgIHNlbGVjdG9yID0gc2VsZWN0b3Iuc2xpY2UoIHRva2Vucy5zaGlmdCgpLnZhbHVlLmxlbmd0aCApO1xuICAgIH1cblxuICAgIC8vIEZldGNoIGEgc2VlZCBzZXQgZm9yIHJpZ2h0LXRvLWxlZnQgbWF0Y2hpbmdcbiAgICBpID0gbWF0Y2hFeHByW1wibmVlZHNDb250ZXh0XCJdLnRlc3QoIHNlbGVjdG9yICkgPyAwIDogdG9rZW5zLmxlbmd0aDtcbiAgICB3aGlsZSAoIGktLSApIHtcbiAgICAgIHRva2VuID0gdG9rZW5zW2ldO1xuXG4gICAgICAvLyBBYm9ydCBpZiB3ZSBoaXQgYSBjb21iaW5hdG9yXG4gICAgICBpZiAoIEV4cHIucmVsYXRpdmVbICh0eXBlID0gdG9rZW4udHlwZSkgXSApIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBpZiAoIChmaW5kID0gRXhwci5maW5kWyB0eXBlIF0pICkge1xuICAgICAgICAvLyBTZWFyY2gsIGV4cGFuZGluZyBjb250ZXh0IGZvciBsZWFkaW5nIHNpYmxpbmcgY29tYmluYXRvcnNcbiAgICAgICAgaWYgKCAoc2VlZCA9IGZpbmQoXG4gICAgICAgICAgdG9rZW4ubWF0Y2hlc1swXS5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApLFxuICAgICAgICAgIHJzaWJsaW5nLnRlc3QoIHRva2Vuc1swXS50eXBlICkgJiYgdGVzdENvbnRleHQoIGNvbnRleHQucGFyZW50Tm9kZSApIHx8IGNvbnRleHRcbiAgICAgICAgKSkgKSB7XG5cbiAgICAgICAgICAvLyBJZiBzZWVkIGlzIGVtcHR5IG9yIG5vIHRva2VucyByZW1haW4sIHdlIGNhbiByZXR1cm4gZWFybHlcbiAgICAgICAgICB0b2tlbnMuc3BsaWNlKCBpLCAxICk7XG4gICAgICAgICAgc2VsZWN0b3IgPSBzZWVkLmxlbmd0aCAmJiB0b1NlbGVjdG9yKCB0b2tlbnMgKTtcbiAgICAgICAgICBpZiAoICFzZWxlY3RvciApIHtcbiAgICAgICAgICAgIHB1c2guYXBwbHkoIHJlc3VsdHMsIHNlZWQgKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gQ29tcGlsZSBhbmQgZXhlY3V0ZSBhIGZpbHRlcmluZyBmdW5jdGlvbiBpZiBvbmUgaXMgbm90IHByb3ZpZGVkXG4gIC8vIFByb3ZpZGUgYG1hdGNoYCB0byBhdm9pZCByZXRva2VuaXphdGlvbiBpZiB3ZSBtb2RpZmllZCB0aGUgc2VsZWN0b3IgYWJvdmVcbiAgKCBjb21waWxlZCB8fCBjb21waWxlKCBzZWxlY3RvciwgbWF0Y2ggKSApKFxuICAgIHNlZWQsXG4gICAgY29udGV4dCxcbiAgICAhZG9jdW1lbnRJc0hUTUwsXG4gICAgcmVzdWx0cyxcbiAgICByc2libGluZy50ZXN0KCBzZWxlY3RvciApICYmIHRlc3RDb250ZXh0KCBjb250ZXh0LnBhcmVudE5vZGUgKSB8fCBjb250ZXh0XG4gICk7XG4gIHJldHVybiByZXN1bHRzO1xufTtcblxuLy8gT25lLXRpbWUgYXNzaWdubWVudHNcblxuLy8gU29ydCBzdGFiaWxpdHlcbnN1cHBvcnQuc29ydFN0YWJsZSA9IGV4cGFuZG8uc3BsaXQoXCJcIikuc29ydCggc29ydE9yZGVyICkuam9pbihcIlwiKSA9PT0gZXhwYW5kbztcblxuLy8gU3VwcG9ydDogQ2hyb21lIDE0LTM1K1xuLy8gQWx3YXlzIGFzc3VtZSBkdXBsaWNhdGVzIGlmIHRoZXkgYXJlbid0IHBhc3NlZCB0byB0aGUgY29tcGFyaXNvbiBmdW5jdGlvblxuc3VwcG9ydC5kZXRlY3REdXBsaWNhdGVzID0gISFoYXNEdXBsaWNhdGU7XG5cbi8vIEluaXRpYWxpemUgYWdhaW5zdCB0aGUgZGVmYXVsdCBkb2N1bWVudFxuc2V0RG9jdW1lbnQoKTtcblxuLy8gU3VwcG9ydDogV2Via2l0PDUzNy4zMiAtIFNhZmFyaSA2LjAuMy9DaHJvbWUgMjUgKGZpeGVkIGluIENocm9tZSAyNylcbi8vIERldGFjaGVkIG5vZGVzIGNvbmZvdW5kaW5nbHkgZm9sbG93ICplYWNoIG90aGVyKlxuc3VwcG9ydC5zb3J0RGV0YWNoZWQgPSBhc3NlcnQoZnVuY3Rpb24oIGRpdjEgKSB7XG4gIC8vIFNob3VsZCByZXR1cm4gMSwgYnV0IHJldHVybnMgNCAoZm9sbG93aW5nKVxuICByZXR1cm4gZGl2MS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiggZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSApICYgMTtcbn0pO1xuXG4vLyBTdXBwb3J0OiBJRTw4XG4vLyBQcmV2ZW50IGF0dHJpYnV0ZS9wcm9wZXJ0eSBcImludGVycG9sYXRpb25cIlxuLy8gaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L21zNTM2NDI5JTI4VlMuODUlMjkuYXNweFxuaWYgKCAhYXNzZXJ0KGZ1bmN0aW9uKCBkaXYgKSB7XG4gIGRpdi5pbm5lckhUTUwgPSBcIjxhIGhyZWY9JyMnPjwvYT5cIjtcbiAgcmV0dXJuIGRpdi5maXJzdENoaWxkLmdldEF0dHJpYnV0ZShcImhyZWZcIikgPT09IFwiI1wiIDtcbn0pICkge1xuICBhZGRIYW5kbGUoIFwidHlwZXxocmVmfGhlaWdodHx3aWR0aFwiLCBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XG4gICAgaWYgKCAhaXNYTUwgKSB7XG4gICAgICByZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUoIG5hbWUsIG5hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJ0eXBlXCIgPyAxIDogMiApO1xuICAgIH1cbiAgfSk7XG59XG5cbi8vIFN1cHBvcnQ6IElFPDlcbi8vIFVzZSBkZWZhdWx0VmFsdWUgaW4gcGxhY2Ugb2YgZ2V0QXR0cmlidXRlKFwidmFsdWVcIilcbmlmICggIXN1cHBvcnQuYXR0cmlidXRlcyB8fCAhYXNzZXJ0KGZ1bmN0aW9uKCBkaXYgKSB7XG4gIGRpdi5pbm5lckhUTUwgPSBcIjxpbnB1dC8+XCI7XG4gIGRpdi5maXJzdENoaWxkLnNldEF0dHJpYnV0ZSggXCJ2YWx1ZVwiLCBcIlwiICk7XG4gIHJldHVybiBkaXYuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoIFwidmFsdWVcIiApID09PSBcIlwiO1xufSkgKSB7XG4gIGFkZEhhbmRsZSggXCJ2YWx1ZVwiLCBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XG4gICAgaWYgKCAhaXNYTUwgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcImlucHV0XCIgKSB7XG4gICAgICByZXR1cm4gZWxlbS5kZWZhdWx0VmFsdWU7XG4gICAgfVxuICB9KTtcbn1cblxuLy8gU3VwcG9ydDogSUU8OVxuLy8gVXNlIGdldEF0dHJpYnV0ZU5vZGUgdG8gZmV0Y2ggYm9vbGVhbnMgd2hlbiBnZXRBdHRyaWJ1dGUgbGllc1xuaWYgKCAhYXNzZXJ0KGZ1bmN0aW9uKCBkaXYgKSB7XG4gIHJldHVybiBkaXYuZ2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIikgPT0gbnVsbDtcbn0pICkge1xuICBhZGRIYW5kbGUoIGJvb2xlYW5zLCBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XG4gICAgdmFyIHZhbDtcbiAgICBpZiAoICFpc1hNTCApIHtcbiAgICAgIHJldHVybiBlbGVtWyBuYW1lIF0gPT09IHRydWUgPyBuYW1lLnRvTG93ZXJDYXNlKCkgOlxuICAgICAgICAgICh2YWwgPSBlbGVtLmdldEF0dHJpYnV0ZU5vZGUoIG5hbWUgKSkgJiYgdmFsLnNwZWNpZmllZCA/XG4gICAgICAgICAgdmFsLnZhbHVlIDpcbiAgICAgICAgbnVsbDtcbiAgICB9XG4gIH0pO1xufVxuXG5yZXR1cm4gU2l6emxlO1xuXG59KSggd2luZG93ICk7XG5cblxuXG5qUXVlcnkuZmluZCA9IFNpenpsZTtcbmpRdWVyeS5leHByID0gU2l6emxlLnNlbGVjdG9ycztcbmpRdWVyeS5leHByW1wiOlwiXSA9IGpRdWVyeS5leHByLnBzZXVkb3M7XG5qUXVlcnkudW5pcXVlID0gU2l6emxlLnVuaXF1ZVNvcnQ7XG5qUXVlcnkudGV4dCA9IFNpenpsZS5nZXRUZXh0O1xualF1ZXJ5LmlzWE1MRG9jID0gU2l6emxlLmlzWE1MO1xualF1ZXJ5LmNvbnRhaW5zID0gU2l6emxlLmNvbnRhaW5zO1xuXG5cblxudmFyIHJuZWVkc0NvbnRleHQgPSBqUXVlcnkuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQ7XG5cbnZhciByc2luZ2xlVGFnID0gKC9ePChcXHcrKVxccypcXC8/Pig/OjxcXC9cXDE+fCkkLyk7XG5cblxuXG52YXIgcmlzU2ltcGxlID0gL14uW146I1xcW1xcLixdKiQvO1xuXG4vLyBJbXBsZW1lbnQgdGhlIGlkZW50aWNhbCBmdW5jdGlvbmFsaXR5IGZvciBmaWx0ZXIgYW5kIG5vdFxuZnVuY3Rpb24gd2lubm93KCBlbGVtZW50cywgcXVhbGlmaWVyLCBub3QgKSB7XG4gIGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHF1YWxpZmllciApICkge1xuICAgIHJldHVybiBqUXVlcnkuZ3JlcCggZWxlbWVudHMsIGZ1bmN0aW9uKCBlbGVtLCBpICkge1xuICAgICAgLyoganNoaW50IC1XMDE4ICovXG4gICAgICByZXR1cm4gISFxdWFsaWZpZXIuY2FsbCggZWxlbSwgaSwgZWxlbSApICE9PSBub3Q7XG4gICAgfSk7XG5cbiAgfVxuXG4gIGlmICggcXVhbGlmaWVyLm5vZGVUeXBlICkge1xuICAgIHJldHVybiBqUXVlcnkuZ3JlcCggZWxlbWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuICAgICAgcmV0dXJuICggZWxlbSA9PT0gcXVhbGlmaWVyICkgIT09IG5vdDtcbiAgICB9KTtcblxuICB9XG5cbiAgaWYgKCB0eXBlb2YgcXVhbGlmaWVyID09PSBcInN0cmluZ1wiICkge1xuICAgIGlmICggcmlzU2ltcGxlLnRlc3QoIHF1YWxpZmllciApICkge1xuICAgICAgcmV0dXJuIGpRdWVyeS5maWx0ZXIoIHF1YWxpZmllciwgZWxlbWVudHMsIG5vdCApO1xuICAgIH1cblxuICAgIHF1YWxpZmllciA9IGpRdWVyeS5maWx0ZXIoIHF1YWxpZmllciwgZWxlbWVudHMgKTtcbiAgfVxuXG4gIHJldHVybiBqUXVlcnkuZ3JlcCggZWxlbWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuICAgIHJldHVybiAoIGpRdWVyeS5pbkFycmF5KCBlbGVtLCBxdWFsaWZpZXIgKSA+PSAwICkgIT09IG5vdDtcbiAgfSk7XG59XG5cbmpRdWVyeS5maWx0ZXIgPSBmdW5jdGlvbiggZXhwciwgZWxlbXMsIG5vdCApIHtcbiAgdmFyIGVsZW0gPSBlbGVtc1sgMCBdO1xuXG4gIGlmICggbm90ICkge1xuICAgIGV4cHIgPSBcIjpub3QoXCIgKyBleHByICsgXCIpXCI7XG4gIH1cblxuICByZXR1cm4gZWxlbXMubGVuZ3RoID09PSAxICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgP1xuICAgIGpRdWVyeS5maW5kLm1hdGNoZXNTZWxlY3RvciggZWxlbSwgZXhwciApID8gWyBlbGVtIF0gOiBbXSA6XG4gICAgalF1ZXJ5LmZpbmQubWF0Y2hlcyggZXhwciwgalF1ZXJ5LmdyZXAoIGVsZW1zLCBmdW5jdGlvbiggZWxlbSApIHtcbiAgICAgIHJldHVybiBlbGVtLm5vZGVUeXBlID09PSAxO1xuICAgIH0pKTtcbn07XG5cbmpRdWVyeS5mbi5leHRlbmQoe1xuICBmaW5kOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG4gICAgdmFyIGksXG4gICAgICByZXQgPSBbXSxcbiAgICAgIHNlbGYgPSB0aGlzLFxuICAgICAgbGVuID0gc2VsZi5sZW5ndGg7XG5cbiAgICBpZiAoIHR5cGVvZiBzZWxlY3RvciAhPT0gXCJzdHJpbmdcIiApIHtcbiAgICAgIHJldHVybiB0aGlzLnB1c2hTdGFjayggalF1ZXJ5KCBzZWxlY3RvciApLmZpbHRlcihmdW5jdGlvbigpIHtcbiAgICAgICAgZm9yICggaSA9IDA7IGkgPCBsZW47IGkrKyApIHtcbiAgICAgICAgICBpZiAoIGpRdWVyeS5jb250YWlucyggc2VsZlsgaSBdLCB0aGlzICkgKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pICk7XG4gICAgfVxuXG4gICAgZm9yICggaSA9IDA7IGkgPCBsZW47IGkrKyApIHtcbiAgICAgIGpRdWVyeS5maW5kKCBzZWxlY3Rvciwgc2VsZlsgaSBdLCByZXQgKTtcbiAgICB9XG5cbiAgICAvLyBOZWVkZWQgYmVjYXVzZSAkKCBzZWxlY3RvciwgY29udGV4dCApIGJlY29tZXMgJCggY29udGV4dCApLmZpbmQoIHNlbGVjdG9yIClcbiAgICByZXQgPSB0aGlzLnB1c2hTdGFjayggbGVuID4gMSA/IGpRdWVyeS51bmlxdWUoIHJldCApIDogcmV0ICk7XG4gICAgcmV0LnNlbGVjdG9yID0gdGhpcy5zZWxlY3RvciA/IHRoaXMuc2VsZWN0b3IgKyBcIiBcIiArIHNlbGVjdG9yIDogc2VsZWN0b3I7XG4gICAgcmV0dXJuIHJldDtcbiAgfSxcbiAgZmlsdGVyOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG4gICAgcmV0dXJuIHRoaXMucHVzaFN0YWNrKCB3aW5ub3codGhpcywgc2VsZWN0b3IgfHwgW10sIGZhbHNlKSApO1xuICB9LFxuICBub3Q6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcbiAgICByZXR1cm4gdGhpcy5wdXNoU3RhY2soIHdpbm5vdyh0aGlzLCBzZWxlY3RvciB8fCBbXSwgdHJ1ZSkgKTtcbiAgfSxcbiAgaXM6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcbiAgICByZXR1cm4gISF3aW5ub3coXG4gICAgICB0aGlzLFxuXG4gICAgICAvLyBJZiB0aGlzIGlzIGEgcG9zaXRpb25hbC9yZWxhdGl2ZSBzZWxlY3RvciwgY2hlY2sgbWVtYmVyc2hpcCBpbiB0aGUgcmV0dXJuZWQgc2V0XG4gICAgICAvLyBzbyAkKFwicDpmaXJzdFwiKS5pcyhcInA6bGFzdFwiKSB3b24ndCByZXR1cm4gdHJ1ZSBmb3IgYSBkb2Mgd2l0aCB0d28gXCJwXCIuXG4gICAgICB0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCIgJiYgcm5lZWRzQ29udGV4dC50ZXN0KCBzZWxlY3RvciApID9cbiAgICAgICAgalF1ZXJ5KCBzZWxlY3RvciApIDpcbiAgICAgICAgc2VsZWN0b3IgfHwgW10sXG4gICAgICBmYWxzZVxuICAgICkubGVuZ3RoO1xuICB9XG59KTtcblxuXG4vLyBJbml0aWFsaXplIGEgalF1ZXJ5IG9iamVjdFxuXG5cbi8vIEEgY2VudHJhbCByZWZlcmVuY2UgdG8gdGhlIHJvb3QgalF1ZXJ5KGRvY3VtZW50KVxudmFyIHJvb3RqUXVlcnksXG5cbiAgLy8gVXNlIHRoZSBjb3JyZWN0IGRvY3VtZW50IGFjY29yZGluZ2x5IHdpdGggd2luZG93IGFyZ3VtZW50IChzYW5kYm94KVxuICBkb2N1bWVudCA9IHdpbmRvdy5kb2N1bWVudCxcblxuICAvLyBBIHNpbXBsZSB3YXkgdG8gY2hlY2sgZm9yIEhUTUwgc3RyaW5nc1xuICAvLyBQcmlvcml0aXplICNpZCBvdmVyIDx0YWc+IHRvIGF2b2lkIFhTUyB2aWEgbG9jYXRpb24uaGFzaCAoIzk1MjEpXG4gIC8vIFN0cmljdCBIVE1MIHJlY29nbml0aW9uICgjMTEyOTA6IG11c3Qgc3RhcnQgd2l0aCA8KVxuICBycXVpY2tFeHByID0gL14oPzpcXHMqKDxbXFx3XFxXXSs+KVtePl0qfCMoW1xcdy1dKikpJC8sXG5cbiAgaW5pdCA9IGpRdWVyeS5mbi5pbml0ID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBjb250ZXh0ICkge1xuICAgIHZhciBtYXRjaCwgZWxlbTtcblxuICAgIC8vIEhBTkRMRTogJChcIlwiKSwgJChudWxsKSwgJCh1bmRlZmluZWQpLCAkKGZhbHNlKVxuICAgIGlmICggIXNlbGVjdG9yICkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIEhUTUwgc3RyaW5nc1xuICAgIGlmICggdHlwZW9mIHNlbGVjdG9yID09PSBcInN0cmluZ1wiICkge1xuICAgICAgaWYgKCBzZWxlY3Rvci5jaGFyQXQoMCkgPT09IFwiPFwiICYmIHNlbGVjdG9yLmNoYXJBdCggc2VsZWN0b3IubGVuZ3RoIC0gMSApID09PSBcIj5cIiAmJiBzZWxlY3Rvci5sZW5ndGggPj0gMyApIHtcbiAgICAgICAgLy8gQXNzdW1lIHRoYXQgc3RyaW5ncyB0aGF0IHN0YXJ0IGFuZCBlbmQgd2l0aCA8PiBhcmUgSFRNTCBhbmQgc2tpcCB0aGUgcmVnZXggY2hlY2tcbiAgICAgICAgbWF0Y2ggPSBbIG51bGwsIHNlbGVjdG9yLCBudWxsIF07XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1hdGNoID0gcnF1aWNrRXhwci5leGVjKCBzZWxlY3RvciApO1xuICAgICAgfVxuXG4gICAgICAvLyBNYXRjaCBodG1sIG9yIG1ha2Ugc3VyZSBubyBjb250ZXh0IGlzIHNwZWNpZmllZCBmb3IgI2lkXG4gICAgICBpZiAoIG1hdGNoICYmIChtYXRjaFsxXSB8fCAhY29udGV4dCkgKSB7XG5cbiAgICAgICAgLy8gSEFORExFOiAkKGh0bWwpIC0+ICQoYXJyYXkpXG4gICAgICAgIGlmICggbWF0Y2hbMV0gKSB7XG4gICAgICAgICAgY29udGV4dCA9IGNvbnRleHQgaW5zdGFuY2VvZiBqUXVlcnkgPyBjb250ZXh0WzBdIDogY29udGV4dDtcblxuICAgICAgICAgIC8vIHNjcmlwdHMgaXMgdHJ1ZSBmb3IgYmFjay1jb21wYXRcbiAgICAgICAgICAvLyBJbnRlbnRpb25hbGx5IGxldCB0aGUgZXJyb3IgYmUgdGhyb3duIGlmIHBhcnNlSFRNTCBpcyBub3QgcHJlc2VudFxuICAgICAgICAgIGpRdWVyeS5tZXJnZSggdGhpcywgalF1ZXJ5LnBhcnNlSFRNTChcbiAgICAgICAgICAgIG1hdGNoWzFdLFxuICAgICAgICAgICAgY29udGV4dCAmJiBjb250ZXh0Lm5vZGVUeXBlID8gY29udGV4dC5vd25lckRvY3VtZW50IHx8IGNvbnRleHQgOiBkb2N1bWVudCxcbiAgICAgICAgICAgIHRydWVcbiAgICAgICAgICApICk7XG5cbiAgICAgICAgICAvLyBIQU5ETEU6ICQoaHRtbCwgcHJvcHMpXG4gICAgICAgICAgaWYgKCByc2luZ2xlVGFnLnRlc3QoIG1hdGNoWzFdICkgJiYgalF1ZXJ5LmlzUGxhaW5PYmplY3QoIGNvbnRleHQgKSApIHtcbiAgICAgICAgICAgIGZvciAoIG1hdGNoIGluIGNvbnRleHQgKSB7XG4gICAgICAgICAgICAgIC8vIFByb3BlcnRpZXMgb2YgY29udGV4dCBhcmUgY2FsbGVkIGFzIG1ldGhvZHMgaWYgcG9zc2libGVcbiAgICAgICAgICAgICAgaWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggdGhpc1sgbWF0Y2ggXSApICkge1xuICAgICAgICAgICAgICAgIHRoaXNbIG1hdGNoIF0oIGNvbnRleHRbIG1hdGNoIF0gKTtcblxuICAgICAgICAgICAgICAvLyAuLi5hbmQgb3RoZXJ3aXNlIHNldCBhcyBhdHRyaWJ1dGVzXG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hdHRyKCBtYXRjaCwgY29udGV4dFsgbWF0Y2ggXSApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgLy8gSEFORExFOiAkKCNpZClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIG1hdGNoWzJdICk7XG5cbiAgICAgICAgICAvLyBDaGVjayBwYXJlbnROb2RlIHRvIGNhdGNoIHdoZW4gQmxhY2tiZXJyeSA0LjYgcmV0dXJuc1xuICAgICAgICAgIC8vIG5vZGVzIHRoYXQgYXJlIG5vIGxvbmdlciBpbiB0aGUgZG9jdW1lbnQgIzY5NjNcbiAgICAgICAgICBpZiAoIGVsZW0gJiYgZWxlbS5wYXJlbnROb2RlICkge1xuICAgICAgICAgICAgLy8gSGFuZGxlIHRoZSBjYXNlIHdoZXJlIElFIGFuZCBPcGVyYSByZXR1cm4gaXRlbXNcbiAgICAgICAgICAgIC8vIGJ5IG5hbWUgaW5zdGVhZCBvZiBJRFxuICAgICAgICAgICAgaWYgKCBlbGVtLmlkICE9PSBtYXRjaFsyXSApIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJvb3RqUXVlcnkuZmluZCggc2VsZWN0b3IgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCB3ZSBpbmplY3QgdGhlIGVsZW1lbnQgZGlyZWN0bHkgaW50byB0aGUgalF1ZXJ5IG9iamVjdFxuICAgICAgICAgICAgdGhpcy5sZW5ndGggPSAxO1xuICAgICAgICAgICAgdGhpc1swXSA9IGVsZW07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5jb250ZXh0ID0gZG9jdW1lbnQ7XG4gICAgICAgICAgdGhpcy5zZWxlY3RvciA9IHNlbGVjdG9yO1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgIC8vIEhBTkRMRTogJChleHByLCAkKC4uLikpXG4gICAgICB9IGVsc2UgaWYgKCAhY29udGV4dCB8fCBjb250ZXh0LmpxdWVyeSApIHtcbiAgICAgICAgcmV0dXJuICggY29udGV4dCB8fCByb290alF1ZXJ5ICkuZmluZCggc2VsZWN0b3IgKTtcblxuICAgICAgLy8gSEFORExFOiAkKGV4cHIsIGNvbnRleHQpXG4gICAgICAvLyAod2hpY2ggaXMganVzdCBlcXVpdmFsZW50IHRvOiAkKGNvbnRleHQpLmZpbmQoZXhwcilcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yKCBjb250ZXh0ICkuZmluZCggc2VsZWN0b3IgKTtcbiAgICAgIH1cblxuICAgIC8vIEhBTkRMRTogJChET01FbGVtZW50KVxuICAgIH0gZWxzZSBpZiAoIHNlbGVjdG9yLm5vZGVUeXBlICkge1xuICAgICAgdGhpcy5jb250ZXh0ID0gdGhpc1swXSA9IHNlbGVjdG9yO1xuICAgICAgdGhpcy5sZW5ndGggPSAxO1xuICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAvLyBIQU5ETEU6ICQoZnVuY3Rpb24pXG4gICAgLy8gU2hvcnRjdXQgZm9yIGRvY3VtZW50IHJlYWR5XG4gICAgfSBlbHNlIGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHNlbGVjdG9yICkgKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHJvb3RqUXVlcnkucmVhZHkgIT09IFwidW5kZWZpbmVkXCIgP1xuICAgICAgICByb290alF1ZXJ5LnJlYWR5KCBzZWxlY3RvciApIDpcbiAgICAgICAgLy8gRXhlY3V0ZSBpbW1lZGlhdGVseSBpZiByZWFkeSBpcyBub3QgcHJlc2VudFxuICAgICAgICBzZWxlY3RvciggalF1ZXJ5ICk7XG4gICAgfVxuXG4gICAgaWYgKCBzZWxlY3Rvci5zZWxlY3RvciAhPT0gdW5kZWZpbmVkICkge1xuICAgICAgdGhpcy5zZWxlY3RvciA9IHNlbGVjdG9yLnNlbGVjdG9yO1xuICAgICAgdGhpcy5jb250ZXh0ID0gc2VsZWN0b3IuY29udGV4dDtcbiAgICB9XG5cbiAgICByZXR1cm4galF1ZXJ5Lm1ha2VBcnJheSggc2VsZWN0b3IsIHRoaXMgKTtcbiAgfTtcblxuLy8gR2l2ZSB0aGUgaW5pdCBmdW5jdGlvbiB0aGUgalF1ZXJ5IHByb3RvdHlwZSBmb3IgbGF0ZXIgaW5zdGFudGlhdGlvblxuaW5pdC5wcm90b3R5cGUgPSBqUXVlcnkuZm47XG5cbi8vIEluaXRpYWxpemUgY2VudHJhbCByZWZlcmVuY2VcbnJvb3RqUXVlcnkgPSBqUXVlcnkoIGRvY3VtZW50ICk7XG5cblxudmFyIHJwYXJlbnRzcHJldiA9IC9eKD86cGFyZW50c3xwcmV2KD86VW50aWx8QWxsKSkvLFxuICAvLyBtZXRob2RzIGd1YXJhbnRlZWQgdG8gcHJvZHVjZSBhIHVuaXF1ZSBzZXQgd2hlbiBzdGFydGluZyBmcm9tIGEgdW5pcXVlIHNldFxuICBndWFyYW50ZWVkVW5pcXVlID0ge1xuICAgIGNoaWxkcmVuOiB0cnVlLFxuICAgIGNvbnRlbnRzOiB0cnVlLFxuICAgIG5leHQ6IHRydWUsXG4gICAgcHJldjogdHJ1ZVxuICB9O1xuXG5qUXVlcnkuZXh0ZW5kKHtcbiAgZGlyOiBmdW5jdGlvbiggZWxlbSwgZGlyLCB1bnRpbCApIHtcbiAgICB2YXIgbWF0Y2hlZCA9IFtdLFxuICAgICAgY3VyID0gZWxlbVsgZGlyIF07XG5cbiAgICB3aGlsZSAoIGN1ciAmJiBjdXIubm9kZVR5cGUgIT09IDkgJiYgKHVudGlsID09PSB1bmRlZmluZWQgfHwgY3VyLm5vZGVUeXBlICE9PSAxIHx8ICFqUXVlcnkoIGN1ciApLmlzKCB1bnRpbCApKSApIHtcbiAgICAgIGlmICggY3VyLm5vZGVUeXBlID09PSAxICkge1xuICAgICAgICBtYXRjaGVkLnB1c2goIGN1ciApO1xuICAgICAgfVxuICAgICAgY3VyID0gY3VyW2Rpcl07XG4gICAgfVxuICAgIHJldHVybiBtYXRjaGVkO1xuICB9LFxuXG4gIHNpYmxpbmc6IGZ1bmN0aW9uKCBuLCBlbGVtICkge1xuICAgIHZhciByID0gW107XG5cbiAgICBmb3IgKCA7IG47IG4gPSBuLm5leHRTaWJsaW5nICkge1xuICAgICAgaWYgKCBuLm5vZGVUeXBlID09PSAxICYmIG4gIT09IGVsZW0gKSB7XG4gICAgICAgIHIucHVzaCggbiApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByO1xuICB9XG59KTtcblxualF1ZXJ5LmZuLmV4dGVuZCh7XG4gIGhhczogZnVuY3Rpb24oIHRhcmdldCApIHtcbiAgICB2YXIgaSxcbiAgICAgIHRhcmdldHMgPSBqUXVlcnkoIHRhcmdldCwgdGhpcyApLFxuICAgICAgbGVuID0gdGFyZ2V0cy5sZW5ndGg7XG5cbiAgICByZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24oKSB7XG4gICAgICBmb3IgKCBpID0gMDsgaSA8IGxlbjsgaSsrICkge1xuICAgICAgICBpZiAoIGpRdWVyeS5jb250YWlucyggdGhpcywgdGFyZ2V0c1tpXSApICkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgY2xvc2VzdDogZnVuY3Rpb24oIHNlbGVjdG9ycywgY29udGV4dCApIHtcbiAgICB2YXIgY3VyLFxuICAgICAgaSA9IDAsXG4gICAgICBsID0gdGhpcy5sZW5ndGgsXG4gICAgICBtYXRjaGVkID0gW10sXG4gICAgICBwb3MgPSBybmVlZHNDb250ZXh0LnRlc3QoIHNlbGVjdG9ycyApIHx8IHR5cGVvZiBzZWxlY3RvcnMgIT09IFwic3RyaW5nXCIgP1xuICAgICAgICBqUXVlcnkoIHNlbGVjdG9ycywgY29udGV4dCB8fCB0aGlzLmNvbnRleHQgKSA6XG4gICAgICAgIDA7XG5cbiAgICBmb3IgKCA7IGkgPCBsOyBpKysgKSB7XG4gICAgICBmb3IgKCBjdXIgPSB0aGlzW2ldOyBjdXIgJiYgY3VyICE9PSBjb250ZXh0OyBjdXIgPSBjdXIucGFyZW50Tm9kZSApIHtcbiAgICAgICAgLy8gQWx3YXlzIHNraXAgZG9jdW1lbnQgZnJhZ21lbnRzXG4gICAgICAgIGlmICggY3VyLm5vZGVUeXBlIDwgMTEgJiYgKHBvcyA/XG4gICAgICAgICAgcG9zLmluZGV4KGN1cikgPiAtMSA6XG5cbiAgICAgICAgICAvLyBEb24ndCBwYXNzIG5vbi1lbGVtZW50cyB0byBTaXp6bGVcbiAgICAgICAgICBjdXIubm9kZVR5cGUgPT09IDEgJiZcbiAgICAgICAgICAgIGpRdWVyeS5maW5kLm1hdGNoZXNTZWxlY3RvcihjdXIsIHNlbGVjdG9ycykpICkge1xuXG4gICAgICAgICAgbWF0Y2hlZC5wdXNoKCBjdXIgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnB1c2hTdGFjayggbWF0Y2hlZC5sZW5ndGggPiAxID8galF1ZXJ5LnVuaXF1ZSggbWF0Y2hlZCApIDogbWF0Y2hlZCApO1xuICB9LFxuXG4gIC8vIERldGVybWluZSB0aGUgcG9zaXRpb24gb2YgYW4gZWxlbWVudCB3aXRoaW5cbiAgLy8gdGhlIG1hdGNoZWQgc2V0IG9mIGVsZW1lbnRzXG4gIGluZGV4OiBmdW5jdGlvbiggZWxlbSApIHtcblxuICAgIC8vIE5vIGFyZ3VtZW50LCByZXR1cm4gaW5kZXggaW4gcGFyZW50XG4gICAgaWYgKCAhZWxlbSApIHtcbiAgICAgIHJldHVybiAoIHRoaXNbMF0gJiYgdGhpc1swXS5wYXJlbnROb2RlICkgPyB0aGlzLmZpcnN0KCkucHJldkFsbCgpLmxlbmd0aCA6IC0xO1xuICAgIH1cblxuICAgIC8vIGluZGV4IGluIHNlbGVjdG9yXG4gICAgaWYgKCB0eXBlb2YgZWxlbSA9PT0gXCJzdHJpbmdcIiApIHtcbiAgICAgIHJldHVybiBqUXVlcnkuaW5BcnJheSggdGhpc1swXSwgalF1ZXJ5KCBlbGVtICkgKTtcbiAgICB9XG5cbiAgICAvLyBMb2NhdGUgdGhlIHBvc2l0aW9uIG9mIHRoZSBkZXNpcmVkIGVsZW1lbnRcbiAgICByZXR1cm4galF1ZXJ5LmluQXJyYXkoXG4gICAgICAvLyBJZiBpdCByZWNlaXZlcyBhIGpRdWVyeSBvYmplY3QsIHRoZSBmaXJzdCBlbGVtZW50IGlzIHVzZWRcbiAgICAgIGVsZW0uanF1ZXJ5ID8gZWxlbVswXSA6IGVsZW0sIHRoaXMgKTtcbiAgfSxcblxuICBhZGQ6IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCApIHtcbiAgICByZXR1cm4gdGhpcy5wdXNoU3RhY2soXG4gICAgICBqUXVlcnkudW5pcXVlKFxuICAgICAgICBqUXVlcnkubWVyZ2UoIHRoaXMuZ2V0KCksIGpRdWVyeSggc2VsZWN0b3IsIGNvbnRleHQgKSApXG4gICAgICApXG4gICAgKTtcbiAgfSxcblxuICBhZGRCYWNrOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG4gICAgcmV0dXJuIHRoaXMuYWRkKCBzZWxlY3RvciA9PSBudWxsID9cbiAgICAgIHRoaXMucHJldk9iamVjdCA6IHRoaXMucHJldk9iamVjdC5maWx0ZXIoc2VsZWN0b3IpXG4gICAgKTtcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIHNpYmxpbmcoIGN1ciwgZGlyICkge1xuICBkbyB7XG4gICAgY3VyID0gY3VyWyBkaXIgXTtcbiAgfSB3aGlsZSAoIGN1ciAmJiBjdXIubm9kZVR5cGUgIT09IDEgKTtcblxuICByZXR1cm4gY3VyO1xufVxuXG5qUXVlcnkuZWFjaCh7XG4gIHBhcmVudDogZnVuY3Rpb24oIGVsZW0gKSB7XG4gICAgdmFyIHBhcmVudCA9IGVsZW0ucGFyZW50Tm9kZTtcbiAgICByZXR1cm4gcGFyZW50ICYmIHBhcmVudC5ub2RlVHlwZSAhPT0gMTEgPyBwYXJlbnQgOiBudWxsO1xuICB9LFxuICBwYXJlbnRzOiBmdW5jdGlvbiggZWxlbSApIHtcbiAgICByZXR1cm4galF1ZXJ5LmRpciggZWxlbSwgXCJwYXJlbnROb2RlXCIgKTtcbiAgfSxcbiAgcGFyZW50c1VudGlsOiBmdW5jdGlvbiggZWxlbSwgaSwgdW50aWwgKSB7XG4gICAgcmV0dXJuIGpRdWVyeS5kaXIoIGVsZW0sIFwicGFyZW50Tm9kZVwiLCB1bnRpbCApO1xuICB9LFxuICBuZXh0OiBmdW5jdGlvbiggZWxlbSApIHtcbiAgICByZXR1cm4gc2libGluZyggZWxlbSwgXCJuZXh0U2libGluZ1wiICk7XG4gIH0sXG4gIHByZXY6IGZ1bmN0aW9uKCBlbGVtICkge1xuICAgIHJldHVybiBzaWJsaW5nKCBlbGVtLCBcInByZXZpb3VzU2libGluZ1wiICk7XG4gIH0sXG4gIG5leHRBbGw6IGZ1bmN0aW9uKCBlbGVtICkge1xuICAgIHJldHVybiBqUXVlcnkuZGlyKCBlbGVtLCBcIm5leHRTaWJsaW5nXCIgKTtcbiAgfSxcbiAgcHJldkFsbDogZnVuY3Rpb24oIGVsZW0gKSB7XG4gICAgcmV0dXJuIGpRdWVyeS5kaXIoIGVsZW0sIFwicHJldmlvdXNTaWJsaW5nXCIgKTtcbiAgfSxcbiAgbmV4dFVudGlsOiBmdW5jdGlvbiggZWxlbSwgaSwgdW50aWwgKSB7XG4gICAgcmV0dXJuIGpRdWVyeS5kaXIoIGVsZW0sIFwibmV4dFNpYmxpbmdcIiwgdW50aWwgKTtcbiAgfSxcbiAgcHJldlVudGlsOiBmdW5jdGlvbiggZWxlbSwgaSwgdW50aWwgKSB7XG4gICAgcmV0dXJuIGpRdWVyeS5kaXIoIGVsZW0sIFwicHJldmlvdXNTaWJsaW5nXCIsIHVudGlsICk7XG4gIH0sXG4gIHNpYmxpbmdzOiBmdW5jdGlvbiggZWxlbSApIHtcbiAgICByZXR1cm4galF1ZXJ5LnNpYmxpbmcoICggZWxlbS5wYXJlbnROb2RlIHx8IHt9ICkuZmlyc3RDaGlsZCwgZWxlbSApO1xuICB9LFxuICBjaGlsZHJlbjogZnVuY3Rpb24oIGVsZW0gKSB7XG4gICAgcmV0dXJuIGpRdWVyeS5zaWJsaW5nKCBlbGVtLmZpcnN0Q2hpbGQgKTtcbiAgfSxcbiAgY29udGVudHM6IGZ1bmN0aW9uKCBlbGVtICkge1xuICAgIHJldHVybiBqUXVlcnkubm9kZU5hbWUoIGVsZW0sIFwiaWZyYW1lXCIgKSA/XG4gICAgICBlbGVtLmNvbnRlbnREb2N1bWVudCB8fCBlbGVtLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQgOlxuICAgICAgalF1ZXJ5Lm1lcmdlKCBbXSwgZWxlbS5jaGlsZE5vZGVzICk7XG4gIH1cbn0sIGZ1bmN0aW9uKCBuYW1lLCBmbiApIHtcbiAgalF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggdW50aWwsIHNlbGVjdG9yICkge1xuICAgIHZhciByZXQgPSBqUXVlcnkubWFwKCB0aGlzLCBmbiwgdW50aWwgKTtcblxuICAgIGlmICggbmFtZS5zbGljZSggLTUgKSAhPT0gXCJVbnRpbFwiICkge1xuICAgICAgc2VsZWN0b3IgPSB1bnRpbDtcbiAgICB9XG5cbiAgICBpZiAoIHNlbGVjdG9yICYmIHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIiApIHtcbiAgICAgIHJldCA9IGpRdWVyeS5maWx0ZXIoIHNlbGVjdG9yLCByZXQgKTtcbiAgICB9XG5cbiAgICBpZiAoIHRoaXMubGVuZ3RoID4gMSApIHtcbiAgICAgIC8vIFJlbW92ZSBkdXBsaWNhdGVzXG4gICAgICBpZiAoICFndWFyYW50ZWVkVW5pcXVlWyBuYW1lIF0gKSB7XG4gICAgICAgIHJldCA9IGpRdWVyeS51bmlxdWUoIHJldCApO1xuICAgICAgfVxuXG4gICAgICAvLyBSZXZlcnNlIG9yZGVyIGZvciBwYXJlbnRzKiBhbmQgcHJldi1kZXJpdmF0aXZlc1xuICAgICAgaWYgKCBycGFyZW50c3ByZXYudGVzdCggbmFtZSApICkge1xuICAgICAgICByZXQgPSByZXQucmV2ZXJzZSgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnB1c2hTdGFjayggcmV0ICk7XG4gIH07XG59KTtcbnZhciBybm90d2hpdGUgPSAoL1xcUysvZyk7XG5cblxuXG4vLyBTdHJpbmcgdG8gT2JqZWN0IG9wdGlvbnMgZm9ybWF0IGNhY2hlXG52YXIgb3B0aW9uc0NhY2hlID0ge307XG5cbi8vIENvbnZlcnQgU3RyaW5nLWZvcm1hdHRlZCBvcHRpb25zIGludG8gT2JqZWN0LWZvcm1hdHRlZCBvbmVzIGFuZCBzdG9yZSBpbiBjYWNoZVxuZnVuY3Rpb24gY3JlYXRlT3B0aW9ucyggb3B0aW9ucyApIHtcbiAgdmFyIG9iamVjdCA9IG9wdGlvbnNDYWNoZVsgb3B0aW9ucyBdID0ge307XG4gIGpRdWVyeS5lYWNoKCBvcHRpb25zLm1hdGNoKCBybm90d2hpdGUgKSB8fCBbXSwgZnVuY3Rpb24oIF8sIGZsYWcgKSB7XG4gICAgb2JqZWN0WyBmbGFnIF0gPSB0cnVlO1xuICB9KTtcbiAgcmV0dXJuIG9iamVjdDtcbn1cblxuLypcbiAqIENyZWF0ZSBhIGNhbGxiYWNrIGxpc3QgdXNpbmcgdGhlIGZvbGxvd2luZyBwYXJhbWV0ZXJzOlxuICpcbiAqICBvcHRpb25zOiBhbiBvcHRpb25hbCBsaXN0IG9mIHNwYWNlLXNlcGFyYXRlZCBvcHRpb25zIHRoYXQgd2lsbCBjaGFuZ2UgaG93XG4gKiAgICAgIHRoZSBjYWxsYmFjayBsaXN0IGJlaGF2ZXMgb3IgYSBtb3JlIHRyYWRpdGlvbmFsIG9wdGlvbiBvYmplY3RcbiAqXG4gKiBCeSBkZWZhdWx0IGEgY2FsbGJhY2sgbGlzdCB3aWxsIGFjdCBsaWtlIGFuIGV2ZW50IGNhbGxiYWNrIGxpc3QgYW5kIGNhbiBiZVxuICogXCJmaXJlZFwiIG11bHRpcGxlIHRpbWVzLlxuICpcbiAqIFBvc3NpYmxlIG9wdGlvbnM6XG4gKlxuICogIG9uY2U6ICAgICB3aWxsIGVuc3VyZSB0aGUgY2FsbGJhY2sgbGlzdCBjYW4gb25seSBiZSBmaXJlZCBvbmNlIChsaWtlIGEgRGVmZXJyZWQpXG4gKlxuICogIG1lbW9yeTogICAgIHdpbGwga2VlcCB0cmFjayBvZiBwcmV2aW91cyB2YWx1ZXMgYW5kIHdpbGwgY2FsbCBhbnkgY2FsbGJhY2sgYWRkZWRcbiAqICAgICAgICAgIGFmdGVyIHRoZSBsaXN0IGhhcyBiZWVuIGZpcmVkIHJpZ2h0IGF3YXkgd2l0aCB0aGUgbGF0ZXN0IFwibWVtb3JpemVkXCJcbiAqICAgICAgICAgIHZhbHVlcyAobGlrZSBhIERlZmVycmVkKVxuICpcbiAqICB1bmlxdWU6ICAgICB3aWxsIGVuc3VyZSBhIGNhbGxiYWNrIGNhbiBvbmx5IGJlIGFkZGVkIG9uY2UgKG5vIGR1cGxpY2F0ZSBpbiB0aGUgbGlzdClcbiAqXG4gKiAgc3RvcE9uRmFsc2U6ICBpbnRlcnJ1cHQgY2FsbGluZ3Mgd2hlbiBhIGNhbGxiYWNrIHJldHVybnMgZmFsc2VcbiAqXG4gKi9cbmpRdWVyeS5DYWxsYmFja3MgPSBmdW5jdGlvbiggb3B0aW9ucyApIHtcblxuICAvLyBDb252ZXJ0IG9wdGlvbnMgZnJvbSBTdHJpbmctZm9ybWF0dGVkIHRvIE9iamVjdC1mb3JtYXR0ZWQgaWYgbmVlZGVkXG4gIC8vICh3ZSBjaGVjayBpbiBjYWNoZSBmaXJzdClcbiAgb3B0aW9ucyA9IHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiID9cbiAgICAoIG9wdGlvbnNDYWNoZVsgb3B0aW9ucyBdIHx8IGNyZWF0ZU9wdGlvbnMoIG9wdGlvbnMgKSApIDpcbiAgICBqUXVlcnkuZXh0ZW5kKCB7fSwgb3B0aW9ucyApO1xuXG4gIHZhciAvLyBGbGFnIHRvIGtub3cgaWYgbGlzdCBpcyBjdXJyZW50bHkgZmlyaW5nXG4gICAgZmlyaW5nLFxuICAgIC8vIExhc3QgZmlyZSB2YWx1ZSAoZm9yIG5vbi1mb3JnZXR0YWJsZSBsaXN0cylcbiAgICBtZW1vcnksXG4gICAgLy8gRmxhZyB0byBrbm93IGlmIGxpc3Qgd2FzIGFscmVhZHkgZmlyZWRcbiAgICBmaXJlZCxcbiAgICAvLyBFbmQgb2YgdGhlIGxvb3Agd2hlbiBmaXJpbmdcbiAgICBmaXJpbmdMZW5ndGgsXG4gICAgLy8gSW5kZXggb2YgY3VycmVudGx5IGZpcmluZyBjYWxsYmFjayAobW9kaWZpZWQgYnkgcmVtb3ZlIGlmIG5lZWRlZClcbiAgICBmaXJpbmdJbmRleCxcbiAgICAvLyBGaXJzdCBjYWxsYmFjayB0byBmaXJlICh1c2VkIGludGVybmFsbHkgYnkgYWRkIGFuZCBmaXJlV2l0aClcbiAgICBmaXJpbmdTdGFydCxcbiAgICAvLyBBY3R1YWwgY2FsbGJhY2sgbGlzdFxuICAgIGxpc3QgPSBbXSxcbiAgICAvLyBTdGFjayBvZiBmaXJlIGNhbGxzIGZvciByZXBlYXRhYmxlIGxpc3RzXG4gICAgc3RhY2sgPSAhb3B0aW9ucy5vbmNlICYmIFtdLFxuICAgIC8vIEZpcmUgY2FsbGJhY2tzXG4gICAgZmlyZSA9IGZ1bmN0aW9uKCBkYXRhICkge1xuICAgICAgbWVtb3J5ID0gb3B0aW9ucy5tZW1vcnkgJiYgZGF0YTtcbiAgICAgIGZpcmVkID0gdHJ1ZTtcbiAgICAgIGZpcmluZ0luZGV4ID0gZmlyaW5nU3RhcnQgfHwgMDtcbiAgICAgIGZpcmluZ1N0YXJ0ID0gMDtcbiAgICAgIGZpcmluZ0xlbmd0aCA9IGxpc3QubGVuZ3RoO1xuICAgICAgZmlyaW5nID0gdHJ1ZTtcbiAgICAgIGZvciAoIDsgbGlzdCAmJiBmaXJpbmdJbmRleCA8IGZpcmluZ0xlbmd0aDsgZmlyaW5nSW5kZXgrKyApIHtcbiAgICAgICAgaWYgKCBsaXN0WyBmaXJpbmdJbmRleCBdLmFwcGx5KCBkYXRhWyAwIF0sIGRhdGFbIDEgXSApID09PSBmYWxzZSAmJiBvcHRpb25zLnN0b3BPbkZhbHNlICkge1xuICAgICAgICAgIG1lbW9yeSA9IGZhbHNlOyAvLyBUbyBwcmV2ZW50IGZ1cnRoZXIgY2FsbHMgdXNpbmcgYWRkXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZpcmluZyA9IGZhbHNlO1xuICAgICAgaWYgKCBsaXN0ICkge1xuICAgICAgICBpZiAoIHN0YWNrICkge1xuICAgICAgICAgIGlmICggc3RhY2subGVuZ3RoICkge1xuICAgICAgICAgICAgZmlyZSggc3RhY2suc2hpZnQoKSApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICggbWVtb3J5ICkge1xuICAgICAgICAgIGxpc3QgPSBbXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLmRpc2FibGUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgLy8gQWN0dWFsIENhbGxiYWNrcyBvYmplY3RcbiAgICBzZWxmID0ge1xuICAgICAgLy8gQWRkIGEgY2FsbGJhY2sgb3IgYSBjb2xsZWN0aW9uIG9mIGNhbGxiYWNrcyB0byB0aGUgbGlzdFxuICAgICAgYWRkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCBsaXN0ICkge1xuICAgICAgICAgIC8vIEZpcnN0LCB3ZSBzYXZlIHRoZSBjdXJyZW50IGxlbmd0aFxuICAgICAgICAgIHZhciBzdGFydCA9IGxpc3QubGVuZ3RoO1xuICAgICAgICAgIChmdW5jdGlvbiBhZGQoIGFyZ3MgKSB7XG4gICAgICAgICAgICBqUXVlcnkuZWFjaCggYXJncywgZnVuY3Rpb24oIF8sIGFyZyApIHtcbiAgICAgICAgICAgICAgdmFyIHR5cGUgPSBqUXVlcnkudHlwZSggYXJnICk7XG4gICAgICAgICAgICAgIGlmICggdHlwZSA9PT0gXCJmdW5jdGlvblwiICkge1xuICAgICAgICAgICAgICAgIGlmICggIW9wdGlvbnMudW5pcXVlIHx8ICFzZWxmLmhhcyggYXJnICkgKSB7XG4gICAgICAgICAgICAgICAgICBsaXN0LnB1c2goIGFyZyApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIGlmICggYXJnICYmIGFyZy5sZW5ndGggJiYgdHlwZSAhPT0gXCJzdHJpbmdcIiApIHtcbiAgICAgICAgICAgICAgICAvLyBJbnNwZWN0IHJlY3Vyc2l2ZWx5XG4gICAgICAgICAgICAgICAgYWRkKCBhcmcgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSkoIGFyZ3VtZW50cyApO1xuICAgICAgICAgIC8vIERvIHdlIG5lZWQgdG8gYWRkIHRoZSBjYWxsYmFja3MgdG8gdGhlXG4gICAgICAgICAgLy8gY3VycmVudCBmaXJpbmcgYmF0Y2g/XG4gICAgICAgICAgaWYgKCBmaXJpbmcgKSB7XG4gICAgICAgICAgICBmaXJpbmdMZW5ndGggPSBsaXN0Lmxlbmd0aDtcbiAgICAgICAgICAvLyBXaXRoIG1lbW9yeSwgaWYgd2UncmUgbm90IGZpcmluZyB0aGVuXG4gICAgICAgICAgLy8gd2Ugc2hvdWxkIGNhbGwgcmlnaHQgYXdheVxuICAgICAgICAgIH0gZWxzZSBpZiAoIG1lbW9yeSApIHtcbiAgICAgICAgICAgIGZpcmluZ1N0YXJ0ID0gc3RhcnQ7XG4gICAgICAgICAgICBmaXJlKCBtZW1vcnkgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9LFxuICAgICAgLy8gUmVtb3ZlIGEgY2FsbGJhY2sgZnJvbSB0aGUgbGlzdFxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCBsaXN0ICkge1xuICAgICAgICAgIGpRdWVyeS5lYWNoKCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBfLCBhcmcgKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXg7XG4gICAgICAgICAgICB3aGlsZSAoICggaW5kZXggPSBqUXVlcnkuaW5BcnJheSggYXJnLCBsaXN0LCBpbmRleCApICkgPiAtMSApIHtcbiAgICAgICAgICAgICAgbGlzdC5zcGxpY2UoIGluZGV4LCAxICk7XG4gICAgICAgICAgICAgIC8vIEhhbmRsZSBmaXJpbmcgaW5kZXhlc1xuICAgICAgICAgICAgICBpZiAoIGZpcmluZyApIHtcbiAgICAgICAgICAgICAgICBpZiAoIGluZGV4IDw9IGZpcmluZ0xlbmd0aCApIHtcbiAgICAgICAgICAgICAgICAgIGZpcmluZ0xlbmd0aC0tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIGluZGV4IDw9IGZpcmluZ0luZGV4ICkge1xuICAgICAgICAgICAgICAgICAgZmlyaW5nSW5kZXgtLTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0sXG4gICAgICAvLyBDaGVjayBpZiBhIGdpdmVuIGNhbGxiYWNrIGlzIGluIHRoZSBsaXN0LlxuICAgICAgLy8gSWYgbm8gYXJndW1lbnQgaXMgZ2l2ZW4sIHJldHVybiB3aGV0aGVyIG9yIG5vdCBsaXN0IGhhcyBjYWxsYmFja3MgYXR0YWNoZWQuXG4gICAgICBoYXM6IGZ1bmN0aW9uKCBmbiApIHtcbiAgICAgICAgcmV0dXJuIGZuID8galF1ZXJ5LmluQXJyYXkoIGZuLCBsaXN0ICkgPiAtMSA6ICEhKCBsaXN0ICYmIGxpc3QubGVuZ3RoICk7XG4gICAgICB9LFxuICAgICAgLy8gUmVtb3ZlIGFsbCBjYWxsYmFja3MgZnJvbSB0aGUgbGlzdFxuICAgICAgZW1wdHk6IGZ1bmN0aW9uKCkge1xuICAgICAgICBsaXN0ID0gW107XG4gICAgICAgIGZpcmluZ0xlbmd0aCA9IDA7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfSxcbiAgICAgIC8vIEhhdmUgdGhlIGxpc3QgZG8gbm90aGluZyBhbnltb3JlXG4gICAgICBkaXNhYmxlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgbGlzdCA9IHN0YWNrID0gbWVtb3J5ID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0sXG4gICAgICAvLyBJcyBpdCBkaXNhYmxlZD9cbiAgICAgIGRpc2FibGVkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICFsaXN0O1xuICAgICAgfSxcbiAgICAgIC8vIExvY2sgdGhlIGxpc3QgaW4gaXRzIGN1cnJlbnQgc3RhdGVcbiAgICAgIGxvY2s6IGZ1bmN0aW9uKCkge1xuICAgICAgICBzdGFjayA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKCAhbWVtb3J5ICkge1xuICAgICAgICAgIHNlbGYuZGlzYWJsZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfSxcbiAgICAgIC8vIElzIGl0IGxvY2tlZD9cbiAgICAgIGxvY2tlZDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAhc3RhY2s7XG4gICAgICB9LFxuICAgICAgLy8gQ2FsbCBhbGwgY2FsbGJhY2tzIHdpdGggdGhlIGdpdmVuIGNvbnRleHQgYW5kIGFyZ3VtZW50c1xuICAgICAgZmlyZVdpdGg6IGZ1bmN0aW9uKCBjb250ZXh0LCBhcmdzICkge1xuICAgICAgICBpZiAoIGxpc3QgJiYgKCAhZmlyZWQgfHwgc3RhY2sgKSApIHtcbiAgICAgICAgICBhcmdzID0gYXJncyB8fCBbXTtcbiAgICAgICAgICBhcmdzID0gWyBjb250ZXh0LCBhcmdzLnNsaWNlID8gYXJncy5zbGljZSgpIDogYXJncyBdO1xuICAgICAgICAgIGlmICggZmlyaW5nICkge1xuICAgICAgICAgICAgc3RhY2sucHVzaCggYXJncyApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmaXJlKCBhcmdzICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfSxcbiAgICAgIC8vIENhbGwgYWxsIHRoZSBjYWxsYmFja3Mgd2l0aCB0aGUgZ2l2ZW4gYXJndW1lbnRzXG4gICAgICBmaXJlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgc2VsZi5maXJlV2l0aCggdGhpcywgYXJndW1lbnRzICk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfSxcbiAgICAgIC8vIFRvIGtub3cgaWYgdGhlIGNhbGxiYWNrcyBoYXZlIGFscmVhZHkgYmVlbiBjYWxsZWQgYXQgbGVhc3Qgb25jZVxuICAgICAgZmlyZWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gISFmaXJlZDtcbiAgICAgIH1cbiAgICB9O1xuXG4gIHJldHVybiBzZWxmO1xufTtcblxuXG5qUXVlcnkuZXh0ZW5kKHtcblxuICBEZWZlcnJlZDogZnVuY3Rpb24oIGZ1bmMgKSB7XG4gICAgdmFyIHR1cGxlcyA9IFtcbiAgICAgICAgLy8gYWN0aW9uLCBhZGQgbGlzdGVuZXIsIGxpc3RlbmVyIGxpc3QsIGZpbmFsIHN0YXRlXG4gICAgICAgIFsgXCJyZXNvbHZlXCIsIFwiZG9uZVwiLCBqUXVlcnkuQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIiksIFwicmVzb2x2ZWRcIiBdLFxuICAgICAgICBbIFwicmVqZWN0XCIsIFwiZmFpbFwiLCBqUXVlcnkuQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIiksIFwicmVqZWN0ZWRcIiBdLFxuICAgICAgICBbIFwibm90aWZ5XCIsIFwicHJvZ3Jlc3NcIiwgalF1ZXJ5LkNhbGxiYWNrcyhcIm1lbW9yeVwiKSBdXG4gICAgICBdLFxuICAgICAgc3RhdGUgPSBcInBlbmRpbmdcIixcbiAgICAgIHByb21pc2UgPSB7XG4gICAgICAgIHN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgICAgIH0sXG4gICAgICAgIGFsd2F5czogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZGVmZXJyZWQuZG9uZSggYXJndW1lbnRzICkuZmFpbCggYXJndW1lbnRzICk7XG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG4gICAgICAgIHRoZW46IGZ1bmN0aW9uKCAvKiBmbkRvbmUsIGZuRmFpbCwgZm5Qcm9ncmVzcyAqLyApIHtcbiAgICAgICAgICB2YXIgZm5zID0gYXJndW1lbnRzO1xuICAgICAgICAgIHJldHVybiBqUXVlcnkuRGVmZXJyZWQoZnVuY3Rpb24oIG5ld0RlZmVyICkge1xuICAgICAgICAgICAgalF1ZXJ5LmVhY2goIHR1cGxlcywgZnVuY3Rpb24oIGksIHR1cGxlICkge1xuICAgICAgICAgICAgICB2YXIgZm4gPSBqUXVlcnkuaXNGdW5jdGlvbiggZm5zWyBpIF0gKSAmJiBmbnNbIGkgXTtcbiAgICAgICAgICAgICAgLy8gZGVmZXJyZWRbIGRvbmUgfCBmYWlsIHwgcHJvZ3Jlc3MgXSBmb3IgZm9yd2FyZGluZyBhY3Rpb25zIHRvIG5ld0RlZmVyXG4gICAgICAgICAgICAgIGRlZmVycmVkWyB0dXBsZVsxXSBdKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciByZXR1cm5lZCA9IGZuICYmIGZuLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcbiAgICAgICAgICAgICAgICBpZiAoIHJldHVybmVkICYmIGpRdWVyeS5pc0Z1bmN0aW9uKCByZXR1cm5lZC5wcm9taXNlICkgKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm5lZC5wcm9taXNlKClcbiAgICAgICAgICAgICAgICAgICAgLmRvbmUoIG5ld0RlZmVyLnJlc29sdmUgKVxuICAgICAgICAgICAgICAgICAgICAuZmFpbCggbmV3RGVmZXIucmVqZWN0IClcbiAgICAgICAgICAgICAgICAgICAgLnByb2dyZXNzKCBuZXdEZWZlci5ub3RpZnkgKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgbmV3RGVmZXJbIHR1cGxlWyAwIF0gKyBcIldpdGhcIiBdKCB0aGlzID09PSBwcm9taXNlID8gbmV3RGVmZXIucHJvbWlzZSgpIDogdGhpcywgZm4gPyBbIHJldHVybmVkIF0gOiBhcmd1bWVudHMgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBmbnMgPSBudWxsO1xuICAgICAgICAgIH0pLnByb21pc2UoKTtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gR2V0IGEgcHJvbWlzZSBmb3IgdGhpcyBkZWZlcnJlZFxuICAgICAgICAvLyBJZiBvYmogaXMgcHJvdmlkZWQsIHRoZSBwcm9taXNlIGFzcGVjdCBpcyBhZGRlZCB0byB0aGUgb2JqZWN0XG4gICAgICAgIHByb21pc2U6IGZ1bmN0aW9uKCBvYmogKSB7XG4gICAgICAgICAgcmV0dXJuIG9iaiAhPSBudWxsID8galF1ZXJ5LmV4dGVuZCggb2JqLCBwcm9taXNlICkgOiBwcm9taXNlO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZGVmZXJyZWQgPSB7fTtcblxuICAgIC8vIEtlZXAgcGlwZSBmb3IgYmFjay1jb21wYXRcbiAgICBwcm9taXNlLnBpcGUgPSBwcm9taXNlLnRoZW47XG5cbiAgICAvLyBBZGQgbGlzdC1zcGVjaWZpYyBtZXRob2RzXG4gICAgalF1ZXJ5LmVhY2goIHR1cGxlcywgZnVuY3Rpb24oIGksIHR1cGxlICkge1xuICAgICAgdmFyIGxpc3QgPSB0dXBsZVsgMiBdLFxuICAgICAgICBzdGF0ZVN0cmluZyA9IHR1cGxlWyAzIF07XG5cbiAgICAgIC8vIHByb21pc2VbIGRvbmUgfCBmYWlsIHwgcHJvZ3Jlc3MgXSA9IGxpc3QuYWRkXG4gICAgICBwcm9taXNlWyB0dXBsZVsxXSBdID0gbGlzdC5hZGQ7XG5cbiAgICAgIC8vIEhhbmRsZSBzdGF0ZVxuICAgICAgaWYgKCBzdGF0ZVN0cmluZyApIHtcbiAgICAgICAgbGlzdC5hZGQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgLy8gc3RhdGUgPSBbIHJlc29sdmVkIHwgcmVqZWN0ZWQgXVxuICAgICAgICAgIHN0YXRlID0gc3RhdGVTdHJpbmc7XG5cbiAgICAgICAgLy8gWyByZWplY3RfbGlzdCB8IHJlc29sdmVfbGlzdCBdLmRpc2FibGU7IHByb2dyZXNzX2xpc3QubG9ja1xuICAgICAgICB9LCB0dXBsZXNbIGkgXiAxIF1bIDIgXS5kaXNhYmxlLCB0dXBsZXNbIDIgXVsgMiBdLmxvY2sgKTtcbiAgICAgIH1cblxuICAgICAgLy8gZGVmZXJyZWRbIHJlc29sdmUgfCByZWplY3QgfCBub3RpZnkgXVxuICAgICAgZGVmZXJyZWRbIHR1cGxlWzBdIF0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgZGVmZXJyZWRbIHR1cGxlWzBdICsgXCJXaXRoXCIgXSggdGhpcyA9PT0gZGVmZXJyZWQgPyBwcm9taXNlIDogdGhpcywgYXJndW1lbnRzICk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfTtcbiAgICAgIGRlZmVycmVkWyB0dXBsZVswXSArIFwiV2l0aFwiIF0gPSBsaXN0LmZpcmVXaXRoO1xuICAgIH0pO1xuXG4gICAgLy8gTWFrZSB0aGUgZGVmZXJyZWQgYSBwcm9taXNlXG4gICAgcHJvbWlzZS5wcm9taXNlKCBkZWZlcnJlZCApO1xuXG4gICAgLy8gQ2FsbCBnaXZlbiBmdW5jIGlmIGFueVxuICAgIGlmICggZnVuYyApIHtcbiAgICAgIGZ1bmMuY2FsbCggZGVmZXJyZWQsIGRlZmVycmVkICk7XG4gICAgfVxuXG4gICAgLy8gQWxsIGRvbmUhXG4gICAgcmV0dXJuIGRlZmVycmVkO1xuICB9LFxuXG4gIC8vIERlZmVycmVkIGhlbHBlclxuICB3aGVuOiBmdW5jdGlvbiggc3Vib3JkaW5hdGUgLyogLCAuLi4sIHN1Ym9yZGluYXRlTiAqLyApIHtcbiAgICB2YXIgaSA9IDAsXG4gICAgICByZXNvbHZlVmFsdWVzID0gc2xpY2UuY2FsbCggYXJndW1lbnRzICksXG4gICAgICBsZW5ndGggPSByZXNvbHZlVmFsdWVzLmxlbmd0aCxcblxuICAgICAgLy8gdGhlIGNvdW50IG9mIHVuY29tcGxldGVkIHN1Ym9yZGluYXRlc1xuICAgICAgcmVtYWluaW5nID0gbGVuZ3RoICE9PSAxIHx8ICggc3Vib3JkaW5hdGUgJiYgalF1ZXJ5LmlzRnVuY3Rpb24oIHN1Ym9yZGluYXRlLnByb21pc2UgKSApID8gbGVuZ3RoIDogMCxcblxuICAgICAgLy8gdGhlIG1hc3RlciBEZWZlcnJlZC4gSWYgcmVzb2x2ZVZhbHVlcyBjb25zaXN0IG9mIG9ubHkgYSBzaW5nbGUgRGVmZXJyZWQsIGp1c3QgdXNlIHRoYXQuXG4gICAgICBkZWZlcnJlZCA9IHJlbWFpbmluZyA9PT0gMSA/IHN1Ym9yZGluYXRlIDogalF1ZXJ5LkRlZmVycmVkKCksXG5cbiAgICAgIC8vIFVwZGF0ZSBmdW5jdGlvbiBmb3IgYm90aCByZXNvbHZlIGFuZCBwcm9ncmVzcyB2YWx1ZXNcbiAgICAgIHVwZGF0ZUZ1bmMgPSBmdW5jdGlvbiggaSwgY29udGV4dHMsIHZhbHVlcyApIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCB2YWx1ZSApIHtcbiAgICAgICAgICBjb250ZXh0c1sgaSBdID0gdGhpcztcbiAgICAgICAgICB2YWx1ZXNbIGkgXSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gc2xpY2UuY2FsbCggYXJndW1lbnRzICkgOiB2YWx1ZTtcbiAgICAgICAgICBpZiAoIHZhbHVlcyA9PT0gcHJvZ3Jlc3NWYWx1ZXMgKSB7XG4gICAgICAgICAgICBkZWZlcnJlZC5ub3RpZnlXaXRoKCBjb250ZXh0cywgdmFsdWVzICk7XG5cbiAgICAgICAgICB9IGVsc2UgaWYgKCAhKC0tcmVtYWluaW5nKSApIHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmVXaXRoKCBjb250ZXh0cywgdmFsdWVzICk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSxcblxuICAgICAgcHJvZ3Jlc3NWYWx1ZXMsIHByb2dyZXNzQ29udGV4dHMsIHJlc29sdmVDb250ZXh0cztcblxuICAgIC8vIGFkZCBsaXN0ZW5lcnMgdG8gRGVmZXJyZWQgc3Vib3JkaW5hdGVzOyB0cmVhdCBvdGhlcnMgYXMgcmVzb2x2ZWRcbiAgICBpZiAoIGxlbmd0aCA+IDEgKSB7XG4gICAgICBwcm9ncmVzc1ZhbHVlcyA9IG5ldyBBcnJheSggbGVuZ3RoICk7XG4gICAgICBwcm9ncmVzc0NvbnRleHRzID0gbmV3IEFycmF5KCBsZW5ndGggKTtcbiAgICAgIHJlc29sdmVDb250ZXh0cyA9IG5ldyBBcnJheSggbGVuZ3RoICk7XG4gICAgICBmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcbiAgICAgICAgaWYgKCByZXNvbHZlVmFsdWVzWyBpIF0gJiYgalF1ZXJ5LmlzRnVuY3Rpb24oIHJlc29sdmVWYWx1ZXNbIGkgXS5wcm9taXNlICkgKSB7XG4gICAgICAgICAgcmVzb2x2ZVZhbHVlc1sgaSBdLnByb21pc2UoKVxuICAgICAgICAgICAgLmRvbmUoIHVwZGF0ZUZ1bmMoIGksIHJlc29sdmVDb250ZXh0cywgcmVzb2x2ZVZhbHVlcyApIClcbiAgICAgICAgICAgIC5mYWlsKCBkZWZlcnJlZC5yZWplY3QgKVxuICAgICAgICAgICAgLnByb2dyZXNzKCB1cGRhdGVGdW5jKCBpLCBwcm9ncmVzc0NvbnRleHRzLCBwcm9ncmVzc1ZhbHVlcyApICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLS1yZW1haW5pbmc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBpZiB3ZSdyZSBub3Qgd2FpdGluZyBvbiBhbnl0aGluZywgcmVzb2x2ZSB0aGUgbWFzdGVyXG4gICAgaWYgKCAhcmVtYWluaW5nICkge1xuICAgICAgZGVmZXJyZWQucmVzb2x2ZVdpdGgoIHJlc29sdmVDb250ZXh0cywgcmVzb2x2ZVZhbHVlcyApO1xuICAgIH1cblxuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlKCk7XG4gIH1cbn0pO1xuXG5cbi8vIFRoZSBkZWZlcnJlZCB1c2VkIG9uIERPTSByZWFkeVxudmFyIHJlYWR5TGlzdDtcblxualF1ZXJ5LmZuLnJlYWR5ID0gZnVuY3Rpb24oIGZuICkge1xuICAvLyBBZGQgdGhlIGNhbGxiYWNrXG4gIGpRdWVyeS5yZWFkeS5wcm9taXNlKCkuZG9uZSggZm4gKTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbmpRdWVyeS5leHRlbmQoe1xuICAvLyBJcyB0aGUgRE9NIHJlYWR5IHRvIGJlIHVzZWQ/IFNldCB0byB0cnVlIG9uY2UgaXQgb2NjdXJzLlxuICBpc1JlYWR5OiBmYWxzZSxcblxuICAvLyBBIGNvdW50ZXIgdG8gdHJhY2sgaG93IG1hbnkgaXRlbXMgdG8gd2FpdCBmb3IgYmVmb3JlXG4gIC8vIHRoZSByZWFkeSBldmVudCBmaXJlcy4gU2VlICM2NzgxXG4gIHJlYWR5V2FpdDogMSxcblxuICAvLyBIb2xkIChvciByZWxlYXNlKSB0aGUgcmVhZHkgZXZlbnRcbiAgaG9sZFJlYWR5OiBmdW5jdGlvbiggaG9sZCApIHtcbiAgICBpZiAoIGhvbGQgKSB7XG4gICAgICBqUXVlcnkucmVhZHlXYWl0Kys7XG4gICAgfSBlbHNlIHtcbiAgICAgIGpRdWVyeS5yZWFkeSggdHJ1ZSApO1xuICAgIH1cbiAgfSxcblxuICAvLyBIYW5kbGUgd2hlbiB0aGUgRE9NIGlzIHJlYWR5XG4gIHJlYWR5OiBmdW5jdGlvbiggd2FpdCApIHtcblxuICAgIC8vIEFib3J0IGlmIHRoZXJlIGFyZSBwZW5kaW5nIGhvbGRzIG9yIHdlJ3JlIGFscmVhZHkgcmVhZHlcbiAgICBpZiAoIHdhaXQgPT09IHRydWUgPyAtLWpRdWVyeS5yZWFkeVdhaXQgOiBqUXVlcnkuaXNSZWFkeSApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBNYWtlIHN1cmUgYm9keSBleGlzdHMsIGF0IGxlYXN0LCBpbiBjYXNlIElFIGdldHMgYSBsaXR0bGUgb3ZlcnplYWxvdXMgKHRpY2tldCAjNTQ0MykuXG4gICAgaWYgKCAhZG9jdW1lbnQuYm9keSApIHtcbiAgICAgIHJldHVybiBzZXRUaW1lb3V0KCBqUXVlcnkucmVhZHkgKTtcbiAgICB9XG5cbiAgICAvLyBSZW1lbWJlciB0aGF0IHRoZSBET00gaXMgcmVhZHlcbiAgICBqUXVlcnkuaXNSZWFkeSA9IHRydWU7XG5cbiAgICAvLyBJZiBhIG5vcm1hbCBET00gUmVhZHkgZXZlbnQgZmlyZWQsIGRlY3JlbWVudCwgYW5kIHdhaXQgaWYgbmVlZCBiZVxuICAgIGlmICggd2FpdCAhPT0gdHJ1ZSAmJiAtLWpRdWVyeS5yZWFkeVdhaXQgPiAwICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIElmIHRoZXJlIGFyZSBmdW5jdGlvbnMgYm91bmQsIHRvIGV4ZWN1dGVcbiAgICByZWFkeUxpc3QucmVzb2x2ZVdpdGgoIGRvY3VtZW50LCBbIGpRdWVyeSBdICk7XG5cbiAgICAvLyBUcmlnZ2VyIGFueSBib3VuZCByZWFkeSBldmVudHNcbiAgICBpZiAoIGpRdWVyeS5mbi50cmlnZ2VySGFuZGxlciApIHtcbiAgICAgIGpRdWVyeSggZG9jdW1lbnQgKS50cmlnZ2VySGFuZGxlciggXCJyZWFkeVwiICk7XG4gICAgICBqUXVlcnkoIGRvY3VtZW50ICkub2ZmKCBcInJlYWR5XCIgKTtcbiAgICB9XG4gIH1cbn0pO1xuXG4vKipcbiAqIENsZWFuLXVwIG1ldGhvZCBmb3IgZG9tIHJlYWR5IGV2ZW50c1xuICovXG5mdW5jdGlvbiBkZXRhY2goKSB7XG4gIGlmICggZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciApIHtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCBcIkRPTUNvbnRlbnRMb2FkZWRcIiwgY29tcGxldGVkLCBmYWxzZSApO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCBcImxvYWRcIiwgY29tcGxldGVkLCBmYWxzZSApO1xuXG4gIH0gZWxzZSB7XG4gICAgZG9jdW1lbnQuZGV0YWNoRXZlbnQoIFwib25yZWFkeXN0YXRlY2hhbmdlXCIsIGNvbXBsZXRlZCApO1xuICAgIHdpbmRvdy5kZXRhY2hFdmVudCggXCJvbmxvYWRcIiwgY29tcGxldGVkICk7XG4gIH1cbn1cblxuLyoqXG4gKiBUaGUgcmVhZHkgZXZlbnQgaGFuZGxlciBhbmQgc2VsZiBjbGVhbnVwIG1ldGhvZFxuICovXG5mdW5jdGlvbiBjb21wbGV0ZWQoKSB7XG4gIC8vIHJlYWR5U3RhdGUgPT09IFwiY29tcGxldGVcIiBpcyBnb29kIGVub3VnaCBmb3IgdXMgdG8gY2FsbCB0aGUgZG9tIHJlYWR5IGluIG9sZElFXG4gIGlmICggZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciB8fCBldmVudC50eXBlID09PSBcImxvYWRcIiB8fCBkb2N1bWVudC5yZWFkeVN0YXRlID09PSBcImNvbXBsZXRlXCIgKSB7XG4gICAgZGV0YWNoKCk7XG4gICAgalF1ZXJ5LnJlYWR5KCk7XG4gIH1cbn1cblxualF1ZXJ5LnJlYWR5LnByb21pc2UgPSBmdW5jdGlvbiggb2JqICkge1xuICBpZiAoICFyZWFkeUxpc3QgKSB7XG5cbiAgICByZWFkeUxpc3QgPSBqUXVlcnkuRGVmZXJyZWQoKTtcblxuICAgIC8vIENhdGNoIGNhc2VzIHdoZXJlICQoZG9jdW1lbnQpLnJlYWR5KCkgaXMgY2FsbGVkIGFmdGVyIHRoZSBicm93c2VyIGV2ZW50IGhhcyBhbHJlYWR5IG9jY3VycmVkLlxuICAgIC8vIHdlIG9uY2UgdHJpZWQgdG8gdXNlIHJlYWR5U3RhdGUgXCJpbnRlcmFjdGl2ZVwiIGhlcmUsIGJ1dCBpdCBjYXVzZWQgaXNzdWVzIGxpa2UgdGhlIG9uZVxuICAgIC8vIGRpc2NvdmVyZWQgYnkgQ2hyaXNTIGhlcmU6IGh0dHA6Ly9idWdzLmpxdWVyeS5jb20vdGlja2V0LzEyMjgyI2NvbW1lbnQ6MTVcbiAgICBpZiAoIGRvY3VtZW50LnJlYWR5U3RhdGUgPT09IFwiY29tcGxldGVcIiApIHtcbiAgICAgIC8vIEhhbmRsZSBpdCBhc3luY2hyb25vdXNseSB0byBhbGxvdyBzY3JpcHRzIHRoZSBvcHBvcnR1bml0eSB0byBkZWxheSByZWFkeVxuICAgICAgc2V0VGltZW91dCggalF1ZXJ5LnJlYWR5ICk7XG5cbiAgICAvLyBTdGFuZGFyZHMtYmFzZWQgYnJvd3NlcnMgc3VwcG9ydCBET01Db250ZW50TG9hZGVkXG4gICAgfSBlbHNlIGlmICggZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciApIHtcbiAgICAgIC8vIFVzZSB0aGUgaGFuZHkgZXZlbnQgY2FsbGJhY2tcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIFwiRE9NQ29udGVudExvYWRlZFwiLCBjb21wbGV0ZWQsIGZhbHNlICk7XG5cbiAgICAgIC8vIEEgZmFsbGJhY2sgdG8gd2luZG93Lm9ubG9hZCwgdGhhdCB3aWxsIGFsd2F5cyB3b3JrXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggXCJsb2FkXCIsIGNvbXBsZXRlZCwgZmFsc2UgKTtcblxuICAgIC8vIElmIElFIGV2ZW50IG1vZGVsIGlzIHVzZWRcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRW5zdXJlIGZpcmluZyBiZWZvcmUgb25sb2FkLCBtYXliZSBsYXRlIGJ1dCBzYWZlIGFsc28gZm9yIGlmcmFtZXNcbiAgICAgIGRvY3VtZW50LmF0dGFjaEV2ZW50KCBcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiLCBjb21wbGV0ZWQgKTtcblxuICAgICAgLy8gQSBmYWxsYmFjayB0byB3aW5kb3cub25sb2FkLCB0aGF0IHdpbGwgYWx3YXlzIHdvcmtcbiAgICAgIHdpbmRvdy5hdHRhY2hFdmVudCggXCJvbmxvYWRcIiwgY29tcGxldGVkICk7XG5cbiAgICAgIC8vIElmIElFIGFuZCBub3QgYSBmcmFtZVxuICAgICAgLy8gY29udGludWFsbHkgY2hlY2sgdG8gc2VlIGlmIHRoZSBkb2N1bWVudCBpcyByZWFkeVxuICAgICAgdmFyIHRvcCA9IGZhbHNlO1xuXG4gICAgICB0cnkge1xuICAgICAgICB0b3AgPSB3aW5kb3cuZnJhbWVFbGVtZW50ID09IG51bGwgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgfSBjYXRjaChlKSB7fVxuXG4gICAgICBpZiAoIHRvcCAmJiB0b3AuZG9TY3JvbGwgKSB7XG4gICAgICAgIChmdW5jdGlvbiBkb1Njcm9sbENoZWNrKCkge1xuICAgICAgICAgIGlmICggIWpRdWVyeS5pc1JlYWR5ICkge1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAvLyBVc2UgdGhlIHRyaWNrIGJ5IERpZWdvIFBlcmluaVxuICAgICAgICAgICAgICAvLyBodHRwOi8vamF2YXNjcmlwdC5ud2JveC5jb20vSUVDb250ZW50TG9hZGVkL1xuICAgICAgICAgICAgICB0b3AuZG9TY3JvbGwoXCJsZWZ0XCIpO1xuICAgICAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KCBkb1Njcm9sbENoZWNrLCA1MCApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBkZXRhY2ggYWxsIGRvbSByZWFkeSBldmVudHNcbiAgICAgICAgICAgIGRldGFjaCgpO1xuXG4gICAgICAgICAgICAvLyBhbmQgZXhlY3V0ZSBhbnkgd2FpdGluZyBmdW5jdGlvbnNcbiAgICAgICAgICAgIGpRdWVyeS5yZWFkeSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlYWR5TGlzdC5wcm9taXNlKCBvYmogKTtcbn07XG5cblxudmFyIHN0cnVuZGVmaW5lZCA9IHR5cGVvZiB1bmRlZmluZWQ7XG5cblxuXG4vLyBTdXBwb3J0OiBJRTw5XG4vLyBJdGVyYXRpb24gb3ZlciBvYmplY3QncyBpbmhlcml0ZWQgcHJvcGVydGllcyBiZWZvcmUgaXRzIG93blxudmFyIGk7XG5mb3IgKCBpIGluIGpRdWVyeSggc3VwcG9ydCApICkge1xuICBicmVhaztcbn1cbnN1cHBvcnQub3duTGFzdCA9IGkgIT09IFwiMFwiO1xuXG4vLyBOb3RlOiBtb3N0IHN1cHBvcnQgdGVzdHMgYXJlIGRlZmluZWQgaW4gdGhlaXIgcmVzcGVjdGl2ZSBtb2R1bGVzLlxuLy8gZmFsc2UgdW50aWwgdGhlIHRlc3QgaXMgcnVuXG5zdXBwb3J0LmlubGluZUJsb2NrTmVlZHNMYXlvdXQgPSBmYWxzZTtcblxuLy8gRXhlY3V0ZSBBU0FQIGluIGNhc2Ugd2UgbmVlZCB0byBzZXQgYm9keS5zdHlsZS56b29tXG5qUXVlcnkoZnVuY3Rpb24oKSB7XG4gIC8vIE1pbmlmaWVkOiB2YXIgYSxiLGMsZFxuICB2YXIgdmFsLCBkaXYsIGJvZHksIGNvbnRhaW5lcjtcblxuICBib2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIFwiYm9keVwiIClbIDAgXTtcbiAgaWYgKCAhYm9keSB8fCAhYm9keS5zdHlsZSApIHtcbiAgICAvLyBSZXR1cm4gZm9yIGZyYW1lc2V0IGRvY3MgdGhhdCBkb24ndCBoYXZlIGEgYm9keVxuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIFNldHVwXG4gIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKTtcbiAgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApO1xuICBjb250YWluZXIuc3R5bGUuY3NzVGV4dCA9IFwicG9zaXRpb246YWJzb2x1dGU7Ym9yZGVyOjA7d2lkdGg6MDtoZWlnaHQ6MDt0b3A6MDtsZWZ0Oi05OTk5cHhcIjtcbiAgYm9keS5hcHBlbmRDaGlsZCggY29udGFpbmVyICkuYXBwZW5kQ2hpbGQoIGRpdiApO1xuXG4gIGlmICggdHlwZW9mIGRpdi5zdHlsZS56b29tICE9PSBzdHJ1bmRlZmluZWQgKSB7XG4gICAgLy8gU3VwcG9ydDogSUU8OFxuICAgIC8vIENoZWNrIGlmIG5hdGl2ZWx5IGJsb2NrLWxldmVsIGVsZW1lbnRzIGFjdCBsaWtlIGlubGluZS1ibG9ja1xuICAgIC8vIGVsZW1lbnRzIHdoZW4gc2V0dGluZyB0aGVpciBkaXNwbGF5IHRvICdpbmxpbmUnIGFuZCBnaXZpbmdcbiAgICAvLyB0aGVtIGxheW91dFxuICAgIGRpdi5zdHlsZS5jc3NUZXh0ID0gXCJkaXNwbGF5OmlubGluZTttYXJnaW46MDtib3JkZXI6MDtwYWRkaW5nOjFweDt3aWR0aDoxcHg7em9vbToxXCI7XG5cbiAgICBzdXBwb3J0LmlubGluZUJsb2NrTmVlZHNMYXlvdXQgPSB2YWwgPSBkaXYub2Zmc2V0V2lkdGggPT09IDM7XG4gICAgaWYgKCB2YWwgKSB7XG4gICAgICAvLyBQcmV2ZW50IElFIDYgZnJvbSBhZmZlY3RpbmcgbGF5b3V0IGZvciBwb3NpdGlvbmVkIGVsZW1lbnRzICMxMTA0OFxuICAgICAgLy8gUHJldmVudCBJRSBmcm9tIHNocmlua2luZyB0aGUgYm9keSBpbiBJRSA3IG1vZGUgIzEyODY5XG4gICAgICAvLyBTdXBwb3J0OiBJRTw4XG4gICAgICBib2R5LnN0eWxlLnpvb20gPSAxO1xuICAgIH1cbiAgfVxuXG4gIGJvZHkucmVtb3ZlQ2hpbGQoIGNvbnRhaW5lciApO1xufSk7XG5cblxuXG5cbihmdW5jdGlvbigpIHtcbiAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKTtcblxuICAvLyBFeGVjdXRlIHRoZSB0ZXN0IG9ubHkgaWYgbm90IGFscmVhZHkgZXhlY3V0ZWQgaW4gYW5vdGhlciBtb2R1bGUuXG4gIGlmIChzdXBwb3J0LmRlbGV0ZUV4cGFuZG8gPT0gbnVsbCkge1xuICAgIC8vIFN1cHBvcnQ6IElFPDlcbiAgICBzdXBwb3J0LmRlbGV0ZUV4cGFuZG8gPSB0cnVlO1xuICAgIHRyeSB7XG4gICAgICBkZWxldGUgZGl2LnRlc3Q7XG4gICAgfSBjYXRjaCggZSApIHtcbiAgICAgIHN1cHBvcnQuZGVsZXRlRXhwYW5kbyA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8vIE51bGwgZWxlbWVudHMgdG8gYXZvaWQgbGVha3MgaW4gSUUuXG4gIGRpdiA9IG51bGw7XG59KSgpO1xuXG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIGFuIG9iamVjdCBjYW4gaGF2ZSBkYXRhXG4gKi9cbmpRdWVyeS5hY2NlcHREYXRhID0gZnVuY3Rpb24oIGVsZW0gKSB7XG4gIHZhciBub0RhdGEgPSBqUXVlcnkubm9EYXRhWyAoZWxlbS5ub2RlTmFtZSArIFwiIFwiKS50b0xvd2VyQ2FzZSgpIF0sXG4gICAgbm9kZVR5cGUgPSArZWxlbS5ub2RlVHlwZSB8fCAxO1xuXG4gIC8vIERvIG5vdCBzZXQgZGF0YSBvbiBub24tZWxlbWVudCBET00gbm9kZXMgYmVjYXVzZSBpdCB3aWxsIG5vdCBiZSBjbGVhcmVkICgjODMzNSkuXG4gIHJldHVybiBub2RlVHlwZSAhPT0gMSAmJiBub2RlVHlwZSAhPT0gOSA/XG4gICAgZmFsc2UgOlxuXG4gICAgLy8gTm9kZXMgYWNjZXB0IGRhdGEgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQ7IHJlamVjdGlvbiBjYW4gYmUgY29uZGl0aW9uYWxcbiAgICAhbm9EYXRhIHx8IG5vRGF0YSAhPT0gdHJ1ZSAmJiBlbGVtLmdldEF0dHJpYnV0ZShcImNsYXNzaWRcIikgPT09IG5vRGF0YTtcbn07XG5cblxudmFyIHJicmFjZSA9IC9eKD86XFx7W1xcd1xcV10qXFx9fFxcW1tcXHdcXFddKlxcXSkkLyxcbiAgcm11bHRpRGFzaCA9IC8oW0EtWl0pL2c7XG5cbmZ1bmN0aW9uIGRhdGFBdHRyKCBlbGVtLCBrZXksIGRhdGEgKSB7XG4gIC8vIElmIG5vdGhpbmcgd2FzIGZvdW5kIGludGVybmFsbHksIHRyeSB0byBmZXRjaCBhbnlcbiAgLy8gZGF0YSBmcm9tIHRoZSBIVE1MNSBkYXRhLSogYXR0cmlidXRlXG4gIGlmICggZGF0YSA9PT0gdW5kZWZpbmVkICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cbiAgICB2YXIgbmFtZSA9IFwiZGF0YS1cIiArIGtleS5yZXBsYWNlKCBybXVsdGlEYXNoLCBcIi0kMVwiICkudG9Mb3dlckNhc2UoKTtcblxuICAgIGRhdGEgPSBlbGVtLmdldEF0dHJpYnV0ZSggbmFtZSApO1xuXG4gICAgaWYgKCB0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIiApIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGRhdGEgPSBkYXRhID09PSBcInRydWVcIiA/IHRydWUgOlxuICAgICAgICAgIGRhdGEgPT09IFwiZmFsc2VcIiA/IGZhbHNlIDpcbiAgICAgICAgICBkYXRhID09PSBcIm51bGxcIiA/IG51bGwgOlxuICAgICAgICAgIC8vIE9ubHkgY29udmVydCB0byBhIG51bWJlciBpZiBpdCBkb2Vzbid0IGNoYW5nZSB0aGUgc3RyaW5nXG4gICAgICAgICAgK2RhdGEgKyBcIlwiID09PSBkYXRhID8gK2RhdGEgOlxuICAgICAgICAgIHJicmFjZS50ZXN0KCBkYXRhICkgPyBqUXVlcnkucGFyc2VKU09OKCBkYXRhICkgOlxuICAgICAgICAgIGRhdGE7XG4gICAgICB9IGNhdGNoKCBlICkge31cblxuICAgICAgLy8gTWFrZSBzdXJlIHdlIHNldCB0aGUgZGF0YSBzbyBpdCBpc24ndCBjaGFuZ2VkIGxhdGVyXG4gICAgICBqUXVlcnkuZGF0YSggZWxlbSwga2V5LCBkYXRhICk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgZGF0YSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZGF0YTtcbn1cblxuLy8gY2hlY2tzIGEgY2FjaGUgb2JqZWN0IGZvciBlbXB0aW5lc3NcbmZ1bmN0aW9uIGlzRW1wdHlEYXRhT2JqZWN0KCBvYmogKSB7XG4gIHZhciBuYW1lO1xuICBmb3IgKCBuYW1lIGluIG9iaiApIHtcblxuICAgIC8vIGlmIHRoZSBwdWJsaWMgZGF0YSBvYmplY3QgaXMgZW1wdHksIHRoZSBwcml2YXRlIGlzIHN0aWxsIGVtcHR5XG4gICAgaWYgKCBuYW1lID09PSBcImRhdGFcIiAmJiBqUXVlcnkuaXNFbXB0eU9iamVjdCggb2JqW25hbWVdICkgKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKCBuYW1lICE9PSBcInRvSlNPTlwiICkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBpbnRlcm5hbERhdGEoIGVsZW0sIG5hbWUsIGRhdGEsIHB2dCAvKiBJbnRlcm5hbCBVc2UgT25seSAqLyApIHtcbiAgaWYgKCAhalF1ZXJ5LmFjY2VwdERhdGEoIGVsZW0gKSApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgcmV0LCB0aGlzQ2FjaGUsXG4gICAgaW50ZXJuYWxLZXkgPSBqUXVlcnkuZXhwYW5kbyxcblxuICAgIC8vIFdlIGhhdmUgdG8gaGFuZGxlIERPTSBub2RlcyBhbmQgSlMgb2JqZWN0cyBkaWZmZXJlbnRseSBiZWNhdXNlIElFNi03XG4gICAgLy8gY2FuJ3QgR0Mgb2JqZWN0IHJlZmVyZW5jZXMgcHJvcGVybHkgYWNyb3NzIHRoZSBET00tSlMgYm91bmRhcnlcbiAgICBpc05vZGUgPSBlbGVtLm5vZGVUeXBlLFxuXG4gICAgLy8gT25seSBET00gbm9kZXMgbmVlZCB0aGUgZ2xvYmFsIGpRdWVyeSBjYWNoZTsgSlMgb2JqZWN0IGRhdGEgaXNcbiAgICAvLyBhdHRhY2hlZCBkaXJlY3RseSB0byB0aGUgb2JqZWN0IHNvIEdDIGNhbiBvY2N1ciBhdXRvbWF0aWNhbGx5XG4gICAgY2FjaGUgPSBpc05vZGUgPyBqUXVlcnkuY2FjaGUgOiBlbGVtLFxuXG4gICAgLy8gT25seSBkZWZpbmluZyBhbiBJRCBmb3IgSlMgb2JqZWN0cyBpZiBpdHMgY2FjaGUgYWxyZWFkeSBleGlzdHMgYWxsb3dzXG4gICAgLy8gdGhlIGNvZGUgdG8gc2hvcnRjdXQgb24gdGhlIHNhbWUgcGF0aCBhcyBhIERPTSBub2RlIHdpdGggbm8gY2FjaGVcbiAgICBpZCA9IGlzTm9kZSA/IGVsZW1bIGludGVybmFsS2V5IF0gOiBlbGVtWyBpbnRlcm5hbEtleSBdICYmIGludGVybmFsS2V5O1xuXG4gIC8vIEF2b2lkIGRvaW5nIGFueSBtb3JlIHdvcmsgdGhhbiB3ZSBuZWVkIHRvIHdoZW4gdHJ5aW5nIHRvIGdldCBkYXRhIG9uIGFuXG4gIC8vIG9iamVjdCB0aGF0IGhhcyBubyBkYXRhIGF0IGFsbFxuICBpZiAoICghaWQgfHwgIWNhY2hlW2lkXSB8fCAoIXB2dCAmJiAhY2FjaGVbaWRdLmRhdGEpKSAmJiBkYXRhID09PSB1bmRlZmluZWQgJiYgdHlwZW9mIG5hbWUgPT09IFwic3RyaW5nXCIgKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKCAhaWQgKSB7XG4gICAgLy8gT25seSBET00gbm9kZXMgbmVlZCBhIG5ldyB1bmlxdWUgSUQgZm9yIGVhY2ggZWxlbWVudCBzaW5jZSB0aGVpciBkYXRhXG4gICAgLy8gZW5kcyB1cCBpbiB0aGUgZ2xvYmFsIGNhY2hlXG4gICAgaWYgKCBpc05vZGUgKSB7XG4gICAgICBpZCA9IGVsZW1bIGludGVybmFsS2V5IF0gPSBkZWxldGVkSWRzLnBvcCgpIHx8IGpRdWVyeS5ndWlkKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlkID0gaW50ZXJuYWxLZXk7XG4gICAgfVxuICB9XG5cbiAgaWYgKCAhY2FjaGVbIGlkIF0gKSB7XG4gICAgLy8gQXZvaWQgZXhwb3NpbmcgalF1ZXJ5IG1ldGFkYXRhIG9uIHBsYWluIEpTIG9iamVjdHMgd2hlbiB0aGUgb2JqZWN0XG4gICAgLy8gaXMgc2VyaWFsaXplZCB1c2luZyBKU09OLnN0cmluZ2lmeVxuICAgIGNhY2hlWyBpZCBdID0gaXNOb2RlID8ge30gOiB7IHRvSlNPTjogalF1ZXJ5Lm5vb3AgfTtcbiAgfVxuXG4gIC8vIEFuIG9iamVjdCBjYW4gYmUgcGFzc2VkIHRvIGpRdWVyeS5kYXRhIGluc3RlYWQgb2YgYSBrZXkvdmFsdWUgcGFpcjsgdGhpcyBnZXRzXG4gIC8vIHNoYWxsb3cgY29waWVkIG92ZXIgb250byB0aGUgZXhpc3RpbmcgY2FjaGVcbiAgaWYgKCB0eXBlb2YgbmFtZSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgbmFtZSA9PT0gXCJmdW5jdGlvblwiICkge1xuICAgIGlmICggcHZ0ICkge1xuICAgICAgY2FjaGVbIGlkIF0gPSBqUXVlcnkuZXh0ZW5kKCBjYWNoZVsgaWQgXSwgbmFtZSApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWNoZVsgaWQgXS5kYXRhID0galF1ZXJ5LmV4dGVuZCggY2FjaGVbIGlkIF0uZGF0YSwgbmFtZSApO1xuICAgIH1cbiAgfVxuXG4gIHRoaXNDYWNoZSA9IGNhY2hlWyBpZCBdO1xuXG4gIC8vIGpRdWVyeSBkYXRhKCkgaXMgc3RvcmVkIGluIGEgc2VwYXJhdGUgb2JqZWN0IGluc2lkZSB0aGUgb2JqZWN0J3MgaW50ZXJuYWwgZGF0YVxuICAvLyBjYWNoZSBpbiBvcmRlciB0byBhdm9pZCBrZXkgY29sbGlzaW9ucyBiZXR3ZWVuIGludGVybmFsIGRhdGEgYW5kIHVzZXItZGVmaW5lZFxuICAvLyBkYXRhLlxuICBpZiAoICFwdnQgKSB7XG4gICAgaWYgKCAhdGhpc0NhY2hlLmRhdGEgKSB7XG4gICAgICB0aGlzQ2FjaGUuZGF0YSA9IHt9O1xuICAgIH1cblxuICAgIHRoaXNDYWNoZSA9IHRoaXNDYWNoZS5kYXRhO1xuICB9XG5cbiAgaWYgKCBkYXRhICE9PSB1bmRlZmluZWQgKSB7XG4gICAgdGhpc0NhY2hlWyBqUXVlcnkuY2FtZWxDYXNlKCBuYW1lICkgXSA9IGRhdGE7XG4gIH1cblxuICAvLyBDaGVjayBmb3IgYm90aCBjb252ZXJ0ZWQtdG8tY2FtZWwgYW5kIG5vbi1jb252ZXJ0ZWQgZGF0YSBwcm9wZXJ0eSBuYW1lc1xuICAvLyBJZiBhIGRhdGEgcHJvcGVydHkgd2FzIHNwZWNpZmllZFxuICBpZiAoIHR5cGVvZiBuYW1lID09PSBcInN0cmluZ1wiICkge1xuXG4gICAgLy8gRmlyc3QgVHJ5IHRvIGZpbmQgYXMtaXMgcHJvcGVydHkgZGF0YVxuICAgIHJldCA9IHRoaXNDYWNoZVsgbmFtZSBdO1xuXG4gICAgLy8gVGVzdCBmb3IgbnVsbHx1bmRlZmluZWQgcHJvcGVydHkgZGF0YVxuICAgIGlmICggcmV0ID09IG51bGwgKSB7XG5cbiAgICAgIC8vIFRyeSB0byBmaW5kIHRoZSBjYW1lbENhc2VkIHByb3BlcnR5XG4gICAgICByZXQgPSB0aGlzQ2FjaGVbIGpRdWVyeS5jYW1lbENhc2UoIG5hbWUgKSBdO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXQgPSB0aGlzQ2FjaGU7XG4gIH1cblxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBpbnRlcm5hbFJlbW92ZURhdGEoIGVsZW0sIG5hbWUsIHB2dCApIHtcbiAgaWYgKCAhalF1ZXJ5LmFjY2VwdERhdGEoIGVsZW0gKSApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgdGhpc0NhY2hlLCBpLFxuICAgIGlzTm9kZSA9IGVsZW0ubm9kZVR5cGUsXG5cbiAgICAvLyBTZWUgalF1ZXJ5LmRhdGEgZm9yIG1vcmUgaW5mb3JtYXRpb25cbiAgICBjYWNoZSA9IGlzTm9kZSA/IGpRdWVyeS5jYWNoZSA6IGVsZW0sXG4gICAgaWQgPSBpc05vZGUgPyBlbGVtWyBqUXVlcnkuZXhwYW5kbyBdIDogalF1ZXJ5LmV4cGFuZG87XG5cbiAgLy8gSWYgdGhlcmUgaXMgYWxyZWFkeSBubyBjYWNoZSBlbnRyeSBmb3IgdGhpcyBvYmplY3QsIHRoZXJlIGlzIG5vXG4gIC8vIHB1cnBvc2UgaW4gY29udGludWluZ1xuICBpZiAoICFjYWNoZVsgaWQgXSApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoIG5hbWUgKSB7XG5cbiAgICB0aGlzQ2FjaGUgPSBwdnQgPyBjYWNoZVsgaWQgXSA6IGNhY2hlWyBpZCBdLmRhdGE7XG5cbiAgICBpZiAoIHRoaXNDYWNoZSApIHtcblxuICAgICAgLy8gU3VwcG9ydCBhcnJheSBvciBzcGFjZSBzZXBhcmF0ZWQgc3RyaW5nIG5hbWVzIGZvciBkYXRhIGtleXNcbiAgICAgIGlmICggIWpRdWVyeS5pc0FycmF5KCBuYW1lICkgKSB7XG5cbiAgICAgICAgLy8gdHJ5IHRoZSBzdHJpbmcgYXMgYSBrZXkgYmVmb3JlIGFueSBtYW5pcHVsYXRpb25cbiAgICAgICAgaWYgKCBuYW1lIGluIHRoaXNDYWNoZSApIHtcbiAgICAgICAgICBuYW1lID0gWyBuYW1lIF07XG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAvLyBzcGxpdCB0aGUgY2FtZWwgY2FzZWQgdmVyc2lvbiBieSBzcGFjZXMgdW5sZXNzIGEga2V5IHdpdGggdGhlIHNwYWNlcyBleGlzdHNcbiAgICAgICAgICBuYW1lID0galF1ZXJ5LmNhbWVsQ2FzZSggbmFtZSApO1xuICAgICAgICAgIGlmICggbmFtZSBpbiB0aGlzQ2FjaGUgKSB7XG4gICAgICAgICAgICBuYW1lID0gWyBuYW1lIF07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5hbWUgPSBuYW1lLnNwbGl0KFwiIFwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIElmIFwibmFtZVwiIGlzIGFuIGFycmF5IG9mIGtleXMuLi5cbiAgICAgICAgLy8gV2hlbiBkYXRhIGlzIGluaXRpYWxseSBjcmVhdGVkLCB2aWEgKFwia2V5XCIsIFwidmFsXCIpIHNpZ25hdHVyZSxcbiAgICAgICAgLy8ga2V5cyB3aWxsIGJlIGNvbnZlcnRlZCB0byBjYW1lbENhc2UuXG4gICAgICAgIC8vIFNpbmNlIHRoZXJlIGlzIG5vIHdheSB0byB0ZWxsIF9ob3dfIGEga2V5IHdhcyBhZGRlZCwgcmVtb3ZlXG4gICAgICAgIC8vIGJvdGggcGxhaW4ga2V5IGFuZCBjYW1lbENhc2Uga2V5LiAjMTI3ODZcbiAgICAgICAgLy8gVGhpcyB3aWxsIG9ubHkgcGVuYWxpemUgdGhlIGFycmF5IGFyZ3VtZW50IHBhdGguXG4gICAgICAgIG5hbWUgPSBuYW1lLmNvbmNhdCggalF1ZXJ5Lm1hcCggbmFtZSwgalF1ZXJ5LmNhbWVsQ2FzZSApICk7XG4gICAgICB9XG5cbiAgICAgIGkgPSBuYW1lLmxlbmd0aDtcbiAgICAgIHdoaWxlICggaS0tICkge1xuICAgICAgICBkZWxldGUgdGhpc0NhY2hlWyBuYW1lW2ldIF07XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHRoZXJlIGlzIG5vIGRhdGEgbGVmdCBpbiB0aGUgY2FjaGUsIHdlIHdhbnQgdG8gY29udGludWVcbiAgICAgIC8vIGFuZCBsZXQgdGhlIGNhY2hlIG9iamVjdCBpdHNlbGYgZ2V0IGRlc3Ryb3llZFxuICAgICAgaWYgKCBwdnQgPyAhaXNFbXB0eURhdGFPYmplY3QodGhpc0NhY2hlKSA6ICFqUXVlcnkuaXNFbXB0eU9iamVjdCh0aGlzQ2FjaGUpICkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gU2VlIGpRdWVyeS5kYXRhIGZvciBtb3JlIGluZm9ybWF0aW9uXG4gIGlmICggIXB2dCApIHtcbiAgICBkZWxldGUgY2FjaGVbIGlkIF0uZGF0YTtcblxuICAgIC8vIERvbid0IGRlc3Ryb3kgdGhlIHBhcmVudCBjYWNoZSB1bmxlc3MgdGhlIGludGVybmFsIGRhdGEgb2JqZWN0XG4gICAgLy8gaGFkIGJlZW4gdGhlIG9ubHkgdGhpbmcgbGVmdCBpbiBpdFxuICAgIGlmICggIWlzRW1wdHlEYXRhT2JqZWN0KCBjYWNoZVsgaWQgXSApICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuXG4gIC8vIERlc3Ryb3kgdGhlIGNhY2hlXG4gIGlmICggaXNOb2RlICkge1xuICAgIGpRdWVyeS5jbGVhbkRhdGEoIFsgZWxlbSBdLCB0cnVlICk7XG5cbiAgLy8gVXNlIGRlbGV0ZSB3aGVuIHN1cHBvcnRlZCBmb3IgZXhwYW5kb3Mgb3IgYGNhY2hlYCBpcyBub3QgYSB3aW5kb3cgcGVyIGlzV2luZG93ICgjMTAwODApXG4gIC8qIGpzaGludCBlcWVxZXE6IGZhbHNlICovXG4gIH0gZWxzZSBpZiAoIHN1cHBvcnQuZGVsZXRlRXhwYW5kbyB8fCBjYWNoZSAhPSBjYWNoZS53aW5kb3cgKSB7XG4gICAgLyoganNoaW50IGVxZXFlcTogdHJ1ZSAqL1xuICAgIGRlbGV0ZSBjYWNoZVsgaWQgXTtcblxuICAvLyBXaGVuIGFsbCBlbHNlIGZhaWxzLCBudWxsXG4gIH0gZWxzZSB7XG4gICAgY2FjaGVbIGlkIF0gPSBudWxsO1xuICB9XG59XG5cbmpRdWVyeS5leHRlbmQoe1xuICBjYWNoZToge30sXG5cbiAgLy8gVGhlIGZvbGxvd2luZyBlbGVtZW50cyAoc3BhY2Utc3VmZml4ZWQgdG8gYXZvaWQgT2JqZWN0LnByb3RvdHlwZSBjb2xsaXNpb25zKVxuICAvLyB0aHJvdyB1bmNhdGNoYWJsZSBleGNlcHRpb25zIGlmIHlvdSBhdHRlbXB0IHRvIHNldCBleHBhbmRvIHByb3BlcnRpZXNcbiAgbm9EYXRhOiB7XG4gICAgXCJhcHBsZXQgXCI6IHRydWUsXG4gICAgXCJlbWJlZCBcIjogdHJ1ZSxcbiAgICAvLyAuLi5idXQgRmxhc2ggb2JqZWN0cyAod2hpY2ggaGF2ZSB0aGlzIGNsYXNzaWQpICpjYW4qIGhhbmRsZSBleHBhbmRvc1xuICAgIFwib2JqZWN0IFwiOiBcImNsc2lkOkQyN0NEQjZFLUFFNkQtMTFjZi05NkI4LTQ0NDU1MzU0MDAwMFwiXG4gIH0sXG5cbiAgaGFzRGF0YTogZnVuY3Rpb24oIGVsZW0gKSB7XG4gICAgZWxlbSA9IGVsZW0ubm9kZVR5cGUgPyBqUXVlcnkuY2FjaGVbIGVsZW1balF1ZXJ5LmV4cGFuZG9dIF0gOiBlbGVtWyBqUXVlcnkuZXhwYW5kbyBdO1xuICAgIHJldHVybiAhIWVsZW0gJiYgIWlzRW1wdHlEYXRhT2JqZWN0KCBlbGVtICk7XG4gIH0sXG5cbiAgZGF0YTogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGRhdGEgKSB7XG4gICAgcmV0dXJuIGludGVybmFsRGF0YSggZWxlbSwgbmFtZSwgZGF0YSApO1xuICB9LFxuXG4gIHJlbW92ZURhdGE6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lICkge1xuICAgIHJldHVybiBpbnRlcm5hbFJlbW92ZURhdGEoIGVsZW0sIG5hbWUgKTtcbiAgfSxcblxuICAvLyBGb3IgaW50ZXJuYWwgdXNlIG9ubHkuXG4gIF9kYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgZGF0YSApIHtcbiAgICByZXR1cm4gaW50ZXJuYWxEYXRhKCBlbGVtLCBuYW1lLCBkYXRhLCB0cnVlICk7XG4gIH0sXG5cbiAgX3JlbW92ZURhdGE6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lICkge1xuICAgIHJldHVybiBpbnRlcm5hbFJlbW92ZURhdGEoIGVsZW0sIG5hbWUsIHRydWUgKTtcbiAgfVxufSk7XG5cbmpRdWVyeS5mbi5leHRlbmQoe1xuICBkYXRhOiBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcbiAgICB2YXIgaSwgbmFtZSwgZGF0YSxcbiAgICAgIGVsZW0gPSB0aGlzWzBdLFxuICAgICAgYXR0cnMgPSBlbGVtICYmIGVsZW0uYXR0cmlidXRlcztcblxuICAgIC8vIFNwZWNpYWwgZXhwZWN0aW9ucyBvZiAuZGF0YSBiYXNpY2FsbHkgdGh3YXJ0IGpRdWVyeS5hY2Nlc3MsXG4gICAgLy8gc28gaW1wbGVtZW50IHRoZSByZWxldmFudCBiZWhhdmlvciBvdXJzZWx2ZXNcblxuICAgIC8vIEdldHMgYWxsIHZhbHVlc1xuICAgIGlmICgga2V5ID09PSB1bmRlZmluZWQgKSB7XG4gICAgICBpZiAoIHRoaXMubGVuZ3RoICkge1xuICAgICAgICBkYXRhID0galF1ZXJ5LmRhdGEoIGVsZW0gKTtcblxuICAgICAgICBpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgJiYgIWpRdWVyeS5fZGF0YSggZWxlbSwgXCJwYXJzZWRBdHRyc1wiICkgKSB7XG4gICAgICAgICAgaSA9IGF0dHJzLmxlbmd0aDtcbiAgICAgICAgICB3aGlsZSAoIGktLSApIHtcblxuICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUxMStcbiAgICAgICAgICAgIC8vIFRoZSBhdHRycyBlbGVtZW50cyBjYW4gYmUgbnVsbCAoIzE0ODk0KVxuICAgICAgICAgICAgaWYgKCBhdHRyc1sgaSBdICkge1xuICAgICAgICAgICAgICBuYW1lID0gYXR0cnNbIGkgXS5uYW1lO1xuICAgICAgICAgICAgICBpZiAoIG5hbWUuaW5kZXhPZiggXCJkYXRhLVwiICkgPT09IDAgKSB7XG4gICAgICAgICAgICAgICAgbmFtZSA9IGpRdWVyeS5jYW1lbENhc2UoIG5hbWUuc2xpY2UoNSkgKTtcbiAgICAgICAgICAgICAgICBkYXRhQXR0ciggZWxlbSwgbmFtZSwgZGF0YVsgbmFtZSBdICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgalF1ZXJ5Ll9kYXRhKCBlbGVtLCBcInBhcnNlZEF0dHJzXCIsIHRydWUgKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICAvLyBTZXRzIG11bHRpcGxlIHZhbHVlc1xuICAgIGlmICggdHlwZW9mIGtleSA9PT0gXCJvYmplY3RcIiApIHtcbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgIGpRdWVyeS5kYXRhKCB0aGlzLCBrZXkgKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID4gMSA/XG5cbiAgICAgIC8vIFNldHMgb25lIHZhbHVlXG4gICAgICB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgIGpRdWVyeS5kYXRhKCB0aGlzLCBrZXksIHZhbHVlICk7XG4gICAgICB9KSA6XG5cbiAgICAgIC8vIEdldHMgb25lIHZhbHVlXG4gICAgICAvLyBUcnkgdG8gZmV0Y2ggYW55IGludGVybmFsbHkgc3RvcmVkIGRhdGEgZmlyc3RcbiAgICAgIGVsZW0gPyBkYXRhQXR0ciggZWxlbSwga2V5LCBqUXVlcnkuZGF0YSggZWxlbSwga2V5ICkgKSA6IHVuZGVmaW5lZDtcbiAgfSxcblxuICByZW1vdmVEYXRhOiBmdW5jdGlvbigga2V5ICkge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICBqUXVlcnkucmVtb3ZlRGF0YSggdGhpcywga2V5ICk7XG4gICAgfSk7XG4gIH1cbn0pO1xuXG5cbmpRdWVyeS5leHRlbmQoe1xuICBxdWV1ZTogZnVuY3Rpb24oIGVsZW0sIHR5cGUsIGRhdGEgKSB7XG4gICAgdmFyIHF1ZXVlO1xuXG4gICAgaWYgKCBlbGVtICkge1xuICAgICAgdHlwZSA9ICggdHlwZSB8fCBcImZ4XCIgKSArIFwicXVldWVcIjtcbiAgICAgIHF1ZXVlID0galF1ZXJ5Ll9kYXRhKCBlbGVtLCB0eXBlICk7XG5cbiAgICAgIC8vIFNwZWVkIHVwIGRlcXVldWUgYnkgZ2V0dGluZyBvdXQgcXVpY2tseSBpZiB0aGlzIGlzIGp1c3QgYSBsb29rdXBcbiAgICAgIGlmICggZGF0YSApIHtcbiAgICAgICAgaWYgKCAhcXVldWUgfHwgalF1ZXJ5LmlzQXJyYXkoZGF0YSkgKSB7XG4gICAgICAgICAgcXVldWUgPSBqUXVlcnkuX2RhdGEoIGVsZW0sIHR5cGUsIGpRdWVyeS5tYWtlQXJyYXkoZGF0YSkgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBxdWV1ZS5wdXNoKCBkYXRhICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBxdWV1ZSB8fCBbXTtcbiAgICB9XG4gIH0sXG5cbiAgZGVxdWV1ZTogZnVuY3Rpb24oIGVsZW0sIHR5cGUgKSB7XG4gICAgdHlwZSA9IHR5cGUgfHwgXCJmeFwiO1xuXG4gICAgdmFyIHF1ZXVlID0galF1ZXJ5LnF1ZXVlKCBlbGVtLCB0eXBlICksXG4gICAgICBzdGFydExlbmd0aCA9IHF1ZXVlLmxlbmd0aCxcbiAgICAgIGZuID0gcXVldWUuc2hpZnQoKSxcbiAgICAgIGhvb2tzID0galF1ZXJ5Ll9xdWV1ZUhvb2tzKCBlbGVtLCB0eXBlICksXG4gICAgICBuZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGpRdWVyeS5kZXF1ZXVlKCBlbGVtLCB0eXBlICk7XG4gICAgICB9O1xuXG4gICAgLy8gSWYgdGhlIGZ4IHF1ZXVlIGlzIGRlcXVldWVkLCBhbHdheXMgcmVtb3ZlIHRoZSBwcm9ncmVzcyBzZW50aW5lbFxuICAgIGlmICggZm4gPT09IFwiaW5wcm9ncmVzc1wiICkge1xuICAgICAgZm4gPSBxdWV1ZS5zaGlmdCgpO1xuICAgICAgc3RhcnRMZW5ndGgtLTtcbiAgICB9XG5cbiAgICBpZiAoIGZuICkge1xuXG4gICAgICAvLyBBZGQgYSBwcm9ncmVzcyBzZW50aW5lbCB0byBwcmV2ZW50IHRoZSBmeCBxdWV1ZSBmcm9tIGJlaW5nXG4gICAgICAvLyBhdXRvbWF0aWNhbGx5IGRlcXVldWVkXG4gICAgICBpZiAoIHR5cGUgPT09IFwiZnhcIiApIHtcbiAgICAgICAgcXVldWUudW5zaGlmdCggXCJpbnByb2dyZXNzXCIgKTtcbiAgICAgIH1cblxuICAgICAgLy8gY2xlYXIgdXAgdGhlIGxhc3QgcXVldWUgc3RvcCBmdW5jdGlvblxuICAgICAgZGVsZXRlIGhvb2tzLnN0b3A7XG4gICAgICBmbi5jYWxsKCBlbGVtLCBuZXh0LCBob29rcyApO1xuICAgIH1cblxuICAgIGlmICggIXN0YXJ0TGVuZ3RoICYmIGhvb2tzICkge1xuICAgICAgaG9va3MuZW1wdHkuZmlyZSgpO1xuICAgIH1cbiAgfSxcblxuICAvLyBub3QgaW50ZW5kZWQgZm9yIHB1YmxpYyBjb25zdW1wdGlvbiAtIGdlbmVyYXRlcyBhIHF1ZXVlSG9va3Mgb2JqZWN0LCBvciByZXR1cm5zIHRoZSBjdXJyZW50IG9uZVxuICBfcXVldWVIb29rczogZnVuY3Rpb24oIGVsZW0sIHR5cGUgKSB7XG4gICAgdmFyIGtleSA9IHR5cGUgKyBcInF1ZXVlSG9va3NcIjtcbiAgICByZXR1cm4galF1ZXJ5Ll9kYXRhKCBlbGVtLCBrZXkgKSB8fCBqUXVlcnkuX2RhdGEoIGVsZW0sIGtleSwge1xuICAgICAgZW1wdHk6IGpRdWVyeS5DYWxsYmFja3MoXCJvbmNlIG1lbW9yeVwiKS5hZGQoZnVuY3Rpb24oKSB7XG4gICAgICAgIGpRdWVyeS5fcmVtb3ZlRGF0YSggZWxlbSwgdHlwZSArIFwicXVldWVcIiApO1xuICAgICAgICBqUXVlcnkuX3JlbW92ZURhdGEoIGVsZW0sIGtleSApO1xuICAgICAgfSlcbiAgICB9KTtcbiAgfVxufSk7XG5cbmpRdWVyeS5mbi5leHRlbmQoe1xuICBxdWV1ZTogZnVuY3Rpb24oIHR5cGUsIGRhdGEgKSB7XG4gICAgdmFyIHNldHRlciA9IDI7XG5cbiAgICBpZiAoIHR5cGVvZiB0eXBlICE9PSBcInN0cmluZ1wiICkge1xuICAgICAgZGF0YSA9IHR5cGU7XG4gICAgICB0eXBlID0gXCJmeFwiO1xuICAgICAgc2V0dGVyLS07XG4gICAgfVxuXG4gICAgaWYgKCBhcmd1bWVudHMubGVuZ3RoIDwgc2V0dGVyICkge1xuICAgICAgcmV0dXJuIGpRdWVyeS5xdWV1ZSggdGhpc1swXSwgdHlwZSApO1xuICAgIH1cblxuICAgIHJldHVybiBkYXRhID09PSB1bmRlZmluZWQgP1xuICAgICAgdGhpcyA6XG4gICAgICB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBxdWV1ZSA9IGpRdWVyeS5xdWV1ZSggdGhpcywgdHlwZSwgZGF0YSApO1xuXG4gICAgICAgIC8vIGVuc3VyZSBhIGhvb2tzIGZvciB0aGlzIHF1ZXVlXG4gICAgICAgIGpRdWVyeS5fcXVldWVIb29rcyggdGhpcywgdHlwZSApO1xuXG4gICAgICAgIGlmICggdHlwZSA9PT0gXCJmeFwiICYmIHF1ZXVlWzBdICE9PSBcImlucHJvZ3Jlc3NcIiApIHtcbiAgICAgICAgICBqUXVlcnkuZGVxdWV1ZSggdGhpcywgdHlwZSApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfSxcbiAgZGVxdWV1ZTogZnVuY3Rpb24oIHR5cGUgKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgIGpRdWVyeS5kZXF1ZXVlKCB0aGlzLCB0eXBlICk7XG4gICAgfSk7XG4gIH0sXG4gIGNsZWFyUXVldWU6IGZ1bmN0aW9uKCB0eXBlICkge1xuICAgIHJldHVybiB0aGlzLnF1ZXVlKCB0eXBlIHx8IFwiZnhcIiwgW10gKTtcbiAgfSxcbiAgLy8gR2V0IGEgcHJvbWlzZSByZXNvbHZlZCB3aGVuIHF1ZXVlcyBvZiBhIGNlcnRhaW4gdHlwZVxuICAvLyBhcmUgZW1wdGllZCAoZnggaXMgdGhlIHR5cGUgYnkgZGVmYXVsdClcbiAgcHJvbWlzZTogZnVuY3Rpb24oIHR5cGUsIG9iaiApIHtcbiAgICB2YXIgdG1wLFxuICAgICAgY291bnQgPSAxLFxuICAgICAgZGVmZXIgPSBqUXVlcnkuRGVmZXJyZWQoKSxcbiAgICAgIGVsZW1lbnRzID0gdGhpcyxcbiAgICAgIGkgPSB0aGlzLmxlbmd0aCxcbiAgICAgIHJlc29sdmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCAhKCAtLWNvdW50ICkgKSB7XG4gICAgICAgICAgZGVmZXIucmVzb2x2ZVdpdGgoIGVsZW1lbnRzLCBbIGVsZW1lbnRzIF0gKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgIGlmICggdHlwZW9mIHR5cGUgIT09IFwic3RyaW5nXCIgKSB7XG4gICAgICBvYmogPSB0eXBlO1xuICAgICAgdHlwZSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgdHlwZSA9IHR5cGUgfHwgXCJmeFwiO1xuXG4gICAgd2hpbGUgKCBpLS0gKSB7XG4gICAgICB0bXAgPSBqUXVlcnkuX2RhdGEoIGVsZW1lbnRzWyBpIF0sIHR5cGUgKyBcInF1ZXVlSG9va3NcIiApO1xuICAgICAgaWYgKCB0bXAgJiYgdG1wLmVtcHR5ICkge1xuICAgICAgICBjb3VudCsrO1xuICAgICAgICB0bXAuZW1wdHkuYWRkKCByZXNvbHZlICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJlc29sdmUoKTtcbiAgICByZXR1cm4gZGVmZXIucHJvbWlzZSggb2JqICk7XG4gIH1cbn0pO1xudmFyIHBudW0gPSAoL1srLV0/KD86XFxkKlxcLnwpXFxkKyg/OltlRV1bKy1dP1xcZCt8KS8pLnNvdXJjZTtcblxudmFyIGNzc0V4cGFuZCA9IFsgXCJUb3BcIiwgXCJSaWdodFwiLCBcIkJvdHRvbVwiLCBcIkxlZnRcIiBdO1xuXG52YXIgaXNIaWRkZW4gPSBmdW5jdGlvbiggZWxlbSwgZWwgKSB7XG4gICAgLy8gaXNIaWRkZW4gbWlnaHQgYmUgY2FsbGVkIGZyb20galF1ZXJ5I2ZpbHRlciBmdW5jdGlvbjtcbiAgICAvLyBpbiB0aGF0IGNhc2UsIGVsZW1lbnQgd2lsbCBiZSBzZWNvbmQgYXJndW1lbnRcbiAgICBlbGVtID0gZWwgfHwgZWxlbTtcbiAgICByZXR1cm4galF1ZXJ5LmNzcyggZWxlbSwgXCJkaXNwbGF5XCIgKSA9PT0gXCJub25lXCIgfHwgIWpRdWVyeS5jb250YWlucyggZWxlbS5vd25lckRvY3VtZW50LCBlbGVtICk7XG4gIH07XG5cblxuXG4vLyBNdWx0aWZ1bmN0aW9uYWwgbWV0aG9kIHRvIGdldCBhbmQgc2V0IHZhbHVlcyBvZiBhIGNvbGxlY3Rpb25cbi8vIFRoZSB2YWx1ZS9zIGNhbiBvcHRpb25hbGx5IGJlIGV4ZWN1dGVkIGlmIGl0J3MgYSBmdW5jdGlvblxudmFyIGFjY2VzcyA9IGpRdWVyeS5hY2Nlc3MgPSBmdW5jdGlvbiggZWxlbXMsIGZuLCBrZXksIHZhbHVlLCBjaGFpbmFibGUsIGVtcHR5R2V0LCByYXcgKSB7XG4gIHZhciBpID0gMCxcbiAgICBsZW5ndGggPSBlbGVtcy5sZW5ndGgsXG4gICAgYnVsayA9IGtleSA9PSBudWxsO1xuXG4gIC8vIFNldHMgbWFueSB2YWx1ZXNcbiAgaWYgKCBqUXVlcnkudHlwZSgga2V5ICkgPT09IFwib2JqZWN0XCIgKSB7XG4gICAgY2hhaW5hYmxlID0gdHJ1ZTtcbiAgICBmb3IgKCBpIGluIGtleSApIHtcbiAgICAgIGpRdWVyeS5hY2Nlc3MoIGVsZW1zLCBmbiwgaSwga2V5W2ldLCB0cnVlLCBlbXB0eUdldCwgcmF3ICk7XG4gICAgfVxuXG4gIC8vIFNldHMgb25lIHZhbHVlXG4gIH0gZWxzZSBpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7XG4gICAgY2hhaW5hYmxlID0gdHJ1ZTtcblxuICAgIGlmICggIWpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApICkge1xuICAgICAgcmF3ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoIGJ1bGsgKSB7XG4gICAgICAvLyBCdWxrIG9wZXJhdGlvbnMgcnVuIGFnYWluc3QgdGhlIGVudGlyZSBzZXRcbiAgICAgIGlmICggcmF3ICkge1xuICAgICAgICBmbi5jYWxsKCBlbGVtcywgdmFsdWUgKTtcbiAgICAgICAgZm4gPSBudWxsO1xuXG4gICAgICAvLyAuLi5leGNlcHQgd2hlbiBleGVjdXRpbmcgZnVuY3Rpb24gdmFsdWVzXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBidWxrID0gZm47XG4gICAgICAgIGZuID0gZnVuY3Rpb24oIGVsZW0sIGtleSwgdmFsdWUgKSB7XG4gICAgICAgICAgcmV0dXJuIGJ1bGsuY2FsbCggalF1ZXJ5KCBlbGVtICksIHZhbHVlICk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCBmbiApIHtcbiAgICAgIGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xuICAgICAgICBmbiggZWxlbXNbaV0sIGtleSwgcmF3ID8gdmFsdWUgOiB2YWx1ZS5jYWxsKCBlbGVtc1tpXSwgaSwgZm4oIGVsZW1zW2ldLCBrZXkgKSApICk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNoYWluYWJsZSA/XG4gICAgZWxlbXMgOlxuXG4gICAgLy8gR2V0c1xuICAgIGJ1bGsgP1xuICAgICAgZm4uY2FsbCggZWxlbXMgKSA6XG4gICAgICBsZW5ndGggPyBmbiggZWxlbXNbMF0sIGtleSApIDogZW1wdHlHZXQ7XG59O1xudmFyIHJjaGVja2FibGVUeXBlID0gKC9eKD86Y2hlY2tib3h8cmFkaW8pJC9pKTtcblxuXG5cbihmdW5jdGlvbigpIHtcbiAgLy8gTWluaWZpZWQ6IHZhciBhLGIsY1xuICB2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImlucHV0XCIgKSxcbiAgICBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICksXG4gICAgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG5cbiAgLy8gU2V0dXBcbiAgZGl2LmlubmVySFRNTCA9IFwiICA8bGluay8+PHRhYmxlPjwvdGFibGU+PGEgaHJlZj0nL2EnPmE8L2E+PGlucHV0IHR5cGU9J2NoZWNrYm94Jy8+XCI7XG5cbiAgLy8gSUUgc3RyaXBzIGxlYWRpbmcgd2hpdGVzcGFjZSB3aGVuIC5pbm5lckhUTUwgaXMgdXNlZFxuICBzdXBwb3J0LmxlYWRpbmdXaGl0ZXNwYWNlID0gZGl2LmZpcnN0Q2hpbGQubm9kZVR5cGUgPT09IDM7XG5cbiAgLy8gTWFrZSBzdXJlIHRoYXQgdGJvZHkgZWxlbWVudHMgYXJlbid0IGF1dG9tYXRpY2FsbHkgaW5zZXJ0ZWRcbiAgLy8gSUUgd2lsbCBpbnNlcnQgdGhlbSBpbnRvIGVtcHR5IHRhYmxlc1xuICBzdXBwb3J0LnRib2R5ID0gIWRpdi5nZXRFbGVtZW50c0J5VGFnTmFtZSggXCJ0Ym9keVwiICkubGVuZ3RoO1xuXG4gIC8vIE1ha2Ugc3VyZSB0aGF0IGxpbmsgZWxlbWVudHMgZ2V0IHNlcmlhbGl6ZWQgY29ycmVjdGx5IGJ5IGlubmVySFRNTFxuICAvLyBUaGlzIHJlcXVpcmVzIGEgd3JhcHBlciBlbGVtZW50IGluIElFXG4gIHN1cHBvcnQuaHRtbFNlcmlhbGl6ZSA9ICEhZGl2LmdldEVsZW1lbnRzQnlUYWdOYW1lKCBcImxpbmtcIiApLmxlbmd0aDtcblxuICAvLyBNYWtlcyBzdXJlIGNsb25pbmcgYW4gaHRtbDUgZWxlbWVudCBkb2VzIG5vdCBjYXVzZSBwcm9ibGVtc1xuICAvLyBXaGVyZSBvdXRlckhUTUwgaXMgdW5kZWZpbmVkLCB0aGlzIHN0aWxsIHdvcmtzXG4gIHN1cHBvcnQuaHRtbDVDbG9uZSA9XG4gICAgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJuYXZcIiApLmNsb25lTm9kZSggdHJ1ZSApLm91dGVySFRNTCAhPT0gXCI8Om5hdj48LzpuYXY+XCI7XG5cbiAgLy8gQ2hlY2sgaWYgYSBkaXNjb25uZWN0ZWQgY2hlY2tib3ggd2lsbCByZXRhaW4gaXRzIGNoZWNrZWRcbiAgLy8gdmFsdWUgb2YgdHJ1ZSBhZnRlciBhcHBlbmRlZCB0byB0aGUgRE9NIChJRTYvNylcbiAgaW5wdXQudHlwZSA9IFwiY2hlY2tib3hcIjtcbiAgaW5wdXQuY2hlY2tlZCA9IHRydWU7XG4gIGZyYWdtZW50LmFwcGVuZENoaWxkKCBpbnB1dCApO1xuICBzdXBwb3J0LmFwcGVuZENoZWNrZWQgPSBpbnB1dC5jaGVja2VkO1xuXG4gIC8vIE1ha2Ugc3VyZSB0ZXh0YXJlYSAoYW5kIGNoZWNrYm94KSBkZWZhdWx0VmFsdWUgaXMgcHJvcGVybHkgY2xvbmVkXG4gIC8vIFN1cHBvcnQ6IElFNi1JRTExK1xuICBkaXYuaW5uZXJIVE1MID0gXCI8dGV4dGFyZWE+eDwvdGV4dGFyZWE+XCI7XG4gIHN1cHBvcnQubm9DbG9uZUNoZWNrZWQgPSAhIWRpdi5jbG9uZU5vZGUoIHRydWUgKS5sYXN0Q2hpbGQuZGVmYXVsdFZhbHVlO1xuXG4gIC8vICMxMTIxNyAtIFdlYktpdCBsb3NlcyBjaGVjayB3aGVuIHRoZSBuYW1lIGlzIGFmdGVyIHRoZSBjaGVja2VkIGF0dHJpYnV0ZVxuICBmcmFnbWVudC5hcHBlbmRDaGlsZCggZGl2ICk7XG4gIGRpdi5pbm5lckhUTUwgPSBcIjxpbnB1dCB0eXBlPSdyYWRpbycgY2hlY2tlZD0nY2hlY2tlZCcgbmFtZT0ndCcvPlwiO1xuXG4gIC8vIFN1cHBvcnQ6IFNhZmFyaSA1LjEsIGlPUyA1LjEsIEFuZHJvaWQgNC54LCBBbmRyb2lkIDIuM1xuICAvLyBvbGQgV2ViS2l0IGRvZXNuJ3QgY2xvbmUgY2hlY2tlZCBzdGF0ZSBjb3JyZWN0bHkgaW4gZnJhZ21lbnRzXG4gIHN1cHBvcnQuY2hlY2tDbG9uZSA9IGRpdi5jbG9uZU5vZGUoIHRydWUgKS5jbG9uZU5vZGUoIHRydWUgKS5sYXN0Q2hpbGQuY2hlY2tlZDtcblxuICAvLyBTdXBwb3J0OiBJRTw5XG4gIC8vIE9wZXJhIGRvZXMgbm90IGNsb25lIGV2ZW50cyAoYW5kIHR5cGVvZiBkaXYuYXR0YWNoRXZlbnQgPT09IHVuZGVmaW5lZCkuXG4gIC8vIElFOS0xMCBjbG9uZXMgZXZlbnRzIGJvdW5kIHZpYSBhdHRhY2hFdmVudCwgYnV0IHRoZXkgZG9uJ3QgdHJpZ2dlciB3aXRoIC5jbGljaygpXG4gIHN1cHBvcnQubm9DbG9uZUV2ZW50ID0gdHJ1ZTtcbiAgaWYgKCBkaXYuYXR0YWNoRXZlbnQgKSB7XG4gICAgZGl2LmF0dGFjaEV2ZW50KCBcIm9uY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG4gICAgICBzdXBwb3J0Lm5vQ2xvbmVFdmVudCA9IGZhbHNlO1xuICAgIH0pO1xuXG4gICAgZGl2LmNsb25lTm9kZSggdHJ1ZSApLmNsaWNrKCk7XG4gIH1cblxuICAvLyBFeGVjdXRlIHRoZSB0ZXN0IG9ubHkgaWYgbm90IGFscmVhZHkgZXhlY3V0ZWQgaW4gYW5vdGhlciBtb2R1bGUuXG4gIGlmIChzdXBwb3J0LmRlbGV0ZUV4cGFuZG8gPT0gbnVsbCkge1xuICAgIC8vIFN1cHBvcnQ6IElFPDlcbiAgICBzdXBwb3J0LmRlbGV0ZUV4cGFuZG8gPSB0cnVlO1xuICAgIHRyeSB7XG4gICAgICBkZWxldGUgZGl2LnRlc3Q7XG4gICAgfSBjYXRjaCggZSApIHtcbiAgICAgIHN1cHBvcnQuZGVsZXRlRXhwYW5kbyA9IGZhbHNlO1xuICAgIH1cbiAgfVxufSkoKTtcblxuXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBpLCBldmVudE5hbWUsXG4gICAgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApO1xuXG4gIC8vIFN1cHBvcnQ6IElFPDkgKGxhY2sgc3VibWl0L2NoYW5nZSBidWJibGUpLCBGaXJlZm94IDIzKyAobGFjayBmb2N1c2luIGV2ZW50KVxuICBmb3IgKCBpIGluIHsgc3VibWl0OiB0cnVlLCBjaGFuZ2U6IHRydWUsIGZvY3VzaW46IHRydWUgfSkge1xuICAgIGV2ZW50TmFtZSA9IFwib25cIiArIGk7XG5cbiAgICBpZiAoICEoc3VwcG9ydFsgaSArIFwiQnViYmxlc1wiIF0gPSBldmVudE5hbWUgaW4gd2luZG93KSApIHtcbiAgICAgIC8vIEJld2FyZSBvZiBDU1AgcmVzdHJpY3Rpb25zIChodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9TZWN1cml0eS9DU1ApXG4gICAgICBkaXYuc2V0QXR0cmlidXRlKCBldmVudE5hbWUsIFwidFwiICk7XG4gICAgICBzdXBwb3J0WyBpICsgXCJCdWJibGVzXCIgXSA9IGRpdi5hdHRyaWJ1dGVzWyBldmVudE5hbWUgXS5leHBhbmRvID09PSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvLyBOdWxsIGVsZW1lbnRzIHRvIGF2b2lkIGxlYWtzIGluIElFLlxuICBkaXYgPSBudWxsO1xufSkoKTtcblxuXG52YXIgcmZvcm1FbGVtcyA9IC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhKSQvaSxcbiAgcmtleUV2ZW50ID0gL15rZXkvLFxuICBybW91c2VFdmVudCA9IC9eKD86bW91c2V8cG9pbnRlcnxjb250ZXh0bWVudSl8Y2xpY2svLFxuICByZm9jdXNNb3JwaCA9IC9eKD86Zm9jdXNpbmZvY3VzfGZvY3Vzb3V0Ymx1cikkLyxcbiAgcnR5cGVuYW1lc3BhY2UgPSAvXihbXi5dKikoPzpcXC4oLispfCkkLztcblxuZnVuY3Rpb24gcmV0dXJuVHJ1ZSgpIHtcbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIHJldHVybkZhbHNlKCkge1xuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIHNhZmVBY3RpdmVFbGVtZW50KCkge1xuICB0cnkge1xuICAgIHJldHVybiBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICB9IGNhdGNoICggZXJyICkgeyB9XG59XG5cbi8qXG4gKiBIZWxwZXIgZnVuY3Rpb25zIGZvciBtYW5hZ2luZyBldmVudHMgLS0gbm90IHBhcnQgb2YgdGhlIHB1YmxpYyBpbnRlcmZhY2UuXG4gKiBQcm9wcyB0byBEZWFuIEVkd2FyZHMnIGFkZEV2ZW50IGxpYnJhcnkgZm9yIG1hbnkgb2YgdGhlIGlkZWFzLlxuICovXG5qUXVlcnkuZXZlbnQgPSB7XG5cbiAgZ2xvYmFsOiB7fSxcblxuICBhZGQ6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlcywgaGFuZGxlciwgZGF0YSwgc2VsZWN0b3IgKSB7XG4gICAgdmFyIHRtcCwgZXZlbnRzLCB0LCBoYW5kbGVPYmpJbixcbiAgICAgIHNwZWNpYWwsIGV2ZW50SGFuZGxlLCBoYW5kbGVPYmosXG4gICAgICBoYW5kbGVycywgdHlwZSwgbmFtZXNwYWNlcywgb3JpZ1R5cGUsXG4gICAgICBlbGVtRGF0YSA9IGpRdWVyeS5fZGF0YSggZWxlbSApO1xuXG4gICAgLy8gRG9uJ3QgYXR0YWNoIGV2ZW50cyB0byBub0RhdGEgb3IgdGV4dC9jb21tZW50IG5vZGVzIChidXQgYWxsb3cgcGxhaW4gb2JqZWN0cylcbiAgICBpZiAoICFlbGVtRGF0YSApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDYWxsZXIgY2FuIHBhc3MgaW4gYW4gb2JqZWN0IG9mIGN1c3RvbSBkYXRhIGluIGxpZXUgb2YgdGhlIGhhbmRsZXJcbiAgICBpZiAoIGhhbmRsZXIuaGFuZGxlciApIHtcbiAgICAgIGhhbmRsZU9iakluID0gaGFuZGxlcjtcbiAgICAgIGhhbmRsZXIgPSBoYW5kbGVPYmpJbi5oYW5kbGVyO1xuICAgICAgc2VsZWN0b3IgPSBoYW5kbGVPYmpJbi5zZWxlY3RvcjtcbiAgICB9XG5cbiAgICAvLyBNYWtlIHN1cmUgdGhhdCB0aGUgaGFuZGxlciBoYXMgYSB1bmlxdWUgSUQsIHVzZWQgdG8gZmluZC9yZW1vdmUgaXQgbGF0ZXJcbiAgICBpZiAoICFoYW5kbGVyLmd1aWQgKSB7XG4gICAgICBoYW5kbGVyLmd1aWQgPSBqUXVlcnkuZ3VpZCsrO1xuICAgIH1cblxuICAgIC8vIEluaXQgdGhlIGVsZW1lbnQncyBldmVudCBzdHJ1Y3R1cmUgYW5kIG1haW4gaGFuZGxlciwgaWYgdGhpcyBpcyB0aGUgZmlyc3RcbiAgICBpZiAoICEoZXZlbnRzID0gZWxlbURhdGEuZXZlbnRzKSApIHtcbiAgICAgIGV2ZW50cyA9IGVsZW1EYXRhLmV2ZW50cyA9IHt9O1xuICAgIH1cbiAgICBpZiAoICEoZXZlbnRIYW5kbGUgPSBlbGVtRGF0YS5oYW5kbGUpICkge1xuICAgICAgZXZlbnRIYW5kbGUgPSBlbGVtRGF0YS5oYW5kbGUgPSBmdW5jdGlvbiggZSApIHtcbiAgICAgICAgLy8gRGlzY2FyZCB0aGUgc2Vjb25kIGV2ZW50IG9mIGEgalF1ZXJ5LmV2ZW50LnRyaWdnZXIoKSBhbmRcbiAgICAgICAgLy8gd2hlbiBhbiBldmVudCBpcyBjYWxsZWQgYWZ0ZXIgYSBwYWdlIGhhcyB1bmxvYWRlZFxuICAgICAgICByZXR1cm4gdHlwZW9mIGpRdWVyeSAhPT0gc3RydW5kZWZpbmVkICYmICghZSB8fCBqUXVlcnkuZXZlbnQudHJpZ2dlcmVkICE9PSBlLnR5cGUpID9cbiAgICAgICAgICBqUXVlcnkuZXZlbnQuZGlzcGF0Y2guYXBwbHkoIGV2ZW50SGFuZGxlLmVsZW0sIGFyZ3VtZW50cyApIDpcbiAgICAgICAgICB1bmRlZmluZWQ7XG4gICAgICB9O1xuICAgICAgLy8gQWRkIGVsZW0gYXMgYSBwcm9wZXJ0eSBvZiB0aGUgaGFuZGxlIGZuIHRvIHByZXZlbnQgYSBtZW1vcnkgbGVhayB3aXRoIElFIG5vbi1uYXRpdmUgZXZlbnRzXG4gICAgICBldmVudEhhbmRsZS5lbGVtID0gZWxlbTtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgbXVsdGlwbGUgZXZlbnRzIHNlcGFyYXRlZCBieSBhIHNwYWNlXG4gICAgdHlwZXMgPSAoIHR5cGVzIHx8IFwiXCIgKS5tYXRjaCggcm5vdHdoaXRlICkgfHwgWyBcIlwiIF07XG4gICAgdCA9IHR5cGVzLmxlbmd0aDtcbiAgICB3aGlsZSAoIHQtLSApIHtcbiAgICAgIHRtcCA9IHJ0eXBlbmFtZXNwYWNlLmV4ZWMoIHR5cGVzW3RdICkgfHwgW107XG4gICAgICB0eXBlID0gb3JpZ1R5cGUgPSB0bXBbMV07XG4gICAgICBuYW1lc3BhY2VzID0gKCB0bXBbMl0gfHwgXCJcIiApLnNwbGl0KCBcIi5cIiApLnNvcnQoKTtcblxuICAgICAgLy8gVGhlcmUgKm11c3QqIGJlIGEgdHlwZSwgbm8gYXR0YWNoaW5nIG5hbWVzcGFjZS1vbmx5IGhhbmRsZXJzXG4gICAgICBpZiAoICF0eXBlICkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgZXZlbnQgY2hhbmdlcyBpdHMgdHlwZSwgdXNlIHRoZSBzcGVjaWFsIGV2ZW50IGhhbmRsZXJzIGZvciB0aGUgY2hhbmdlZCB0eXBlXG4gICAgICBzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIHR5cGUgXSB8fCB7fTtcblxuICAgICAgLy8gSWYgc2VsZWN0b3IgZGVmaW5lZCwgZGV0ZXJtaW5lIHNwZWNpYWwgZXZlbnQgYXBpIHR5cGUsIG90aGVyd2lzZSBnaXZlbiB0eXBlXG4gICAgICB0eXBlID0gKCBzZWxlY3RvciA/IHNwZWNpYWwuZGVsZWdhdGVUeXBlIDogc3BlY2lhbC5iaW5kVHlwZSApIHx8IHR5cGU7XG5cbiAgICAgIC8vIFVwZGF0ZSBzcGVjaWFsIGJhc2VkIG9uIG5ld2x5IHJlc2V0IHR5cGVcbiAgICAgIHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdIHx8IHt9O1xuXG4gICAgICAvLyBoYW5kbGVPYmogaXMgcGFzc2VkIHRvIGFsbCBldmVudCBoYW5kbGVyc1xuICAgICAgaGFuZGxlT2JqID0galF1ZXJ5LmV4dGVuZCh7XG4gICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgIG9yaWdUeXBlOiBvcmlnVHlwZSxcbiAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgaGFuZGxlcjogaGFuZGxlcixcbiAgICAgICAgZ3VpZDogaGFuZGxlci5ndWlkLFxuICAgICAgICBzZWxlY3Rvcjogc2VsZWN0b3IsXG4gICAgICAgIG5lZWRzQ29udGV4dDogc2VsZWN0b3IgJiYgalF1ZXJ5LmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LnRlc3QoIHNlbGVjdG9yICksXG4gICAgICAgIG5hbWVzcGFjZTogbmFtZXNwYWNlcy5qb2luKFwiLlwiKVxuICAgICAgfSwgaGFuZGxlT2JqSW4gKTtcblxuICAgICAgLy8gSW5pdCB0aGUgZXZlbnQgaGFuZGxlciBxdWV1ZSBpZiB3ZSdyZSB0aGUgZmlyc3RcbiAgICAgIGlmICggIShoYW5kbGVycyA9IGV2ZW50c1sgdHlwZSBdKSApIHtcbiAgICAgICAgaGFuZGxlcnMgPSBldmVudHNbIHR5cGUgXSA9IFtdO1xuICAgICAgICBoYW5kbGVycy5kZWxlZ2F0ZUNvdW50ID0gMDtcblxuICAgICAgICAvLyBPbmx5IHVzZSBhZGRFdmVudExpc3RlbmVyL2F0dGFjaEV2ZW50IGlmIHRoZSBzcGVjaWFsIGV2ZW50cyBoYW5kbGVyIHJldHVybnMgZmFsc2VcbiAgICAgICAgaWYgKCAhc3BlY2lhbC5zZXR1cCB8fCBzcGVjaWFsLnNldHVwLmNhbGwoIGVsZW0sIGRhdGEsIG5hbWVzcGFjZXMsIGV2ZW50SGFuZGxlICkgPT09IGZhbHNlICkge1xuICAgICAgICAgIC8vIEJpbmQgdGhlIGdsb2JhbCBldmVudCBoYW5kbGVyIHRvIHRoZSBlbGVtZW50XG4gICAgICAgICAgaWYgKCBlbGVtLmFkZEV2ZW50TGlzdGVuZXIgKSB7XG4gICAgICAgICAgICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoIHR5cGUsIGV2ZW50SGFuZGxlLCBmYWxzZSApO1xuXG4gICAgICAgICAgfSBlbHNlIGlmICggZWxlbS5hdHRhY2hFdmVudCApIHtcbiAgICAgICAgICAgIGVsZW0uYXR0YWNoRXZlbnQoIFwib25cIiArIHR5cGUsIGV2ZW50SGFuZGxlICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICggc3BlY2lhbC5hZGQgKSB7XG4gICAgICAgIHNwZWNpYWwuYWRkLmNhbGwoIGVsZW0sIGhhbmRsZU9iaiApO1xuXG4gICAgICAgIGlmICggIWhhbmRsZU9iai5oYW5kbGVyLmd1aWQgKSB7XG4gICAgICAgICAgaGFuZGxlT2JqLmhhbmRsZXIuZ3VpZCA9IGhhbmRsZXIuZ3VpZDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBBZGQgdG8gdGhlIGVsZW1lbnQncyBoYW5kbGVyIGxpc3QsIGRlbGVnYXRlcyBpbiBmcm9udFxuICAgICAgaWYgKCBzZWxlY3RvciApIHtcbiAgICAgICAgaGFuZGxlcnMuc3BsaWNlKCBoYW5kbGVycy5kZWxlZ2F0ZUNvdW50KyssIDAsIGhhbmRsZU9iaiApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaGFuZGxlcnMucHVzaCggaGFuZGxlT2JqICk7XG4gICAgICB9XG5cbiAgICAgIC8vIEtlZXAgdHJhY2sgb2Ygd2hpY2ggZXZlbnRzIGhhdmUgZXZlciBiZWVuIHVzZWQsIGZvciBldmVudCBvcHRpbWl6YXRpb25cbiAgICAgIGpRdWVyeS5ldmVudC5nbG9iYWxbIHR5cGUgXSA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gTnVsbGlmeSBlbGVtIHRvIHByZXZlbnQgbWVtb3J5IGxlYWtzIGluIElFXG4gICAgZWxlbSA9IG51bGw7XG4gIH0sXG5cbiAgLy8gRGV0YWNoIGFuIGV2ZW50IG9yIHNldCBvZiBldmVudHMgZnJvbSBhbiBlbGVtZW50XG4gIHJlbW92ZTogZnVuY3Rpb24oIGVsZW0sIHR5cGVzLCBoYW5kbGVyLCBzZWxlY3RvciwgbWFwcGVkVHlwZXMgKSB7XG4gICAgdmFyIGosIGhhbmRsZU9iaiwgdG1wLFxuICAgICAgb3JpZ0NvdW50LCB0LCBldmVudHMsXG4gICAgICBzcGVjaWFsLCBoYW5kbGVycywgdHlwZSxcbiAgICAgIG5hbWVzcGFjZXMsIG9yaWdUeXBlLFxuICAgICAgZWxlbURhdGEgPSBqUXVlcnkuaGFzRGF0YSggZWxlbSApICYmIGpRdWVyeS5fZGF0YSggZWxlbSApO1xuXG4gICAgaWYgKCAhZWxlbURhdGEgfHwgIShldmVudHMgPSBlbGVtRGF0YS5ldmVudHMpICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIE9uY2UgZm9yIGVhY2ggdHlwZS5uYW1lc3BhY2UgaW4gdHlwZXM7IHR5cGUgbWF5IGJlIG9taXR0ZWRcbiAgICB0eXBlcyA9ICggdHlwZXMgfHwgXCJcIiApLm1hdGNoKCBybm90d2hpdGUgKSB8fCBbIFwiXCIgXTtcbiAgICB0ID0gdHlwZXMubGVuZ3RoO1xuICAgIHdoaWxlICggdC0tICkge1xuICAgICAgdG1wID0gcnR5cGVuYW1lc3BhY2UuZXhlYyggdHlwZXNbdF0gKSB8fCBbXTtcbiAgICAgIHR5cGUgPSBvcmlnVHlwZSA9IHRtcFsxXTtcbiAgICAgIG5hbWVzcGFjZXMgPSAoIHRtcFsyXSB8fCBcIlwiICkuc3BsaXQoIFwiLlwiICkuc29ydCgpO1xuXG4gICAgICAvLyBVbmJpbmQgYWxsIGV2ZW50cyAob24gdGhpcyBuYW1lc3BhY2UsIGlmIHByb3ZpZGVkKSBmb3IgdGhlIGVsZW1lbnRcbiAgICAgIGlmICggIXR5cGUgKSB7XG4gICAgICAgIGZvciAoIHR5cGUgaW4gZXZlbnRzICkge1xuICAgICAgICAgIGpRdWVyeS5ldmVudC5yZW1vdmUoIGVsZW0sIHR5cGUgKyB0eXBlc1sgdCBdLCBoYW5kbGVyLCBzZWxlY3RvciwgdHJ1ZSApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIHR5cGUgXSB8fCB7fTtcbiAgICAgIHR5cGUgPSAoIHNlbGVjdG9yID8gc3BlY2lhbC5kZWxlZ2F0ZVR5cGUgOiBzcGVjaWFsLmJpbmRUeXBlICkgfHwgdHlwZTtcbiAgICAgIGhhbmRsZXJzID0gZXZlbnRzWyB0eXBlIF0gfHwgW107XG4gICAgICB0bXAgPSB0bXBbMl0gJiYgbmV3IFJlZ0V4cCggXCIoXnxcXFxcLilcIiArIG5hbWVzcGFjZXMuam9pbihcIlxcXFwuKD86LipcXFxcLnwpXCIpICsgXCIoXFxcXC58JClcIiApO1xuXG4gICAgICAvLyBSZW1vdmUgbWF0Y2hpbmcgZXZlbnRzXG4gICAgICBvcmlnQ291bnQgPSBqID0gaGFuZGxlcnMubGVuZ3RoO1xuICAgICAgd2hpbGUgKCBqLS0gKSB7XG4gICAgICAgIGhhbmRsZU9iaiA9IGhhbmRsZXJzWyBqIF07XG5cbiAgICAgICAgaWYgKCAoIG1hcHBlZFR5cGVzIHx8IG9yaWdUeXBlID09PSBoYW5kbGVPYmoub3JpZ1R5cGUgKSAmJlxuICAgICAgICAgICggIWhhbmRsZXIgfHwgaGFuZGxlci5ndWlkID09PSBoYW5kbGVPYmouZ3VpZCApICYmXG4gICAgICAgICAgKCAhdG1wIHx8IHRtcC50ZXN0KCBoYW5kbGVPYmoubmFtZXNwYWNlICkgKSAmJlxuICAgICAgICAgICggIXNlbGVjdG9yIHx8IHNlbGVjdG9yID09PSBoYW5kbGVPYmouc2VsZWN0b3IgfHwgc2VsZWN0b3IgPT09IFwiKipcIiAmJiBoYW5kbGVPYmouc2VsZWN0b3IgKSApIHtcbiAgICAgICAgICBoYW5kbGVycy5zcGxpY2UoIGosIDEgKTtcblxuICAgICAgICAgIGlmICggaGFuZGxlT2JqLnNlbGVjdG9yICkge1xuICAgICAgICAgICAgaGFuZGxlcnMuZGVsZWdhdGVDb3VudC0tO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIHNwZWNpYWwucmVtb3ZlICkge1xuICAgICAgICAgICAgc3BlY2lhbC5yZW1vdmUuY2FsbCggZWxlbSwgaGFuZGxlT2JqICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFJlbW92ZSBnZW5lcmljIGV2ZW50IGhhbmRsZXIgaWYgd2UgcmVtb3ZlZCBzb21ldGhpbmcgYW5kIG5vIG1vcmUgaGFuZGxlcnMgZXhpc3RcbiAgICAgIC8vIChhdm9pZHMgcG90ZW50aWFsIGZvciBlbmRsZXNzIHJlY3Vyc2lvbiBkdXJpbmcgcmVtb3ZhbCBvZiBzcGVjaWFsIGV2ZW50IGhhbmRsZXJzKVxuICAgICAgaWYgKCBvcmlnQ291bnQgJiYgIWhhbmRsZXJzLmxlbmd0aCApIHtcbiAgICAgICAgaWYgKCAhc3BlY2lhbC50ZWFyZG93biB8fCBzcGVjaWFsLnRlYXJkb3duLmNhbGwoIGVsZW0sIG5hbWVzcGFjZXMsIGVsZW1EYXRhLmhhbmRsZSApID09PSBmYWxzZSApIHtcbiAgICAgICAgICBqUXVlcnkucmVtb3ZlRXZlbnQoIGVsZW0sIHR5cGUsIGVsZW1EYXRhLmhhbmRsZSApO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVsZXRlIGV2ZW50c1sgdHlwZSBdO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJlbW92ZSB0aGUgZXhwYW5kbyBpZiBpdCdzIG5vIGxvbmdlciB1c2VkXG4gICAgaWYgKCBqUXVlcnkuaXNFbXB0eU9iamVjdCggZXZlbnRzICkgKSB7XG4gICAgICBkZWxldGUgZWxlbURhdGEuaGFuZGxlO1xuXG4gICAgICAvLyByZW1vdmVEYXRhIGFsc28gY2hlY2tzIGZvciBlbXB0aW5lc3MgYW5kIGNsZWFycyB0aGUgZXhwYW5kbyBpZiBlbXB0eVxuICAgICAgLy8gc28gdXNlIGl0IGluc3RlYWQgb2YgZGVsZXRlXG4gICAgICBqUXVlcnkuX3JlbW92ZURhdGEoIGVsZW0sIFwiZXZlbnRzXCIgKTtcbiAgICB9XG4gIH0sXG5cbiAgdHJpZ2dlcjogZnVuY3Rpb24oIGV2ZW50LCBkYXRhLCBlbGVtLCBvbmx5SGFuZGxlcnMgKSB7XG4gICAgdmFyIGhhbmRsZSwgb250eXBlLCBjdXIsXG4gICAgICBidWJibGVUeXBlLCBzcGVjaWFsLCB0bXAsIGksXG4gICAgICBldmVudFBhdGggPSBbIGVsZW0gfHwgZG9jdW1lbnQgXSxcbiAgICAgIHR5cGUgPSBoYXNPd24uY2FsbCggZXZlbnQsIFwidHlwZVwiICkgPyBldmVudC50eXBlIDogZXZlbnQsXG4gICAgICBuYW1lc3BhY2VzID0gaGFzT3duLmNhbGwoIGV2ZW50LCBcIm5hbWVzcGFjZVwiICkgPyBldmVudC5uYW1lc3BhY2Uuc3BsaXQoXCIuXCIpIDogW107XG5cbiAgICBjdXIgPSB0bXAgPSBlbGVtID0gZWxlbSB8fCBkb2N1bWVudDtcblxuICAgIC8vIERvbid0IGRvIGV2ZW50cyBvbiB0ZXh0IGFuZCBjb21tZW50IG5vZGVzXG4gICAgaWYgKCBlbGVtLm5vZGVUeXBlID09PSAzIHx8IGVsZW0ubm9kZVR5cGUgPT09IDggKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gZm9jdXMvYmx1ciBtb3JwaHMgdG8gZm9jdXNpbi9vdXQ7IGVuc3VyZSB3ZSdyZSBub3QgZmlyaW5nIHRoZW0gcmlnaHQgbm93XG4gICAgaWYgKCByZm9jdXNNb3JwaC50ZXN0KCB0eXBlICsgalF1ZXJ5LmV2ZW50LnRyaWdnZXJlZCApICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICggdHlwZS5pbmRleE9mKFwiLlwiKSA+PSAwICkge1xuICAgICAgLy8gTmFtZXNwYWNlZCB0cmlnZ2VyOyBjcmVhdGUgYSByZWdleHAgdG8gbWF0Y2ggZXZlbnQgdHlwZSBpbiBoYW5kbGUoKVxuICAgICAgbmFtZXNwYWNlcyA9IHR5cGUuc3BsaXQoXCIuXCIpO1xuICAgICAgdHlwZSA9IG5hbWVzcGFjZXMuc2hpZnQoKTtcbiAgICAgIG5hbWVzcGFjZXMuc29ydCgpO1xuICAgIH1cbiAgICBvbnR5cGUgPSB0eXBlLmluZGV4T2YoXCI6XCIpIDwgMCAmJiBcIm9uXCIgKyB0eXBlO1xuXG4gICAgLy8gQ2FsbGVyIGNhbiBwYXNzIGluIGEgalF1ZXJ5LkV2ZW50IG9iamVjdCwgT2JqZWN0LCBvciBqdXN0IGFuIGV2ZW50IHR5cGUgc3RyaW5nXG4gICAgZXZlbnQgPSBldmVudFsgalF1ZXJ5LmV4cGFuZG8gXSA/XG4gICAgICBldmVudCA6XG4gICAgICBuZXcgalF1ZXJ5LkV2ZW50KCB0eXBlLCB0eXBlb2YgZXZlbnQgPT09IFwib2JqZWN0XCIgJiYgZXZlbnQgKTtcblxuICAgIC8vIFRyaWdnZXIgYml0bWFzazogJiAxIGZvciBuYXRpdmUgaGFuZGxlcnM7ICYgMiBmb3IgalF1ZXJ5IChhbHdheXMgdHJ1ZSlcbiAgICBldmVudC5pc1RyaWdnZXIgPSBvbmx5SGFuZGxlcnMgPyAyIDogMztcbiAgICBldmVudC5uYW1lc3BhY2UgPSBuYW1lc3BhY2VzLmpvaW4oXCIuXCIpO1xuICAgIGV2ZW50Lm5hbWVzcGFjZV9yZSA9IGV2ZW50Lm5hbWVzcGFjZSA/XG4gICAgICBuZXcgUmVnRXhwKCBcIihefFxcXFwuKVwiICsgbmFtZXNwYWNlcy5qb2luKFwiXFxcXC4oPzouKlxcXFwufClcIikgKyBcIihcXFxcLnwkKVwiICkgOlxuICAgICAgbnVsbDtcblxuICAgIC8vIENsZWFuIHVwIHRoZSBldmVudCBpbiBjYXNlIGl0IGlzIGJlaW5nIHJldXNlZFxuICAgIGV2ZW50LnJlc3VsdCA9IHVuZGVmaW5lZDtcbiAgICBpZiAoICFldmVudC50YXJnZXQgKSB7XG4gICAgICBldmVudC50YXJnZXQgPSBlbGVtO1xuICAgIH1cblxuICAgIC8vIENsb25lIGFueSBpbmNvbWluZyBkYXRhIGFuZCBwcmVwZW5kIHRoZSBldmVudCwgY3JlYXRpbmcgdGhlIGhhbmRsZXIgYXJnIGxpc3RcbiAgICBkYXRhID0gZGF0YSA9PSBudWxsID9cbiAgICAgIFsgZXZlbnQgXSA6XG4gICAgICBqUXVlcnkubWFrZUFycmF5KCBkYXRhLCBbIGV2ZW50IF0gKTtcblxuICAgIC8vIEFsbG93IHNwZWNpYWwgZXZlbnRzIHRvIGRyYXcgb3V0c2lkZSB0aGUgbGluZXNcbiAgICBzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIHR5cGUgXSB8fCB7fTtcbiAgICBpZiAoICFvbmx5SGFuZGxlcnMgJiYgc3BlY2lhbC50cmlnZ2VyICYmIHNwZWNpYWwudHJpZ2dlci5hcHBseSggZWxlbSwgZGF0YSApID09PSBmYWxzZSApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBEZXRlcm1pbmUgZXZlbnQgcHJvcGFnYXRpb24gcGF0aCBpbiBhZHZhbmNlLCBwZXIgVzNDIGV2ZW50cyBzcGVjICgjOTk1MSlcbiAgICAvLyBCdWJibGUgdXAgdG8gZG9jdW1lbnQsIHRoZW4gdG8gd2luZG93OyB3YXRjaCBmb3IgYSBnbG9iYWwgb3duZXJEb2N1bWVudCB2YXIgKCM5NzI0KVxuICAgIGlmICggIW9ubHlIYW5kbGVycyAmJiAhc3BlY2lhbC5ub0J1YmJsZSAmJiAhalF1ZXJ5LmlzV2luZG93KCBlbGVtICkgKSB7XG5cbiAgICAgIGJ1YmJsZVR5cGUgPSBzcGVjaWFsLmRlbGVnYXRlVHlwZSB8fCB0eXBlO1xuICAgICAgaWYgKCAhcmZvY3VzTW9ycGgudGVzdCggYnViYmxlVHlwZSArIHR5cGUgKSApIHtcbiAgICAgICAgY3VyID0gY3VyLnBhcmVudE5vZGU7XG4gICAgICB9XG4gICAgICBmb3IgKCA7IGN1cjsgY3VyID0gY3VyLnBhcmVudE5vZGUgKSB7XG4gICAgICAgIGV2ZW50UGF0aC5wdXNoKCBjdXIgKTtcbiAgICAgICAgdG1wID0gY3VyO1xuICAgICAgfVxuXG4gICAgICAvLyBPbmx5IGFkZCB3aW5kb3cgaWYgd2UgZ290IHRvIGRvY3VtZW50IChlLmcuLCBub3QgcGxhaW4gb2JqIG9yIGRldGFjaGVkIERPTSlcbiAgICAgIGlmICggdG1wID09PSAoZWxlbS5vd25lckRvY3VtZW50IHx8IGRvY3VtZW50KSApIHtcbiAgICAgICAgZXZlbnRQYXRoLnB1c2goIHRtcC5kZWZhdWx0VmlldyB8fCB0bXAucGFyZW50V2luZG93IHx8IHdpbmRvdyApO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEZpcmUgaGFuZGxlcnMgb24gdGhlIGV2ZW50IHBhdGhcbiAgICBpID0gMDtcbiAgICB3aGlsZSAoIChjdXIgPSBldmVudFBhdGhbaSsrXSkgJiYgIWV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7XG5cbiAgICAgIGV2ZW50LnR5cGUgPSBpID4gMSA/XG4gICAgICAgIGJ1YmJsZVR5cGUgOlxuICAgICAgICBzcGVjaWFsLmJpbmRUeXBlIHx8IHR5cGU7XG5cbiAgICAgIC8vIGpRdWVyeSBoYW5kbGVyXG4gICAgICBoYW5kbGUgPSAoIGpRdWVyeS5fZGF0YSggY3VyLCBcImV2ZW50c1wiICkgfHwge30gKVsgZXZlbnQudHlwZSBdICYmIGpRdWVyeS5fZGF0YSggY3VyLCBcImhhbmRsZVwiICk7XG4gICAgICBpZiAoIGhhbmRsZSApIHtcbiAgICAgICAgaGFuZGxlLmFwcGx5KCBjdXIsIGRhdGEgKTtcbiAgICAgIH1cblxuICAgICAgLy8gTmF0aXZlIGhhbmRsZXJcbiAgICAgIGhhbmRsZSA9IG9udHlwZSAmJiBjdXJbIG9udHlwZSBdO1xuICAgICAgaWYgKCBoYW5kbGUgJiYgaGFuZGxlLmFwcGx5ICYmIGpRdWVyeS5hY2NlcHREYXRhKCBjdXIgKSApIHtcbiAgICAgICAgZXZlbnQucmVzdWx0ID0gaGFuZGxlLmFwcGx5KCBjdXIsIGRhdGEgKTtcbiAgICAgICAgaWYgKCBldmVudC5yZXN1bHQgPT09IGZhbHNlICkge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZXZlbnQudHlwZSA9IHR5cGU7XG5cbiAgICAvLyBJZiBub2JvZHkgcHJldmVudGVkIHRoZSBkZWZhdWx0IGFjdGlvbiwgZG8gaXQgbm93XG4gICAgaWYgKCAhb25seUhhbmRsZXJzICYmICFldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSApIHtcblxuICAgICAgaWYgKCAoIXNwZWNpYWwuX2RlZmF1bHQgfHwgc3BlY2lhbC5fZGVmYXVsdC5hcHBseSggZXZlbnRQYXRoLnBvcCgpLCBkYXRhICkgPT09IGZhbHNlKSAmJlxuICAgICAgICBqUXVlcnkuYWNjZXB0RGF0YSggZWxlbSApICkge1xuXG4gICAgICAgIC8vIENhbGwgYSBuYXRpdmUgRE9NIG1ldGhvZCBvbiB0aGUgdGFyZ2V0IHdpdGggdGhlIHNhbWUgbmFtZSBuYW1lIGFzIHRoZSBldmVudC5cbiAgICAgICAgLy8gQ2FuJ3QgdXNlIGFuIC5pc0Z1bmN0aW9uKCkgY2hlY2sgaGVyZSBiZWNhdXNlIElFNi83IGZhaWxzIHRoYXQgdGVzdC5cbiAgICAgICAgLy8gRG9uJ3QgZG8gZGVmYXVsdCBhY3Rpb25zIG9uIHdpbmRvdywgdGhhdCdzIHdoZXJlIGdsb2JhbCB2YXJpYWJsZXMgYmUgKCM2MTcwKVxuICAgICAgICBpZiAoIG9udHlwZSAmJiBlbGVtWyB0eXBlIF0gJiYgIWpRdWVyeS5pc1dpbmRvdyggZWxlbSApICkge1xuXG4gICAgICAgICAgLy8gRG9uJ3QgcmUtdHJpZ2dlciBhbiBvbkZPTyBldmVudCB3aGVuIHdlIGNhbGwgaXRzIEZPTygpIG1ldGhvZFxuICAgICAgICAgIHRtcCA9IGVsZW1bIG9udHlwZSBdO1xuXG4gICAgICAgICAgaWYgKCB0bXAgKSB7XG4gICAgICAgICAgICBlbGVtWyBvbnR5cGUgXSA9IG51bGw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gUHJldmVudCByZS10cmlnZ2VyaW5nIG9mIHRoZSBzYW1lIGV2ZW50LCBzaW5jZSB3ZSBhbHJlYWR5IGJ1YmJsZWQgaXQgYWJvdmVcbiAgICAgICAgICBqUXVlcnkuZXZlbnQudHJpZ2dlcmVkID0gdHlwZTtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgZWxlbVsgdHlwZSBdKCk7XG4gICAgICAgICAgfSBjYXRjaCAoIGUgKSB7XG4gICAgICAgICAgICAvLyBJRTw5IGRpZXMgb24gZm9jdXMvYmx1ciB0byBoaWRkZW4gZWxlbWVudCAoIzE0ODYsIzEyNTE4KVxuICAgICAgICAgICAgLy8gb25seSByZXByb2R1Y2libGUgb24gd2luWFAgSUU4IG5hdGl2ZSwgbm90IElFOSBpbiBJRTggbW9kZVxuICAgICAgICAgIH1cbiAgICAgICAgICBqUXVlcnkuZXZlbnQudHJpZ2dlcmVkID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgaWYgKCB0bXAgKSB7XG4gICAgICAgICAgICBlbGVtWyBvbnR5cGUgXSA9IHRtcDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZXZlbnQucmVzdWx0O1xuICB9LFxuXG4gIGRpc3BhdGNoOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cbiAgICAvLyBNYWtlIGEgd3JpdGFibGUgalF1ZXJ5LkV2ZW50IGZyb20gdGhlIG5hdGl2ZSBldmVudCBvYmplY3RcbiAgICBldmVudCA9IGpRdWVyeS5ldmVudC5maXgoIGV2ZW50ICk7XG5cbiAgICB2YXIgaSwgcmV0LCBoYW5kbGVPYmosIG1hdGNoZWQsIGosXG4gICAgICBoYW5kbGVyUXVldWUgPSBbXSxcbiAgICAgIGFyZ3MgPSBzbGljZS5jYWxsKCBhcmd1bWVudHMgKSxcbiAgICAgIGhhbmRsZXJzID0gKCBqUXVlcnkuX2RhdGEoIHRoaXMsIFwiZXZlbnRzXCIgKSB8fCB7fSApWyBldmVudC50eXBlIF0gfHwgW10sXG4gICAgICBzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIGV2ZW50LnR5cGUgXSB8fCB7fTtcblxuICAgIC8vIFVzZSB0aGUgZml4LWVkIGpRdWVyeS5FdmVudCByYXRoZXIgdGhhbiB0aGUgKHJlYWQtb25seSkgbmF0aXZlIGV2ZW50XG4gICAgYXJnc1swXSA9IGV2ZW50O1xuICAgIGV2ZW50LmRlbGVnYXRlVGFyZ2V0ID0gdGhpcztcblxuICAgIC8vIENhbGwgdGhlIHByZURpc3BhdGNoIGhvb2sgZm9yIHRoZSBtYXBwZWQgdHlwZSwgYW5kIGxldCBpdCBiYWlsIGlmIGRlc2lyZWRcbiAgICBpZiAoIHNwZWNpYWwucHJlRGlzcGF0Y2ggJiYgc3BlY2lhbC5wcmVEaXNwYXRjaC5jYWxsKCB0aGlzLCBldmVudCApID09PSBmYWxzZSApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBEZXRlcm1pbmUgaGFuZGxlcnNcbiAgICBoYW5kbGVyUXVldWUgPSBqUXVlcnkuZXZlbnQuaGFuZGxlcnMuY2FsbCggdGhpcywgZXZlbnQsIGhhbmRsZXJzICk7XG5cbiAgICAvLyBSdW4gZGVsZWdhdGVzIGZpcnN0OyB0aGV5IG1heSB3YW50IHRvIHN0b3AgcHJvcGFnYXRpb24gYmVuZWF0aCB1c1xuICAgIGkgPSAwO1xuICAgIHdoaWxlICggKG1hdGNoZWQgPSBoYW5kbGVyUXVldWVbIGkrKyBdKSAmJiAhZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSApIHtcbiAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQgPSBtYXRjaGVkLmVsZW07XG5cbiAgICAgIGogPSAwO1xuICAgICAgd2hpbGUgKCAoaGFuZGxlT2JqID0gbWF0Y2hlZC5oYW5kbGVyc1sgaisrIF0pICYmICFldmVudC5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpICkge1xuXG4gICAgICAgIC8vIFRyaWdnZXJlZCBldmVudCBtdXN0IGVpdGhlciAxKSBoYXZlIG5vIG5hbWVzcGFjZSwgb3JcbiAgICAgICAgLy8gMikgaGF2ZSBuYW1lc3BhY2UocykgYSBzdWJzZXQgb3IgZXF1YWwgdG8gdGhvc2UgaW4gdGhlIGJvdW5kIGV2ZW50IChib3RoIGNhbiBoYXZlIG5vIG5hbWVzcGFjZSkuXG4gICAgICAgIGlmICggIWV2ZW50Lm5hbWVzcGFjZV9yZSB8fCBldmVudC5uYW1lc3BhY2VfcmUudGVzdCggaGFuZGxlT2JqLm5hbWVzcGFjZSApICkge1xuXG4gICAgICAgICAgZXZlbnQuaGFuZGxlT2JqID0gaGFuZGxlT2JqO1xuICAgICAgICAgIGV2ZW50LmRhdGEgPSBoYW5kbGVPYmouZGF0YTtcblxuICAgICAgICAgIHJldCA9ICggKGpRdWVyeS5ldmVudC5zcGVjaWFsWyBoYW5kbGVPYmoub3JpZ1R5cGUgXSB8fCB7fSkuaGFuZGxlIHx8IGhhbmRsZU9iai5oYW5kbGVyIClcbiAgICAgICAgICAgICAgLmFwcGx5KCBtYXRjaGVkLmVsZW0sIGFyZ3MgKTtcblxuICAgICAgICAgIGlmICggcmV0ICE9PSB1bmRlZmluZWQgKSB7XG4gICAgICAgICAgICBpZiAoIChldmVudC5yZXN1bHQgPSByZXQpID09PSBmYWxzZSApIHtcbiAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2FsbCB0aGUgcG9zdERpc3BhdGNoIGhvb2sgZm9yIHRoZSBtYXBwZWQgdHlwZVxuICAgIGlmICggc3BlY2lhbC5wb3N0RGlzcGF0Y2ggKSB7XG4gICAgICBzcGVjaWFsLnBvc3REaXNwYXRjaC5jYWxsKCB0aGlzLCBldmVudCApO1xuICAgIH1cblxuICAgIHJldHVybiBldmVudC5yZXN1bHQ7XG4gIH0sXG5cbiAgaGFuZGxlcnM6IGZ1bmN0aW9uKCBldmVudCwgaGFuZGxlcnMgKSB7XG4gICAgdmFyIHNlbCwgaGFuZGxlT2JqLCBtYXRjaGVzLCBpLFxuICAgICAgaGFuZGxlclF1ZXVlID0gW10sXG4gICAgICBkZWxlZ2F0ZUNvdW50ID0gaGFuZGxlcnMuZGVsZWdhdGVDb3VudCxcbiAgICAgIGN1ciA9IGV2ZW50LnRhcmdldDtcblxuICAgIC8vIEZpbmQgZGVsZWdhdGUgaGFuZGxlcnNcbiAgICAvLyBCbGFjay1ob2xlIFNWRyA8dXNlPiBpbnN0YW5jZSB0cmVlcyAoIzEzMTgwKVxuICAgIC8vIEF2b2lkIG5vbi1sZWZ0LWNsaWNrIGJ1YmJsaW5nIGluIEZpcmVmb3ggKCMzODYxKVxuICAgIGlmICggZGVsZWdhdGVDb3VudCAmJiBjdXIubm9kZVR5cGUgJiYgKCFldmVudC5idXR0b24gfHwgZXZlbnQudHlwZSAhPT0gXCJjbGlja1wiKSApIHtcblxuICAgICAgLyoganNoaW50IGVxZXFlcTogZmFsc2UgKi9cbiAgICAgIGZvciAoIDsgY3VyICE9IHRoaXM7IGN1ciA9IGN1ci5wYXJlbnROb2RlIHx8IHRoaXMgKSB7XG4gICAgICAgIC8qIGpzaGludCBlcWVxZXE6IHRydWUgKi9cblxuICAgICAgICAvLyBEb24ndCBjaGVjayBub24tZWxlbWVudHMgKCMxMzIwOClcbiAgICAgICAgLy8gRG9uJ3QgcHJvY2VzcyBjbGlja3Mgb24gZGlzYWJsZWQgZWxlbWVudHMgKCM2OTExLCAjODE2NSwgIzExMzgyLCAjMTE3NjQpXG4gICAgICAgIGlmICggY3VyLm5vZGVUeXBlID09PSAxICYmIChjdXIuZGlzYWJsZWQgIT09IHRydWUgfHwgZXZlbnQudHlwZSAhPT0gXCJjbGlja1wiKSApIHtcbiAgICAgICAgICBtYXRjaGVzID0gW107XG4gICAgICAgICAgZm9yICggaSA9IDA7IGkgPCBkZWxlZ2F0ZUNvdW50OyBpKysgKSB7XG4gICAgICAgICAgICBoYW5kbGVPYmogPSBoYW5kbGVyc1sgaSBdO1xuXG4gICAgICAgICAgICAvLyBEb24ndCBjb25mbGljdCB3aXRoIE9iamVjdC5wcm90b3R5cGUgcHJvcGVydGllcyAoIzEzMjAzKVxuICAgICAgICAgICAgc2VsID0gaGFuZGxlT2JqLnNlbGVjdG9yICsgXCIgXCI7XG5cbiAgICAgICAgICAgIGlmICggbWF0Y2hlc1sgc2VsIF0gPT09IHVuZGVmaW5lZCApIHtcbiAgICAgICAgICAgICAgbWF0Y2hlc1sgc2VsIF0gPSBoYW5kbGVPYmoubmVlZHNDb250ZXh0ID9cbiAgICAgICAgICAgICAgICBqUXVlcnkoIHNlbCwgdGhpcyApLmluZGV4KCBjdXIgKSA+PSAwIDpcbiAgICAgICAgICAgICAgICBqUXVlcnkuZmluZCggc2VsLCB0aGlzLCBudWxsLCBbIGN1ciBdICkubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCBtYXRjaGVzWyBzZWwgXSApIHtcbiAgICAgICAgICAgICAgbWF0Y2hlcy5wdXNoKCBoYW5kbGVPYmogKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCBtYXRjaGVzLmxlbmd0aCApIHtcbiAgICAgICAgICAgIGhhbmRsZXJRdWV1ZS5wdXNoKHsgZWxlbTogY3VyLCBoYW5kbGVyczogbWF0Y2hlcyB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBZGQgdGhlIHJlbWFpbmluZyAoZGlyZWN0bHktYm91bmQpIGhhbmRsZXJzXG4gICAgaWYgKCBkZWxlZ2F0ZUNvdW50IDwgaGFuZGxlcnMubGVuZ3RoICkge1xuICAgICAgaGFuZGxlclF1ZXVlLnB1c2goeyBlbGVtOiB0aGlzLCBoYW5kbGVyczogaGFuZGxlcnMuc2xpY2UoIGRlbGVnYXRlQ291bnQgKSB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gaGFuZGxlclF1ZXVlO1xuICB9LFxuXG4gIGZpeDogZnVuY3Rpb24oIGV2ZW50ICkge1xuICAgIGlmICggZXZlbnRbIGpRdWVyeS5leHBhbmRvIF0gKSB7XG4gICAgICByZXR1cm4gZXZlbnQ7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIGEgd3JpdGFibGUgY29weSBvZiB0aGUgZXZlbnQgb2JqZWN0IGFuZCBub3JtYWxpemUgc29tZSBwcm9wZXJ0aWVzXG4gICAgdmFyIGksIHByb3AsIGNvcHksXG4gICAgICB0eXBlID0gZXZlbnQudHlwZSxcbiAgICAgIG9yaWdpbmFsRXZlbnQgPSBldmVudCxcbiAgICAgIGZpeEhvb2sgPSB0aGlzLmZpeEhvb2tzWyB0eXBlIF07XG5cbiAgICBpZiAoICFmaXhIb29rICkge1xuICAgICAgdGhpcy5maXhIb29rc1sgdHlwZSBdID0gZml4SG9vayA9XG4gICAgICAgIHJtb3VzZUV2ZW50LnRlc3QoIHR5cGUgKSA/IHRoaXMubW91c2VIb29rcyA6XG4gICAgICAgIHJrZXlFdmVudC50ZXN0KCB0eXBlICkgPyB0aGlzLmtleUhvb2tzIDpcbiAgICAgICAge307XG4gICAgfVxuICAgIGNvcHkgPSBmaXhIb29rLnByb3BzID8gdGhpcy5wcm9wcy5jb25jYXQoIGZpeEhvb2sucHJvcHMgKSA6IHRoaXMucHJvcHM7XG5cbiAgICBldmVudCA9IG5ldyBqUXVlcnkuRXZlbnQoIG9yaWdpbmFsRXZlbnQgKTtcblxuICAgIGkgPSBjb3B5Lmxlbmd0aDtcbiAgICB3aGlsZSAoIGktLSApIHtcbiAgICAgIHByb3AgPSBjb3B5WyBpIF07XG4gICAgICBldmVudFsgcHJvcCBdID0gb3JpZ2luYWxFdmVudFsgcHJvcCBdO1xuICAgIH1cblxuICAgIC8vIFN1cHBvcnQ6IElFPDlcbiAgICAvLyBGaXggdGFyZ2V0IHByb3BlcnR5ICgjMTkyNSlcbiAgICBpZiAoICFldmVudC50YXJnZXQgKSB7XG4gICAgICBldmVudC50YXJnZXQgPSBvcmlnaW5hbEV2ZW50LnNyY0VsZW1lbnQgfHwgZG9jdW1lbnQ7XG4gICAgfVxuXG4gICAgLy8gU3VwcG9ydDogQ2hyb21lIDIzKywgU2FmYXJpP1xuICAgIC8vIFRhcmdldCBzaG91bGQgbm90IGJlIGEgdGV4dCBub2RlICgjNTA0LCAjMTMxNDMpXG4gICAgaWYgKCBldmVudC50YXJnZXQubm9kZVR5cGUgPT09IDMgKSB7XG4gICAgICBldmVudC50YXJnZXQgPSBldmVudC50YXJnZXQucGFyZW50Tm9kZTtcbiAgICB9XG5cbiAgICAvLyBTdXBwb3J0OiBJRTw5XG4gICAgLy8gRm9yIG1vdXNlL2tleSBldmVudHMsIG1ldGFLZXk9PWZhbHNlIGlmIGl0J3MgdW5kZWZpbmVkICgjMzM2OCwgIzExMzI4KVxuICAgIGV2ZW50Lm1ldGFLZXkgPSAhIWV2ZW50Lm1ldGFLZXk7XG5cbiAgICByZXR1cm4gZml4SG9vay5maWx0ZXIgPyBmaXhIb29rLmZpbHRlciggZXZlbnQsIG9yaWdpbmFsRXZlbnQgKSA6IGV2ZW50O1xuICB9LFxuXG4gIC8vIEluY2x1ZGVzIHNvbWUgZXZlbnQgcHJvcHMgc2hhcmVkIGJ5IEtleUV2ZW50IGFuZCBNb3VzZUV2ZW50XG4gIHByb3BzOiBcImFsdEtleSBidWJibGVzIGNhbmNlbGFibGUgY3RybEtleSBjdXJyZW50VGFyZ2V0IGV2ZW50UGhhc2UgbWV0YUtleSByZWxhdGVkVGFyZ2V0IHNoaWZ0S2V5IHRhcmdldCB0aW1lU3RhbXAgdmlldyB3aGljaFwiLnNwbGl0KFwiIFwiKSxcblxuICBmaXhIb29rczoge30sXG5cbiAga2V5SG9va3M6IHtcbiAgICBwcm9wczogXCJjaGFyIGNoYXJDb2RlIGtleSBrZXlDb2RlXCIuc3BsaXQoXCIgXCIpLFxuICAgIGZpbHRlcjogZnVuY3Rpb24oIGV2ZW50LCBvcmlnaW5hbCApIHtcblxuICAgICAgLy8gQWRkIHdoaWNoIGZvciBrZXkgZXZlbnRzXG4gICAgICBpZiAoIGV2ZW50LndoaWNoID09IG51bGwgKSB7XG4gICAgICAgIGV2ZW50LndoaWNoID0gb3JpZ2luYWwuY2hhckNvZGUgIT0gbnVsbCA/IG9yaWdpbmFsLmNoYXJDb2RlIDogb3JpZ2luYWwua2V5Q29kZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGV2ZW50O1xuICAgIH1cbiAgfSxcblxuICBtb3VzZUhvb2tzOiB7XG4gICAgcHJvcHM6IFwiYnV0dG9uIGJ1dHRvbnMgY2xpZW50WCBjbGllbnRZIGZyb21FbGVtZW50IG9mZnNldFggb2Zmc2V0WSBwYWdlWCBwYWdlWSBzY3JlZW5YIHNjcmVlblkgdG9FbGVtZW50XCIuc3BsaXQoXCIgXCIpLFxuICAgIGZpbHRlcjogZnVuY3Rpb24oIGV2ZW50LCBvcmlnaW5hbCApIHtcbiAgICAgIHZhciBib2R5LCBldmVudERvYywgZG9jLFxuICAgICAgICBidXR0b24gPSBvcmlnaW5hbC5idXR0b24sXG4gICAgICAgIGZyb21FbGVtZW50ID0gb3JpZ2luYWwuZnJvbUVsZW1lbnQ7XG5cbiAgICAgIC8vIENhbGN1bGF0ZSBwYWdlWC9ZIGlmIG1pc3NpbmcgYW5kIGNsaWVudFgvWSBhdmFpbGFibGVcbiAgICAgIGlmICggZXZlbnQucGFnZVggPT0gbnVsbCAmJiBvcmlnaW5hbC5jbGllbnRYICE9IG51bGwgKSB7XG4gICAgICAgIGV2ZW50RG9jID0gZXZlbnQudGFyZ2V0Lm93bmVyRG9jdW1lbnQgfHwgZG9jdW1lbnQ7XG4gICAgICAgIGRvYyA9IGV2ZW50RG9jLmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgYm9keSA9IGV2ZW50RG9jLmJvZHk7XG5cbiAgICAgICAgZXZlbnQucGFnZVggPSBvcmlnaW5hbC5jbGllbnRYICsgKCBkb2MgJiYgZG9jLnNjcm9sbExlZnQgfHwgYm9keSAmJiBib2R5LnNjcm9sbExlZnQgfHwgMCApIC0gKCBkb2MgJiYgZG9jLmNsaWVudExlZnQgfHwgYm9keSAmJiBib2R5LmNsaWVudExlZnQgfHwgMCApO1xuICAgICAgICBldmVudC5wYWdlWSA9IG9yaWdpbmFsLmNsaWVudFkgKyAoIGRvYyAmJiBkb2Muc2Nyb2xsVG9wICB8fCBib2R5ICYmIGJvZHkuc2Nyb2xsVG9wICB8fCAwICkgLSAoIGRvYyAmJiBkb2MuY2xpZW50VG9wICB8fCBib2R5ICYmIGJvZHkuY2xpZW50VG9wICB8fCAwICk7XG4gICAgICB9XG5cbiAgICAgIC8vIEFkZCByZWxhdGVkVGFyZ2V0LCBpZiBuZWNlc3NhcnlcbiAgICAgIGlmICggIWV2ZW50LnJlbGF0ZWRUYXJnZXQgJiYgZnJvbUVsZW1lbnQgKSB7XG4gICAgICAgIGV2ZW50LnJlbGF0ZWRUYXJnZXQgPSBmcm9tRWxlbWVudCA9PT0gZXZlbnQudGFyZ2V0ID8gb3JpZ2luYWwudG9FbGVtZW50IDogZnJvbUVsZW1lbnQ7XG4gICAgICB9XG5cbiAgICAgIC8vIEFkZCB3aGljaCBmb3IgY2xpY2s6IDEgPT09IGxlZnQ7IDIgPT09IG1pZGRsZTsgMyA9PT0gcmlnaHRcbiAgICAgIC8vIE5vdGU6IGJ1dHRvbiBpcyBub3Qgbm9ybWFsaXplZCwgc28gZG9uJ3QgdXNlIGl0XG4gICAgICBpZiAoICFldmVudC53aGljaCAmJiBidXR0b24gIT09IHVuZGVmaW5lZCApIHtcbiAgICAgICAgZXZlbnQud2hpY2ggPSAoIGJ1dHRvbiAmIDEgPyAxIDogKCBidXR0b24gJiAyID8gMyA6ICggYnV0dG9uICYgNCA/IDIgOiAwICkgKSApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZXZlbnQ7XG4gICAgfVxuICB9LFxuXG4gIHNwZWNpYWw6IHtcbiAgICBsb2FkOiB7XG4gICAgICAvLyBQcmV2ZW50IHRyaWdnZXJlZCBpbWFnZS5sb2FkIGV2ZW50cyBmcm9tIGJ1YmJsaW5nIHRvIHdpbmRvdy5sb2FkXG4gICAgICBub0J1YmJsZTogdHJ1ZVxuICAgIH0sXG4gICAgZm9jdXM6IHtcbiAgICAgIC8vIEZpcmUgbmF0aXZlIGV2ZW50IGlmIHBvc3NpYmxlIHNvIGJsdXIvZm9jdXMgc2VxdWVuY2UgaXMgY29ycmVjdFxuICAgICAgdHJpZ2dlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICggdGhpcyAhPT0gc2FmZUFjdGl2ZUVsZW1lbnQoKSAmJiB0aGlzLmZvY3VzICkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmZvY3VzKCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfSBjYXRjaCAoIGUgKSB7XG4gICAgICAgICAgICAvLyBTdXBwb3J0OiBJRTw5XG4gICAgICAgICAgICAvLyBJZiB3ZSBlcnJvciBvbiBmb2N1cyB0byBoaWRkZW4gZWxlbWVudCAoIzE0ODYsICMxMjUxOCksXG4gICAgICAgICAgICAvLyBsZXQgLnRyaWdnZXIoKSBydW4gdGhlIGhhbmRsZXJzXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZGVsZWdhdGVUeXBlOiBcImZvY3VzaW5cIlxuICAgIH0sXG4gICAgYmx1cjoge1xuICAgICAgdHJpZ2dlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICggdGhpcyA9PT0gc2FmZUFjdGl2ZUVsZW1lbnQoKSAmJiB0aGlzLmJsdXIgKSB7XG4gICAgICAgICAgdGhpcy5ibHVyKCk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZGVsZWdhdGVUeXBlOiBcImZvY3Vzb3V0XCJcbiAgICB9LFxuICAgIGNsaWNrOiB7XG4gICAgICAvLyBGb3IgY2hlY2tib3gsIGZpcmUgbmF0aXZlIGV2ZW50IHNvIGNoZWNrZWQgc3RhdGUgd2lsbCBiZSByaWdodFxuICAgICAgdHJpZ2dlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICggalF1ZXJ5Lm5vZGVOYW1lKCB0aGlzLCBcImlucHV0XCIgKSAmJiB0aGlzLnR5cGUgPT09IFwiY2hlY2tib3hcIiAmJiB0aGlzLmNsaWNrICkge1xuICAgICAgICAgIHRoaXMuY2xpY2soKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIC8vIEZvciBjcm9zcy1icm93c2VyIGNvbnNpc3RlbmN5LCBkb24ndCBmaXJlIG5hdGl2ZSAuY2xpY2soKSBvbiBsaW5rc1xuICAgICAgX2RlZmF1bHQ6IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgICAgICAgcmV0dXJuIGpRdWVyeS5ub2RlTmFtZSggZXZlbnQudGFyZ2V0LCBcImFcIiApO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBiZWZvcmV1bmxvYWQ6IHtcbiAgICAgIHBvc3REaXNwYXRjaDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXG4gICAgICAgIC8vIFN1cHBvcnQ6IEZpcmVmb3ggMjArXG4gICAgICAgIC8vIEZpcmVmb3ggZG9lc24ndCBhbGVydCBpZiB0aGUgcmV0dXJuVmFsdWUgZmllbGQgaXMgbm90IHNldC5cbiAgICAgICAgaWYgKCBldmVudC5yZXN1bHQgIT09IHVuZGVmaW5lZCAmJiBldmVudC5vcmlnaW5hbEV2ZW50ICkge1xuICAgICAgICAgIGV2ZW50Lm9yaWdpbmFsRXZlbnQucmV0dXJuVmFsdWUgPSBldmVudC5yZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgc2ltdWxhdGU6IGZ1bmN0aW9uKCB0eXBlLCBlbGVtLCBldmVudCwgYnViYmxlICkge1xuICAgIC8vIFBpZ2d5YmFjayBvbiBhIGRvbm9yIGV2ZW50IHRvIHNpbXVsYXRlIGEgZGlmZmVyZW50IG9uZS5cbiAgICAvLyBGYWtlIG9yaWdpbmFsRXZlbnQgdG8gYXZvaWQgZG9ub3IncyBzdG9wUHJvcGFnYXRpb24sIGJ1dCBpZiB0aGVcbiAgICAvLyBzaW11bGF0ZWQgZXZlbnQgcHJldmVudHMgZGVmYXVsdCB0aGVuIHdlIGRvIHRoZSBzYW1lIG9uIHRoZSBkb25vci5cbiAgICB2YXIgZSA9IGpRdWVyeS5leHRlbmQoXG4gICAgICBuZXcgalF1ZXJ5LkV2ZW50KCksXG4gICAgICBldmVudCxcbiAgICAgIHtcbiAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgaXNTaW11bGF0ZWQ6IHRydWUsXG4gICAgICAgIG9yaWdpbmFsRXZlbnQ6IHt9XG4gICAgICB9XG4gICAgKTtcbiAgICBpZiAoIGJ1YmJsZSApIHtcbiAgICAgIGpRdWVyeS5ldmVudC50cmlnZ2VyKCBlLCBudWxsLCBlbGVtICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGpRdWVyeS5ldmVudC5kaXNwYXRjaC5jYWxsKCBlbGVtLCBlICk7XG4gICAgfVxuICAgIGlmICggZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSApIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9XG59O1xuXG5qUXVlcnkucmVtb3ZlRXZlbnQgPSBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyID9cbiAgZnVuY3Rpb24oIGVsZW0sIHR5cGUsIGhhbmRsZSApIHtcbiAgICBpZiAoIGVsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lciApIHtcbiAgICAgIGVsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lciggdHlwZSwgaGFuZGxlLCBmYWxzZSApO1xuICAgIH1cbiAgfSA6XG4gIGZ1bmN0aW9uKCBlbGVtLCB0eXBlLCBoYW5kbGUgKSB7XG4gICAgdmFyIG5hbWUgPSBcIm9uXCIgKyB0eXBlO1xuXG4gICAgaWYgKCBlbGVtLmRldGFjaEV2ZW50ICkge1xuXG4gICAgICAvLyAjODU0NSwgIzcwNTQsIHByZXZlbnRpbmcgbWVtb3J5IGxlYWtzIGZvciBjdXN0b20gZXZlbnRzIGluIElFNi04XG4gICAgICAvLyBkZXRhY2hFdmVudCBuZWVkZWQgcHJvcGVydHkgb24gZWxlbWVudCwgYnkgbmFtZSBvZiB0aGF0IGV2ZW50LCB0byBwcm9wZXJseSBleHBvc2UgaXQgdG8gR0NcbiAgICAgIGlmICggdHlwZW9mIGVsZW1bIG5hbWUgXSA9PT0gc3RydW5kZWZpbmVkICkge1xuICAgICAgICBlbGVtWyBuYW1lIF0gPSBudWxsO1xuICAgICAgfVxuXG4gICAgICBlbGVtLmRldGFjaEV2ZW50KCBuYW1lLCBoYW5kbGUgKTtcbiAgICB9XG4gIH07XG5cbmpRdWVyeS5FdmVudCA9IGZ1bmN0aW9uKCBzcmMsIHByb3BzICkge1xuICAvLyBBbGxvdyBpbnN0YW50aWF0aW9uIHdpdGhvdXQgdGhlICduZXcnIGtleXdvcmRcbiAgaWYgKCAhKHRoaXMgaW5zdGFuY2VvZiBqUXVlcnkuRXZlbnQpICkge1xuICAgIHJldHVybiBuZXcgalF1ZXJ5LkV2ZW50KCBzcmMsIHByb3BzICk7XG4gIH1cblxuICAvLyBFdmVudCBvYmplY3RcbiAgaWYgKCBzcmMgJiYgc3JjLnR5cGUgKSB7XG4gICAgdGhpcy5vcmlnaW5hbEV2ZW50ID0gc3JjO1xuICAgIHRoaXMudHlwZSA9IHNyYy50eXBlO1xuXG4gICAgLy8gRXZlbnRzIGJ1YmJsaW5nIHVwIHRoZSBkb2N1bWVudCBtYXkgaGF2ZSBiZWVuIG1hcmtlZCBhcyBwcmV2ZW50ZWRcbiAgICAvLyBieSBhIGhhbmRsZXIgbG93ZXIgZG93biB0aGUgdHJlZTsgcmVmbGVjdCB0aGUgY29ycmVjdCB2YWx1ZS5cbiAgICB0aGlzLmlzRGVmYXVsdFByZXZlbnRlZCA9IHNyYy5kZWZhdWx0UHJldmVudGVkIHx8XG4gICAgICAgIHNyYy5kZWZhdWx0UHJldmVudGVkID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgLy8gU3VwcG9ydDogSUUgPCA5LCBBbmRyb2lkIDwgNC4wXG4gICAgICAgIHNyYy5yZXR1cm5WYWx1ZSA9PT0gZmFsc2UgP1xuICAgICAgcmV0dXJuVHJ1ZSA6XG4gICAgICByZXR1cm5GYWxzZTtcblxuICAvLyBFdmVudCB0eXBlXG4gIH0gZWxzZSB7XG4gICAgdGhpcy50eXBlID0gc3JjO1xuICB9XG5cbiAgLy8gUHV0IGV4cGxpY2l0bHkgcHJvdmlkZWQgcHJvcGVydGllcyBvbnRvIHRoZSBldmVudCBvYmplY3RcbiAgaWYgKCBwcm9wcyApIHtcbiAgICBqUXVlcnkuZXh0ZW5kKCB0aGlzLCBwcm9wcyApO1xuICB9XG5cbiAgLy8gQ3JlYXRlIGEgdGltZXN0YW1wIGlmIGluY29taW5nIGV2ZW50IGRvZXNuJ3QgaGF2ZSBvbmVcbiAgdGhpcy50aW1lU3RhbXAgPSBzcmMgJiYgc3JjLnRpbWVTdGFtcCB8fCBqUXVlcnkubm93KCk7XG5cbiAgLy8gTWFyayBpdCBhcyBmaXhlZFxuICB0aGlzWyBqUXVlcnkuZXhwYW5kbyBdID0gdHJ1ZTtcbn07XG5cbi8vIGpRdWVyeS5FdmVudCBpcyBiYXNlZCBvbiBET00zIEV2ZW50cyBhcyBzcGVjaWZpZWQgYnkgdGhlIEVDTUFTY3JpcHQgTGFuZ3VhZ2UgQmluZGluZ1xuLy8gaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMy9XRC1ET00tTGV2ZWwtMy1FdmVudHMtMjAwMzAzMzEvZWNtYS1zY3JpcHQtYmluZGluZy5odG1sXG5qUXVlcnkuRXZlbnQucHJvdG90eXBlID0ge1xuICBpc0RlZmF1bHRQcmV2ZW50ZWQ6IHJldHVybkZhbHNlLFxuICBpc1Byb3BhZ2F0aW9uU3RvcHBlZDogcmV0dXJuRmFsc2UsXG4gIGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOiByZXR1cm5GYWxzZSxcblxuICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGUgPSB0aGlzLm9yaWdpbmFsRXZlbnQ7XG5cbiAgICB0aGlzLmlzRGVmYXVsdFByZXZlbnRlZCA9IHJldHVyblRydWU7XG4gICAgaWYgKCAhZSApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJZiBwcmV2ZW50RGVmYXVsdCBleGlzdHMsIHJ1biBpdCBvbiB0aGUgb3JpZ2luYWwgZXZlbnRcbiAgICBpZiAoIGUucHJldmVudERlZmF1bHQgKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAvLyBTdXBwb3J0OiBJRVxuICAgIC8vIE90aGVyd2lzZSBzZXQgdGhlIHJldHVyblZhbHVlIHByb3BlcnR5IG9mIHRoZSBvcmlnaW5hbCBldmVudCB0byBmYWxzZVxuICAgIH0gZWxzZSB7XG4gICAgICBlLnJldHVyblZhbHVlID0gZmFsc2U7XG4gICAgfVxuICB9LFxuICBzdG9wUHJvcGFnYXRpb246IGZ1bmN0aW9uKCkge1xuICAgIHZhciBlID0gdGhpcy5vcmlnaW5hbEV2ZW50O1xuXG4gICAgdGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZCA9IHJldHVyblRydWU7XG4gICAgaWYgKCAhZSApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gSWYgc3RvcFByb3BhZ2F0aW9uIGV4aXN0cywgcnVuIGl0IG9uIHRoZSBvcmlnaW5hbCBldmVudFxuICAgIGlmICggZS5zdG9wUHJvcGFnYXRpb24gKSB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH1cblxuICAgIC8vIFN1cHBvcnQ6IElFXG4gICAgLy8gU2V0IHRoZSBjYW5jZWxCdWJibGUgcHJvcGVydHkgb2YgdGhlIG9yaWdpbmFsIGV2ZW50IHRvIHRydWVcbiAgICBlLmNhbmNlbEJ1YmJsZSA9IHRydWU7XG4gIH0sXG4gIHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGUgPSB0aGlzLm9yaWdpbmFsRXZlbnQ7XG5cbiAgICB0aGlzLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID0gcmV0dXJuVHJ1ZTtcblxuICAgIGlmICggZSAmJiBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiApIHtcbiAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgfVxuXG4gICAgdGhpcy5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfVxufTtcblxuLy8gQ3JlYXRlIG1vdXNlZW50ZXIvbGVhdmUgZXZlbnRzIHVzaW5nIG1vdXNlb3Zlci9vdXQgYW5kIGV2ZW50LXRpbWUgY2hlY2tzXG5qUXVlcnkuZWFjaCh7XG4gIG1vdXNlZW50ZXI6IFwibW91c2VvdmVyXCIsXG4gIG1vdXNlbGVhdmU6IFwibW91c2VvdXRcIixcbiAgcG9pbnRlcmVudGVyOiBcInBvaW50ZXJvdmVyXCIsXG4gIHBvaW50ZXJsZWF2ZTogXCJwb2ludGVyb3V0XCJcbn0sIGZ1bmN0aW9uKCBvcmlnLCBmaXggKSB7XG4gIGpRdWVyeS5ldmVudC5zcGVjaWFsWyBvcmlnIF0gPSB7XG4gICAgZGVsZWdhdGVUeXBlOiBmaXgsXG4gICAgYmluZFR5cGU6IGZpeCxcblxuICAgIGhhbmRsZTogZnVuY3Rpb24oIGV2ZW50ICkge1xuICAgICAgdmFyIHJldCxcbiAgICAgICAgdGFyZ2V0ID0gdGhpcyxcbiAgICAgICAgcmVsYXRlZCA9IGV2ZW50LnJlbGF0ZWRUYXJnZXQsXG4gICAgICAgIGhhbmRsZU9iaiA9IGV2ZW50LmhhbmRsZU9iajtcblxuICAgICAgLy8gRm9yIG1vdXNlbnRlci9sZWF2ZSBjYWxsIHRoZSBoYW5kbGVyIGlmIHJlbGF0ZWQgaXMgb3V0c2lkZSB0aGUgdGFyZ2V0LlxuICAgICAgLy8gTkI6IE5vIHJlbGF0ZWRUYXJnZXQgaWYgdGhlIG1vdXNlIGxlZnQvZW50ZXJlZCB0aGUgYnJvd3NlciB3aW5kb3dcbiAgICAgIGlmICggIXJlbGF0ZWQgfHwgKHJlbGF0ZWQgIT09IHRhcmdldCAmJiAhalF1ZXJ5LmNvbnRhaW5zKCB0YXJnZXQsIHJlbGF0ZWQgKSkgKSB7XG4gICAgICAgIGV2ZW50LnR5cGUgPSBoYW5kbGVPYmoub3JpZ1R5cGU7XG4gICAgICAgIHJldCA9IGhhbmRsZU9iai5oYW5kbGVyLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcbiAgICAgICAgZXZlbnQudHlwZSA9IGZpeDtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICB9O1xufSk7XG5cbi8vIElFIHN1Ym1pdCBkZWxlZ2F0aW9uXG5pZiAoICFzdXBwb3J0LnN1Ym1pdEJ1YmJsZXMgKSB7XG5cbiAgalF1ZXJ5LmV2ZW50LnNwZWNpYWwuc3VibWl0ID0ge1xuICAgIHNldHVwOiBmdW5jdGlvbigpIHtcbiAgICAgIC8vIE9ubHkgbmVlZCB0aGlzIGZvciBkZWxlZ2F0ZWQgZm9ybSBzdWJtaXQgZXZlbnRzXG4gICAgICBpZiAoIGpRdWVyeS5ub2RlTmFtZSggdGhpcywgXCJmb3JtXCIgKSApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvLyBMYXp5LWFkZCBhIHN1Ym1pdCBoYW5kbGVyIHdoZW4gYSBkZXNjZW5kYW50IGZvcm0gbWF5IHBvdGVudGlhbGx5IGJlIHN1Ym1pdHRlZFxuICAgICAgalF1ZXJ5LmV2ZW50LmFkZCggdGhpcywgXCJjbGljay5fc3VibWl0IGtleXByZXNzLl9zdWJtaXRcIiwgZnVuY3Rpb24oIGUgKSB7XG4gICAgICAgIC8vIE5vZGUgbmFtZSBjaGVjayBhdm9pZHMgYSBWTUwtcmVsYXRlZCBjcmFzaCBpbiBJRSAoIzk4MDcpXG4gICAgICAgIHZhciBlbGVtID0gZS50YXJnZXQsXG4gICAgICAgICAgZm9ybSA9IGpRdWVyeS5ub2RlTmFtZSggZWxlbSwgXCJpbnB1dFwiICkgfHwgalF1ZXJ5Lm5vZGVOYW1lKCBlbGVtLCBcImJ1dHRvblwiICkgPyBlbGVtLmZvcm0gOiB1bmRlZmluZWQ7XG4gICAgICAgIGlmICggZm9ybSAmJiAhalF1ZXJ5Ll9kYXRhKCBmb3JtLCBcInN1Ym1pdEJ1YmJsZXNcIiApICkge1xuICAgICAgICAgIGpRdWVyeS5ldmVudC5hZGQoIGZvcm0sIFwic3VibWl0Ll9zdWJtaXRcIiwgZnVuY3Rpb24oIGV2ZW50ICkge1xuICAgICAgICAgICAgZXZlbnQuX3N1Ym1pdF9idWJibGUgPSB0cnVlO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGpRdWVyeS5fZGF0YSggZm9ybSwgXCJzdWJtaXRCdWJibGVzXCIsIHRydWUgKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAvLyByZXR1cm4gdW5kZWZpbmVkIHNpbmNlIHdlIGRvbid0IG5lZWQgYW4gZXZlbnQgbGlzdGVuZXJcbiAgICB9LFxuXG4gICAgcG9zdERpc3BhdGNoOiBmdW5jdGlvbiggZXZlbnQgKSB7XG4gICAgICAvLyBJZiBmb3JtIHdhcyBzdWJtaXR0ZWQgYnkgdGhlIHVzZXIsIGJ1YmJsZSB0aGUgZXZlbnQgdXAgdGhlIHRyZWVcbiAgICAgIGlmICggZXZlbnQuX3N1Ym1pdF9idWJibGUgKSB7XG4gICAgICAgIGRlbGV0ZSBldmVudC5fc3VibWl0X2J1YmJsZTtcbiAgICAgICAgaWYgKCB0aGlzLnBhcmVudE5vZGUgJiYgIWV2ZW50LmlzVHJpZ2dlciApIHtcbiAgICAgICAgICBqUXVlcnkuZXZlbnQuc2ltdWxhdGUoIFwic3VibWl0XCIsIHRoaXMucGFyZW50Tm9kZSwgZXZlbnQsIHRydWUgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICB0ZWFyZG93bjogZnVuY3Rpb24oKSB7XG4gICAgICAvLyBPbmx5IG5lZWQgdGhpcyBmb3IgZGVsZWdhdGVkIGZvcm0gc3VibWl0IGV2ZW50c1xuICAgICAgaWYgKCBqUXVlcnkubm9kZU5hbWUoIHRoaXMsIFwiZm9ybVwiICkgKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgLy8gUmVtb3ZlIGRlbGVnYXRlZCBoYW5kbGVyczsgY2xlYW5EYXRhIGV2ZW50dWFsbHkgcmVhcHMgc3VibWl0IGhhbmRsZXJzIGF0dGFjaGVkIGFib3ZlXG4gICAgICBqUXVlcnkuZXZlbnQucmVtb3ZlKCB0aGlzLCBcIi5fc3VibWl0XCIgKTtcbiAgICB9XG4gIH07XG59XG5cbi8vIElFIGNoYW5nZSBkZWxlZ2F0aW9uIGFuZCBjaGVja2JveC9yYWRpbyBmaXhcbmlmICggIXN1cHBvcnQuY2hhbmdlQnViYmxlcyApIHtcblxuICBqUXVlcnkuZXZlbnQuc3BlY2lhbC5jaGFuZ2UgPSB7XG5cbiAgICBzZXR1cDogZnVuY3Rpb24oKSB7XG5cbiAgICAgIGlmICggcmZvcm1FbGVtcy50ZXN0KCB0aGlzLm5vZGVOYW1lICkgKSB7XG4gICAgICAgIC8vIElFIGRvZXNuJ3QgZmlyZSBjaGFuZ2Ugb24gYSBjaGVjay9yYWRpbyB1bnRpbCBibHVyOyB0cmlnZ2VyIGl0IG9uIGNsaWNrXG4gICAgICAgIC8vIGFmdGVyIGEgcHJvcGVydHljaGFuZ2UuIEVhdCB0aGUgYmx1ci1jaGFuZ2UgaW4gc3BlY2lhbC5jaGFuZ2UuaGFuZGxlLlxuICAgICAgICAvLyBUaGlzIHN0aWxsIGZpcmVzIG9uY2hhbmdlIGEgc2Vjb25kIHRpbWUgZm9yIGNoZWNrL3JhZGlvIGFmdGVyIGJsdXIuXG4gICAgICAgIGlmICggdGhpcy50eXBlID09PSBcImNoZWNrYm94XCIgfHwgdGhpcy50eXBlID09PSBcInJhZGlvXCIgKSB7XG4gICAgICAgICAgalF1ZXJ5LmV2ZW50LmFkZCggdGhpcywgXCJwcm9wZXJ0eWNoYW5nZS5fY2hhbmdlXCIsIGZ1bmN0aW9uKCBldmVudCApIHtcbiAgICAgICAgICAgIGlmICggZXZlbnQub3JpZ2luYWxFdmVudC5wcm9wZXJ0eU5hbWUgPT09IFwiY2hlY2tlZFwiICkge1xuICAgICAgICAgICAgICB0aGlzLl9qdXN0X2NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGpRdWVyeS5ldmVudC5hZGQoIHRoaXMsIFwiY2xpY2suX2NoYW5nZVwiLCBmdW5jdGlvbiggZXZlbnQgKSB7XG4gICAgICAgICAgICBpZiAoIHRoaXMuX2p1c3RfY2hhbmdlZCAmJiAhZXZlbnQuaXNUcmlnZ2VyICkge1xuICAgICAgICAgICAgICB0aGlzLl9qdXN0X2NoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEFsbG93IHRyaWdnZXJlZCwgc2ltdWxhdGVkIGNoYW5nZSBldmVudHMgKCMxMTUwMClcbiAgICAgICAgICAgIGpRdWVyeS5ldmVudC5zaW11bGF0ZSggXCJjaGFuZ2VcIiwgdGhpcywgZXZlbnQsIHRydWUgKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICAvLyBEZWxlZ2F0ZWQgZXZlbnQ7IGxhenktYWRkIGEgY2hhbmdlIGhhbmRsZXIgb24gZGVzY2VuZGFudCBpbnB1dHNcbiAgICAgIGpRdWVyeS5ldmVudC5hZGQoIHRoaXMsIFwiYmVmb3JlYWN0aXZhdGUuX2NoYW5nZVwiLCBmdW5jdGlvbiggZSApIHtcbiAgICAgICAgdmFyIGVsZW0gPSBlLnRhcmdldDtcblxuICAgICAgICBpZiAoIHJmb3JtRWxlbXMudGVzdCggZWxlbS5ub2RlTmFtZSApICYmICFqUXVlcnkuX2RhdGEoIGVsZW0sIFwiY2hhbmdlQnViYmxlc1wiICkgKSB7XG4gICAgICAgICAgalF1ZXJ5LmV2ZW50LmFkZCggZWxlbSwgXCJjaGFuZ2UuX2NoYW5nZVwiLCBmdW5jdGlvbiggZXZlbnQgKSB7XG4gICAgICAgICAgICBpZiAoIHRoaXMucGFyZW50Tm9kZSAmJiAhZXZlbnQuaXNTaW11bGF0ZWQgJiYgIWV2ZW50LmlzVHJpZ2dlciApIHtcbiAgICAgICAgICAgICAgalF1ZXJ5LmV2ZW50LnNpbXVsYXRlKCBcImNoYW5nZVwiLCB0aGlzLnBhcmVudE5vZGUsIGV2ZW50LCB0cnVlICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgalF1ZXJ5Ll9kYXRhKCBlbGVtLCBcImNoYW5nZUJ1YmJsZXNcIiwgdHJ1ZSApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgaGFuZGxlOiBmdW5jdGlvbiggZXZlbnQgKSB7XG4gICAgICB2YXIgZWxlbSA9IGV2ZW50LnRhcmdldDtcblxuICAgICAgLy8gU3dhbGxvdyBuYXRpdmUgY2hhbmdlIGV2ZW50cyBmcm9tIGNoZWNrYm94L3JhZGlvLCB3ZSBhbHJlYWR5IHRyaWdnZXJlZCB0aGVtIGFib3ZlXG4gICAgICBpZiAoIHRoaXMgIT09IGVsZW0gfHwgZXZlbnQuaXNTaW11bGF0ZWQgfHwgZXZlbnQuaXNUcmlnZ2VyIHx8IChlbGVtLnR5cGUgIT09IFwicmFkaW9cIiAmJiBlbGVtLnR5cGUgIT09IFwiY2hlY2tib3hcIikgKSB7XG4gICAgICAgIHJldHVybiBldmVudC5oYW5kbGVPYmouaGFuZGxlci5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHRlYXJkb3duOiBmdW5jdGlvbigpIHtcbiAgICAgIGpRdWVyeS5ldmVudC5yZW1vdmUoIHRoaXMsIFwiLl9jaGFuZ2VcIiApO1xuXG4gICAgICByZXR1cm4gIXJmb3JtRWxlbXMudGVzdCggdGhpcy5ub2RlTmFtZSApO1xuICAgIH1cbiAgfTtcbn1cblxuLy8gQ3JlYXRlIFwiYnViYmxpbmdcIiBmb2N1cyBhbmQgYmx1ciBldmVudHNcbmlmICggIXN1cHBvcnQuZm9jdXNpbkJ1YmJsZXMgKSB7XG4gIGpRdWVyeS5lYWNoKHsgZm9jdXM6IFwiZm9jdXNpblwiLCBibHVyOiBcImZvY3Vzb3V0XCIgfSwgZnVuY3Rpb24oIG9yaWcsIGZpeCApIHtcblxuICAgIC8vIEF0dGFjaCBhIHNpbmdsZSBjYXB0dXJpbmcgaGFuZGxlciBvbiB0aGUgZG9jdW1lbnQgd2hpbGUgc29tZW9uZSB3YW50cyBmb2N1c2luL2ZvY3Vzb3V0XG4gICAgdmFyIGhhbmRsZXIgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gICAgICAgIGpRdWVyeS5ldmVudC5zaW11bGF0ZSggZml4LCBldmVudC50YXJnZXQsIGpRdWVyeS5ldmVudC5maXgoIGV2ZW50ICksIHRydWUgKTtcbiAgICAgIH07XG5cbiAgICBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgZml4IF0gPSB7XG4gICAgICBzZXR1cDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBkb2MgPSB0aGlzLm93bmVyRG9jdW1lbnQgfHwgdGhpcyxcbiAgICAgICAgICBhdHRhY2hlcyA9IGpRdWVyeS5fZGF0YSggZG9jLCBmaXggKTtcblxuICAgICAgICBpZiAoICFhdHRhY2hlcyApIHtcbiAgICAgICAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lciggb3JpZywgaGFuZGxlciwgdHJ1ZSApO1xuICAgICAgICB9XG4gICAgICAgIGpRdWVyeS5fZGF0YSggZG9jLCBmaXgsICggYXR0YWNoZXMgfHwgMCApICsgMSApO1xuICAgICAgfSxcbiAgICAgIHRlYXJkb3duOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGRvYyA9IHRoaXMub3duZXJEb2N1bWVudCB8fCB0aGlzLFxuICAgICAgICAgIGF0dGFjaGVzID0galF1ZXJ5Ll9kYXRhKCBkb2MsIGZpeCApIC0gMTtcblxuICAgICAgICBpZiAoICFhdHRhY2hlcyApIHtcbiAgICAgICAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lciggb3JpZywgaGFuZGxlciwgdHJ1ZSApO1xuICAgICAgICAgIGpRdWVyeS5fcmVtb3ZlRGF0YSggZG9jLCBmaXggKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBqUXVlcnkuX2RhdGEoIGRvYywgZml4LCBhdHRhY2hlcyApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG59XG5cbmpRdWVyeS5mbi5leHRlbmQoe1xuXG4gIG9uOiBmdW5jdGlvbiggdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiwgLypJTlRFUk5BTCovIG9uZSApIHtcbiAgICB2YXIgdHlwZSwgb3JpZ0ZuO1xuXG4gICAgLy8gVHlwZXMgY2FuIGJlIGEgbWFwIG9mIHR5cGVzL2hhbmRsZXJzXG4gICAgaWYgKCB0eXBlb2YgdHlwZXMgPT09IFwib2JqZWN0XCIgKSB7XG4gICAgICAvLyAoIHR5cGVzLU9iamVjdCwgc2VsZWN0b3IsIGRhdGEgKVxuICAgICAgaWYgKCB0eXBlb2Ygc2VsZWN0b3IgIT09IFwic3RyaW5nXCIgKSB7XG4gICAgICAgIC8vICggdHlwZXMtT2JqZWN0LCBkYXRhIClcbiAgICAgICAgZGF0YSA9IGRhdGEgfHwgc2VsZWN0b3I7XG4gICAgICAgIHNlbGVjdG9yID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgZm9yICggdHlwZSBpbiB0eXBlcyApIHtcbiAgICAgICAgdGhpcy5vbiggdHlwZSwgc2VsZWN0b3IsIGRhdGEsIHR5cGVzWyB0eXBlIF0sIG9uZSApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgaWYgKCBkYXRhID09IG51bGwgJiYgZm4gPT0gbnVsbCApIHtcbiAgICAgIC8vICggdHlwZXMsIGZuIClcbiAgICAgIGZuID0gc2VsZWN0b3I7XG4gICAgICBkYXRhID0gc2VsZWN0b3IgPSB1bmRlZmluZWQ7XG4gICAgfSBlbHNlIGlmICggZm4gPT0gbnVsbCApIHtcbiAgICAgIGlmICggdHlwZW9mIHNlbGVjdG9yID09PSBcInN0cmluZ1wiICkge1xuICAgICAgICAvLyAoIHR5cGVzLCBzZWxlY3RvciwgZm4gKVxuICAgICAgICBmbiA9IGRhdGE7XG4gICAgICAgIGRhdGEgPSB1bmRlZmluZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyAoIHR5cGVzLCBkYXRhLCBmbiApXG4gICAgICAgIGZuID0gZGF0YTtcbiAgICAgICAgZGF0YSA9IHNlbGVjdG9yO1xuICAgICAgICBzZWxlY3RvciA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCBmbiA9PT0gZmFsc2UgKSB7XG4gICAgICBmbiA9IHJldHVybkZhbHNlO1xuICAgIH0gZWxzZSBpZiAoICFmbiApIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGlmICggb25lID09PSAxICkge1xuICAgICAgb3JpZ0ZuID0gZm47XG4gICAgICBmbiA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgICAgICAgLy8gQ2FuIHVzZSBhbiBlbXB0eSBzZXQsIHNpbmNlIGV2ZW50IGNvbnRhaW5zIHRoZSBpbmZvXG4gICAgICAgIGpRdWVyeSgpLm9mZiggZXZlbnQgKTtcbiAgICAgICAgcmV0dXJuIG9yaWdGbi5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG4gICAgICB9O1xuICAgICAgLy8gVXNlIHNhbWUgZ3VpZCBzbyBjYWxsZXIgY2FuIHJlbW92ZSB1c2luZyBvcmlnRm5cbiAgICAgIGZuLmd1aWQgPSBvcmlnRm4uZ3VpZCB8fCAoIG9yaWdGbi5ndWlkID0galF1ZXJ5Lmd1aWQrKyApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcbiAgICAgIGpRdWVyeS5ldmVudC5hZGQoIHRoaXMsIHR5cGVzLCBmbiwgZGF0YSwgc2VsZWN0b3IgKTtcbiAgICB9KTtcbiAgfSxcbiAgb25lOiBmdW5jdGlvbiggdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiApIHtcbiAgICByZXR1cm4gdGhpcy5vbiggdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiwgMSApO1xuICB9LFxuICBvZmY6IGZ1bmN0aW9uKCB0eXBlcywgc2VsZWN0b3IsIGZuICkge1xuICAgIHZhciBoYW5kbGVPYmosIHR5cGU7XG4gICAgaWYgKCB0eXBlcyAmJiB0eXBlcy5wcmV2ZW50RGVmYXVsdCAmJiB0eXBlcy5oYW5kbGVPYmogKSB7XG4gICAgICAvLyAoIGV2ZW50ICkgIGRpc3BhdGNoZWQgalF1ZXJ5LkV2ZW50XG4gICAgICBoYW5kbGVPYmogPSB0eXBlcy5oYW5kbGVPYmo7XG4gICAgICBqUXVlcnkoIHR5cGVzLmRlbGVnYXRlVGFyZ2V0ICkub2ZmKFxuICAgICAgICBoYW5kbGVPYmoubmFtZXNwYWNlID8gaGFuZGxlT2JqLm9yaWdUeXBlICsgXCIuXCIgKyBoYW5kbGVPYmoubmFtZXNwYWNlIDogaGFuZGxlT2JqLm9yaWdUeXBlLFxuICAgICAgICBoYW5kbGVPYmouc2VsZWN0b3IsXG4gICAgICAgIGhhbmRsZU9iai5oYW5kbGVyXG4gICAgICApO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGlmICggdHlwZW9mIHR5cGVzID09PSBcIm9iamVjdFwiICkge1xuICAgICAgLy8gKCB0eXBlcy1vYmplY3QgWywgc2VsZWN0b3JdIClcbiAgICAgIGZvciAoIHR5cGUgaW4gdHlwZXMgKSB7XG4gICAgICAgIHRoaXMub2ZmKCB0eXBlLCBzZWxlY3RvciwgdHlwZXNbIHR5cGUgXSApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGlmICggc2VsZWN0b3IgPT09IGZhbHNlIHx8IHR5cGVvZiBzZWxlY3RvciA9PT0gXCJmdW5jdGlvblwiICkge1xuICAgICAgLy8gKCB0eXBlcyBbLCBmbl0gKVxuICAgICAgZm4gPSBzZWxlY3RvcjtcbiAgICAgIHNlbGVjdG9yID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAoIGZuID09PSBmYWxzZSApIHtcbiAgICAgIGZuID0gcmV0dXJuRmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICBqUXVlcnkuZXZlbnQucmVtb3ZlKCB0aGlzLCB0eXBlcywgZm4sIHNlbGVjdG9yICk7XG4gICAgfSk7XG4gIH0sXG5cbiAgdHJpZ2dlcjogZnVuY3Rpb24oIHR5cGUsIGRhdGEgKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgIGpRdWVyeS5ldmVudC50cmlnZ2VyKCB0eXBlLCBkYXRhLCB0aGlzICk7XG4gICAgfSk7XG4gIH0sXG4gIHRyaWdnZXJIYW5kbGVyOiBmdW5jdGlvbiggdHlwZSwgZGF0YSApIHtcbiAgICB2YXIgZWxlbSA9IHRoaXNbMF07XG4gICAgaWYgKCBlbGVtICkge1xuICAgICAgcmV0dXJuIGpRdWVyeS5ldmVudC50cmlnZ2VyKCB0eXBlLCBkYXRhLCBlbGVtLCB0cnVlICk7XG4gICAgfVxuICB9XG59KTtcblxuXG5mdW5jdGlvbiBjcmVhdGVTYWZlRnJhZ21lbnQoIGRvY3VtZW50ICkge1xuICB2YXIgbGlzdCA9IG5vZGVOYW1lcy5zcGxpdCggXCJ8XCIgKSxcbiAgICBzYWZlRnJhZyA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcblxuICBpZiAoIHNhZmVGcmFnLmNyZWF0ZUVsZW1lbnQgKSB7XG4gICAgd2hpbGUgKCBsaXN0Lmxlbmd0aCApIHtcbiAgICAgIHNhZmVGcmFnLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgIGxpc3QucG9wKClcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIHJldHVybiBzYWZlRnJhZztcbn1cblxudmFyIG5vZGVOYW1lcyA9IFwiYWJicnxhcnRpY2xlfGFzaWRlfGF1ZGlvfGJkaXxjYW52YXN8ZGF0YXxkYXRhbGlzdHxkZXRhaWxzfGZpZ2NhcHRpb258ZmlndXJlfGZvb3RlcnxcIiArXG4gICAgXCJoZWFkZXJ8aGdyb3VwfG1hcmt8bWV0ZXJ8bmF2fG91dHB1dHxwcm9ncmVzc3xzZWN0aW9ufHN1bW1hcnl8dGltZXx2aWRlb1wiLFxuICByaW5saW5lalF1ZXJ5ID0gLyBqUXVlcnlcXGQrPVwiKD86bnVsbHxcXGQrKVwiL2csXG4gIHJub3NoaW1jYWNoZSA9IG5ldyBSZWdFeHAoXCI8KD86XCIgKyBub2RlTmFtZXMgKyBcIilbXFxcXHMvPl1cIiwgXCJpXCIpLFxuICBybGVhZGluZ1doaXRlc3BhY2UgPSAvXlxccysvLFxuICByeGh0bWxUYWcgPSAvPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbXFx3Ol0rKVtePl0qKVxcLz4vZ2ksXG4gIHJ0YWdOYW1lID0gLzwoW1xcdzpdKykvLFxuICBydGJvZHkgPSAvPHRib2R5L2ksXG4gIHJodG1sID0gLzx8JiM/XFx3KzsvLFxuICBybm9Jbm5lcmh0bWwgPSAvPCg/OnNjcmlwdHxzdHlsZXxsaW5rKS9pLFxuICAvLyBjaGVja2VkPVwiY2hlY2tlZFwiIG9yIGNoZWNrZWRcbiAgcmNoZWNrZWQgPSAvY2hlY2tlZFxccyooPzpbXj1dfD1cXHMqLmNoZWNrZWQuKS9pLFxuICByc2NyaXB0VHlwZSA9IC9eJHxcXC8oPzpqYXZhfGVjbWEpc2NyaXB0L2ksXG4gIHJzY3JpcHRUeXBlTWFza2VkID0gL150cnVlXFwvKC4qKS8sXG4gIHJjbGVhblNjcmlwdCA9IC9eXFxzKjwhKD86XFxbQ0RBVEFcXFt8LS0pfCg/OlxcXVxcXXwtLSk+XFxzKiQvZyxcblxuICAvLyBXZSBoYXZlIHRvIGNsb3NlIHRoZXNlIHRhZ3MgdG8gc3VwcG9ydCBYSFRNTCAoIzEzMjAwKVxuICB3cmFwTWFwID0ge1xuICAgIG9wdGlvbjogWyAxLCBcIjxzZWxlY3QgbXVsdGlwbGU9J211bHRpcGxlJz5cIiwgXCI8L3NlbGVjdD5cIiBdLFxuICAgIGxlZ2VuZDogWyAxLCBcIjxmaWVsZHNldD5cIiwgXCI8L2ZpZWxkc2V0PlwiIF0sXG4gICAgYXJlYTogWyAxLCBcIjxtYXA+XCIsIFwiPC9tYXA+XCIgXSxcbiAgICBwYXJhbTogWyAxLCBcIjxvYmplY3Q+XCIsIFwiPC9vYmplY3Q+XCIgXSxcbiAgICB0aGVhZDogWyAxLCBcIjx0YWJsZT5cIiwgXCI8L3RhYmxlPlwiIF0sXG4gICAgdHI6IFsgMiwgXCI8dGFibGU+PHRib2R5PlwiLCBcIjwvdGJvZHk+PC90YWJsZT5cIiBdLFxuICAgIGNvbDogWyAyLCBcIjx0YWJsZT48dGJvZHk+PC90Ym9keT48Y29sZ3JvdXA+XCIsIFwiPC9jb2xncm91cD48L3RhYmxlPlwiIF0sXG4gICAgdGQ6IFsgMywgXCI8dGFibGU+PHRib2R5Pjx0cj5cIiwgXCI8L3RyPjwvdGJvZHk+PC90YWJsZT5cIiBdLFxuXG4gICAgLy8gSUU2LTggY2FuJ3Qgc2VyaWFsaXplIGxpbmssIHNjcmlwdCwgc3R5bGUsIG9yIGFueSBodG1sNSAoTm9TY29wZSkgdGFncyxcbiAgICAvLyB1bmxlc3Mgd3JhcHBlZCBpbiBhIGRpdiB3aXRoIG5vbi1icmVha2luZyBjaGFyYWN0ZXJzIGluIGZyb250IG9mIGl0LlxuICAgIF9kZWZhdWx0OiBzdXBwb3J0Lmh0bWxTZXJpYWxpemUgPyBbIDAsIFwiXCIsIFwiXCIgXSA6IFsgMSwgXCJYPGRpdj5cIiwgXCI8L2Rpdj5cIiAgXVxuICB9LFxuICBzYWZlRnJhZ21lbnQgPSBjcmVhdGVTYWZlRnJhZ21lbnQoIGRvY3VtZW50ICksXG4gIGZyYWdtZW50RGl2ID0gc2FmZUZyYWdtZW50LmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpICk7XG5cbndyYXBNYXAub3B0Z3JvdXAgPSB3cmFwTWFwLm9wdGlvbjtcbndyYXBNYXAudGJvZHkgPSB3cmFwTWFwLnRmb290ID0gd3JhcE1hcC5jb2xncm91cCA9IHdyYXBNYXAuY2FwdGlvbiA9IHdyYXBNYXAudGhlYWQ7XG53cmFwTWFwLnRoID0gd3JhcE1hcC50ZDtcblxuZnVuY3Rpb24gZ2V0QWxsKCBjb250ZXh0LCB0YWcgKSB7XG4gIHZhciBlbGVtcywgZWxlbSxcbiAgICBpID0gMCxcbiAgICBmb3VuZCA9IHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lICE9PSBzdHJ1bmRlZmluZWQgPyBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCB0YWcgfHwgXCIqXCIgKSA6XG4gICAgICB0eXBlb2YgY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsICE9PSBzdHJ1bmRlZmluZWQgPyBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoIHRhZyB8fCBcIipcIiApIDpcbiAgICAgIHVuZGVmaW5lZDtcblxuICBpZiAoICFmb3VuZCApIHtcbiAgICBmb3IgKCBmb3VuZCA9IFtdLCBlbGVtcyA9IGNvbnRleHQuY2hpbGROb2RlcyB8fCBjb250ZXh0OyAoZWxlbSA9IGVsZW1zW2ldKSAhPSBudWxsOyBpKysgKSB7XG4gICAgICBpZiAoICF0YWcgfHwgalF1ZXJ5Lm5vZGVOYW1lKCBlbGVtLCB0YWcgKSApIHtcbiAgICAgICAgZm91bmQucHVzaCggZWxlbSApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgalF1ZXJ5Lm1lcmdlKCBmb3VuZCwgZ2V0QWxsKCBlbGVtLCB0YWcgKSApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YWcgPT09IHVuZGVmaW5lZCB8fCB0YWcgJiYgalF1ZXJ5Lm5vZGVOYW1lKCBjb250ZXh0LCB0YWcgKSA/XG4gICAgalF1ZXJ5Lm1lcmdlKCBbIGNvbnRleHQgXSwgZm91bmQgKSA6XG4gICAgZm91bmQ7XG59XG5cbi8vIFVzZWQgaW4gYnVpbGRGcmFnbWVudCwgZml4ZXMgdGhlIGRlZmF1bHRDaGVja2VkIHByb3BlcnR5XG5mdW5jdGlvbiBmaXhEZWZhdWx0Q2hlY2tlZCggZWxlbSApIHtcbiAgaWYgKCByY2hlY2thYmxlVHlwZS50ZXN0KCBlbGVtLnR5cGUgKSApIHtcbiAgICBlbGVtLmRlZmF1bHRDaGVja2VkID0gZWxlbS5jaGVja2VkO1xuICB9XG59XG5cbi8vIFN1cHBvcnQ6IElFPDhcbi8vIE1hbmlwdWxhdGluZyB0YWJsZXMgcmVxdWlyZXMgYSB0Ym9keVxuZnVuY3Rpb24gbWFuaXB1bGF0aW9uVGFyZ2V0KCBlbGVtLCBjb250ZW50ICkge1xuICByZXR1cm4galF1ZXJ5Lm5vZGVOYW1lKCBlbGVtLCBcInRhYmxlXCIgKSAmJlxuICAgIGpRdWVyeS5ub2RlTmFtZSggY29udGVudC5ub2RlVHlwZSAhPT0gMTEgPyBjb250ZW50IDogY29udGVudC5maXJzdENoaWxkLCBcInRyXCIgKSA/XG5cbiAgICBlbGVtLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidGJvZHlcIilbMF0gfHxcbiAgICAgIGVsZW0uYXBwZW5kQ2hpbGQoIGVsZW0ub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGJvZHlcIikgKSA6XG4gICAgZWxlbTtcbn1cblxuLy8gUmVwbGFjZS9yZXN0b3JlIHRoZSB0eXBlIGF0dHJpYnV0ZSBvZiBzY3JpcHQgZWxlbWVudHMgZm9yIHNhZmUgRE9NIG1hbmlwdWxhdGlvblxuZnVuY3Rpb24gZGlzYWJsZVNjcmlwdCggZWxlbSApIHtcbiAgZWxlbS50eXBlID0gKGpRdWVyeS5maW5kLmF0dHIoIGVsZW0sIFwidHlwZVwiICkgIT09IG51bGwpICsgXCIvXCIgKyBlbGVtLnR5cGU7XG4gIHJldHVybiBlbGVtO1xufVxuZnVuY3Rpb24gcmVzdG9yZVNjcmlwdCggZWxlbSApIHtcbiAgdmFyIG1hdGNoID0gcnNjcmlwdFR5cGVNYXNrZWQuZXhlYyggZWxlbS50eXBlICk7XG4gIGlmICggbWF0Y2ggKSB7XG4gICAgZWxlbS50eXBlID0gbWF0Y2hbMV07XG4gIH0gZWxzZSB7XG4gICAgZWxlbS5yZW1vdmVBdHRyaWJ1dGUoXCJ0eXBlXCIpO1xuICB9XG4gIHJldHVybiBlbGVtO1xufVxuXG4vLyBNYXJrIHNjcmlwdHMgYXMgaGF2aW5nIGFscmVhZHkgYmVlbiBldmFsdWF0ZWRcbmZ1bmN0aW9uIHNldEdsb2JhbEV2YWwoIGVsZW1zLCByZWZFbGVtZW50cyApIHtcbiAgdmFyIGVsZW0sXG4gICAgaSA9IDA7XG4gIGZvciAoIDsgKGVsZW0gPSBlbGVtc1tpXSkgIT0gbnVsbDsgaSsrICkge1xuICAgIGpRdWVyeS5fZGF0YSggZWxlbSwgXCJnbG9iYWxFdmFsXCIsICFyZWZFbGVtZW50cyB8fCBqUXVlcnkuX2RhdGEoIHJlZkVsZW1lbnRzW2ldLCBcImdsb2JhbEV2YWxcIiApICk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2xvbmVDb3B5RXZlbnQoIHNyYywgZGVzdCApIHtcblxuICBpZiAoIGRlc3Qubm9kZVR5cGUgIT09IDEgfHwgIWpRdWVyeS5oYXNEYXRhKCBzcmMgKSApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgdHlwZSwgaSwgbCxcbiAgICBvbGREYXRhID0galF1ZXJ5Ll9kYXRhKCBzcmMgKSxcbiAgICBjdXJEYXRhID0galF1ZXJ5Ll9kYXRhKCBkZXN0LCBvbGREYXRhICksXG4gICAgZXZlbnRzID0gb2xkRGF0YS5ldmVudHM7XG5cbiAgaWYgKCBldmVudHMgKSB7XG4gICAgZGVsZXRlIGN1ckRhdGEuaGFuZGxlO1xuICAgIGN1ckRhdGEuZXZlbnRzID0ge307XG5cbiAgICBmb3IgKCB0eXBlIGluIGV2ZW50cyApIHtcbiAgICAgIGZvciAoIGkgPSAwLCBsID0gZXZlbnRzWyB0eXBlIF0ubGVuZ3RoOyBpIDwgbDsgaSsrICkge1xuICAgICAgICBqUXVlcnkuZXZlbnQuYWRkKCBkZXN0LCB0eXBlLCBldmVudHNbIHR5cGUgXVsgaSBdICk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gbWFrZSB0aGUgY2xvbmVkIHB1YmxpYyBkYXRhIG9iamVjdCBhIGNvcHkgZnJvbSB0aGUgb3JpZ2luYWxcbiAgaWYgKCBjdXJEYXRhLmRhdGEgKSB7XG4gICAgY3VyRGF0YS5kYXRhID0galF1ZXJ5LmV4dGVuZCgge30sIGN1ckRhdGEuZGF0YSApO1xuICB9XG59XG5cbmZ1bmN0aW9uIGZpeENsb25lTm9kZUlzc3Vlcyggc3JjLCBkZXN0ICkge1xuICB2YXIgbm9kZU5hbWUsIGUsIGRhdGE7XG5cbiAgLy8gV2UgZG8gbm90IG5lZWQgdG8gZG8gYW55dGhpbmcgZm9yIG5vbi1FbGVtZW50c1xuICBpZiAoIGRlc3Qubm9kZVR5cGUgIT09IDEgKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbm9kZU5hbWUgPSBkZXN0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cbiAgLy8gSUU2LTggY29waWVzIGV2ZW50cyBib3VuZCB2aWEgYXR0YWNoRXZlbnQgd2hlbiB1c2luZyBjbG9uZU5vZGUuXG4gIGlmICggIXN1cHBvcnQubm9DbG9uZUV2ZW50ICYmIGRlc3RbIGpRdWVyeS5leHBhbmRvIF0gKSB7XG4gICAgZGF0YSA9IGpRdWVyeS5fZGF0YSggZGVzdCApO1xuXG4gICAgZm9yICggZSBpbiBkYXRhLmV2ZW50cyApIHtcbiAgICAgIGpRdWVyeS5yZW1vdmVFdmVudCggZGVzdCwgZSwgZGF0YS5oYW5kbGUgKTtcbiAgICB9XG5cbiAgICAvLyBFdmVudCBkYXRhIGdldHMgcmVmZXJlbmNlZCBpbnN0ZWFkIG9mIGNvcGllZCBpZiB0aGUgZXhwYW5kbyBnZXRzIGNvcGllZCB0b29cbiAgICBkZXN0LnJlbW92ZUF0dHJpYnV0ZSggalF1ZXJ5LmV4cGFuZG8gKTtcbiAgfVxuXG4gIC8vIElFIGJsYW5rcyBjb250ZW50cyB3aGVuIGNsb25pbmcgc2NyaXB0cywgYW5kIHRyaWVzIHRvIGV2YWx1YXRlIG5ld2x5LXNldCB0ZXh0XG4gIGlmICggbm9kZU5hbWUgPT09IFwic2NyaXB0XCIgJiYgZGVzdC50ZXh0ICE9PSBzcmMudGV4dCApIHtcbiAgICBkaXNhYmxlU2NyaXB0KCBkZXN0ICkudGV4dCA9IHNyYy50ZXh0O1xuICAgIHJlc3RvcmVTY3JpcHQoIGRlc3QgKTtcblxuICAvLyBJRTYtMTAgaW1wcm9wZXJseSBjbG9uZXMgY2hpbGRyZW4gb2Ygb2JqZWN0IGVsZW1lbnRzIHVzaW5nIGNsYXNzaWQuXG4gIC8vIElFMTAgdGhyb3dzIE5vTW9kaWZpY2F0aW9uQWxsb3dlZEVycm9yIGlmIHBhcmVudCBpcyBudWxsLCAjMTIxMzIuXG4gIH0gZWxzZSBpZiAoIG5vZGVOYW1lID09PSBcIm9iamVjdFwiICkge1xuICAgIGlmICggZGVzdC5wYXJlbnROb2RlICkge1xuICAgICAgZGVzdC5vdXRlckhUTUwgPSBzcmMub3V0ZXJIVE1MO1xuICAgIH1cblxuICAgIC8vIFRoaXMgcGF0aCBhcHBlYXJzIHVuYXZvaWRhYmxlIGZvciBJRTkuIFdoZW4gY2xvbmluZyBhbiBvYmplY3RcbiAgICAvLyBlbGVtZW50IGluIElFOSwgdGhlIG91dGVySFRNTCBzdHJhdGVneSBhYm92ZSBpcyBub3Qgc3VmZmljaWVudC5cbiAgICAvLyBJZiB0aGUgc3JjIGhhcyBpbm5lckhUTUwgYW5kIHRoZSBkZXN0aW5hdGlvbiBkb2VzIG5vdCxcbiAgICAvLyBjb3B5IHRoZSBzcmMuaW5uZXJIVE1MIGludG8gdGhlIGRlc3QuaW5uZXJIVE1MLiAjMTAzMjRcbiAgICBpZiAoIHN1cHBvcnQuaHRtbDVDbG9uZSAmJiAoIHNyYy5pbm5lckhUTUwgJiYgIWpRdWVyeS50cmltKGRlc3QuaW5uZXJIVE1MKSApICkge1xuICAgICAgZGVzdC5pbm5lckhUTUwgPSBzcmMuaW5uZXJIVE1MO1xuICAgIH1cblxuICB9IGVsc2UgaWYgKCBub2RlTmFtZSA9PT0gXCJpbnB1dFwiICYmIHJjaGVja2FibGVUeXBlLnRlc3QoIHNyYy50eXBlICkgKSB7XG4gICAgLy8gSUU2LTggZmFpbHMgdG8gcGVyc2lzdCB0aGUgY2hlY2tlZCBzdGF0ZSBvZiBhIGNsb25lZCBjaGVja2JveFxuICAgIC8vIG9yIHJhZGlvIGJ1dHRvbi4gV29yc2UsIElFNi03IGZhaWwgdG8gZ2l2ZSB0aGUgY2xvbmVkIGVsZW1lbnRcbiAgICAvLyBhIGNoZWNrZWQgYXBwZWFyYW5jZSBpZiB0aGUgZGVmYXVsdENoZWNrZWQgdmFsdWUgaXNuJ3QgYWxzbyBzZXRcblxuICAgIGRlc3QuZGVmYXVsdENoZWNrZWQgPSBkZXN0LmNoZWNrZWQgPSBzcmMuY2hlY2tlZDtcblxuICAgIC8vIElFNi03IGdldCBjb25mdXNlZCBhbmQgZW5kIHVwIHNldHRpbmcgdGhlIHZhbHVlIG9mIGEgY2xvbmVkXG4gICAgLy8gY2hlY2tib3gvcmFkaW8gYnV0dG9uIHRvIGFuIGVtcHR5IHN0cmluZyBpbnN0ZWFkIG9mIFwib25cIlxuICAgIGlmICggZGVzdC52YWx1ZSAhPT0gc3JjLnZhbHVlICkge1xuICAgICAgZGVzdC52YWx1ZSA9IHNyYy52YWx1ZTtcbiAgICB9XG5cbiAgLy8gSUU2LTggZmFpbHMgdG8gcmV0dXJuIHRoZSBzZWxlY3RlZCBvcHRpb24gdG8gdGhlIGRlZmF1bHQgc2VsZWN0ZWRcbiAgLy8gc3RhdGUgd2hlbiBjbG9uaW5nIG9wdGlvbnNcbiAgfSBlbHNlIGlmICggbm9kZU5hbWUgPT09IFwib3B0aW9uXCIgKSB7XG4gICAgZGVzdC5kZWZhdWx0U2VsZWN0ZWQgPSBkZXN0LnNlbGVjdGVkID0gc3JjLmRlZmF1bHRTZWxlY3RlZDtcblxuICAvLyBJRTYtOCBmYWlscyB0byBzZXQgdGhlIGRlZmF1bHRWYWx1ZSB0byB0aGUgY29ycmVjdCB2YWx1ZSB3aGVuXG4gIC8vIGNsb25pbmcgb3RoZXIgdHlwZXMgb2YgaW5wdXQgZmllbGRzXG4gIH0gZWxzZSBpZiAoIG5vZGVOYW1lID09PSBcImlucHV0XCIgfHwgbm9kZU5hbWUgPT09IFwidGV4dGFyZWFcIiApIHtcbiAgICBkZXN0LmRlZmF1bHRWYWx1ZSA9IHNyYy5kZWZhdWx0VmFsdWU7XG4gIH1cbn1cblxualF1ZXJ5LmV4dGVuZCh7XG4gIGNsb25lOiBmdW5jdGlvbiggZWxlbSwgZGF0YUFuZEV2ZW50cywgZGVlcERhdGFBbmRFdmVudHMgKSB7XG4gICAgdmFyIGRlc3RFbGVtZW50cywgbm9kZSwgY2xvbmUsIGksIHNyY0VsZW1lbnRzLFxuICAgICAgaW5QYWdlID0galF1ZXJ5LmNvbnRhaW5zKCBlbGVtLm93bmVyRG9jdW1lbnQsIGVsZW0gKTtcblxuICAgIGlmICggc3VwcG9ydC5odG1sNUNsb25lIHx8IGpRdWVyeS5pc1hNTERvYyhlbGVtKSB8fCAhcm5vc2hpbWNhY2hlLnRlc3QoIFwiPFwiICsgZWxlbS5ub2RlTmFtZSArIFwiPlwiICkgKSB7XG4gICAgICBjbG9uZSA9IGVsZW0uY2xvbmVOb2RlKCB0cnVlICk7XG5cbiAgICAvLyBJRTw9OCBkb2VzIG5vdCBwcm9wZXJseSBjbG9uZSBkZXRhY2hlZCwgdW5rbm93biBlbGVtZW50IG5vZGVzXG4gICAgfSBlbHNlIHtcbiAgICAgIGZyYWdtZW50RGl2LmlubmVySFRNTCA9IGVsZW0ub3V0ZXJIVE1MO1xuICAgICAgZnJhZ21lbnREaXYucmVtb3ZlQ2hpbGQoIGNsb25lID0gZnJhZ21lbnREaXYuZmlyc3RDaGlsZCApO1xuICAgIH1cblxuICAgIGlmICggKCFzdXBwb3J0Lm5vQ2xvbmVFdmVudCB8fCAhc3VwcG9ydC5ub0Nsb25lQ2hlY2tlZCkgJiZcbiAgICAgICAgKGVsZW0ubm9kZVR5cGUgPT09IDEgfHwgZWxlbS5ub2RlVHlwZSA9PT0gMTEpICYmICFqUXVlcnkuaXNYTUxEb2MoZWxlbSkgKSB7XG5cbiAgICAgIC8vIFdlIGVzY2hldyBTaXp6bGUgaGVyZSBmb3IgcGVyZm9ybWFuY2UgcmVhc29uczogaHR0cDovL2pzcGVyZi5jb20vZ2V0YWxsLXZzLXNpenpsZS8yXG4gICAgICBkZXN0RWxlbWVudHMgPSBnZXRBbGwoIGNsb25lICk7XG4gICAgICBzcmNFbGVtZW50cyA9IGdldEFsbCggZWxlbSApO1xuXG4gICAgICAvLyBGaXggYWxsIElFIGNsb25pbmcgaXNzdWVzXG4gICAgICBmb3IgKCBpID0gMDsgKG5vZGUgPSBzcmNFbGVtZW50c1tpXSkgIT0gbnVsbDsgKytpICkge1xuICAgICAgICAvLyBFbnN1cmUgdGhhdCB0aGUgZGVzdGluYXRpb24gbm9kZSBpcyBub3QgbnVsbDsgRml4ZXMgIzk1ODdcbiAgICAgICAgaWYgKCBkZXN0RWxlbWVudHNbaV0gKSB7XG4gICAgICAgICAgZml4Q2xvbmVOb2RlSXNzdWVzKCBub2RlLCBkZXN0RWxlbWVudHNbaV0gKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENvcHkgdGhlIGV2ZW50cyBmcm9tIHRoZSBvcmlnaW5hbCB0byB0aGUgY2xvbmVcbiAgICBpZiAoIGRhdGFBbmRFdmVudHMgKSB7XG4gICAgICBpZiAoIGRlZXBEYXRhQW5kRXZlbnRzICkge1xuICAgICAgICBzcmNFbGVtZW50cyA9IHNyY0VsZW1lbnRzIHx8IGdldEFsbCggZWxlbSApO1xuICAgICAgICBkZXN0RWxlbWVudHMgPSBkZXN0RWxlbWVudHMgfHwgZ2V0QWxsKCBjbG9uZSApO1xuXG4gICAgICAgIGZvciAoIGkgPSAwOyAobm9kZSA9IHNyY0VsZW1lbnRzW2ldKSAhPSBudWxsOyBpKysgKSB7XG4gICAgICAgICAgY2xvbmVDb3B5RXZlbnQoIG5vZGUsIGRlc3RFbGVtZW50c1tpXSApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjbG9uZUNvcHlFdmVudCggZWxlbSwgY2xvbmUgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBQcmVzZXJ2ZSBzY3JpcHQgZXZhbHVhdGlvbiBoaXN0b3J5XG4gICAgZGVzdEVsZW1lbnRzID0gZ2V0QWxsKCBjbG9uZSwgXCJzY3JpcHRcIiApO1xuICAgIGlmICggZGVzdEVsZW1lbnRzLmxlbmd0aCA+IDAgKSB7XG4gICAgICBzZXRHbG9iYWxFdmFsKCBkZXN0RWxlbWVudHMsICFpblBhZ2UgJiYgZ2V0QWxsKCBlbGVtLCBcInNjcmlwdFwiICkgKTtcbiAgICB9XG5cbiAgICBkZXN0RWxlbWVudHMgPSBzcmNFbGVtZW50cyA9IG5vZGUgPSBudWxsO1xuXG4gICAgLy8gUmV0dXJuIHRoZSBjbG9uZWQgc2V0XG4gICAgcmV0dXJuIGNsb25lO1xuICB9LFxuXG4gIGJ1aWxkRnJhZ21lbnQ6IGZ1bmN0aW9uKCBlbGVtcywgY29udGV4dCwgc2NyaXB0cywgc2VsZWN0aW9uICkge1xuICAgIHZhciBqLCBlbGVtLCBjb250YWlucyxcbiAgICAgIHRtcCwgdGFnLCB0Ym9keSwgd3JhcCxcbiAgICAgIGwgPSBlbGVtcy5sZW5ndGgsXG5cbiAgICAgIC8vIEVuc3VyZSBhIHNhZmUgZnJhZ21lbnRcbiAgICAgIHNhZmUgPSBjcmVhdGVTYWZlRnJhZ21lbnQoIGNvbnRleHQgKSxcblxuICAgICAgbm9kZXMgPSBbXSxcbiAgICAgIGkgPSAwO1xuXG4gICAgZm9yICggOyBpIDwgbDsgaSsrICkge1xuICAgICAgZWxlbSA9IGVsZW1zWyBpIF07XG5cbiAgICAgIGlmICggZWxlbSB8fCBlbGVtID09PSAwICkge1xuXG4gICAgICAgIC8vIEFkZCBub2RlcyBkaXJlY3RseVxuICAgICAgICBpZiAoIGpRdWVyeS50eXBlKCBlbGVtICkgPT09IFwib2JqZWN0XCIgKSB7XG4gICAgICAgICAgalF1ZXJ5Lm1lcmdlKCBub2RlcywgZWxlbS5ub2RlVHlwZSA/IFsgZWxlbSBdIDogZWxlbSApO1xuXG4gICAgICAgIC8vIENvbnZlcnQgbm9uLWh0bWwgaW50byBhIHRleHQgbm9kZVxuICAgICAgICB9IGVsc2UgaWYgKCAhcmh0bWwudGVzdCggZWxlbSApICkge1xuICAgICAgICAgIG5vZGVzLnB1c2goIGNvbnRleHQuY3JlYXRlVGV4dE5vZGUoIGVsZW0gKSApO1xuXG4gICAgICAgIC8vIENvbnZlcnQgaHRtbCBpbnRvIERPTSBub2Rlc1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRtcCA9IHRtcCB8fCBzYWZlLmFwcGVuZENoaWxkKCBjb250ZXh0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikgKTtcblxuICAgICAgICAgIC8vIERlc2VyaWFsaXplIGEgc3RhbmRhcmQgcmVwcmVzZW50YXRpb25cbiAgICAgICAgICB0YWcgPSAocnRhZ05hbWUuZXhlYyggZWxlbSApIHx8IFsgXCJcIiwgXCJcIiBdKVsgMSBdLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgd3JhcCA9IHdyYXBNYXBbIHRhZyBdIHx8IHdyYXBNYXAuX2RlZmF1bHQ7XG5cbiAgICAgICAgICB0bXAuaW5uZXJIVE1MID0gd3JhcFsxXSArIGVsZW0ucmVwbGFjZSggcnhodG1sVGFnLCBcIjwkMT48LyQyPlwiICkgKyB3cmFwWzJdO1xuXG4gICAgICAgICAgLy8gRGVzY2VuZCB0aHJvdWdoIHdyYXBwZXJzIHRvIHRoZSByaWdodCBjb250ZW50XG4gICAgICAgICAgaiA9IHdyYXBbMF07XG4gICAgICAgICAgd2hpbGUgKCBqLS0gKSB7XG4gICAgICAgICAgICB0bXAgPSB0bXAubGFzdENoaWxkO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIE1hbnVhbGx5IGFkZCBsZWFkaW5nIHdoaXRlc3BhY2UgcmVtb3ZlZCBieSBJRVxuICAgICAgICAgIGlmICggIXN1cHBvcnQubGVhZGluZ1doaXRlc3BhY2UgJiYgcmxlYWRpbmdXaGl0ZXNwYWNlLnRlc3QoIGVsZW0gKSApIHtcbiAgICAgICAgICAgIG5vZGVzLnB1c2goIGNvbnRleHQuY3JlYXRlVGV4dE5vZGUoIHJsZWFkaW5nV2hpdGVzcGFjZS5leGVjKCBlbGVtIClbMF0gKSApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFJlbW92ZSBJRSdzIGF1dG9pbnNlcnRlZCA8dGJvZHk+IGZyb20gdGFibGUgZnJhZ21lbnRzXG4gICAgICAgICAgaWYgKCAhc3VwcG9ydC50Ym9keSApIHtcblxuICAgICAgICAgICAgLy8gU3RyaW5nIHdhcyBhIDx0YWJsZT4sICptYXkqIGhhdmUgc3B1cmlvdXMgPHRib2R5PlxuICAgICAgICAgICAgZWxlbSA9IHRhZyA9PT0gXCJ0YWJsZVwiICYmICFydGJvZHkudGVzdCggZWxlbSApID9cbiAgICAgICAgICAgICAgdG1wLmZpcnN0Q2hpbGQgOlxuXG4gICAgICAgICAgICAgIC8vIFN0cmluZyB3YXMgYSBiYXJlIDx0aGVhZD4gb3IgPHRmb290PlxuICAgICAgICAgICAgICB3cmFwWzFdID09PSBcIjx0YWJsZT5cIiAmJiAhcnRib2R5LnRlc3QoIGVsZW0gKSA/XG4gICAgICAgICAgICAgICAgdG1wIDpcbiAgICAgICAgICAgICAgICAwO1xuXG4gICAgICAgICAgICBqID0gZWxlbSAmJiBlbGVtLmNoaWxkTm9kZXMubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKCBqLS0gKSB7XG4gICAgICAgICAgICAgIGlmICggalF1ZXJ5Lm5vZGVOYW1lKCAodGJvZHkgPSBlbGVtLmNoaWxkTm9kZXNbal0pLCBcInRib2R5XCIgKSAmJiAhdGJvZHkuY2hpbGROb2Rlcy5sZW5ndGggKSB7XG4gICAgICAgICAgICAgICAgZWxlbS5yZW1vdmVDaGlsZCggdGJvZHkgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGpRdWVyeS5tZXJnZSggbm9kZXMsIHRtcC5jaGlsZE5vZGVzICk7XG5cbiAgICAgICAgICAvLyBGaXggIzEyMzkyIGZvciBXZWJLaXQgYW5kIElFID4gOVxuICAgICAgICAgIHRtcC50ZXh0Q29udGVudCA9IFwiXCI7XG5cbiAgICAgICAgICAvLyBGaXggIzEyMzkyIGZvciBvbGRJRVxuICAgICAgICAgIHdoaWxlICggdG1wLmZpcnN0Q2hpbGQgKSB7XG4gICAgICAgICAgICB0bXAucmVtb3ZlQ2hpbGQoIHRtcC5maXJzdENoaWxkICk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gUmVtZW1iZXIgdGhlIHRvcC1sZXZlbCBjb250YWluZXIgZm9yIHByb3BlciBjbGVhbnVwXG4gICAgICAgICAgdG1wID0gc2FmZS5sYXN0Q2hpbGQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBGaXggIzExMzU2OiBDbGVhciBlbGVtZW50cyBmcm9tIGZyYWdtZW50XG4gICAgaWYgKCB0bXAgKSB7XG4gICAgICBzYWZlLnJlbW92ZUNoaWxkKCB0bXAgKTtcbiAgICB9XG5cbiAgICAvLyBSZXNldCBkZWZhdWx0Q2hlY2tlZCBmb3IgYW55IHJhZGlvcyBhbmQgY2hlY2tib3hlc1xuICAgIC8vIGFib3V0IHRvIGJlIGFwcGVuZGVkIHRvIHRoZSBET00gaW4gSUUgNi83ICgjODA2MClcbiAgICBpZiAoICFzdXBwb3J0LmFwcGVuZENoZWNrZWQgKSB7XG4gICAgICBqUXVlcnkuZ3JlcCggZ2V0QWxsKCBub2RlcywgXCJpbnB1dFwiICksIGZpeERlZmF1bHRDaGVja2VkICk7XG4gICAgfVxuXG4gICAgaSA9IDA7XG4gICAgd2hpbGUgKCAoZWxlbSA9IG5vZGVzWyBpKysgXSkgKSB7XG5cbiAgICAgIC8vICM0MDg3IC0gSWYgb3JpZ2luIGFuZCBkZXN0aW5hdGlvbiBlbGVtZW50cyBhcmUgdGhlIHNhbWUsIGFuZCB0aGlzIGlzXG4gICAgICAvLyB0aGF0IGVsZW1lbnQsIGRvIG5vdCBkbyBhbnl0aGluZ1xuICAgICAgaWYgKCBzZWxlY3Rpb24gJiYgalF1ZXJ5LmluQXJyYXkoIGVsZW0sIHNlbGVjdGlvbiApICE9PSAtMSApIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnRhaW5zID0galF1ZXJ5LmNvbnRhaW5zKCBlbGVtLm93bmVyRG9jdW1lbnQsIGVsZW0gKTtcblxuICAgICAgLy8gQXBwZW5kIHRvIGZyYWdtZW50XG4gICAgICB0bXAgPSBnZXRBbGwoIHNhZmUuYXBwZW5kQ2hpbGQoIGVsZW0gKSwgXCJzY3JpcHRcIiApO1xuXG4gICAgICAvLyBQcmVzZXJ2ZSBzY3JpcHQgZXZhbHVhdGlvbiBoaXN0b3J5XG4gICAgICBpZiAoIGNvbnRhaW5zICkge1xuICAgICAgICBzZXRHbG9iYWxFdmFsKCB0bXAgKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2FwdHVyZSBleGVjdXRhYmxlc1xuICAgICAgaWYgKCBzY3JpcHRzICkge1xuICAgICAgICBqID0gMDtcbiAgICAgICAgd2hpbGUgKCAoZWxlbSA9IHRtcFsgaisrIF0pICkge1xuICAgICAgICAgIGlmICggcnNjcmlwdFR5cGUudGVzdCggZWxlbS50eXBlIHx8IFwiXCIgKSApIHtcbiAgICAgICAgICAgIHNjcmlwdHMucHVzaCggZWxlbSApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRtcCA9IG51bGw7XG5cbiAgICByZXR1cm4gc2FmZTtcbiAgfSxcblxuICBjbGVhbkRhdGE6IGZ1bmN0aW9uKCBlbGVtcywgLyogaW50ZXJuYWwgKi8gYWNjZXB0RGF0YSApIHtcbiAgICB2YXIgZWxlbSwgdHlwZSwgaWQsIGRhdGEsXG4gICAgICBpID0gMCxcbiAgICAgIGludGVybmFsS2V5ID0galF1ZXJ5LmV4cGFuZG8sXG4gICAgICBjYWNoZSA9IGpRdWVyeS5jYWNoZSxcbiAgICAgIGRlbGV0ZUV4cGFuZG8gPSBzdXBwb3J0LmRlbGV0ZUV4cGFuZG8sXG4gICAgICBzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWw7XG5cbiAgICBmb3IgKCA7IChlbGVtID0gZWxlbXNbaV0pICE9IG51bGw7IGkrKyApIHtcbiAgICAgIGlmICggYWNjZXB0RGF0YSB8fCBqUXVlcnkuYWNjZXB0RGF0YSggZWxlbSApICkge1xuXG4gICAgICAgIGlkID0gZWxlbVsgaW50ZXJuYWxLZXkgXTtcbiAgICAgICAgZGF0YSA9IGlkICYmIGNhY2hlWyBpZCBdO1xuXG4gICAgICAgIGlmICggZGF0YSApIHtcbiAgICAgICAgICBpZiAoIGRhdGEuZXZlbnRzICkge1xuICAgICAgICAgICAgZm9yICggdHlwZSBpbiBkYXRhLmV2ZW50cyApIHtcbiAgICAgICAgICAgICAgaWYgKCBzcGVjaWFsWyB0eXBlIF0gKSB7XG4gICAgICAgICAgICAgICAgalF1ZXJ5LmV2ZW50LnJlbW92ZSggZWxlbSwgdHlwZSApO1xuXG4gICAgICAgICAgICAgIC8vIFRoaXMgaXMgYSBzaG9ydGN1dCB0byBhdm9pZCBqUXVlcnkuZXZlbnQucmVtb3ZlJ3Mgb3ZlcmhlYWRcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBqUXVlcnkucmVtb3ZlRXZlbnQoIGVsZW0sIHR5cGUsIGRhdGEuaGFuZGxlICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBSZW1vdmUgY2FjaGUgb25seSBpZiBpdCB3YXMgbm90IGFscmVhZHkgcmVtb3ZlZCBieSBqUXVlcnkuZXZlbnQucmVtb3ZlXG4gICAgICAgICAgaWYgKCBjYWNoZVsgaWQgXSApIHtcblxuICAgICAgICAgICAgZGVsZXRlIGNhY2hlWyBpZCBdO1xuXG4gICAgICAgICAgICAvLyBJRSBkb2VzIG5vdCBhbGxvdyB1cyB0byBkZWxldGUgZXhwYW5kbyBwcm9wZXJ0aWVzIGZyb20gbm9kZXMsXG4gICAgICAgICAgICAvLyBub3IgZG9lcyBpdCBoYXZlIGEgcmVtb3ZlQXR0cmlidXRlIGZ1bmN0aW9uIG9uIERvY3VtZW50IG5vZGVzO1xuICAgICAgICAgICAgLy8gd2UgbXVzdCBoYW5kbGUgYWxsIG9mIHRoZXNlIGNhc2VzXG4gICAgICAgICAgICBpZiAoIGRlbGV0ZUV4cGFuZG8gKSB7XG4gICAgICAgICAgICAgIGRlbGV0ZSBlbGVtWyBpbnRlcm5hbEtleSBdO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCB0eXBlb2YgZWxlbS5yZW1vdmVBdHRyaWJ1dGUgIT09IHN0cnVuZGVmaW5lZCApIHtcbiAgICAgICAgICAgICAgZWxlbS5yZW1vdmVBdHRyaWJ1dGUoIGludGVybmFsS2V5ICk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGVsZW1bIGludGVybmFsS2V5IF0gPSBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkZWxldGVkSWRzLnB1c2goIGlkICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59KTtcblxualF1ZXJ5LmZuLmV4dGVuZCh7XG4gIHRleHQ6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcbiAgICByZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggdmFsdWUgKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/XG4gICAgICAgIGpRdWVyeS50ZXh0KCB0aGlzICkgOlxuICAgICAgICB0aGlzLmVtcHR5KCkuYXBwZW5kKCAoIHRoaXNbMF0gJiYgdGhpc1swXS5vd25lckRvY3VtZW50IHx8IGRvY3VtZW50ICkuY3JlYXRlVGV4dE5vZGUoIHZhbHVlICkgKTtcbiAgICB9LCBudWxsLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCApO1xuICB9LFxuXG4gIGFwcGVuZDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZG9tTWFuaXAoIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG4gICAgICBpZiAoIHRoaXMubm9kZVR5cGUgPT09IDEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gMTEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gOSApIHtcbiAgICAgICAgdmFyIHRhcmdldCA9IG1hbmlwdWxhdGlvblRhcmdldCggdGhpcywgZWxlbSApO1xuICAgICAgICB0YXJnZXQuYXBwZW5kQ2hpbGQoIGVsZW0gKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICBwcmVwZW5kOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5kb21NYW5pcCggYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcbiAgICAgIGlmICggdGhpcy5ub2RlVHlwZSA9PT0gMSB8fCB0aGlzLm5vZGVUeXBlID09PSAxMSB8fCB0aGlzLm5vZGVUeXBlID09PSA5ICkge1xuICAgICAgICB2YXIgdGFyZ2V0ID0gbWFuaXB1bGF0aW9uVGFyZ2V0KCB0aGlzLCBlbGVtICk7XG4gICAgICAgIHRhcmdldC5pbnNlcnRCZWZvcmUoIGVsZW0sIHRhcmdldC5maXJzdENoaWxkICk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgYmVmb3JlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5kb21NYW5pcCggYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcbiAgICAgIGlmICggdGhpcy5wYXJlbnROb2RlICkge1xuICAgICAgICB0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKCBlbGVtLCB0aGlzICk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgYWZ0ZXI6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmRvbU1hbmlwKCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuICAgICAgaWYgKCB0aGlzLnBhcmVudE5vZGUgKSB7XG4gICAgICAgIHRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoIGVsZW0sIHRoaXMubmV4dFNpYmxpbmcgKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICByZW1vdmU6IGZ1bmN0aW9uKCBzZWxlY3Rvciwga2VlcERhdGEgLyogSW50ZXJuYWwgVXNlIE9ubHkgKi8gKSB7XG4gICAgdmFyIGVsZW0sXG4gICAgICBlbGVtcyA9IHNlbGVjdG9yID8galF1ZXJ5LmZpbHRlciggc2VsZWN0b3IsIHRoaXMgKSA6IHRoaXMsXG4gICAgICBpID0gMDtcblxuICAgIGZvciAoIDsgKGVsZW0gPSBlbGVtc1tpXSkgIT0gbnVsbDsgaSsrICkge1xuXG4gICAgICBpZiAoICFrZWVwRGF0YSAmJiBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuICAgICAgICBqUXVlcnkuY2xlYW5EYXRhKCBnZXRBbGwoIGVsZW0gKSApO1xuICAgICAgfVxuXG4gICAgICBpZiAoIGVsZW0ucGFyZW50Tm9kZSApIHtcbiAgICAgICAgaWYgKCBrZWVwRGF0YSAmJiBqUXVlcnkuY29udGFpbnMoIGVsZW0ub3duZXJEb2N1bWVudCwgZWxlbSApICkge1xuICAgICAgICAgIHNldEdsb2JhbEV2YWwoIGdldEFsbCggZWxlbSwgXCJzY3JpcHRcIiApICk7XG4gICAgICAgIH1cbiAgICAgICAgZWxlbS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCBlbGVtICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgZW1wdHk6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBlbGVtLFxuICAgICAgaSA9IDA7XG5cbiAgICBmb3IgKCA7IChlbGVtID0gdGhpc1tpXSkgIT0gbnVsbDsgaSsrICkge1xuICAgICAgLy8gUmVtb3ZlIGVsZW1lbnQgbm9kZXMgYW5kIHByZXZlbnQgbWVtb3J5IGxlYWtzXG4gICAgICBpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG4gICAgICAgIGpRdWVyeS5jbGVhbkRhdGEoIGdldEFsbCggZWxlbSwgZmFsc2UgKSApO1xuICAgICAgfVxuXG4gICAgICAvLyBSZW1vdmUgYW55IHJlbWFpbmluZyBub2Rlc1xuICAgICAgd2hpbGUgKCBlbGVtLmZpcnN0Q2hpbGQgKSB7XG4gICAgICAgIGVsZW0ucmVtb3ZlQ2hpbGQoIGVsZW0uZmlyc3RDaGlsZCApO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiB0aGlzIGlzIGEgc2VsZWN0LCBlbnN1cmUgdGhhdCBpdCBkaXNwbGF5cyBlbXB0eSAoIzEyMzM2KVxuICAgICAgLy8gU3VwcG9ydDogSUU8OVxuICAgICAgaWYgKCBlbGVtLm9wdGlvbnMgJiYgalF1ZXJ5Lm5vZGVOYW1lKCBlbGVtLCBcInNlbGVjdFwiICkgKSB7XG4gICAgICAgIGVsZW0ub3B0aW9ucy5sZW5ndGggPSAwO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIGNsb25lOiBmdW5jdGlvbiggZGF0YUFuZEV2ZW50cywgZGVlcERhdGFBbmRFdmVudHMgKSB7XG4gICAgZGF0YUFuZEV2ZW50cyA9IGRhdGFBbmRFdmVudHMgPT0gbnVsbCA/IGZhbHNlIDogZGF0YUFuZEV2ZW50cztcbiAgICBkZWVwRGF0YUFuZEV2ZW50cyA9IGRlZXBEYXRhQW5kRXZlbnRzID09IG51bGwgPyBkYXRhQW5kRXZlbnRzIDogZGVlcERhdGFBbmRFdmVudHM7XG5cbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4galF1ZXJ5LmNsb25lKCB0aGlzLCBkYXRhQW5kRXZlbnRzLCBkZWVwRGF0YUFuZEV2ZW50cyApO1xuICAgIH0pO1xuICB9LFxuXG4gIGh0bWw6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcbiAgICByZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggdmFsdWUgKSB7XG4gICAgICB2YXIgZWxlbSA9IHRoaXNbIDAgXSB8fCB7fSxcbiAgICAgICAgaSA9IDAsXG4gICAgICAgIGwgPSB0aGlzLmxlbmd0aDtcblxuICAgICAgaWYgKCB2YWx1ZSA9PT0gdW5kZWZpbmVkICkge1xuICAgICAgICByZXR1cm4gZWxlbS5ub2RlVHlwZSA9PT0gMSA/XG4gICAgICAgICAgZWxlbS5pbm5lckhUTUwucmVwbGFjZSggcmlubGluZWpRdWVyeSwgXCJcIiApIDpcbiAgICAgICAgICB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIC8vIFNlZSBpZiB3ZSBjYW4gdGFrZSBhIHNob3J0Y3V0IGFuZCBqdXN0IHVzZSBpbm5lckhUTUxcbiAgICAgIGlmICggdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmICFybm9Jbm5lcmh0bWwudGVzdCggdmFsdWUgKSAmJlxuICAgICAgICAoIHN1cHBvcnQuaHRtbFNlcmlhbGl6ZSB8fCAhcm5vc2hpbWNhY2hlLnRlc3QoIHZhbHVlICkgICkgJiZcbiAgICAgICAgKCBzdXBwb3J0LmxlYWRpbmdXaGl0ZXNwYWNlIHx8ICFybGVhZGluZ1doaXRlc3BhY2UudGVzdCggdmFsdWUgKSApICYmXG4gICAgICAgICF3cmFwTWFwWyAocnRhZ05hbWUuZXhlYyggdmFsdWUgKSB8fCBbIFwiXCIsIFwiXCIgXSlbIDEgXS50b0xvd2VyQ2FzZSgpIF0gKSB7XG5cbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKCByeGh0bWxUYWcsIFwiPCQxPjwvJDI+XCIgKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGZvciAoOyBpIDwgbDsgaSsrICkge1xuICAgICAgICAgICAgLy8gUmVtb3ZlIGVsZW1lbnQgbm9kZXMgYW5kIHByZXZlbnQgbWVtb3J5IGxlYWtzXG4gICAgICAgICAgICBlbGVtID0gdGhpc1tpXSB8fCB7fTtcbiAgICAgICAgICAgIGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcbiAgICAgICAgICAgICAgalF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxsKCBlbGVtLCBmYWxzZSApICk7XG4gICAgICAgICAgICAgIGVsZW0uaW5uZXJIVE1MID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZWxlbSA9IDA7XG5cbiAgICAgICAgLy8gSWYgdXNpbmcgaW5uZXJIVE1MIHRocm93cyBhbiBleGNlcHRpb24sIHVzZSB0aGUgZmFsbGJhY2sgbWV0aG9kXG4gICAgICAgIH0gY2F0Y2goZSkge31cbiAgICAgIH1cblxuICAgICAgaWYgKCBlbGVtICkge1xuICAgICAgICB0aGlzLmVtcHR5KCkuYXBwZW5kKCB2YWx1ZSApO1xuICAgICAgfVxuICAgIH0sIG51bGwsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoICk7XG4gIH0sXG5cbiAgcmVwbGFjZVdpdGg6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBhcmcgPSBhcmd1bWVudHNbIDAgXTtcblxuICAgIC8vIE1ha2UgdGhlIGNoYW5nZXMsIHJlcGxhY2luZyBlYWNoIGNvbnRleHQgZWxlbWVudCB3aXRoIHRoZSBuZXcgY29udGVudFxuICAgIHRoaXMuZG9tTWFuaXAoIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG4gICAgICBhcmcgPSB0aGlzLnBhcmVudE5vZGU7XG5cbiAgICAgIGpRdWVyeS5jbGVhbkRhdGEoIGdldEFsbCggdGhpcyApICk7XG5cbiAgICAgIGlmICggYXJnICkge1xuICAgICAgICBhcmcucmVwbGFjZUNoaWxkKCBlbGVtLCB0aGlzICk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBGb3JjZSByZW1vdmFsIGlmIHRoZXJlIHdhcyBubyBuZXcgY29udGVudCAoZS5nLiwgZnJvbSBlbXB0eSBhcmd1bWVudHMpXG4gICAgcmV0dXJuIGFyZyAmJiAoYXJnLmxlbmd0aCB8fCBhcmcubm9kZVR5cGUpID8gdGhpcyA6IHRoaXMucmVtb3ZlKCk7XG4gIH0sXG5cbiAgZGV0YWNoOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG4gICAgcmV0dXJuIHRoaXMucmVtb3ZlKCBzZWxlY3RvciwgdHJ1ZSApO1xuICB9LFxuXG4gIGRvbU1hbmlwOiBmdW5jdGlvbiggYXJncywgY2FsbGJhY2sgKSB7XG5cbiAgICAvLyBGbGF0dGVuIGFueSBuZXN0ZWQgYXJyYXlzXG4gICAgYXJncyA9IGNvbmNhdC5hcHBseSggW10sIGFyZ3MgKTtcblxuICAgIHZhciBmaXJzdCwgbm9kZSwgaGFzU2NyaXB0cyxcbiAgICAgIHNjcmlwdHMsIGRvYywgZnJhZ21lbnQsXG4gICAgICBpID0gMCxcbiAgICAgIGwgPSB0aGlzLmxlbmd0aCxcbiAgICAgIHNldCA9IHRoaXMsXG4gICAgICBpTm9DbG9uZSA9IGwgLSAxLFxuICAgICAgdmFsdWUgPSBhcmdzWzBdLFxuICAgICAgaXNGdW5jdGlvbiA9IGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApO1xuXG4gICAgLy8gV2UgY2FuJ3QgY2xvbmVOb2RlIGZyYWdtZW50cyB0aGF0IGNvbnRhaW4gY2hlY2tlZCwgaW4gV2ViS2l0XG4gICAgaWYgKCBpc0Z1bmN0aW9uIHx8XG4gICAgICAgICggbCA+IDEgJiYgdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmXG4gICAgICAgICAgIXN1cHBvcnQuY2hlY2tDbG9uZSAmJiByY2hlY2tlZC50ZXN0KCB2YWx1ZSApICkgKSB7XG4gICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCBpbmRleCApIHtcbiAgICAgICAgdmFyIHNlbGYgPSBzZXQuZXEoIGluZGV4ICk7XG4gICAgICAgIGlmICggaXNGdW5jdGlvbiApIHtcbiAgICAgICAgICBhcmdzWzBdID0gdmFsdWUuY2FsbCggdGhpcywgaW5kZXgsIHNlbGYuaHRtbCgpICk7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5kb21NYW5pcCggYXJncywgY2FsbGJhY2sgKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICggbCApIHtcbiAgICAgIGZyYWdtZW50ID0galF1ZXJ5LmJ1aWxkRnJhZ21lbnQoIGFyZ3MsIHRoaXNbIDAgXS5vd25lckRvY3VtZW50LCBmYWxzZSwgdGhpcyApO1xuICAgICAgZmlyc3QgPSBmcmFnbWVudC5maXJzdENoaWxkO1xuXG4gICAgICBpZiAoIGZyYWdtZW50LmNoaWxkTm9kZXMubGVuZ3RoID09PSAxICkge1xuICAgICAgICBmcmFnbWVudCA9IGZpcnN0O1xuICAgICAgfVxuXG4gICAgICBpZiAoIGZpcnN0ICkge1xuICAgICAgICBzY3JpcHRzID0galF1ZXJ5Lm1hcCggZ2V0QWxsKCBmcmFnbWVudCwgXCJzY3JpcHRcIiApLCBkaXNhYmxlU2NyaXB0ICk7XG4gICAgICAgIGhhc1NjcmlwdHMgPSBzY3JpcHRzLmxlbmd0aDtcblxuICAgICAgICAvLyBVc2UgdGhlIG9yaWdpbmFsIGZyYWdtZW50IGZvciB0aGUgbGFzdCBpdGVtIGluc3RlYWQgb2YgdGhlIGZpcnN0IGJlY2F1c2UgaXQgY2FuIGVuZCB1cFxuICAgICAgICAvLyBiZWluZyBlbXB0aWVkIGluY29ycmVjdGx5IGluIGNlcnRhaW4gc2l0dWF0aW9ucyAoIzgwNzApLlxuICAgICAgICBmb3IgKCA7IGkgPCBsOyBpKysgKSB7XG4gICAgICAgICAgbm9kZSA9IGZyYWdtZW50O1xuXG4gICAgICAgICAgaWYgKCBpICE9PSBpTm9DbG9uZSApIHtcbiAgICAgICAgICAgIG5vZGUgPSBqUXVlcnkuY2xvbmUoIG5vZGUsIHRydWUsIHRydWUgKTtcblxuICAgICAgICAgICAgLy8gS2VlcCByZWZlcmVuY2VzIHRvIGNsb25lZCBzY3JpcHRzIGZvciBsYXRlciByZXN0b3JhdGlvblxuICAgICAgICAgICAgaWYgKCBoYXNTY3JpcHRzICkge1xuICAgICAgICAgICAgICBqUXVlcnkubWVyZ2UoIHNjcmlwdHMsIGdldEFsbCggbm9kZSwgXCJzY3JpcHRcIiApICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2FsbGJhY2suY2FsbCggdGhpc1tpXSwgbm9kZSwgaSApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCBoYXNTY3JpcHRzICkge1xuICAgICAgICAgIGRvYyA9IHNjcmlwdHNbIHNjcmlwdHMubGVuZ3RoIC0gMSBdLm93bmVyRG9jdW1lbnQ7XG5cbiAgICAgICAgICAvLyBSZWVuYWJsZSBzY3JpcHRzXG4gICAgICAgICAgalF1ZXJ5Lm1hcCggc2NyaXB0cywgcmVzdG9yZVNjcmlwdCApO1xuXG4gICAgICAgICAgLy8gRXZhbHVhdGUgZXhlY3V0YWJsZSBzY3JpcHRzIG9uIGZpcnN0IGRvY3VtZW50IGluc2VydGlvblxuICAgICAgICAgIGZvciAoIGkgPSAwOyBpIDwgaGFzU2NyaXB0czsgaSsrICkge1xuICAgICAgICAgICAgbm9kZSA9IHNjcmlwdHNbIGkgXTtcbiAgICAgICAgICAgIGlmICggcnNjcmlwdFR5cGUudGVzdCggbm9kZS50eXBlIHx8IFwiXCIgKSAmJlxuICAgICAgICAgICAgICAhalF1ZXJ5Ll9kYXRhKCBub2RlLCBcImdsb2JhbEV2YWxcIiApICYmIGpRdWVyeS5jb250YWlucyggZG9jLCBub2RlICkgKSB7XG5cbiAgICAgICAgICAgICAgaWYgKCBub2RlLnNyYyApIHtcbiAgICAgICAgICAgICAgICAvLyBPcHRpb25hbCBBSkFYIGRlcGVuZGVuY3ksIGJ1dCB3b24ndCBydW4gc2NyaXB0cyBpZiBub3QgcHJlc2VudFxuICAgICAgICAgICAgICAgIGlmICggalF1ZXJ5Ll9ldmFsVXJsICkge1xuICAgICAgICAgICAgICAgICAgalF1ZXJ5Ll9ldmFsVXJsKCBub2RlLnNyYyApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBqUXVlcnkuZ2xvYmFsRXZhbCggKCBub2RlLnRleHQgfHwgbm9kZS50ZXh0Q29udGVudCB8fCBub2RlLmlubmVySFRNTCB8fCBcIlwiICkucmVwbGFjZSggcmNsZWFuU2NyaXB0LCBcIlwiICkgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZpeCAjMTE4MDk6IEF2b2lkIGxlYWtpbmcgbWVtb3J5XG4gICAgICAgIGZyYWdtZW50ID0gZmlyc3QgPSBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG59KTtcblxualF1ZXJ5LmVhY2goe1xuICBhcHBlbmRUbzogXCJhcHBlbmRcIixcbiAgcHJlcGVuZFRvOiBcInByZXBlbmRcIixcbiAgaW5zZXJ0QmVmb3JlOiBcImJlZm9yZVwiLFxuICBpbnNlcnRBZnRlcjogXCJhZnRlclwiLFxuICByZXBsYWNlQWxsOiBcInJlcGxhY2VXaXRoXCJcbn0sIGZ1bmN0aW9uKCBuYW1lLCBvcmlnaW5hbCApIHtcbiAgalF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG4gICAgdmFyIGVsZW1zLFxuICAgICAgaSA9IDAsXG4gICAgICByZXQgPSBbXSxcbiAgICAgIGluc2VydCA9IGpRdWVyeSggc2VsZWN0b3IgKSxcbiAgICAgIGxhc3QgPSBpbnNlcnQubGVuZ3RoIC0gMTtcblxuICAgIGZvciAoIDsgaSA8PSBsYXN0OyBpKysgKSB7XG4gICAgICBlbGVtcyA9IGkgPT09IGxhc3QgPyB0aGlzIDogdGhpcy5jbG9uZSh0cnVlKTtcbiAgICAgIGpRdWVyeSggaW5zZXJ0W2ldIClbIG9yaWdpbmFsIF0oIGVsZW1zICk7XG5cbiAgICAgIC8vIE1vZGVybiBicm93c2VycyBjYW4gYXBwbHkgalF1ZXJ5IGNvbGxlY3Rpb25zIGFzIGFycmF5cywgYnV0IG9sZElFIG5lZWRzIGEgLmdldCgpXG4gICAgICBwdXNoLmFwcGx5KCByZXQsIGVsZW1zLmdldCgpICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMucHVzaFN0YWNrKCByZXQgKTtcbiAgfTtcbn0pO1xuXG5cbnZhciBpZnJhbWUsXG4gIGVsZW1kaXNwbGF5ID0ge307XG5cbi8qKlxuICogUmV0cmlldmUgdGhlIGFjdHVhbCBkaXNwbGF5IG9mIGEgZWxlbWVudFxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgbm9kZU5hbWUgb2YgdGhlIGVsZW1lbnRcbiAqIEBwYXJhbSB7T2JqZWN0fSBkb2MgRG9jdW1lbnQgb2JqZWN0XG4gKi9cbi8vIENhbGxlZCBvbmx5IGZyb20gd2l0aGluIGRlZmF1bHREaXNwbGF5XG5mdW5jdGlvbiBhY3R1YWxEaXNwbGF5KCBuYW1lLCBkb2MgKSB7XG4gIHZhciBzdHlsZSxcbiAgICBlbGVtID0galF1ZXJ5KCBkb2MuY3JlYXRlRWxlbWVudCggbmFtZSApICkuYXBwZW5kVG8oIGRvYy5ib2R5ICksXG5cbiAgICAvLyBnZXREZWZhdWx0Q29tcHV0ZWRTdHlsZSBtaWdodCBiZSByZWxpYWJseSB1c2VkIG9ubHkgb24gYXR0YWNoZWQgZWxlbWVudFxuICAgIGRpc3BsYXkgPSB3aW5kb3cuZ2V0RGVmYXVsdENvbXB1dGVkU3R5bGUgJiYgKCBzdHlsZSA9IHdpbmRvdy5nZXREZWZhdWx0Q29tcHV0ZWRTdHlsZSggZWxlbVsgMCBdICkgKSA/XG5cbiAgICAgIC8vIFVzZSBvZiB0aGlzIG1ldGhvZCBpcyBhIHRlbXBvcmFyeSBmaXggKG1vcmUgbGlrZSBvcHRtaXphdGlvbikgdW50aWwgc29tZXRoaW5nIGJldHRlciBjb21lcyBhbG9uZyxcbiAgICAgIC8vIHNpbmNlIGl0IHdhcyByZW1vdmVkIGZyb20gc3BlY2lmaWNhdGlvbiBhbmQgc3VwcG9ydGVkIG9ubHkgaW4gRkZcbiAgICAgIHN0eWxlLmRpc3BsYXkgOiBqUXVlcnkuY3NzKCBlbGVtWyAwIF0sIFwiZGlzcGxheVwiICk7XG5cbiAgLy8gV2UgZG9uJ3QgaGF2ZSBhbnkgZGF0YSBzdG9yZWQgb24gdGhlIGVsZW1lbnQsXG4gIC8vIHNvIHVzZSBcImRldGFjaFwiIG1ldGhvZCBhcyBmYXN0IHdheSB0byBnZXQgcmlkIG9mIHRoZSBlbGVtZW50XG4gIGVsZW0uZGV0YWNoKCk7XG5cbiAgcmV0dXJuIGRpc3BsYXk7XG59XG5cbi8qKlxuICogVHJ5IHRvIGRldGVybWluZSB0aGUgZGVmYXVsdCBkaXNwbGF5IHZhbHVlIG9mIGFuIGVsZW1lbnRcbiAqIEBwYXJhbSB7U3RyaW5nfSBub2RlTmFtZVxuICovXG5mdW5jdGlvbiBkZWZhdWx0RGlzcGxheSggbm9kZU5hbWUgKSB7XG4gIHZhciBkb2MgPSBkb2N1bWVudCxcbiAgICBkaXNwbGF5ID0gZWxlbWRpc3BsYXlbIG5vZGVOYW1lIF07XG5cbiAgaWYgKCAhZGlzcGxheSApIHtcbiAgICBkaXNwbGF5ID0gYWN0dWFsRGlzcGxheSggbm9kZU5hbWUsIGRvYyApO1xuXG4gICAgLy8gSWYgdGhlIHNpbXBsZSB3YXkgZmFpbHMsIHJlYWQgZnJvbSBpbnNpZGUgYW4gaWZyYW1lXG4gICAgaWYgKCBkaXNwbGF5ID09PSBcIm5vbmVcIiB8fCAhZGlzcGxheSApIHtcblxuICAgICAgLy8gVXNlIHRoZSBhbHJlYWR5LWNyZWF0ZWQgaWZyYW1lIGlmIHBvc3NpYmxlXG4gICAgICBpZnJhbWUgPSAoaWZyYW1lIHx8IGpRdWVyeSggXCI8aWZyYW1lIGZyYW1lYm9yZGVyPScwJyB3aWR0aD0nMCcgaGVpZ2h0PScwJy8+XCIgKSkuYXBwZW5kVG8oIGRvYy5kb2N1bWVudEVsZW1lbnQgKTtcblxuICAgICAgLy8gQWx3YXlzIHdyaXRlIGEgbmV3IEhUTUwgc2tlbGV0b24gc28gV2Via2l0IGFuZCBGaXJlZm94IGRvbid0IGNob2tlIG9uIHJldXNlXG4gICAgICBkb2MgPSAoIGlmcmFtZVsgMCBdLmNvbnRlbnRXaW5kb3cgfHwgaWZyYW1lWyAwIF0uY29udGVudERvY3VtZW50ICkuZG9jdW1lbnQ7XG5cbiAgICAgIC8vIFN1cHBvcnQ6IElFXG4gICAgICBkb2Mud3JpdGUoKTtcbiAgICAgIGRvYy5jbG9zZSgpO1xuXG4gICAgICBkaXNwbGF5ID0gYWN0dWFsRGlzcGxheSggbm9kZU5hbWUsIGRvYyApO1xuICAgICAgaWZyYW1lLmRldGFjaCgpO1xuICAgIH1cblxuICAgIC8vIFN0b3JlIHRoZSBjb3JyZWN0IGRlZmF1bHQgZGlzcGxheVxuICAgIGVsZW1kaXNwbGF5WyBub2RlTmFtZSBdID0gZGlzcGxheTtcbiAgfVxuXG4gIHJldHVybiBkaXNwbGF5O1xufVxuXG5cbihmdW5jdGlvbigpIHtcbiAgdmFyIHNocmlua1dyYXBCbG9ja3NWYWw7XG5cbiAgc3VwcG9ydC5zaHJpbmtXcmFwQmxvY2tzID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCBzaHJpbmtXcmFwQmxvY2tzVmFsICE9IG51bGwgKSB7XG4gICAgICByZXR1cm4gc2hyaW5rV3JhcEJsb2Nrc1ZhbDtcbiAgICB9XG5cbiAgICAvLyBXaWxsIGJlIGNoYW5nZWQgbGF0ZXIgaWYgbmVlZGVkLlxuICAgIHNocmlua1dyYXBCbG9ja3NWYWwgPSBmYWxzZTtcblxuICAgIC8vIE1pbmlmaWVkOiB2YXIgYixjLGRcbiAgICB2YXIgZGl2LCBib2R5LCBjb250YWluZXI7XG5cbiAgICBib2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIFwiYm9keVwiIClbIDAgXTtcbiAgICBpZiAoICFib2R5IHx8ICFib2R5LnN0eWxlICkge1xuICAgICAgLy8gVGVzdCBmaXJlZCB0b28gZWFybHkgb3IgaW4gYW4gdW5zdXBwb3J0ZWQgZW52aXJvbm1lbnQsIGV4aXQuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gU2V0dXBcbiAgICBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICk7XG4gICAgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApO1xuICAgIGNvbnRhaW5lci5zdHlsZS5jc3NUZXh0ID0gXCJwb3NpdGlvbjphYnNvbHV0ZTtib3JkZXI6MDt3aWR0aDowO2hlaWdodDowO3RvcDowO2xlZnQ6LTk5OTlweFwiO1xuICAgIGJvZHkuYXBwZW5kQ2hpbGQoIGNvbnRhaW5lciApLmFwcGVuZENoaWxkKCBkaXYgKTtcblxuICAgIC8vIFN1cHBvcnQ6IElFNlxuICAgIC8vIENoZWNrIGlmIGVsZW1lbnRzIHdpdGggbGF5b3V0IHNocmluay13cmFwIHRoZWlyIGNoaWxkcmVuXG4gICAgaWYgKCB0eXBlb2YgZGl2LnN0eWxlLnpvb20gIT09IHN0cnVuZGVmaW5lZCApIHtcbiAgICAgIC8vIFJlc2V0IENTUzogYm94LXNpemluZzsgZGlzcGxheTsgbWFyZ2luOyBib3JkZXJcbiAgICAgIGRpdi5zdHlsZS5jc3NUZXh0ID1cbiAgICAgICAgLy8gU3VwcG9ydDogRmlyZWZveDwyOSwgQW5kcm9pZCAyLjNcbiAgICAgICAgLy8gVmVuZG9yLXByZWZpeCBib3gtc2l6aW5nXG4gICAgICAgIFwiLXdlYmtpdC1ib3gtc2l6aW5nOmNvbnRlbnQtYm94Oy1tb3otYm94LXNpemluZzpjb250ZW50LWJveDtcIiArXG4gICAgICAgIFwiYm94LXNpemluZzpjb250ZW50LWJveDtkaXNwbGF5OmJsb2NrO21hcmdpbjowO2JvcmRlcjowO1wiICtcbiAgICAgICAgXCJwYWRkaW5nOjFweDt3aWR0aDoxcHg7em9vbToxXCI7XG4gICAgICBkaXYuYXBwZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKSApLnN0eWxlLndpZHRoID0gXCI1cHhcIjtcbiAgICAgIHNocmlua1dyYXBCbG9ja3NWYWwgPSBkaXYub2Zmc2V0V2lkdGggIT09IDM7XG4gICAgfVxuXG4gICAgYm9keS5yZW1vdmVDaGlsZCggY29udGFpbmVyICk7XG5cbiAgICByZXR1cm4gc2hyaW5rV3JhcEJsb2Nrc1ZhbDtcbiAgfTtcblxufSkoKTtcbnZhciBybWFyZ2luID0gKC9ebWFyZ2luLyk7XG5cbnZhciBybnVtbm9ucHggPSBuZXcgUmVnRXhwKCBcIl4oXCIgKyBwbnVtICsgXCIpKD8hcHgpW2EteiVdKyRcIiwgXCJpXCIgKTtcblxuXG5cbnZhciBnZXRTdHlsZXMsIGN1ckNTUyxcbiAgcnBvc2l0aW9uID0gL14odG9wfHJpZ2h0fGJvdHRvbXxsZWZ0KSQvO1xuXG5pZiAoIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlICkge1xuICBnZXRTdHlsZXMgPSBmdW5jdGlvbiggZWxlbSApIHtcbiAgICAvLyBTdXBwb3J0OiBJRTw9MTErLCBGaXJlZm94PD0zMCsgKCMxNTA5OCwgIzE0MTUwKVxuICAgIC8vIElFIHRocm93cyBvbiBlbGVtZW50cyBjcmVhdGVkIGluIHBvcHVwc1xuICAgIC8vIEZGIG1lYW53aGlsZSB0aHJvd3Mgb24gZnJhbWUgZWxlbWVudHMgdGhyb3VnaCBcImRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGVcIlxuICAgIGlmICggZWxlbS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3Lm9wZW5lciApIHtcbiAgICAgIHJldHVybiBlbGVtLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSggZWxlbSwgbnVsbCApO1xuICAgIH1cblxuICAgIHJldHVybiB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSggZWxlbSwgbnVsbCApO1xuICB9O1xuXG4gIGN1ckNTUyA9IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBjb21wdXRlZCApIHtcbiAgICB2YXIgd2lkdGgsIG1pbldpZHRoLCBtYXhXaWR0aCwgcmV0LFxuICAgICAgc3R5bGUgPSBlbGVtLnN0eWxlO1xuXG4gICAgY29tcHV0ZWQgPSBjb21wdXRlZCB8fCBnZXRTdHlsZXMoIGVsZW0gKTtcblxuICAgIC8vIGdldFByb3BlcnR5VmFsdWUgaXMgb25seSBuZWVkZWQgZm9yIC5jc3MoJ2ZpbHRlcicpIGluIElFOSwgc2VlICMxMjUzN1xuICAgIHJldCA9IGNvbXB1dGVkID8gY29tcHV0ZWQuZ2V0UHJvcGVydHlWYWx1ZSggbmFtZSApIHx8IGNvbXB1dGVkWyBuYW1lIF0gOiB1bmRlZmluZWQ7XG5cbiAgICBpZiAoIGNvbXB1dGVkICkge1xuXG4gICAgICBpZiAoIHJldCA9PT0gXCJcIiAmJiAhalF1ZXJ5LmNvbnRhaW5zKCBlbGVtLm93bmVyRG9jdW1lbnQsIGVsZW0gKSApIHtcbiAgICAgICAgcmV0ID0galF1ZXJ5LnN0eWxlKCBlbGVtLCBuYW1lICk7XG4gICAgICB9XG5cbiAgICAgIC8vIEEgdHJpYnV0ZSB0byB0aGUgXCJhd2Vzb21lIGhhY2sgYnkgRGVhbiBFZHdhcmRzXCJcbiAgICAgIC8vIENocm9tZSA8IDE3IGFuZCBTYWZhcmkgNS4wIHVzZXMgXCJjb21wdXRlZCB2YWx1ZVwiIGluc3RlYWQgb2YgXCJ1c2VkIHZhbHVlXCIgZm9yIG1hcmdpbi1yaWdodFxuICAgICAgLy8gU2FmYXJpIDUuMS43IChhdCBsZWFzdCkgcmV0dXJucyBwZXJjZW50YWdlIGZvciBhIGxhcmdlciBzZXQgb2YgdmFsdWVzLCBidXQgd2lkdGggc2VlbXMgdG8gYmUgcmVsaWFibHkgcGl4ZWxzXG4gICAgICAvLyB0aGlzIGlzIGFnYWluc3QgdGhlIENTU09NIGRyYWZ0IHNwZWM6IGh0dHA6Ly9kZXYudzMub3JnL2Nzc3dnL2Nzc29tLyNyZXNvbHZlZC12YWx1ZXNcbiAgICAgIGlmICggcm51bW5vbnB4LnRlc3QoIHJldCApICYmIHJtYXJnaW4udGVzdCggbmFtZSApICkge1xuXG4gICAgICAgIC8vIFJlbWVtYmVyIHRoZSBvcmlnaW5hbCB2YWx1ZXNcbiAgICAgICAgd2lkdGggPSBzdHlsZS53aWR0aDtcbiAgICAgICAgbWluV2lkdGggPSBzdHlsZS5taW5XaWR0aDtcbiAgICAgICAgbWF4V2lkdGggPSBzdHlsZS5tYXhXaWR0aDtcblxuICAgICAgICAvLyBQdXQgaW4gdGhlIG5ldyB2YWx1ZXMgdG8gZ2V0IGEgY29tcHV0ZWQgdmFsdWUgb3V0XG4gICAgICAgIHN0eWxlLm1pbldpZHRoID0gc3R5bGUubWF4V2lkdGggPSBzdHlsZS53aWR0aCA9IHJldDtcbiAgICAgICAgcmV0ID0gY29tcHV0ZWQud2lkdGg7XG5cbiAgICAgICAgLy8gUmV2ZXJ0IHRoZSBjaGFuZ2VkIHZhbHVlc1xuICAgICAgICBzdHlsZS53aWR0aCA9IHdpZHRoO1xuICAgICAgICBzdHlsZS5taW5XaWR0aCA9IG1pbldpZHRoO1xuICAgICAgICBzdHlsZS5tYXhXaWR0aCA9IG1heFdpZHRoO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFN1cHBvcnQ6IElFXG4gICAgLy8gSUUgcmV0dXJucyB6SW5kZXggdmFsdWUgYXMgYW4gaW50ZWdlci5cbiAgICByZXR1cm4gcmV0ID09PSB1bmRlZmluZWQgP1xuICAgICAgcmV0IDpcbiAgICAgIHJldCArIFwiXCI7XG4gIH07XG59IGVsc2UgaWYgKCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY3VycmVudFN0eWxlICkge1xuICBnZXRTdHlsZXMgPSBmdW5jdGlvbiggZWxlbSApIHtcbiAgICByZXR1cm4gZWxlbS5jdXJyZW50U3R5bGU7XG4gIH07XG5cbiAgY3VyQ1NTID0gZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGNvbXB1dGVkICkge1xuICAgIHZhciBsZWZ0LCBycywgcnNMZWZ0LCByZXQsXG4gICAgICBzdHlsZSA9IGVsZW0uc3R5bGU7XG5cbiAgICBjb21wdXRlZCA9IGNvbXB1dGVkIHx8IGdldFN0eWxlcyggZWxlbSApO1xuICAgIHJldCA9IGNvbXB1dGVkID8gY29tcHV0ZWRbIG5hbWUgXSA6IHVuZGVmaW5lZDtcblxuICAgIC8vIEF2b2lkIHNldHRpbmcgcmV0IHRvIGVtcHR5IHN0cmluZyBoZXJlXG4gICAgLy8gc28gd2UgZG9uJ3QgZGVmYXVsdCB0byBhdXRvXG4gICAgaWYgKCByZXQgPT0gbnVsbCAmJiBzdHlsZSAmJiBzdHlsZVsgbmFtZSBdICkge1xuICAgICAgcmV0ID0gc3R5bGVbIG5hbWUgXTtcbiAgICB9XG5cbiAgICAvLyBGcm9tIHRoZSBhd2Vzb21lIGhhY2sgYnkgRGVhbiBFZHdhcmRzXG4gICAgLy8gaHR0cDovL2VyaWsuZWFlLm5ldC9hcmNoaXZlcy8yMDA3LzA3LzI3LzE4LjU0LjE1LyNjb21tZW50LTEwMjI5MVxuXG4gICAgLy8gSWYgd2UncmUgbm90IGRlYWxpbmcgd2l0aCBhIHJlZ3VsYXIgcGl4ZWwgbnVtYmVyXG4gICAgLy8gYnV0IGEgbnVtYmVyIHRoYXQgaGFzIGEgd2VpcmQgZW5kaW5nLCB3ZSBuZWVkIHRvIGNvbnZlcnQgaXQgdG8gcGl4ZWxzXG4gICAgLy8gYnV0IG5vdCBwb3NpdGlvbiBjc3MgYXR0cmlidXRlcywgYXMgdGhvc2UgYXJlIHByb3BvcnRpb25hbCB0byB0aGUgcGFyZW50IGVsZW1lbnQgaW5zdGVhZFxuICAgIC8vIGFuZCB3ZSBjYW4ndCBtZWFzdXJlIHRoZSBwYXJlbnQgaW5zdGVhZCBiZWNhdXNlIGl0IG1pZ2h0IHRyaWdnZXIgYSBcInN0YWNraW5nIGRvbGxzXCIgcHJvYmxlbVxuICAgIGlmICggcm51bW5vbnB4LnRlc3QoIHJldCApICYmICFycG9zaXRpb24udGVzdCggbmFtZSApICkge1xuXG4gICAgICAvLyBSZW1lbWJlciB0aGUgb3JpZ2luYWwgdmFsdWVzXG4gICAgICBsZWZ0ID0gc3R5bGUubGVmdDtcbiAgICAgIHJzID0gZWxlbS5ydW50aW1lU3R5bGU7XG4gICAgICByc0xlZnQgPSBycyAmJiBycy5sZWZ0O1xuXG4gICAgICAvLyBQdXQgaW4gdGhlIG5ldyB2YWx1ZXMgdG8gZ2V0IGEgY29tcHV0ZWQgdmFsdWUgb3V0XG4gICAgICBpZiAoIHJzTGVmdCApIHtcbiAgICAgICAgcnMubGVmdCA9IGVsZW0uY3VycmVudFN0eWxlLmxlZnQ7XG4gICAgICB9XG4gICAgICBzdHlsZS5sZWZ0ID0gbmFtZSA9PT0gXCJmb250U2l6ZVwiID8gXCIxZW1cIiA6IHJldDtcbiAgICAgIHJldCA9IHN0eWxlLnBpeGVsTGVmdCArIFwicHhcIjtcblxuICAgICAgLy8gUmV2ZXJ0IHRoZSBjaGFuZ2VkIHZhbHVlc1xuICAgICAgc3R5bGUubGVmdCA9IGxlZnQ7XG4gICAgICBpZiAoIHJzTGVmdCApIHtcbiAgICAgICAgcnMubGVmdCA9IHJzTGVmdDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTdXBwb3J0OiBJRVxuICAgIC8vIElFIHJldHVybnMgekluZGV4IHZhbHVlIGFzIGFuIGludGVnZXIuXG4gICAgcmV0dXJuIHJldCA9PT0gdW5kZWZpbmVkID9cbiAgICAgIHJldCA6XG4gICAgICByZXQgKyBcIlwiIHx8IFwiYXV0b1wiO1xuICB9O1xufVxuXG5cblxuXG5mdW5jdGlvbiBhZGRHZXRIb29rSWYoIGNvbmRpdGlvbkZuLCBob29rRm4gKSB7XG4gIC8vIERlZmluZSB0aGUgaG9vaywgd2UnbGwgY2hlY2sgb24gdGhlIGZpcnN0IHJ1biBpZiBpdCdzIHJlYWxseSBuZWVkZWQuXG4gIHJldHVybiB7XG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBjb25kaXRpb24gPSBjb25kaXRpb25GbigpO1xuXG4gICAgICBpZiAoIGNvbmRpdGlvbiA9PSBudWxsICkge1xuICAgICAgICAvLyBUaGUgdGVzdCB3YXMgbm90IHJlYWR5IGF0IHRoaXMgcG9pbnQ7IHNjcmV3IHRoZSBob29rIHRoaXMgdGltZVxuICAgICAgICAvLyBidXQgY2hlY2sgYWdhaW4gd2hlbiBuZWVkZWQgbmV4dCB0aW1lLlxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICggY29uZGl0aW9uICkge1xuICAgICAgICAvLyBIb29rIG5vdCBuZWVkZWQgKG9yIGl0J3Mgbm90IHBvc3NpYmxlIHRvIHVzZSBpdCBkdWUgdG8gbWlzc2luZyBkZXBlbmRlbmN5KSxcbiAgICAgICAgLy8gcmVtb3ZlIGl0LlxuICAgICAgICAvLyBTaW5jZSB0aGVyZSBhcmUgbm8gb3RoZXIgaG9va3MgZm9yIG1hcmdpblJpZ2h0LCByZW1vdmUgdGhlIHdob2xlIG9iamVjdC5cbiAgICAgICAgZGVsZXRlIHRoaXMuZ2V0O1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIEhvb2sgbmVlZGVkOyByZWRlZmluZSBpdCBzbyB0aGF0IHRoZSBzdXBwb3J0IHRlc3QgaXMgbm90IGV4ZWN1dGVkIGFnYWluLlxuXG4gICAgICByZXR1cm4gKHRoaXMuZ2V0ID0gaG9va0ZuKS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG4gICAgfVxuICB9O1xufVxuXG5cbihmdW5jdGlvbigpIHtcbiAgLy8gTWluaWZpZWQ6IHZhciBiLGMsZCxlLGYsZywgaCxpXG4gIHZhciBkaXYsIHN0eWxlLCBhLCBwaXhlbFBvc2l0aW9uVmFsLCBib3hTaXppbmdSZWxpYWJsZVZhbCxcbiAgICByZWxpYWJsZUhpZGRlbk9mZnNldHNWYWwsIHJlbGlhYmxlTWFyZ2luUmlnaHRWYWw7XG5cbiAgLy8gU2V0dXBcbiAgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApO1xuICBkaXYuaW5uZXJIVE1MID0gXCIgIDxsaW5rLz48dGFibGU+PC90YWJsZT48YSBocmVmPScvYSc+YTwvYT48aW5wdXQgdHlwZT0nY2hlY2tib3gnLz5cIjtcbiAgYSA9IGRpdi5nZXRFbGVtZW50c0J5VGFnTmFtZSggXCJhXCIgKVsgMCBdO1xuICBzdHlsZSA9IGEgJiYgYS5zdHlsZTtcblxuICAvLyBGaW5pc2ggZWFybHkgaW4gbGltaXRlZCAobm9uLWJyb3dzZXIpIGVudmlyb25tZW50c1xuICBpZiAoICFzdHlsZSApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBzdHlsZS5jc3NUZXh0ID0gXCJmbG9hdDpsZWZ0O29wYWNpdHk6LjVcIjtcblxuICAvLyBTdXBwb3J0OiBJRTw5XG4gIC8vIE1ha2Ugc3VyZSB0aGF0IGVsZW1lbnQgb3BhY2l0eSBleGlzdHMgKGFzIG9wcG9zZWQgdG8gZmlsdGVyKVxuICBzdXBwb3J0Lm9wYWNpdHkgPSBzdHlsZS5vcGFjaXR5ID09PSBcIjAuNVwiO1xuXG4gIC8vIFZlcmlmeSBzdHlsZSBmbG9hdCBleGlzdGVuY2VcbiAgLy8gKElFIHVzZXMgc3R5bGVGbG9hdCBpbnN0ZWFkIG9mIGNzc0Zsb2F0KVxuICBzdXBwb3J0LmNzc0Zsb2F0ID0gISFzdHlsZS5jc3NGbG9hdDtcblxuICBkaXYuc3R5bGUuYmFja2dyb3VuZENsaXAgPSBcImNvbnRlbnQtYm94XCI7XG4gIGRpdi5jbG9uZU5vZGUoIHRydWUgKS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCA9IFwiXCI7XG4gIHN1cHBvcnQuY2xlYXJDbG9uZVN0eWxlID0gZGl2LnN0eWxlLmJhY2tncm91bmRDbGlwID09PSBcImNvbnRlbnQtYm94XCI7XG5cbiAgLy8gU3VwcG9ydDogRmlyZWZveDwyOSwgQW5kcm9pZCAyLjNcbiAgLy8gVmVuZG9yLXByZWZpeCBib3gtc2l6aW5nXG4gIHN1cHBvcnQuYm94U2l6aW5nID0gc3R5bGUuYm94U2l6aW5nID09PSBcIlwiIHx8IHN0eWxlLk1vekJveFNpemluZyA9PT0gXCJcIiB8fFxuICAgIHN0eWxlLldlYmtpdEJveFNpemluZyA9PT0gXCJcIjtcblxuICBqUXVlcnkuZXh0ZW5kKHN1cHBvcnQsIHtcbiAgICByZWxpYWJsZUhpZGRlbk9mZnNldHM6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCByZWxpYWJsZUhpZGRlbk9mZnNldHNWYWwgPT0gbnVsbCApIHtcbiAgICAgICAgY29tcHV0ZVN0eWxlVGVzdHMoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZWxpYWJsZUhpZGRlbk9mZnNldHNWYWw7XG4gICAgfSxcblxuICAgIGJveFNpemluZ1JlbGlhYmxlOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICggYm94U2l6aW5nUmVsaWFibGVWYWwgPT0gbnVsbCApIHtcbiAgICAgICAgY29tcHV0ZVN0eWxlVGVzdHMoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBib3hTaXppbmdSZWxpYWJsZVZhbDtcbiAgICB9LFxuXG4gICAgcGl4ZWxQb3NpdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoIHBpeGVsUG9zaXRpb25WYWwgPT0gbnVsbCApIHtcbiAgICAgICAgY29tcHV0ZVN0eWxlVGVzdHMoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwaXhlbFBvc2l0aW9uVmFsO1xuICAgIH0sXG5cbiAgICAvLyBTdXBwb3J0OiBBbmRyb2lkIDIuM1xuICAgIHJlbGlhYmxlTWFyZ2luUmlnaHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCByZWxpYWJsZU1hcmdpblJpZ2h0VmFsID09IG51bGwgKSB7XG4gICAgICAgIGNvbXB1dGVTdHlsZVRlc3RzKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVsaWFibGVNYXJnaW5SaWdodFZhbDtcbiAgICB9XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGNvbXB1dGVTdHlsZVRlc3RzKCkge1xuICAgIC8vIE1pbmlmaWVkOiB2YXIgYixjLGQsalxuICAgIHZhciBkaXYsIGJvZHksIGNvbnRhaW5lciwgY29udGVudHM7XG5cbiAgICBib2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIFwiYm9keVwiIClbIDAgXTtcbiAgICBpZiAoICFib2R5IHx8ICFib2R5LnN0eWxlICkge1xuICAgICAgLy8gVGVzdCBmaXJlZCB0b28gZWFybHkgb3IgaW4gYW4gdW5zdXBwb3J0ZWQgZW52aXJvbm1lbnQsIGV4aXQuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gU2V0dXBcbiAgICBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICk7XG4gICAgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApO1xuICAgIGNvbnRhaW5lci5zdHlsZS5jc3NUZXh0ID0gXCJwb3NpdGlvbjphYnNvbHV0ZTtib3JkZXI6MDt3aWR0aDowO2hlaWdodDowO3RvcDowO2xlZnQ6LTk5OTlweFwiO1xuICAgIGJvZHkuYXBwZW5kQ2hpbGQoIGNvbnRhaW5lciApLmFwcGVuZENoaWxkKCBkaXYgKTtcblxuICAgIGRpdi5zdHlsZS5jc3NUZXh0ID1cbiAgICAgIC8vIFN1cHBvcnQ6IEZpcmVmb3g8MjksIEFuZHJvaWQgMi4zXG4gICAgICAvLyBWZW5kb3ItcHJlZml4IGJveC1zaXppbmdcbiAgICAgIFwiLXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7LW1vei1ib3gtc2l6aW5nOmJvcmRlci1ib3g7XCIgK1xuICAgICAgXCJib3gtc2l6aW5nOmJvcmRlci1ib3g7ZGlzcGxheTpibG9jazttYXJnaW4tdG9wOjElO3RvcDoxJTtcIiArXG4gICAgICBcImJvcmRlcjoxcHg7cGFkZGluZzoxcHg7d2lkdGg6NHB4O3Bvc2l0aW9uOmFic29sdXRlXCI7XG5cbiAgICAvLyBTdXBwb3J0OiBJRTw5XG4gICAgLy8gQXNzdW1lIHJlYXNvbmFibGUgdmFsdWVzIGluIHRoZSBhYnNlbmNlIG9mIGdldENvbXB1dGVkU3R5bGVcbiAgICBwaXhlbFBvc2l0aW9uVmFsID0gYm94U2l6aW5nUmVsaWFibGVWYWwgPSBmYWxzZTtcbiAgICByZWxpYWJsZU1hcmdpblJpZ2h0VmFsID0gdHJ1ZTtcblxuICAgIC8vIENoZWNrIGZvciBnZXRDb21wdXRlZFN0eWxlIHNvIHRoYXQgdGhpcyBjb2RlIGlzIG5vdCBydW4gaW4gSUU8OS5cbiAgICBpZiAoIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlICkge1xuICAgICAgcGl4ZWxQb3NpdGlvblZhbCA9ICggd2luZG93LmdldENvbXB1dGVkU3R5bGUoIGRpdiwgbnVsbCApIHx8IHt9ICkudG9wICE9PSBcIjElXCI7XG4gICAgICBib3hTaXppbmdSZWxpYWJsZVZhbCA9XG4gICAgICAgICggd2luZG93LmdldENvbXB1dGVkU3R5bGUoIGRpdiwgbnVsbCApIHx8IHsgd2lkdGg6IFwiNHB4XCIgfSApLndpZHRoID09PSBcIjRweFwiO1xuXG4gICAgICAvLyBTdXBwb3J0OiBBbmRyb2lkIDIuM1xuICAgICAgLy8gRGl2IHdpdGggZXhwbGljaXQgd2lkdGggYW5kIG5vIG1hcmdpbi1yaWdodCBpbmNvcnJlY3RseVxuICAgICAgLy8gZ2V0cyBjb21wdXRlZCBtYXJnaW4tcmlnaHQgYmFzZWQgb24gd2lkdGggb2YgY29udGFpbmVyICgjMzMzMylcbiAgICAgIC8vIFdlYktpdCBCdWcgMTMzNDMgLSBnZXRDb21wdXRlZFN0eWxlIHJldHVybnMgd3JvbmcgdmFsdWUgZm9yIG1hcmdpbi1yaWdodFxuICAgICAgY29udGVudHMgPSBkaXYuYXBwZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKSApO1xuXG4gICAgICAvLyBSZXNldCBDU1M6IGJveC1zaXppbmc7IGRpc3BsYXk7IG1hcmdpbjsgYm9yZGVyOyBwYWRkaW5nXG4gICAgICBjb250ZW50cy5zdHlsZS5jc3NUZXh0ID0gZGl2LnN0eWxlLmNzc1RleHQgPVxuICAgICAgICAvLyBTdXBwb3J0OiBGaXJlZm94PDI5LCBBbmRyb2lkIDIuM1xuICAgICAgICAvLyBWZW5kb3ItcHJlZml4IGJveC1zaXppbmdcbiAgICAgICAgXCItd2Via2l0LWJveC1zaXppbmc6Y29udGVudC1ib3g7LW1vei1ib3gtc2l6aW5nOmNvbnRlbnQtYm94O1wiICtcbiAgICAgICAgXCJib3gtc2l6aW5nOmNvbnRlbnQtYm94O2Rpc3BsYXk6YmxvY2s7bWFyZ2luOjA7Ym9yZGVyOjA7cGFkZGluZzowXCI7XG4gICAgICBjb250ZW50cy5zdHlsZS5tYXJnaW5SaWdodCA9IGNvbnRlbnRzLnN0eWxlLndpZHRoID0gXCIwXCI7XG4gICAgICBkaXYuc3R5bGUud2lkdGggPSBcIjFweFwiO1xuXG4gICAgICByZWxpYWJsZU1hcmdpblJpZ2h0VmFsID1cbiAgICAgICAgIXBhcnNlRmxvYXQoICggd2luZG93LmdldENvbXB1dGVkU3R5bGUoIGNvbnRlbnRzLCBudWxsICkgfHwge30gKS5tYXJnaW5SaWdodCApO1xuXG4gICAgICBkaXYucmVtb3ZlQ2hpbGQoIGNvbnRlbnRzICk7XG4gICAgfVxuXG4gICAgLy8gU3VwcG9ydDogSUU4XG4gICAgLy8gQ2hlY2sgaWYgdGFibGUgY2VsbHMgc3RpbGwgaGF2ZSBvZmZzZXRXaWR0aC9IZWlnaHQgd2hlbiB0aGV5IGFyZSBzZXRcbiAgICAvLyB0byBkaXNwbGF5Om5vbmUgYW5kIHRoZXJlIGFyZSBzdGlsbCBvdGhlciB2aXNpYmxlIHRhYmxlIGNlbGxzIGluIGFcbiAgICAvLyB0YWJsZSByb3c7IGlmIHNvLCBvZmZzZXRXaWR0aC9IZWlnaHQgYXJlIG5vdCByZWxpYWJsZSBmb3IgdXNlIHdoZW5cbiAgICAvLyBkZXRlcm1pbmluZyBpZiBhbiBlbGVtZW50IGhhcyBiZWVuIGhpZGRlbiBkaXJlY3RseSB1c2luZ1xuICAgIC8vIGRpc3BsYXk6bm9uZSAoaXQgaXMgc3RpbGwgc2FmZSB0byB1c2Ugb2Zmc2V0cyBpZiBhIHBhcmVudCBlbGVtZW50IGlzXG4gICAgLy8gaGlkZGVuOyBkb24gc2FmZXR5IGdvZ2dsZXMgYW5kIHNlZSBidWcgIzQ1MTIgZm9yIG1vcmUgaW5mb3JtYXRpb24pLlxuICAgIGRpdi5pbm5lckhUTUwgPSBcIjx0YWJsZT48dHI+PHRkPjwvdGQ+PHRkPnQ8L3RkPjwvdHI+PC90YWJsZT5cIjtcbiAgICBjb250ZW50cyA9IGRpdi5nZXRFbGVtZW50c0J5VGFnTmFtZSggXCJ0ZFwiICk7XG4gICAgY29udGVudHNbIDAgXS5zdHlsZS5jc3NUZXh0ID0gXCJtYXJnaW46MDtib3JkZXI6MDtwYWRkaW5nOjA7ZGlzcGxheTpub25lXCI7XG4gICAgcmVsaWFibGVIaWRkZW5PZmZzZXRzVmFsID0gY29udGVudHNbIDAgXS5vZmZzZXRIZWlnaHQgPT09IDA7XG4gICAgaWYgKCByZWxpYWJsZUhpZGRlbk9mZnNldHNWYWwgKSB7XG4gICAgICBjb250ZW50c1sgMCBdLnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuICAgICAgY29udGVudHNbIDEgXS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICByZWxpYWJsZUhpZGRlbk9mZnNldHNWYWwgPSBjb250ZW50c1sgMCBdLm9mZnNldEhlaWdodCA9PT0gMDtcbiAgICB9XG5cbiAgICBib2R5LnJlbW92ZUNoaWxkKCBjb250YWluZXIgKTtcbiAgfVxuXG59KSgpO1xuXG5cbi8vIEEgbWV0aG9kIGZvciBxdWlja2x5IHN3YXBwaW5nIGluL291dCBDU1MgcHJvcGVydGllcyB0byBnZXQgY29ycmVjdCBjYWxjdWxhdGlvbnMuXG5qUXVlcnkuc3dhcCA9IGZ1bmN0aW9uKCBlbGVtLCBvcHRpb25zLCBjYWxsYmFjaywgYXJncyApIHtcbiAgdmFyIHJldCwgbmFtZSxcbiAgICBvbGQgPSB7fTtcblxuICAvLyBSZW1lbWJlciB0aGUgb2xkIHZhbHVlcywgYW5kIGluc2VydCB0aGUgbmV3IG9uZXNcbiAgZm9yICggbmFtZSBpbiBvcHRpb25zICkge1xuICAgIG9sZFsgbmFtZSBdID0gZWxlbS5zdHlsZVsgbmFtZSBdO1xuICAgIGVsZW0uc3R5bGVbIG5hbWUgXSA9IG9wdGlvbnNbIG5hbWUgXTtcbiAgfVxuXG4gIHJldCA9IGNhbGxiYWNrLmFwcGx5KCBlbGVtLCBhcmdzIHx8IFtdICk7XG5cbiAgLy8gUmV2ZXJ0IHRoZSBvbGQgdmFsdWVzXG4gIGZvciAoIG5hbWUgaW4gb3B0aW9ucyApIHtcbiAgICBlbGVtLnN0eWxlWyBuYW1lIF0gPSBvbGRbIG5hbWUgXTtcbiAgfVxuXG4gIHJldHVybiByZXQ7XG59O1xuXG5cbnZhclxuICAgIHJhbHBoYSA9IC9hbHBoYVxcKFteKV0qXFwpL2ksXG4gIHJvcGFjaXR5ID0gL29wYWNpdHlcXHMqPVxccyooW14pXSopLyxcblxuICAvLyBzd2FwcGFibGUgaWYgZGlzcGxheSBpcyBub25lIG9yIHN0YXJ0cyB3aXRoIHRhYmxlIGV4Y2VwdCBcInRhYmxlXCIsIFwidGFibGUtY2VsbFwiLCBvciBcInRhYmxlLWNhcHRpb25cIlxuICAvLyBzZWUgaGVyZSBmb3IgZGlzcGxheSB2YWx1ZXM6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvQ1NTL2Rpc3BsYXlcbiAgcmRpc3BsYXlzd2FwID0gL14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLFxuICBybnVtc3BsaXQgPSBuZXcgUmVnRXhwKCBcIl4oXCIgKyBwbnVtICsgXCIpKC4qKSRcIiwgXCJpXCIgKSxcbiAgcnJlbE51bSA9IG5ldyBSZWdFeHAoIFwiXihbKy1dKT0oXCIgKyBwbnVtICsgXCIpXCIsIFwiaVwiICksXG5cbiAgY3NzU2hvdyA9IHsgcG9zaXRpb246IFwiYWJzb2x1dGVcIiwgdmlzaWJpbGl0eTogXCJoaWRkZW5cIiwgZGlzcGxheTogXCJibG9ja1wiIH0sXG4gIGNzc05vcm1hbFRyYW5zZm9ybSA9IHtcbiAgICBsZXR0ZXJTcGFjaW5nOiBcIjBcIixcbiAgICBmb250V2VpZ2h0OiBcIjQwMFwiXG4gIH0sXG5cbiAgY3NzUHJlZml4ZXMgPSBbIFwiV2Via2l0XCIsIFwiT1wiLCBcIk1velwiLCBcIm1zXCIgXTtcblxuXG4vLyByZXR1cm4gYSBjc3MgcHJvcGVydHkgbWFwcGVkIHRvIGEgcG90ZW50aWFsbHkgdmVuZG9yIHByZWZpeGVkIHByb3BlcnR5XG5mdW5jdGlvbiB2ZW5kb3JQcm9wTmFtZSggc3R5bGUsIG5hbWUgKSB7XG5cbiAgLy8gc2hvcnRjdXQgZm9yIG5hbWVzIHRoYXQgYXJlIG5vdCB2ZW5kb3IgcHJlZml4ZWRcbiAgaWYgKCBuYW1lIGluIHN0eWxlICkge1xuICAgIHJldHVybiBuYW1lO1xuICB9XG5cbiAgLy8gY2hlY2sgZm9yIHZlbmRvciBwcmVmaXhlZCBuYW1lc1xuICB2YXIgY2FwTmFtZSA9IG5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBuYW1lLnNsaWNlKDEpLFxuICAgIG9yaWdOYW1lID0gbmFtZSxcbiAgICBpID0gY3NzUHJlZml4ZXMubGVuZ3RoO1xuXG4gIHdoaWxlICggaS0tICkge1xuICAgIG5hbWUgPSBjc3NQcmVmaXhlc1sgaSBdICsgY2FwTmFtZTtcbiAgICBpZiAoIG5hbWUgaW4gc3R5bGUgKSB7XG4gICAgICByZXR1cm4gbmFtZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gb3JpZ05hbWU7XG59XG5cbmZ1bmN0aW9uIHNob3dIaWRlKCBlbGVtZW50cywgc2hvdyApIHtcbiAgdmFyIGRpc3BsYXksIGVsZW0sIGhpZGRlbixcbiAgICB2YWx1ZXMgPSBbXSxcbiAgICBpbmRleCA9IDAsXG4gICAgbGVuZ3RoID0gZWxlbWVudHMubGVuZ3RoO1xuXG4gIGZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG4gICAgZWxlbSA9IGVsZW1lbnRzWyBpbmRleCBdO1xuICAgIGlmICggIWVsZW0uc3R5bGUgKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICB2YWx1ZXNbIGluZGV4IF0gPSBqUXVlcnkuX2RhdGEoIGVsZW0sIFwib2xkZGlzcGxheVwiICk7XG4gICAgZGlzcGxheSA9IGVsZW0uc3R5bGUuZGlzcGxheTtcbiAgICBpZiAoIHNob3cgKSB7XG4gICAgICAvLyBSZXNldCB0aGUgaW5saW5lIGRpc3BsYXkgb2YgdGhpcyBlbGVtZW50IHRvIGxlYXJuIGlmIGl0IGlzXG4gICAgICAvLyBiZWluZyBoaWRkZW4gYnkgY2FzY2FkZWQgcnVsZXMgb3Igbm90XG4gICAgICBpZiAoICF2YWx1ZXNbIGluZGV4IF0gJiYgZGlzcGxheSA9PT0gXCJub25lXCIgKSB7XG4gICAgICAgIGVsZW0uc3R5bGUuZGlzcGxheSA9IFwiXCI7XG4gICAgICB9XG5cbiAgICAgIC8vIFNldCBlbGVtZW50cyB3aGljaCBoYXZlIGJlZW4gb3ZlcnJpZGRlbiB3aXRoIGRpc3BsYXk6IG5vbmVcbiAgICAgIC8vIGluIGEgc3R5bGVzaGVldCB0byB3aGF0ZXZlciB0aGUgZGVmYXVsdCBicm93c2VyIHN0eWxlIGlzXG4gICAgICAvLyBmb3Igc3VjaCBhbiBlbGVtZW50XG4gICAgICBpZiAoIGVsZW0uc3R5bGUuZGlzcGxheSA9PT0gXCJcIiAmJiBpc0hpZGRlbiggZWxlbSApICkge1xuICAgICAgICB2YWx1ZXNbIGluZGV4IF0gPSBqUXVlcnkuX2RhdGEoIGVsZW0sIFwib2xkZGlzcGxheVwiLCBkZWZhdWx0RGlzcGxheShlbGVtLm5vZGVOYW1lKSApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBoaWRkZW4gPSBpc0hpZGRlbiggZWxlbSApO1xuXG4gICAgICBpZiAoIGRpc3BsYXkgJiYgZGlzcGxheSAhPT0gXCJub25lXCIgfHwgIWhpZGRlbiApIHtcbiAgICAgICAgalF1ZXJ5Ll9kYXRhKCBlbGVtLCBcIm9sZGRpc3BsYXlcIiwgaGlkZGVuID8gZGlzcGxheSA6IGpRdWVyeS5jc3MoIGVsZW0sIFwiZGlzcGxheVwiICkgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBTZXQgdGhlIGRpc3BsYXkgb2YgbW9zdCBvZiB0aGUgZWxlbWVudHMgaW4gYSBzZWNvbmQgbG9vcFxuICAvLyB0byBhdm9pZCB0aGUgY29uc3RhbnQgcmVmbG93XG4gIGZvciAoIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG4gICAgZWxlbSA9IGVsZW1lbnRzWyBpbmRleCBdO1xuICAgIGlmICggIWVsZW0uc3R5bGUgKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKCAhc2hvdyB8fCBlbGVtLnN0eWxlLmRpc3BsYXkgPT09IFwibm9uZVwiIHx8IGVsZW0uc3R5bGUuZGlzcGxheSA9PT0gXCJcIiApIHtcbiAgICAgIGVsZW0uc3R5bGUuZGlzcGxheSA9IHNob3cgPyB2YWx1ZXNbIGluZGV4IF0gfHwgXCJcIiA6IFwibm9uZVwiO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBlbGVtZW50cztcbn1cblxuZnVuY3Rpb24gc2V0UG9zaXRpdmVOdW1iZXIoIGVsZW0sIHZhbHVlLCBzdWJ0cmFjdCApIHtcbiAgdmFyIG1hdGNoZXMgPSBybnVtc3BsaXQuZXhlYyggdmFsdWUgKTtcbiAgcmV0dXJuIG1hdGNoZXMgP1xuICAgIC8vIEd1YXJkIGFnYWluc3QgdW5kZWZpbmVkIFwic3VidHJhY3RcIiwgZS5nLiwgd2hlbiB1c2VkIGFzIGluIGNzc0hvb2tzXG4gICAgTWF0aC5tYXgoIDAsIG1hdGNoZXNbIDEgXSAtICggc3VidHJhY3QgfHwgMCApICkgKyAoIG1hdGNoZXNbIDIgXSB8fCBcInB4XCIgKSA6XG4gICAgdmFsdWU7XG59XG5cbmZ1bmN0aW9uIGF1Z21lbnRXaWR0aE9ySGVpZ2h0KCBlbGVtLCBuYW1lLCBleHRyYSwgaXNCb3JkZXJCb3gsIHN0eWxlcyApIHtcbiAgdmFyIGkgPSBleHRyYSA9PT0gKCBpc0JvcmRlckJveCA/IFwiYm9yZGVyXCIgOiBcImNvbnRlbnRcIiApID9cbiAgICAvLyBJZiB3ZSBhbHJlYWR5IGhhdmUgdGhlIHJpZ2h0IG1lYXN1cmVtZW50LCBhdm9pZCBhdWdtZW50YXRpb25cbiAgICA0IDpcbiAgICAvLyBPdGhlcndpc2UgaW5pdGlhbGl6ZSBmb3IgaG9yaXpvbnRhbCBvciB2ZXJ0aWNhbCBwcm9wZXJ0aWVzXG4gICAgbmFtZSA9PT0gXCJ3aWR0aFwiID8gMSA6IDAsXG5cbiAgICB2YWwgPSAwO1xuXG4gIGZvciAoIDsgaSA8IDQ7IGkgKz0gMiApIHtcbiAgICAvLyBib3RoIGJveCBtb2RlbHMgZXhjbHVkZSBtYXJnaW4sIHNvIGFkZCBpdCBpZiB3ZSB3YW50IGl0XG4gICAgaWYgKCBleHRyYSA9PT0gXCJtYXJnaW5cIiApIHtcbiAgICAgIHZhbCArPSBqUXVlcnkuY3NzKCBlbGVtLCBleHRyYSArIGNzc0V4cGFuZFsgaSBdLCB0cnVlLCBzdHlsZXMgKTtcbiAgICB9XG5cbiAgICBpZiAoIGlzQm9yZGVyQm94ICkge1xuICAgICAgLy8gYm9yZGVyLWJveCBpbmNsdWRlcyBwYWRkaW5nLCBzbyByZW1vdmUgaXQgaWYgd2Ugd2FudCBjb250ZW50XG4gICAgICBpZiAoIGV4dHJhID09PSBcImNvbnRlbnRcIiApIHtcbiAgICAgICAgdmFsIC09IGpRdWVyeS5jc3MoIGVsZW0sIFwicGFkZGluZ1wiICsgY3NzRXhwYW5kWyBpIF0sIHRydWUsIHN0eWxlcyApO1xuICAgICAgfVxuXG4gICAgICAvLyBhdCB0aGlzIHBvaW50LCBleHRyYSBpc24ndCBib3JkZXIgbm9yIG1hcmdpbiwgc28gcmVtb3ZlIGJvcmRlclxuICAgICAgaWYgKCBleHRyYSAhPT0gXCJtYXJnaW5cIiApIHtcbiAgICAgICAgdmFsIC09IGpRdWVyeS5jc3MoIGVsZW0sIFwiYm9yZGVyXCIgKyBjc3NFeHBhbmRbIGkgXSArIFwiV2lkdGhcIiwgdHJ1ZSwgc3R5bGVzICk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGF0IHRoaXMgcG9pbnQsIGV4dHJhIGlzbid0IGNvbnRlbnQsIHNvIGFkZCBwYWRkaW5nXG4gICAgICB2YWwgKz0galF1ZXJ5LmNzcyggZWxlbSwgXCJwYWRkaW5nXCIgKyBjc3NFeHBhbmRbIGkgXSwgdHJ1ZSwgc3R5bGVzICk7XG5cbiAgICAgIC8vIGF0IHRoaXMgcG9pbnQsIGV4dHJhIGlzbid0IGNvbnRlbnQgbm9yIHBhZGRpbmcsIHNvIGFkZCBib3JkZXJcbiAgICAgIGlmICggZXh0cmEgIT09IFwicGFkZGluZ1wiICkge1xuICAgICAgICB2YWwgKz0galF1ZXJ5LmNzcyggZWxlbSwgXCJib3JkZXJcIiArIGNzc0V4cGFuZFsgaSBdICsgXCJXaWR0aFwiLCB0cnVlLCBzdHlsZXMgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdmFsO1xufVxuXG5mdW5jdGlvbiBnZXRXaWR0aE9ySGVpZ2h0KCBlbGVtLCBuYW1lLCBleHRyYSApIHtcblxuICAvLyBTdGFydCB3aXRoIG9mZnNldCBwcm9wZXJ0eSwgd2hpY2ggaXMgZXF1aXZhbGVudCB0byB0aGUgYm9yZGVyLWJveCB2YWx1ZVxuICB2YXIgdmFsdWVJc0JvcmRlckJveCA9IHRydWUsXG4gICAgdmFsID0gbmFtZSA9PT0gXCJ3aWR0aFwiID8gZWxlbS5vZmZzZXRXaWR0aCA6IGVsZW0ub2Zmc2V0SGVpZ2h0LFxuICAgIHN0eWxlcyA9IGdldFN0eWxlcyggZWxlbSApLFxuICAgIGlzQm9yZGVyQm94ID0gc3VwcG9ydC5ib3hTaXppbmcgJiYgalF1ZXJ5LmNzcyggZWxlbSwgXCJib3hTaXppbmdcIiwgZmFsc2UsIHN0eWxlcyApID09PSBcImJvcmRlci1ib3hcIjtcblxuICAvLyBzb21lIG5vbi1odG1sIGVsZW1lbnRzIHJldHVybiB1bmRlZmluZWQgZm9yIG9mZnNldFdpZHRoLCBzbyBjaGVjayBmb3IgbnVsbC91bmRlZmluZWRcbiAgLy8gc3ZnIC0gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9NjQ5Mjg1XG4gIC8vIE1hdGhNTCAtIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTQ5MTY2OFxuICBpZiAoIHZhbCA8PSAwIHx8IHZhbCA9PSBudWxsICkge1xuICAgIC8vIEZhbGwgYmFjayB0byBjb21wdXRlZCB0aGVuIHVuY29tcHV0ZWQgY3NzIGlmIG5lY2Vzc2FyeVxuICAgIHZhbCA9IGN1ckNTUyggZWxlbSwgbmFtZSwgc3R5bGVzICk7XG4gICAgaWYgKCB2YWwgPCAwIHx8IHZhbCA9PSBudWxsICkge1xuICAgICAgdmFsID0gZWxlbS5zdHlsZVsgbmFtZSBdO1xuICAgIH1cblxuICAgIC8vIENvbXB1dGVkIHVuaXQgaXMgbm90IHBpeGVscy4gU3RvcCBoZXJlIGFuZCByZXR1cm4uXG4gICAgaWYgKCBybnVtbm9ucHgudGVzdCh2YWwpICkge1xuICAgICAgcmV0dXJuIHZhbDtcbiAgICB9XG5cbiAgICAvLyB3ZSBuZWVkIHRoZSBjaGVjayBmb3Igc3R5bGUgaW4gY2FzZSBhIGJyb3dzZXIgd2hpY2ggcmV0dXJucyB1bnJlbGlhYmxlIHZhbHVlc1xuICAgIC8vIGZvciBnZXRDb21wdXRlZFN0eWxlIHNpbGVudGx5IGZhbGxzIGJhY2sgdG8gdGhlIHJlbGlhYmxlIGVsZW0uc3R5bGVcbiAgICB2YWx1ZUlzQm9yZGVyQm94ID0gaXNCb3JkZXJCb3ggJiYgKCBzdXBwb3J0LmJveFNpemluZ1JlbGlhYmxlKCkgfHwgdmFsID09PSBlbGVtLnN0eWxlWyBuYW1lIF0gKTtcblxuICAgIC8vIE5vcm1hbGl6ZSBcIlwiLCBhdXRvLCBhbmQgcHJlcGFyZSBmb3IgZXh0cmFcbiAgICB2YWwgPSBwYXJzZUZsb2F0KCB2YWwgKSB8fCAwO1xuICB9XG5cbiAgLy8gdXNlIHRoZSBhY3RpdmUgYm94LXNpemluZyBtb2RlbCB0byBhZGQvc3VidHJhY3QgaXJyZWxldmFudCBzdHlsZXNcbiAgcmV0dXJuICggdmFsICtcbiAgICBhdWdtZW50V2lkdGhPckhlaWdodChcbiAgICAgIGVsZW0sXG4gICAgICBuYW1lLFxuICAgICAgZXh0cmEgfHwgKCBpc0JvcmRlckJveCA/IFwiYm9yZGVyXCIgOiBcImNvbnRlbnRcIiApLFxuICAgICAgdmFsdWVJc0JvcmRlckJveCxcbiAgICAgIHN0eWxlc1xuICAgIClcbiAgKSArIFwicHhcIjtcbn1cblxualF1ZXJ5LmV4dGVuZCh7XG4gIC8vIEFkZCBpbiBzdHlsZSBwcm9wZXJ0eSBob29rcyBmb3Igb3ZlcnJpZGluZyB0aGUgZGVmYXVsdFxuICAvLyBiZWhhdmlvciBvZiBnZXR0aW5nIGFuZCBzZXR0aW5nIGEgc3R5bGUgcHJvcGVydHlcbiAgY3NzSG9va3M6IHtcbiAgICBvcGFjaXR5OiB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCApIHtcbiAgICAgICAgaWYgKCBjb21wdXRlZCApIHtcbiAgICAgICAgICAvLyBXZSBzaG91bGQgYWx3YXlzIGdldCBhIG51bWJlciBiYWNrIGZyb20gb3BhY2l0eVxuICAgICAgICAgIHZhciByZXQgPSBjdXJDU1MoIGVsZW0sIFwib3BhY2l0eVwiICk7XG4gICAgICAgICAgcmV0dXJuIHJldCA9PT0gXCJcIiA/IFwiMVwiIDogcmV0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIC8vIERvbid0IGF1dG9tYXRpY2FsbHkgYWRkIFwicHhcIiB0byB0aGVzZSBwb3NzaWJseS11bml0bGVzcyBwcm9wZXJ0aWVzXG4gIGNzc051bWJlcjoge1xuICAgIFwiY29sdW1uQ291bnRcIjogdHJ1ZSxcbiAgICBcImZpbGxPcGFjaXR5XCI6IHRydWUsXG4gICAgXCJmbGV4R3Jvd1wiOiB0cnVlLFxuICAgIFwiZmxleFNocmlua1wiOiB0cnVlLFxuICAgIFwiZm9udFdlaWdodFwiOiB0cnVlLFxuICAgIFwibGluZUhlaWdodFwiOiB0cnVlLFxuICAgIFwib3BhY2l0eVwiOiB0cnVlLFxuICAgIFwib3JkZXJcIjogdHJ1ZSxcbiAgICBcIm9ycGhhbnNcIjogdHJ1ZSxcbiAgICBcIndpZG93c1wiOiB0cnVlLFxuICAgIFwiekluZGV4XCI6IHRydWUsXG4gICAgXCJ6b29tXCI6IHRydWVcbiAgfSxcblxuICAvLyBBZGQgaW4gcHJvcGVydGllcyB3aG9zZSBuYW1lcyB5b3Ugd2lzaCB0byBmaXggYmVmb3JlXG4gIC8vIHNldHRpbmcgb3IgZ2V0dGluZyB0aGUgdmFsdWVcbiAgY3NzUHJvcHM6IHtcbiAgICAvLyBub3JtYWxpemUgZmxvYXQgY3NzIHByb3BlcnR5XG4gICAgXCJmbG9hdFwiOiBzdXBwb3J0LmNzc0Zsb2F0ID8gXCJjc3NGbG9hdFwiIDogXCJzdHlsZUZsb2F0XCJcbiAgfSxcblxuICAvLyBHZXQgYW5kIHNldCB0aGUgc3R5bGUgcHJvcGVydHkgb24gYSBET00gTm9kZVxuICBzdHlsZTogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIHZhbHVlLCBleHRyYSApIHtcbiAgICAvLyBEb24ndCBzZXQgc3R5bGVzIG9uIHRleHQgYW5kIGNvbW1lbnQgbm9kZXNcbiAgICBpZiAoICFlbGVtIHx8IGVsZW0ubm9kZVR5cGUgPT09IDMgfHwgZWxlbS5ub2RlVHlwZSA9PT0gOCB8fCAhZWxlbS5zdHlsZSApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBNYWtlIHN1cmUgdGhhdCB3ZSdyZSB3b3JraW5nIHdpdGggdGhlIHJpZ2h0IG5hbWVcbiAgICB2YXIgcmV0LCB0eXBlLCBob29rcyxcbiAgICAgIG9yaWdOYW1lID0galF1ZXJ5LmNhbWVsQ2FzZSggbmFtZSApLFxuICAgICAgc3R5bGUgPSBlbGVtLnN0eWxlO1xuXG4gICAgbmFtZSA9IGpRdWVyeS5jc3NQcm9wc1sgb3JpZ05hbWUgXSB8fCAoIGpRdWVyeS5jc3NQcm9wc1sgb3JpZ05hbWUgXSA9IHZlbmRvclByb3BOYW1lKCBzdHlsZSwgb3JpZ05hbWUgKSApO1xuXG4gICAgLy8gZ2V0cyBob29rIGZvciB0aGUgcHJlZml4ZWQgdmVyc2lvblxuICAgIC8vIGZvbGxvd2VkIGJ5IHRoZSB1bnByZWZpeGVkIHZlcnNpb25cbiAgICBob29rcyA9IGpRdWVyeS5jc3NIb29rc1sgbmFtZSBdIHx8IGpRdWVyeS5jc3NIb29rc1sgb3JpZ05hbWUgXTtcblxuICAgIC8vIENoZWNrIGlmIHdlJ3JlIHNldHRpbmcgYSB2YWx1ZVxuICAgIGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcbiAgICAgIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG5cbiAgICAgIC8vIGNvbnZlcnQgcmVsYXRpdmUgbnVtYmVyIHN0cmluZ3MgKCs9IG9yIC09KSB0byByZWxhdGl2ZSBudW1iZXJzLiAjNzM0NVxuICAgICAgaWYgKCB0eXBlID09PSBcInN0cmluZ1wiICYmIChyZXQgPSBycmVsTnVtLmV4ZWMoIHZhbHVlICkpICkge1xuICAgICAgICB2YWx1ZSA9ICggcmV0WzFdICsgMSApICogcmV0WzJdICsgcGFyc2VGbG9hdCggalF1ZXJ5LmNzcyggZWxlbSwgbmFtZSApICk7XG4gICAgICAgIC8vIEZpeGVzIGJ1ZyAjOTIzN1xuICAgICAgICB0eXBlID0gXCJudW1iZXJcIjtcbiAgICAgIH1cblxuICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgbnVsbCBhbmQgTmFOIHZhbHVlcyBhcmVuJ3Qgc2V0LiBTZWU6ICM3MTE2XG4gICAgICBpZiAoIHZhbHVlID09IG51bGwgfHwgdmFsdWUgIT09IHZhbHVlICkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIElmIGEgbnVtYmVyIHdhcyBwYXNzZWQgaW4sIGFkZCAncHgnIHRvIHRoZSAoZXhjZXB0IGZvciBjZXJ0YWluIENTUyBwcm9wZXJ0aWVzKVxuICAgICAgaWYgKCB0eXBlID09PSBcIm51bWJlclwiICYmICFqUXVlcnkuY3NzTnVtYmVyWyBvcmlnTmFtZSBdICkge1xuICAgICAgICB2YWx1ZSArPSBcInB4XCI7XG4gICAgICB9XG5cbiAgICAgIC8vIEZpeGVzICM4OTA4LCBpdCBjYW4gYmUgZG9uZSBtb3JlIGNvcnJlY3RseSBieSBzcGVjaWZpbmcgc2V0dGVycyBpbiBjc3NIb29rcyxcbiAgICAgIC8vIGJ1dCBpdCB3b3VsZCBtZWFuIHRvIGRlZmluZSBlaWdodCAoZm9yIGV2ZXJ5IHByb2JsZW1hdGljIHByb3BlcnR5KSBpZGVudGljYWwgZnVuY3Rpb25zXG4gICAgICBpZiAoICFzdXBwb3J0LmNsZWFyQ2xvbmVTdHlsZSAmJiB2YWx1ZSA9PT0gXCJcIiAmJiBuYW1lLmluZGV4T2YoXCJiYWNrZ3JvdW5kXCIpID09PSAwICkge1xuICAgICAgICBzdHlsZVsgbmFtZSBdID0gXCJpbmhlcml0XCI7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIGEgaG9vayB3YXMgcHJvdmlkZWQsIHVzZSB0aGF0IHZhbHVlLCBvdGhlcndpc2UganVzdCBzZXQgdGhlIHNwZWNpZmllZCB2YWx1ZVxuICAgICAgaWYgKCAhaG9va3MgfHwgIShcInNldFwiIGluIGhvb2tzKSB8fCAodmFsdWUgPSBob29rcy5zZXQoIGVsZW0sIHZhbHVlLCBleHRyYSApKSAhPT0gdW5kZWZpbmVkICkge1xuXG4gICAgICAgIC8vIFN1cHBvcnQ6IElFXG4gICAgICAgIC8vIFN3YWxsb3cgZXJyb3JzIGZyb20gJ2ludmFsaWQnIENTUyB2YWx1ZXMgKCM1NTA5KVxuICAgICAgICB0cnkge1xuICAgICAgICAgIHN0eWxlWyBuYW1lIF0gPSB2YWx1ZTtcbiAgICAgICAgfSBjYXRjaChlKSB7fVxuICAgICAgfVxuXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIElmIGEgaG9vayB3YXMgcHJvdmlkZWQgZ2V0IHRoZSBub24tY29tcHV0ZWQgdmFsdWUgZnJvbSB0aGVyZVxuICAgICAgaWYgKCBob29rcyAmJiBcImdldFwiIGluIGhvb2tzICYmIChyZXQgPSBob29rcy5nZXQoIGVsZW0sIGZhbHNlLCBleHRyYSApKSAhPT0gdW5kZWZpbmVkICkge1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgfVxuXG4gICAgICAvLyBPdGhlcndpc2UganVzdCBnZXQgdGhlIHZhbHVlIGZyb20gdGhlIHN0eWxlIG9iamVjdFxuICAgICAgcmV0dXJuIHN0eWxlWyBuYW1lIF07XG4gICAgfVxuICB9LFxuXG4gIGNzczogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGV4dHJhLCBzdHlsZXMgKSB7XG4gICAgdmFyIG51bSwgdmFsLCBob29rcyxcbiAgICAgIG9yaWdOYW1lID0galF1ZXJ5LmNhbWVsQ2FzZSggbmFtZSApO1xuXG4gICAgLy8gTWFrZSBzdXJlIHRoYXQgd2UncmUgd29ya2luZyB3aXRoIHRoZSByaWdodCBuYW1lXG4gICAgbmFtZSA9IGpRdWVyeS5jc3NQcm9wc1sgb3JpZ05hbWUgXSB8fCAoIGpRdWVyeS5jc3NQcm9wc1sgb3JpZ05hbWUgXSA9IHZlbmRvclByb3BOYW1lKCBlbGVtLnN0eWxlLCBvcmlnTmFtZSApICk7XG5cbiAgICAvLyBnZXRzIGhvb2sgZm9yIHRoZSBwcmVmaXhlZCB2ZXJzaW9uXG4gICAgLy8gZm9sbG93ZWQgYnkgdGhlIHVucHJlZml4ZWQgdmVyc2lvblxuICAgIGhvb2tzID0galF1ZXJ5LmNzc0hvb2tzWyBuYW1lIF0gfHwgalF1ZXJ5LmNzc0hvb2tzWyBvcmlnTmFtZSBdO1xuXG4gICAgLy8gSWYgYSBob29rIHdhcyBwcm92aWRlZCBnZXQgdGhlIGNvbXB1dGVkIHZhbHVlIGZyb20gdGhlcmVcbiAgICBpZiAoIGhvb2tzICYmIFwiZ2V0XCIgaW4gaG9va3MgKSB7XG4gICAgICB2YWwgPSBob29rcy5nZXQoIGVsZW0sIHRydWUsIGV4dHJhICk7XG4gICAgfVxuXG4gICAgLy8gT3RoZXJ3aXNlLCBpZiBhIHdheSB0byBnZXQgdGhlIGNvbXB1dGVkIHZhbHVlIGV4aXN0cywgdXNlIHRoYXRcbiAgICBpZiAoIHZhbCA9PT0gdW5kZWZpbmVkICkge1xuICAgICAgdmFsID0gY3VyQ1NTKCBlbGVtLCBuYW1lLCBzdHlsZXMgKTtcbiAgICB9XG5cbiAgICAvL2NvbnZlcnQgXCJub3JtYWxcIiB0byBjb21wdXRlZCB2YWx1ZVxuICAgIGlmICggdmFsID09PSBcIm5vcm1hbFwiICYmIG5hbWUgaW4gY3NzTm9ybWFsVHJhbnNmb3JtICkge1xuICAgICAgdmFsID0gY3NzTm9ybWFsVHJhbnNmb3JtWyBuYW1lIF07XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuLCBjb252ZXJ0aW5nIHRvIG51bWJlciBpZiBmb3JjZWQgb3IgYSBxdWFsaWZpZXIgd2FzIHByb3ZpZGVkIGFuZCB2YWwgbG9va3MgbnVtZXJpY1xuICAgIGlmICggZXh0cmEgPT09IFwiXCIgfHwgZXh0cmEgKSB7XG4gICAgICBudW0gPSBwYXJzZUZsb2F0KCB2YWwgKTtcbiAgICAgIHJldHVybiBleHRyYSA9PT0gdHJ1ZSB8fCBqUXVlcnkuaXNOdW1lcmljKCBudW0gKSA/IG51bSB8fCAwIDogdmFsO1xuICAgIH1cbiAgICByZXR1cm4gdmFsO1xuICB9XG59KTtcblxualF1ZXJ5LmVhY2goWyBcImhlaWdodFwiLCBcIndpZHRoXCIgXSwgZnVuY3Rpb24oIGksIG5hbWUgKSB7XG4gIGpRdWVyeS5jc3NIb29rc1sgbmFtZSBdID0ge1xuICAgIGdldDogZnVuY3Rpb24oIGVsZW0sIGNvbXB1dGVkLCBleHRyYSApIHtcbiAgICAgIGlmICggY29tcHV0ZWQgKSB7XG4gICAgICAgIC8vIGNlcnRhaW4gZWxlbWVudHMgY2FuIGhhdmUgZGltZW5zaW9uIGluZm8gaWYgd2UgaW52aXNpYmx5IHNob3cgdGhlbVxuICAgICAgICAvLyBob3dldmVyLCBpdCBtdXN0IGhhdmUgYSBjdXJyZW50IGRpc3BsYXkgc3R5bGUgdGhhdCB3b3VsZCBiZW5lZml0IGZyb20gdGhpc1xuICAgICAgICByZXR1cm4gcmRpc3BsYXlzd2FwLnRlc3QoIGpRdWVyeS5jc3MoIGVsZW0sIFwiZGlzcGxheVwiICkgKSAmJiBlbGVtLm9mZnNldFdpZHRoID09PSAwID9cbiAgICAgICAgICBqUXVlcnkuc3dhcCggZWxlbSwgY3NzU2hvdywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0V2lkdGhPckhlaWdodCggZWxlbSwgbmFtZSwgZXh0cmEgKTtcbiAgICAgICAgICB9KSA6XG4gICAgICAgICAgZ2V0V2lkdGhPckhlaWdodCggZWxlbSwgbmFtZSwgZXh0cmEgKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgc2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUsIGV4dHJhICkge1xuICAgICAgdmFyIHN0eWxlcyA9IGV4dHJhICYmIGdldFN0eWxlcyggZWxlbSApO1xuICAgICAgcmV0dXJuIHNldFBvc2l0aXZlTnVtYmVyKCBlbGVtLCB2YWx1ZSwgZXh0cmEgP1xuICAgICAgICBhdWdtZW50V2lkdGhPckhlaWdodChcbiAgICAgICAgICBlbGVtLFxuICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgZXh0cmEsXG4gICAgICAgICAgc3VwcG9ydC5ib3hTaXppbmcgJiYgalF1ZXJ5LmNzcyggZWxlbSwgXCJib3hTaXppbmdcIiwgZmFsc2UsIHN0eWxlcyApID09PSBcImJvcmRlci1ib3hcIixcbiAgICAgICAgICBzdHlsZXNcbiAgICAgICAgKSA6IDBcbiAgICAgICk7XG4gICAgfVxuICB9O1xufSk7XG5cbmlmICggIXN1cHBvcnQub3BhY2l0eSApIHtcbiAgalF1ZXJ5LmNzc0hvb2tzLm9wYWNpdHkgPSB7XG4gICAgZ2V0OiBmdW5jdGlvbiggZWxlbSwgY29tcHV0ZWQgKSB7XG4gICAgICAvLyBJRSB1c2VzIGZpbHRlcnMgZm9yIG9wYWNpdHlcbiAgICAgIHJldHVybiByb3BhY2l0eS50ZXN0KCAoY29tcHV0ZWQgJiYgZWxlbS5jdXJyZW50U3R5bGUgPyBlbGVtLmN1cnJlbnRTdHlsZS5maWx0ZXIgOiBlbGVtLnN0eWxlLmZpbHRlcikgfHwgXCJcIiApID9cbiAgICAgICAgKCAwLjAxICogcGFyc2VGbG9hdCggUmVnRXhwLiQxICkgKSArIFwiXCIgOlxuICAgICAgICBjb21wdXRlZCA/IFwiMVwiIDogXCJcIjtcbiAgICB9LFxuXG4gICAgc2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUgKSB7XG4gICAgICB2YXIgc3R5bGUgPSBlbGVtLnN0eWxlLFxuICAgICAgICBjdXJyZW50U3R5bGUgPSBlbGVtLmN1cnJlbnRTdHlsZSxcbiAgICAgICAgb3BhY2l0eSA9IGpRdWVyeS5pc051bWVyaWMoIHZhbHVlICkgPyBcImFscGhhKG9wYWNpdHk9XCIgKyB2YWx1ZSAqIDEwMCArIFwiKVwiIDogXCJcIixcbiAgICAgICAgZmlsdGVyID0gY3VycmVudFN0eWxlICYmIGN1cnJlbnRTdHlsZS5maWx0ZXIgfHwgc3R5bGUuZmlsdGVyIHx8IFwiXCI7XG5cbiAgICAgIC8vIElFIGhhcyB0cm91YmxlIHdpdGggb3BhY2l0eSBpZiBpdCBkb2VzIG5vdCBoYXZlIGxheW91dFxuICAgICAgLy8gRm9yY2UgaXQgYnkgc2V0dGluZyB0aGUgem9vbSBsZXZlbFxuICAgICAgc3R5bGUuem9vbSA9IDE7XG5cbiAgICAgIC8vIGlmIHNldHRpbmcgb3BhY2l0eSB0byAxLCBhbmQgbm8gb3RoZXIgZmlsdGVycyBleGlzdCAtIGF0dGVtcHQgdG8gcmVtb3ZlIGZpbHRlciBhdHRyaWJ1dGUgIzY2NTJcbiAgICAgIC8vIGlmIHZhbHVlID09PSBcIlwiLCB0aGVuIHJlbW92ZSBpbmxpbmUgb3BhY2l0eSAjMTI2ODVcbiAgICAgIGlmICggKCB2YWx1ZSA+PSAxIHx8IHZhbHVlID09PSBcIlwiICkgJiZcbiAgICAgICAgICBqUXVlcnkudHJpbSggZmlsdGVyLnJlcGxhY2UoIHJhbHBoYSwgXCJcIiApICkgPT09IFwiXCIgJiZcbiAgICAgICAgICBzdHlsZS5yZW1vdmVBdHRyaWJ1dGUgKSB7XG5cbiAgICAgICAgLy8gU2V0dGluZyBzdHlsZS5maWx0ZXIgdG8gbnVsbCwgXCJcIiAmIFwiIFwiIHN0aWxsIGxlYXZlIFwiZmlsdGVyOlwiIGluIHRoZSBjc3NUZXh0XG4gICAgICAgIC8vIGlmIFwiZmlsdGVyOlwiIGlzIHByZXNlbnQgYXQgYWxsLCBjbGVhclR5cGUgaXMgZGlzYWJsZWQsIHdlIHdhbnQgdG8gYXZvaWQgdGhpc1xuICAgICAgICAvLyBzdHlsZS5yZW1vdmVBdHRyaWJ1dGUgaXMgSUUgT25seSwgYnV0IHNvIGFwcGFyZW50bHkgaXMgdGhpcyBjb2RlIHBhdGguLi5cbiAgICAgICAgc3R5bGUucmVtb3ZlQXR0cmlidXRlKCBcImZpbHRlclwiICk7XG5cbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgbm8gZmlsdGVyIHN0eWxlIGFwcGxpZWQgaW4gYSBjc3MgcnVsZSBvciB1bnNldCBpbmxpbmUgb3BhY2l0eSwgd2UgYXJlIGRvbmVcbiAgICAgICAgaWYgKCB2YWx1ZSA9PT0gXCJcIiB8fCBjdXJyZW50U3R5bGUgJiYgIWN1cnJlbnRTdHlsZS5maWx0ZXIgKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIG90aGVyd2lzZSwgc2V0IG5ldyBmaWx0ZXIgdmFsdWVzXG4gICAgICBzdHlsZS5maWx0ZXIgPSByYWxwaGEudGVzdCggZmlsdGVyICkgP1xuICAgICAgICBmaWx0ZXIucmVwbGFjZSggcmFscGhhLCBvcGFjaXR5ICkgOlxuICAgICAgICBmaWx0ZXIgKyBcIiBcIiArIG9wYWNpdHk7XG4gICAgfVxuICB9O1xufVxuXG5qUXVlcnkuY3NzSG9va3MubWFyZ2luUmlnaHQgPSBhZGRHZXRIb29rSWYoIHN1cHBvcnQucmVsaWFibGVNYXJnaW5SaWdodCxcbiAgZnVuY3Rpb24oIGVsZW0sIGNvbXB1dGVkICkge1xuICAgIGlmICggY29tcHV0ZWQgKSB7XG4gICAgICAvLyBXZWJLaXQgQnVnIDEzMzQzIC0gZ2V0Q29tcHV0ZWRTdHlsZSByZXR1cm5zIHdyb25nIHZhbHVlIGZvciBtYXJnaW4tcmlnaHRcbiAgICAgIC8vIFdvcmsgYXJvdW5kIGJ5IHRlbXBvcmFyaWx5IHNldHRpbmcgZWxlbWVudCBkaXNwbGF5IHRvIGlubGluZS1ibG9ja1xuICAgICAgcmV0dXJuIGpRdWVyeS5zd2FwKCBlbGVtLCB7IFwiZGlzcGxheVwiOiBcImlubGluZS1ibG9ja1wiIH0sXG4gICAgICAgIGN1ckNTUywgWyBlbGVtLCBcIm1hcmdpblJpZ2h0XCIgXSApO1xuICAgIH1cbiAgfVxuKTtcblxuLy8gVGhlc2UgaG9va3MgYXJlIHVzZWQgYnkgYW5pbWF0ZSB0byBleHBhbmQgcHJvcGVydGllc1xualF1ZXJ5LmVhY2goe1xuICBtYXJnaW46IFwiXCIsXG4gIHBhZGRpbmc6IFwiXCIsXG4gIGJvcmRlcjogXCJXaWR0aFwiXG59LCBmdW5jdGlvbiggcHJlZml4LCBzdWZmaXggKSB7XG4gIGpRdWVyeS5jc3NIb29rc1sgcHJlZml4ICsgc3VmZml4IF0gPSB7XG4gICAgZXhwYW5kOiBmdW5jdGlvbiggdmFsdWUgKSB7XG4gICAgICB2YXIgaSA9IDAsXG4gICAgICAgIGV4cGFuZGVkID0ge30sXG5cbiAgICAgICAgLy8gYXNzdW1lcyBhIHNpbmdsZSBudW1iZXIgaWYgbm90IGEgc3RyaW5nXG4gICAgICAgIHBhcnRzID0gdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiID8gdmFsdWUuc3BsaXQoXCIgXCIpIDogWyB2YWx1ZSBdO1xuXG4gICAgICBmb3IgKCA7IGkgPCA0OyBpKysgKSB7XG4gICAgICAgIGV4cGFuZGVkWyBwcmVmaXggKyBjc3NFeHBhbmRbIGkgXSArIHN1ZmZpeCBdID1cbiAgICAgICAgICBwYXJ0c1sgaSBdIHx8IHBhcnRzWyBpIC0gMiBdIHx8IHBhcnRzWyAwIF07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBleHBhbmRlZDtcbiAgICB9XG4gIH07XG5cbiAgaWYgKCAhcm1hcmdpbi50ZXN0KCBwcmVmaXggKSApIHtcbiAgICBqUXVlcnkuY3NzSG9va3NbIHByZWZpeCArIHN1ZmZpeCBdLnNldCA9IHNldFBvc2l0aXZlTnVtYmVyO1xuICB9XG59KTtcblxualF1ZXJ5LmZuLmV4dGVuZCh7XG4gIGNzczogZnVuY3Rpb24oIG5hbWUsIHZhbHVlICkge1xuICAgIHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCB2YWx1ZSApIHtcbiAgICAgIHZhciBzdHlsZXMsIGxlbixcbiAgICAgICAgbWFwID0ge30sXG4gICAgICAgIGkgPSAwO1xuXG4gICAgICBpZiAoIGpRdWVyeS5pc0FycmF5KCBuYW1lICkgKSB7XG4gICAgICAgIHN0eWxlcyA9IGdldFN0eWxlcyggZWxlbSApO1xuICAgICAgICBsZW4gPSBuYW1lLmxlbmd0aDtcblxuICAgICAgICBmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcbiAgICAgICAgICBtYXBbIG5hbWVbIGkgXSBdID0galF1ZXJ5LmNzcyggZWxlbSwgbmFtZVsgaSBdLCBmYWxzZSwgc3R5bGVzICk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWFwO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZCA/XG4gICAgICAgIGpRdWVyeS5zdHlsZSggZWxlbSwgbmFtZSwgdmFsdWUgKSA6XG4gICAgICAgIGpRdWVyeS5jc3MoIGVsZW0sIG5hbWUgKTtcbiAgICB9LCBuYW1lLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCA+IDEgKTtcbiAgfSxcbiAgc2hvdzogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHNob3dIaWRlKCB0aGlzLCB0cnVlICk7XG4gIH0sXG4gIGhpZGU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBzaG93SGlkZSggdGhpcyApO1xuICB9LFxuICB0b2dnbGU6IGZ1bmN0aW9uKCBzdGF0ZSApIHtcbiAgICBpZiAoIHR5cGVvZiBzdGF0ZSA9PT0gXCJib29sZWFuXCIgKSB7XG4gICAgICByZXR1cm4gc3RhdGUgPyB0aGlzLnNob3coKSA6IHRoaXMuaGlkZSgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoIGlzSGlkZGVuKCB0aGlzICkgKSB7XG4gICAgICAgIGpRdWVyeSggdGhpcyApLnNob3coKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGpRdWVyeSggdGhpcyApLmhpZGUoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG5cblxuZnVuY3Rpb24gVHdlZW4oIGVsZW0sIG9wdGlvbnMsIHByb3AsIGVuZCwgZWFzaW5nICkge1xuICByZXR1cm4gbmV3IFR3ZWVuLnByb3RvdHlwZS5pbml0KCBlbGVtLCBvcHRpb25zLCBwcm9wLCBlbmQsIGVhc2luZyApO1xufVxualF1ZXJ5LlR3ZWVuID0gVHdlZW47XG5cblR3ZWVuLnByb3RvdHlwZSA9IHtcbiAgY29uc3RydWN0b3I6IFR3ZWVuLFxuICBpbml0OiBmdW5jdGlvbiggZWxlbSwgb3B0aW9ucywgcHJvcCwgZW5kLCBlYXNpbmcsIHVuaXQgKSB7XG4gICAgdGhpcy5lbGVtID0gZWxlbTtcbiAgICB0aGlzLnByb3AgPSBwcm9wO1xuICAgIHRoaXMuZWFzaW5nID0gZWFzaW5nIHx8IFwic3dpbmdcIjtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHRoaXMuc3RhcnQgPSB0aGlzLm5vdyA9IHRoaXMuY3VyKCk7XG4gICAgdGhpcy5lbmQgPSBlbmQ7XG4gICAgdGhpcy51bml0ID0gdW5pdCB8fCAoIGpRdWVyeS5jc3NOdW1iZXJbIHByb3AgXSA/IFwiXCIgOiBcInB4XCIgKTtcbiAgfSxcbiAgY3VyOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgaG9va3MgPSBUd2Vlbi5wcm9wSG9va3NbIHRoaXMucHJvcCBdO1xuXG4gICAgcmV0dXJuIGhvb2tzICYmIGhvb2tzLmdldCA/XG4gICAgICBob29rcy5nZXQoIHRoaXMgKSA6XG4gICAgICBUd2Vlbi5wcm9wSG9va3MuX2RlZmF1bHQuZ2V0KCB0aGlzICk7XG4gIH0sXG4gIHJ1bjogZnVuY3Rpb24oIHBlcmNlbnQgKSB7XG4gICAgdmFyIGVhc2VkLFxuICAgICAgaG9va3MgPSBUd2Vlbi5wcm9wSG9va3NbIHRoaXMucHJvcCBdO1xuXG4gICAgaWYgKCB0aGlzLm9wdGlvbnMuZHVyYXRpb24gKSB7XG4gICAgICB0aGlzLnBvcyA9IGVhc2VkID0galF1ZXJ5LmVhc2luZ1sgdGhpcy5lYXNpbmcgXShcbiAgICAgICAgcGVyY2VudCwgdGhpcy5vcHRpb25zLmR1cmF0aW9uICogcGVyY2VudCwgMCwgMSwgdGhpcy5vcHRpb25zLmR1cmF0aW9uXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnBvcyA9IGVhc2VkID0gcGVyY2VudDtcbiAgICB9XG4gICAgdGhpcy5ub3cgPSAoIHRoaXMuZW5kIC0gdGhpcy5zdGFydCApICogZWFzZWQgKyB0aGlzLnN0YXJ0O1xuXG4gICAgaWYgKCB0aGlzLm9wdGlvbnMuc3RlcCApIHtcbiAgICAgIHRoaXMub3B0aW9ucy5zdGVwLmNhbGwoIHRoaXMuZWxlbSwgdGhpcy5ub3csIHRoaXMgKTtcbiAgICB9XG5cbiAgICBpZiAoIGhvb2tzICYmIGhvb2tzLnNldCApIHtcbiAgICAgIGhvb2tzLnNldCggdGhpcyApO1xuICAgIH0gZWxzZSB7XG4gICAgICBUd2Vlbi5wcm9wSG9va3MuX2RlZmF1bHQuc2V0KCB0aGlzICk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG59O1xuXG5Ud2Vlbi5wcm90b3R5cGUuaW5pdC5wcm90b3R5cGUgPSBUd2Vlbi5wcm90b3R5cGU7XG5cblR3ZWVuLnByb3BIb29rcyA9IHtcbiAgX2RlZmF1bHQ6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uKCB0d2VlbiApIHtcbiAgICAgIHZhciByZXN1bHQ7XG5cbiAgICAgIGlmICggdHdlZW4uZWxlbVsgdHdlZW4ucHJvcCBdICE9IG51bGwgJiZcbiAgICAgICAgKCF0d2Vlbi5lbGVtLnN0eWxlIHx8IHR3ZWVuLmVsZW0uc3R5bGVbIHR3ZWVuLnByb3AgXSA9PSBudWxsKSApIHtcbiAgICAgICAgcmV0dXJuIHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXTtcbiAgICAgIH1cblxuICAgICAgLy8gcGFzc2luZyBhbiBlbXB0eSBzdHJpbmcgYXMgYSAzcmQgcGFyYW1ldGVyIHRvIC5jc3Mgd2lsbCBhdXRvbWF0aWNhbGx5XG4gICAgICAvLyBhdHRlbXB0IGEgcGFyc2VGbG9hdCBhbmQgZmFsbGJhY2sgdG8gYSBzdHJpbmcgaWYgdGhlIHBhcnNlIGZhaWxzXG4gICAgICAvLyBzbywgc2ltcGxlIHZhbHVlcyBzdWNoIGFzIFwiMTBweFwiIGFyZSBwYXJzZWQgdG8gRmxvYXQuXG4gICAgICAvLyBjb21wbGV4IHZhbHVlcyBzdWNoIGFzIFwicm90YXRlKDFyYWQpXCIgYXJlIHJldHVybmVkIGFzIGlzLlxuICAgICAgcmVzdWx0ID0galF1ZXJ5LmNzcyggdHdlZW4uZWxlbSwgdHdlZW4ucHJvcCwgXCJcIiApO1xuICAgICAgLy8gRW1wdHkgc3RyaW5ncywgbnVsbCwgdW5kZWZpbmVkIGFuZCBcImF1dG9cIiBhcmUgY29udmVydGVkIHRvIDAuXG4gICAgICByZXR1cm4gIXJlc3VsdCB8fCByZXN1bHQgPT09IFwiYXV0b1wiID8gMCA6IHJlc3VsdDtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24oIHR3ZWVuICkge1xuICAgICAgLy8gdXNlIHN0ZXAgaG9vayBmb3IgYmFjayBjb21wYXQgLSB1c2UgY3NzSG9vayBpZiBpdHMgdGhlcmUgLSB1c2UgLnN0eWxlIGlmIGl0c1xuICAgICAgLy8gYXZhaWxhYmxlIGFuZCB1c2UgcGxhaW4gcHJvcGVydGllcyB3aGVyZSBhdmFpbGFibGVcbiAgICAgIGlmICggalF1ZXJ5LmZ4LnN0ZXBbIHR3ZWVuLnByb3AgXSApIHtcbiAgICAgICAgalF1ZXJ5LmZ4LnN0ZXBbIHR3ZWVuLnByb3AgXSggdHdlZW4gKTtcbiAgICAgIH0gZWxzZSBpZiAoIHR3ZWVuLmVsZW0uc3R5bGUgJiYgKCB0d2Vlbi5lbGVtLnN0eWxlWyBqUXVlcnkuY3NzUHJvcHNbIHR3ZWVuLnByb3AgXSBdICE9IG51bGwgfHwgalF1ZXJ5LmNzc0hvb2tzWyB0d2Vlbi5wcm9wIF0gKSApIHtcbiAgICAgICAgalF1ZXJ5LnN0eWxlKCB0d2Vlbi5lbGVtLCB0d2Vlbi5wcm9wLCB0d2Vlbi5ub3cgKyB0d2Vlbi51bml0ICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0d2Vlbi5lbGVtWyB0d2Vlbi5wcm9wIF0gPSB0d2Vlbi5ub3c7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG4vLyBTdXBwb3J0OiBJRSA8PTlcbi8vIFBhbmljIGJhc2VkIGFwcHJvYWNoIHRvIHNldHRpbmcgdGhpbmdzIG9uIGRpc2Nvbm5lY3RlZCBub2Rlc1xuXG5Ud2Vlbi5wcm9wSG9va3Muc2Nyb2xsVG9wID0gVHdlZW4ucHJvcEhvb2tzLnNjcm9sbExlZnQgPSB7XG4gIHNldDogZnVuY3Rpb24oIHR3ZWVuICkge1xuICAgIGlmICggdHdlZW4uZWxlbS5ub2RlVHlwZSAmJiB0d2Vlbi5lbGVtLnBhcmVudE5vZGUgKSB7XG4gICAgICB0d2Vlbi5lbGVtWyB0d2Vlbi5wcm9wIF0gPSB0d2Vlbi5ub3c7XG4gICAgfVxuICB9XG59O1xuXG5qUXVlcnkuZWFzaW5nID0ge1xuICBsaW5lYXI6IGZ1bmN0aW9uKCBwICkge1xuICAgIHJldHVybiBwO1xuICB9LFxuICBzd2luZzogZnVuY3Rpb24oIHAgKSB7XG4gICAgcmV0dXJuIDAuNSAtIE1hdGguY29zKCBwICogTWF0aC5QSSApIC8gMjtcbiAgfVxufTtcblxualF1ZXJ5LmZ4ID0gVHdlZW4ucHJvdG90eXBlLmluaXQ7XG5cbi8vIEJhY2sgQ29tcGF0IDwxLjggZXh0ZW5zaW9uIHBvaW50XG5qUXVlcnkuZnguc3RlcCA9IHt9O1xuXG5cblxuXG52YXJcbiAgZnhOb3csIHRpbWVySWQsXG4gIHJmeHR5cGVzID0gL14oPzp0b2dnbGV8c2hvd3xoaWRlKSQvLFxuICByZnhudW0gPSBuZXcgUmVnRXhwKCBcIl4oPzooWystXSk9fCkoXCIgKyBwbnVtICsgXCIpKFthLXolXSopJFwiLCBcImlcIiApLFxuICBycnVuID0gL3F1ZXVlSG9va3MkLyxcbiAgYW5pbWF0aW9uUHJlZmlsdGVycyA9IFsgZGVmYXVsdFByZWZpbHRlciBdLFxuICB0d2VlbmVycyA9IHtcbiAgICBcIipcIjogWyBmdW5jdGlvbiggcHJvcCwgdmFsdWUgKSB7XG4gICAgICB2YXIgdHdlZW4gPSB0aGlzLmNyZWF0ZVR3ZWVuKCBwcm9wLCB2YWx1ZSApLFxuICAgICAgICB0YXJnZXQgPSB0d2Vlbi5jdXIoKSxcbiAgICAgICAgcGFydHMgPSByZnhudW0uZXhlYyggdmFsdWUgKSxcbiAgICAgICAgdW5pdCA9IHBhcnRzICYmIHBhcnRzWyAzIF0gfHwgKCBqUXVlcnkuY3NzTnVtYmVyWyBwcm9wIF0gPyBcIlwiIDogXCJweFwiICksXG5cbiAgICAgICAgLy8gU3RhcnRpbmcgdmFsdWUgY29tcHV0YXRpb24gaXMgcmVxdWlyZWQgZm9yIHBvdGVudGlhbCB1bml0IG1pc21hdGNoZXNcbiAgICAgICAgc3RhcnQgPSAoIGpRdWVyeS5jc3NOdW1iZXJbIHByb3AgXSB8fCB1bml0ICE9PSBcInB4XCIgJiYgK3RhcmdldCApICYmXG4gICAgICAgICAgcmZ4bnVtLmV4ZWMoIGpRdWVyeS5jc3MoIHR3ZWVuLmVsZW0sIHByb3AgKSApLFxuICAgICAgICBzY2FsZSA9IDEsXG4gICAgICAgIG1heEl0ZXJhdGlvbnMgPSAyMDtcblxuICAgICAgaWYgKCBzdGFydCAmJiBzdGFydFsgMyBdICE9PSB1bml0ICkge1xuICAgICAgICAvLyBUcnVzdCB1bml0cyByZXBvcnRlZCBieSBqUXVlcnkuY3NzXG4gICAgICAgIHVuaXQgPSB1bml0IHx8IHN0YXJ0WyAzIF07XG5cbiAgICAgICAgLy8gTWFrZSBzdXJlIHdlIHVwZGF0ZSB0aGUgdHdlZW4gcHJvcGVydGllcyBsYXRlciBvblxuICAgICAgICBwYXJ0cyA9IHBhcnRzIHx8IFtdO1xuXG4gICAgICAgIC8vIEl0ZXJhdGl2ZWx5IGFwcHJveGltYXRlIGZyb20gYSBub256ZXJvIHN0YXJ0aW5nIHBvaW50XG4gICAgICAgIHN0YXJ0ID0gK3RhcmdldCB8fCAxO1xuXG4gICAgICAgIGRvIHtcbiAgICAgICAgICAvLyBJZiBwcmV2aW91cyBpdGVyYXRpb24gemVyb2VkIG91dCwgZG91YmxlIHVudGlsIHdlIGdldCAqc29tZXRoaW5nKlxuICAgICAgICAgIC8vIFVzZSBhIHN0cmluZyBmb3IgZG91YmxpbmcgZmFjdG9yIHNvIHdlIGRvbid0IGFjY2lkZW50YWxseSBzZWUgc2NhbGUgYXMgdW5jaGFuZ2VkIGJlbG93XG4gICAgICAgICAgc2NhbGUgPSBzY2FsZSB8fCBcIi41XCI7XG5cbiAgICAgICAgICAvLyBBZGp1c3QgYW5kIGFwcGx5XG4gICAgICAgICAgc3RhcnQgPSBzdGFydCAvIHNjYWxlO1xuICAgICAgICAgIGpRdWVyeS5zdHlsZSggdHdlZW4uZWxlbSwgcHJvcCwgc3RhcnQgKyB1bml0ICk7XG5cbiAgICAgICAgLy8gVXBkYXRlIHNjYWxlLCB0b2xlcmF0aW5nIHplcm8gb3IgTmFOIGZyb20gdHdlZW4uY3VyKClcbiAgICAgICAgLy8gQW5kIGJyZWFraW5nIHRoZSBsb29wIGlmIHNjYWxlIGlzIHVuY2hhbmdlZCBvciBwZXJmZWN0LCBvciBpZiB3ZSd2ZSBqdXN0IGhhZCBlbm91Z2hcbiAgICAgICAgfSB3aGlsZSAoIHNjYWxlICE9PSAoc2NhbGUgPSB0d2Vlbi5jdXIoKSAvIHRhcmdldCkgJiYgc2NhbGUgIT09IDEgJiYgLS1tYXhJdGVyYXRpb25zICk7XG4gICAgICB9XG5cbiAgICAgIC8vIFVwZGF0ZSB0d2VlbiBwcm9wZXJ0aWVzXG4gICAgICBpZiAoIHBhcnRzICkge1xuICAgICAgICBzdGFydCA9IHR3ZWVuLnN0YXJ0ID0gK3N0YXJ0IHx8ICt0YXJnZXQgfHwgMDtcbiAgICAgICAgdHdlZW4udW5pdCA9IHVuaXQ7XG4gICAgICAgIC8vIElmIGEgKz0vLT0gdG9rZW4gd2FzIHByb3ZpZGVkLCB3ZSdyZSBkb2luZyBhIHJlbGF0aXZlIGFuaW1hdGlvblxuICAgICAgICB0d2Vlbi5lbmQgPSBwYXJ0c1sgMSBdID9cbiAgICAgICAgICBzdGFydCArICggcGFydHNbIDEgXSArIDEgKSAqIHBhcnRzWyAyIF0gOlxuICAgICAgICAgICtwYXJ0c1sgMiBdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHdlZW47XG4gICAgfSBdXG4gIH07XG5cbi8vIEFuaW1hdGlvbnMgY3JlYXRlZCBzeW5jaHJvbm91c2x5IHdpbGwgcnVuIHN5bmNocm9ub3VzbHlcbmZ1bmN0aW9uIGNyZWF0ZUZ4Tm93KCkge1xuICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgIGZ4Tm93ID0gdW5kZWZpbmVkO1xuICB9KTtcbiAgcmV0dXJuICggZnhOb3cgPSBqUXVlcnkubm93KCkgKTtcbn1cblxuLy8gR2VuZXJhdGUgcGFyYW1ldGVycyB0byBjcmVhdGUgYSBzdGFuZGFyZCBhbmltYXRpb25cbmZ1bmN0aW9uIGdlbkZ4KCB0eXBlLCBpbmNsdWRlV2lkdGggKSB7XG4gIHZhciB3aGljaCxcbiAgICBhdHRycyA9IHsgaGVpZ2h0OiB0eXBlIH0sXG4gICAgaSA9IDA7XG5cbiAgLy8gaWYgd2UgaW5jbHVkZSB3aWR0aCwgc3RlcCB2YWx1ZSBpcyAxIHRvIGRvIGFsbCBjc3NFeHBhbmQgdmFsdWVzLFxuICAvLyBpZiB3ZSBkb24ndCBpbmNsdWRlIHdpZHRoLCBzdGVwIHZhbHVlIGlzIDIgdG8gc2tpcCBvdmVyIExlZnQgYW5kIFJpZ2h0XG4gIGluY2x1ZGVXaWR0aCA9IGluY2x1ZGVXaWR0aCA/IDEgOiAwO1xuICBmb3IgKCA7IGkgPCA0IDsgaSArPSAyIC0gaW5jbHVkZVdpZHRoICkge1xuICAgIHdoaWNoID0gY3NzRXhwYW5kWyBpIF07XG4gICAgYXR0cnNbIFwibWFyZ2luXCIgKyB3aGljaCBdID0gYXR0cnNbIFwicGFkZGluZ1wiICsgd2hpY2ggXSA9IHR5cGU7XG4gIH1cblxuICBpZiAoIGluY2x1ZGVXaWR0aCApIHtcbiAgICBhdHRycy5vcGFjaXR5ID0gYXR0cnMud2lkdGggPSB0eXBlO1xuICB9XG5cbiAgcmV0dXJuIGF0dHJzO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVUd2VlbiggdmFsdWUsIHByb3AsIGFuaW1hdGlvbiApIHtcbiAgdmFyIHR3ZWVuLFxuICAgIGNvbGxlY3Rpb24gPSAoIHR3ZWVuZXJzWyBwcm9wIF0gfHwgW10gKS5jb25jYXQoIHR3ZWVuZXJzWyBcIipcIiBdICksXG4gICAgaW5kZXggPSAwLFxuICAgIGxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoO1xuICBmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuICAgIGlmICggKHR3ZWVuID0gY29sbGVjdGlvblsgaW5kZXggXS5jYWxsKCBhbmltYXRpb24sIHByb3AsIHZhbHVlICkpICkge1xuXG4gICAgICAvLyB3ZSdyZSBkb25lIHdpdGggdGhpcyBwcm9wZXJ0eVxuICAgICAgcmV0dXJuIHR3ZWVuO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBkZWZhdWx0UHJlZmlsdGVyKCBlbGVtLCBwcm9wcywgb3B0cyApIHtcbiAgLyoganNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xuICB2YXIgcHJvcCwgdmFsdWUsIHRvZ2dsZSwgdHdlZW4sIGhvb2tzLCBvbGRmaXJlLCBkaXNwbGF5LCBjaGVja0Rpc3BsYXksXG4gICAgYW5pbSA9IHRoaXMsXG4gICAgb3JpZyA9IHt9LFxuICAgIHN0eWxlID0gZWxlbS5zdHlsZSxcbiAgICBoaWRkZW4gPSBlbGVtLm5vZGVUeXBlICYmIGlzSGlkZGVuKCBlbGVtICksXG4gICAgZGF0YVNob3cgPSBqUXVlcnkuX2RhdGEoIGVsZW0sIFwiZnhzaG93XCIgKTtcblxuICAvLyBoYW5kbGUgcXVldWU6IGZhbHNlIHByb21pc2VzXG4gIGlmICggIW9wdHMucXVldWUgKSB7XG4gICAgaG9va3MgPSBqUXVlcnkuX3F1ZXVlSG9va3MoIGVsZW0sIFwiZnhcIiApO1xuICAgIGlmICggaG9va3MudW5xdWV1ZWQgPT0gbnVsbCApIHtcbiAgICAgIGhvb2tzLnVucXVldWVkID0gMDtcbiAgICAgIG9sZGZpcmUgPSBob29rcy5lbXB0eS5maXJlO1xuICAgICAgaG9va3MuZW1wdHkuZmlyZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoICFob29rcy51bnF1ZXVlZCApIHtcbiAgICAgICAgICBvbGRmaXJlKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICAgIGhvb2tzLnVucXVldWVkKys7XG5cbiAgICBhbmltLmFsd2F5cyhmdW5jdGlvbigpIHtcbiAgICAgIC8vIGRvaW5nIHRoaXMgbWFrZXMgc3VyZSB0aGF0IHRoZSBjb21wbGV0ZSBoYW5kbGVyIHdpbGwgYmUgY2FsbGVkXG4gICAgICAvLyBiZWZvcmUgdGhpcyBjb21wbGV0ZXNcbiAgICAgIGFuaW0uYWx3YXlzKGZ1bmN0aW9uKCkge1xuICAgICAgICBob29rcy51bnF1ZXVlZC0tO1xuICAgICAgICBpZiAoICFqUXVlcnkucXVldWUoIGVsZW0sIFwiZnhcIiApLmxlbmd0aCApIHtcbiAgICAgICAgICBob29rcy5lbXB0eS5maXJlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gaGVpZ2h0L3dpZHRoIG92ZXJmbG93IHBhc3NcbiAgaWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICYmICggXCJoZWlnaHRcIiBpbiBwcm9wcyB8fCBcIndpZHRoXCIgaW4gcHJvcHMgKSApIHtcbiAgICAvLyBNYWtlIHN1cmUgdGhhdCBub3RoaW5nIHNuZWFrcyBvdXRcbiAgICAvLyBSZWNvcmQgYWxsIDMgb3ZlcmZsb3cgYXR0cmlidXRlcyBiZWNhdXNlIElFIGRvZXMgbm90XG4gICAgLy8gY2hhbmdlIHRoZSBvdmVyZmxvdyBhdHRyaWJ1dGUgd2hlbiBvdmVyZmxvd1ggYW5kXG4gICAgLy8gb3ZlcmZsb3dZIGFyZSBzZXQgdG8gdGhlIHNhbWUgdmFsdWVcbiAgICBvcHRzLm92ZXJmbG93ID0gWyBzdHlsZS5vdmVyZmxvdywgc3R5bGUub3ZlcmZsb3dYLCBzdHlsZS5vdmVyZmxvd1kgXTtcblxuICAgIC8vIFNldCBkaXNwbGF5IHByb3BlcnR5IHRvIGlubGluZS1ibG9jayBmb3IgaGVpZ2h0L3dpZHRoXG4gICAgLy8gYW5pbWF0aW9ucyBvbiBpbmxpbmUgZWxlbWVudHMgdGhhdCBhcmUgaGF2aW5nIHdpZHRoL2hlaWdodCBhbmltYXRlZFxuICAgIGRpc3BsYXkgPSBqUXVlcnkuY3NzKCBlbGVtLCBcImRpc3BsYXlcIiApO1xuXG4gICAgLy8gVGVzdCBkZWZhdWx0IGRpc3BsYXkgaWYgZGlzcGxheSBpcyBjdXJyZW50bHkgXCJub25lXCJcbiAgICBjaGVja0Rpc3BsYXkgPSBkaXNwbGF5ID09PSBcIm5vbmVcIiA/XG4gICAgICBqUXVlcnkuX2RhdGEoIGVsZW0sIFwib2xkZGlzcGxheVwiICkgfHwgZGVmYXVsdERpc3BsYXkoIGVsZW0ubm9kZU5hbWUgKSA6IGRpc3BsYXk7XG5cbiAgICBpZiAoIGNoZWNrRGlzcGxheSA9PT0gXCJpbmxpbmVcIiAmJiBqUXVlcnkuY3NzKCBlbGVtLCBcImZsb2F0XCIgKSA9PT0gXCJub25lXCIgKSB7XG5cbiAgICAgIC8vIGlubGluZS1sZXZlbCBlbGVtZW50cyBhY2NlcHQgaW5saW5lLWJsb2NrO1xuICAgICAgLy8gYmxvY2stbGV2ZWwgZWxlbWVudHMgbmVlZCB0byBiZSBpbmxpbmUgd2l0aCBsYXlvdXRcbiAgICAgIGlmICggIXN1cHBvcnQuaW5saW5lQmxvY2tOZWVkc0xheW91dCB8fCBkZWZhdWx0RGlzcGxheSggZWxlbS5ub2RlTmFtZSApID09PSBcImlubGluZVwiICkge1xuICAgICAgICBzdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0eWxlLnpvb20gPSAxO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmICggb3B0cy5vdmVyZmxvdyApIHtcbiAgICBzdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XG4gICAgaWYgKCAhc3VwcG9ydC5zaHJpbmtXcmFwQmxvY2tzKCkgKSB7XG4gICAgICBhbmltLmFsd2F5cyhmdW5jdGlvbigpIHtcbiAgICAgICAgc3R5bGUub3ZlcmZsb3cgPSBvcHRzLm92ZXJmbG93WyAwIF07XG4gICAgICAgIHN0eWxlLm92ZXJmbG93WCA9IG9wdHMub3ZlcmZsb3dbIDEgXTtcbiAgICAgICAgc3R5bGUub3ZlcmZsb3dZID0gb3B0cy5vdmVyZmxvd1sgMiBdO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLy8gc2hvdy9oaWRlIHBhc3NcbiAgZm9yICggcHJvcCBpbiBwcm9wcyApIHtcbiAgICB2YWx1ZSA9IHByb3BzWyBwcm9wIF07XG4gICAgaWYgKCByZnh0eXBlcy5leGVjKCB2YWx1ZSApICkge1xuICAgICAgZGVsZXRlIHByb3BzWyBwcm9wIF07XG4gICAgICB0b2dnbGUgPSB0b2dnbGUgfHwgdmFsdWUgPT09IFwidG9nZ2xlXCI7XG4gICAgICBpZiAoIHZhbHVlID09PSAoIGhpZGRlbiA/IFwiaGlkZVwiIDogXCJzaG93XCIgKSApIHtcblxuICAgICAgICAvLyBJZiB0aGVyZSBpcyBkYXRhU2hvdyBsZWZ0IG92ZXIgZnJvbSBhIHN0b3BwZWQgaGlkZSBvciBzaG93IGFuZCB3ZSBhcmUgZ29pbmcgdG8gcHJvY2VlZCB3aXRoIHNob3csIHdlIHNob3VsZCBwcmV0ZW5kIHRvIGJlIGhpZGRlblxuICAgICAgICBpZiAoIHZhbHVlID09PSBcInNob3dcIiAmJiBkYXRhU2hvdyAmJiBkYXRhU2hvd1sgcHJvcCBdICE9PSB1bmRlZmluZWQgKSB7XG4gICAgICAgICAgaGlkZGVuID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgb3JpZ1sgcHJvcCBdID0gZGF0YVNob3cgJiYgZGF0YVNob3dbIHByb3AgXSB8fCBqUXVlcnkuc3R5bGUoIGVsZW0sIHByb3AgKTtcblxuICAgIC8vIEFueSBub24tZnggdmFsdWUgc3RvcHMgdXMgZnJvbSByZXN0b3JpbmcgdGhlIG9yaWdpbmFsIGRpc3BsYXkgdmFsdWVcbiAgICB9IGVsc2Uge1xuICAgICAgZGlzcGxheSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICBpZiAoICFqUXVlcnkuaXNFbXB0eU9iamVjdCggb3JpZyApICkge1xuICAgIGlmICggZGF0YVNob3cgKSB7XG4gICAgICBpZiAoIFwiaGlkZGVuXCIgaW4gZGF0YVNob3cgKSB7XG4gICAgICAgIGhpZGRlbiA9IGRhdGFTaG93LmhpZGRlbjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZGF0YVNob3cgPSBqUXVlcnkuX2RhdGEoIGVsZW0sIFwiZnhzaG93XCIsIHt9ICk7XG4gICAgfVxuXG4gICAgLy8gc3RvcmUgc3RhdGUgaWYgaXRzIHRvZ2dsZSAtIGVuYWJsZXMgLnN0b3AoKS50b2dnbGUoKSB0byBcInJldmVyc2VcIlxuICAgIGlmICggdG9nZ2xlICkge1xuICAgICAgZGF0YVNob3cuaGlkZGVuID0gIWhpZGRlbjtcbiAgICB9XG4gICAgaWYgKCBoaWRkZW4gKSB7XG4gICAgICBqUXVlcnkoIGVsZW0gKS5zaG93KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFuaW0uZG9uZShmdW5jdGlvbigpIHtcbiAgICAgICAgalF1ZXJ5KCBlbGVtICkuaGlkZSgpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGFuaW0uZG9uZShmdW5jdGlvbigpIHtcbiAgICAgIHZhciBwcm9wO1xuICAgICAgalF1ZXJ5Ll9yZW1vdmVEYXRhKCBlbGVtLCBcImZ4c2hvd1wiICk7XG4gICAgICBmb3IgKCBwcm9wIGluIG9yaWcgKSB7XG4gICAgICAgIGpRdWVyeS5zdHlsZSggZWxlbSwgcHJvcCwgb3JpZ1sgcHJvcCBdICk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgZm9yICggcHJvcCBpbiBvcmlnICkge1xuICAgICAgdHdlZW4gPSBjcmVhdGVUd2VlbiggaGlkZGVuID8gZGF0YVNob3dbIHByb3AgXSA6IDAsIHByb3AsIGFuaW0gKTtcblxuICAgICAgaWYgKCAhKCBwcm9wIGluIGRhdGFTaG93ICkgKSB7XG4gICAgICAgIGRhdGFTaG93WyBwcm9wIF0gPSB0d2Vlbi5zdGFydDtcbiAgICAgICAgaWYgKCBoaWRkZW4gKSB7XG4gICAgICAgICAgdHdlZW4uZW5kID0gdHdlZW4uc3RhcnQ7XG4gICAgICAgICAgdHdlZW4uc3RhcnQgPSBwcm9wID09PSBcIndpZHRoXCIgfHwgcHJvcCA9PT0gXCJoZWlnaHRcIiA/IDEgOiAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gIC8vIElmIHRoaXMgaXMgYSBub29wIGxpa2UgLmhpZGUoKS5oaWRlKCksIHJlc3RvcmUgYW4gb3ZlcndyaXR0ZW4gZGlzcGxheSB2YWx1ZVxuICB9IGVsc2UgaWYgKCAoZGlzcGxheSA9PT0gXCJub25lXCIgPyBkZWZhdWx0RGlzcGxheSggZWxlbS5ub2RlTmFtZSApIDogZGlzcGxheSkgPT09IFwiaW5saW5lXCIgKSB7XG4gICAgc3R5bGUuZGlzcGxheSA9IGRpc3BsYXk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJvcEZpbHRlciggcHJvcHMsIHNwZWNpYWxFYXNpbmcgKSB7XG4gIHZhciBpbmRleCwgbmFtZSwgZWFzaW5nLCB2YWx1ZSwgaG9va3M7XG5cbiAgLy8gY2FtZWxDYXNlLCBzcGVjaWFsRWFzaW5nIGFuZCBleHBhbmQgY3NzSG9vayBwYXNzXG4gIGZvciAoIGluZGV4IGluIHByb3BzICkge1xuICAgIG5hbWUgPSBqUXVlcnkuY2FtZWxDYXNlKCBpbmRleCApO1xuICAgIGVhc2luZyA9IHNwZWNpYWxFYXNpbmdbIG5hbWUgXTtcbiAgICB2YWx1ZSA9IHByb3BzWyBpbmRleCBdO1xuICAgIGlmICggalF1ZXJ5LmlzQXJyYXkoIHZhbHVlICkgKSB7XG4gICAgICBlYXNpbmcgPSB2YWx1ZVsgMSBdO1xuICAgICAgdmFsdWUgPSBwcm9wc1sgaW5kZXggXSA9IHZhbHVlWyAwIF07XG4gICAgfVxuXG4gICAgaWYgKCBpbmRleCAhPT0gbmFtZSApIHtcbiAgICAgIHByb3BzWyBuYW1lIF0gPSB2YWx1ZTtcbiAgICAgIGRlbGV0ZSBwcm9wc1sgaW5kZXggXTtcbiAgICB9XG5cbiAgICBob29rcyA9IGpRdWVyeS5jc3NIb29rc1sgbmFtZSBdO1xuICAgIGlmICggaG9va3MgJiYgXCJleHBhbmRcIiBpbiBob29rcyApIHtcbiAgICAgIHZhbHVlID0gaG9va3MuZXhwYW5kKCB2YWx1ZSApO1xuICAgICAgZGVsZXRlIHByb3BzWyBuYW1lIF07XG5cbiAgICAgIC8vIG5vdCBxdWl0ZSAkLmV4dGVuZCwgdGhpcyB3b250IG92ZXJ3cml0ZSBrZXlzIGFscmVhZHkgcHJlc2VudC5cbiAgICAgIC8vIGFsc28gLSByZXVzaW5nICdpbmRleCcgZnJvbSBhYm92ZSBiZWNhdXNlIHdlIGhhdmUgdGhlIGNvcnJlY3QgXCJuYW1lXCJcbiAgICAgIGZvciAoIGluZGV4IGluIHZhbHVlICkge1xuICAgICAgICBpZiAoICEoIGluZGV4IGluIHByb3BzICkgKSB7XG4gICAgICAgICAgcHJvcHNbIGluZGV4IF0gPSB2YWx1ZVsgaW5kZXggXTtcbiAgICAgICAgICBzcGVjaWFsRWFzaW5nWyBpbmRleCBdID0gZWFzaW5nO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHNwZWNpYWxFYXNpbmdbIG5hbWUgXSA9IGVhc2luZztcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gQW5pbWF0aW9uKCBlbGVtLCBwcm9wZXJ0aWVzLCBvcHRpb25zICkge1xuICB2YXIgcmVzdWx0LFxuICAgIHN0b3BwZWQsXG4gICAgaW5kZXggPSAwLFxuICAgIGxlbmd0aCA9IGFuaW1hdGlvblByZWZpbHRlcnMubGVuZ3RoLFxuICAgIGRlZmVycmVkID0galF1ZXJ5LkRlZmVycmVkKCkuYWx3YXlzKCBmdW5jdGlvbigpIHtcbiAgICAgIC8vIGRvbid0IG1hdGNoIGVsZW0gaW4gdGhlIDphbmltYXRlZCBzZWxlY3RvclxuICAgICAgZGVsZXRlIHRpY2suZWxlbTtcbiAgICB9KSxcbiAgICB0aWNrID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoIHN0b3BwZWQgKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBjdXJyZW50VGltZSA9IGZ4Tm93IHx8IGNyZWF0ZUZ4Tm93KCksXG4gICAgICAgIHJlbWFpbmluZyA9IE1hdGgubWF4KCAwLCBhbmltYXRpb24uc3RhcnRUaW1lICsgYW5pbWF0aW9uLmR1cmF0aW9uIC0gY3VycmVudFRpbWUgKSxcbiAgICAgICAgLy8gYXJjaGFpYyBjcmFzaCBidWcgd29uJ3QgYWxsb3cgdXMgdG8gdXNlIDEgLSAoIDAuNSB8fCAwICkgKCMxMjQ5NylcbiAgICAgICAgdGVtcCA9IHJlbWFpbmluZyAvIGFuaW1hdGlvbi5kdXJhdGlvbiB8fCAwLFxuICAgICAgICBwZXJjZW50ID0gMSAtIHRlbXAsXG4gICAgICAgIGluZGV4ID0gMCxcbiAgICAgICAgbGVuZ3RoID0gYW5pbWF0aW9uLnR3ZWVucy5sZW5ndGg7XG5cbiAgICAgIGZvciAoIDsgaW5kZXggPCBsZW5ndGggOyBpbmRleCsrICkge1xuICAgICAgICBhbmltYXRpb24udHdlZW5zWyBpbmRleCBdLnJ1biggcGVyY2VudCApO1xuICAgICAgfVxuXG4gICAgICBkZWZlcnJlZC5ub3RpZnlXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiwgcGVyY2VudCwgcmVtYWluaW5nIF0pO1xuXG4gICAgICBpZiAoIHBlcmNlbnQgPCAxICYmIGxlbmd0aCApIHtcbiAgICAgICAgcmV0dXJuIHJlbWFpbmluZztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmVXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiBdICk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGFuaW1hdGlvbiA9IGRlZmVycmVkLnByb21pc2Uoe1xuICAgICAgZWxlbTogZWxlbSxcbiAgICAgIHByb3BzOiBqUXVlcnkuZXh0ZW5kKCB7fSwgcHJvcGVydGllcyApLFxuICAgICAgb3B0czogalF1ZXJ5LmV4dGVuZCggdHJ1ZSwgeyBzcGVjaWFsRWFzaW5nOiB7fSB9LCBvcHRpb25zICksXG4gICAgICBvcmlnaW5hbFByb3BlcnRpZXM6IHByb3BlcnRpZXMsXG4gICAgICBvcmlnaW5hbE9wdGlvbnM6IG9wdGlvbnMsXG4gICAgICBzdGFydFRpbWU6IGZ4Tm93IHx8IGNyZWF0ZUZ4Tm93KCksXG4gICAgICBkdXJhdGlvbjogb3B0aW9ucy5kdXJhdGlvbixcbiAgICAgIHR3ZWVuczogW10sXG4gICAgICBjcmVhdGVUd2VlbjogZnVuY3Rpb24oIHByb3AsIGVuZCApIHtcbiAgICAgICAgdmFyIHR3ZWVuID0galF1ZXJ5LlR3ZWVuKCBlbGVtLCBhbmltYXRpb24ub3B0cywgcHJvcCwgZW5kLFxuICAgICAgICAgICAgYW5pbWF0aW9uLm9wdHMuc3BlY2lhbEVhc2luZ1sgcHJvcCBdIHx8IGFuaW1hdGlvbi5vcHRzLmVhc2luZyApO1xuICAgICAgICBhbmltYXRpb24udHdlZW5zLnB1c2goIHR3ZWVuICk7XG4gICAgICAgIHJldHVybiB0d2VlbjtcbiAgICAgIH0sXG4gICAgICBzdG9wOiBmdW5jdGlvbiggZ290b0VuZCApIHtcbiAgICAgICAgdmFyIGluZGV4ID0gMCxcbiAgICAgICAgICAvLyBpZiB3ZSBhcmUgZ29pbmcgdG8gdGhlIGVuZCwgd2Ugd2FudCB0byBydW4gYWxsIHRoZSB0d2VlbnNcbiAgICAgICAgICAvLyBvdGhlcndpc2Ugd2Ugc2tpcCB0aGlzIHBhcnRcbiAgICAgICAgICBsZW5ndGggPSBnb3RvRW5kID8gYW5pbWF0aW9uLnR3ZWVucy5sZW5ndGggOiAwO1xuICAgICAgICBpZiAoIHN0b3BwZWQgKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgc3RvcHBlZCA9IHRydWU7XG4gICAgICAgIGZvciAoIDsgaW5kZXggPCBsZW5ndGggOyBpbmRleCsrICkge1xuICAgICAgICAgIGFuaW1hdGlvbi50d2VlbnNbIGluZGV4IF0ucnVuKCAxICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZXNvbHZlIHdoZW4gd2UgcGxheWVkIHRoZSBsYXN0IGZyYW1lXG4gICAgICAgIC8vIG90aGVyd2lzZSwgcmVqZWN0XG4gICAgICAgIGlmICggZ290b0VuZCApIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlV2l0aCggZWxlbSwgWyBhbmltYXRpb24sIGdvdG9FbmQgXSApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlZmVycmVkLnJlamVjdFdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uLCBnb3RvRW5kIF0gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICB9KSxcbiAgICBwcm9wcyA9IGFuaW1hdGlvbi5wcm9wcztcblxuICBwcm9wRmlsdGVyKCBwcm9wcywgYW5pbWF0aW9uLm9wdHMuc3BlY2lhbEVhc2luZyApO1xuXG4gIGZvciAoIDsgaW5kZXggPCBsZW5ndGggOyBpbmRleCsrICkge1xuICAgIHJlc3VsdCA9IGFuaW1hdGlvblByZWZpbHRlcnNbIGluZGV4IF0uY2FsbCggYW5pbWF0aW9uLCBlbGVtLCBwcm9wcywgYW5pbWF0aW9uLm9wdHMgKTtcbiAgICBpZiAoIHJlc3VsdCApIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9XG5cbiAgalF1ZXJ5Lm1hcCggcHJvcHMsIGNyZWF0ZVR3ZWVuLCBhbmltYXRpb24gKTtcblxuICBpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBhbmltYXRpb24ub3B0cy5zdGFydCApICkge1xuICAgIGFuaW1hdGlvbi5vcHRzLnN0YXJ0LmNhbGwoIGVsZW0sIGFuaW1hdGlvbiApO1xuICB9XG5cbiAgalF1ZXJ5LmZ4LnRpbWVyKFxuICAgIGpRdWVyeS5leHRlbmQoIHRpY2ssIHtcbiAgICAgIGVsZW06IGVsZW0sXG4gICAgICBhbmltOiBhbmltYXRpb24sXG4gICAgICBxdWV1ZTogYW5pbWF0aW9uLm9wdHMucXVldWVcbiAgICB9KVxuICApO1xuXG4gIC8vIGF0dGFjaCBjYWxsYmFja3MgZnJvbSBvcHRpb25zXG4gIHJldHVybiBhbmltYXRpb24ucHJvZ3Jlc3MoIGFuaW1hdGlvbi5vcHRzLnByb2dyZXNzIClcbiAgICAuZG9uZSggYW5pbWF0aW9uLm9wdHMuZG9uZSwgYW5pbWF0aW9uLm9wdHMuY29tcGxldGUgKVxuICAgIC5mYWlsKCBhbmltYXRpb24ub3B0cy5mYWlsIClcbiAgICAuYWx3YXlzKCBhbmltYXRpb24ub3B0cy5hbHdheXMgKTtcbn1cblxualF1ZXJ5LkFuaW1hdGlvbiA9IGpRdWVyeS5leHRlbmQoIEFuaW1hdGlvbiwge1xuICB0d2VlbmVyOiBmdW5jdGlvbiggcHJvcHMsIGNhbGxiYWNrICkge1xuICAgIGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHByb3BzICkgKSB7XG4gICAgICBjYWxsYmFjayA9IHByb3BzO1xuICAgICAgcHJvcHMgPSBbIFwiKlwiIF07XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb3BzID0gcHJvcHMuc3BsaXQoXCIgXCIpO1xuICAgIH1cblxuICAgIHZhciBwcm9wLFxuICAgICAgaW5kZXggPSAwLFxuICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG4gICAgZm9yICggOyBpbmRleCA8IGxlbmd0aCA7IGluZGV4KysgKSB7XG4gICAgICBwcm9wID0gcHJvcHNbIGluZGV4IF07XG4gICAgICB0d2VlbmVyc1sgcHJvcCBdID0gdHdlZW5lcnNbIHByb3AgXSB8fCBbXTtcbiAgICAgIHR3ZWVuZXJzWyBwcm9wIF0udW5zaGlmdCggY2FsbGJhY2sgKTtcbiAgICB9XG4gIH0sXG5cbiAgcHJlZmlsdGVyOiBmdW5jdGlvbiggY2FsbGJhY2ssIHByZXBlbmQgKSB7XG4gICAgaWYgKCBwcmVwZW5kICkge1xuICAgICAgYW5pbWF0aW9uUHJlZmlsdGVycy51bnNoaWZ0KCBjYWxsYmFjayApO1xuICAgIH0gZWxzZSB7XG4gICAgICBhbmltYXRpb25QcmVmaWx0ZXJzLnB1c2goIGNhbGxiYWNrICk7XG4gICAgfVxuICB9XG59KTtcblxualF1ZXJ5LnNwZWVkID0gZnVuY3Rpb24oIHNwZWVkLCBlYXNpbmcsIGZuICkge1xuICB2YXIgb3B0ID0gc3BlZWQgJiYgdHlwZW9mIHNwZWVkID09PSBcIm9iamVjdFwiID8galF1ZXJ5LmV4dGVuZCgge30sIHNwZWVkICkgOiB7XG4gICAgY29tcGxldGU6IGZuIHx8ICFmbiAmJiBlYXNpbmcgfHxcbiAgICAgIGpRdWVyeS5pc0Z1bmN0aW9uKCBzcGVlZCApICYmIHNwZWVkLFxuICAgIGR1cmF0aW9uOiBzcGVlZCxcbiAgICBlYXNpbmc6IGZuICYmIGVhc2luZyB8fCBlYXNpbmcgJiYgIWpRdWVyeS5pc0Z1bmN0aW9uKCBlYXNpbmcgKSAmJiBlYXNpbmdcbiAgfTtcblxuICBvcHQuZHVyYXRpb24gPSBqUXVlcnkuZngub2ZmID8gMCA6IHR5cGVvZiBvcHQuZHVyYXRpb24gPT09IFwibnVtYmVyXCIgPyBvcHQuZHVyYXRpb24gOlxuICAgIG9wdC5kdXJhdGlvbiBpbiBqUXVlcnkuZnguc3BlZWRzID8galF1ZXJ5LmZ4LnNwZWVkc1sgb3B0LmR1cmF0aW9uIF0gOiBqUXVlcnkuZnguc3BlZWRzLl9kZWZhdWx0O1xuXG4gIC8vIG5vcm1hbGl6ZSBvcHQucXVldWUgLSB0cnVlL3VuZGVmaW5lZC9udWxsIC0+IFwiZnhcIlxuICBpZiAoIG9wdC5xdWV1ZSA9PSBudWxsIHx8IG9wdC5xdWV1ZSA9PT0gdHJ1ZSApIHtcbiAgICBvcHQucXVldWUgPSBcImZ4XCI7XG4gIH1cblxuICAvLyBRdWV1ZWluZ1xuICBvcHQub2xkID0gb3B0LmNvbXBsZXRlO1xuXG4gIG9wdC5jb21wbGV0ZSA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIG9wdC5vbGQgKSApIHtcbiAgICAgIG9wdC5vbGQuY2FsbCggdGhpcyApO1xuICAgIH1cblxuICAgIGlmICggb3B0LnF1ZXVlICkge1xuICAgICAgalF1ZXJ5LmRlcXVldWUoIHRoaXMsIG9wdC5xdWV1ZSApO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gb3B0O1xufTtcblxualF1ZXJ5LmZuLmV4dGVuZCh7XG4gIGZhZGVUbzogZnVuY3Rpb24oIHNwZWVkLCB0bywgZWFzaW5nLCBjYWxsYmFjayApIHtcblxuICAgIC8vIHNob3cgYW55IGhpZGRlbiBlbGVtZW50cyBhZnRlciBzZXR0aW5nIG9wYWNpdHkgdG8gMFxuICAgIHJldHVybiB0aGlzLmZpbHRlciggaXNIaWRkZW4gKS5jc3MoIFwib3BhY2l0eVwiLCAwICkuc2hvdygpXG5cbiAgICAgIC8vIGFuaW1hdGUgdG8gdGhlIHZhbHVlIHNwZWNpZmllZFxuICAgICAgLmVuZCgpLmFuaW1hdGUoeyBvcGFjaXR5OiB0byB9LCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApO1xuICB9LFxuICBhbmltYXRlOiBmdW5jdGlvbiggcHJvcCwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKSB7XG4gICAgdmFyIGVtcHR5ID0galF1ZXJ5LmlzRW1wdHlPYmplY3QoIHByb3AgKSxcbiAgICAgIG9wdGFsbCA9IGpRdWVyeS5zcGVlZCggc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKSxcbiAgICAgIGRvQW5pbWF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIE9wZXJhdGUgb24gYSBjb3B5IG9mIHByb3Agc28gcGVyLXByb3BlcnR5IGVhc2luZyB3b24ndCBiZSBsb3N0XG4gICAgICAgIHZhciBhbmltID0gQW5pbWF0aW9uKCB0aGlzLCBqUXVlcnkuZXh0ZW5kKCB7fSwgcHJvcCApLCBvcHRhbGwgKTtcblxuICAgICAgICAvLyBFbXB0eSBhbmltYXRpb25zLCBvciBmaW5pc2hpbmcgcmVzb2x2ZXMgaW1tZWRpYXRlbHlcbiAgICAgICAgaWYgKCBlbXB0eSB8fCBqUXVlcnkuX2RhdGEoIHRoaXMsIFwiZmluaXNoXCIgKSApIHtcbiAgICAgICAgICBhbmltLnN0b3AoIHRydWUgKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGRvQW5pbWF0aW9uLmZpbmlzaCA9IGRvQW5pbWF0aW9uO1xuXG4gICAgcmV0dXJuIGVtcHR5IHx8IG9wdGFsbC5xdWV1ZSA9PT0gZmFsc2UgP1xuICAgICAgdGhpcy5lYWNoKCBkb0FuaW1hdGlvbiApIDpcbiAgICAgIHRoaXMucXVldWUoIG9wdGFsbC5xdWV1ZSwgZG9BbmltYXRpb24gKTtcbiAgfSxcbiAgc3RvcDogZnVuY3Rpb24oIHR5cGUsIGNsZWFyUXVldWUsIGdvdG9FbmQgKSB7XG4gICAgdmFyIHN0b3BRdWV1ZSA9IGZ1bmN0aW9uKCBob29rcyApIHtcbiAgICAgIHZhciBzdG9wID0gaG9va3Muc3RvcDtcbiAgICAgIGRlbGV0ZSBob29rcy5zdG9wO1xuICAgICAgc3RvcCggZ290b0VuZCApO1xuICAgIH07XG5cbiAgICBpZiAoIHR5cGVvZiB0eXBlICE9PSBcInN0cmluZ1wiICkge1xuICAgICAgZ290b0VuZCA9IGNsZWFyUXVldWU7XG4gICAgICBjbGVhclF1ZXVlID0gdHlwZTtcbiAgICAgIHR5cGUgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmICggY2xlYXJRdWV1ZSAmJiB0eXBlICE9PSBmYWxzZSApIHtcbiAgICAgIHRoaXMucXVldWUoIHR5cGUgfHwgXCJmeFwiLCBbXSApO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZGVxdWV1ZSA9IHRydWUsXG4gICAgICAgIGluZGV4ID0gdHlwZSAhPSBudWxsICYmIHR5cGUgKyBcInF1ZXVlSG9va3NcIixcbiAgICAgICAgdGltZXJzID0galF1ZXJ5LnRpbWVycyxcbiAgICAgICAgZGF0YSA9IGpRdWVyeS5fZGF0YSggdGhpcyApO1xuXG4gICAgICBpZiAoIGluZGV4ICkge1xuICAgICAgICBpZiAoIGRhdGFbIGluZGV4IF0gJiYgZGF0YVsgaW5kZXggXS5zdG9wICkge1xuICAgICAgICAgIHN0b3BRdWV1ZSggZGF0YVsgaW5kZXggXSApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKCBpbmRleCBpbiBkYXRhICkge1xuICAgICAgICAgIGlmICggZGF0YVsgaW5kZXggXSAmJiBkYXRhWyBpbmRleCBdLnN0b3AgJiYgcnJ1bi50ZXN0KCBpbmRleCApICkge1xuICAgICAgICAgICAgc3RvcFF1ZXVlKCBkYXRhWyBpbmRleCBdICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZvciAoIGluZGV4ID0gdGltZXJzLmxlbmd0aDsgaW5kZXgtLTsgKSB7XG4gICAgICAgIGlmICggdGltZXJzWyBpbmRleCBdLmVsZW0gPT09IHRoaXMgJiYgKHR5cGUgPT0gbnVsbCB8fCB0aW1lcnNbIGluZGV4IF0ucXVldWUgPT09IHR5cGUpICkge1xuICAgICAgICAgIHRpbWVyc1sgaW5kZXggXS5hbmltLnN0b3AoIGdvdG9FbmQgKTtcbiAgICAgICAgICBkZXF1ZXVlID0gZmFsc2U7XG4gICAgICAgICAgdGltZXJzLnNwbGljZSggaW5kZXgsIDEgKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBzdGFydCB0aGUgbmV4dCBpbiB0aGUgcXVldWUgaWYgdGhlIGxhc3Qgc3RlcCB3YXNuJ3QgZm9yY2VkXG4gICAgICAvLyB0aW1lcnMgY3VycmVudGx5IHdpbGwgY2FsbCB0aGVpciBjb21wbGV0ZSBjYWxsYmFja3MsIHdoaWNoIHdpbGwgZGVxdWV1ZVxuICAgICAgLy8gYnV0IG9ubHkgaWYgdGhleSB3ZXJlIGdvdG9FbmRcbiAgICAgIGlmICggZGVxdWV1ZSB8fCAhZ290b0VuZCApIHtcbiAgICAgICAgalF1ZXJ5LmRlcXVldWUoIHRoaXMsIHR5cGUgKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgZmluaXNoOiBmdW5jdGlvbiggdHlwZSApIHtcbiAgICBpZiAoIHR5cGUgIT09IGZhbHNlICkge1xuICAgICAgdHlwZSA9IHR5cGUgfHwgXCJmeFwiO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGluZGV4LFxuICAgICAgICBkYXRhID0galF1ZXJ5Ll9kYXRhKCB0aGlzICksXG4gICAgICAgIHF1ZXVlID0gZGF0YVsgdHlwZSArIFwicXVldWVcIiBdLFxuICAgICAgICBob29rcyA9IGRhdGFbIHR5cGUgKyBcInF1ZXVlSG9va3NcIiBdLFxuICAgICAgICB0aW1lcnMgPSBqUXVlcnkudGltZXJzLFxuICAgICAgICBsZW5ndGggPSBxdWV1ZSA/IHF1ZXVlLmxlbmd0aCA6IDA7XG5cbiAgICAgIC8vIGVuYWJsZSBmaW5pc2hpbmcgZmxhZyBvbiBwcml2YXRlIGRhdGFcbiAgICAgIGRhdGEuZmluaXNoID0gdHJ1ZTtcblxuICAgICAgLy8gZW1wdHkgdGhlIHF1ZXVlIGZpcnN0XG4gICAgICBqUXVlcnkucXVldWUoIHRoaXMsIHR5cGUsIFtdICk7XG5cbiAgICAgIGlmICggaG9va3MgJiYgaG9va3Muc3RvcCApIHtcbiAgICAgICAgaG9va3Muc3RvcC5jYWxsKCB0aGlzLCB0cnVlICk7XG4gICAgICB9XG5cbiAgICAgIC8vIGxvb2sgZm9yIGFueSBhY3RpdmUgYW5pbWF0aW9ucywgYW5kIGZpbmlzaCB0aGVtXG4gICAgICBmb3IgKCBpbmRleCA9IHRpbWVycy5sZW5ndGg7IGluZGV4LS07ICkge1xuICAgICAgICBpZiAoIHRpbWVyc1sgaW5kZXggXS5lbGVtID09PSB0aGlzICYmIHRpbWVyc1sgaW5kZXggXS5xdWV1ZSA9PT0gdHlwZSApIHtcbiAgICAgICAgICB0aW1lcnNbIGluZGV4IF0uYW5pbS5zdG9wKCB0cnVlICk7XG4gICAgICAgICAgdGltZXJzLnNwbGljZSggaW5kZXgsIDEgKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBsb29rIGZvciBhbnkgYW5pbWF0aW9ucyBpbiB0aGUgb2xkIHF1ZXVlIGFuZCBmaW5pc2ggdGhlbVxuICAgICAgZm9yICggaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcbiAgICAgICAgaWYgKCBxdWV1ZVsgaW5kZXggXSAmJiBxdWV1ZVsgaW5kZXggXS5maW5pc2ggKSB7XG4gICAgICAgICAgcXVldWVbIGluZGV4IF0uZmluaXNoLmNhbGwoIHRoaXMgKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyB0dXJuIG9mZiBmaW5pc2hpbmcgZmxhZ1xuICAgICAgZGVsZXRlIGRhdGEuZmluaXNoO1xuICAgIH0pO1xuICB9XG59KTtcblxualF1ZXJ5LmVhY2goWyBcInRvZ2dsZVwiLCBcInNob3dcIiwgXCJoaWRlXCIgXSwgZnVuY3Rpb24oIGksIG5hbWUgKSB7XG4gIHZhciBjc3NGbiA9IGpRdWVyeS5mblsgbmFtZSBdO1xuICBqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIHtcbiAgICByZXR1cm4gc3BlZWQgPT0gbnVsbCB8fCB0eXBlb2Ygc3BlZWQgPT09IFwiYm9vbGVhblwiID9cbiAgICAgIGNzc0ZuLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKSA6XG4gICAgICB0aGlzLmFuaW1hdGUoIGdlbkZ4KCBuYW1lLCB0cnVlICksIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICk7XG4gIH07XG59KTtcblxuLy8gR2VuZXJhdGUgc2hvcnRjdXRzIGZvciBjdXN0b20gYW5pbWF0aW9uc1xualF1ZXJ5LmVhY2goe1xuICBzbGlkZURvd246IGdlbkZ4KFwic2hvd1wiKSxcbiAgc2xpZGVVcDogZ2VuRngoXCJoaWRlXCIpLFxuICBzbGlkZVRvZ2dsZTogZ2VuRngoXCJ0b2dnbGVcIiksXG4gIGZhZGVJbjogeyBvcGFjaXR5OiBcInNob3dcIiB9LFxuICBmYWRlT3V0OiB7IG9wYWNpdHk6IFwiaGlkZVwiIH0sXG4gIGZhZGVUb2dnbGU6IHsgb3BhY2l0eTogXCJ0b2dnbGVcIiB9XG59LCBmdW5jdGlvbiggbmFtZSwgcHJvcHMgKSB7XG4gIGpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuICAgIHJldHVybiB0aGlzLmFuaW1hdGUoIHByb3BzLCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApO1xuICB9O1xufSk7XG5cbmpRdWVyeS50aW1lcnMgPSBbXTtcbmpRdWVyeS5meC50aWNrID0gZnVuY3Rpb24oKSB7XG4gIHZhciB0aW1lcixcbiAgICB0aW1lcnMgPSBqUXVlcnkudGltZXJzLFxuICAgIGkgPSAwO1xuXG4gIGZ4Tm93ID0galF1ZXJ5Lm5vdygpO1xuXG4gIGZvciAoIDsgaSA8IHRpbWVycy5sZW5ndGg7IGkrKyApIHtcbiAgICB0aW1lciA9IHRpbWVyc1sgaSBdO1xuICAgIC8vIENoZWNrcyB0aGUgdGltZXIgaGFzIG5vdCBhbHJlYWR5IGJlZW4gcmVtb3ZlZFxuICAgIGlmICggIXRpbWVyKCkgJiYgdGltZXJzWyBpIF0gPT09IHRpbWVyICkge1xuICAgICAgdGltZXJzLnNwbGljZSggaS0tLCAxICk7XG4gICAgfVxuICB9XG5cbiAgaWYgKCAhdGltZXJzLmxlbmd0aCApIHtcbiAgICBqUXVlcnkuZnguc3RvcCgpO1xuICB9XG4gIGZ4Tm93ID0gdW5kZWZpbmVkO1xufTtcblxualF1ZXJ5LmZ4LnRpbWVyID0gZnVuY3Rpb24oIHRpbWVyICkge1xuICBqUXVlcnkudGltZXJzLnB1c2goIHRpbWVyICk7XG4gIGlmICggdGltZXIoKSApIHtcbiAgICBqUXVlcnkuZnguc3RhcnQoKTtcbiAgfSBlbHNlIHtcbiAgICBqUXVlcnkudGltZXJzLnBvcCgpO1xuICB9XG59O1xuXG5qUXVlcnkuZnguaW50ZXJ2YWwgPSAxMztcblxualF1ZXJ5LmZ4LnN0YXJ0ID0gZnVuY3Rpb24oKSB7XG4gIGlmICggIXRpbWVySWQgKSB7XG4gICAgdGltZXJJZCA9IHNldEludGVydmFsKCBqUXVlcnkuZngudGljaywgalF1ZXJ5LmZ4LmludGVydmFsICk7XG4gIH1cbn07XG5cbmpRdWVyeS5meC5zdG9wID0gZnVuY3Rpb24oKSB7XG4gIGNsZWFySW50ZXJ2YWwoIHRpbWVySWQgKTtcbiAgdGltZXJJZCA9IG51bGw7XG59O1xuXG5qUXVlcnkuZnguc3BlZWRzID0ge1xuICBzbG93OiA2MDAsXG4gIGZhc3Q6IDIwMCxcbiAgLy8gRGVmYXVsdCBzcGVlZFxuICBfZGVmYXVsdDogNDAwXG59O1xuXG5cbi8vIEJhc2VkIG9mZiBvZiB0aGUgcGx1Z2luIGJ5IENsaW50IEhlbGZlcnMsIHdpdGggcGVybWlzc2lvbi5cbi8vIGh0dHA6Ly9ibGluZHNpZ25hbHMuY29tL2luZGV4LnBocC8yMDA5LzA3L2pxdWVyeS1kZWxheS9cbmpRdWVyeS5mbi5kZWxheSA9IGZ1bmN0aW9uKCB0aW1lLCB0eXBlICkge1xuICB0aW1lID0galF1ZXJ5LmZ4ID8galF1ZXJ5LmZ4LnNwZWVkc1sgdGltZSBdIHx8IHRpbWUgOiB0aW1lO1xuICB0eXBlID0gdHlwZSB8fCBcImZ4XCI7XG5cbiAgcmV0dXJuIHRoaXMucXVldWUoIHR5cGUsIGZ1bmN0aW9uKCBuZXh0LCBob29rcyApIHtcbiAgICB2YXIgdGltZW91dCA9IHNldFRpbWVvdXQoIG5leHQsIHRpbWUgKTtcbiAgICBob29rcy5zdG9wID0gZnVuY3Rpb24oKSB7XG4gICAgICBjbGVhclRpbWVvdXQoIHRpbWVvdXQgKTtcbiAgICB9O1xuICB9KTtcbn07XG5cblxuKGZ1bmN0aW9uKCkge1xuICAvLyBNaW5pZmllZDogdmFyIGEsYixjLGQsZVxuICB2YXIgaW5wdXQsIGRpdiwgc2VsZWN0LCBhLCBvcHQ7XG5cbiAgLy8gU2V0dXBcbiAgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApO1xuICBkaXYuc2V0QXR0cmlidXRlKCBcImNsYXNzTmFtZVwiLCBcInRcIiApO1xuICBkaXYuaW5uZXJIVE1MID0gXCIgIDxsaW5rLz48dGFibGU+PC90YWJsZT48YSBocmVmPScvYSc+YTwvYT48aW5wdXQgdHlwZT0nY2hlY2tib3gnLz5cIjtcbiAgYSA9IGRpdi5nZXRFbGVtZW50c0J5VGFnTmFtZShcImFcIilbIDAgXTtcblxuICAvLyBGaXJzdCBiYXRjaCBvZiB0ZXN0cy5cbiAgc2VsZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKTtcbiAgb3B0ID0gc2VsZWN0LmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpICk7XG4gIGlucHV0ID0gZGl2LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaW5wdXRcIilbIDAgXTtcblxuICBhLnN0eWxlLmNzc1RleHQgPSBcInRvcDoxcHhcIjtcblxuICAvLyBUZXN0IHNldEF0dHJpYnV0ZSBvbiBjYW1lbENhc2UgY2xhc3MuIElmIGl0IHdvcmtzLCB3ZSBuZWVkIGF0dHJGaXhlcyB3aGVuIGRvaW5nIGdldC9zZXRBdHRyaWJ1dGUgKGllNi83KVxuICBzdXBwb3J0LmdldFNldEF0dHJpYnV0ZSA9IGRpdi5jbGFzc05hbWUgIT09IFwidFwiO1xuXG4gIC8vIEdldCB0aGUgc3R5bGUgaW5mb3JtYXRpb24gZnJvbSBnZXRBdHRyaWJ1dGVcbiAgLy8gKElFIHVzZXMgLmNzc1RleHQgaW5zdGVhZClcbiAgc3VwcG9ydC5zdHlsZSA9IC90b3AvLnRlc3QoIGEuZ2V0QXR0cmlidXRlKFwic3R5bGVcIikgKTtcblxuICAvLyBNYWtlIHN1cmUgdGhhdCBVUkxzIGFyZW4ndCBtYW5pcHVsYXRlZFxuICAvLyAoSUUgbm9ybWFsaXplcyBpdCBieSBkZWZhdWx0KVxuICBzdXBwb3J0LmhyZWZOb3JtYWxpemVkID0gYS5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpID09PSBcIi9hXCI7XG5cbiAgLy8gQ2hlY2sgdGhlIGRlZmF1bHQgY2hlY2tib3gvcmFkaW8gdmFsdWUgKFwiXCIgb24gV2ViS2l0OyBcIm9uXCIgZWxzZXdoZXJlKVxuICBzdXBwb3J0LmNoZWNrT24gPSAhIWlucHV0LnZhbHVlO1xuXG4gIC8vIE1ha2Ugc3VyZSB0aGF0IGEgc2VsZWN0ZWQtYnktZGVmYXVsdCBvcHRpb24gaGFzIGEgd29ya2luZyBzZWxlY3RlZCBwcm9wZXJ0eS5cbiAgLy8gKFdlYktpdCBkZWZhdWx0cyB0byBmYWxzZSBpbnN0ZWFkIG9mIHRydWUsIElFIHRvbywgaWYgaXQncyBpbiBhbiBvcHRncm91cClcbiAgc3VwcG9ydC5vcHRTZWxlY3RlZCA9IG9wdC5zZWxlY3RlZDtcblxuICAvLyBUZXN0cyBmb3IgZW5jdHlwZSBzdXBwb3J0IG9uIGEgZm9ybSAoIzY3NDMpXG4gIHN1cHBvcnQuZW5jdHlwZSA9ICEhZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZvcm1cIikuZW5jdHlwZTtcblxuICAvLyBNYWtlIHN1cmUgdGhhdCB0aGUgb3B0aW9ucyBpbnNpZGUgZGlzYWJsZWQgc2VsZWN0cyBhcmVuJ3QgbWFya2VkIGFzIGRpc2FibGVkXG4gIC8vIChXZWJLaXQgbWFya3MgdGhlbSBhcyBkaXNhYmxlZClcbiAgc2VsZWN0LmRpc2FibGVkID0gdHJ1ZTtcbiAgc3VwcG9ydC5vcHREaXNhYmxlZCA9ICFvcHQuZGlzYWJsZWQ7XG5cbiAgLy8gU3VwcG9ydDogSUU4IG9ubHlcbiAgLy8gQ2hlY2sgaWYgd2UgY2FuIHRydXN0IGdldEF0dHJpYnV0ZShcInZhbHVlXCIpXG4gIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJpbnB1dFwiICk7XG4gIGlucHV0LnNldEF0dHJpYnV0ZSggXCJ2YWx1ZVwiLCBcIlwiICk7XG4gIHN1cHBvcnQuaW5wdXQgPSBpbnB1dC5nZXRBdHRyaWJ1dGUoIFwidmFsdWVcIiApID09PSBcIlwiO1xuXG4gIC8vIENoZWNrIGlmIGFuIGlucHV0IG1haW50YWlucyBpdHMgdmFsdWUgYWZ0ZXIgYmVjb21pbmcgYSByYWRpb1xuICBpbnB1dC52YWx1ZSA9IFwidFwiO1xuICBpbnB1dC5zZXRBdHRyaWJ1dGUoIFwidHlwZVwiLCBcInJhZGlvXCIgKTtcbiAgc3VwcG9ydC5yYWRpb1ZhbHVlID0gaW5wdXQudmFsdWUgPT09IFwidFwiO1xufSkoKTtcblxuXG52YXIgcnJldHVybiA9IC9cXHIvZztcblxualF1ZXJ5LmZuLmV4dGVuZCh7XG4gIHZhbDogZnVuY3Rpb24oIHZhbHVlICkge1xuICAgIHZhciBob29rcywgcmV0LCBpc0Z1bmN0aW9uLFxuICAgICAgZWxlbSA9IHRoaXNbMF07XG5cbiAgICBpZiAoICFhcmd1bWVudHMubGVuZ3RoICkge1xuICAgICAgaWYgKCBlbGVtICkge1xuICAgICAgICBob29rcyA9IGpRdWVyeS52YWxIb29rc1sgZWxlbS50eXBlIF0gfHwgalF1ZXJ5LnZhbEhvb2tzWyBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgXTtcblxuICAgICAgICBpZiAoIGhvb2tzICYmIFwiZ2V0XCIgaW4gaG9va3MgJiYgKHJldCA9IGhvb2tzLmdldCggZWxlbSwgXCJ2YWx1ZVwiICkpICE9PSB1bmRlZmluZWQgKSB7XG4gICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldCA9IGVsZW0udmFsdWU7XG5cbiAgICAgICAgcmV0dXJuIHR5cGVvZiByZXQgPT09IFwic3RyaW5nXCIgP1xuICAgICAgICAgIC8vIGhhbmRsZSBtb3N0IGNvbW1vbiBzdHJpbmcgY2FzZXNcbiAgICAgICAgICByZXQucmVwbGFjZShycmV0dXJuLCBcIlwiKSA6XG4gICAgICAgICAgLy8gaGFuZGxlIGNhc2VzIHdoZXJlIHZhbHVlIGlzIG51bGwvdW5kZWYgb3IgbnVtYmVyXG4gICAgICAgICAgcmV0ID09IG51bGwgPyBcIlwiIDogcmV0O1xuICAgICAgfVxuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaXNGdW5jdGlvbiA9IGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApO1xuXG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiggaSApIHtcbiAgICAgIHZhciB2YWw7XG5cbiAgICAgIGlmICggdGhpcy5ub2RlVHlwZSAhPT0gMSApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoIGlzRnVuY3Rpb24gKSB7XG4gICAgICAgIHZhbCA9IHZhbHVlLmNhbGwoIHRoaXMsIGksIGpRdWVyeSggdGhpcyApLnZhbCgpICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWwgPSB2YWx1ZTtcbiAgICAgIH1cblxuICAgICAgLy8gVHJlYXQgbnVsbC91bmRlZmluZWQgYXMgXCJcIjsgY29udmVydCBudW1iZXJzIHRvIHN0cmluZ1xuICAgICAgaWYgKCB2YWwgPT0gbnVsbCApIHtcbiAgICAgICAgdmFsID0gXCJcIjtcbiAgICAgIH0gZWxzZSBpZiAoIHR5cGVvZiB2YWwgPT09IFwibnVtYmVyXCIgKSB7XG4gICAgICAgIHZhbCArPSBcIlwiO1xuICAgICAgfSBlbHNlIGlmICggalF1ZXJ5LmlzQXJyYXkoIHZhbCApICkge1xuICAgICAgICB2YWwgPSBqUXVlcnkubWFwKCB2YWwsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/IFwiXCIgOiB2YWx1ZSArIFwiXCI7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBob29rcyA9IGpRdWVyeS52YWxIb29rc1sgdGhpcy50eXBlIF0gfHwgalF1ZXJ5LnZhbEhvb2tzWyB0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgXTtcblxuICAgICAgLy8gSWYgc2V0IHJldHVybnMgdW5kZWZpbmVkLCBmYWxsIGJhY2sgdG8gbm9ybWFsIHNldHRpbmdcbiAgICAgIGlmICggIWhvb2tzIHx8ICEoXCJzZXRcIiBpbiBob29rcykgfHwgaG9va3Muc2V0KCB0aGlzLCB2YWwsIFwidmFsdWVcIiApID09PSB1bmRlZmluZWQgKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWw7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuXG5qUXVlcnkuZXh0ZW5kKHtcbiAgdmFsSG9va3M6IHtcbiAgICBvcHRpb246IHtcbiAgICAgIGdldDogZnVuY3Rpb24oIGVsZW0gKSB7XG4gICAgICAgIHZhciB2YWwgPSBqUXVlcnkuZmluZC5hdHRyKCBlbGVtLCBcInZhbHVlXCIgKTtcbiAgICAgICAgcmV0dXJuIHZhbCAhPSBudWxsID9cbiAgICAgICAgICB2YWwgOlxuICAgICAgICAgIC8vIFN1cHBvcnQ6IElFMTAtMTErXG4gICAgICAgICAgLy8gb3B0aW9uLnRleHQgdGhyb3dzIGV4Y2VwdGlvbnMgKCMxNDY4NiwgIzE0ODU4KVxuICAgICAgICAgIGpRdWVyeS50cmltKCBqUXVlcnkudGV4dCggZWxlbSApICk7XG4gICAgICB9XG4gICAgfSxcbiAgICBzZWxlY3Q6IHtcbiAgICAgIGdldDogZnVuY3Rpb24oIGVsZW0gKSB7XG4gICAgICAgIHZhciB2YWx1ZSwgb3B0aW9uLFxuICAgICAgICAgIG9wdGlvbnMgPSBlbGVtLm9wdGlvbnMsXG4gICAgICAgICAgaW5kZXggPSBlbGVtLnNlbGVjdGVkSW5kZXgsXG4gICAgICAgICAgb25lID0gZWxlbS50eXBlID09PSBcInNlbGVjdC1vbmVcIiB8fCBpbmRleCA8IDAsXG4gICAgICAgICAgdmFsdWVzID0gb25lID8gbnVsbCA6IFtdLFxuICAgICAgICAgIG1heCA9IG9uZSA/IGluZGV4ICsgMSA6IG9wdGlvbnMubGVuZ3RoLFxuICAgICAgICAgIGkgPSBpbmRleCA8IDAgP1xuICAgICAgICAgICAgbWF4IDpcbiAgICAgICAgICAgIG9uZSA/IGluZGV4IDogMDtcblxuICAgICAgICAvLyBMb29wIHRocm91Z2ggYWxsIHRoZSBzZWxlY3RlZCBvcHRpb25zXG4gICAgICAgIGZvciAoIDsgaSA8IG1heDsgaSsrICkge1xuICAgICAgICAgIG9wdGlvbiA9IG9wdGlvbnNbIGkgXTtcblxuICAgICAgICAgIC8vIG9sZElFIGRvZXNuJ3QgdXBkYXRlIHNlbGVjdGVkIGFmdGVyIGZvcm0gcmVzZXQgKCMyNTUxKVxuICAgICAgICAgIGlmICggKCBvcHRpb24uc2VsZWN0ZWQgfHwgaSA9PT0gaW5kZXggKSAmJlxuICAgICAgICAgICAgICAvLyBEb24ndCByZXR1cm4gb3B0aW9ucyB0aGF0IGFyZSBkaXNhYmxlZCBvciBpbiBhIGRpc2FibGVkIG9wdGdyb3VwXG4gICAgICAgICAgICAgICggc3VwcG9ydC5vcHREaXNhYmxlZCA/ICFvcHRpb24uZGlzYWJsZWQgOiBvcHRpb24uZ2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIikgPT09IG51bGwgKSAmJlxuICAgICAgICAgICAgICAoICFvcHRpb24ucGFyZW50Tm9kZS5kaXNhYmxlZCB8fCAhalF1ZXJ5Lm5vZGVOYW1lKCBvcHRpb24ucGFyZW50Tm9kZSwgXCJvcHRncm91cFwiICkgKSApIHtcblxuICAgICAgICAgICAgLy8gR2V0IHRoZSBzcGVjaWZpYyB2YWx1ZSBmb3IgdGhlIG9wdGlvblxuICAgICAgICAgICAgdmFsdWUgPSBqUXVlcnkoIG9wdGlvbiApLnZhbCgpO1xuXG4gICAgICAgICAgICAvLyBXZSBkb24ndCBuZWVkIGFuIGFycmF5IGZvciBvbmUgc2VsZWN0c1xuICAgICAgICAgICAgaWYgKCBvbmUgKSB7XG4gICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTXVsdGktU2VsZWN0cyByZXR1cm4gYW4gYXJyYXlcbiAgICAgICAgICAgIHZhbHVlcy5wdXNoKCB2YWx1ZSApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgICB9LFxuXG4gICAgICBzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcbiAgICAgICAgdmFyIG9wdGlvblNldCwgb3B0aW9uLFxuICAgICAgICAgIG9wdGlvbnMgPSBlbGVtLm9wdGlvbnMsXG4gICAgICAgICAgdmFsdWVzID0galF1ZXJ5Lm1ha2VBcnJheSggdmFsdWUgKSxcbiAgICAgICAgICBpID0gb3B0aW9ucy5sZW5ndGg7XG5cbiAgICAgICAgd2hpbGUgKCBpLS0gKSB7XG4gICAgICAgICAgb3B0aW9uID0gb3B0aW9uc1sgaSBdO1xuXG4gICAgICAgICAgaWYgKCBqUXVlcnkuaW5BcnJheSggalF1ZXJ5LnZhbEhvb2tzLm9wdGlvbi5nZXQoIG9wdGlvbiApLCB2YWx1ZXMgKSA+PSAwICkge1xuXG4gICAgICAgICAgICAvLyBTdXBwb3J0OiBJRTZcbiAgICAgICAgICAgIC8vIFdoZW4gbmV3IG9wdGlvbiBlbGVtZW50IGlzIGFkZGVkIHRvIHNlbGVjdCBib3ggd2UgbmVlZCB0b1xuICAgICAgICAgICAgLy8gZm9yY2UgcmVmbG93IG9mIG5ld2x5IGFkZGVkIG5vZGUgaW4gb3JkZXIgdG8gd29ya2Fyb3VuZCBkZWxheVxuICAgICAgICAgICAgLy8gb2YgaW5pdGlhbGl6YXRpb24gcHJvcGVydGllc1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gb3B0aW9uU2V0ID0gdHJ1ZTtcblxuICAgICAgICAgICAgfSBjYXRjaCAoIF8gKSB7XG5cbiAgICAgICAgICAgICAgLy8gV2lsbCBiZSBleGVjdXRlZCBvbmx5IGluIElFNlxuICAgICAgICAgICAgICBvcHRpb24uc2Nyb2xsSGVpZ2h0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZvcmNlIGJyb3dzZXJzIHRvIGJlaGF2ZSBjb25zaXN0ZW50bHkgd2hlbiBub24tbWF0Y2hpbmcgdmFsdWUgaXMgc2V0XG4gICAgICAgIGlmICggIW9wdGlvblNldCApIHtcbiAgICAgICAgICBlbGVtLnNlbGVjdGVkSW5kZXggPSAtMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvcHRpb25zO1xuICAgICAgfVxuICAgIH1cbiAgfVxufSk7XG5cbi8vIFJhZGlvcyBhbmQgY2hlY2tib3hlcyBnZXR0ZXIvc2V0dGVyXG5qUXVlcnkuZWFjaChbIFwicmFkaW9cIiwgXCJjaGVja2JveFwiIF0sIGZ1bmN0aW9uKCkge1xuICBqUXVlcnkudmFsSG9va3NbIHRoaXMgXSA9IHtcbiAgICBzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcbiAgICAgIGlmICggalF1ZXJ5LmlzQXJyYXkoIHZhbHVlICkgKSB7XG4gICAgICAgIHJldHVybiAoIGVsZW0uY2hlY2tlZCA9IGpRdWVyeS5pbkFycmF5KCBqUXVlcnkoZWxlbSkudmFsKCksIHZhbHVlICkgPj0gMCApO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgaWYgKCAhc3VwcG9ydC5jaGVja09uICkge1xuICAgIGpRdWVyeS52YWxIb29rc1sgdGhpcyBdLmdldCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuICAgICAgLy8gU3VwcG9ydDogV2Via2l0XG4gICAgICAvLyBcIlwiIGlzIHJldHVybmVkIGluc3RlYWQgb2YgXCJvblwiIGlmIGEgdmFsdWUgaXNuJ3Qgc3BlY2lmaWVkXG4gICAgICByZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKSA9PT0gbnVsbCA/IFwib25cIiA6IGVsZW0udmFsdWU7XG4gICAgfTtcbiAgfVxufSk7XG5cblxuXG5cbnZhciBub2RlSG9vaywgYm9vbEhvb2ssXG4gIGF0dHJIYW5kbGUgPSBqUXVlcnkuZXhwci5hdHRySGFuZGxlLFxuICBydXNlRGVmYXVsdCA9IC9eKD86Y2hlY2tlZHxzZWxlY3RlZCkkL2ksXG4gIGdldFNldEF0dHJpYnV0ZSA9IHN1cHBvcnQuZ2V0U2V0QXR0cmlidXRlLFxuICBnZXRTZXRJbnB1dCA9IHN1cHBvcnQuaW5wdXQ7XG5cbmpRdWVyeS5mbi5leHRlbmQoe1xuICBhdHRyOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7XG4gICAgcmV0dXJuIGFjY2VzcyggdGhpcywgalF1ZXJ5LmF0dHIsIG5hbWUsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoID4gMSApO1xuICB9LFxuXG4gIHJlbW92ZUF0dHI6IGZ1bmN0aW9uKCBuYW1lICkge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICBqUXVlcnkucmVtb3ZlQXR0ciggdGhpcywgbmFtZSApO1xuICAgIH0pO1xuICB9XG59KTtcblxualF1ZXJ5LmV4dGVuZCh7XG4gIGF0dHI6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCB2YWx1ZSApIHtcbiAgICB2YXIgaG9va3MsIHJldCxcbiAgICAgIG5UeXBlID0gZWxlbS5ub2RlVHlwZTtcblxuICAgIC8vIGRvbid0IGdldC9zZXQgYXR0cmlidXRlcyBvbiB0ZXh0LCBjb21tZW50IGFuZCBhdHRyaWJ1dGUgbm9kZXNcbiAgICBpZiAoICFlbGVtIHx8IG5UeXBlID09PSAzIHx8IG5UeXBlID09PSA4IHx8IG5UeXBlID09PSAyICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEZhbGxiYWNrIHRvIHByb3Agd2hlbiBhdHRyaWJ1dGVzIGFyZSBub3Qgc3VwcG9ydGVkXG4gICAgaWYgKCB0eXBlb2YgZWxlbS5nZXRBdHRyaWJ1dGUgPT09IHN0cnVuZGVmaW5lZCApIHtcbiAgICAgIHJldHVybiBqUXVlcnkucHJvcCggZWxlbSwgbmFtZSwgdmFsdWUgKTtcbiAgICB9XG5cbiAgICAvLyBBbGwgYXR0cmlidXRlcyBhcmUgbG93ZXJjYXNlXG4gICAgLy8gR3JhYiBuZWNlc3NhcnkgaG9vayBpZiBvbmUgaXMgZGVmaW5lZFxuICAgIGlmICggblR5cGUgIT09IDEgfHwgIWpRdWVyeS5pc1hNTERvYyggZWxlbSApICkge1xuICAgICAgbmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgIGhvb2tzID0galF1ZXJ5LmF0dHJIb29rc1sgbmFtZSBdIHx8XG4gICAgICAgICggalF1ZXJ5LmV4cHIubWF0Y2guYm9vbC50ZXN0KCBuYW1lICkgPyBib29sSG9vayA6IG5vZGVIb29rICk7XG4gICAgfVxuXG4gICAgaWYgKCB2YWx1ZSAhPT0gdW5kZWZpbmVkICkge1xuXG4gICAgICBpZiAoIHZhbHVlID09PSBudWxsICkge1xuICAgICAgICBqUXVlcnkucmVtb3ZlQXR0ciggZWxlbSwgbmFtZSApO1xuXG4gICAgICB9IGVsc2UgaWYgKCBob29rcyAmJiBcInNldFwiIGluIGhvb2tzICYmIChyZXQgPSBob29rcy5zZXQoIGVsZW0sIHZhbHVlLCBuYW1lICkpICE9PSB1bmRlZmluZWQgKSB7XG4gICAgICAgIHJldHVybiByZXQ7XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW0uc2V0QXR0cmlidXRlKCBuYW1lLCB2YWx1ZSArIFwiXCIgKTtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIGlmICggaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcyAmJiAocmV0ID0gaG9va3MuZ2V0KCBlbGVtLCBuYW1lICkpICE9PSBudWxsICkge1xuICAgICAgcmV0dXJuIHJldDtcblxuICAgIH0gZWxzZSB7XG4gICAgICByZXQgPSBqUXVlcnkuZmluZC5hdHRyKCBlbGVtLCBuYW1lICk7XG5cbiAgICAgIC8vIE5vbi1leGlzdGVudCBhdHRyaWJ1dGVzIHJldHVybiBudWxsLCB3ZSBub3JtYWxpemUgdG8gdW5kZWZpbmVkXG4gICAgICByZXR1cm4gcmV0ID09IG51bGwgP1xuICAgICAgICB1bmRlZmluZWQgOlxuICAgICAgICByZXQ7XG4gICAgfVxuICB9LFxuXG4gIHJlbW92ZUF0dHI6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcbiAgICB2YXIgbmFtZSwgcHJvcE5hbWUsXG4gICAgICBpID0gMCxcbiAgICAgIGF0dHJOYW1lcyA9IHZhbHVlICYmIHZhbHVlLm1hdGNoKCBybm90d2hpdGUgKTtcblxuICAgIGlmICggYXR0ck5hbWVzICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG4gICAgICB3aGlsZSAoIChuYW1lID0gYXR0ck5hbWVzW2krK10pICkge1xuICAgICAgICBwcm9wTmFtZSA9IGpRdWVyeS5wcm9wRml4WyBuYW1lIF0gfHwgbmFtZTtcblxuICAgICAgICAvLyBCb29sZWFuIGF0dHJpYnV0ZXMgZ2V0IHNwZWNpYWwgdHJlYXRtZW50ICgjMTA4NzApXG4gICAgICAgIGlmICggalF1ZXJ5LmV4cHIubWF0Y2guYm9vbC50ZXN0KCBuYW1lICkgKSB7XG4gICAgICAgICAgLy8gU2V0IGNvcnJlc3BvbmRpbmcgcHJvcGVydHkgdG8gZmFsc2VcbiAgICAgICAgICBpZiAoIGdldFNldElucHV0ICYmIGdldFNldEF0dHJpYnV0ZSB8fCAhcnVzZURlZmF1bHQudGVzdCggbmFtZSApICkge1xuICAgICAgICAgICAgZWxlbVsgcHJvcE5hbWUgXSA9IGZhbHNlO1xuICAgICAgICAgIC8vIFN1cHBvcnQ6IElFPDlcbiAgICAgICAgICAvLyBBbHNvIGNsZWFyIGRlZmF1bHRDaGVja2VkL2RlZmF1bHRTZWxlY3RlZCAoaWYgYXBwcm9wcmlhdGUpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsZW1bIGpRdWVyeS5jYW1lbENhc2UoIFwiZGVmYXVsdC1cIiArIG5hbWUgKSBdID1cbiAgICAgICAgICAgICAgZWxlbVsgcHJvcE5hbWUgXSA9IGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAvLyBTZWUgIzk2OTkgZm9yIGV4cGxhbmF0aW9uIG9mIHRoaXMgYXBwcm9hY2ggKHNldHRpbmcgZmlyc3QsIHRoZW4gcmVtb3ZhbClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBqUXVlcnkuYXR0ciggZWxlbSwgbmFtZSwgXCJcIiApO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxlbS5yZW1vdmVBdHRyaWJ1dGUoIGdldFNldEF0dHJpYnV0ZSA/IG5hbWUgOiBwcm9wTmFtZSApO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBhdHRySG9va3M6IHtcbiAgICB0eXBlOiB7XG4gICAgICBzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcbiAgICAgICAgaWYgKCAhc3VwcG9ydC5yYWRpb1ZhbHVlICYmIHZhbHVlID09PSBcInJhZGlvXCIgJiYgalF1ZXJ5Lm5vZGVOYW1lKGVsZW0sIFwiaW5wdXRcIikgKSB7XG4gICAgICAgICAgLy8gU2V0dGluZyB0aGUgdHlwZSBvbiBhIHJhZGlvIGJ1dHRvbiBhZnRlciB0aGUgdmFsdWUgcmVzZXRzIHRoZSB2YWx1ZSBpbiBJRTYtOVxuICAgICAgICAgIC8vIFJlc2V0IHZhbHVlIHRvIGRlZmF1bHQgaW4gY2FzZSB0eXBlIGlzIHNldCBhZnRlciB2YWx1ZSBkdXJpbmcgY3JlYXRpb25cbiAgICAgICAgICB2YXIgdmFsID0gZWxlbS52YWx1ZTtcbiAgICAgICAgICBlbGVtLnNldEF0dHJpYnV0ZSggXCJ0eXBlXCIsIHZhbHVlICk7XG4gICAgICAgICAgaWYgKCB2YWwgKSB7XG4gICAgICAgICAgICBlbGVtLnZhbHVlID0gdmFsO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn0pO1xuXG4vLyBIb29rIGZvciBib29sZWFuIGF0dHJpYnV0ZXNcbmJvb2xIb29rID0ge1xuICBzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSwgbmFtZSApIHtcbiAgICBpZiAoIHZhbHVlID09PSBmYWxzZSApIHtcbiAgICAgIC8vIFJlbW92ZSBib29sZWFuIGF0dHJpYnV0ZXMgd2hlbiBzZXQgdG8gZmFsc2VcbiAgICAgIGpRdWVyeS5yZW1vdmVBdHRyKCBlbGVtLCBuYW1lICk7XG4gICAgfSBlbHNlIGlmICggZ2V0U2V0SW5wdXQgJiYgZ2V0U2V0QXR0cmlidXRlIHx8ICFydXNlRGVmYXVsdC50ZXN0KCBuYW1lICkgKSB7XG4gICAgICAvLyBJRTw4IG5lZWRzIHRoZSAqcHJvcGVydHkqIG5hbWVcbiAgICAgIGVsZW0uc2V0QXR0cmlidXRlKCAhZ2V0U2V0QXR0cmlidXRlICYmIGpRdWVyeS5wcm9wRml4WyBuYW1lIF0gfHwgbmFtZSwgbmFtZSApO1xuXG4gICAgLy8gVXNlIGRlZmF1bHRDaGVja2VkIGFuZCBkZWZhdWx0U2VsZWN0ZWQgZm9yIG9sZElFXG4gICAgfSBlbHNlIHtcbiAgICAgIGVsZW1bIGpRdWVyeS5jYW1lbENhc2UoIFwiZGVmYXVsdC1cIiArIG5hbWUgKSBdID0gZWxlbVsgbmFtZSBdID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmFtZTtcbiAgfVxufTtcblxuLy8gUmV0cmlldmUgYm9vbGVhbnMgc3BlY2lhbGx5XG5qUXVlcnkuZWFjaCggalF1ZXJ5LmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goIC9cXHcrL2cgKSwgZnVuY3Rpb24oIGksIG5hbWUgKSB7XG5cbiAgdmFyIGdldHRlciA9IGF0dHJIYW5kbGVbIG5hbWUgXSB8fCBqUXVlcnkuZmluZC5hdHRyO1xuXG4gIGF0dHJIYW5kbGVbIG5hbWUgXSA9IGdldFNldElucHV0ICYmIGdldFNldEF0dHJpYnV0ZSB8fCAhcnVzZURlZmF1bHQudGVzdCggbmFtZSApID9cbiAgICBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XG4gICAgICB2YXIgcmV0LCBoYW5kbGU7XG4gICAgICBpZiAoICFpc1hNTCApIHtcbiAgICAgICAgLy8gQXZvaWQgYW4gaW5maW5pdGUgbG9vcCBieSB0ZW1wb3JhcmlseSByZW1vdmluZyB0aGlzIGZ1bmN0aW9uIGZyb20gdGhlIGdldHRlclxuICAgICAgICBoYW5kbGUgPSBhdHRySGFuZGxlWyBuYW1lIF07XG4gICAgICAgIGF0dHJIYW5kbGVbIG5hbWUgXSA9IHJldDtcbiAgICAgICAgcmV0ID0gZ2V0dGVyKCBlbGVtLCBuYW1lLCBpc1hNTCApICE9IG51bGwgP1xuICAgICAgICAgIG5hbWUudG9Mb3dlckNhc2UoKSA6XG4gICAgICAgICAgbnVsbDtcbiAgICAgICAgYXR0ckhhbmRsZVsgbmFtZSBdID0gaGFuZGxlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJldDtcbiAgICB9IDpcbiAgICBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XG4gICAgICBpZiAoICFpc1hNTCApIHtcbiAgICAgICAgcmV0dXJuIGVsZW1bIGpRdWVyeS5jYW1lbENhc2UoIFwiZGVmYXVsdC1cIiArIG5hbWUgKSBdID9cbiAgICAgICAgICBuYW1lLnRvTG93ZXJDYXNlKCkgOlxuICAgICAgICAgIG51bGw7XG4gICAgICB9XG4gICAgfTtcbn0pO1xuXG4vLyBmaXggb2xkSUUgYXR0cm9wZXJ0aWVzXG5pZiAoICFnZXRTZXRJbnB1dCB8fCAhZ2V0U2V0QXR0cmlidXRlICkge1xuICBqUXVlcnkuYXR0ckhvb2tzLnZhbHVlID0ge1xuICAgIHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlLCBuYW1lICkge1xuICAgICAgaWYgKCBqUXVlcnkubm9kZU5hbWUoIGVsZW0sIFwiaW5wdXRcIiApICkge1xuICAgICAgICAvLyBEb2VzIG5vdCByZXR1cm4gc28gdGhhdCBzZXRBdHRyaWJ1dGUgaXMgYWxzbyB1c2VkXG4gICAgICAgIGVsZW0uZGVmYXVsdFZhbHVlID0gdmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBVc2Ugbm9kZUhvb2sgaWYgZGVmaW5lZCAoIzE5NTQpOyBvdGhlcndpc2Ugc2V0QXR0cmlidXRlIGlzIGZpbmVcbiAgICAgICAgcmV0dXJuIG5vZGVIb29rICYmIG5vZGVIb29rLnNldCggZWxlbSwgdmFsdWUsIG5hbWUgKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG5cbi8vIElFNi83IGRvIG5vdCBzdXBwb3J0IGdldHRpbmcvc2V0dGluZyBzb21lIGF0dHJpYnV0ZXMgd2l0aCBnZXQvc2V0QXR0cmlidXRlXG5pZiAoICFnZXRTZXRBdHRyaWJ1dGUgKSB7XG5cbiAgLy8gVXNlIHRoaXMgZm9yIGFueSBhdHRyaWJ1dGUgaW4gSUU2LzdcbiAgLy8gVGhpcyBmaXhlcyBhbG1vc3QgZXZlcnkgSUU2LzcgaXNzdWVcbiAgbm9kZUhvb2sgPSB7XG4gICAgc2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUsIG5hbWUgKSB7XG4gICAgICAvLyBTZXQgdGhlIGV4aXN0aW5nIG9yIGNyZWF0ZSBhIG5ldyBhdHRyaWJ1dGUgbm9kZVxuICAgICAgdmFyIHJldCA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZSggbmFtZSApO1xuICAgICAgaWYgKCAhcmV0ICkge1xuICAgICAgICBlbGVtLnNldEF0dHJpYnV0ZU5vZGUoXG4gICAgICAgICAgKHJldCA9IGVsZW0ub3duZXJEb2N1bWVudC5jcmVhdGVBdHRyaWJ1dGUoIG5hbWUgKSlcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgcmV0LnZhbHVlID0gdmFsdWUgKz0gXCJcIjtcblxuICAgICAgLy8gQnJlYWsgYXNzb2NpYXRpb24gd2l0aCBjbG9uZWQgZWxlbWVudHMgYnkgYWxzbyB1c2luZyBzZXRBdHRyaWJ1dGUgKCM5NjQ2KVxuICAgICAgaWYgKCBuYW1lID09PSBcInZhbHVlXCIgfHwgdmFsdWUgPT09IGVsZW0uZ2V0QXR0cmlidXRlKCBuYW1lICkgKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLy8gU29tZSBhdHRyaWJ1dGVzIGFyZSBjb25zdHJ1Y3RlZCB3aXRoIGVtcHR5LXN0cmluZyB2YWx1ZXMgd2hlbiBub3QgZGVmaW5lZFxuICBhdHRySGFuZGxlLmlkID0gYXR0ckhhbmRsZS5uYW1lID0gYXR0ckhhbmRsZS5jb29yZHMgPVxuICAgIGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBpc1hNTCApIHtcbiAgICAgIHZhciByZXQ7XG4gICAgICBpZiAoICFpc1hNTCApIHtcbiAgICAgICAgcmV0dXJuIChyZXQgPSBlbGVtLmdldEF0dHJpYnV0ZU5vZGUoIG5hbWUgKSkgJiYgcmV0LnZhbHVlICE9PSBcIlwiID9cbiAgICAgICAgICByZXQudmFsdWUgOlxuICAgICAgICAgIG51bGw7XG4gICAgICB9XG4gICAgfTtcblxuICAvLyBGaXhpbmcgdmFsdWUgcmV0cmlldmFsIG9uIGEgYnV0dG9uIHJlcXVpcmVzIHRoaXMgbW9kdWxlXG4gIGpRdWVyeS52YWxIb29rcy5idXR0b24gPSB7XG4gICAgZ2V0OiBmdW5jdGlvbiggZWxlbSwgbmFtZSApIHtcbiAgICAgIHZhciByZXQgPSBlbGVtLmdldEF0dHJpYnV0ZU5vZGUoIG5hbWUgKTtcbiAgICAgIGlmICggcmV0ICYmIHJldC5zcGVjaWZpZWQgKSB7XG4gICAgICAgIHJldHVybiByZXQudmFsdWU7XG4gICAgICB9XG4gICAgfSxcbiAgICBzZXQ6IG5vZGVIb29rLnNldFxuICB9O1xuXG4gIC8vIFNldCBjb250ZW50ZWRpdGFibGUgdG8gZmFsc2Ugb24gcmVtb3ZhbHMoIzEwNDI5KVxuICAvLyBTZXR0aW5nIHRvIGVtcHR5IHN0cmluZyB0aHJvd3MgYW4gZXJyb3IgYXMgYW4gaW52YWxpZCB2YWx1ZVxuICBqUXVlcnkuYXR0ckhvb2tzLmNvbnRlbnRlZGl0YWJsZSA9IHtcbiAgICBzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSwgbmFtZSApIHtcbiAgICAgIG5vZGVIb29rLnNldCggZWxlbSwgdmFsdWUgPT09IFwiXCIgPyBmYWxzZSA6IHZhbHVlLCBuYW1lICk7XG4gICAgfVxuICB9O1xuXG4gIC8vIFNldCB3aWR0aCBhbmQgaGVpZ2h0IHRvIGF1dG8gaW5zdGVhZCBvZiAwIG9uIGVtcHR5IHN0cmluZyggQnVnICM4MTUwIClcbiAgLy8gVGhpcyBpcyBmb3IgcmVtb3ZhbHNcbiAgalF1ZXJ5LmVhY2goWyBcIndpZHRoXCIsIFwiaGVpZ2h0XCIgXSwgZnVuY3Rpb24oIGksIG5hbWUgKSB7XG4gICAgalF1ZXJ5LmF0dHJIb29rc1sgbmFtZSBdID0ge1xuICAgICAgc2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUgKSB7XG4gICAgICAgIGlmICggdmFsdWUgPT09IFwiXCIgKSB7XG4gICAgICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoIG5hbWUsIFwiYXV0b1wiICk7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG59XG5cbmlmICggIXN1cHBvcnQuc3R5bGUgKSB7XG4gIGpRdWVyeS5hdHRySG9va3Muc3R5bGUgPSB7XG4gICAgZ2V0OiBmdW5jdGlvbiggZWxlbSApIHtcbiAgICAgIC8vIFJldHVybiB1bmRlZmluZWQgaW4gdGhlIGNhc2Ugb2YgZW1wdHkgc3RyaW5nXG4gICAgICAvLyBOb3RlOiBJRSB1cHBlcmNhc2VzIGNzcyBwcm9wZXJ0eSBuYW1lcywgYnV0IGlmIHdlIHdlcmUgdG8gLnRvTG93ZXJDYXNlKClcbiAgICAgIC8vIC5jc3NUZXh0LCB0aGF0IHdvdWxkIGRlc3Ryb3kgY2FzZSBzZW5zdGl0aXZpdHkgaW4gVVJMJ3MsIGxpa2UgaW4gXCJiYWNrZ3JvdW5kXCJcbiAgICAgIHJldHVybiBlbGVtLnN0eWxlLmNzc1RleHQgfHwgdW5kZWZpbmVkO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUgKSB7XG4gICAgICByZXR1cm4gKCBlbGVtLnN0eWxlLmNzc1RleHQgPSB2YWx1ZSArIFwiXCIgKTtcbiAgICB9XG4gIH07XG59XG5cblxuXG5cbnZhciByZm9jdXNhYmxlID0gL14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9ufG9iamVjdCkkL2ksXG4gIHJjbGlja2FibGUgPSAvXig/OmF8YXJlYSkkL2k7XG5cbmpRdWVyeS5mbi5leHRlbmQoe1xuICBwcm9wOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7XG4gICAgcmV0dXJuIGFjY2VzcyggdGhpcywgalF1ZXJ5LnByb3AsIG5hbWUsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoID4gMSApO1xuICB9LFxuXG4gIHJlbW92ZVByb3A6IGZ1bmN0aW9uKCBuYW1lICkge1xuICAgIG5hbWUgPSBqUXVlcnkucHJvcEZpeFsgbmFtZSBdIHx8IG5hbWU7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgIC8vIHRyeS9jYXRjaCBoYW5kbGVzIGNhc2VzIHdoZXJlIElFIGJhbGtzIChzdWNoIGFzIHJlbW92aW5nIGEgcHJvcGVydHkgb24gd2luZG93KVxuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpc1sgbmFtZSBdID0gdW5kZWZpbmVkO1xuICAgICAgICBkZWxldGUgdGhpc1sgbmFtZSBdO1xuICAgICAgfSBjYXRjaCggZSApIHt9XG4gICAgfSk7XG4gIH1cbn0pO1xuXG5qUXVlcnkuZXh0ZW5kKHtcbiAgcHJvcEZpeDoge1xuICAgIFwiZm9yXCI6IFwiaHRtbEZvclwiLFxuICAgIFwiY2xhc3NcIjogXCJjbGFzc05hbWVcIlxuICB9LFxuXG4gIHByb3A6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCB2YWx1ZSApIHtcbiAgICB2YXIgcmV0LCBob29rcywgbm90eG1sLFxuICAgICAgblR5cGUgPSBlbGVtLm5vZGVUeXBlO1xuXG4gICAgLy8gZG9uJ3QgZ2V0L3NldCBwcm9wZXJ0aWVzIG9uIHRleHQsIGNvbW1lbnQgYW5kIGF0dHJpYnV0ZSBub2Rlc1xuICAgIGlmICggIWVsZW0gfHwgblR5cGUgPT09IDMgfHwgblR5cGUgPT09IDggfHwgblR5cGUgPT09IDIgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbm90eG1sID0gblR5cGUgIT09IDEgfHwgIWpRdWVyeS5pc1hNTERvYyggZWxlbSApO1xuXG4gICAgaWYgKCBub3R4bWwgKSB7XG4gICAgICAvLyBGaXggbmFtZSBhbmQgYXR0YWNoIGhvb2tzXG4gICAgICBuYW1lID0galF1ZXJ5LnByb3BGaXhbIG5hbWUgXSB8fCBuYW1lO1xuICAgICAgaG9va3MgPSBqUXVlcnkucHJvcEhvb2tzWyBuYW1lIF07XG4gICAgfVxuXG4gICAgaWYgKCB2YWx1ZSAhPT0gdW5kZWZpbmVkICkge1xuICAgICAgcmV0dXJuIGhvb2tzICYmIFwic2V0XCIgaW4gaG9va3MgJiYgKHJldCA9IGhvb2tzLnNldCggZWxlbSwgdmFsdWUsIG5hbWUgKSkgIT09IHVuZGVmaW5lZCA/XG4gICAgICAgIHJldCA6XG4gICAgICAgICggZWxlbVsgbmFtZSBdID0gdmFsdWUgKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcyAmJiAocmV0ID0gaG9va3MuZ2V0KCBlbGVtLCBuYW1lICkpICE9PSBudWxsID9cbiAgICAgICAgcmV0IDpcbiAgICAgICAgZWxlbVsgbmFtZSBdO1xuICAgIH1cbiAgfSxcblxuICBwcm9wSG9va3M6IHtcbiAgICB0YWJJbmRleDoge1xuICAgICAgZ2V0OiBmdW5jdGlvbiggZWxlbSApIHtcbiAgICAgICAgLy8gZWxlbS50YWJJbmRleCBkb2Vzbid0IGFsd2F5cyByZXR1cm4gdGhlIGNvcnJlY3QgdmFsdWUgd2hlbiBpdCBoYXNuJ3QgYmVlbiBleHBsaWNpdGx5IHNldFxuICAgICAgICAvLyBodHRwOi8vZmx1aWRwcm9qZWN0Lm9yZy9ibG9nLzIwMDgvMDEvMDkvZ2V0dGluZy1zZXR0aW5nLWFuZC1yZW1vdmluZy10YWJpbmRleC12YWx1ZXMtd2l0aC1qYXZhc2NyaXB0L1xuICAgICAgICAvLyBVc2UgcHJvcGVyIGF0dHJpYnV0ZSByZXRyaWV2YWwoIzEyMDcyKVxuICAgICAgICB2YXIgdGFiaW5kZXggPSBqUXVlcnkuZmluZC5hdHRyKCBlbGVtLCBcInRhYmluZGV4XCIgKTtcblxuICAgICAgICByZXR1cm4gdGFiaW5kZXggP1xuICAgICAgICAgIHBhcnNlSW50KCB0YWJpbmRleCwgMTAgKSA6XG4gICAgICAgICAgcmZvY3VzYWJsZS50ZXN0KCBlbGVtLm5vZGVOYW1lICkgfHwgcmNsaWNrYWJsZS50ZXN0KCBlbGVtLm5vZGVOYW1lICkgJiYgZWxlbS5ocmVmID9cbiAgICAgICAgICAgIDAgOlxuICAgICAgICAgICAgLTE7XG4gICAgICB9XG4gICAgfVxuICB9XG59KTtcblxuLy8gU29tZSBhdHRyaWJ1dGVzIHJlcXVpcmUgYSBzcGVjaWFsIGNhbGwgb24gSUVcbi8vIGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9tczUzNjQyOSUyOFZTLjg1JTI5LmFzcHhcbmlmICggIXN1cHBvcnQuaHJlZk5vcm1hbGl6ZWQgKSB7XG4gIC8vIGhyZWYvc3JjIHByb3BlcnR5IHNob3VsZCBnZXQgdGhlIGZ1bGwgbm9ybWFsaXplZCBVUkwgKCMxMDI5OS8jMTI5MTUpXG4gIGpRdWVyeS5lYWNoKFsgXCJocmVmXCIsIFwic3JjXCIgXSwgZnVuY3Rpb24oIGksIG5hbWUgKSB7XG4gICAgalF1ZXJ5LnByb3BIb29rc1sgbmFtZSBdID0ge1xuICAgICAgZ2V0OiBmdW5jdGlvbiggZWxlbSApIHtcbiAgICAgICAgcmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlKCBuYW1lLCA0ICk7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG59XG5cbi8vIFN1cHBvcnQ6IFNhZmFyaSwgSUU5K1xuLy8gbWlzLXJlcG9ydHMgdGhlIGRlZmF1bHQgc2VsZWN0ZWQgcHJvcGVydHkgb2YgYW4gb3B0aW9uXG4vLyBBY2Nlc3NpbmcgdGhlIHBhcmVudCdzIHNlbGVjdGVkSW5kZXggcHJvcGVydHkgZml4ZXMgaXRcbmlmICggIXN1cHBvcnQub3B0U2VsZWN0ZWQgKSB7XG4gIGpRdWVyeS5wcm9wSG9va3Muc2VsZWN0ZWQgPSB7XG4gICAgZ2V0OiBmdW5jdGlvbiggZWxlbSApIHtcbiAgICAgIHZhciBwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGU7XG5cbiAgICAgIGlmICggcGFyZW50ICkge1xuICAgICAgICBwYXJlbnQuc2VsZWN0ZWRJbmRleDtcblxuICAgICAgICAvLyBNYWtlIHN1cmUgdGhhdCBpdCBhbHNvIHdvcmtzIHdpdGggb3B0Z3JvdXBzLCBzZWUgIzU3MDFcbiAgICAgICAgaWYgKCBwYXJlbnQucGFyZW50Tm9kZSApIHtcbiAgICAgICAgICBwYXJlbnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH07XG59XG5cbmpRdWVyeS5lYWNoKFtcbiAgXCJ0YWJJbmRleFwiLFxuICBcInJlYWRPbmx5XCIsXG4gIFwibWF4TGVuZ3RoXCIsXG4gIFwiY2VsbFNwYWNpbmdcIixcbiAgXCJjZWxsUGFkZGluZ1wiLFxuICBcInJvd1NwYW5cIixcbiAgXCJjb2xTcGFuXCIsXG4gIFwidXNlTWFwXCIsXG4gIFwiZnJhbWVCb3JkZXJcIixcbiAgXCJjb250ZW50RWRpdGFibGVcIlxuXSwgZnVuY3Rpb24oKSB7XG4gIGpRdWVyeS5wcm9wRml4WyB0aGlzLnRvTG93ZXJDYXNlKCkgXSA9IHRoaXM7XG59KTtcblxuLy8gSUU2LzcgY2FsbCBlbmN0eXBlIGVuY29kaW5nXG5pZiAoICFzdXBwb3J0LmVuY3R5cGUgKSB7XG4gIGpRdWVyeS5wcm9wRml4LmVuY3R5cGUgPSBcImVuY29kaW5nXCI7XG59XG5cblxuXG5cbnZhciByY2xhc3MgPSAvW1xcdFxcclxcblxcZl0vZztcblxualF1ZXJ5LmZuLmV4dGVuZCh7XG4gIGFkZENsYXNzOiBmdW5jdGlvbiggdmFsdWUgKSB7XG4gICAgdmFyIGNsYXNzZXMsIGVsZW0sIGN1ciwgY2xhenosIGosIGZpbmFsVmFsdWUsXG4gICAgICBpID0gMCxcbiAgICAgIGxlbiA9IHRoaXMubGVuZ3RoLFxuICAgICAgcHJvY2VlZCA9IHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiAmJiB2YWx1ZTtcblxuICAgIGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHZhbHVlICkgKSB7XG4gICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCBqICkge1xuICAgICAgICBqUXVlcnkoIHRoaXMgKS5hZGRDbGFzcyggdmFsdWUuY2FsbCggdGhpcywgaiwgdGhpcy5jbGFzc05hbWUgKSApO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKCBwcm9jZWVkICkge1xuICAgICAgLy8gVGhlIGRpc2p1bmN0aW9uIGhlcmUgaXMgZm9yIGJldHRlciBjb21wcmVzc2liaWxpdHkgKHNlZSByZW1vdmVDbGFzcylcbiAgICAgIGNsYXNzZXMgPSAoIHZhbHVlIHx8IFwiXCIgKS5tYXRjaCggcm5vdHdoaXRlICkgfHwgW107XG5cbiAgICAgIGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuICAgICAgICBlbGVtID0gdGhpc1sgaSBdO1xuICAgICAgICBjdXIgPSBlbGVtLm5vZGVUeXBlID09PSAxICYmICggZWxlbS5jbGFzc05hbWUgP1xuICAgICAgICAgICggXCIgXCIgKyBlbGVtLmNsYXNzTmFtZSArIFwiIFwiICkucmVwbGFjZSggcmNsYXNzLCBcIiBcIiApIDpcbiAgICAgICAgICBcIiBcIlxuICAgICAgICApO1xuXG4gICAgICAgIGlmICggY3VyICkge1xuICAgICAgICAgIGogPSAwO1xuICAgICAgICAgIHdoaWxlICggKGNsYXp6ID0gY2xhc3Nlc1tqKytdKSApIHtcbiAgICAgICAgICAgIGlmICggY3VyLmluZGV4T2YoIFwiIFwiICsgY2xhenogKyBcIiBcIiApIDwgMCApIHtcbiAgICAgICAgICAgICAgY3VyICs9IGNsYXp6ICsgXCIgXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gb25seSBhc3NpZ24gaWYgZGlmZmVyZW50IHRvIGF2b2lkIHVubmVlZGVkIHJlbmRlcmluZy5cbiAgICAgICAgICBmaW5hbFZhbHVlID0galF1ZXJ5LnRyaW0oIGN1ciApO1xuICAgICAgICAgIGlmICggZWxlbS5jbGFzc05hbWUgIT09IGZpbmFsVmFsdWUgKSB7XG4gICAgICAgICAgICBlbGVtLmNsYXNzTmFtZSA9IGZpbmFsVmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgcmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcbiAgICB2YXIgY2xhc3NlcywgZWxlbSwgY3VyLCBjbGF6eiwgaiwgZmluYWxWYWx1ZSxcbiAgICAgIGkgPSAwLFxuICAgICAgbGVuID0gdGhpcy5sZW5ndGgsXG4gICAgICBwcm9jZWVkID0gYXJndW1lbnRzLmxlbmd0aCA9PT0gMCB8fCB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiYgdmFsdWU7XG5cbiAgICBpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApICkge1xuICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiggaiApIHtcbiAgICAgICAgalF1ZXJ5KCB0aGlzICkucmVtb3ZlQ2xhc3MoIHZhbHVlLmNhbGwoIHRoaXMsIGosIHRoaXMuY2xhc3NOYW1lICkgKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoIHByb2NlZWQgKSB7XG4gICAgICBjbGFzc2VzID0gKCB2YWx1ZSB8fCBcIlwiICkubWF0Y2goIHJub3R3aGl0ZSApIHx8IFtdO1xuXG4gICAgICBmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcbiAgICAgICAgZWxlbSA9IHRoaXNbIGkgXTtcbiAgICAgICAgLy8gVGhpcyBleHByZXNzaW9uIGlzIGhlcmUgZm9yIGJldHRlciBjb21wcmVzc2liaWxpdHkgKHNlZSBhZGRDbGFzcylcbiAgICAgICAgY3VyID0gZWxlbS5ub2RlVHlwZSA9PT0gMSAmJiAoIGVsZW0uY2xhc3NOYW1lID9cbiAgICAgICAgICAoIFwiIFwiICsgZWxlbS5jbGFzc05hbWUgKyBcIiBcIiApLnJlcGxhY2UoIHJjbGFzcywgXCIgXCIgKSA6XG4gICAgICAgICAgXCJcIlxuICAgICAgICApO1xuXG4gICAgICAgIGlmICggY3VyICkge1xuICAgICAgICAgIGogPSAwO1xuICAgICAgICAgIHdoaWxlICggKGNsYXp6ID0gY2xhc3Nlc1tqKytdKSApIHtcbiAgICAgICAgICAgIC8vIFJlbW92ZSAqYWxsKiBpbnN0YW5jZXNcbiAgICAgICAgICAgIHdoaWxlICggY3VyLmluZGV4T2YoIFwiIFwiICsgY2xhenogKyBcIiBcIiApID49IDAgKSB7XG4gICAgICAgICAgICAgIGN1ciA9IGN1ci5yZXBsYWNlKCBcIiBcIiArIGNsYXp6ICsgXCIgXCIsIFwiIFwiICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gb25seSBhc3NpZ24gaWYgZGlmZmVyZW50IHRvIGF2b2lkIHVubmVlZGVkIHJlbmRlcmluZy5cbiAgICAgICAgICBmaW5hbFZhbHVlID0gdmFsdWUgPyBqUXVlcnkudHJpbSggY3VyICkgOiBcIlwiO1xuICAgICAgICAgIGlmICggZWxlbS5jbGFzc05hbWUgIT09IGZpbmFsVmFsdWUgKSB7XG4gICAgICAgICAgICBlbGVtLmNsYXNzTmFtZSA9IGZpbmFsVmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgdG9nZ2xlQ2xhc3M6IGZ1bmN0aW9uKCB2YWx1ZSwgc3RhdGVWYWwgKSB7XG4gICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG5cbiAgICBpZiAoIHR5cGVvZiBzdGF0ZVZhbCA9PT0gXCJib29sZWFuXCIgJiYgdHlwZSA9PT0gXCJzdHJpbmdcIiApIHtcbiAgICAgIHJldHVybiBzdGF0ZVZhbCA/IHRoaXMuYWRkQ2xhc3MoIHZhbHVlICkgOiB0aGlzLnJlbW92ZUNsYXNzKCB2YWx1ZSApO1xuICAgIH1cblxuICAgIGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHZhbHVlICkgKSB7XG4gICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCBpICkge1xuICAgICAgICBqUXVlcnkoIHRoaXMgKS50b2dnbGVDbGFzcyggdmFsdWUuY2FsbCh0aGlzLCBpLCB0aGlzLmNsYXNzTmFtZSwgc3RhdGVWYWwpLCBzdGF0ZVZhbCApO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgIGlmICggdHlwZSA9PT0gXCJzdHJpbmdcIiApIHtcbiAgICAgICAgLy8gdG9nZ2xlIGluZGl2aWR1YWwgY2xhc3MgbmFtZXNcbiAgICAgICAgdmFyIGNsYXNzTmFtZSxcbiAgICAgICAgICBpID0gMCxcbiAgICAgICAgICBzZWxmID0galF1ZXJ5KCB0aGlzICksXG4gICAgICAgICAgY2xhc3NOYW1lcyA9IHZhbHVlLm1hdGNoKCBybm90d2hpdGUgKSB8fCBbXTtcblxuICAgICAgICB3aGlsZSAoIChjbGFzc05hbWUgPSBjbGFzc05hbWVzWyBpKysgXSkgKSB7XG4gICAgICAgICAgLy8gY2hlY2sgZWFjaCBjbGFzc05hbWUgZ2l2ZW4sIHNwYWNlIHNlcGFyYXRlZCBsaXN0XG4gICAgICAgICAgaWYgKCBzZWxmLmhhc0NsYXNzKCBjbGFzc05hbWUgKSApIHtcbiAgICAgICAgICAgIHNlbGYucmVtb3ZlQ2xhc3MoIGNsYXNzTmFtZSApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZWxmLmFkZENsYXNzKCBjbGFzc05hbWUgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgLy8gVG9nZ2xlIHdob2xlIGNsYXNzIG5hbWVcbiAgICAgIH0gZWxzZSBpZiAoIHR5cGUgPT09IHN0cnVuZGVmaW5lZCB8fCB0eXBlID09PSBcImJvb2xlYW5cIiApIHtcbiAgICAgICAgaWYgKCB0aGlzLmNsYXNzTmFtZSApIHtcbiAgICAgICAgICAvLyBzdG9yZSBjbGFzc05hbWUgaWYgc2V0XG4gICAgICAgICAgalF1ZXJ5Ll9kYXRhKCB0aGlzLCBcIl9fY2xhc3NOYW1lX19cIiwgdGhpcy5jbGFzc05hbWUgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHRoZSBlbGVtZW50IGhhcyBhIGNsYXNzIG5hbWUgb3IgaWYgd2UncmUgcGFzc2VkIFwiZmFsc2VcIixcbiAgICAgICAgLy8gdGhlbiByZW1vdmUgdGhlIHdob2xlIGNsYXNzbmFtZSAoaWYgdGhlcmUgd2FzIG9uZSwgdGhlIGFib3ZlIHNhdmVkIGl0KS5cbiAgICAgICAgLy8gT3RoZXJ3aXNlIGJyaW5nIGJhY2sgd2hhdGV2ZXIgd2FzIHByZXZpb3VzbHkgc2F2ZWQgKGlmIGFueXRoaW5nKSxcbiAgICAgICAgLy8gZmFsbGluZyBiYWNrIHRvIHRoZSBlbXB0eSBzdHJpbmcgaWYgbm90aGluZyB3YXMgc3RvcmVkLlxuICAgICAgICB0aGlzLmNsYXNzTmFtZSA9IHRoaXMuY2xhc3NOYW1lIHx8IHZhbHVlID09PSBmYWxzZSA/IFwiXCIgOiBqUXVlcnkuX2RhdGEoIHRoaXMsIFwiX19jbGFzc05hbWVfX1wiICkgfHwgXCJcIjtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICBoYXNDbGFzczogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuICAgIHZhciBjbGFzc05hbWUgPSBcIiBcIiArIHNlbGVjdG9yICsgXCIgXCIsXG4gICAgICBpID0gMCxcbiAgICAgIGwgPSB0aGlzLmxlbmd0aDtcbiAgICBmb3IgKCA7IGkgPCBsOyBpKysgKSB7XG4gICAgICBpZiAoIHRoaXNbaV0ubm9kZVR5cGUgPT09IDEgJiYgKFwiIFwiICsgdGhpc1tpXS5jbGFzc05hbWUgKyBcIiBcIikucmVwbGFjZShyY2xhc3MsIFwiIFwiKS5pbmRleE9mKCBjbGFzc05hbWUgKSA+PSAwICkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn0pO1xuXG5cblxuXG4vLyBSZXR1cm4galF1ZXJ5IGZvciBhdHRyaWJ1dGVzLW9ubHkgaW5jbHVzaW9uXG5cblxualF1ZXJ5LmVhY2goIChcImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCBsb2FkIHJlc2l6ZSBzY3JvbGwgdW5sb2FkIGNsaWNrIGRibGNsaWNrIFwiICtcbiAgXCJtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBcIiArXG4gIFwiY2hhbmdlIHNlbGVjdCBzdWJtaXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBlcnJvciBjb250ZXh0bWVudVwiKS5zcGxpdChcIiBcIiksIGZ1bmN0aW9uKCBpLCBuYW1lICkge1xuXG4gIC8vIEhhbmRsZSBldmVudCBiaW5kaW5nXG4gIGpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIGRhdGEsIGZuICkge1xuICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID4gMCA/XG4gICAgICB0aGlzLm9uKCBuYW1lLCBudWxsLCBkYXRhLCBmbiApIDpcbiAgICAgIHRoaXMudHJpZ2dlciggbmFtZSApO1xuICB9O1xufSk7XG5cbmpRdWVyeS5mbi5leHRlbmQoe1xuICBob3ZlcjogZnVuY3Rpb24oIGZuT3ZlciwgZm5PdXQgKSB7XG4gICAgcmV0dXJuIHRoaXMubW91c2VlbnRlciggZm5PdmVyICkubW91c2VsZWF2ZSggZm5PdXQgfHwgZm5PdmVyICk7XG4gIH0sXG5cbiAgYmluZDogZnVuY3Rpb24oIHR5cGVzLCBkYXRhLCBmbiApIHtcbiAgICByZXR1cm4gdGhpcy5vbiggdHlwZXMsIG51bGwsIGRhdGEsIGZuICk7XG4gIH0sXG4gIHVuYmluZDogZnVuY3Rpb24oIHR5cGVzLCBmbiApIHtcbiAgICByZXR1cm4gdGhpcy5vZmYoIHR5cGVzLCBudWxsLCBmbiApO1xuICB9LFxuXG4gIGRlbGVnYXRlOiBmdW5jdGlvbiggc2VsZWN0b3IsIHR5cGVzLCBkYXRhLCBmbiApIHtcbiAgICByZXR1cm4gdGhpcy5vbiggdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiApO1xuICB9LFxuICB1bmRlbGVnYXRlOiBmdW5jdGlvbiggc2VsZWN0b3IsIHR5cGVzLCBmbiApIHtcbiAgICAvLyAoIG5hbWVzcGFjZSApIG9yICggc2VsZWN0b3IsIHR5cGVzIFssIGZuXSApXG4gICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPT09IDEgPyB0aGlzLm9mZiggc2VsZWN0b3IsIFwiKipcIiApIDogdGhpcy5vZmYoIHR5cGVzLCBzZWxlY3RvciB8fCBcIioqXCIsIGZuICk7XG4gIH1cbn0pO1xuXG5cbnZhciBub25jZSA9IGpRdWVyeS5ub3coKTtcblxudmFyIHJxdWVyeSA9ICgvXFw/Lyk7XG5cblxuXG52YXIgcnZhbGlkdG9rZW5zID0gLygsKXwoXFxbfHspfCh9fF0pfFwiKD86W15cIlxcXFxcXHJcXG5dfFxcXFxbXCJcXFxcXFwvYmZucnRdfFxcXFx1W1xcZGEtZkEtRl17NH0pKlwiXFxzKjo/fHRydWV8ZmFsc2V8bnVsbHwtPyg/ITBcXGQpXFxkKyg/OlxcLlxcZCt8KSg/OltlRV1bKy1dP1xcZCt8KS9nO1xuXG5qUXVlcnkucGFyc2VKU09OID0gZnVuY3Rpb24oIGRhdGEgKSB7XG4gIC8vIEF0dGVtcHQgdG8gcGFyc2UgdXNpbmcgdGhlIG5hdGl2ZSBKU09OIHBhcnNlciBmaXJzdFxuICBpZiAoIHdpbmRvdy5KU09OICYmIHdpbmRvdy5KU09OLnBhcnNlICkge1xuICAgIC8vIFN1cHBvcnQ6IEFuZHJvaWQgMi4zXG4gICAgLy8gV29ya2Fyb3VuZCBmYWlsdXJlIHRvIHN0cmluZy1jYXN0IG51bGwgaW5wdXRcbiAgICByZXR1cm4gd2luZG93LkpTT04ucGFyc2UoIGRhdGEgKyBcIlwiICk7XG4gIH1cblxuICB2YXIgcmVxdWlyZU5vbkNvbW1hLFxuICAgIGRlcHRoID0gbnVsbCxcbiAgICBzdHIgPSBqUXVlcnkudHJpbSggZGF0YSArIFwiXCIgKTtcblxuICAvLyBHdWFyZCBhZ2FpbnN0IGludmFsaWQgKGFuZCBwb3NzaWJseSBkYW5nZXJvdXMpIGlucHV0IGJ5IGVuc3VyaW5nIHRoYXQgbm90aGluZyByZW1haW5zXG4gIC8vIGFmdGVyIHJlbW92aW5nIHZhbGlkIHRva2Vuc1xuICByZXR1cm4gc3RyICYmICFqUXVlcnkudHJpbSggc3RyLnJlcGxhY2UoIHJ2YWxpZHRva2VucywgZnVuY3Rpb24oIHRva2VuLCBjb21tYSwgb3BlbiwgY2xvc2UgKSB7XG5cbiAgICAvLyBGb3JjZSB0ZXJtaW5hdGlvbiBpZiB3ZSBzZWUgYSBtaXNwbGFjZWQgY29tbWFcbiAgICBpZiAoIHJlcXVpcmVOb25Db21tYSAmJiBjb21tYSApIHtcbiAgICAgIGRlcHRoID0gMDtcbiAgICB9XG5cbiAgICAvLyBQZXJmb3JtIG5vIG1vcmUgcmVwbGFjZW1lbnRzIGFmdGVyIHJldHVybmluZyB0byBvdXRlcm1vc3QgZGVwdGhcbiAgICBpZiAoIGRlcHRoID09PSAwICkge1xuICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH1cblxuICAgIC8vIENvbW1hcyBtdXN0IG5vdCBmb2xsb3cgXCJbXCIsIFwie1wiLCBvciBcIixcIlxuICAgIHJlcXVpcmVOb25Db21tYSA9IG9wZW4gfHwgY29tbWE7XG5cbiAgICAvLyBEZXRlcm1pbmUgbmV3IGRlcHRoXG4gICAgLy8gYXJyYXkvb2JqZWN0IG9wZW4gKFwiW1wiIG9yIFwie1wiKTogZGVwdGggKz0gdHJ1ZSAtIGZhbHNlIChpbmNyZW1lbnQpXG4gICAgLy8gYXJyYXkvb2JqZWN0IGNsb3NlIChcIl1cIiBvciBcIn1cIik6IGRlcHRoICs9IGZhbHNlIC0gdHJ1ZSAoZGVjcmVtZW50KVxuICAgIC8vIG90aGVyIGNhc2VzIChcIixcIiBvciBwcmltaXRpdmUpOiBkZXB0aCArPSB0cnVlIC0gdHJ1ZSAobnVtZXJpYyBjYXN0KVxuICAgIGRlcHRoICs9ICFjbG9zZSAtICFvcGVuO1xuXG4gICAgLy8gUmVtb3ZlIHRoaXMgdG9rZW5cbiAgICByZXR1cm4gXCJcIjtcbiAgfSkgKSA/XG4gICAgKCBGdW5jdGlvbiggXCJyZXR1cm4gXCIgKyBzdHIgKSApKCkgOlxuICAgIGpRdWVyeS5lcnJvciggXCJJbnZhbGlkIEpTT046IFwiICsgZGF0YSApO1xufTtcblxuXG4vLyBDcm9zcy1icm93c2VyIHhtbCBwYXJzaW5nXG5qUXVlcnkucGFyc2VYTUwgPSBmdW5jdGlvbiggZGF0YSApIHtcbiAgdmFyIHhtbCwgdG1wO1xuICBpZiAoICFkYXRhIHx8IHR5cGVvZiBkYXRhICE9PSBcInN0cmluZ1wiICkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHRyeSB7XG4gICAgaWYgKCB3aW5kb3cuRE9NUGFyc2VyICkgeyAvLyBTdGFuZGFyZFxuICAgICAgdG1wID0gbmV3IERPTVBhcnNlcigpO1xuICAgICAgeG1sID0gdG1wLnBhcnNlRnJvbVN0cmluZyggZGF0YSwgXCJ0ZXh0L3htbFwiICk7XG4gICAgfSBlbHNlIHsgLy8gSUVcbiAgICAgIHhtbCA9IG5ldyBBY3RpdmVYT2JqZWN0KCBcIk1pY3Jvc29mdC5YTUxET01cIiApO1xuICAgICAgeG1sLmFzeW5jID0gXCJmYWxzZVwiO1xuICAgICAgeG1sLmxvYWRYTUwoIGRhdGEgKTtcbiAgICB9XG4gIH0gY2F0Y2goIGUgKSB7XG4gICAgeG1sID0gdW5kZWZpbmVkO1xuICB9XG4gIGlmICggIXhtbCB8fCAheG1sLmRvY3VtZW50RWxlbWVudCB8fCB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIFwicGFyc2VyZXJyb3JcIiApLmxlbmd0aCApIHtcbiAgICBqUXVlcnkuZXJyb3IoIFwiSW52YWxpZCBYTUw6IFwiICsgZGF0YSApO1xuICB9XG4gIHJldHVybiB4bWw7XG59O1xuXG5cbnZhclxuICAvLyBEb2N1bWVudCBsb2NhdGlvblxuICBhamF4TG9jUGFydHMsXG4gIGFqYXhMb2NhdGlvbixcblxuICByaGFzaCA9IC8jLiokLyxcbiAgcnRzID0gLyhbPyZdKV89W14mXSovLFxuICByaGVhZGVycyA9IC9eKC4qPyk6WyBcXHRdKihbXlxcclxcbl0qKVxccj8kL21nLCAvLyBJRSBsZWF2ZXMgYW4gXFxyIGNoYXJhY3RlciBhdCBFT0xcbiAgLy8gIzc2NTMsICM4MTI1LCAjODE1MjogbG9jYWwgcHJvdG9jb2wgZGV0ZWN0aW9uXG4gIHJsb2NhbFByb3RvY29sID0gL14oPzphYm91dHxhcHB8YXBwLXN0b3JhZ2V8ListZXh0ZW5zaW9ufGZpbGV8cmVzfHdpZGdldCk6JC8sXG4gIHJub0NvbnRlbnQgPSAvXig/OkdFVHxIRUFEKSQvLFxuICBycHJvdG9jb2wgPSAvXlxcL1xcLy8sXG4gIHJ1cmwgPSAvXihbXFx3ListXSs6KSg/OlxcL1xcLyg/OlteXFwvPyNdKkB8KShbXlxcLz8jOl0qKSg/OjooXFxkKyl8KXwpLyxcblxuICAvKiBQcmVmaWx0ZXJzXG4gICAqIDEpIFRoZXkgYXJlIHVzZWZ1bCB0byBpbnRyb2R1Y2UgY3VzdG9tIGRhdGFUeXBlcyAoc2VlIGFqYXgvanNvbnAuanMgZm9yIGFuIGV4YW1wbGUpXG4gICAqIDIpIFRoZXNlIGFyZSBjYWxsZWQ6XG4gICAqICAgIC0gQkVGT1JFIGFza2luZyBmb3IgYSB0cmFuc3BvcnRcbiAgICogICAgLSBBRlRFUiBwYXJhbSBzZXJpYWxpemF0aW9uIChzLmRhdGEgaXMgYSBzdHJpbmcgaWYgcy5wcm9jZXNzRGF0YSBpcyB0cnVlKVxuICAgKiAzKSBrZXkgaXMgdGhlIGRhdGFUeXBlXG4gICAqIDQpIHRoZSBjYXRjaGFsbCBzeW1ib2wgXCIqXCIgY2FuIGJlIHVzZWRcbiAgICogNSkgZXhlY3V0aW9uIHdpbGwgc3RhcnQgd2l0aCB0cmFuc3BvcnQgZGF0YVR5cGUgYW5kIFRIRU4gY29udGludWUgZG93biB0byBcIipcIiBpZiBuZWVkZWRcbiAgICovXG4gIHByZWZpbHRlcnMgPSB7fSxcblxuICAvKiBUcmFuc3BvcnRzIGJpbmRpbmdzXG4gICAqIDEpIGtleSBpcyB0aGUgZGF0YVR5cGVcbiAgICogMikgdGhlIGNhdGNoYWxsIHN5bWJvbCBcIipcIiBjYW4gYmUgdXNlZFxuICAgKiAzKSBzZWxlY3Rpb24gd2lsbCBzdGFydCB3aXRoIHRyYW5zcG9ydCBkYXRhVHlwZSBhbmQgVEhFTiBnbyB0byBcIipcIiBpZiBuZWVkZWRcbiAgICovXG4gIHRyYW5zcG9ydHMgPSB7fSxcblxuICAvLyBBdm9pZCBjb21tZW50LXByb2xvZyBjaGFyIHNlcXVlbmNlICgjMTAwOTgpOyBtdXN0IGFwcGVhc2UgbGludCBhbmQgZXZhZGUgY29tcHJlc3Npb25cbiAgYWxsVHlwZXMgPSBcIiovXCIuY29uY2F0KFwiKlwiKTtcblxuLy8gIzgxMzgsIElFIG1heSB0aHJvdyBhbiBleGNlcHRpb24gd2hlbiBhY2Nlc3Npbmdcbi8vIGEgZmllbGQgZnJvbSB3aW5kb3cubG9jYXRpb24gaWYgZG9jdW1lbnQuZG9tYWluIGhhcyBiZWVuIHNldFxudHJ5IHtcbiAgYWpheExvY2F0aW9uID0gbG9jYXRpb24uaHJlZjtcbn0gY2F0Y2goIGUgKSB7XG4gIC8vIFVzZSB0aGUgaHJlZiBhdHRyaWJ1dGUgb2YgYW4gQSBlbGVtZW50XG4gIC8vIHNpbmNlIElFIHdpbGwgbW9kaWZ5IGl0IGdpdmVuIGRvY3VtZW50LmxvY2F0aW9uXG4gIGFqYXhMb2NhdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiYVwiICk7XG4gIGFqYXhMb2NhdGlvbi5ocmVmID0gXCJcIjtcbiAgYWpheExvY2F0aW9uID0gYWpheExvY2F0aW9uLmhyZWY7XG59XG5cbi8vIFNlZ21lbnQgbG9jYXRpb24gaW50byBwYXJ0c1xuYWpheExvY1BhcnRzID0gcnVybC5leGVjKCBhamF4TG9jYXRpb24udG9Mb3dlckNhc2UoKSApIHx8IFtdO1xuXG4vLyBCYXNlIFwiY29uc3RydWN0b3JcIiBmb3IgalF1ZXJ5LmFqYXhQcmVmaWx0ZXIgYW5kIGpRdWVyeS5hamF4VHJhbnNwb3J0XG5mdW5jdGlvbiBhZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHN0cnVjdHVyZSApIHtcblxuICAvLyBkYXRhVHlwZUV4cHJlc3Npb24gaXMgb3B0aW9uYWwgYW5kIGRlZmF1bHRzIHRvIFwiKlwiXG4gIHJldHVybiBmdW5jdGlvbiggZGF0YVR5cGVFeHByZXNzaW9uLCBmdW5jICkge1xuXG4gICAgaWYgKCB0eXBlb2YgZGF0YVR5cGVFeHByZXNzaW9uICE9PSBcInN0cmluZ1wiICkge1xuICAgICAgZnVuYyA9IGRhdGFUeXBlRXhwcmVzc2lvbjtcbiAgICAgIGRhdGFUeXBlRXhwcmVzc2lvbiA9IFwiKlwiO1xuICAgIH1cblxuICAgIHZhciBkYXRhVHlwZSxcbiAgICAgIGkgPSAwLFxuICAgICAgZGF0YVR5cGVzID0gZGF0YVR5cGVFeHByZXNzaW9uLnRvTG93ZXJDYXNlKCkubWF0Y2goIHJub3R3aGl0ZSApIHx8IFtdO1xuXG4gICAgaWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggZnVuYyApICkge1xuICAgICAgLy8gRm9yIGVhY2ggZGF0YVR5cGUgaW4gdGhlIGRhdGFUeXBlRXhwcmVzc2lvblxuICAgICAgd2hpbGUgKCAoZGF0YVR5cGUgPSBkYXRhVHlwZXNbaSsrXSkgKSB7XG4gICAgICAgIC8vIFByZXBlbmQgaWYgcmVxdWVzdGVkXG4gICAgICAgIGlmICggZGF0YVR5cGUuY2hhckF0KCAwICkgPT09IFwiK1wiICkge1xuICAgICAgICAgIGRhdGFUeXBlID0gZGF0YVR5cGUuc2xpY2UoIDEgKSB8fCBcIipcIjtcbiAgICAgICAgICAoc3RydWN0dXJlWyBkYXRhVHlwZSBdID0gc3RydWN0dXJlWyBkYXRhVHlwZSBdIHx8IFtdKS51bnNoaWZ0KCBmdW5jICk7XG5cbiAgICAgICAgLy8gT3RoZXJ3aXNlIGFwcGVuZFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIChzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gPSBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gfHwgW10pLnB1c2goIGZ1bmMgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbn1cblxuLy8gQmFzZSBpbnNwZWN0aW9uIGZ1bmN0aW9uIGZvciBwcmVmaWx0ZXJzIGFuZCB0cmFuc3BvcnRzXG5mdW5jdGlvbiBpbnNwZWN0UHJlZmlsdGVyc09yVHJhbnNwb3J0cyggc3RydWN0dXJlLCBvcHRpb25zLCBvcmlnaW5hbE9wdGlvbnMsIGpxWEhSICkge1xuXG4gIHZhciBpbnNwZWN0ZWQgPSB7fSxcbiAgICBzZWVraW5nVHJhbnNwb3J0ID0gKCBzdHJ1Y3R1cmUgPT09IHRyYW5zcG9ydHMgKTtcblxuICBmdW5jdGlvbiBpbnNwZWN0KCBkYXRhVHlwZSApIHtcbiAgICB2YXIgc2VsZWN0ZWQ7XG4gICAgaW5zcGVjdGVkWyBkYXRhVHlwZSBdID0gdHJ1ZTtcbiAgICBqUXVlcnkuZWFjaCggc3RydWN0dXJlWyBkYXRhVHlwZSBdIHx8IFtdLCBmdW5jdGlvbiggXywgcHJlZmlsdGVyT3JGYWN0b3J5ICkge1xuICAgICAgdmFyIGRhdGFUeXBlT3JUcmFuc3BvcnQgPSBwcmVmaWx0ZXJPckZhY3RvcnkoIG9wdGlvbnMsIG9yaWdpbmFsT3B0aW9ucywganFYSFIgKTtcbiAgICAgIGlmICggdHlwZW9mIGRhdGFUeXBlT3JUcmFuc3BvcnQgPT09IFwic3RyaW5nXCIgJiYgIXNlZWtpbmdUcmFuc3BvcnQgJiYgIWluc3BlY3RlZFsgZGF0YVR5cGVPclRyYW5zcG9ydCBdICkge1xuICAgICAgICBvcHRpb25zLmRhdGFUeXBlcy51bnNoaWZ0KCBkYXRhVHlwZU9yVHJhbnNwb3J0ICk7XG4gICAgICAgIGluc3BlY3QoIGRhdGFUeXBlT3JUcmFuc3BvcnQgKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSBlbHNlIGlmICggc2Vla2luZ1RyYW5zcG9ydCApIHtcbiAgICAgICAgcmV0dXJuICEoIHNlbGVjdGVkID0gZGF0YVR5cGVPclRyYW5zcG9ydCApO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBzZWxlY3RlZDtcbiAgfVxuXG4gIHJldHVybiBpbnNwZWN0KCBvcHRpb25zLmRhdGFUeXBlc1sgMCBdICkgfHwgIWluc3BlY3RlZFsgXCIqXCIgXSAmJiBpbnNwZWN0KCBcIipcIiApO1xufVxuXG4vLyBBIHNwZWNpYWwgZXh0ZW5kIGZvciBhamF4IG9wdGlvbnNcbi8vIHRoYXQgdGFrZXMgXCJmbGF0XCIgb3B0aW9ucyAobm90IHRvIGJlIGRlZXAgZXh0ZW5kZWQpXG4vLyBGaXhlcyAjOTg4N1xuZnVuY3Rpb24gYWpheEV4dGVuZCggdGFyZ2V0LCBzcmMgKSB7XG4gIHZhciBkZWVwLCBrZXksXG4gICAgZmxhdE9wdGlvbnMgPSBqUXVlcnkuYWpheFNldHRpbmdzLmZsYXRPcHRpb25zIHx8IHt9O1xuXG4gIGZvciAoIGtleSBpbiBzcmMgKSB7XG4gICAgaWYgKCBzcmNbIGtleSBdICE9PSB1bmRlZmluZWQgKSB7XG4gICAgICAoIGZsYXRPcHRpb25zWyBrZXkgXSA/IHRhcmdldCA6ICggZGVlcCB8fCAoZGVlcCA9IHt9KSApIClbIGtleSBdID0gc3JjWyBrZXkgXTtcbiAgICB9XG4gIH1cbiAgaWYgKCBkZWVwICkge1xuICAgIGpRdWVyeS5leHRlbmQoIHRydWUsIHRhcmdldCwgZGVlcCApO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuLyogSGFuZGxlcyByZXNwb25zZXMgdG8gYW4gYWpheCByZXF1ZXN0OlxuICogLSBmaW5kcyB0aGUgcmlnaHQgZGF0YVR5cGUgKG1lZGlhdGVzIGJldHdlZW4gY29udGVudC10eXBlIGFuZCBleHBlY3RlZCBkYXRhVHlwZSlcbiAqIC0gcmV0dXJucyB0aGUgY29ycmVzcG9uZGluZyByZXNwb25zZVxuICovXG5mdW5jdGlvbiBhamF4SGFuZGxlUmVzcG9uc2VzKCBzLCBqcVhIUiwgcmVzcG9uc2VzICkge1xuICB2YXIgZmlyc3REYXRhVHlwZSwgY3QsIGZpbmFsRGF0YVR5cGUsIHR5cGUsXG4gICAgY29udGVudHMgPSBzLmNvbnRlbnRzLFxuICAgIGRhdGFUeXBlcyA9IHMuZGF0YVR5cGVzO1xuXG4gIC8vIFJlbW92ZSBhdXRvIGRhdGFUeXBlIGFuZCBnZXQgY29udGVudC10eXBlIGluIHRoZSBwcm9jZXNzXG4gIHdoaWxlICggZGF0YVR5cGVzWyAwIF0gPT09IFwiKlwiICkge1xuICAgIGRhdGFUeXBlcy5zaGlmdCgpO1xuICAgIGlmICggY3QgPT09IHVuZGVmaW5lZCApIHtcbiAgICAgIGN0ID0gcy5taW1lVHlwZSB8fCBqcVhIUi5nZXRSZXNwb25zZUhlYWRlcihcIkNvbnRlbnQtVHlwZVwiKTtcbiAgICB9XG4gIH1cblxuICAvLyBDaGVjayBpZiB3ZSdyZSBkZWFsaW5nIHdpdGggYSBrbm93biBjb250ZW50LXR5cGVcbiAgaWYgKCBjdCApIHtcbiAgICBmb3IgKCB0eXBlIGluIGNvbnRlbnRzICkge1xuICAgICAgaWYgKCBjb250ZW50c1sgdHlwZSBdICYmIGNvbnRlbnRzWyB0eXBlIF0udGVzdCggY3QgKSApIHtcbiAgICAgICAgZGF0YVR5cGVzLnVuc2hpZnQoIHR5cGUgKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gQ2hlY2sgdG8gc2VlIGlmIHdlIGhhdmUgYSByZXNwb25zZSBmb3IgdGhlIGV4cGVjdGVkIGRhdGFUeXBlXG4gIGlmICggZGF0YVR5cGVzWyAwIF0gaW4gcmVzcG9uc2VzICkge1xuICAgIGZpbmFsRGF0YVR5cGUgPSBkYXRhVHlwZXNbIDAgXTtcbiAgfSBlbHNlIHtcbiAgICAvLyBUcnkgY29udmVydGlibGUgZGF0YVR5cGVzXG4gICAgZm9yICggdHlwZSBpbiByZXNwb25zZXMgKSB7XG4gICAgICBpZiAoICFkYXRhVHlwZXNbIDAgXSB8fCBzLmNvbnZlcnRlcnNbIHR5cGUgKyBcIiBcIiArIGRhdGFUeXBlc1swXSBdICkge1xuICAgICAgICBmaW5hbERhdGFUeXBlID0gdHlwZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBpZiAoICFmaXJzdERhdGFUeXBlICkge1xuICAgICAgICBmaXJzdERhdGFUeXBlID0gdHlwZTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gT3IganVzdCB1c2UgZmlyc3Qgb25lXG4gICAgZmluYWxEYXRhVHlwZSA9IGZpbmFsRGF0YVR5cGUgfHwgZmlyc3REYXRhVHlwZTtcbiAgfVxuXG4gIC8vIElmIHdlIGZvdW5kIGEgZGF0YVR5cGVcbiAgLy8gV2UgYWRkIHRoZSBkYXRhVHlwZSB0byB0aGUgbGlzdCBpZiBuZWVkZWRcbiAgLy8gYW5kIHJldHVybiB0aGUgY29ycmVzcG9uZGluZyByZXNwb25zZVxuICBpZiAoIGZpbmFsRGF0YVR5cGUgKSB7XG4gICAgaWYgKCBmaW5hbERhdGFUeXBlICE9PSBkYXRhVHlwZXNbIDAgXSApIHtcbiAgICAgIGRhdGFUeXBlcy51bnNoaWZ0KCBmaW5hbERhdGFUeXBlICk7XG4gICAgfVxuICAgIHJldHVybiByZXNwb25zZXNbIGZpbmFsRGF0YVR5cGUgXTtcbiAgfVxufVxuXG4vKiBDaGFpbiBjb252ZXJzaW9ucyBnaXZlbiB0aGUgcmVxdWVzdCBhbmQgdGhlIG9yaWdpbmFsIHJlc3BvbnNlXG4gKiBBbHNvIHNldHMgdGhlIHJlc3BvbnNlWFhYIGZpZWxkcyBvbiB0aGUganFYSFIgaW5zdGFuY2VcbiAqL1xuZnVuY3Rpb24gYWpheENvbnZlcnQoIHMsIHJlc3BvbnNlLCBqcVhIUiwgaXNTdWNjZXNzICkge1xuICB2YXIgY29udjIsIGN1cnJlbnQsIGNvbnYsIHRtcCwgcHJldixcbiAgICBjb252ZXJ0ZXJzID0ge30sXG4gICAgLy8gV29yayB3aXRoIGEgY29weSBvZiBkYXRhVHlwZXMgaW4gY2FzZSB3ZSBuZWVkIHRvIG1vZGlmeSBpdCBmb3IgY29udmVyc2lvblxuICAgIGRhdGFUeXBlcyA9IHMuZGF0YVR5cGVzLnNsaWNlKCk7XG5cbiAgLy8gQ3JlYXRlIGNvbnZlcnRlcnMgbWFwIHdpdGggbG93ZXJjYXNlZCBrZXlzXG4gIGlmICggZGF0YVR5cGVzWyAxIF0gKSB7XG4gICAgZm9yICggY29udiBpbiBzLmNvbnZlcnRlcnMgKSB7XG4gICAgICBjb252ZXJ0ZXJzWyBjb252LnRvTG93ZXJDYXNlKCkgXSA9IHMuY29udmVydGVyc1sgY29udiBdO1xuICAgIH1cbiAgfVxuXG4gIGN1cnJlbnQgPSBkYXRhVHlwZXMuc2hpZnQoKTtcblxuICAvLyBDb252ZXJ0IHRvIGVhY2ggc2VxdWVudGlhbCBkYXRhVHlwZVxuICB3aGlsZSAoIGN1cnJlbnQgKSB7XG5cbiAgICBpZiAoIHMucmVzcG9uc2VGaWVsZHNbIGN1cnJlbnQgXSApIHtcbiAgICAgIGpxWEhSWyBzLnJlc3BvbnNlRmllbGRzWyBjdXJyZW50IF0gXSA9IHJlc3BvbnNlO1xuICAgIH1cblxuICAgIC8vIEFwcGx5IHRoZSBkYXRhRmlsdGVyIGlmIHByb3ZpZGVkXG4gICAgaWYgKCAhcHJldiAmJiBpc1N1Y2Nlc3MgJiYgcy5kYXRhRmlsdGVyICkge1xuICAgICAgcmVzcG9uc2UgPSBzLmRhdGFGaWx0ZXIoIHJlc3BvbnNlLCBzLmRhdGFUeXBlICk7XG4gICAgfVxuXG4gICAgcHJldiA9IGN1cnJlbnQ7XG4gICAgY3VycmVudCA9IGRhdGFUeXBlcy5zaGlmdCgpO1xuXG4gICAgaWYgKCBjdXJyZW50ICkge1xuXG4gICAgICAvLyBUaGVyZSdzIG9ubHkgd29yayB0byBkbyBpZiBjdXJyZW50IGRhdGFUeXBlIGlzIG5vbi1hdXRvXG4gICAgICBpZiAoIGN1cnJlbnQgPT09IFwiKlwiICkge1xuXG4gICAgICAgIGN1cnJlbnQgPSBwcmV2O1xuXG4gICAgICAvLyBDb252ZXJ0IHJlc3BvbnNlIGlmIHByZXYgZGF0YVR5cGUgaXMgbm9uLWF1dG8gYW5kIGRpZmZlcnMgZnJvbSBjdXJyZW50XG4gICAgICB9IGVsc2UgaWYgKCBwcmV2ICE9PSBcIipcIiAmJiBwcmV2ICE9PSBjdXJyZW50ICkge1xuXG4gICAgICAgIC8vIFNlZWsgYSBkaXJlY3QgY29udmVydGVyXG4gICAgICAgIGNvbnYgPSBjb252ZXJ0ZXJzWyBwcmV2ICsgXCIgXCIgKyBjdXJyZW50IF0gfHwgY29udmVydGVyc1sgXCIqIFwiICsgY3VycmVudCBdO1xuXG4gICAgICAgIC8vIElmIG5vbmUgZm91bmQsIHNlZWsgYSBwYWlyXG4gICAgICAgIGlmICggIWNvbnYgKSB7XG4gICAgICAgICAgZm9yICggY29udjIgaW4gY29udmVydGVycyApIHtcblxuICAgICAgICAgICAgLy8gSWYgY29udjIgb3V0cHV0cyBjdXJyZW50XG4gICAgICAgICAgICB0bXAgPSBjb252Mi5zcGxpdCggXCIgXCIgKTtcbiAgICAgICAgICAgIGlmICggdG1wWyAxIF0gPT09IGN1cnJlbnQgKSB7XG5cbiAgICAgICAgICAgICAgLy8gSWYgcHJldiBjYW4gYmUgY29udmVydGVkIHRvIGFjY2VwdGVkIGlucHV0XG4gICAgICAgICAgICAgIGNvbnYgPSBjb252ZXJ0ZXJzWyBwcmV2ICsgXCIgXCIgKyB0bXBbIDAgXSBdIHx8XG4gICAgICAgICAgICAgICAgY29udmVydGVyc1sgXCIqIFwiICsgdG1wWyAwIF0gXTtcbiAgICAgICAgICAgICAgaWYgKCBjb252ICkge1xuICAgICAgICAgICAgICAgIC8vIENvbmRlbnNlIGVxdWl2YWxlbmNlIGNvbnZlcnRlcnNcbiAgICAgICAgICAgICAgICBpZiAoIGNvbnYgPT09IHRydWUgKSB7XG4gICAgICAgICAgICAgICAgICBjb252ID0gY29udmVydGVyc1sgY29udjIgXTtcblxuICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgaW5zZXJ0IHRoZSBpbnRlcm1lZGlhdGUgZGF0YVR5cGVcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCBjb252ZXJ0ZXJzWyBjb252MiBdICE9PSB0cnVlICkge1xuICAgICAgICAgICAgICAgICAgY3VycmVudCA9IHRtcFsgMCBdO1xuICAgICAgICAgICAgICAgICAgZGF0YVR5cGVzLnVuc2hpZnQoIHRtcFsgMSBdICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQXBwbHkgY29udmVydGVyIChpZiBub3QgYW4gZXF1aXZhbGVuY2UpXG4gICAgICAgIGlmICggY29udiAhPT0gdHJ1ZSApIHtcblxuICAgICAgICAgIC8vIFVubGVzcyBlcnJvcnMgYXJlIGFsbG93ZWQgdG8gYnViYmxlLCBjYXRjaCBhbmQgcmV0dXJuIHRoZW1cbiAgICAgICAgICBpZiAoIGNvbnYgJiYgc1sgXCJ0aHJvd3NcIiBdICkge1xuICAgICAgICAgICAgcmVzcG9uc2UgPSBjb252KCByZXNwb25zZSApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICByZXNwb25zZSA9IGNvbnYoIHJlc3BvbnNlICk7XG4gICAgICAgICAgICB9IGNhdGNoICggZSApIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgc3RhdGU6IFwicGFyc2VyZXJyb3JcIiwgZXJyb3I6IGNvbnYgPyBlIDogXCJObyBjb252ZXJzaW9uIGZyb20gXCIgKyBwcmV2ICsgXCIgdG8gXCIgKyBjdXJyZW50IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHsgc3RhdGU6IFwic3VjY2Vzc1wiLCBkYXRhOiByZXNwb25zZSB9O1xufVxuXG5qUXVlcnkuZXh0ZW5kKHtcblxuICAvLyBDb3VudGVyIGZvciBob2xkaW5nIHRoZSBudW1iZXIgb2YgYWN0aXZlIHF1ZXJpZXNcbiAgYWN0aXZlOiAwLFxuXG4gIC8vIExhc3QtTW9kaWZpZWQgaGVhZGVyIGNhY2hlIGZvciBuZXh0IHJlcXVlc3RcbiAgbGFzdE1vZGlmaWVkOiB7fSxcbiAgZXRhZzoge30sXG5cbiAgYWpheFNldHRpbmdzOiB7XG4gICAgdXJsOiBhamF4TG9jYXRpb24sXG4gICAgdHlwZTogXCJHRVRcIixcbiAgICBpc0xvY2FsOiBybG9jYWxQcm90b2NvbC50ZXN0KCBhamF4TG9jUGFydHNbIDEgXSApLFxuICAgIGdsb2JhbDogdHJ1ZSxcbiAgICBwcm9jZXNzRGF0YTogdHJ1ZSxcbiAgICBhc3luYzogdHJ1ZSxcbiAgICBjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLThcIixcbiAgICAvKlxuICAgIHRpbWVvdXQ6IDAsXG4gICAgZGF0YTogbnVsbCxcbiAgICBkYXRhVHlwZTogbnVsbCxcbiAgICB1c2VybmFtZTogbnVsbCxcbiAgICBwYXNzd29yZDogbnVsbCxcbiAgICBjYWNoZTogbnVsbCxcbiAgICB0aHJvd3M6IGZhbHNlLFxuICAgIHRyYWRpdGlvbmFsOiBmYWxzZSxcbiAgICBoZWFkZXJzOiB7fSxcbiAgICAqL1xuXG4gICAgYWNjZXB0czoge1xuICAgICAgXCIqXCI6IGFsbFR5cGVzLFxuICAgICAgdGV4dDogXCJ0ZXh0L3BsYWluXCIsXG4gICAgICBodG1sOiBcInRleHQvaHRtbFwiLFxuICAgICAgeG1sOiBcImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWxcIixcbiAgICAgIGpzb246IFwiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0XCJcbiAgICB9LFxuXG4gICAgY29udGVudHM6IHtcbiAgICAgIHhtbDogL3htbC8sXG4gICAgICBodG1sOiAvaHRtbC8sXG4gICAgICBqc29uOiAvanNvbi9cbiAgICB9LFxuXG4gICAgcmVzcG9uc2VGaWVsZHM6IHtcbiAgICAgIHhtbDogXCJyZXNwb25zZVhNTFwiLFxuICAgICAgdGV4dDogXCJyZXNwb25zZVRleHRcIixcbiAgICAgIGpzb246IFwicmVzcG9uc2VKU09OXCJcbiAgICB9LFxuXG4gICAgLy8gRGF0YSBjb252ZXJ0ZXJzXG4gICAgLy8gS2V5cyBzZXBhcmF0ZSBzb3VyY2UgKG9yIGNhdGNoYWxsIFwiKlwiKSBhbmQgZGVzdGluYXRpb24gdHlwZXMgd2l0aCBhIHNpbmdsZSBzcGFjZVxuICAgIGNvbnZlcnRlcnM6IHtcblxuICAgICAgLy8gQ29udmVydCBhbnl0aGluZyB0byB0ZXh0XG4gICAgICBcIiogdGV4dFwiOiBTdHJpbmcsXG5cbiAgICAgIC8vIFRleHQgdG8gaHRtbCAodHJ1ZSA9IG5vIHRyYW5zZm9ybWF0aW9uKVxuICAgICAgXCJ0ZXh0IGh0bWxcIjogdHJ1ZSxcblxuICAgICAgLy8gRXZhbHVhdGUgdGV4dCBhcyBhIGpzb24gZXhwcmVzc2lvblxuICAgICAgXCJ0ZXh0IGpzb25cIjogalF1ZXJ5LnBhcnNlSlNPTixcblxuICAgICAgLy8gUGFyc2UgdGV4dCBhcyB4bWxcbiAgICAgIFwidGV4dCB4bWxcIjogalF1ZXJ5LnBhcnNlWE1MXG4gICAgfSxcblxuICAgIC8vIEZvciBvcHRpb25zIHRoYXQgc2hvdWxkbid0IGJlIGRlZXAgZXh0ZW5kZWQ6XG4gICAgLy8geW91IGNhbiBhZGQgeW91ciBvd24gY3VzdG9tIG9wdGlvbnMgaGVyZSBpZlxuICAgIC8vIGFuZCB3aGVuIHlvdSBjcmVhdGUgb25lIHRoYXQgc2hvdWxkbid0IGJlXG4gICAgLy8gZGVlcCBleHRlbmRlZCAoc2VlIGFqYXhFeHRlbmQpXG4gICAgZmxhdE9wdGlvbnM6IHtcbiAgICAgIHVybDogdHJ1ZSxcbiAgICAgIGNvbnRleHQ6IHRydWVcbiAgICB9XG4gIH0sXG5cbiAgLy8gQ3JlYXRlcyBhIGZ1bGwgZmxlZGdlZCBzZXR0aW5ncyBvYmplY3QgaW50byB0YXJnZXRcbiAgLy8gd2l0aCBib3RoIGFqYXhTZXR0aW5ncyBhbmQgc2V0dGluZ3MgZmllbGRzLlxuICAvLyBJZiB0YXJnZXQgaXMgb21pdHRlZCwgd3JpdGVzIGludG8gYWpheFNldHRpbmdzLlxuICBhamF4U2V0dXA6IGZ1bmN0aW9uKCB0YXJnZXQsIHNldHRpbmdzICkge1xuICAgIHJldHVybiBzZXR0aW5ncyA/XG5cbiAgICAgIC8vIEJ1aWxkaW5nIGEgc2V0dGluZ3Mgb2JqZWN0XG4gICAgICBhamF4RXh0ZW5kKCBhamF4RXh0ZW5kKCB0YXJnZXQsIGpRdWVyeS5hamF4U2V0dGluZ3MgKSwgc2V0dGluZ3MgKSA6XG5cbiAgICAgIC8vIEV4dGVuZGluZyBhamF4U2V0dGluZ3NcbiAgICAgIGFqYXhFeHRlbmQoIGpRdWVyeS5hamF4U2V0dGluZ3MsIHRhcmdldCApO1xuICB9LFxuXG4gIGFqYXhQcmVmaWx0ZXI6IGFkZFRvUHJlZmlsdGVyc09yVHJhbnNwb3J0cyggcHJlZmlsdGVycyApLFxuICBhamF4VHJhbnNwb3J0OiBhZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHRyYW5zcG9ydHMgKSxcblxuICAvLyBNYWluIG1ldGhvZFxuICBhamF4OiBmdW5jdGlvbiggdXJsLCBvcHRpb25zICkge1xuXG4gICAgLy8gSWYgdXJsIGlzIGFuIG9iamVjdCwgc2ltdWxhdGUgcHJlLTEuNSBzaWduYXR1cmVcbiAgICBpZiAoIHR5cGVvZiB1cmwgPT09IFwib2JqZWN0XCIgKSB7XG4gICAgICBvcHRpb25zID0gdXJsO1xuICAgICAgdXJsID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8vIEZvcmNlIG9wdGlvbnMgdG8gYmUgYW4gb2JqZWN0XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICB2YXIgLy8gQ3Jvc3MtZG9tYWluIGRldGVjdGlvbiB2YXJzXG4gICAgICBwYXJ0cyxcbiAgICAgIC8vIExvb3AgdmFyaWFibGVcbiAgICAgIGksXG4gICAgICAvLyBVUkwgd2l0aG91dCBhbnRpLWNhY2hlIHBhcmFtXG4gICAgICBjYWNoZVVSTCxcbiAgICAgIC8vIFJlc3BvbnNlIGhlYWRlcnMgYXMgc3RyaW5nXG4gICAgICByZXNwb25zZUhlYWRlcnNTdHJpbmcsXG4gICAgICAvLyB0aW1lb3V0IGhhbmRsZVxuICAgICAgdGltZW91dFRpbWVyLFxuXG4gICAgICAvLyBUbyBrbm93IGlmIGdsb2JhbCBldmVudHMgYXJlIHRvIGJlIGRpc3BhdGNoZWRcbiAgICAgIGZpcmVHbG9iYWxzLFxuXG4gICAgICB0cmFuc3BvcnQsXG4gICAgICAvLyBSZXNwb25zZSBoZWFkZXJzXG4gICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICAvLyBDcmVhdGUgdGhlIGZpbmFsIG9wdGlvbnMgb2JqZWN0XG4gICAgICBzID0galF1ZXJ5LmFqYXhTZXR1cCgge30sIG9wdGlvbnMgKSxcbiAgICAgIC8vIENhbGxiYWNrcyBjb250ZXh0XG4gICAgICBjYWxsYmFja0NvbnRleHQgPSBzLmNvbnRleHQgfHwgcyxcbiAgICAgIC8vIENvbnRleHQgZm9yIGdsb2JhbCBldmVudHMgaXMgY2FsbGJhY2tDb250ZXh0IGlmIGl0IGlzIGEgRE9NIG5vZGUgb3IgalF1ZXJ5IGNvbGxlY3Rpb25cbiAgICAgIGdsb2JhbEV2ZW50Q29udGV4dCA9IHMuY29udGV4dCAmJiAoIGNhbGxiYWNrQ29udGV4dC5ub2RlVHlwZSB8fCBjYWxsYmFja0NvbnRleHQuanF1ZXJ5ICkgP1xuICAgICAgICBqUXVlcnkoIGNhbGxiYWNrQ29udGV4dCApIDpcbiAgICAgICAgalF1ZXJ5LmV2ZW50LFxuICAgICAgLy8gRGVmZXJyZWRzXG4gICAgICBkZWZlcnJlZCA9IGpRdWVyeS5EZWZlcnJlZCgpLFxuICAgICAgY29tcGxldGVEZWZlcnJlZCA9IGpRdWVyeS5DYWxsYmFja3MoXCJvbmNlIG1lbW9yeVwiKSxcbiAgICAgIC8vIFN0YXR1cy1kZXBlbmRlbnQgY2FsbGJhY2tzXG4gICAgICBzdGF0dXNDb2RlID0gcy5zdGF0dXNDb2RlIHx8IHt9LFxuICAgICAgLy8gSGVhZGVycyAodGhleSBhcmUgc2VudCBhbGwgYXQgb25jZSlcbiAgICAgIHJlcXVlc3RIZWFkZXJzID0ge30sXG4gICAgICByZXF1ZXN0SGVhZGVyc05hbWVzID0ge30sXG4gICAgICAvLyBUaGUganFYSFIgc3RhdGVcbiAgICAgIHN0YXRlID0gMCxcbiAgICAgIC8vIERlZmF1bHQgYWJvcnQgbWVzc2FnZVxuICAgICAgc3RyQWJvcnQgPSBcImNhbmNlbGVkXCIsXG4gICAgICAvLyBGYWtlIHhoclxuICAgICAganFYSFIgPSB7XG4gICAgICAgIHJlYWR5U3RhdGU6IDAsXG5cbiAgICAgICAgLy8gQnVpbGRzIGhlYWRlcnMgaGFzaHRhYmxlIGlmIG5lZWRlZFxuICAgICAgICBnZXRSZXNwb25zZUhlYWRlcjogZnVuY3Rpb24oIGtleSApIHtcbiAgICAgICAgICB2YXIgbWF0Y2g7XG4gICAgICAgICAgaWYgKCBzdGF0ZSA9PT0gMiApIHtcbiAgICAgICAgICAgIGlmICggIXJlc3BvbnNlSGVhZGVycyApIHtcbiAgICAgICAgICAgICAgcmVzcG9uc2VIZWFkZXJzID0ge307XG4gICAgICAgICAgICAgIHdoaWxlICggKG1hdGNoID0gcmhlYWRlcnMuZXhlYyggcmVzcG9uc2VIZWFkZXJzU3RyaW5nICkpICkge1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlSGVhZGVyc1sgbWF0Y2hbMV0udG9Mb3dlckNhc2UoKSBdID0gbWF0Y2hbIDIgXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWF0Y2ggPSByZXNwb25zZUhlYWRlcnNbIGtleS50b0xvd2VyQ2FzZSgpIF07XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBtYXRjaCA9PSBudWxsID8gbnVsbCA6IG1hdGNoO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8vIFJhdyBzdHJpbmdcbiAgICAgICAgZ2V0QWxsUmVzcG9uc2VIZWFkZXJzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gc3RhdGUgPT09IDIgPyByZXNwb25zZUhlYWRlcnNTdHJpbmcgOiBudWxsO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8vIENhY2hlcyB0aGUgaGVhZGVyXG4gICAgICAgIHNldFJlcXVlc3RIZWFkZXI6IGZ1bmN0aW9uKCBuYW1lLCB2YWx1ZSApIHtcbiAgICAgICAgICB2YXIgbG5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgaWYgKCAhc3RhdGUgKSB7XG4gICAgICAgICAgICBuYW1lID0gcmVxdWVzdEhlYWRlcnNOYW1lc1sgbG5hbWUgXSA9IHJlcXVlc3RIZWFkZXJzTmFtZXNbIGxuYW1lIF0gfHwgbmFtZTtcbiAgICAgICAgICAgIHJlcXVlc3RIZWFkZXJzWyBuYW1lIF0gPSB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gT3ZlcnJpZGVzIHJlc3BvbnNlIGNvbnRlbnQtdHlwZSBoZWFkZXJcbiAgICAgICAgb3ZlcnJpZGVNaW1lVHlwZTogZnVuY3Rpb24oIHR5cGUgKSB7XG4gICAgICAgICAgaWYgKCAhc3RhdGUgKSB7XG4gICAgICAgICAgICBzLm1pbWVUeXBlID0gdHlwZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gU3RhdHVzLWRlcGVuZGVudCBjYWxsYmFja3NcbiAgICAgICAgc3RhdHVzQ29kZTogZnVuY3Rpb24oIG1hcCApIHtcbiAgICAgICAgICB2YXIgY29kZTtcbiAgICAgICAgICBpZiAoIG1hcCApIHtcbiAgICAgICAgICAgIGlmICggc3RhdGUgPCAyICkge1xuICAgICAgICAgICAgICBmb3IgKCBjb2RlIGluIG1hcCApIHtcbiAgICAgICAgICAgICAgICAvLyBMYXp5LWFkZCB0aGUgbmV3IGNhbGxiYWNrIGluIGEgd2F5IHRoYXQgcHJlc2VydmVzIG9sZCBvbmVzXG4gICAgICAgICAgICAgICAgc3RhdHVzQ29kZVsgY29kZSBdID0gWyBzdGF0dXNDb2RlWyBjb2RlIF0sIG1hcFsgY29kZSBdIF07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIEV4ZWN1dGUgdGhlIGFwcHJvcHJpYXRlIGNhbGxiYWNrc1xuICAgICAgICAgICAgICBqcVhIUi5hbHdheXMoIG1hcFsganFYSFIuc3RhdHVzIF0gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gQ2FuY2VsIHRoZSByZXF1ZXN0XG4gICAgICAgIGFib3J0OiBmdW5jdGlvbiggc3RhdHVzVGV4dCApIHtcbiAgICAgICAgICB2YXIgZmluYWxUZXh0ID0gc3RhdHVzVGV4dCB8fCBzdHJBYm9ydDtcbiAgICAgICAgICBpZiAoIHRyYW5zcG9ydCApIHtcbiAgICAgICAgICAgIHRyYW5zcG9ydC5hYm9ydCggZmluYWxUZXh0ICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRvbmUoIDAsIGZpbmFsVGV4dCApO1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgLy8gQXR0YWNoIGRlZmVycmVkc1xuICAgIGRlZmVycmVkLnByb21pc2UoIGpxWEhSICkuY29tcGxldGUgPSBjb21wbGV0ZURlZmVycmVkLmFkZDtcbiAgICBqcVhIUi5zdWNjZXNzID0ganFYSFIuZG9uZTtcbiAgICBqcVhIUi5lcnJvciA9IGpxWEhSLmZhaWw7XG5cbiAgICAvLyBSZW1vdmUgaGFzaCBjaGFyYWN0ZXIgKCM3NTMxOiBhbmQgc3RyaW5nIHByb21vdGlvbilcbiAgICAvLyBBZGQgcHJvdG9jb2wgaWYgbm90IHByb3ZpZGVkICgjNTg2NjogSUU3IGlzc3VlIHdpdGggcHJvdG9jb2wtbGVzcyB1cmxzKVxuICAgIC8vIEhhbmRsZSBmYWxzeSB1cmwgaW4gdGhlIHNldHRpbmdzIG9iamVjdCAoIzEwMDkzOiBjb25zaXN0ZW5jeSB3aXRoIG9sZCBzaWduYXR1cmUpXG4gICAgLy8gV2UgYWxzbyB1c2UgdGhlIHVybCBwYXJhbWV0ZXIgaWYgYXZhaWxhYmxlXG4gICAgcy51cmwgPSAoICggdXJsIHx8IHMudXJsIHx8IGFqYXhMb2NhdGlvbiApICsgXCJcIiApLnJlcGxhY2UoIHJoYXNoLCBcIlwiICkucmVwbGFjZSggcnByb3RvY29sLCBhamF4TG9jUGFydHNbIDEgXSArIFwiLy9cIiApO1xuXG4gICAgLy8gQWxpYXMgbWV0aG9kIG9wdGlvbiB0byB0eXBlIGFzIHBlciB0aWNrZXQgIzEyMDA0XG4gICAgcy50eXBlID0gb3B0aW9ucy5tZXRob2QgfHwgb3B0aW9ucy50eXBlIHx8IHMubWV0aG9kIHx8IHMudHlwZTtcblxuICAgIC8vIEV4dHJhY3QgZGF0YVR5cGVzIGxpc3RcbiAgICBzLmRhdGFUeXBlcyA9IGpRdWVyeS50cmltKCBzLmRhdGFUeXBlIHx8IFwiKlwiICkudG9Mb3dlckNhc2UoKS5tYXRjaCggcm5vdHdoaXRlICkgfHwgWyBcIlwiIF07XG5cbiAgICAvLyBBIGNyb3NzLWRvbWFpbiByZXF1ZXN0IGlzIGluIG9yZGVyIHdoZW4gd2UgaGF2ZSBhIHByb3RvY29sOmhvc3Q6cG9ydCBtaXNtYXRjaFxuICAgIGlmICggcy5jcm9zc0RvbWFpbiA9PSBudWxsICkge1xuICAgICAgcGFydHMgPSBydXJsLmV4ZWMoIHMudXJsLnRvTG93ZXJDYXNlKCkgKTtcbiAgICAgIHMuY3Jvc3NEb21haW4gPSAhISggcGFydHMgJiZcbiAgICAgICAgKCBwYXJ0c1sgMSBdICE9PSBhamF4TG9jUGFydHNbIDEgXSB8fCBwYXJ0c1sgMiBdICE9PSBhamF4TG9jUGFydHNbIDIgXSB8fFxuICAgICAgICAgICggcGFydHNbIDMgXSB8fCAoIHBhcnRzWyAxIF0gPT09IFwiaHR0cDpcIiA/IFwiODBcIiA6IFwiNDQzXCIgKSApICE9PVxuICAgICAgICAgICAgKCBhamF4TG9jUGFydHNbIDMgXSB8fCAoIGFqYXhMb2NQYXJ0c1sgMSBdID09PSBcImh0dHA6XCIgPyBcIjgwXCIgOiBcIjQ0M1wiICkgKSApXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIENvbnZlcnQgZGF0YSBpZiBub3QgYWxyZWFkeSBhIHN0cmluZ1xuICAgIGlmICggcy5kYXRhICYmIHMucHJvY2Vzc0RhdGEgJiYgdHlwZW9mIHMuZGF0YSAhPT0gXCJzdHJpbmdcIiApIHtcbiAgICAgIHMuZGF0YSA9IGpRdWVyeS5wYXJhbSggcy5kYXRhLCBzLnRyYWRpdGlvbmFsICk7XG4gICAgfVxuXG4gICAgLy8gQXBwbHkgcHJlZmlsdGVyc1xuICAgIGluc3BlY3RQcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCBwcmVmaWx0ZXJzLCBzLCBvcHRpb25zLCBqcVhIUiApO1xuXG4gICAgLy8gSWYgcmVxdWVzdCB3YXMgYWJvcnRlZCBpbnNpZGUgYSBwcmVmaWx0ZXIsIHN0b3AgdGhlcmVcbiAgICBpZiAoIHN0YXRlID09PSAyICkge1xuICAgICAgcmV0dXJuIGpxWEhSO1xuICAgIH1cblxuICAgIC8vIFdlIGNhbiBmaXJlIGdsb2JhbCBldmVudHMgYXMgb2Ygbm93IGlmIGFza2VkIHRvXG4gICAgLy8gRG9uJ3QgZmlyZSBldmVudHMgaWYgalF1ZXJ5LmV2ZW50IGlzIHVuZGVmaW5lZCBpbiBhbiBBTUQtdXNhZ2Ugc2NlbmFyaW8gKCMxNTExOClcbiAgICBmaXJlR2xvYmFscyA9IGpRdWVyeS5ldmVudCAmJiBzLmdsb2JhbDtcblxuICAgIC8vIFdhdGNoIGZvciBhIG5ldyBzZXQgb2YgcmVxdWVzdHNcbiAgICBpZiAoIGZpcmVHbG9iYWxzICYmIGpRdWVyeS5hY3RpdmUrKyA9PT0gMCApIHtcbiAgICAgIGpRdWVyeS5ldmVudC50cmlnZ2VyKFwiYWpheFN0YXJ0XCIpO1xuICAgIH1cblxuICAgIC8vIFVwcGVyY2FzZSB0aGUgdHlwZVxuICAgIHMudHlwZSA9IHMudHlwZS50b1VwcGVyQ2FzZSgpO1xuXG4gICAgLy8gRGV0ZXJtaW5lIGlmIHJlcXVlc3QgaGFzIGNvbnRlbnRcbiAgICBzLmhhc0NvbnRlbnQgPSAhcm5vQ29udGVudC50ZXN0KCBzLnR5cGUgKTtcblxuICAgIC8vIFNhdmUgdGhlIFVSTCBpbiBjYXNlIHdlJ3JlIHRveWluZyB3aXRoIHRoZSBJZi1Nb2RpZmllZC1TaW5jZVxuICAgIC8vIGFuZC9vciBJZi1Ob25lLU1hdGNoIGhlYWRlciBsYXRlciBvblxuICAgIGNhY2hlVVJMID0gcy51cmw7XG5cbiAgICAvLyBNb3JlIG9wdGlvbnMgaGFuZGxpbmcgZm9yIHJlcXVlc3RzIHdpdGggbm8gY29udGVudFxuICAgIGlmICggIXMuaGFzQ29udGVudCApIHtcblxuICAgICAgLy8gSWYgZGF0YSBpcyBhdmFpbGFibGUsIGFwcGVuZCBkYXRhIHRvIHVybFxuICAgICAgaWYgKCBzLmRhdGEgKSB7XG4gICAgICAgIGNhY2hlVVJMID0gKCBzLnVybCArPSAoIHJxdWVyeS50ZXN0KCBjYWNoZVVSTCApID8gXCImXCIgOiBcIj9cIiApICsgcy5kYXRhICk7XG4gICAgICAgIC8vICM5NjgyOiByZW1vdmUgZGF0YSBzbyB0aGF0IGl0J3Mgbm90IHVzZWQgaW4gYW4gZXZlbnR1YWwgcmV0cnlcbiAgICAgICAgZGVsZXRlIHMuZGF0YTtcbiAgICAgIH1cblxuICAgICAgLy8gQWRkIGFudGktY2FjaGUgaW4gdXJsIGlmIG5lZWRlZFxuICAgICAgaWYgKCBzLmNhY2hlID09PSBmYWxzZSApIHtcbiAgICAgICAgcy51cmwgPSBydHMudGVzdCggY2FjaGVVUkwgKSA/XG5cbiAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBhbHJlYWR5IGEgJ18nIHBhcmFtZXRlciwgc2V0IGl0cyB2YWx1ZVxuICAgICAgICAgIGNhY2hlVVJMLnJlcGxhY2UoIHJ0cywgXCIkMV89XCIgKyBub25jZSsrICkgOlxuXG4gICAgICAgICAgLy8gT3RoZXJ3aXNlIGFkZCBvbmUgdG8gdGhlIGVuZFxuICAgICAgICAgIGNhY2hlVVJMICsgKCBycXVlcnkudGVzdCggY2FjaGVVUkwgKSA/IFwiJlwiIDogXCI/XCIgKSArIFwiXz1cIiArIG5vbmNlKys7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gU2V0IHRoZSBJZi1Nb2RpZmllZC1TaW5jZSBhbmQvb3IgSWYtTm9uZS1NYXRjaCBoZWFkZXIsIGlmIGluIGlmTW9kaWZpZWQgbW9kZS5cbiAgICBpZiAoIHMuaWZNb2RpZmllZCApIHtcbiAgICAgIGlmICggalF1ZXJ5Lmxhc3RNb2RpZmllZFsgY2FjaGVVUkwgXSApIHtcbiAgICAgICAganFYSFIuc2V0UmVxdWVzdEhlYWRlciggXCJJZi1Nb2RpZmllZC1TaW5jZVwiLCBqUXVlcnkubGFzdE1vZGlmaWVkWyBjYWNoZVVSTCBdICk7XG4gICAgICB9XG4gICAgICBpZiAoIGpRdWVyeS5ldGFnWyBjYWNoZVVSTCBdICkge1xuICAgICAgICBqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKCBcIklmLU5vbmUtTWF0Y2hcIiwgalF1ZXJ5LmV0YWdbIGNhY2hlVVJMIF0gKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTZXQgdGhlIGNvcnJlY3QgaGVhZGVyLCBpZiBkYXRhIGlzIGJlaW5nIHNlbnRcbiAgICBpZiAoIHMuZGF0YSAmJiBzLmhhc0NvbnRlbnQgJiYgcy5jb250ZW50VHlwZSAhPT0gZmFsc2UgfHwgb3B0aW9ucy5jb250ZW50VHlwZSApIHtcbiAgICAgIGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoIFwiQ29udGVudC1UeXBlXCIsIHMuY29udGVudFR5cGUgKTtcbiAgICB9XG5cbiAgICAvLyBTZXQgdGhlIEFjY2VwdHMgaGVhZGVyIGZvciB0aGUgc2VydmVyLCBkZXBlbmRpbmcgb24gdGhlIGRhdGFUeXBlXG4gICAganFYSFIuc2V0UmVxdWVzdEhlYWRlcihcbiAgICAgIFwiQWNjZXB0XCIsXG4gICAgICBzLmRhdGFUeXBlc1sgMCBdICYmIHMuYWNjZXB0c1sgcy5kYXRhVHlwZXNbMF0gXSA/XG4gICAgICAgIHMuYWNjZXB0c1sgcy5kYXRhVHlwZXNbMF0gXSArICggcy5kYXRhVHlwZXNbIDAgXSAhPT0gXCIqXCIgPyBcIiwgXCIgKyBhbGxUeXBlcyArIFwiOyBxPTAuMDFcIiA6IFwiXCIgKSA6XG4gICAgICAgIHMuYWNjZXB0c1sgXCIqXCIgXVxuICAgICk7XG5cbiAgICAvLyBDaGVjayBmb3IgaGVhZGVycyBvcHRpb25cbiAgICBmb3IgKCBpIGluIHMuaGVhZGVycyApIHtcbiAgICAgIGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoIGksIHMuaGVhZGVyc1sgaSBdICk7XG4gICAgfVxuXG4gICAgLy8gQWxsb3cgY3VzdG9tIGhlYWRlcnMvbWltZXR5cGVzIGFuZCBlYXJseSBhYm9ydFxuICAgIGlmICggcy5iZWZvcmVTZW5kICYmICggcy5iZWZvcmVTZW5kLmNhbGwoIGNhbGxiYWNrQ29udGV4dCwganFYSFIsIHMgKSA9PT0gZmFsc2UgfHwgc3RhdGUgPT09IDIgKSApIHtcbiAgICAgIC8vIEFib3J0IGlmIG5vdCBkb25lIGFscmVhZHkgYW5kIHJldHVyblxuICAgICAgcmV0dXJuIGpxWEhSLmFib3J0KCk7XG4gICAgfVxuXG4gICAgLy8gYWJvcnRpbmcgaXMgbm8gbG9uZ2VyIGEgY2FuY2VsbGF0aW9uXG4gICAgc3RyQWJvcnQgPSBcImFib3J0XCI7XG5cbiAgICAvLyBJbnN0YWxsIGNhbGxiYWNrcyBvbiBkZWZlcnJlZHNcbiAgICBmb3IgKCBpIGluIHsgc3VjY2VzczogMSwgZXJyb3I6IDEsIGNvbXBsZXRlOiAxIH0gKSB7XG4gICAgICBqcVhIUlsgaSBdKCBzWyBpIF0gKTtcbiAgICB9XG5cbiAgICAvLyBHZXQgdHJhbnNwb3J0XG4gICAgdHJhbnNwb3J0ID0gaW5zcGVjdFByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHRyYW5zcG9ydHMsIHMsIG9wdGlvbnMsIGpxWEhSICk7XG5cbiAgICAvLyBJZiBubyB0cmFuc3BvcnQsIHdlIGF1dG8tYWJvcnRcbiAgICBpZiAoICF0cmFuc3BvcnQgKSB7XG4gICAgICBkb25lKCAtMSwgXCJObyBUcmFuc3BvcnRcIiApO1xuICAgIH0gZWxzZSB7XG4gICAgICBqcVhIUi5yZWFkeVN0YXRlID0gMTtcblxuICAgICAgLy8gU2VuZCBnbG9iYWwgZXZlbnRcbiAgICAgIGlmICggZmlyZUdsb2JhbHMgKSB7XG4gICAgICAgIGdsb2JhbEV2ZW50Q29udGV4dC50cmlnZ2VyKCBcImFqYXhTZW5kXCIsIFsganFYSFIsIHMgXSApO1xuICAgICAgfVxuICAgICAgLy8gVGltZW91dFxuICAgICAgaWYgKCBzLmFzeW5jICYmIHMudGltZW91dCA+IDAgKSB7XG4gICAgICAgIHRpbWVvdXRUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAganFYSFIuYWJvcnQoXCJ0aW1lb3V0XCIpO1xuICAgICAgICB9LCBzLnRpbWVvdXQgKTtcbiAgICAgIH1cblxuICAgICAgdHJ5IHtcbiAgICAgICAgc3RhdGUgPSAxO1xuICAgICAgICB0cmFuc3BvcnQuc2VuZCggcmVxdWVzdEhlYWRlcnMsIGRvbmUgKTtcbiAgICAgIH0gY2F0Y2ggKCBlICkge1xuICAgICAgICAvLyBQcm9wYWdhdGUgZXhjZXB0aW9uIGFzIGVycm9yIGlmIG5vdCBkb25lXG4gICAgICAgIGlmICggc3RhdGUgPCAyICkge1xuICAgICAgICAgIGRvbmUoIC0xLCBlICk7XG4gICAgICAgIC8vIFNpbXBseSByZXRocm93IG90aGVyd2lzZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGUuc3RhY2spXG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENhbGxiYWNrIGZvciB3aGVuIGV2ZXJ5dGhpbmcgaXMgZG9uZVxuICAgIGZ1bmN0aW9uIGRvbmUoIHN0YXR1cywgbmF0aXZlU3RhdHVzVGV4dCwgcmVzcG9uc2VzLCBoZWFkZXJzICkge1xuICAgICAgdmFyIGlzU3VjY2Vzcywgc3VjY2VzcywgZXJyb3IsIHJlc3BvbnNlLCBtb2RpZmllZCxcbiAgICAgICAgc3RhdHVzVGV4dCA9IG5hdGl2ZVN0YXR1c1RleHQ7XG5cbiAgICAgIC8vIENhbGxlZCBvbmNlXG4gICAgICBpZiAoIHN0YXRlID09PSAyICkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFN0YXRlIGlzIFwiZG9uZVwiIG5vd1xuICAgICAgc3RhdGUgPSAyO1xuXG4gICAgICAvLyBDbGVhciB0aW1lb3V0IGlmIGl0IGV4aXN0c1xuICAgICAgaWYgKCB0aW1lb3V0VGltZXIgKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCggdGltZW91dFRpbWVyICk7XG4gICAgICB9XG5cbiAgICAgIC8vIERlcmVmZXJlbmNlIHRyYW5zcG9ydCBmb3IgZWFybHkgZ2FyYmFnZSBjb2xsZWN0aW9uXG4gICAgICAvLyAobm8gbWF0dGVyIGhvdyBsb25nIHRoZSBqcVhIUiBvYmplY3Qgd2lsbCBiZSB1c2VkKVxuICAgICAgdHJhbnNwb3J0ID0gdW5kZWZpbmVkO1xuXG4gICAgICAvLyBDYWNoZSByZXNwb25zZSBoZWFkZXJzXG4gICAgICByZXNwb25zZUhlYWRlcnNTdHJpbmcgPSBoZWFkZXJzIHx8IFwiXCI7XG5cbiAgICAgIC8vIFNldCByZWFkeVN0YXRlXG4gICAgICBqcVhIUi5yZWFkeVN0YXRlID0gc3RhdHVzID4gMCA/IDQgOiAwO1xuXG4gICAgICAvLyBEZXRlcm1pbmUgaWYgc3VjY2Vzc2Z1bFxuICAgICAgaXNTdWNjZXNzID0gc3RhdHVzID49IDIwMCAmJiBzdGF0dXMgPCAzMDAgfHwgc3RhdHVzID09PSAzMDQ7XG5cbiAgICAgIC8vIEdldCByZXNwb25zZSBkYXRhXG4gICAgICBpZiAoIHJlc3BvbnNlcyApIHtcbiAgICAgICAgcmVzcG9uc2UgPSBhamF4SGFuZGxlUmVzcG9uc2VzKCBzLCBqcVhIUiwgcmVzcG9uc2VzICk7XG4gICAgICB9XG5cbiAgICAgIC8vIENvbnZlcnQgbm8gbWF0dGVyIHdoYXQgKHRoYXQgd2F5IHJlc3BvbnNlWFhYIGZpZWxkcyBhcmUgYWx3YXlzIHNldClcbiAgICAgIHJlc3BvbnNlID0gYWpheENvbnZlcnQoIHMsIHJlc3BvbnNlLCBqcVhIUiwgaXNTdWNjZXNzICk7XG5cbiAgICAgIC8vIElmIHN1Y2Nlc3NmdWwsIGhhbmRsZSB0eXBlIGNoYWluaW5nXG4gICAgICBpZiAoIGlzU3VjY2VzcyApIHtcblxuICAgICAgICAvLyBTZXQgdGhlIElmLU1vZGlmaWVkLVNpbmNlIGFuZC9vciBJZi1Ob25lLU1hdGNoIGhlYWRlciwgaWYgaW4gaWZNb2RpZmllZCBtb2RlLlxuICAgICAgICBpZiAoIHMuaWZNb2RpZmllZCApIHtcbiAgICAgICAgICBtb2RpZmllZCA9IGpxWEhSLmdldFJlc3BvbnNlSGVhZGVyKFwiTGFzdC1Nb2RpZmllZFwiKTtcbiAgICAgICAgICBpZiAoIG1vZGlmaWVkICkge1xuICAgICAgICAgICAgalF1ZXJ5Lmxhc3RNb2RpZmllZFsgY2FjaGVVUkwgXSA9IG1vZGlmaWVkO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtb2RpZmllZCA9IGpxWEhSLmdldFJlc3BvbnNlSGVhZGVyKFwiZXRhZ1wiKTtcbiAgICAgICAgICBpZiAoIG1vZGlmaWVkICkge1xuICAgICAgICAgICAgalF1ZXJ5LmV0YWdbIGNhY2hlVVJMIF0gPSBtb2RpZmllZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiBubyBjb250ZW50XG4gICAgICAgIGlmICggc3RhdHVzID09PSAyMDQgfHwgcy50eXBlID09PSBcIkhFQURcIiApIHtcbiAgICAgICAgICBzdGF0dXNUZXh0ID0gXCJub2NvbnRlbnRcIjtcblxuICAgICAgICAvLyBpZiBub3QgbW9kaWZpZWRcbiAgICAgICAgfSBlbHNlIGlmICggc3RhdHVzID09PSAzMDQgKSB7XG4gICAgICAgICAgc3RhdHVzVGV4dCA9IFwibm90bW9kaWZpZWRcIjtcblxuICAgICAgICAvLyBJZiB3ZSBoYXZlIGRhdGEsIGxldCdzIGNvbnZlcnQgaXRcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdGF0dXNUZXh0ID0gcmVzcG9uc2Uuc3RhdGU7XG4gICAgICAgICAgc3VjY2VzcyA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgZXJyb3IgPSByZXNwb25zZS5lcnJvcjtcbiAgICAgICAgICBpc1N1Y2Nlc3MgPSAhZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFdlIGV4dHJhY3QgZXJyb3IgZnJvbSBzdGF0dXNUZXh0XG4gICAgICAgIC8vIHRoZW4gbm9ybWFsaXplIHN0YXR1c1RleHQgYW5kIHN0YXR1cyBmb3Igbm9uLWFib3J0c1xuICAgICAgICBlcnJvciA9IHN0YXR1c1RleHQ7XG4gICAgICAgIGlmICggc3RhdHVzIHx8ICFzdGF0dXNUZXh0ICkge1xuICAgICAgICAgIHN0YXR1c1RleHQgPSBcImVycm9yXCI7XG4gICAgICAgICAgaWYgKCBzdGF0dXMgPCAwICkge1xuICAgICAgICAgICAgc3RhdHVzID0gMDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gU2V0IGRhdGEgZm9yIHRoZSBmYWtlIHhociBvYmplY3RcbiAgICAgIGpxWEhSLnN0YXR1cyA9IHN0YXR1cztcbiAgICAgIGpxWEhSLnN0YXR1c1RleHQgPSAoIG5hdGl2ZVN0YXR1c1RleHQgfHwgc3RhdHVzVGV4dCApICsgXCJcIjtcblxuICAgICAgLy8gU3VjY2Vzcy9FcnJvclxuICAgICAgaWYgKCBpc1N1Y2Nlc3MgKSB7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmVXaXRoKCBjYWxsYmFja0NvbnRleHQsIFsgc3VjY2Vzcywgc3RhdHVzVGV4dCwganFYSFIgXSApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVmZXJyZWQucmVqZWN0V2l0aCggY2FsbGJhY2tDb250ZXh0LCBbIGpxWEhSLCBzdGF0dXNUZXh0LCBlcnJvciBdICk7XG4gICAgICB9XG5cbiAgICAgIC8vIFN0YXR1cy1kZXBlbmRlbnQgY2FsbGJhY2tzXG4gICAgICBqcVhIUi5zdGF0dXNDb2RlKCBzdGF0dXNDb2RlICk7XG4gICAgICBzdGF0dXNDb2RlID0gdW5kZWZpbmVkO1xuXG4gICAgICBpZiAoIGZpcmVHbG9iYWxzICkge1xuICAgICAgICBnbG9iYWxFdmVudENvbnRleHQudHJpZ2dlciggaXNTdWNjZXNzID8gXCJhamF4U3VjY2Vzc1wiIDogXCJhamF4RXJyb3JcIixcbiAgICAgICAgICBbIGpxWEhSLCBzLCBpc1N1Y2Nlc3MgPyBzdWNjZXNzIDogZXJyb3IgXSApO1xuICAgICAgfVxuXG4gICAgICAvLyBDb21wbGV0ZVxuICAgICAgY29tcGxldGVEZWZlcnJlZC5maXJlV2l0aCggY2FsbGJhY2tDb250ZXh0LCBbIGpxWEhSLCBzdGF0dXNUZXh0IF0gKTtcblxuICAgICAgaWYgKCBmaXJlR2xvYmFscyApIHtcbiAgICAgICAgZ2xvYmFsRXZlbnRDb250ZXh0LnRyaWdnZXIoIFwiYWpheENvbXBsZXRlXCIsIFsganFYSFIsIHMgXSApO1xuICAgICAgICAvLyBIYW5kbGUgdGhlIGdsb2JhbCBBSkFYIGNvdW50ZXJcbiAgICAgICAgaWYgKCAhKCAtLWpRdWVyeS5hY3RpdmUgKSApIHtcbiAgICAgICAgICBqUXVlcnkuZXZlbnQudHJpZ2dlcihcImFqYXhTdG9wXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGpxWEhSO1xuICB9LFxuXG4gIGdldEpTT046IGZ1bmN0aW9uKCB1cmwsIGRhdGEsIGNhbGxiYWNrICkge1xuICAgIHJldHVybiBqUXVlcnkuZ2V0KCB1cmwsIGRhdGEsIGNhbGxiYWNrLCBcImpzb25cIiApO1xuICB9LFxuXG4gIGdldFNjcmlwdDogZnVuY3Rpb24oIHVybCwgY2FsbGJhY2sgKSB7XG4gICAgcmV0dXJuIGpRdWVyeS5nZXQoIHVybCwgdW5kZWZpbmVkLCBjYWxsYmFjaywgXCJzY3JpcHRcIiApO1xuICB9XG59KTtcblxualF1ZXJ5LmVhY2goIFsgXCJnZXRcIiwgXCJwb3N0XCIgXSwgZnVuY3Rpb24oIGksIG1ldGhvZCApIHtcbiAgalF1ZXJ5WyBtZXRob2QgXSA9IGZ1bmN0aW9uKCB1cmwsIGRhdGEsIGNhbGxiYWNrLCB0eXBlICkge1xuICAgIC8vIHNoaWZ0IGFyZ3VtZW50cyBpZiBkYXRhIGFyZ3VtZW50IHdhcyBvbWl0dGVkXG4gICAgaWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggZGF0YSApICkge1xuICAgICAgdHlwZSA9IHR5cGUgfHwgY2FsbGJhY2s7XG4gICAgICBjYWxsYmFjayA9IGRhdGE7XG4gICAgICBkYXRhID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHJldHVybiBqUXVlcnkuYWpheCh7XG4gICAgICB1cmw6IHVybCxcbiAgICAgIHR5cGU6IG1ldGhvZCxcbiAgICAgIGRhdGFUeXBlOiB0eXBlLFxuICAgICAgZGF0YTogZGF0YSxcbiAgICAgIHN1Y2Nlc3M6IGNhbGxiYWNrXG4gICAgfSk7XG4gIH07XG59KTtcblxuXG5qUXVlcnkuX2V2YWxVcmwgPSBmdW5jdGlvbiggdXJsICkge1xuICByZXR1cm4galF1ZXJ5LmFqYXgoe1xuICAgIHVybDogdXJsLFxuICAgIHR5cGU6IFwiR0VUXCIsXG4gICAgZGF0YVR5cGU6IFwic2NyaXB0XCIsXG4gICAgYXN5bmM6IGZhbHNlLFxuICAgIGdsb2JhbDogZmFsc2UsXG4gICAgXCJ0aHJvd3NcIjogdHJ1ZVxuICB9KTtcbn07XG5cblxualF1ZXJ5LmZuLmV4dGVuZCh7XG4gIHdyYXBBbGw6IGZ1bmN0aW9uKCBodG1sICkge1xuICAgIGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIGh0bWwgKSApIHtcbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oaSkge1xuICAgICAgICBqUXVlcnkodGhpcykud3JhcEFsbCggaHRtbC5jYWxsKHRoaXMsIGkpICk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoIHRoaXNbMF0gKSB7XG4gICAgICAvLyBUaGUgZWxlbWVudHMgdG8gd3JhcCB0aGUgdGFyZ2V0IGFyb3VuZFxuICAgICAgdmFyIHdyYXAgPSBqUXVlcnkoIGh0bWwsIHRoaXNbMF0ub3duZXJEb2N1bWVudCApLmVxKDApLmNsb25lKHRydWUpO1xuXG4gICAgICBpZiAoIHRoaXNbMF0ucGFyZW50Tm9kZSApIHtcbiAgICAgICAgd3JhcC5pbnNlcnRCZWZvcmUoIHRoaXNbMF0gKTtcbiAgICAgIH1cblxuICAgICAgd3JhcC5tYXAoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBlbGVtID0gdGhpcztcblxuICAgICAgICB3aGlsZSAoIGVsZW0uZmlyc3RDaGlsZCAmJiBlbGVtLmZpcnN0Q2hpbGQubm9kZVR5cGUgPT09IDEgKSB7XG4gICAgICAgICAgZWxlbSA9IGVsZW0uZmlyc3RDaGlsZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBlbGVtO1xuICAgICAgfSkuYXBwZW5kKCB0aGlzICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgd3JhcElubmVyOiBmdW5jdGlvbiggaHRtbCApIHtcbiAgICBpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBodG1sICkgKSB7XG4gICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgalF1ZXJ5KHRoaXMpLndyYXBJbm5lciggaHRtbC5jYWxsKHRoaXMsIGkpICk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSBqUXVlcnkoIHRoaXMgKSxcbiAgICAgICAgY29udGVudHMgPSBzZWxmLmNvbnRlbnRzKCk7XG5cbiAgICAgIGlmICggY29udGVudHMubGVuZ3RoICkge1xuICAgICAgICBjb250ZW50cy53cmFwQWxsKCBodG1sICk7XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbGYuYXBwZW5kKCBodG1sICk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgd3JhcDogZnVuY3Rpb24oIGh0bWwgKSB7XG4gICAgdmFyIGlzRnVuY3Rpb24gPSBqUXVlcnkuaXNGdW5jdGlvbiggaHRtbCApO1xuXG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihpKSB7XG4gICAgICBqUXVlcnkoIHRoaXMgKS53cmFwQWxsKCBpc0Z1bmN0aW9uID8gaHRtbC5jYWxsKHRoaXMsIGkpIDogaHRtbCApO1xuICAgIH0pO1xuICB9LFxuXG4gIHVud3JhcDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMucGFyZW50KCkuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgIGlmICggIWpRdWVyeS5ub2RlTmFtZSggdGhpcywgXCJib2R5XCIgKSApIHtcbiAgICAgICAgalF1ZXJ5KCB0aGlzICkucmVwbGFjZVdpdGgoIHRoaXMuY2hpbGROb2RlcyApO1xuICAgICAgfVxuICAgIH0pLmVuZCgpO1xuICB9XG59KTtcblxuXG5qUXVlcnkuZXhwci5maWx0ZXJzLmhpZGRlbiA9IGZ1bmN0aW9uKCBlbGVtICkge1xuICAvLyBTdXBwb3J0OiBPcGVyYSA8PSAxMi4xMlxuICAvLyBPcGVyYSByZXBvcnRzIG9mZnNldFdpZHRocyBhbmQgb2Zmc2V0SGVpZ2h0cyBsZXNzIHRoYW4gemVybyBvbiBzb21lIGVsZW1lbnRzXG4gIHJldHVybiBlbGVtLm9mZnNldFdpZHRoIDw9IDAgJiYgZWxlbS5vZmZzZXRIZWlnaHQgPD0gMCB8fFxuICAgICghc3VwcG9ydC5yZWxpYWJsZUhpZGRlbk9mZnNldHMoKSAmJlxuICAgICAgKChlbGVtLnN0eWxlICYmIGVsZW0uc3R5bGUuZGlzcGxheSkgfHwgalF1ZXJ5LmNzcyggZWxlbSwgXCJkaXNwbGF5XCIgKSkgPT09IFwibm9uZVwiKTtcbn07XG5cbmpRdWVyeS5leHByLmZpbHRlcnMudmlzaWJsZSA9IGZ1bmN0aW9uKCBlbGVtICkge1xuICByZXR1cm4gIWpRdWVyeS5leHByLmZpbHRlcnMuaGlkZGVuKCBlbGVtICk7XG59O1xuXG5cblxuXG52YXIgcjIwID0gLyUyMC9nLFxuICByYnJhY2tldCA9IC9cXFtcXF0kLyxcbiAgckNSTEYgPSAvXFxyP1xcbi9nLFxuICByc3VibWl0dGVyVHlwZXMgPSAvXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksXG4gIHJzdWJtaXR0YWJsZSA9IC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGtleWdlbikvaTtcblxuZnVuY3Rpb24gYnVpbGRQYXJhbXMoIHByZWZpeCwgb2JqLCB0cmFkaXRpb25hbCwgYWRkICkge1xuICB2YXIgbmFtZTtcblxuICBpZiAoIGpRdWVyeS5pc0FycmF5KCBvYmogKSApIHtcbiAgICAvLyBTZXJpYWxpemUgYXJyYXkgaXRlbS5cbiAgICBqUXVlcnkuZWFjaCggb2JqLCBmdW5jdGlvbiggaSwgdiApIHtcbiAgICAgIGlmICggdHJhZGl0aW9uYWwgfHwgcmJyYWNrZXQudGVzdCggcHJlZml4ICkgKSB7XG4gICAgICAgIC8vIFRyZWF0IGVhY2ggYXJyYXkgaXRlbSBhcyBhIHNjYWxhci5cbiAgICAgICAgYWRkKCBwcmVmaXgsIHYgKTtcblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSXRlbSBpcyBub24tc2NhbGFyIChhcnJheSBvciBvYmplY3QpLCBlbmNvZGUgaXRzIG51bWVyaWMgaW5kZXguXG4gICAgICAgIGJ1aWxkUGFyYW1zKCBwcmVmaXggKyBcIltcIiArICggdHlwZW9mIHYgPT09IFwib2JqZWN0XCIgPyBpIDogXCJcIiApICsgXCJdXCIsIHYsIHRyYWRpdGlvbmFsLCBhZGQgKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICB9IGVsc2UgaWYgKCAhdHJhZGl0aW9uYWwgJiYgalF1ZXJ5LnR5cGUoIG9iaiApID09PSBcIm9iamVjdFwiICkge1xuICAgIC8vIFNlcmlhbGl6ZSBvYmplY3QgaXRlbS5cbiAgICBmb3IgKCBuYW1lIGluIG9iaiApIHtcbiAgICAgIGJ1aWxkUGFyYW1zKCBwcmVmaXggKyBcIltcIiArIG5hbWUgKyBcIl1cIiwgb2JqWyBuYW1lIF0sIHRyYWRpdGlvbmFsLCBhZGQgKTtcbiAgICB9XG5cbiAgfSBlbHNlIHtcbiAgICAvLyBTZXJpYWxpemUgc2NhbGFyIGl0ZW0uXG4gICAgYWRkKCBwcmVmaXgsIG9iaiApO1xuICB9XG59XG5cbi8vIFNlcmlhbGl6ZSBhbiBhcnJheSBvZiBmb3JtIGVsZW1lbnRzIG9yIGEgc2V0IG9mXG4vLyBrZXkvdmFsdWVzIGludG8gYSBxdWVyeSBzdHJpbmdcbmpRdWVyeS5wYXJhbSA9IGZ1bmN0aW9uKCBhLCB0cmFkaXRpb25hbCApIHtcbiAgdmFyIHByZWZpeCxcbiAgICBzID0gW10sXG4gICAgYWRkID0gZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7XG4gICAgICAvLyBJZiB2YWx1ZSBpcyBhIGZ1bmN0aW9uLCBpbnZva2UgaXQgYW5kIHJldHVybiBpdHMgdmFsdWVcbiAgICAgIHZhbHVlID0galF1ZXJ5LmlzRnVuY3Rpb24oIHZhbHVlICkgPyB2YWx1ZSgpIDogKCB2YWx1ZSA9PSBudWxsID8gXCJcIiA6IHZhbHVlICk7XG4gICAgICBzWyBzLmxlbmd0aCBdID0gZW5jb2RlVVJJQ29tcG9uZW50KCBrZXkgKSArIFwiPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KCB2YWx1ZSApO1xuICAgIH07XG5cbiAgLy8gU2V0IHRyYWRpdGlvbmFsIHRvIHRydWUgZm9yIGpRdWVyeSA8PSAxLjMuMiBiZWhhdmlvci5cbiAgaWYgKCB0cmFkaXRpb25hbCA9PT0gdW5kZWZpbmVkICkge1xuICAgIHRyYWRpdGlvbmFsID0galF1ZXJ5LmFqYXhTZXR0aW5ncyAmJiBqUXVlcnkuYWpheFNldHRpbmdzLnRyYWRpdGlvbmFsO1xuICB9XG5cbiAgLy8gSWYgYW4gYXJyYXkgd2FzIHBhc3NlZCBpbiwgYXNzdW1lIHRoYXQgaXQgaXMgYW4gYXJyYXkgb2YgZm9ybSBlbGVtZW50cy5cbiAgaWYgKCBqUXVlcnkuaXNBcnJheSggYSApIHx8ICggYS5qcXVlcnkgJiYgIWpRdWVyeS5pc1BsYWluT2JqZWN0KCBhICkgKSApIHtcbiAgICAvLyBTZXJpYWxpemUgdGhlIGZvcm0gZWxlbWVudHNcbiAgICBqUXVlcnkuZWFjaCggYSwgZnVuY3Rpb24oKSB7XG4gICAgICBhZGQoIHRoaXMubmFtZSwgdGhpcy52YWx1ZSApO1xuICAgIH0pO1xuXG4gIH0gZWxzZSB7XG4gICAgLy8gSWYgdHJhZGl0aW9uYWwsIGVuY29kZSB0aGUgXCJvbGRcIiB3YXkgKHRoZSB3YXkgMS4zLjIgb3Igb2xkZXJcbiAgICAvLyBkaWQgaXQpLCBvdGhlcndpc2UgZW5jb2RlIHBhcmFtcyByZWN1cnNpdmVseS5cbiAgICBmb3IgKCBwcmVmaXggaW4gYSApIHtcbiAgICAgIGJ1aWxkUGFyYW1zKCBwcmVmaXgsIGFbIHByZWZpeCBdLCB0cmFkaXRpb25hbCwgYWRkICk7XG4gICAgfVxuICB9XG5cbiAgLy8gUmV0dXJuIHRoZSByZXN1bHRpbmcgc2VyaWFsaXphdGlvblxuICByZXR1cm4gcy5qb2luKCBcIiZcIiApLnJlcGxhY2UoIHIyMCwgXCIrXCIgKTtcbn07XG5cbmpRdWVyeS5mbi5leHRlbmQoe1xuICBzZXJpYWxpemU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBqUXVlcnkucGFyYW0oIHRoaXMuc2VyaWFsaXplQXJyYXkoKSApO1xuICB9LFxuICBzZXJpYWxpemVBcnJheTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCkge1xuICAgICAgLy8gQ2FuIGFkZCBwcm9wSG9vayBmb3IgXCJlbGVtZW50c1wiIHRvIGZpbHRlciBvciBhZGQgZm9ybSBlbGVtZW50c1xuICAgICAgdmFyIGVsZW1lbnRzID0galF1ZXJ5LnByb3AoIHRoaXMsIFwiZWxlbWVudHNcIiApO1xuICAgICAgcmV0dXJuIGVsZW1lbnRzID8galF1ZXJ5Lm1ha2VBcnJheSggZWxlbWVudHMgKSA6IHRoaXM7XG4gICAgfSlcbiAgICAuZmlsdGVyKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHR5cGUgPSB0aGlzLnR5cGU7XG4gICAgICAvLyBVc2UgLmlzKFwiOmRpc2FibGVkXCIpIHNvIHRoYXQgZmllbGRzZXRbZGlzYWJsZWRdIHdvcmtzXG4gICAgICByZXR1cm4gdGhpcy5uYW1lICYmICFqUXVlcnkoIHRoaXMgKS5pcyggXCI6ZGlzYWJsZWRcIiApICYmXG4gICAgICAgIHJzdWJtaXR0YWJsZS50ZXN0KCB0aGlzLm5vZGVOYW1lICkgJiYgIXJzdWJtaXR0ZXJUeXBlcy50ZXN0KCB0eXBlICkgJiZcbiAgICAgICAgKCB0aGlzLmNoZWNrZWQgfHwgIXJjaGVja2FibGVUeXBlLnRlc3QoIHR5cGUgKSApO1xuICAgIH0pXG4gICAgLm1hcChmdW5jdGlvbiggaSwgZWxlbSApIHtcbiAgICAgIHZhciB2YWwgPSBqUXVlcnkoIHRoaXMgKS52YWwoKTtcblxuICAgICAgcmV0dXJuIHZhbCA9PSBudWxsID9cbiAgICAgICAgbnVsbCA6XG4gICAgICAgIGpRdWVyeS5pc0FycmF5KCB2YWwgKSA/XG4gICAgICAgICAgalF1ZXJ5Lm1hcCggdmFsLCBmdW5jdGlvbiggdmFsICkge1xuICAgICAgICAgICAgcmV0dXJuIHsgbmFtZTogZWxlbS5uYW1lLCB2YWx1ZTogdmFsLnJlcGxhY2UoIHJDUkxGLCBcIlxcclxcblwiICkgfTtcbiAgICAgICAgICB9KSA6XG4gICAgICAgICAgeyBuYW1lOiBlbGVtLm5hbWUsIHZhbHVlOiB2YWwucmVwbGFjZSggckNSTEYsIFwiXFxyXFxuXCIgKSB9O1xuICAgIH0pLmdldCgpO1xuICB9XG59KTtcblxuXG4vLyBDcmVhdGUgdGhlIHJlcXVlc3Qgb2JqZWN0XG4vLyAoVGhpcyBpcyBzdGlsbCBhdHRhY2hlZCB0byBhamF4U2V0dGluZ3MgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkpXG5qUXVlcnkuYWpheFNldHRpbmdzLnhociA9IHdpbmRvdy5BY3RpdmVYT2JqZWN0ICE9PSB1bmRlZmluZWQgP1xuICAvLyBTdXBwb3J0OiBJRTYrXG4gIGZ1bmN0aW9uKCkge1xuXG4gICAgLy8gWEhSIGNhbm5vdCBhY2Nlc3MgbG9jYWwgZmlsZXMsIGFsd2F5cyB1c2UgQWN0aXZlWCBmb3IgdGhhdCBjYXNlXG4gICAgcmV0dXJuICF0aGlzLmlzTG9jYWwgJiZcblxuICAgICAgLy8gU3VwcG9ydDogSUU3LThcbiAgICAgIC8vIG9sZElFIFhIUiBkb2VzIG5vdCBzdXBwb3J0IG5vbi1SRkMyNjE2IG1ldGhvZHMgKCMxMzI0MClcbiAgICAgIC8vIFNlZSBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvaWUvbXM1MzY2NDgodj12cy44NSkuYXNweFxuICAgICAgLy8gYW5kIGh0dHA6Ly93d3cudzMub3JnL1Byb3RvY29scy9yZmMyNjE2L3JmYzI2MTYtc2VjOS5odG1sI3NlYzlcbiAgICAgIC8vIEFsdGhvdWdoIHRoaXMgY2hlY2sgZm9yIHNpeCBtZXRob2RzIGluc3RlYWQgb2YgZWlnaHRcbiAgICAgIC8vIHNpbmNlIElFIGFsc28gZG9lcyBub3Qgc3VwcG9ydCBcInRyYWNlXCIgYW5kIFwiY29ubmVjdFwiXG4gICAgICAvXihnZXR8cG9zdHxoZWFkfHB1dHxkZWxldGV8b3B0aW9ucykkL2kudGVzdCggdGhpcy50eXBlICkgJiZcblxuICAgICAgY3JlYXRlU3RhbmRhcmRYSFIoKSB8fCBjcmVhdGVBY3RpdmVYSFIoKTtcbiAgfSA6XG4gIC8vIEZvciBhbGwgb3RoZXIgYnJvd3NlcnMsIHVzZSB0aGUgc3RhbmRhcmQgWE1MSHR0cFJlcXVlc3Qgb2JqZWN0XG4gIGNyZWF0ZVN0YW5kYXJkWEhSO1xuXG52YXIgeGhySWQgPSAwLFxuICB4aHJDYWxsYmFja3MgPSB7fSxcbiAgeGhyU3VwcG9ydGVkID0galF1ZXJ5LmFqYXhTZXR0aW5ncy54aHIoKTtcblxuLy8gU3VwcG9ydDogSUU8MTBcbi8vIE9wZW4gcmVxdWVzdHMgbXVzdCBiZSBtYW51YWxseSBhYm9ydGVkIG9uIHVubG9hZCAoIzUyODApXG4vLyBTZWUgaHR0cHM6Ly9zdXBwb3J0Lm1pY3Jvc29mdC5jb20va2IvMjg1Njc0NiBmb3IgbW9yZSBpbmZvXG5pZiAoIHdpbmRvdy5hdHRhY2hFdmVudCApIHtcbiAgd2luZG93LmF0dGFjaEV2ZW50KCBcIm9udW5sb2FkXCIsIGZ1bmN0aW9uKCkge1xuICAgIGZvciAoIHZhciBrZXkgaW4geGhyQ2FsbGJhY2tzICkge1xuICAgICAgeGhyQ2FsbGJhY2tzWyBrZXkgXSggdW5kZWZpbmVkLCB0cnVlICk7XG4gICAgfVxuICB9KTtcbn1cblxuLy8gRGV0ZXJtaW5lIHN1cHBvcnQgcHJvcGVydGllc1xuc3VwcG9ydC5jb3JzID0gISF4aHJTdXBwb3J0ZWQgJiYgKCBcIndpdGhDcmVkZW50aWFsc1wiIGluIHhoclN1cHBvcnRlZCApO1xueGhyU3VwcG9ydGVkID0gc3VwcG9ydC5hamF4ID0gISF4aHJTdXBwb3J0ZWQ7XG5cbi8vIENyZWF0ZSB0cmFuc3BvcnQgaWYgdGhlIGJyb3dzZXIgY2FuIHByb3ZpZGUgYW4geGhyXG5pZiAoIHhoclN1cHBvcnRlZCApIHtcblxuICBqUXVlcnkuYWpheFRyYW5zcG9ydChmdW5jdGlvbiggb3B0aW9ucyApIHtcbiAgICAvLyBDcm9zcyBkb21haW4gb25seSBhbGxvd2VkIGlmIHN1cHBvcnRlZCB0aHJvdWdoIFhNTEh0dHBSZXF1ZXN0XG4gICAgaWYgKCAhb3B0aW9ucy5jcm9zc0RvbWFpbiB8fCBzdXBwb3J0LmNvcnMgKSB7XG5cbiAgICAgIHZhciBjYWxsYmFjaztcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc2VuZDogZnVuY3Rpb24oIGhlYWRlcnMsIGNvbXBsZXRlICkge1xuICAgICAgICAgIHZhciBpLFxuICAgICAgICAgICAgeGhyID0gb3B0aW9ucy54aHIoKSxcbiAgICAgICAgICAgIGlkID0gKyt4aHJJZDtcblxuICAgICAgICAgIC8vIE9wZW4gdGhlIHNvY2tldFxuICAgICAgICAgIHhoci5vcGVuKCBvcHRpb25zLnR5cGUsIG9wdGlvbnMudXJsLCBvcHRpb25zLmFzeW5jLCBvcHRpb25zLnVzZXJuYW1lLCBvcHRpb25zLnBhc3N3b3JkICk7XG5cbiAgICAgICAgICAvLyBBcHBseSBjdXN0b20gZmllbGRzIGlmIHByb3ZpZGVkXG4gICAgICAgICAgaWYgKCBvcHRpb25zLnhockZpZWxkcyApIHtcbiAgICAgICAgICAgIGZvciAoIGkgaW4gb3B0aW9ucy54aHJGaWVsZHMgKSB7XG4gICAgICAgICAgICAgIHhoclsgaSBdID0gb3B0aW9ucy54aHJGaWVsZHNbIGkgXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBPdmVycmlkZSBtaW1lIHR5cGUgaWYgbmVlZGVkXG4gICAgICAgICAgaWYgKCBvcHRpb25zLm1pbWVUeXBlICYmIHhoci5vdmVycmlkZU1pbWVUeXBlICkge1xuICAgICAgICAgICAgeGhyLm92ZXJyaWRlTWltZVR5cGUoIG9wdGlvbnMubWltZVR5cGUgKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBYLVJlcXVlc3RlZC1XaXRoIGhlYWRlclxuICAgICAgICAgIC8vIEZvciBjcm9zcy1kb21haW4gcmVxdWVzdHMsIHNlZWluZyBhcyBjb25kaXRpb25zIGZvciBhIHByZWZsaWdodCBhcmVcbiAgICAgICAgICAvLyBha2luIHRvIGEgamlnc2F3IHB1enpsZSwgd2Ugc2ltcGx5IG5ldmVyIHNldCBpdCB0byBiZSBzdXJlLlxuICAgICAgICAgIC8vIChpdCBjYW4gYWx3YXlzIGJlIHNldCBvbiBhIHBlci1yZXF1ZXN0IGJhc2lzIG9yIGV2ZW4gdXNpbmcgYWpheFNldHVwKVxuICAgICAgICAgIC8vIEZvciBzYW1lLWRvbWFpbiByZXF1ZXN0cywgd29uJ3QgY2hhbmdlIGhlYWRlciBpZiBhbHJlYWR5IHByb3ZpZGVkLlxuICAgICAgICAgIGlmICggIW9wdGlvbnMuY3Jvc3NEb21haW4gJiYgIWhlYWRlcnNbXCJYLVJlcXVlc3RlZC1XaXRoXCJdICkge1xuICAgICAgICAgICAgaGVhZGVyc1tcIlgtUmVxdWVzdGVkLVdpdGhcIl0gPSBcIlhNTEh0dHBSZXF1ZXN0XCI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gU2V0IGhlYWRlcnNcbiAgICAgICAgICBmb3IgKCBpIGluIGhlYWRlcnMgKSB7XG4gICAgICAgICAgICAvLyBTdXBwb3J0OiBJRTw5XG4gICAgICAgICAgICAvLyBJRSdzIEFjdGl2ZVhPYmplY3QgdGhyb3dzIGEgJ1R5cGUgTWlzbWF0Y2gnIGV4Y2VwdGlvbiB3aGVuIHNldHRpbmdcbiAgICAgICAgICAgIC8vIHJlcXVlc3QgaGVhZGVyIHRvIGEgbnVsbC12YWx1ZS5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBUbyBrZWVwIGNvbnNpc3RlbnQgd2l0aCBvdGhlciBYSFIgaW1wbGVtZW50YXRpb25zLCBjYXN0IHRoZSB2YWx1ZVxuICAgICAgICAgICAgLy8gdG8gc3RyaW5nIGFuZCBpZ25vcmUgYHVuZGVmaW5lZGAuXG4gICAgICAgICAgICBpZiAoIGhlYWRlcnNbIGkgXSAhPT0gdW5kZWZpbmVkICkge1xuICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlciggaSwgaGVhZGVyc1sgaSBdICsgXCJcIiApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIERvIHNlbmQgdGhlIHJlcXVlc3RcbiAgICAgICAgICAvLyBUaGlzIG1heSByYWlzZSBhbiBleGNlcHRpb24gd2hpY2ggaXMgYWN0dWFsbHlcbiAgICAgICAgICAvLyBoYW5kbGVkIGluIGpRdWVyeS5hamF4IChzbyBubyB0cnkvY2F0Y2ggaGVyZSlcbiAgICAgICAgICB4aHIuc2VuZCggKCBvcHRpb25zLmhhc0NvbnRlbnQgJiYgb3B0aW9ucy5kYXRhICkgfHwgbnVsbCApO1xuXG4gICAgICAgICAgLy8gTGlzdGVuZXJcbiAgICAgICAgICBjYWxsYmFjayA9IGZ1bmN0aW9uKCBfLCBpc0Fib3J0ICkge1xuICAgICAgICAgICAgdmFyIHN0YXR1cywgc3RhdHVzVGV4dCwgcmVzcG9uc2VzO1xuXG4gICAgICAgICAgICAvLyBXYXMgbmV2ZXIgY2FsbGVkIGFuZCBpcyBhYm9ydGVkIG9yIGNvbXBsZXRlXG4gICAgICAgICAgICBpZiAoIGNhbGxiYWNrICYmICggaXNBYm9ydCB8fCB4aHIucmVhZHlTdGF0ZSA9PT0gNCApICkge1xuICAgICAgICAgICAgICAvLyBDbGVhbiB1cFxuICAgICAgICAgICAgICBkZWxldGUgeGhyQ2FsbGJhY2tzWyBpZCBdO1xuICAgICAgICAgICAgICBjYWxsYmFjayA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGpRdWVyeS5ub29wO1xuXG4gICAgICAgICAgICAgIC8vIEFib3J0IG1hbnVhbGx5IGlmIG5lZWRlZFxuICAgICAgICAgICAgICBpZiAoIGlzQWJvcnQgKSB7XG4gICAgICAgICAgICAgICAgaWYgKCB4aHIucmVhZHlTdGF0ZSAhPT0gNCApIHtcbiAgICAgICAgICAgICAgICAgIHhoci5hYm9ydCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXNwb25zZXMgPSB7fTtcbiAgICAgICAgICAgICAgICBzdGF0dXMgPSB4aHIuc3RhdHVzO1xuXG4gICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUU8MTBcbiAgICAgICAgICAgICAgICAvLyBBY2Nlc3NpbmcgYmluYXJ5LWRhdGEgcmVzcG9uc2VUZXh0IHRocm93cyBhbiBleGNlcHRpb25cbiAgICAgICAgICAgICAgICAvLyAoIzExNDI2KVxuICAgICAgICAgICAgICAgIGlmICggdHlwZW9mIHhoci5yZXNwb25zZVRleHQgPT09IFwic3RyaW5nXCIgKSB7XG4gICAgICAgICAgICAgICAgICByZXNwb25zZXMudGV4dCA9IHhoci5yZXNwb25zZVRleHQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gRmlyZWZveCB0aHJvd3MgYW4gZXhjZXB0aW9uIHdoZW4gYWNjZXNzaW5nXG4gICAgICAgICAgICAgICAgLy8gc3RhdHVzVGV4dCBmb3IgZmF1bHR5IGNyb3NzLWRvbWFpbiByZXF1ZXN0c1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICBzdGF0dXNUZXh0ID0geGhyLnN0YXR1c1RleHQ7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCggZSApIHtcbiAgICAgICAgICAgICAgICAgIC8vIFdlIG5vcm1hbGl6ZSB3aXRoIFdlYmtpdCBnaXZpbmcgYW4gZW1wdHkgc3RhdHVzVGV4dFxuICAgICAgICAgICAgICAgICAgc3RhdHVzVGV4dCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gRmlsdGVyIHN0YXR1cyBmb3Igbm9uIHN0YW5kYXJkIGJlaGF2aW9yc1xuXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHJlcXVlc3QgaXMgbG9jYWwgYW5kIHdlIGhhdmUgZGF0YTogYXNzdW1lIGEgc3VjY2Vzc1xuICAgICAgICAgICAgICAgIC8vIChzdWNjZXNzIHdpdGggbm8gZGF0YSB3b24ndCBnZXQgbm90aWZpZWQsIHRoYXQncyB0aGUgYmVzdCB3ZVxuICAgICAgICAgICAgICAgIC8vIGNhbiBkbyBnaXZlbiBjdXJyZW50IGltcGxlbWVudGF0aW9ucylcbiAgICAgICAgICAgICAgICBpZiAoICFzdGF0dXMgJiYgb3B0aW9ucy5pc0xvY2FsICYmICFvcHRpb25zLmNyb3NzRG9tYWluICkge1xuICAgICAgICAgICAgICAgICAgc3RhdHVzID0gcmVzcG9uc2VzLnRleHQgPyAyMDAgOiA0MDQ7XG4gICAgICAgICAgICAgICAgLy8gSUUgLSAjMTQ1MDogc29tZXRpbWVzIHJldHVybnMgMTIyMyB3aGVuIGl0IHNob3VsZCBiZSAyMDRcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCBzdGF0dXMgPT09IDEyMjMgKSB7XG4gICAgICAgICAgICAgICAgICBzdGF0dXMgPSAyMDQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENhbGwgY29tcGxldGUgaWYgbmVlZGVkXG4gICAgICAgICAgICBpZiAoIHJlc3BvbnNlcyApIHtcbiAgICAgICAgICAgICAgY29tcGxldGUoIHN0YXR1cywgc3RhdHVzVGV4dCwgcmVzcG9uc2VzLCB4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgaWYgKCAhb3B0aW9ucy5hc3luYyApIHtcbiAgICAgICAgICAgIC8vIGlmIHdlJ3JlIGluIHN5bmMgbW9kZSB3ZSBmaXJlIHRoZSBjYWxsYmFja1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCB4aHIucmVhZHlTdGF0ZSA9PT0gNCApIHtcbiAgICAgICAgICAgIC8vIChJRTYgJiBJRTcpIGlmIGl0J3MgaW4gY2FjaGUgYW5kIGhhcyBiZWVuXG4gICAgICAgICAgICAvLyByZXRyaWV2ZWQgZGlyZWN0bHkgd2UgbmVlZCB0byBmaXJlIHRoZSBjYWxsYmFja1xuICAgICAgICAgICAgc2V0VGltZW91dCggY2FsbGJhY2sgKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gQWRkIHRvIHRoZSBsaXN0IG9mIGFjdGl2ZSB4aHIgY2FsbGJhY2tzXG4gICAgICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0geGhyQ2FsbGJhY2tzWyBpZCBdID0gY2FsbGJhY2s7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGFib3J0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAoIGNhbGxiYWNrICkge1xuICAgICAgICAgICAgY2FsbGJhY2soIHVuZGVmaW5lZCwgdHJ1ZSApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH0pO1xufVxuXG4vLyBGdW5jdGlvbnMgdG8gY3JlYXRlIHhocnNcbmZ1bmN0aW9uIGNyZWF0ZVN0YW5kYXJkWEhSKCkge1xuICB0cnkge1xuICAgIHJldHVybiBuZXcgd2luZG93LlhNTEh0dHBSZXF1ZXN0KCk7XG4gIH0gY2F0Y2goIGUgKSB7fVxufVxuXG5mdW5jdGlvbiBjcmVhdGVBY3RpdmVYSFIoKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIG5ldyB3aW5kb3cuQWN0aXZlWE9iamVjdCggXCJNaWNyb3NvZnQuWE1MSFRUUFwiICk7XG4gIH0gY2F0Y2goIGUgKSB7fVxufVxuXG5cblxuXG4vLyBJbnN0YWxsIHNjcmlwdCBkYXRhVHlwZVxualF1ZXJ5LmFqYXhTZXR1cCh7XG4gIGFjY2VwdHM6IHtcbiAgICBzY3JpcHQ6IFwidGV4dC9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9lY21hc2NyaXB0LCBhcHBsaWNhdGlvbi94LWVjbWFzY3JpcHRcIlxuICB9LFxuICBjb250ZW50czoge1xuICAgIHNjcmlwdDogLyg/OmphdmF8ZWNtYSlzY3JpcHQvXG4gIH0sXG4gIGNvbnZlcnRlcnM6IHtcbiAgICBcInRleHQgc2NyaXB0XCI6IGZ1bmN0aW9uKCB0ZXh0ICkge1xuICAgICAgalF1ZXJ5Lmdsb2JhbEV2YWwoIHRleHQgKTtcbiAgICAgIHJldHVybiB0ZXh0O1xuICAgIH1cbiAgfVxufSk7XG5cbi8vIEhhbmRsZSBjYWNoZSdzIHNwZWNpYWwgY2FzZSBhbmQgZ2xvYmFsXG5qUXVlcnkuYWpheFByZWZpbHRlciggXCJzY3JpcHRcIiwgZnVuY3Rpb24oIHMgKSB7XG4gIGlmICggcy5jYWNoZSA9PT0gdW5kZWZpbmVkICkge1xuICAgIHMuY2FjaGUgPSBmYWxzZTtcbiAgfVxuICBpZiAoIHMuY3Jvc3NEb21haW4gKSB7XG4gICAgcy50eXBlID0gXCJHRVRcIjtcbiAgICBzLmdsb2JhbCA9IGZhbHNlO1xuICB9XG59KTtcblxuLy8gQmluZCBzY3JpcHQgdGFnIGhhY2sgdHJhbnNwb3J0XG5qUXVlcnkuYWpheFRyYW5zcG9ydCggXCJzY3JpcHRcIiwgZnVuY3Rpb24ocykge1xuXG4gIC8vIFRoaXMgdHJhbnNwb3J0IG9ubHkgZGVhbHMgd2l0aCBjcm9zcyBkb21haW4gcmVxdWVzdHNcbiAgaWYgKCBzLmNyb3NzRG9tYWluICkge1xuXG4gICAgdmFyIHNjcmlwdCxcbiAgICAgIGhlYWQgPSBkb2N1bWVudC5oZWFkIHx8IGpRdWVyeShcImhlYWRcIilbMF0gfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXG4gICAgcmV0dXJuIHtcblxuICAgICAgc2VuZDogZnVuY3Rpb24oIF8sIGNhbGxiYWNrICkge1xuXG4gICAgICAgIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XG5cbiAgICAgICAgc2NyaXB0LmFzeW5jID0gdHJ1ZTtcblxuICAgICAgICBpZiAoIHMuc2NyaXB0Q2hhcnNldCApIHtcbiAgICAgICAgICBzY3JpcHQuY2hhcnNldCA9IHMuc2NyaXB0Q2hhcnNldDtcbiAgICAgICAgfVxuXG4gICAgICAgIHNjcmlwdC5zcmMgPSBzLnVybDtcblxuICAgICAgICAvLyBBdHRhY2ggaGFuZGxlcnMgZm9yIGFsbCBicm93c2Vyc1xuICAgICAgICBzY3JpcHQub25sb2FkID0gc2NyaXB0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCBfLCBpc0Fib3J0ICkge1xuXG4gICAgICAgICAgaWYgKCBpc0Fib3J0IHx8ICFzY3JpcHQucmVhZHlTdGF0ZSB8fCAvbG9hZGVkfGNvbXBsZXRlLy50ZXN0KCBzY3JpcHQucmVhZHlTdGF0ZSApICkge1xuXG4gICAgICAgICAgICAvLyBIYW5kbGUgbWVtb3J5IGxlYWsgaW4gSUVcbiAgICAgICAgICAgIHNjcmlwdC5vbmxvYWQgPSBzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcblxuICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSBzY3JpcHRcbiAgICAgICAgICAgIGlmICggc2NyaXB0LnBhcmVudE5vZGUgKSB7XG4gICAgICAgICAgICAgIHNjcmlwdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCBzY3JpcHQgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gRGVyZWZlcmVuY2UgdGhlIHNjcmlwdFxuICAgICAgICAgICAgc2NyaXB0ID0gbnVsbDtcblxuICAgICAgICAgICAgLy8gQ2FsbGJhY2sgaWYgbm90IGFib3J0XG4gICAgICAgICAgICBpZiAoICFpc0Fib3J0ICkge1xuICAgICAgICAgICAgICBjYWxsYmFjayggMjAwLCBcInN1Y2Nlc3NcIiApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBDaXJjdW12ZW50IElFNiBidWdzIHdpdGggYmFzZSBlbGVtZW50cyAoIzI3MDkgYW5kICM0Mzc4KSBieSBwcmVwZW5kaW5nXG4gICAgICAgIC8vIFVzZSBuYXRpdmUgRE9NIG1hbmlwdWxhdGlvbiB0byBhdm9pZCBvdXIgZG9tTWFuaXAgQUpBWCB0cmlja2VyeVxuICAgICAgICBoZWFkLmluc2VydEJlZm9yZSggc2NyaXB0LCBoZWFkLmZpcnN0Q2hpbGQgKTtcbiAgICAgIH0sXG5cbiAgICAgIGFib3J0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCBzY3JpcHQgKSB7XG4gICAgICAgICAgc2NyaXB0Lm9ubG9hZCggdW5kZWZpbmVkLCB0cnVlICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG59KTtcblxuXG5cblxudmFyIG9sZENhbGxiYWNrcyA9IFtdLFxuICByanNvbnAgPSAvKD0pXFw/KD89JnwkKXxcXD9cXD8vO1xuXG4vLyBEZWZhdWx0IGpzb25wIHNldHRpbmdzXG5qUXVlcnkuYWpheFNldHVwKHtcbiAganNvbnA6IFwiY2FsbGJhY2tcIixcbiAganNvbnBDYWxsYmFjazogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGNhbGxiYWNrID0gb2xkQ2FsbGJhY2tzLnBvcCgpIHx8ICggalF1ZXJ5LmV4cGFuZG8gKyBcIl9cIiArICggbm9uY2UrKyApICk7XG4gICAgdGhpc1sgY2FsbGJhY2sgXSA9IHRydWU7XG4gICAgcmV0dXJuIGNhbGxiYWNrO1xuICB9XG59KTtcblxuLy8gRGV0ZWN0LCBub3JtYWxpemUgb3B0aW9ucyBhbmQgaW5zdGFsbCBjYWxsYmFja3MgZm9yIGpzb25wIHJlcXVlc3RzXG5qUXVlcnkuYWpheFByZWZpbHRlciggXCJqc29uIGpzb25wXCIsIGZ1bmN0aW9uKCBzLCBvcmlnaW5hbFNldHRpbmdzLCBqcVhIUiApIHtcblxuICB2YXIgY2FsbGJhY2tOYW1lLCBvdmVyd3JpdHRlbiwgcmVzcG9uc2VDb250YWluZXIsXG4gICAganNvblByb3AgPSBzLmpzb25wICE9PSBmYWxzZSAmJiAoIHJqc29ucC50ZXN0KCBzLnVybCApID9cbiAgICAgIFwidXJsXCIgOlxuICAgICAgdHlwZW9mIHMuZGF0YSA9PT0gXCJzdHJpbmdcIiAmJiAhKCBzLmNvbnRlbnRUeXBlIHx8IFwiXCIgKS5pbmRleE9mKFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIpICYmIHJqc29ucC50ZXN0KCBzLmRhdGEgKSAmJiBcImRhdGFcIlxuICAgICk7XG5cbiAgLy8gSGFuZGxlIGlmZiB0aGUgZXhwZWN0ZWQgZGF0YSB0eXBlIGlzIFwianNvbnBcIiBvciB3ZSBoYXZlIGEgcGFyYW1ldGVyIHRvIHNldFxuICBpZiAoIGpzb25Qcm9wIHx8IHMuZGF0YVR5cGVzWyAwIF0gPT09IFwianNvbnBcIiApIHtcblxuICAgIC8vIEdldCBjYWxsYmFjayBuYW1lLCByZW1lbWJlcmluZyBwcmVleGlzdGluZyB2YWx1ZSBhc3NvY2lhdGVkIHdpdGggaXRcbiAgICBjYWxsYmFja05hbWUgPSBzLmpzb25wQ2FsbGJhY2sgPSBqUXVlcnkuaXNGdW5jdGlvbiggcy5qc29ucENhbGxiYWNrICkgP1xuICAgICAgcy5qc29ucENhbGxiYWNrKCkgOlxuICAgICAgcy5qc29ucENhbGxiYWNrO1xuXG4gICAgLy8gSW5zZXJ0IGNhbGxiYWNrIGludG8gdXJsIG9yIGZvcm0gZGF0YVxuICAgIGlmICgganNvblByb3AgKSB7XG4gICAgICBzWyBqc29uUHJvcCBdID0gc1sganNvblByb3AgXS5yZXBsYWNlKCByanNvbnAsIFwiJDFcIiArIGNhbGxiYWNrTmFtZSApO1xuICAgIH0gZWxzZSBpZiAoIHMuanNvbnAgIT09IGZhbHNlICkge1xuICAgICAgcy51cmwgKz0gKCBycXVlcnkudGVzdCggcy51cmwgKSA/IFwiJlwiIDogXCI/XCIgKSArIHMuanNvbnAgKyBcIj1cIiArIGNhbGxiYWNrTmFtZTtcbiAgICB9XG5cbiAgICAvLyBVc2UgZGF0YSBjb252ZXJ0ZXIgdG8gcmV0cmlldmUganNvbiBhZnRlciBzY3JpcHQgZXhlY3V0aW9uXG4gICAgcy5jb252ZXJ0ZXJzW1wic2NyaXB0IGpzb25cIl0gPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICggIXJlc3BvbnNlQ29udGFpbmVyICkge1xuICAgICAgICBqUXVlcnkuZXJyb3IoIGNhbGxiYWNrTmFtZSArIFwiIHdhcyBub3QgY2FsbGVkXCIgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXNwb25zZUNvbnRhaW5lclsgMCBdO1xuICAgIH07XG5cbiAgICAvLyBmb3JjZSBqc29uIGRhdGFUeXBlXG4gICAgcy5kYXRhVHlwZXNbIDAgXSA9IFwianNvblwiO1xuXG4gICAgLy8gSW5zdGFsbCBjYWxsYmFja1xuICAgIG92ZXJ3cml0dGVuID0gd2luZG93WyBjYWxsYmFja05hbWUgXTtcbiAgICB3aW5kb3dbIGNhbGxiYWNrTmFtZSBdID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXNwb25zZUNvbnRhaW5lciA9IGFyZ3VtZW50cztcbiAgICB9O1xuXG4gICAgLy8gQ2xlYW4tdXAgZnVuY3Rpb24gKGZpcmVzIGFmdGVyIGNvbnZlcnRlcnMpXG4gICAganFYSFIuYWx3YXlzKGZ1bmN0aW9uKCkge1xuICAgICAgLy8gUmVzdG9yZSBwcmVleGlzdGluZyB2YWx1ZVxuICAgICAgd2luZG93WyBjYWxsYmFja05hbWUgXSA9IG92ZXJ3cml0dGVuO1xuXG4gICAgICAvLyBTYXZlIGJhY2sgYXMgZnJlZVxuICAgICAgaWYgKCBzWyBjYWxsYmFja05hbWUgXSApIHtcbiAgICAgICAgLy8gbWFrZSBzdXJlIHRoYXQgcmUtdXNpbmcgdGhlIG9wdGlvbnMgZG9lc24ndCBzY3JldyB0aGluZ3MgYXJvdW5kXG4gICAgICAgIHMuanNvbnBDYWxsYmFjayA9IG9yaWdpbmFsU2V0dGluZ3MuanNvbnBDYWxsYmFjaztcblxuICAgICAgICAvLyBzYXZlIHRoZSBjYWxsYmFjayBuYW1lIGZvciBmdXR1cmUgdXNlXG4gICAgICAgIG9sZENhbGxiYWNrcy5wdXNoKCBjYWxsYmFja05hbWUgKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2FsbCBpZiBpdCB3YXMgYSBmdW5jdGlvbiBhbmQgd2UgaGF2ZSBhIHJlc3BvbnNlXG4gICAgICBpZiAoIHJlc3BvbnNlQ29udGFpbmVyICYmIGpRdWVyeS5pc0Z1bmN0aW9uKCBvdmVyd3JpdHRlbiApICkge1xuICAgICAgICBvdmVyd3JpdHRlbiggcmVzcG9uc2VDb250YWluZXJbIDAgXSApO1xuICAgICAgfVxuXG4gICAgICByZXNwb25zZUNvbnRhaW5lciA9IG92ZXJ3cml0dGVuID0gdW5kZWZpbmVkO1xuICAgIH0pO1xuXG4gICAgLy8gRGVsZWdhdGUgdG8gc2NyaXB0XG4gICAgcmV0dXJuIFwic2NyaXB0XCI7XG4gIH1cbn0pO1xuXG5cblxuXG4vLyBkYXRhOiBzdHJpbmcgb2YgaHRtbFxuLy8gY29udGV4dCAob3B0aW9uYWwpOiBJZiBzcGVjaWZpZWQsIHRoZSBmcmFnbWVudCB3aWxsIGJlIGNyZWF0ZWQgaW4gdGhpcyBjb250ZXh0LCBkZWZhdWx0cyB0byBkb2N1bWVudFxuLy8ga2VlcFNjcmlwdHMgKG9wdGlvbmFsKTogSWYgdHJ1ZSwgd2lsbCBpbmNsdWRlIHNjcmlwdHMgcGFzc2VkIGluIHRoZSBodG1sIHN0cmluZ1xualF1ZXJ5LnBhcnNlSFRNTCA9IGZ1bmN0aW9uKCBkYXRhLCBjb250ZXh0LCBrZWVwU2NyaXB0cyApIHtcbiAgaWYgKCAhZGF0YSB8fCB0eXBlb2YgZGF0YSAhPT0gXCJzdHJpbmdcIiApIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoIHR5cGVvZiBjb250ZXh0ID09PSBcImJvb2xlYW5cIiApIHtcbiAgICBrZWVwU2NyaXB0cyA9IGNvbnRleHQ7XG4gICAgY29udGV4dCA9IGZhbHNlO1xuICB9XG4gIGNvbnRleHQgPSBjb250ZXh0IHx8IGRvY3VtZW50O1xuXG4gIHZhciBwYXJzZWQgPSByc2luZ2xlVGFnLmV4ZWMoIGRhdGEgKSxcbiAgICBzY3JpcHRzID0gIWtlZXBTY3JpcHRzICYmIFtdO1xuXG4gIC8vIFNpbmdsZSB0YWdcbiAgaWYgKCBwYXJzZWQgKSB7XG4gICAgcmV0dXJuIFsgY29udGV4dC5jcmVhdGVFbGVtZW50KCBwYXJzZWRbMV0gKSBdO1xuICB9XG5cbiAgcGFyc2VkID0galF1ZXJ5LmJ1aWxkRnJhZ21lbnQoIFsgZGF0YSBdLCBjb250ZXh0LCBzY3JpcHRzICk7XG5cbiAgaWYgKCBzY3JpcHRzICYmIHNjcmlwdHMubGVuZ3RoICkge1xuICAgIGpRdWVyeSggc2NyaXB0cyApLnJlbW92ZSgpO1xuICB9XG5cbiAgcmV0dXJuIGpRdWVyeS5tZXJnZSggW10sIHBhcnNlZC5jaGlsZE5vZGVzICk7XG59O1xuXG5cbi8vIEtlZXAgYSBjb3B5IG9mIHRoZSBvbGQgbG9hZCBtZXRob2RcbnZhciBfbG9hZCA9IGpRdWVyeS5mbi5sb2FkO1xuXG4vKipcbiAqIExvYWQgYSB1cmwgaW50byBhIHBhZ2VcbiAqL1xualF1ZXJ5LmZuLmxvYWQgPSBmdW5jdGlvbiggdXJsLCBwYXJhbXMsIGNhbGxiYWNrICkge1xuICBpZiAoIHR5cGVvZiB1cmwgIT09IFwic3RyaW5nXCIgJiYgX2xvYWQgKSB7XG4gICAgcmV0dXJuIF9sb2FkLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcbiAgfVxuXG4gIHZhciBzZWxlY3RvciwgcmVzcG9uc2UsIHR5cGUsXG4gICAgc2VsZiA9IHRoaXMsXG4gICAgb2ZmID0gdXJsLmluZGV4T2YoXCIgXCIpO1xuXG4gIGlmICggb2ZmID49IDAgKSB7XG4gICAgc2VsZWN0b3IgPSBqUXVlcnkudHJpbSggdXJsLnNsaWNlKCBvZmYsIHVybC5sZW5ndGggKSApO1xuICAgIHVybCA9IHVybC5zbGljZSggMCwgb2ZmICk7XG4gIH1cblxuICAvLyBJZiBpdCdzIGEgZnVuY3Rpb25cbiAgaWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggcGFyYW1zICkgKSB7XG5cbiAgICAvLyBXZSBhc3N1bWUgdGhhdCBpdCdzIHRoZSBjYWxsYmFja1xuICAgIGNhbGxiYWNrID0gcGFyYW1zO1xuICAgIHBhcmFtcyA9IHVuZGVmaW5lZDtcblxuICAvLyBPdGhlcndpc2UsIGJ1aWxkIGEgcGFyYW0gc3RyaW5nXG4gIH0gZWxzZSBpZiAoIHBhcmFtcyAmJiB0eXBlb2YgcGFyYW1zID09PSBcIm9iamVjdFwiICkge1xuICAgIHR5cGUgPSBcIlBPU1RcIjtcbiAgfVxuXG4gIC8vIElmIHdlIGhhdmUgZWxlbWVudHMgdG8gbW9kaWZ5LCBtYWtlIHRoZSByZXF1ZXN0XG4gIGlmICggc2VsZi5sZW5ndGggPiAwICkge1xuICAgIGpRdWVyeS5hamF4KHtcbiAgICAgIHVybDogdXJsLFxuXG4gICAgICAvLyBpZiBcInR5cGVcIiB2YXJpYWJsZSBpcyB1bmRlZmluZWQsIHRoZW4gXCJHRVRcIiBtZXRob2Qgd2lsbCBiZSB1c2VkXG4gICAgICB0eXBlOiB0eXBlLFxuICAgICAgZGF0YVR5cGU6IFwiaHRtbFwiLFxuICAgICAgZGF0YTogcGFyYW1zXG4gICAgfSkuZG9uZShmdW5jdGlvbiggcmVzcG9uc2VUZXh0ICkge1xuXG4gICAgICAvLyBTYXZlIHJlc3BvbnNlIGZvciB1c2UgaW4gY29tcGxldGUgY2FsbGJhY2tcbiAgICAgIHJlc3BvbnNlID0gYXJndW1lbnRzO1xuXG4gICAgICBzZWxmLmh0bWwoIHNlbGVjdG9yID9cblxuICAgICAgICAvLyBJZiBhIHNlbGVjdG9yIHdhcyBzcGVjaWZpZWQsIGxvY2F0ZSB0aGUgcmlnaHQgZWxlbWVudHMgaW4gYSBkdW1teSBkaXZcbiAgICAgICAgLy8gRXhjbHVkZSBzY3JpcHRzIHRvIGF2b2lkIElFICdQZXJtaXNzaW9uIERlbmllZCcgZXJyb3JzXG4gICAgICAgIGpRdWVyeShcIjxkaXY+XCIpLmFwcGVuZCggalF1ZXJ5LnBhcnNlSFRNTCggcmVzcG9uc2VUZXh0ICkgKS5maW5kKCBzZWxlY3RvciApIDpcblxuICAgICAgICAvLyBPdGhlcndpc2UgdXNlIHRoZSBmdWxsIHJlc3VsdFxuICAgICAgICByZXNwb25zZVRleHQgKTtcblxuICAgIH0pLmNvbXBsZXRlKCBjYWxsYmFjayAmJiBmdW5jdGlvbigganFYSFIsIHN0YXR1cyApIHtcbiAgICAgIHNlbGYuZWFjaCggY2FsbGJhY2ssIHJlc3BvbnNlIHx8IFsganFYSFIucmVzcG9uc2VUZXh0LCBzdGF0dXMsIGpxWEhSIF0gKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuXG5cblxuLy8gQXR0YWNoIGEgYnVuY2ggb2YgZnVuY3Rpb25zIGZvciBoYW5kbGluZyBjb21tb24gQUpBWCBldmVudHNcbmpRdWVyeS5lYWNoKCBbIFwiYWpheFN0YXJ0XCIsIFwiYWpheFN0b3BcIiwgXCJhamF4Q29tcGxldGVcIiwgXCJhamF4RXJyb3JcIiwgXCJhamF4U3VjY2Vzc1wiLCBcImFqYXhTZW5kXCIgXSwgZnVuY3Rpb24oIGksIHR5cGUgKSB7XG4gIGpRdWVyeS5mblsgdHlwZSBdID0gZnVuY3Rpb24oIGZuICkge1xuICAgIHJldHVybiB0aGlzLm9uKCB0eXBlLCBmbiApO1xuICB9O1xufSk7XG5cblxuXG5cbmpRdWVyeS5leHByLmZpbHRlcnMuYW5pbWF0ZWQgPSBmdW5jdGlvbiggZWxlbSApIHtcbiAgcmV0dXJuIGpRdWVyeS5ncmVwKGpRdWVyeS50aW1lcnMsIGZ1bmN0aW9uKCBmbiApIHtcbiAgICByZXR1cm4gZWxlbSA9PT0gZm4uZWxlbTtcbiAgfSkubGVuZ3RoO1xufTtcblxuXG5cblxuXG52YXIgZG9jRWxlbSA9IHdpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cbi8qKlxuICogR2V0cyBhIHdpbmRvdyBmcm9tIGFuIGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gZ2V0V2luZG93KCBlbGVtICkge1xuICByZXR1cm4galF1ZXJ5LmlzV2luZG93KCBlbGVtICkgP1xuICAgIGVsZW0gOlxuICAgIGVsZW0ubm9kZVR5cGUgPT09IDkgP1xuICAgICAgZWxlbS5kZWZhdWx0VmlldyB8fCBlbGVtLnBhcmVudFdpbmRvdyA6XG4gICAgICBmYWxzZTtcbn1cblxualF1ZXJ5Lm9mZnNldCA9IHtcbiAgc2V0T2Zmc2V0OiBmdW5jdGlvbiggZWxlbSwgb3B0aW9ucywgaSApIHtcbiAgICB2YXIgY3VyUG9zaXRpb24sIGN1ckxlZnQsIGN1ckNTU1RvcCwgY3VyVG9wLCBjdXJPZmZzZXQsIGN1ckNTU0xlZnQsIGNhbGN1bGF0ZVBvc2l0aW9uLFxuICAgICAgcG9zaXRpb24gPSBqUXVlcnkuY3NzKCBlbGVtLCBcInBvc2l0aW9uXCIgKSxcbiAgICAgIGN1ckVsZW0gPSBqUXVlcnkoIGVsZW0gKSxcbiAgICAgIHByb3BzID0ge307XG5cbiAgICAvLyBzZXQgcG9zaXRpb24gZmlyc3QsIGluLWNhc2UgdG9wL2xlZnQgYXJlIHNldCBldmVuIG9uIHN0YXRpYyBlbGVtXG4gICAgaWYgKCBwb3NpdGlvbiA9PT0gXCJzdGF0aWNcIiApIHtcbiAgICAgIGVsZW0uc3R5bGUucG9zaXRpb24gPSBcInJlbGF0aXZlXCI7XG4gICAgfVxuXG4gICAgY3VyT2Zmc2V0ID0gY3VyRWxlbS5vZmZzZXQoKTtcbiAgICBjdXJDU1NUb3AgPSBqUXVlcnkuY3NzKCBlbGVtLCBcInRvcFwiICk7XG4gICAgY3VyQ1NTTGVmdCA9IGpRdWVyeS5jc3MoIGVsZW0sIFwibGVmdFwiICk7XG4gICAgY2FsY3VsYXRlUG9zaXRpb24gPSAoIHBvc2l0aW9uID09PSBcImFic29sdXRlXCIgfHwgcG9zaXRpb24gPT09IFwiZml4ZWRcIiApICYmXG4gICAgICBqUXVlcnkuaW5BcnJheShcImF1dG9cIiwgWyBjdXJDU1NUb3AsIGN1ckNTU0xlZnQgXSApID4gLTE7XG5cbiAgICAvLyBuZWVkIHRvIGJlIGFibGUgdG8gY2FsY3VsYXRlIHBvc2l0aW9uIGlmIGVpdGhlciB0b3Agb3IgbGVmdCBpcyBhdXRvIGFuZCBwb3NpdGlvbiBpcyBlaXRoZXIgYWJzb2x1dGUgb3IgZml4ZWRcbiAgICBpZiAoIGNhbGN1bGF0ZVBvc2l0aW9uICkge1xuICAgICAgY3VyUG9zaXRpb24gPSBjdXJFbGVtLnBvc2l0aW9uKCk7XG4gICAgICBjdXJUb3AgPSBjdXJQb3NpdGlvbi50b3A7XG4gICAgICBjdXJMZWZ0ID0gY3VyUG9zaXRpb24ubGVmdDtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VyVG9wID0gcGFyc2VGbG9hdCggY3VyQ1NTVG9wICkgfHwgMDtcbiAgICAgIGN1ckxlZnQgPSBwYXJzZUZsb2F0KCBjdXJDU1NMZWZ0ICkgfHwgMDtcbiAgICB9XG5cbiAgICBpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBvcHRpb25zICkgKSB7XG4gICAgICBvcHRpb25zID0gb3B0aW9ucy5jYWxsKCBlbGVtLCBpLCBjdXJPZmZzZXQgKTtcbiAgICB9XG5cbiAgICBpZiAoIG9wdGlvbnMudG9wICE9IG51bGwgKSB7XG4gICAgICBwcm9wcy50b3AgPSAoIG9wdGlvbnMudG9wIC0gY3VyT2Zmc2V0LnRvcCApICsgY3VyVG9wO1xuICAgIH1cbiAgICBpZiAoIG9wdGlvbnMubGVmdCAhPSBudWxsICkge1xuICAgICAgcHJvcHMubGVmdCA9ICggb3B0aW9ucy5sZWZ0IC0gY3VyT2Zmc2V0LmxlZnQgKSArIGN1ckxlZnQ7XG4gICAgfVxuXG4gICAgaWYgKCBcInVzaW5nXCIgaW4gb3B0aW9ucyApIHtcbiAgICAgIG9wdGlvbnMudXNpbmcuY2FsbCggZWxlbSwgcHJvcHMgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VyRWxlbS5jc3MoIHByb3BzICk7XG4gICAgfVxuICB9XG59O1xuXG5qUXVlcnkuZm4uZXh0ZW5kKHtcbiAgb2Zmc2V0OiBmdW5jdGlvbiggb3B0aW9ucyApIHtcbiAgICBpZiAoIGFyZ3VtZW50cy5sZW5ndGggKSB7XG4gICAgICByZXR1cm4gb3B0aW9ucyA9PT0gdW5kZWZpbmVkID9cbiAgICAgICAgdGhpcyA6XG4gICAgICAgIHRoaXMuZWFjaChmdW5jdGlvbiggaSApIHtcbiAgICAgICAgICBqUXVlcnkub2Zmc2V0LnNldE9mZnNldCggdGhpcywgb3B0aW9ucywgaSApO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB2YXIgZG9jRWxlbSwgd2luLFxuICAgICAgYm94ID0geyB0b3A6IDAsIGxlZnQ6IDAgfSxcbiAgICAgIGVsZW0gPSB0aGlzWyAwIF0sXG4gICAgICBkb2MgPSBlbGVtICYmIGVsZW0ub3duZXJEb2N1bWVudDtcblxuICAgIGlmICggIWRvYyApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBkb2NFbGVtID0gZG9jLmRvY3VtZW50RWxlbWVudDtcblxuICAgIC8vIE1ha2Ugc3VyZSBpdCdzIG5vdCBhIGRpc2Nvbm5lY3RlZCBET00gbm9kZVxuICAgIGlmICggIWpRdWVyeS5jb250YWlucyggZG9jRWxlbSwgZWxlbSApICkge1xuICAgICAgcmV0dXJuIGJveDtcbiAgICB9XG5cbiAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGdCQ1IsIGp1c3QgdXNlIDAsMCByYXRoZXIgdGhhbiBlcnJvclxuICAgIC8vIEJsYWNrQmVycnkgNSwgaU9TIDMgKG9yaWdpbmFsIGlQaG9uZSlcbiAgICBpZiAoIHR5cGVvZiBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCAhPT0gc3RydW5kZWZpbmVkICkge1xuICAgICAgYm94ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB9XG4gICAgd2luID0gZ2V0V2luZG93KCBkb2MgKTtcbiAgICByZXR1cm4ge1xuICAgICAgdG9wOiBib3gudG9wICArICggd2luLnBhZ2VZT2Zmc2V0IHx8IGRvY0VsZW0uc2Nyb2xsVG9wICkgIC0gKCBkb2NFbGVtLmNsaWVudFRvcCAgfHwgMCApLFxuICAgICAgbGVmdDogYm94LmxlZnQgKyAoIHdpbi5wYWdlWE9mZnNldCB8fCBkb2NFbGVtLnNjcm9sbExlZnQgKSAtICggZG9jRWxlbS5jbGllbnRMZWZ0IHx8IDAgKVxuICAgIH07XG4gIH0sXG5cbiAgcG9zaXRpb246IGZ1bmN0aW9uKCkge1xuICAgIGlmICggIXRoaXNbIDAgXSApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgb2Zmc2V0UGFyZW50LCBvZmZzZXQsXG4gICAgICBwYXJlbnRPZmZzZXQgPSB7IHRvcDogMCwgbGVmdDogMCB9LFxuICAgICAgZWxlbSA9IHRoaXNbIDAgXTtcblxuICAgIC8vIGZpeGVkIGVsZW1lbnRzIGFyZSBvZmZzZXQgZnJvbSB3aW5kb3cgKHBhcmVudE9mZnNldCA9IHt0b3A6MCwgbGVmdDogMH0sIGJlY2F1c2UgaXQgaXMgaXRzIG9ubHkgb2Zmc2V0IHBhcmVudFxuICAgIGlmICggalF1ZXJ5LmNzcyggZWxlbSwgXCJwb3NpdGlvblwiICkgPT09IFwiZml4ZWRcIiApIHtcbiAgICAgIC8vIHdlIGFzc3VtZSB0aGF0IGdldEJvdW5kaW5nQ2xpZW50UmVjdCBpcyBhdmFpbGFibGUgd2hlbiBjb21wdXRlZCBwb3NpdGlvbiBpcyBmaXhlZFxuICAgICAgb2Zmc2V0ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gR2V0ICpyZWFsKiBvZmZzZXRQYXJlbnRcbiAgICAgIG9mZnNldFBhcmVudCA9IHRoaXMub2Zmc2V0UGFyZW50KCk7XG5cbiAgICAgIC8vIEdldCBjb3JyZWN0IG9mZnNldHNcbiAgICAgIG9mZnNldCA9IHRoaXMub2Zmc2V0KCk7XG4gICAgICBpZiAoICFqUXVlcnkubm9kZU5hbWUoIG9mZnNldFBhcmVudFsgMCBdLCBcImh0bWxcIiApICkge1xuICAgICAgICBwYXJlbnRPZmZzZXQgPSBvZmZzZXRQYXJlbnQub2Zmc2V0KCk7XG4gICAgICB9XG5cbiAgICAgIC8vIEFkZCBvZmZzZXRQYXJlbnQgYm9yZGVyc1xuICAgICAgcGFyZW50T2Zmc2V0LnRvcCAgKz0galF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50WyAwIF0sIFwiYm9yZGVyVG9wV2lkdGhcIiwgdHJ1ZSApO1xuICAgICAgcGFyZW50T2Zmc2V0LmxlZnQgKz0galF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50WyAwIF0sIFwiYm9yZGVyTGVmdFdpZHRoXCIsIHRydWUgKTtcbiAgICB9XG5cbiAgICAvLyBTdWJ0cmFjdCBwYXJlbnQgb2Zmc2V0cyBhbmQgZWxlbWVudCBtYXJnaW5zXG4gICAgLy8gbm90ZTogd2hlbiBhbiBlbGVtZW50IGhhcyBtYXJnaW46IGF1dG8gdGhlIG9mZnNldExlZnQgYW5kIG1hcmdpbkxlZnRcbiAgICAvLyBhcmUgdGhlIHNhbWUgaW4gU2FmYXJpIGNhdXNpbmcgb2Zmc2V0LmxlZnQgdG8gaW5jb3JyZWN0bHkgYmUgMFxuICAgIHJldHVybiB7XG4gICAgICB0b3A6ICBvZmZzZXQudG9wICAtIHBhcmVudE9mZnNldC50b3AgLSBqUXVlcnkuY3NzKCBlbGVtLCBcIm1hcmdpblRvcFwiLCB0cnVlICksXG4gICAgICBsZWZ0OiBvZmZzZXQubGVmdCAtIHBhcmVudE9mZnNldC5sZWZ0IC0galF1ZXJ5LmNzcyggZWxlbSwgXCJtYXJnaW5MZWZ0XCIsIHRydWUpXG4gICAgfTtcbiAgfSxcblxuICBvZmZzZXRQYXJlbnQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbigpIHtcbiAgICAgIHZhciBvZmZzZXRQYXJlbnQgPSB0aGlzLm9mZnNldFBhcmVudCB8fCBkb2NFbGVtO1xuXG4gICAgICB3aGlsZSAoIG9mZnNldFBhcmVudCAmJiAoICFqUXVlcnkubm9kZU5hbWUoIG9mZnNldFBhcmVudCwgXCJodG1sXCIgKSAmJiBqUXVlcnkuY3NzKCBvZmZzZXRQYXJlbnQsIFwicG9zaXRpb25cIiApID09PSBcInN0YXRpY1wiICkgKSB7XG4gICAgICAgIG9mZnNldFBhcmVudCA9IG9mZnNldFBhcmVudC5vZmZzZXRQYXJlbnQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2Zmc2V0UGFyZW50IHx8IGRvY0VsZW07XG4gICAgfSk7XG4gIH1cbn0pO1xuXG4vLyBDcmVhdGUgc2Nyb2xsTGVmdCBhbmQgc2Nyb2xsVG9wIG1ldGhvZHNcbmpRdWVyeS5lYWNoKCB7IHNjcm9sbExlZnQ6IFwicGFnZVhPZmZzZXRcIiwgc2Nyb2xsVG9wOiBcInBhZ2VZT2Zmc2V0XCIgfSwgZnVuY3Rpb24oIG1ldGhvZCwgcHJvcCApIHtcbiAgdmFyIHRvcCA9IC9ZLy50ZXN0KCBwcm9wICk7XG5cbiAgalF1ZXJ5LmZuWyBtZXRob2QgXSA9IGZ1bmN0aW9uKCB2YWwgKSB7XG4gICAgcmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIGVsZW0sIG1ldGhvZCwgdmFsICkge1xuICAgICAgdmFyIHdpbiA9IGdldFdpbmRvdyggZWxlbSApO1xuXG4gICAgICBpZiAoIHZhbCA9PT0gdW5kZWZpbmVkICkge1xuICAgICAgICByZXR1cm4gd2luID8gKHByb3AgaW4gd2luKSA/IHdpblsgcHJvcCBdIDpcbiAgICAgICAgICB3aW4uZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyBtZXRob2QgXSA6XG4gICAgICAgICAgZWxlbVsgbWV0aG9kIF07XG4gICAgICB9XG5cbiAgICAgIGlmICggd2luICkge1xuICAgICAgICB3aW4uc2Nyb2xsVG8oXG4gICAgICAgICAgIXRvcCA/IHZhbCA6IGpRdWVyeSggd2luICkuc2Nyb2xsTGVmdCgpLFxuICAgICAgICAgIHRvcCA/IHZhbCA6IGpRdWVyeSggd2luICkuc2Nyb2xsVG9wKClcbiAgICAgICAgKTtcblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbVsgbWV0aG9kIF0gPSB2YWw7XG4gICAgICB9XG4gICAgfSwgbWV0aG9kLCB2YWwsIGFyZ3VtZW50cy5sZW5ndGgsIG51bGwgKTtcbiAgfTtcbn0pO1xuXG4vLyBBZGQgdGhlIHRvcC9sZWZ0IGNzc0hvb2tzIHVzaW5nIGpRdWVyeS5mbi5wb3NpdGlvblxuLy8gV2Via2l0IGJ1ZzogaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTI5MDg0XG4vLyBnZXRDb21wdXRlZFN0eWxlIHJldHVybnMgcGVyY2VudCB3aGVuIHNwZWNpZmllZCBmb3IgdG9wL2xlZnQvYm90dG9tL3JpZ2h0XG4vLyByYXRoZXIgdGhhbiBtYWtlIHRoZSBjc3MgbW9kdWxlIGRlcGVuZCBvbiB0aGUgb2Zmc2V0IG1vZHVsZSwgd2UganVzdCBjaGVjayBmb3IgaXQgaGVyZVxualF1ZXJ5LmVhY2goIFsgXCJ0b3BcIiwgXCJsZWZ0XCIgXSwgZnVuY3Rpb24oIGksIHByb3AgKSB7XG4gIGpRdWVyeS5jc3NIb29rc1sgcHJvcCBdID0gYWRkR2V0SG9va0lmKCBzdXBwb3J0LnBpeGVsUG9zaXRpb24sXG4gICAgZnVuY3Rpb24oIGVsZW0sIGNvbXB1dGVkICkge1xuICAgICAgaWYgKCBjb21wdXRlZCApIHtcbiAgICAgICAgY29tcHV0ZWQgPSBjdXJDU1MoIGVsZW0sIHByb3AgKTtcbiAgICAgICAgLy8gaWYgY3VyQ1NTIHJldHVybnMgcGVyY2VudGFnZSwgZmFsbGJhY2sgdG8gb2Zmc2V0XG4gICAgICAgIHJldHVybiBybnVtbm9ucHgudGVzdCggY29tcHV0ZWQgKSA/XG4gICAgICAgICAgalF1ZXJ5KCBlbGVtICkucG9zaXRpb24oKVsgcHJvcCBdICsgXCJweFwiIDpcbiAgICAgICAgICBjb21wdXRlZDtcbiAgICAgIH1cbiAgICB9XG4gICk7XG59KTtcblxuXG4vLyBDcmVhdGUgaW5uZXJIZWlnaHQsIGlubmVyV2lkdGgsIGhlaWdodCwgd2lkdGgsIG91dGVySGVpZ2h0IGFuZCBvdXRlcldpZHRoIG1ldGhvZHNcbmpRdWVyeS5lYWNoKCB7IEhlaWdodDogXCJoZWlnaHRcIiwgV2lkdGg6IFwid2lkdGhcIiB9LCBmdW5jdGlvbiggbmFtZSwgdHlwZSApIHtcbiAgalF1ZXJ5LmVhY2goIHsgcGFkZGluZzogXCJpbm5lclwiICsgbmFtZSwgY29udGVudDogdHlwZSwgXCJcIjogXCJvdXRlclwiICsgbmFtZSB9LCBmdW5jdGlvbiggZGVmYXVsdEV4dHJhLCBmdW5jTmFtZSApIHtcbiAgICAvLyBtYXJnaW4gaXMgb25seSBmb3Igb3V0ZXJIZWlnaHQsIG91dGVyV2lkdGhcbiAgICBqUXVlcnkuZm5bIGZ1bmNOYW1lIF0gPSBmdW5jdGlvbiggbWFyZ2luLCB2YWx1ZSApIHtcbiAgICAgIHZhciBjaGFpbmFibGUgPSBhcmd1bWVudHMubGVuZ3RoICYmICggZGVmYXVsdEV4dHJhIHx8IHR5cGVvZiBtYXJnaW4gIT09IFwiYm9vbGVhblwiICksXG4gICAgICAgIGV4dHJhID0gZGVmYXVsdEV4dHJhIHx8ICggbWFyZ2luID09PSB0cnVlIHx8IHZhbHVlID09PSB0cnVlID8gXCJtYXJnaW5cIiA6IFwiYm9yZGVyXCIgKTtcblxuICAgICAgcmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIGVsZW0sIHR5cGUsIHZhbHVlICkge1xuICAgICAgICB2YXIgZG9jO1xuXG4gICAgICAgIGlmICggalF1ZXJ5LmlzV2luZG93KCBlbGVtICkgKSB7XG4gICAgICAgICAgLy8gQXMgb2YgNS84LzIwMTIgdGhpcyB3aWxsIHlpZWxkIGluY29ycmVjdCByZXN1bHRzIGZvciBNb2JpbGUgU2FmYXJpLCBidXQgdGhlcmVcbiAgICAgICAgICAvLyBpc24ndCBhIHdob2xlIGxvdCB3ZSBjYW4gZG8uIFNlZSBwdWxsIHJlcXVlc3QgYXQgdGhpcyBVUkwgZm9yIGRpc2N1c3Npb246XG4gICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9qcXVlcnkvcHVsbC83NjRcbiAgICAgICAgICByZXR1cm4gZWxlbS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbIFwiY2xpZW50XCIgKyBuYW1lIF07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZXQgZG9jdW1lbnQgd2lkdGggb3IgaGVpZ2h0XG4gICAgICAgIGlmICggZWxlbS5ub2RlVHlwZSA9PT0gOSApIHtcbiAgICAgICAgICBkb2MgPSBlbGVtLmRvY3VtZW50RWxlbWVudDtcblxuICAgICAgICAgIC8vIEVpdGhlciBzY3JvbGxbV2lkdGgvSGVpZ2h0XSBvciBvZmZzZXRbV2lkdGgvSGVpZ2h0XSBvciBjbGllbnRbV2lkdGgvSGVpZ2h0XSwgd2hpY2hldmVyIGlzIGdyZWF0ZXN0XG4gICAgICAgICAgLy8gdW5mb3J0dW5hdGVseSwgdGhpcyBjYXVzZXMgYnVnICMzODM4IGluIElFNi84IG9ubHksIGJ1dCB0aGVyZSBpcyBjdXJyZW50bHkgbm8gZ29vZCwgc21hbGwgd2F5IHRvIGZpeCBpdC5cbiAgICAgICAgICByZXR1cm4gTWF0aC5tYXgoXG4gICAgICAgICAgICBlbGVtLmJvZHlbIFwic2Nyb2xsXCIgKyBuYW1lIF0sIGRvY1sgXCJzY3JvbGxcIiArIG5hbWUgXSxcbiAgICAgICAgICAgIGVsZW0uYm9keVsgXCJvZmZzZXRcIiArIG5hbWUgXSwgZG9jWyBcIm9mZnNldFwiICsgbmFtZSBdLFxuICAgICAgICAgICAgZG9jWyBcImNsaWVudFwiICsgbmFtZSBdXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID9cbiAgICAgICAgICAvLyBHZXQgd2lkdGggb3IgaGVpZ2h0IG9uIHRoZSBlbGVtZW50LCByZXF1ZXN0aW5nIGJ1dCBub3QgZm9yY2luZyBwYXJzZUZsb2F0XG4gICAgICAgICAgalF1ZXJ5LmNzcyggZWxlbSwgdHlwZSwgZXh0cmEgKSA6XG5cbiAgICAgICAgICAvLyBTZXQgd2lkdGggb3IgaGVpZ2h0IG9uIHRoZSBlbGVtZW50XG4gICAgICAgICAgalF1ZXJ5LnN0eWxlKCBlbGVtLCB0eXBlLCB2YWx1ZSwgZXh0cmEgKTtcbiAgICAgIH0sIHR5cGUsIGNoYWluYWJsZSA/IG1hcmdpbiA6IHVuZGVmaW5lZCwgY2hhaW5hYmxlLCBudWxsICk7XG4gICAgfTtcbiAgfSk7XG59KTtcblxuXG4vLyBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIGNvbnRhaW5lZCBpbiB0aGUgbWF0Y2hlZCBlbGVtZW50IHNldFxualF1ZXJ5LmZuLnNpemUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMubGVuZ3RoO1xufTtcblxualF1ZXJ5LmZuLmFuZFNlbGYgPSBqUXVlcnkuZm4uYWRkQmFjaztcblxuXG5cblxuLy8gUmVnaXN0ZXIgYXMgYSBuYW1lZCBBTUQgbW9kdWxlLCBzaW5jZSBqUXVlcnkgY2FuIGJlIGNvbmNhdGVuYXRlZCB3aXRoIG90aGVyXG4vLyBmaWxlcyB0aGF0IG1heSB1c2UgZGVmaW5lLCBidXQgbm90IHZpYSBhIHByb3BlciBjb25jYXRlbmF0aW9uIHNjcmlwdCB0aGF0XG4vLyB1bmRlcnN0YW5kcyBhbm9ueW1vdXMgQU1EIG1vZHVsZXMuIEEgbmFtZWQgQU1EIGlzIHNhZmVzdCBhbmQgbW9zdCByb2J1c3Rcbi8vIHdheSB0byByZWdpc3Rlci4gTG93ZXJjYXNlIGpxdWVyeSBpcyB1c2VkIGJlY2F1c2UgQU1EIG1vZHVsZSBuYW1lcyBhcmVcbi8vIGRlcml2ZWQgZnJvbSBmaWxlIG5hbWVzLCBhbmQgalF1ZXJ5IGlzIG5vcm1hbGx5IGRlbGl2ZXJlZCBpbiBhIGxvd2VyY2FzZVxuLy8gZmlsZSBuYW1lLiBEbyB0aGlzIGFmdGVyIGNyZWF0aW5nIHRoZSBnbG9iYWwgc28gdGhhdCBpZiBhbiBBTUQgbW9kdWxlIHdhbnRzXG4vLyB0byBjYWxsIG5vQ29uZmxpY3QgdG8gaGlkZSB0aGlzIHZlcnNpb24gb2YgalF1ZXJ5LCBpdCB3aWxsIHdvcmsuXG5cbi8vIE5vdGUgdGhhdCBmb3IgbWF4aW11bSBwb3J0YWJpbGl0eSwgbGlicmFyaWVzIHRoYXQgYXJlIG5vdCBqUXVlcnkgc2hvdWxkXG4vLyBkZWNsYXJlIHRoZW1zZWx2ZXMgYXMgYW5vbnltb3VzIG1vZHVsZXMsIGFuZCBhdm9pZCBzZXR0aW5nIGEgZ2xvYmFsIGlmIGFuXG4vLyBBTUQgbG9hZGVyIGlzIHByZXNlbnQuIGpRdWVyeSBpcyBhIHNwZWNpYWwgY2FzZS4gRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZVxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2pyYnVya2UvcmVxdWlyZWpzL3dpa2kvVXBkYXRpbmctZXhpc3RpbmctbGlicmFyaWVzI3dpa2ktYW5vblxuXG5pZiAoIHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kICkge1xuICBkZWZpbmUoIFwianF1ZXJ5XCIsIFtdLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4galF1ZXJ5O1xuICB9KTtcbn1cblxuXG5cblxudmFyXG4gIC8vIE1hcCBvdmVyIGpRdWVyeSBpbiBjYXNlIG9mIG92ZXJ3cml0ZVxuICBfalF1ZXJ5ID0gd2luZG93LmpRdWVyeSxcblxuICAvLyBNYXAgb3ZlciB0aGUgJCBpbiBjYXNlIG9mIG92ZXJ3cml0ZVxuICBfJCA9IHdpbmRvdy4kO1xuXG5qUXVlcnkubm9Db25mbGljdCA9IGZ1bmN0aW9uKCBkZWVwICkge1xuICBpZiAoIHdpbmRvdy4kID09PSBqUXVlcnkgKSB7XG4gICAgd2luZG93LiQgPSBfJDtcbiAgfVxuXG4gIGlmICggZGVlcCAmJiB3aW5kb3cualF1ZXJ5ID09PSBqUXVlcnkgKSB7XG4gICAgd2luZG93LmpRdWVyeSA9IF9qUXVlcnk7XG4gIH1cblxuICByZXR1cm4galF1ZXJ5O1xufTtcblxuLy8gRXhwb3NlIGpRdWVyeSBhbmQgJCBpZGVudGlmaWVycywgZXZlbiBpblxuLy8gQU1EICgjNzEwMiNjb21tZW50OjEwLCBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L2pxdWVyeS9wdWxsLzU1Nylcbi8vIGFuZCBDb21tb25KUyBmb3IgYnJvd3NlciBlbXVsYXRvcnMgKCMxMzU2NilcbmlmICggdHlwZW9mIG5vR2xvYmFsID09PSBzdHJ1bmRlZmluZWQgKSB7XG4gIHdpbmRvdy5qUXVlcnkgPSB3aW5kb3cuJCA9IGpRdWVyeTtcbn1cblxuXG5cblxucmV0dXJuIGpRdWVyeTtcblxufSkpO1xuIiwiLy8gICAgIFVuZGVyc2NvcmUuanMgMS44LjNcbi8vICAgICBodHRwOi8vdW5kZXJzY29yZWpzLm9yZ1xuLy8gICAgIChjKSAyMDA5LTIwMTUgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbi8vICAgICBVbmRlcnNjb3JlIG1heSBiZSBmcmVlbHkgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuXG4oZnVuY3Rpb24oKSB7XG5cbiAgLy8gQmFzZWxpbmUgc2V0dXBcbiAgLy8gLS0tLS0tLS0tLS0tLS1cblxuICAvLyBFc3RhYmxpc2ggdGhlIHJvb3Qgb2JqZWN0LCBgd2luZG93YCBpbiB0aGUgYnJvd3Nlciwgb3IgYGV4cG9ydHNgIG9uIHRoZSBzZXJ2ZXIuXG4gIHZhciByb290ID0gdGhpcztcblxuICAvLyBTYXZlIHRoZSBwcmV2aW91cyB2YWx1ZSBvZiB0aGUgYF9gIHZhcmlhYmxlLlxuICB2YXIgcHJldmlvdXNVbmRlcnNjb3JlID0gcm9vdC5fO1xuXG4gIC8vIFNhdmUgYnl0ZXMgaW4gdGhlIG1pbmlmaWVkIChidXQgbm90IGd6aXBwZWQpIHZlcnNpb246XG4gIHZhciBBcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlLCBPYmpQcm90byA9IE9iamVjdC5wcm90b3R5cGUsIEZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZTtcblxuICAvLyBDcmVhdGUgcXVpY2sgcmVmZXJlbmNlIHZhcmlhYmxlcyBmb3Igc3BlZWQgYWNjZXNzIHRvIGNvcmUgcHJvdG90eXBlcy5cbiAgdmFyXG4gICAgcHVzaCAgICAgICAgICAgICA9IEFycmF5UHJvdG8ucHVzaCxcbiAgICBzbGljZSAgICAgICAgICAgID0gQXJyYXlQcm90by5zbGljZSxcbiAgICB0b1N0cmluZyAgICAgICAgID0gT2JqUHJvdG8udG9TdHJpbmcsXG4gICAgaGFzT3duUHJvcGVydHkgICA9IE9ialByb3RvLmhhc093blByb3BlcnR5O1xuXG4gIC8vIEFsbCAqKkVDTUFTY3JpcHQgNSoqIG5hdGl2ZSBmdW5jdGlvbiBpbXBsZW1lbnRhdGlvbnMgdGhhdCB3ZSBob3BlIHRvIHVzZVxuICAvLyBhcmUgZGVjbGFyZWQgaGVyZS5cbiAgdmFyXG4gICAgbmF0aXZlSXNBcnJheSAgICAgID0gQXJyYXkuaXNBcnJheSxcbiAgICBuYXRpdmVLZXlzICAgICAgICAgPSBPYmplY3Qua2V5cyxcbiAgICBuYXRpdmVCaW5kICAgICAgICAgPSBGdW5jUHJvdG8uYmluZCxcbiAgICBuYXRpdmVDcmVhdGUgICAgICAgPSBPYmplY3QuY3JlYXRlO1xuXG4gIC8vIE5ha2VkIGZ1bmN0aW9uIHJlZmVyZW5jZSBmb3Igc3Vycm9nYXRlLXByb3RvdHlwZS1zd2FwcGluZy5cbiAgdmFyIEN0b3IgPSBmdW5jdGlvbigpe307XG5cbiAgLy8gQ3JlYXRlIGEgc2FmZSByZWZlcmVuY2UgdG8gdGhlIFVuZGVyc2NvcmUgb2JqZWN0IGZvciB1c2UgYmVsb3cuXG4gIHZhciBfID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKG9iaiBpbnN0YW5jZW9mIF8pIHJldHVybiBvYmo7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIF8pKSByZXR1cm4gbmV3IF8ob2JqKTtcbiAgICB0aGlzLl93cmFwcGVkID0gb2JqO1xuICB9O1xuXG4gIC8vIEV4cG9ydCB0aGUgVW5kZXJzY29yZSBvYmplY3QgZm9yICoqTm9kZS5qcyoqLCB3aXRoXG4gIC8vIGJhY2t3YXJkcy1jb21wYXRpYmlsaXR5IGZvciB0aGUgb2xkIGByZXF1aXJlKClgIEFQSS4gSWYgd2UncmUgaW5cbiAgLy8gdGhlIGJyb3dzZXIsIGFkZCBgX2AgYXMgYSBnbG9iYWwgb2JqZWN0LlxuICBpZiAodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfO1xuICAgIH1cbiAgICBleHBvcnRzLl8gPSBfO1xuICB9IGVsc2Uge1xuICAgIHJvb3QuXyA9IF87XG4gIH1cblxuICAvLyBDdXJyZW50IHZlcnNpb24uXG4gIF8uVkVSU0lPTiA9ICcxLjguMyc7XG5cbiAgLy8gSW50ZXJuYWwgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIGVmZmljaWVudCAoZm9yIGN1cnJlbnQgZW5naW5lcykgdmVyc2lvblxuICAvLyBvZiB0aGUgcGFzc2VkLWluIGNhbGxiYWNrLCB0byBiZSByZXBlYXRlZGx5IGFwcGxpZWQgaW4gb3RoZXIgVW5kZXJzY29yZVxuICAvLyBmdW5jdGlvbnMuXG4gIHZhciBvcHRpbWl6ZUNiID0gZnVuY3Rpb24oZnVuYywgY29udGV4dCwgYXJnQ291bnQpIHtcbiAgICBpZiAoY29udGV4dCA9PT0gdm9pZCAwKSByZXR1cm4gZnVuYztcbiAgICBzd2l0Y2ggKGFyZ0NvdW50ID09IG51bGwgPyAzIDogYXJnQ291bnQpIHtcbiAgICAgIGNhc2UgMTogcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBmdW5jLmNhbGwoY29udGV4dCwgdmFsdWUpO1xuICAgICAgfTtcbiAgICAgIGNhc2UgMjogcmV0dXJuIGZ1bmN0aW9uKHZhbHVlLCBvdGhlcikge1xuICAgICAgICByZXR1cm4gZnVuYy5jYWxsKGNvbnRleHQsIHZhbHVlLCBvdGhlcik7XG4gICAgICB9O1xuICAgICAgY2FzZSAzOiByZXR1cm4gZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBmdW5jLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgIH07XG4gICAgICBjYXNlIDQ6IHJldHVybiBmdW5jdGlvbihhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBmdW5jLmNhbGwoY29udGV4dCwgYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZnVuYy5hcHBseShjb250ZXh0LCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH07XG5cbiAgLy8gQSBtb3N0bHktaW50ZXJuYWwgZnVuY3Rpb24gdG8gZ2VuZXJhdGUgY2FsbGJhY2tzIHRoYXQgY2FuIGJlIGFwcGxpZWRcbiAgLy8gdG8gZWFjaCBlbGVtZW50IGluIGEgY29sbGVjdGlvbiwgcmV0dXJuaW5nIHRoZSBkZXNpcmVkIHJlc3VsdCDigJQgZWl0aGVyXG4gIC8vIGlkZW50aXR5LCBhbiBhcmJpdHJhcnkgY2FsbGJhY2ssIGEgcHJvcGVydHkgbWF0Y2hlciwgb3IgYSBwcm9wZXJ0eSBhY2Nlc3Nvci5cbiAgdmFyIGNiID0gZnVuY3Rpb24odmFsdWUsIGNvbnRleHQsIGFyZ0NvdW50KSB7XG4gICAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiBfLmlkZW50aXR5O1xuICAgIGlmIChfLmlzRnVuY3Rpb24odmFsdWUpKSByZXR1cm4gb3B0aW1pemVDYih2YWx1ZSwgY29udGV4dCwgYXJnQ291bnQpO1xuICAgIGlmIChfLmlzT2JqZWN0KHZhbHVlKSkgcmV0dXJuIF8ubWF0Y2hlcih2YWx1ZSk7XG4gICAgcmV0dXJuIF8ucHJvcGVydHkodmFsdWUpO1xuICB9O1xuICBfLml0ZXJhdGVlID0gZnVuY3Rpb24odmFsdWUsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gY2IodmFsdWUsIGNvbnRleHQsIEluZmluaXR5KTtcbiAgfTtcblxuICAvLyBBbiBpbnRlcm5hbCBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgYXNzaWduZXIgZnVuY3Rpb25zLlxuICB2YXIgY3JlYXRlQXNzaWduZXIgPSBmdW5jdGlvbihrZXlzRnVuYywgdW5kZWZpbmVkT25seSkge1xuICAgIHJldHVybiBmdW5jdGlvbihvYmopIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCA8IDIgfHwgb2JqID09IG51bGwpIHJldHVybiBvYmo7XG4gICAgICBmb3IgKHZhciBpbmRleCA9IDE7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaW5kZXhdLFxuICAgICAgICAgICAga2V5cyA9IGtleXNGdW5jKHNvdXJjZSksXG4gICAgICAgICAgICBsID0ga2V5cy5sZW5ndGg7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICAgICAgaWYgKCF1bmRlZmluZWRPbmx5IHx8IG9ialtrZXldID09PSB2b2lkIDApIG9ialtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcbiAgfTtcblxuICAvLyBBbiBpbnRlcm5hbCBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgYSBuZXcgb2JqZWN0IHRoYXQgaW5oZXJpdHMgZnJvbSBhbm90aGVyLlxuICB2YXIgYmFzZUNyZWF0ZSA9IGZ1bmN0aW9uKHByb3RvdHlwZSkge1xuICAgIGlmICghXy5pc09iamVjdChwcm90b3R5cGUpKSByZXR1cm4ge307XG4gICAgaWYgKG5hdGl2ZUNyZWF0ZSkgcmV0dXJuIG5hdGl2ZUNyZWF0ZShwcm90b3R5cGUpO1xuICAgIEN0b3IucHJvdG90eXBlID0gcHJvdG90eXBlO1xuICAgIHZhciByZXN1bHQgPSBuZXcgQ3RvcjtcbiAgICBDdG9yLnByb3RvdHlwZSA9IG51bGw7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICB2YXIgcHJvcGVydHkgPSBmdW5jdGlvbihrZXkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gb2JqID09IG51bGwgPyB2b2lkIDAgOiBvYmpba2V5XTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIEhlbHBlciBmb3IgY29sbGVjdGlvbiBtZXRob2RzIHRvIGRldGVybWluZSB3aGV0aGVyIGEgY29sbGVjdGlvblxuICAvLyBzaG91bGQgYmUgaXRlcmF0ZWQgYXMgYW4gYXJyYXkgb3IgYXMgYW4gb2JqZWN0XG4gIC8vIFJlbGF0ZWQ6IGh0dHA6Ly9wZW9wbGUubW96aWxsYS5vcmcvfmpvcmVuZG9yZmYvZXM2LWRyYWZ0Lmh0bWwjc2VjLXRvbGVuZ3RoXG4gIC8vIEF2b2lkcyBhIHZlcnkgbmFzdHkgaU9TIDggSklUIGJ1ZyBvbiBBUk0tNjQuICMyMDk0XG4gIHZhciBNQVhfQVJSQVlfSU5ERVggPSBNYXRoLnBvdygyLCA1MykgLSAxO1xuICB2YXIgZ2V0TGVuZ3RoID0gcHJvcGVydHkoJ2xlbmd0aCcpO1xuICB2YXIgaXNBcnJheUxpa2UgPSBmdW5jdGlvbihjb2xsZWN0aW9uKSB7XG4gICAgdmFyIGxlbmd0aCA9IGdldExlbmd0aChjb2xsZWN0aW9uKTtcbiAgICByZXR1cm4gdHlwZW9mIGxlbmd0aCA9PSAnbnVtYmVyJyAmJiBsZW5ndGggPj0gMCAmJiBsZW5ndGggPD0gTUFYX0FSUkFZX0lOREVYO1xuICB9O1xuXG4gIC8vIENvbGxlY3Rpb24gRnVuY3Rpb25zXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gVGhlIGNvcm5lcnN0b25lLCBhbiBgZWFjaGAgaW1wbGVtZW50YXRpb24sIGFrYSBgZm9yRWFjaGAuXG4gIC8vIEhhbmRsZXMgcmF3IG9iamVjdHMgaW4gYWRkaXRpb24gdG8gYXJyYXktbGlrZXMuIFRyZWF0cyBhbGxcbiAgLy8gc3BhcnNlIGFycmF5LWxpa2VzIGFzIGlmIHRoZXkgd2VyZSBkZW5zZS5cbiAgXy5lYWNoID0gXy5mb3JFYWNoID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIGl0ZXJhdGVlID0gb3B0aW1pemVDYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgdmFyIGksIGxlbmd0aDtcbiAgICBpZiAoaXNBcnJheUxpa2Uob2JqKSkge1xuICAgICAgZm9yIChpID0gMCwgbGVuZ3RoID0gb2JqLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGl0ZXJhdGVlKG9ialtpXSwgaSwgb2JqKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGtleXMgPSBfLmtleXMob2JqKTtcbiAgICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IGtleXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaXRlcmF0ZWUob2JqW2tleXNbaV1dLCBrZXlzW2ldLCBvYmopO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2JqO1xuICB9O1xuXG4gIC8vIFJldHVybiB0aGUgcmVzdWx0cyBvZiBhcHBseWluZyB0aGUgaXRlcmF0ZWUgdG8gZWFjaCBlbGVtZW50LlxuICBfLm1hcCA9IF8uY29sbGVjdCA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICBpdGVyYXRlZSA9IGNiKGl0ZXJhdGVlLCBjb250ZXh0KTtcbiAgICB2YXIga2V5cyA9ICFpc0FycmF5TGlrZShvYmopICYmIF8ua2V5cyhvYmopLFxuICAgICAgICBsZW5ndGggPSAoa2V5cyB8fCBvYmopLmxlbmd0aCxcbiAgICAgICAgcmVzdWx0cyA9IEFycmF5KGxlbmd0aCk7XG4gICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgdmFyIGN1cnJlbnRLZXkgPSBrZXlzID8ga2V5c1tpbmRleF0gOiBpbmRleDtcbiAgICAgIHJlc3VsdHNbaW5kZXhdID0gaXRlcmF0ZWUob2JqW2N1cnJlbnRLZXldLCBjdXJyZW50S2V5LCBvYmopO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfTtcblxuICAvLyBDcmVhdGUgYSByZWR1Y2luZyBmdW5jdGlvbiBpdGVyYXRpbmcgbGVmdCBvciByaWdodC5cbiAgZnVuY3Rpb24gY3JlYXRlUmVkdWNlKGRpcikge1xuICAgIC8vIE9wdGltaXplZCBpdGVyYXRvciBmdW5jdGlvbiBhcyB1c2luZyBhcmd1bWVudHMubGVuZ3RoXG4gICAgLy8gaW4gdGhlIG1haW4gZnVuY3Rpb24gd2lsbCBkZW9wdGltaXplIHRoZSwgc2VlICMxOTkxLlxuICAgIGZ1bmN0aW9uIGl0ZXJhdG9yKG9iaiwgaXRlcmF0ZWUsIG1lbW8sIGtleXMsIGluZGV4LCBsZW5ndGgpIHtcbiAgICAgIGZvciAoOyBpbmRleCA+PSAwICYmIGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSBkaXIpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRLZXkgPSBrZXlzID8ga2V5c1tpbmRleF0gOiBpbmRleDtcbiAgICAgICAgbWVtbyA9IGl0ZXJhdGVlKG1lbW8sIG9ialtjdXJyZW50S2V5XSwgY3VycmVudEtleSwgb2JqKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtZW1vO1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBtZW1vLCBjb250ZXh0KSB7XG4gICAgICBpdGVyYXRlZSA9IG9wdGltaXplQ2IoaXRlcmF0ZWUsIGNvbnRleHQsIDQpO1xuICAgICAgdmFyIGtleXMgPSAhaXNBcnJheUxpa2Uob2JqKSAmJiBfLmtleXMob2JqKSxcbiAgICAgICAgICBsZW5ndGggPSAoa2V5cyB8fCBvYmopLmxlbmd0aCxcbiAgICAgICAgICBpbmRleCA9IGRpciA+IDAgPyAwIDogbGVuZ3RoIC0gMTtcbiAgICAgIC8vIERldGVybWluZSB0aGUgaW5pdGlhbCB2YWx1ZSBpZiBub25lIGlzIHByb3ZpZGVkLlxuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAzKSB7XG4gICAgICAgIG1lbW8gPSBvYmpba2V5cyA/IGtleXNbaW5kZXhdIDogaW5kZXhdO1xuICAgICAgICBpbmRleCArPSBkaXI7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXRlcmF0b3Iob2JqLCBpdGVyYXRlZSwgbWVtbywga2V5cywgaW5kZXgsIGxlbmd0aCk7XG4gICAgfTtcbiAgfVxuXG4gIC8vICoqUmVkdWNlKiogYnVpbGRzIHVwIGEgc2luZ2xlIHJlc3VsdCBmcm9tIGEgbGlzdCBvZiB2YWx1ZXMsIGFrYSBgaW5qZWN0YCxcbiAgLy8gb3IgYGZvbGRsYC5cbiAgXy5yZWR1Y2UgPSBfLmZvbGRsID0gXy5pbmplY3QgPSBjcmVhdGVSZWR1Y2UoMSk7XG5cbiAgLy8gVGhlIHJpZ2h0LWFzc29jaWF0aXZlIHZlcnNpb24gb2YgcmVkdWNlLCBhbHNvIGtub3duIGFzIGBmb2xkcmAuXG4gIF8ucmVkdWNlUmlnaHQgPSBfLmZvbGRyID0gY3JlYXRlUmVkdWNlKC0xKTtcblxuICAvLyBSZXR1cm4gdGhlIGZpcnN0IHZhbHVlIHdoaWNoIHBhc3NlcyBhIHRydXRoIHRlc3QuIEFsaWFzZWQgYXMgYGRldGVjdGAuXG4gIF8uZmluZCA9IF8uZGV0ZWN0ID0gZnVuY3Rpb24ob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICB2YXIga2V5O1xuICAgIGlmIChpc0FycmF5TGlrZShvYmopKSB7XG4gICAgICBrZXkgPSBfLmZpbmRJbmRleChvYmosIHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGtleSA9IF8uZmluZEtleShvYmosIHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChrZXkgIT09IHZvaWQgMCAmJiBrZXkgIT09IC0xKSByZXR1cm4gb2JqW2tleV07XG4gIH07XG5cbiAgLy8gUmV0dXJuIGFsbCB0aGUgZWxlbWVudHMgdGhhdCBwYXNzIGEgdHJ1dGggdGVzdC5cbiAgLy8gQWxpYXNlZCBhcyBgc2VsZWN0YC5cbiAgXy5maWx0ZXIgPSBfLnNlbGVjdCA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICBwcmVkaWNhdGUgPSBjYihwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgIF8uZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkge1xuICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGxpc3QpKSByZXN1bHRzLnB1c2godmFsdWUpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHRzO1xuICB9O1xuXG4gIC8vIFJldHVybiBhbGwgdGhlIGVsZW1lbnRzIGZvciB3aGljaCBhIHRydXRoIHRlc3QgZmFpbHMuXG4gIF8ucmVqZWN0ID0gZnVuY3Rpb24ob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gXy5maWx0ZXIob2JqLCBfLm5lZ2F0ZShjYihwcmVkaWNhdGUpKSwgY29udGV4dCk7XG4gIH07XG5cbiAgLy8gRGV0ZXJtaW5lIHdoZXRoZXIgYWxsIG9mIHRoZSBlbGVtZW50cyBtYXRjaCBhIHRydXRoIHRlc3QuXG4gIC8vIEFsaWFzZWQgYXMgYGFsbGAuXG4gIF8uZXZlcnkgPSBfLmFsbCA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcHJlZGljYXRlID0gY2IocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICB2YXIga2V5cyA9ICFpc0FycmF5TGlrZShvYmopICYmIF8ua2V5cyhvYmopLFxuICAgICAgICBsZW5ndGggPSAoa2V5cyB8fCBvYmopLmxlbmd0aDtcbiAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICB2YXIgY3VycmVudEtleSA9IGtleXMgPyBrZXlzW2luZGV4XSA6IGluZGV4O1xuICAgICAgaWYgKCFwcmVkaWNhdGUob2JqW2N1cnJlbnRLZXldLCBjdXJyZW50S2V5LCBvYmopKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIC8vIERldGVybWluZSBpZiBhdCBsZWFzdCBvbmUgZWxlbWVudCBpbiB0aGUgb2JqZWN0IG1hdGNoZXMgYSB0cnV0aCB0ZXN0LlxuICAvLyBBbGlhc2VkIGFzIGBhbnlgLlxuICBfLnNvbWUgPSBfLmFueSA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcHJlZGljYXRlID0gY2IocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICB2YXIga2V5cyA9ICFpc0FycmF5TGlrZShvYmopICYmIF8ua2V5cyhvYmopLFxuICAgICAgICBsZW5ndGggPSAoa2V5cyB8fCBvYmopLmxlbmd0aDtcbiAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICB2YXIgY3VycmVudEtleSA9IGtleXMgPyBrZXlzW2luZGV4XSA6IGluZGV4O1xuICAgICAgaWYgKHByZWRpY2F0ZShvYmpbY3VycmVudEtleV0sIGN1cnJlbnRLZXksIG9iaikpIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgLy8gRGV0ZXJtaW5lIGlmIHRoZSBhcnJheSBvciBvYmplY3QgY29udGFpbnMgYSBnaXZlbiBpdGVtICh1c2luZyBgPT09YCkuXG4gIC8vIEFsaWFzZWQgYXMgYGluY2x1ZGVzYCBhbmQgYGluY2x1ZGVgLlxuICBfLmNvbnRhaW5zID0gXy5pbmNsdWRlcyA9IF8uaW5jbHVkZSA9IGZ1bmN0aW9uKG9iaiwgaXRlbSwgZnJvbUluZGV4LCBndWFyZCkge1xuICAgIGlmICghaXNBcnJheUxpa2Uob2JqKSkgb2JqID0gXy52YWx1ZXMob2JqKTtcbiAgICBpZiAodHlwZW9mIGZyb21JbmRleCAhPSAnbnVtYmVyJyB8fCBndWFyZCkgZnJvbUluZGV4ID0gMDtcbiAgICByZXR1cm4gXy5pbmRleE9mKG9iaiwgaXRlbSwgZnJvbUluZGV4KSA+PSAwO1xuICB9O1xuXG4gIC8vIEludm9rZSBhIG1ldGhvZCAod2l0aCBhcmd1bWVudHMpIG9uIGV2ZXJ5IGl0ZW0gaW4gYSBjb2xsZWN0aW9uLlxuICBfLmludm9rZSA9IGZ1bmN0aW9uKG9iaiwgbWV0aG9kKSB7XG4gICAgdmFyIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMik7XG4gICAgdmFyIGlzRnVuYyA9IF8uaXNGdW5jdGlvbihtZXRob2QpO1xuICAgIHJldHVybiBfLm1hcChvYmosIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzRnVuYyA/IG1ldGhvZCA6IHZhbHVlW21ldGhvZF07XG4gICAgICByZXR1cm4gZnVuYyA9PSBudWxsID8gZnVuYyA6IGZ1bmMuYXBwbHkodmFsdWUsIGFyZ3MpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIENvbnZlbmllbmNlIHZlcnNpb24gb2YgYSBjb21tb24gdXNlIGNhc2Ugb2YgYG1hcGA6IGZldGNoaW5nIGEgcHJvcGVydHkuXG4gIF8ucGx1Y2sgPSBmdW5jdGlvbihvYmosIGtleSkge1xuICAgIHJldHVybiBfLm1hcChvYmosIF8ucHJvcGVydHkoa2V5KSk7XG4gIH07XG5cbiAgLy8gQ29udmVuaWVuY2UgdmVyc2lvbiBvZiBhIGNvbW1vbiB1c2UgY2FzZSBvZiBgZmlsdGVyYDogc2VsZWN0aW5nIG9ubHkgb2JqZWN0c1xuICAvLyBjb250YWluaW5nIHNwZWNpZmljIGBrZXk6dmFsdWVgIHBhaXJzLlxuICBfLndoZXJlID0gZnVuY3Rpb24ob2JqLCBhdHRycykge1xuICAgIHJldHVybiBfLmZpbHRlcihvYmosIF8ubWF0Y2hlcihhdHRycykpO1xuICB9O1xuXG4gIC8vIENvbnZlbmllbmNlIHZlcnNpb24gb2YgYSBjb21tb24gdXNlIGNhc2Ugb2YgYGZpbmRgOiBnZXR0aW5nIHRoZSBmaXJzdCBvYmplY3RcbiAgLy8gY29udGFpbmluZyBzcGVjaWZpYyBga2V5OnZhbHVlYCBwYWlycy5cbiAgXy5maW5kV2hlcmUgPSBmdW5jdGlvbihvYmosIGF0dHJzKSB7XG4gICAgcmV0dXJuIF8uZmluZChvYmosIF8ubWF0Y2hlcihhdHRycykpO1xuICB9O1xuXG4gIC8vIFJldHVybiB0aGUgbWF4aW11bSBlbGVtZW50IChvciBlbGVtZW50LWJhc2VkIGNvbXB1dGF0aW9uKS5cbiAgXy5tYXggPSBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgdmFyIHJlc3VsdCA9IC1JbmZpbml0eSwgbGFzdENvbXB1dGVkID0gLUluZmluaXR5LFxuICAgICAgICB2YWx1ZSwgY29tcHV0ZWQ7XG4gICAgaWYgKGl0ZXJhdGVlID09IG51bGwgJiYgb2JqICE9IG51bGwpIHtcbiAgICAgIG9iaiA9IGlzQXJyYXlMaWtlKG9iaikgPyBvYmogOiBfLnZhbHVlcyhvYmopO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IG9iai5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICB2YWx1ZSA9IG9ialtpXTtcbiAgICAgICAgaWYgKHZhbHVlID4gcmVzdWx0KSB7XG4gICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgICBfLmVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHtcbiAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSh2YWx1ZSwgaW5kZXgsIGxpc3QpO1xuICAgICAgICBpZiAoY29tcHV0ZWQgPiBsYXN0Q29tcHV0ZWQgfHwgY29tcHV0ZWQgPT09IC1JbmZpbml0eSAmJiByZXN1bHQgPT09IC1JbmZpbml0eSkge1xuICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICAgIGxhc3RDb21wdXRlZCA9IGNvbXB1dGVkO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBSZXR1cm4gdGhlIG1pbmltdW0gZWxlbWVudCAob3IgZWxlbWVudC1iYXNlZCBjb21wdXRhdGlvbikuXG4gIF8ubWluID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIHZhciByZXN1bHQgPSBJbmZpbml0eSwgbGFzdENvbXB1dGVkID0gSW5maW5pdHksXG4gICAgICAgIHZhbHVlLCBjb21wdXRlZDtcbiAgICBpZiAoaXRlcmF0ZWUgPT0gbnVsbCAmJiBvYmogIT0gbnVsbCkge1xuICAgICAgb2JqID0gaXNBcnJheUxpa2Uob2JqKSA/IG9iaiA6IF8udmFsdWVzKG9iaik7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gb2JqLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhbHVlID0gb2JqW2ldO1xuICAgICAgICBpZiAodmFsdWUgPCByZXN1bHQpIHtcbiAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpdGVyYXRlZSA9IGNiKGl0ZXJhdGVlLCBjb250ZXh0KTtcbiAgICAgIF8uZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkge1xuICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlKHZhbHVlLCBpbmRleCwgbGlzdCk7XG4gICAgICAgIGlmIChjb21wdXRlZCA8IGxhc3RDb21wdXRlZCB8fCBjb21wdXRlZCA9PT0gSW5maW5pdHkgJiYgcmVzdWx0ID09PSBJbmZpbml0eSkge1xuICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICAgIGxhc3RDb21wdXRlZCA9IGNvbXB1dGVkO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBTaHVmZmxlIGEgY29sbGVjdGlvbiwgdXNpbmcgdGhlIG1vZGVybiB2ZXJzaW9uIG9mIHRoZVxuICAvLyBbRmlzaGVyLVlhdGVzIHNodWZmbGVdKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRmlzaGVy4oCTWWF0ZXNfc2h1ZmZsZSkuXG4gIF8uc2h1ZmZsZSA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBzZXQgPSBpc0FycmF5TGlrZShvYmopID8gb2JqIDogXy52YWx1ZXMob2JqKTtcbiAgICB2YXIgbGVuZ3RoID0gc2V0Lmxlbmd0aDtcbiAgICB2YXIgc2h1ZmZsZWQgPSBBcnJheShsZW5ndGgpO1xuICAgIGZvciAodmFyIGluZGV4ID0gMCwgcmFuZDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIHJhbmQgPSBfLnJhbmRvbSgwLCBpbmRleCk7XG4gICAgICBpZiAocmFuZCAhPT0gaW5kZXgpIHNodWZmbGVkW2luZGV4XSA9IHNodWZmbGVkW3JhbmRdO1xuICAgICAgc2h1ZmZsZWRbcmFuZF0gPSBzZXRbaW5kZXhdO1xuICAgIH1cbiAgICByZXR1cm4gc2h1ZmZsZWQ7XG4gIH07XG5cbiAgLy8gU2FtcGxlICoqbioqIHJhbmRvbSB2YWx1ZXMgZnJvbSBhIGNvbGxlY3Rpb24uXG4gIC8vIElmICoqbioqIGlzIG5vdCBzcGVjaWZpZWQsIHJldHVybnMgYSBzaW5nbGUgcmFuZG9tIGVsZW1lbnQuXG4gIC8vIFRoZSBpbnRlcm5hbCBgZ3VhcmRgIGFyZ3VtZW50IGFsbG93cyBpdCB0byB3b3JrIHdpdGggYG1hcGAuXG4gIF8uc2FtcGxlID0gZnVuY3Rpb24ob2JqLCBuLCBndWFyZCkge1xuICAgIGlmIChuID09IG51bGwgfHwgZ3VhcmQpIHtcbiAgICAgIGlmICghaXNBcnJheUxpa2Uob2JqKSkgb2JqID0gXy52YWx1ZXMob2JqKTtcbiAgICAgIHJldHVybiBvYmpbXy5yYW5kb20ob2JqLmxlbmd0aCAtIDEpXTtcbiAgICB9XG4gICAgcmV0dXJuIF8uc2h1ZmZsZShvYmopLnNsaWNlKDAsIE1hdGgubWF4KDAsIG4pKTtcbiAgfTtcblxuICAvLyBTb3J0IHRoZSBvYmplY3QncyB2YWx1ZXMgYnkgYSBjcml0ZXJpb24gcHJvZHVjZWQgYnkgYW4gaXRlcmF0ZWUuXG4gIF8uc29ydEJ5ID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgIHJldHVybiBfLnBsdWNrKF8ubWFwKG9iaiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBsaXN0KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgY3JpdGVyaWE6IGl0ZXJhdGVlKHZhbHVlLCBpbmRleCwgbGlzdClcbiAgICAgIH07XG4gICAgfSkuc29ydChmdW5jdGlvbihsZWZ0LCByaWdodCkge1xuICAgICAgdmFyIGEgPSBsZWZ0LmNyaXRlcmlhO1xuICAgICAgdmFyIGIgPSByaWdodC5jcml0ZXJpYTtcbiAgICAgIGlmIChhICE9PSBiKSB7XG4gICAgICAgIGlmIChhID4gYiB8fCBhID09PSB2b2lkIDApIHJldHVybiAxO1xuICAgICAgICBpZiAoYSA8IGIgfHwgYiA9PT0gdm9pZCAwKSByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgICByZXR1cm4gbGVmdC5pbmRleCAtIHJpZ2h0LmluZGV4O1xuICAgIH0pLCAndmFsdWUnKTtcbiAgfTtcblxuICAvLyBBbiBpbnRlcm5hbCBmdW5jdGlvbiB1c2VkIGZvciBhZ2dyZWdhdGUgXCJncm91cCBieVwiIG9wZXJhdGlvbnMuXG4gIHZhciBncm91cCA9IGZ1bmN0aW9uKGJlaGF2aW9yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgICAgXy5lYWNoKG9iaiwgZnVuY3Rpb24odmFsdWUsIGluZGV4KSB7XG4gICAgICAgIHZhciBrZXkgPSBpdGVyYXRlZSh2YWx1ZSwgaW5kZXgsIG9iaik7XG4gICAgICAgIGJlaGF2aW9yKHJlc3VsdCwgdmFsdWUsIGtleSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgfTtcblxuICAvLyBHcm91cHMgdGhlIG9iamVjdCdzIHZhbHVlcyBieSBhIGNyaXRlcmlvbi4gUGFzcyBlaXRoZXIgYSBzdHJpbmcgYXR0cmlidXRlXG4gIC8vIHRvIGdyb3VwIGJ5LCBvciBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgY3JpdGVyaW9uLlxuICBfLmdyb3VwQnkgPSBncm91cChmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICBpZiAoXy5oYXMocmVzdWx0LCBrZXkpKSByZXN1bHRba2V5XS5wdXNoKHZhbHVlKTsgZWxzZSByZXN1bHRba2V5XSA9IFt2YWx1ZV07XG4gIH0pO1xuXG4gIC8vIEluZGV4ZXMgdGhlIG9iamVjdCdzIHZhbHVlcyBieSBhIGNyaXRlcmlvbiwgc2ltaWxhciB0byBgZ3JvdXBCeWAsIGJ1dCBmb3JcbiAgLy8gd2hlbiB5b3Uga25vdyB0aGF0IHlvdXIgaW5kZXggdmFsdWVzIHdpbGwgYmUgdW5pcXVlLlxuICBfLmluZGV4QnkgPSBncm91cChmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICByZXN1bHRba2V5XSA9IHZhbHVlO1xuICB9KTtcblxuICAvLyBDb3VudHMgaW5zdGFuY2VzIG9mIGFuIG9iamVjdCB0aGF0IGdyb3VwIGJ5IGEgY2VydGFpbiBjcml0ZXJpb24uIFBhc3NcbiAgLy8gZWl0aGVyIGEgc3RyaW5nIGF0dHJpYnV0ZSB0byBjb3VudCBieSwgb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlXG4gIC8vIGNyaXRlcmlvbi5cbiAgXy5jb3VudEJ5ID0gZ3JvdXAoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgaWYgKF8uaGFzKHJlc3VsdCwga2V5KSkgcmVzdWx0W2tleV0rKzsgZWxzZSByZXN1bHRba2V5XSA9IDE7XG4gIH0pO1xuXG4gIC8vIFNhZmVseSBjcmVhdGUgYSByZWFsLCBsaXZlIGFycmF5IGZyb20gYW55dGhpbmcgaXRlcmFibGUuXG4gIF8udG9BcnJheSA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmICghb2JqKSByZXR1cm4gW107XG4gICAgaWYgKF8uaXNBcnJheShvYmopKSByZXR1cm4gc2xpY2UuY2FsbChvYmopO1xuICAgIGlmIChpc0FycmF5TGlrZShvYmopKSByZXR1cm4gXy5tYXAob2JqLCBfLmlkZW50aXR5KTtcbiAgICByZXR1cm4gXy52YWx1ZXMob2JqKTtcbiAgfTtcblxuICAvLyBSZXR1cm4gdGhlIG51bWJlciBvZiBlbGVtZW50cyBpbiBhbiBvYmplY3QuXG4gIF8uc2l6ZSA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuIDA7XG4gICAgcmV0dXJuIGlzQXJyYXlMaWtlKG9iaikgPyBvYmoubGVuZ3RoIDogXy5rZXlzKG9iaikubGVuZ3RoO1xuICB9O1xuXG4gIC8vIFNwbGl0IGEgY29sbGVjdGlvbiBpbnRvIHR3byBhcnJheXM6IG9uZSB3aG9zZSBlbGVtZW50cyBhbGwgc2F0aXNmeSB0aGUgZ2l2ZW5cbiAgLy8gcHJlZGljYXRlLCBhbmQgb25lIHdob3NlIGVsZW1lbnRzIGFsbCBkbyBub3Qgc2F0aXNmeSB0aGUgcHJlZGljYXRlLlxuICBfLnBhcnRpdGlvbiA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcHJlZGljYXRlID0gY2IocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICB2YXIgcGFzcyA9IFtdLCBmYWlsID0gW107XG4gICAgXy5lYWNoKG9iaiwgZnVuY3Rpb24odmFsdWUsIGtleSwgb2JqKSB7XG4gICAgICAocHJlZGljYXRlKHZhbHVlLCBrZXksIG9iaikgPyBwYXNzIDogZmFpbCkucHVzaCh2YWx1ZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtwYXNzLCBmYWlsXTtcbiAgfTtcblxuICAvLyBBcnJheSBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gR2V0IHRoZSBmaXJzdCBlbGVtZW50IG9mIGFuIGFycmF5LiBQYXNzaW5nICoqbioqIHdpbGwgcmV0dXJuIHRoZSBmaXJzdCBOXG4gIC8vIHZhbHVlcyBpbiB0aGUgYXJyYXkuIEFsaWFzZWQgYXMgYGhlYWRgIGFuZCBgdGFrZWAuIFRoZSAqKmd1YXJkKiogY2hlY2tcbiAgLy8gYWxsb3dzIGl0IHRvIHdvcmsgd2l0aCBgXy5tYXBgLlxuICBfLmZpcnN0ID0gXy5oZWFkID0gXy50YWtlID0gZnVuY3Rpb24oYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgaWYgKGFycmF5ID09IG51bGwpIHJldHVybiB2b2lkIDA7XG4gICAgaWYgKG4gPT0gbnVsbCB8fCBndWFyZCkgcmV0dXJuIGFycmF5WzBdO1xuICAgIHJldHVybiBfLmluaXRpYWwoYXJyYXksIGFycmF5Lmxlbmd0aCAtIG4pO1xuICB9O1xuXG4gIC8vIFJldHVybnMgZXZlcnl0aGluZyBidXQgdGhlIGxhc3QgZW50cnkgb2YgdGhlIGFycmF5LiBFc3BlY2lhbGx5IHVzZWZ1bCBvblxuICAvLyB0aGUgYXJndW1lbnRzIG9iamVjdC4gUGFzc2luZyAqKm4qKiB3aWxsIHJldHVybiBhbGwgdGhlIHZhbHVlcyBpblxuICAvLyB0aGUgYXJyYXksIGV4Y2x1ZGluZyB0aGUgbGFzdCBOLlxuICBfLmluaXRpYWwgPSBmdW5jdGlvbihhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICByZXR1cm4gc2xpY2UuY2FsbChhcnJheSwgMCwgTWF0aC5tYXgoMCwgYXJyYXkubGVuZ3RoIC0gKG4gPT0gbnVsbCB8fCBndWFyZCA/IDEgOiBuKSkpO1xuICB9O1xuXG4gIC8vIEdldCB0aGUgbGFzdCBlbGVtZW50IG9mIGFuIGFycmF5LiBQYXNzaW5nICoqbioqIHdpbGwgcmV0dXJuIHRoZSBsYXN0IE5cbiAgLy8gdmFsdWVzIGluIHRoZSBhcnJheS5cbiAgXy5sYXN0ID0gZnVuY3Rpb24oYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgaWYgKGFycmF5ID09IG51bGwpIHJldHVybiB2b2lkIDA7XG4gICAgaWYgKG4gPT0gbnVsbCB8fCBndWFyZCkgcmV0dXJuIGFycmF5W2FycmF5Lmxlbmd0aCAtIDFdO1xuICAgIHJldHVybiBfLnJlc3QoYXJyYXksIE1hdGgubWF4KDAsIGFycmF5Lmxlbmd0aCAtIG4pKTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGV2ZXJ5dGhpbmcgYnV0IHRoZSBmaXJzdCBlbnRyeSBvZiB0aGUgYXJyYXkuIEFsaWFzZWQgYXMgYHRhaWxgIGFuZCBgZHJvcGAuXG4gIC8vIEVzcGVjaWFsbHkgdXNlZnVsIG9uIHRoZSBhcmd1bWVudHMgb2JqZWN0LiBQYXNzaW5nIGFuICoqbioqIHdpbGwgcmV0dXJuXG4gIC8vIHRoZSByZXN0IE4gdmFsdWVzIGluIHRoZSBhcnJheS5cbiAgXy5yZXN0ID0gXy50YWlsID0gXy5kcm9wID0gZnVuY3Rpb24oYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgcmV0dXJuIHNsaWNlLmNhbGwoYXJyYXksIG4gPT0gbnVsbCB8fCBndWFyZCA/IDEgOiBuKTtcbiAgfTtcblxuICAvLyBUcmltIG91dCBhbGwgZmFsc3kgdmFsdWVzIGZyb20gYW4gYXJyYXkuXG4gIF8uY29tcGFjdCA9IGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgcmV0dXJuIF8uZmlsdGVyKGFycmF5LCBfLmlkZW50aXR5KTtcbiAgfTtcblxuICAvLyBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBvZiBhIHJlY3Vyc2l2ZSBgZmxhdHRlbmAgZnVuY3Rpb24uXG4gIHZhciBmbGF0dGVuID0gZnVuY3Rpb24oaW5wdXQsIHNoYWxsb3csIHN0cmljdCwgc3RhcnRJbmRleCkge1xuICAgIHZhciBvdXRwdXQgPSBbXSwgaWR4ID0gMDtcbiAgICBmb3IgKHZhciBpID0gc3RhcnRJbmRleCB8fCAwLCBsZW5ndGggPSBnZXRMZW5ndGgoaW5wdXQpOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciB2YWx1ZSA9IGlucHV0W2ldO1xuICAgICAgaWYgKGlzQXJyYXlMaWtlKHZhbHVlKSAmJiAoXy5pc0FycmF5KHZhbHVlKSB8fCBfLmlzQXJndW1lbnRzKHZhbHVlKSkpIHtcbiAgICAgICAgLy9mbGF0dGVuIGN1cnJlbnQgbGV2ZWwgb2YgYXJyYXkgb3IgYXJndW1lbnRzIG9iamVjdFxuICAgICAgICBpZiAoIXNoYWxsb3cpIHZhbHVlID0gZmxhdHRlbih2YWx1ZSwgc2hhbGxvdywgc3RyaWN0KTtcbiAgICAgICAgdmFyIGogPSAwLCBsZW4gPSB2YWx1ZS5sZW5ndGg7XG4gICAgICAgIG91dHB1dC5sZW5ndGggKz0gbGVuO1xuICAgICAgICB3aGlsZSAoaiA8IGxlbikge1xuICAgICAgICAgIG91dHB1dFtpZHgrK10gPSB2YWx1ZVtqKytdO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCFzdHJpY3QpIHtcbiAgICAgICAgb3V0cHV0W2lkeCsrXSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3V0cHV0O1xuICB9O1xuXG4gIC8vIEZsYXR0ZW4gb3V0IGFuIGFycmF5LCBlaXRoZXIgcmVjdXJzaXZlbHkgKGJ5IGRlZmF1bHQpLCBvciBqdXN0IG9uZSBsZXZlbC5cbiAgXy5mbGF0dGVuID0gZnVuY3Rpb24oYXJyYXksIHNoYWxsb3cpIHtcbiAgICByZXR1cm4gZmxhdHRlbihhcnJheSwgc2hhbGxvdywgZmFsc2UpO1xuICB9O1xuXG4gIC8vIFJldHVybiBhIHZlcnNpb24gb2YgdGhlIGFycmF5IHRoYXQgZG9lcyBub3QgY29udGFpbiB0aGUgc3BlY2lmaWVkIHZhbHVlKHMpLlxuICBfLndpdGhvdXQgPSBmdW5jdGlvbihhcnJheSkge1xuICAgIHJldHVybiBfLmRpZmZlcmVuY2UoYXJyYXksIHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7XG4gIH07XG5cbiAgLy8gUHJvZHVjZSBhIGR1cGxpY2F0ZS1mcmVlIHZlcnNpb24gb2YgdGhlIGFycmF5LiBJZiB0aGUgYXJyYXkgaGFzIGFscmVhZHlcbiAgLy8gYmVlbiBzb3J0ZWQsIHlvdSBoYXZlIHRoZSBvcHRpb24gb2YgdXNpbmcgYSBmYXN0ZXIgYWxnb3JpdGhtLlxuICAvLyBBbGlhc2VkIGFzIGB1bmlxdWVgLlxuICBfLnVuaXEgPSBfLnVuaXF1ZSA9IGZ1bmN0aW9uKGFycmF5LCBpc1NvcnRlZCwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICBpZiAoIV8uaXNCb29sZWFuKGlzU29ydGVkKSkge1xuICAgICAgY29udGV4dCA9IGl0ZXJhdGVlO1xuICAgICAgaXRlcmF0ZWUgPSBpc1NvcnRlZDtcbiAgICAgIGlzU29ydGVkID0gZmFsc2U7XG4gICAgfVxuICAgIGlmIChpdGVyYXRlZSAhPSBudWxsKSBpdGVyYXRlZSA9IGNiKGl0ZXJhdGVlLCBjb250ZXh0KTtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgdmFyIHNlZW4gPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gZ2V0TGVuZ3RoKGFycmF5KTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgdmFsdWUgPSBhcnJheVtpXSxcbiAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlID8gaXRlcmF0ZWUodmFsdWUsIGksIGFycmF5KSA6IHZhbHVlO1xuICAgICAgaWYgKGlzU29ydGVkKSB7XG4gICAgICAgIGlmICghaSB8fCBzZWVuICE9PSBjb21wdXRlZCkgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICBzZWVuID0gY29tcHV0ZWQ7XG4gICAgICB9IGVsc2UgaWYgKGl0ZXJhdGVlKSB7XG4gICAgICAgIGlmICghXy5jb250YWlucyhzZWVuLCBjb21wdXRlZCkpIHtcbiAgICAgICAgICBzZWVuLnB1c2goY29tcHV0ZWQpO1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghXy5jb250YWlucyhyZXN1bHQsIHZhbHVlKSkge1xuICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gUHJvZHVjZSBhbiBhcnJheSB0aGF0IGNvbnRhaW5zIHRoZSB1bmlvbjogZWFjaCBkaXN0aW5jdCBlbGVtZW50IGZyb20gYWxsIG9mXG4gIC8vIHRoZSBwYXNzZWQtaW4gYXJyYXlzLlxuICBfLnVuaW9uID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIF8udW5pcShmbGF0dGVuKGFyZ3VtZW50cywgdHJ1ZSwgdHJ1ZSkpO1xuICB9O1xuXG4gIC8vIFByb2R1Y2UgYW4gYXJyYXkgdGhhdCBjb250YWlucyBldmVyeSBpdGVtIHNoYXJlZCBiZXR3ZWVuIGFsbCB0aGVcbiAgLy8gcGFzc2VkLWluIGFycmF5cy5cbiAgXy5pbnRlcnNlY3Rpb24gPSBmdW5jdGlvbihhcnJheSkge1xuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICB2YXIgYXJnc0xlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGdldExlbmd0aChhcnJheSk7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGl0ZW0gPSBhcnJheVtpXTtcbiAgICAgIGlmIChfLmNvbnRhaW5zKHJlc3VsdCwgaXRlbSkpIGNvbnRpbnVlO1xuICAgICAgZm9yICh2YXIgaiA9IDE7IGogPCBhcmdzTGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaWYgKCFfLmNvbnRhaW5zKGFyZ3VtZW50c1tqXSwgaXRlbSkpIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKGogPT09IGFyZ3NMZW5ndGgpIHJlc3VsdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIFRha2UgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiBvbmUgYXJyYXkgYW5kIGEgbnVtYmVyIG9mIG90aGVyIGFycmF5cy5cbiAgLy8gT25seSB0aGUgZWxlbWVudHMgcHJlc2VudCBpbiBqdXN0IHRoZSBmaXJzdCBhcnJheSB3aWxsIHJlbWFpbi5cbiAgXy5kaWZmZXJlbmNlID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgICB2YXIgcmVzdCA9IGZsYXR0ZW4oYXJndW1lbnRzLCB0cnVlLCB0cnVlLCAxKTtcbiAgICByZXR1cm4gXy5maWx0ZXIoYXJyYXksIGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgIHJldHVybiAhXy5jb250YWlucyhyZXN0LCB2YWx1ZSk7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gWmlwIHRvZ2V0aGVyIG11bHRpcGxlIGxpc3RzIGludG8gYSBzaW5nbGUgYXJyYXkgLS0gZWxlbWVudHMgdGhhdCBzaGFyZVxuICAvLyBhbiBpbmRleCBnbyB0b2dldGhlci5cbiAgXy56aXAgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gXy51bnppcChhcmd1bWVudHMpO1xuICB9O1xuXG4gIC8vIENvbXBsZW1lbnQgb2YgXy56aXAuIFVuemlwIGFjY2VwdHMgYW4gYXJyYXkgb2YgYXJyYXlzIGFuZCBncm91cHNcbiAgLy8gZWFjaCBhcnJheSdzIGVsZW1lbnRzIG9uIHNoYXJlZCBpbmRpY2VzXG4gIF8udW56aXAgPSBmdW5jdGlvbihhcnJheSkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheSAmJiBfLm1heChhcnJheSwgZ2V0TGVuZ3RoKS5sZW5ndGggfHwgMDtcbiAgICB2YXIgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIHJlc3VsdFtpbmRleF0gPSBfLnBsdWNrKGFycmF5LCBpbmRleCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gQ29udmVydHMgbGlzdHMgaW50byBvYmplY3RzLiBQYXNzIGVpdGhlciBhIHNpbmdsZSBhcnJheSBvZiBgW2tleSwgdmFsdWVdYFxuICAvLyBwYWlycywgb3IgdHdvIHBhcmFsbGVsIGFycmF5cyBvZiB0aGUgc2FtZSBsZW5ndGggLS0gb25lIG9mIGtleXMsIGFuZCBvbmUgb2ZcbiAgLy8gdGhlIGNvcnJlc3BvbmRpbmcgdmFsdWVzLlxuICBfLm9iamVjdCA9IGZ1bmN0aW9uKGxpc3QsIHZhbHVlcykge1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gZ2V0TGVuZ3RoKGxpc3QpOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgICAgcmVzdWx0W2xpc3RbaV1dID0gdmFsdWVzW2ldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0W2xpc3RbaV1bMF1dID0gbGlzdFtpXVsxXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBHZW5lcmF0b3IgZnVuY3Rpb24gdG8gY3JlYXRlIHRoZSBmaW5kSW5kZXggYW5kIGZpbmRMYXN0SW5kZXggZnVuY3Rpb25zXG4gIGZ1bmN0aW9uIGNyZWF0ZVByZWRpY2F0ZUluZGV4RmluZGVyKGRpcikge1xuICAgIHJldHVybiBmdW5jdGlvbihhcnJheSwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgICBwcmVkaWNhdGUgPSBjYihwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgICAgdmFyIGxlbmd0aCA9IGdldExlbmd0aChhcnJheSk7XG4gICAgICB2YXIgaW5kZXggPSBkaXIgPiAwID8gMCA6IGxlbmd0aCAtIDE7XG4gICAgICBmb3IgKDsgaW5kZXggPj0gMCAmJiBpbmRleCA8IGxlbmd0aDsgaW5kZXggKz0gZGlyKSB7XG4gICAgICAgIGlmIChwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfTtcbiAgfVxuXG4gIC8vIFJldHVybnMgdGhlIGZpcnN0IGluZGV4IG9uIGFuIGFycmF5LWxpa2UgdGhhdCBwYXNzZXMgYSBwcmVkaWNhdGUgdGVzdFxuICBfLmZpbmRJbmRleCA9IGNyZWF0ZVByZWRpY2F0ZUluZGV4RmluZGVyKDEpO1xuICBfLmZpbmRMYXN0SW5kZXggPSBjcmVhdGVQcmVkaWNhdGVJbmRleEZpbmRlcigtMSk7XG5cbiAgLy8gVXNlIGEgY29tcGFyYXRvciBmdW5jdGlvbiB0byBmaWd1cmUgb3V0IHRoZSBzbWFsbGVzdCBpbmRleCBhdCB3aGljaFxuICAvLyBhbiBvYmplY3Qgc2hvdWxkIGJlIGluc2VydGVkIHNvIGFzIHRvIG1haW50YWluIG9yZGVyLiBVc2VzIGJpbmFyeSBzZWFyY2guXG4gIF8uc29ydGVkSW5kZXggPSBmdW5jdGlvbihhcnJheSwgb2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQsIDEpO1xuICAgIHZhciB2YWx1ZSA9IGl0ZXJhdGVlKG9iaik7XG4gICAgdmFyIGxvdyA9IDAsIGhpZ2ggPSBnZXRMZW5ndGgoYXJyYXkpO1xuICAgIHdoaWxlIChsb3cgPCBoaWdoKSB7XG4gICAgICB2YXIgbWlkID0gTWF0aC5mbG9vcigobG93ICsgaGlnaCkgLyAyKTtcbiAgICAgIGlmIChpdGVyYXRlZShhcnJheVttaWRdKSA8IHZhbHVlKSBsb3cgPSBtaWQgKyAxOyBlbHNlIGhpZ2ggPSBtaWQ7XG4gICAgfVxuICAgIHJldHVybiBsb3c7XG4gIH07XG5cbiAgLy8gR2VuZXJhdG9yIGZ1bmN0aW9uIHRvIGNyZWF0ZSB0aGUgaW5kZXhPZiBhbmQgbGFzdEluZGV4T2YgZnVuY3Rpb25zXG4gIGZ1bmN0aW9uIGNyZWF0ZUluZGV4RmluZGVyKGRpciwgcHJlZGljYXRlRmluZCwgc29ydGVkSW5kZXgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oYXJyYXksIGl0ZW0sIGlkeCkge1xuICAgICAgdmFyIGkgPSAwLCBsZW5ndGggPSBnZXRMZW5ndGgoYXJyYXkpO1xuICAgICAgaWYgKHR5cGVvZiBpZHggPT0gJ251bWJlcicpIHtcbiAgICAgICAgaWYgKGRpciA+IDApIHtcbiAgICAgICAgICAgIGkgPSBpZHggPj0gMCA/IGlkeCA6IE1hdGgubWF4KGlkeCArIGxlbmd0aCwgaSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZW5ndGggPSBpZHggPj0gMCA/IE1hdGgubWluKGlkeCArIDEsIGxlbmd0aCkgOiBpZHggKyBsZW5ndGggKyAxO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHNvcnRlZEluZGV4ICYmIGlkeCAmJiBsZW5ndGgpIHtcbiAgICAgICAgaWR4ID0gc29ydGVkSW5kZXgoYXJyYXksIGl0ZW0pO1xuICAgICAgICByZXR1cm4gYXJyYXlbaWR4XSA9PT0gaXRlbSA/IGlkeCA6IC0xO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW0gIT09IGl0ZW0pIHtcbiAgICAgICAgaWR4ID0gcHJlZGljYXRlRmluZChzbGljZS5jYWxsKGFycmF5LCBpLCBsZW5ndGgpLCBfLmlzTmFOKTtcbiAgICAgICAgcmV0dXJuIGlkeCA+PSAwID8gaWR4ICsgaSA6IC0xO1xuICAgICAgfVxuICAgICAgZm9yIChpZHggPSBkaXIgPiAwID8gaSA6IGxlbmd0aCAtIDE7IGlkeCA+PSAwICYmIGlkeCA8IGxlbmd0aDsgaWR4ICs9IGRpcikge1xuICAgICAgICBpZiAoYXJyYXlbaWR4XSA9PT0gaXRlbSkgcmV0dXJuIGlkeDtcbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9O1xuICB9XG5cbiAgLy8gUmV0dXJuIHRoZSBwb3NpdGlvbiBvZiB0aGUgZmlyc3Qgb2NjdXJyZW5jZSBvZiBhbiBpdGVtIGluIGFuIGFycmF5LFxuICAvLyBvciAtMSBpZiB0aGUgaXRlbSBpcyBub3QgaW5jbHVkZWQgaW4gdGhlIGFycmF5LlxuICAvLyBJZiB0aGUgYXJyYXkgaXMgbGFyZ2UgYW5kIGFscmVhZHkgaW4gc29ydCBvcmRlciwgcGFzcyBgdHJ1ZWBcbiAgLy8gZm9yICoqaXNTb3J0ZWQqKiB0byB1c2UgYmluYXJ5IHNlYXJjaC5cbiAgXy5pbmRleE9mID0gY3JlYXRlSW5kZXhGaW5kZXIoMSwgXy5maW5kSW5kZXgsIF8uc29ydGVkSW5kZXgpO1xuICBfLmxhc3RJbmRleE9mID0gY3JlYXRlSW5kZXhGaW5kZXIoLTEsIF8uZmluZExhc3RJbmRleCk7XG5cbiAgLy8gR2VuZXJhdGUgYW4gaW50ZWdlciBBcnJheSBjb250YWluaW5nIGFuIGFyaXRobWV0aWMgcHJvZ3Jlc3Npb24uIEEgcG9ydCBvZlxuICAvLyB0aGUgbmF0aXZlIFB5dGhvbiBgcmFuZ2UoKWAgZnVuY3Rpb24uIFNlZVxuICAvLyBbdGhlIFB5dGhvbiBkb2N1bWVudGF0aW9uXShodHRwOi8vZG9jcy5weXRob24ub3JnL2xpYnJhcnkvZnVuY3Rpb25zLmh0bWwjcmFuZ2UpLlxuICBfLnJhbmdlID0gZnVuY3Rpb24oc3RhcnQsIHN0b3AsIHN0ZXApIHtcbiAgICBpZiAoc3RvcCA9PSBudWxsKSB7XG4gICAgICBzdG9wID0gc3RhcnQgfHwgMDtcbiAgICAgIHN0YXJ0ID0gMDtcbiAgICB9XG4gICAgc3RlcCA9IHN0ZXAgfHwgMTtcblxuICAgIHZhciBsZW5ndGggPSBNYXRoLm1heChNYXRoLmNlaWwoKHN0b3AgLSBzdGFydCkgLyBzdGVwKSwgMCk7XG4gICAgdmFyIHJhbmdlID0gQXJyYXkobGVuZ3RoKTtcblxuICAgIGZvciAodmFyIGlkeCA9IDA7IGlkeCA8IGxlbmd0aDsgaWR4KyssIHN0YXJ0ICs9IHN0ZXApIHtcbiAgICAgIHJhbmdlW2lkeF0gPSBzdGFydDtcbiAgICB9XG5cbiAgICByZXR1cm4gcmFuZ2U7XG4gIH07XG5cbiAgLy8gRnVuY3Rpb24gKGFoZW0pIEZ1bmN0aW9uc1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyBEZXRlcm1pbmVzIHdoZXRoZXIgdG8gZXhlY3V0ZSBhIGZ1bmN0aW9uIGFzIGEgY29uc3RydWN0b3JcbiAgLy8gb3IgYSBub3JtYWwgZnVuY3Rpb24gd2l0aCB0aGUgcHJvdmlkZWQgYXJndW1lbnRzXG4gIHZhciBleGVjdXRlQm91bmQgPSBmdW5jdGlvbihzb3VyY2VGdW5jLCBib3VuZEZ1bmMsIGNvbnRleHQsIGNhbGxpbmdDb250ZXh0LCBhcmdzKSB7XG4gICAgaWYgKCEoY2FsbGluZ0NvbnRleHQgaW5zdGFuY2VvZiBib3VuZEZ1bmMpKSByZXR1cm4gc291cmNlRnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICB2YXIgc2VsZiA9IGJhc2VDcmVhdGUoc291cmNlRnVuYy5wcm90b3R5cGUpO1xuICAgIHZhciByZXN1bHQgPSBzb3VyY2VGdW5jLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICAgIGlmIChfLmlzT2JqZWN0KHJlc3VsdCkpIHJldHVybiByZXN1bHQ7XG4gICAgcmV0dXJuIHNlbGY7XG4gIH07XG5cbiAgLy8gQ3JlYXRlIGEgZnVuY3Rpb24gYm91bmQgdG8gYSBnaXZlbiBvYmplY3QgKGFzc2lnbmluZyBgdGhpc2AsIGFuZCBhcmd1bWVudHMsXG4gIC8vIG9wdGlvbmFsbHkpLiBEZWxlZ2F0ZXMgdG8gKipFQ01BU2NyaXB0IDUqKidzIG5hdGl2ZSBgRnVuY3Rpb24uYmluZGAgaWZcbiAgLy8gYXZhaWxhYmxlLlxuICBfLmJpbmQgPSBmdW5jdGlvbihmdW5jLCBjb250ZXh0KSB7XG4gICAgaWYgKG5hdGl2ZUJpbmQgJiYgZnVuYy5iaW5kID09PSBuYXRpdmVCaW5kKSByZXR1cm4gbmF0aXZlQmluZC5hcHBseShmdW5jLCBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpO1xuICAgIGlmICghXy5pc0Z1bmN0aW9uKGZ1bmMpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdCaW5kIG11c3QgYmUgY2FsbGVkIG9uIGEgZnVuY3Rpb24nKTtcbiAgICB2YXIgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTtcbiAgICB2YXIgYm91bmQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBleGVjdXRlQm91bmQoZnVuYywgYm91bmQsIGNvbnRleHQsIHRoaXMsIGFyZ3MuY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzKSkpO1xuICAgIH07XG4gICAgcmV0dXJuIGJvdW5kO1xuICB9O1xuXG4gIC8vIFBhcnRpYWxseSBhcHBseSBhIGZ1bmN0aW9uIGJ5IGNyZWF0aW5nIGEgdmVyc2lvbiB0aGF0IGhhcyBoYWQgc29tZSBvZiBpdHNcbiAgLy8gYXJndW1lbnRzIHByZS1maWxsZWQsIHdpdGhvdXQgY2hhbmdpbmcgaXRzIGR5bmFtaWMgYHRoaXNgIGNvbnRleHQuIF8gYWN0c1xuICAvLyBhcyBhIHBsYWNlaG9sZGVyLCBhbGxvd2luZyBhbnkgY29tYmluYXRpb24gb2YgYXJndW1lbnRzIHRvIGJlIHByZS1maWxsZWQuXG4gIF8ucGFydGlhbCA9IGZ1bmN0aW9uKGZ1bmMpIHtcbiAgICB2YXIgYm91bmRBcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgIHZhciBib3VuZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHBvc2l0aW9uID0gMCwgbGVuZ3RoID0gYm91bmRBcmdzLmxlbmd0aDtcbiAgICAgIHZhciBhcmdzID0gQXJyYXkobGVuZ3RoKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYXJnc1tpXSA9IGJvdW5kQXJnc1tpXSA9PT0gXyA/IGFyZ3VtZW50c1twb3NpdGlvbisrXSA6IGJvdW5kQXJnc1tpXTtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChwb3NpdGlvbiA8IGFyZ3VtZW50cy5sZW5ndGgpIGFyZ3MucHVzaChhcmd1bWVudHNbcG9zaXRpb24rK10pO1xuICAgICAgcmV0dXJuIGV4ZWN1dGVCb3VuZChmdW5jLCBib3VuZCwgdGhpcywgdGhpcywgYXJncyk7XG4gICAgfTtcbiAgICByZXR1cm4gYm91bmQ7XG4gIH07XG5cbiAgLy8gQmluZCBhIG51bWJlciBvZiBhbiBvYmplY3QncyBtZXRob2RzIHRvIHRoYXQgb2JqZWN0LiBSZW1haW5pbmcgYXJndW1lbnRzXG4gIC8vIGFyZSB0aGUgbWV0aG9kIG5hbWVzIHRvIGJlIGJvdW5kLiBVc2VmdWwgZm9yIGVuc3VyaW5nIHRoYXQgYWxsIGNhbGxiYWNrc1xuICAvLyBkZWZpbmVkIG9uIGFuIG9iamVjdCBiZWxvbmcgdG8gaXQuXG4gIF8uYmluZEFsbCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBpLCBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLCBrZXk7XG4gICAgaWYgKGxlbmd0aCA8PSAxKSB0aHJvdyBuZXcgRXJyb3IoJ2JpbmRBbGwgbXVzdCBiZSBwYXNzZWQgZnVuY3Rpb24gbmFtZXMnKTtcbiAgICBmb3IgKGkgPSAxOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGtleSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgIG9ialtrZXldID0gXy5iaW5kKG9ialtrZXldLCBvYmopO1xuICAgIH1cbiAgICByZXR1cm4gb2JqO1xuICB9O1xuXG4gIC8vIE1lbW9pemUgYW4gZXhwZW5zaXZlIGZ1bmN0aW9uIGJ5IHN0b3JpbmcgaXRzIHJlc3VsdHMuXG4gIF8ubWVtb2l6ZSA9IGZ1bmN0aW9uKGZ1bmMsIGhhc2hlcikge1xuICAgIHZhciBtZW1vaXplID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgICB2YXIgY2FjaGUgPSBtZW1vaXplLmNhY2hlO1xuICAgICAgdmFyIGFkZHJlc3MgPSAnJyArIChoYXNoZXIgPyBoYXNoZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSA6IGtleSk7XG4gICAgICBpZiAoIV8uaGFzKGNhY2hlLCBhZGRyZXNzKSkgY2FjaGVbYWRkcmVzc10gPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICByZXR1cm4gY2FjaGVbYWRkcmVzc107XG4gICAgfTtcbiAgICBtZW1vaXplLmNhY2hlID0ge307XG4gICAgcmV0dXJuIG1lbW9pemU7XG4gIH07XG5cbiAgLy8gRGVsYXlzIGEgZnVuY3Rpb24gZm9yIHRoZSBnaXZlbiBudW1iZXIgb2YgbWlsbGlzZWNvbmRzLCBhbmQgdGhlbiBjYWxsc1xuICAvLyBpdCB3aXRoIHRoZSBhcmd1bWVudHMgc3VwcGxpZWQuXG4gIF8uZGVsYXkgPSBmdW5jdGlvbihmdW5jLCB3YWl0KSB7XG4gICAgdmFyIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMik7XG4gICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiBmdW5jLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgIH0sIHdhaXQpO1xuICB9O1xuXG4gIC8vIERlZmVycyBhIGZ1bmN0aW9uLCBzY2hlZHVsaW5nIGl0IHRvIHJ1biBhZnRlciB0aGUgY3VycmVudCBjYWxsIHN0YWNrIGhhc1xuICAvLyBjbGVhcmVkLlxuICBfLmRlZmVyID0gXy5wYXJ0aWFsKF8uZGVsYXksIF8sIDEpO1xuXG4gIC8vIFJldHVybnMgYSBmdW5jdGlvbiwgdGhhdCwgd2hlbiBpbnZva2VkLCB3aWxsIG9ubHkgYmUgdHJpZ2dlcmVkIGF0IG1vc3Qgb25jZVxuICAvLyBkdXJpbmcgYSBnaXZlbiB3aW5kb3cgb2YgdGltZS4gTm9ybWFsbHksIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gd2lsbCBydW5cbiAgLy8gYXMgbXVjaCBhcyBpdCBjYW4sIHdpdGhvdXQgZXZlciBnb2luZyBtb3JlIHRoYW4gb25jZSBwZXIgYHdhaXRgIGR1cmF0aW9uO1xuICAvLyBidXQgaWYgeW91J2QgbGlrZSB0byBkaXNhYmxlIHRoZSBleGVjdXRpb24gb24gdGhlIGxlYWRpbmcgZWRnZSwgcGFzc1xuICAvLyBge2xlYWRpbmc6IGZhbHNlfWAuIFRvIGRpc2FibGUgZXhlY3V0aW9uIG9uIHRoZSB0cmFpbGluZyBlZGdlLCBkaXR0by5cbiAgXy50aHJvdHRsZSA9IGZ1bmN0aW9uKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgICB2YXIgY29udGV4dCwgYXJncywgcmVzdWx0O1xuICAgIHZhciB0aW1lb3V0ID0gbnVsbDtcbiAgICB2YXIgcHJldmlvdXMgPSAwO1xuICAgIGlmICghb3B0aW9ucykgb3B0aW9ucyA9IHt9O1xuICAgIHZhciBsYXRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgcHJldmlvdXMgPSBvcHRpb25zLmxlYWRpbmcgPT09IGZhbHNlID8gMCA6IF8ubm93KCk7XG4gICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICBpZiAoIXRpbWVvdXQpIGNvbnRleHQgPSBhcmdzID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBub3cgPSBfLm5vdygpO1xuICAgICAgaWYgKCFwcmV2aW91cyAmJiBvcHRpb25zLmxlYWRpbmcgPT09IGZhbHNlKSBwcmV2aW91cyA9IG5vdztcbiAgICAgIHZhciByZW1haW5pbmcgPSB3YWl0IC0gKG5vdyAtIHByZXZpb3VzKTtcbiAgICAgIGNvbnRleHQgPSB0aGlzO1xuICAgICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgIGlmIChyZW1haW5pbmcgPD0gMCB8fCByZW1haW5pbmcgPiB3YWl0KSB7XG4gICAgICAgIGlmICh0aW1lb3V0KSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHByZXZpb3VzID0gbm93O1xuICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgICBpZiAoIXRpbWVvdXQpIGNvbnRleHQgPSBhcmdzID0gbnVsbDtcbiAgICAgIH0gZWxzZSBpZiAoIXRpbWVvdXQgJiYgb3B0aW9ucy50cmFpbGluZyAhPT0gZmFsc2UpIHtcbiAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHJlbWFpbmluZyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uLCB0aGF0LCBhcyBsb25nIGFzIGl0IGNvbnRpbnVlcyB0byBiZSBpbnZva2VkLCB3aWxsIG5vdFxuICAvLyBiZSB0cmlnZ2VyZWQuIFRoZSBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBhZnRlciBpdCBzdG9wcyBiZWluZyBjYWxsZWQgZm9yXG4gIC8vIE4gbWlsbGlzZWNvbmRzLiBJZiBgaW1tZWRpYXRlYCBpcyBwYXNzZWQsIHRyaWdnZXIgdGhlIGZ1bmN0aW9uIG9uIHRoZVxuICAvLyBsZWFkaW5nIGVkZ2UsIGluc3RlYWQgb2YgdGhlIHRyYWlsaW5nLlxuICBfLmRlYm91bmNlID0gZnVuY3Rpb24oZnVuYywgd2FpdCwgaW1tZWRpYXRlKSB7XG4gICAgdmFyIHRpbWVvdXQsIGFyZ3MsIGNvbnRleHQsIHRpbWVzdGFtcCwgcmVzdWx0O1xuXG4gICAgdmFyIGxhdGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbGFzdCA9IF8ubm93KCkgLSB0aW1lc3RhbXA7XG5cbiAgICAgIGlmIChsYXN0IDwgd2FpdCAmJiBsYXN0ID49IDApIHtcbiAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHdhaXQgLSBsYXN0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgICBpZiAoIWltbWVkaWF0ZSkge1xuICAgICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICAgICAgaWYgKCF0aW1lb3V0KSBjb250ZXh0ID0gYXJncyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgY29udGV4dCA9IHRoaXM7XG4gICAgICBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgdGltZXN0YW1wID0gXy5ub3coKTtcbiAgICAgIHZhciBjYWxsTm93ID0gaW1tZWRpYXRlICYmICF0aW1lb3V0O1xuICAgICAgaWYgKCF0aW1lb3V0KSB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdCk7XG4gICAgICBpZiAoY2FsbE5vdykge1xuICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgICBjb250ZXh0ID0gYXJncyA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIHRoZSBmaXJzdCBmdW5jdGlvbiBwYXNzZWQgYXMgYW4gYXJndW1lbnQgdG8gdGhlIHNlY29uZCxcbiAgLy8gYWxsb3dpbmcgeW91IHRvIGFkanVzdCBhcmd1bWVudHMsIHJ1biBjb2RlIGJlZm9yZSBhbmQgYWZ0ZXIsIGFuZFxuICAvLyBjb25kaXRpb25hbGx5IGV4ZWN1dGUgdGhlIG9yaWdpbmFsIGZ1bmN0aW9uLlxuICBfLndyYXAgPSBmdW5jdGlvbihmdW5jLCB3cmFwcGVyKSB7XG4gICAgcmV0dXJuIF8ucGFydGlhbCh3cmFwcGVyLCBmdW5jKTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgbmVnYXRlZCB2ZXJzaW9uIG9mIHRoZSBwYXNzZWQtaW4gcHJlZGljYXRlLlxuICBfLm5lZ2F0ZSA9IGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAhcHJlZGljYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBpcyB0aGUgY29tcG9zaXRpb24gb2YgYSBsaXN0IG9mIGZ1bmN0aW9ucywgZWFjaFxuICAvLyBjb25zdW1pbmcgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgZnVuY3Rpb24gdGhhdCBmb2xsb3dzLlxuICBfLmNvbXBvc2UgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICB2YXIgc3RhcnQgPSBhcmdzLmxlbmd0aCAtIDE7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGkgPSBzdGFydDtcbiAgICAgIHZhciByZXN1bHQgPSBhcmdzW3N0YXJ0XS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgd2hpbGUgKGktLSkgcmVzdWx0ID0gYXJnc1tpXS5jYWxsKHRoaXMsIHJlc3VsdCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBvbmx5IGJlIGV4ZWN1dGVkIG9uIGFuZCBhZnRlciB0aGUgTnRoIGNhbGwuXG4gIF8uYWZ0ZXIgPSBmdW5jdGlvbih0aW1lcywgZnVuYykge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICgtLXRpbWVzIDwgMSkge1xuICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBvbmx5IGJlIGV4ZWN1dGVkIHVwIHRvIChidXQgbm90IGluY2x1ZGluZykgdGhlIE50aCBjYWxsLlxuICBfLmJlZm9yZSA9IGZ1bmN0aW9uKHRpbWVzLCBmdW5jKSB7XG4gICAgdmFyIG1lbW87XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKC0tdGltZXMgPiAwKSB7XG4gICAgICAgIG1lbW8gPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICBpZiAodGltZXMgPD0gMSkgZnVuYyA9IG51bGw7XG4gICAgICByZXR1cm4gbWVtbztcbiAgICB9O1xuICB9O1xuXG4gIC8vIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgZXhlY3V0ZWQgYXQgbW9zdCBvbmUgdGltZSwgbm8gbWF0dGVyIGhvd1xuICAvLyBvZnRlbiB5b3UgY2FsbCBpdC4gVXNlZnVsIGZvciBsYXp5IGluaXRpYWxpemF0aW9uLlxuICBfLm9uY2UgPSBfLnBhcnRpYWwoXy5iZWZvcmUsIDIpO1xuXG4gIC8vIE9iamVjdCBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIEtleXMgaW4gSUUgPCA5IHRoYXQgd29uJ3QgYmUgaXRlcmF0ZWQgYnkgYGZvciBrZXkgaW4gLi4uYCBhbmQgdGh1cyBtaXNzZWQuXG4gIHZhciBoYXNFbnVtQnVnID0gIXt0b1N0cmluZzogbnVsbH0ucHJvcGVydHlJc0VudW1lcmFibGUoJ3RvU3RyaW5nJyk7XG4gIHZhciBub25FbnVtZXJhYmxlUHJvcHMgPSBbJ3ZhbHVlT2YnLCAnaXNQcm90b3R5cGVPZicsICd0b1N0cmluZycsXG4gICAgICAgICAgICAgICAgICAgICAgJ3Byb3BlcnR5SXNFbnVtZXJhYmxlJywgJ2hhc093blByb3BlcnR5JywgJ3RvTG9jYWxlU3RyaW5nJ107XG5cbiAgZnVuY3Rpb24gY29sbGVjdE5vbkVudW1Qcm9wcyhvYmosIGtleXMpIHtcbiAgICB2YXIgbm9uRW51bUlkeCA9IG5vbkVudW1lcmFibGVQcm9wcy5sZW5ndGg7XG4gICAgdmFyIGNvbnN0cnVjdG9yID0gb2JqLmNvbnN0cnVjdG9yO1xuICAgIHZhciBwcm90byA9IChfLmlzRnVuY3Rpb24oY29uc3RydWN0b3IpICYmIGNvbnN0cnVjdG9yLnByb3RvdHlwZSkgfHwgT2JqUHJvdG87XG5cbiAgICAvLyBDb25zdHJ1Y3RvciBpcyBhIHNwZWNpYWwgY2FzZS5cbiAgICB2YXIgcHJvcCA9ICdjb25zdHJ1Y3Rvcic7XG4gICAgaWYgKF8uaGFzKG9iaiwgcHJvcCkgJiYgIV8uY29udGFpbnMoa2V5cywgcHJvcCkpIGtleXMucHVzaChwcm9wKTtcblxuICAgIHdoaWxlIChub25FbnVtSWR4LS0pIHtcbiAgICAgIHByb3AgPSBub25FbnVtZXJhYmxlUHJvcHNbbm9uRW51bUlkeF07XG4gICAgICBpZiAocHJvcCBpbiBvYmogJiYgb2JqW3Byb3BdICE9PSBwcm90b1twcm9wXSAmJiAhXy5jb250YWlucyhrZXlzLCBwcm9wKSkge1xuICAgICAgICBrZXlzLnB1c2gocHJvcCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gUmV0cmlldmUgdGhlIG5hbWVzIG9mIGFuIG9iamVjdCdzIG93biBwcm9wZXJ0aWVzLlxuICAvLyBEZWxlZ2F0ZXMgdG8gKipFQ01BU2NyaXB0IDUqKidzIG5hdGl2ZSBgT2JqZWN0LmtleXNgXG4gIF8ua2V5cyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmICghXy5pc09iamVjdChvYmopKSByZXR1cm4gW107XG4gICAgaWYgKG5hdGl2ZUtleXMpIHJldHVybiBuYXRpdmVLZXlzKG9iaik7XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSBpZiAoXy5oYXMob2JqLCBrZXkpKSBrZXlzLnB1c2goa2V5KTtcbiAgICAvLyBBaGVtLCBJRSA8IDkuXG4gICAgaWYgKGhhc0VudW1CdWcpIGNvbGxlY3ROb25FbnVtUHJvcHMob2JqLCBrZXlzKTtcbiAgICByZXR1cm4ga2V5cztcbiAgfTtcblxuICAvLyBSZXRyaWV2ZSBhbGwgdGhlIHByb3BlcnR5IG5hbWVzIG9mIGFuIG9iamVjdC5cbiAgXy5hbGxLZXlzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKCFfLmlzT2JqZWN0KG9iaikpIHJldHVybiBbXTtcbiAgICB2YXIga2V5cyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIGtleXMucHVzaChrZXkpO1xuICAgIC8vIEFoZW0sIElFIDwgOS5cbiAgICBpZiAoaGFzRW51bUJ1ZykgY29sbGVjdE5vbkVudW1Qcm9wcyhvYmosIGtleXMpO1xuICAgIHJldHVybiBrZXlzO1xuICB9O1xuXG4gIC8vIFJldHJpZXZlIHRoZSB2YWx1ZXMgb2YgYW4gb2JqZWN0J3MgcHJvcGVydGllcy5cbiAgXy52YWx1ZXMgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIga2V5cyA9IF8ua2V5cyhvYmopO1xuICAgIHZhciBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgICB2YXIgdmFsdWVzID0gQXJyYXkobGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB2YWx1ZXNbaV0gPSBvYmpba2V5c1tpXV07XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZXM7XG4gIH07XG5cbiAgLy8gUmV0dXJucyB0aGUgcmVzdWx0cyBvZiBhcHBseWluZyB0aGUgaXRlcmF0ZWUgdG8gZWFjaCBlbGVtZW50IG9mIHRoZSBvYmplY3RcbiAgLy8gSW4gY29udHJhc3QgdG8gXy5tYXAgaXQgcmV0dXJucyBhbiBvYmplY3RcbiAgXy5tYXBPYmplY3QgPSBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgdmFyIGtleXMgPSAgXy5rZXlzKG9iaiksXG4gICAgICAgICAgbGVuZ3RoID0ga2V5cy5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0cyA9IHt9LFxuICAgICAgICAgIGN1cnJlbnRLZXk7XG4gICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIGN1cnJlbnRLZXkgPSBrZXlzW2luZGV4XTtcbiAgICAgICAgcmVzdWx0c1tjdXJyZW50S2V5XSA9IGl0ZXJhdGVlKG9ialtjdXJyZW50S2V5XSwgY3VycmVudEtleSwgb2JqKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHRzO1xuICB9O1xuXG4gIC8vIENvbnZlcnQgYW4gb2JqZWN0IGludG8gYSBsaXN0IG9mIGBba2V5LCB2YWx1ZV1gIHBhaXJzLlxuICBfLnBhaXJzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIGtleXMgPSBfLmtleXMob2JqKTtcbiAgICB2YXIgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgdmFyIHBhaXJzID0gQXJyYXkobGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBwYWlyc1tpXSA9IFtrZXlzW2ldLCBvYmpba2V5c1tpXV1dO1xuICAgIH1cbiAgICByZXR1cm4gcGFpcnM7XG4gIH07XG5cbiAgLy8gSW52ZXJ0IHRoZSBrZXlzIGFuZCB2YWx1ZXMgb2YgYW4gb2JqZWN0LiBUaGUgdmFsdWVzIG11c3QgYmUgc2VyaWFsaXphYmxlLlxuICBfLmludmVydCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICB2YXIga2V5cyA9IF8ua2V5cyhvYmopO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBrZXlzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICByZXN1bHRbb2JqW2tleXNbaV1dXSA9IGtleXNbaV07XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gUmV0dXJuIGEgc29ydGVkIGxpc3Qgb2YgdGhlIGZ1bmN0aW9uIG5hbWVzIGF2YWlsYWJsZSBvbiB0aGUgb2JqZWN0LlxuICAvLyBBbGlhc2VkIGFzIGBtZXRob2RzYFxuICBfLmZ1bmN0aW9ucyA9IF8ubWV0aG9kcyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBuYW1lcyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgIGlmIChfLmlzRnVuY3Rpb24ob2JqW2tleV0pKSBuYW1lcy5wdXNoKGtleSk7XG4gICAgfVxuICAgIHJldHVybiBuYW1lcy5zb3J0KCk7XG4gIH07XG5cbiAgLy8gRXh0ZW5kIGEgZ2l2ZW4gb2JqZWN0IHdpdGggYWxsIHRoZSBwcm9wZXJ0aWVzIGluIHBhc3NlZC1pbiBvYmplY3QocykuXG4gIF8uZXh0ZW5kID0gY3JlYXRlQXNzaWduZXIoXy5hbGxLZXlzKTtcblxuICAvLyBBc3NpZ25zIGEgZ2l2ZW4gb2JqZWN0IHdpdGggYWxsIHRoZSBvd24gcHJvcGVydGllcyBpbiB0aGUgcGFzc2VkLWluIG9iamVjdChzKVxuICAvLyAoaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2Fzc2lnbilcbiAgXy5leHRlbmRPd24gPSBfLmFzc2lnbiA9IGNyZWF0ZUFzc2lnbmVyKF8ua2V5cyk7XG5cbiAgLy8gUmV0dXJucyB0aGUgZmlyc3Qga2V5IG9uIGFuIG9iamVjdCB0aGF0IHBhc3NlcyBhIHByZWRpY2F0ZSB0ZXN0XG4gIF8uZmluZEtleSA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcHJlZGljYXRlID0gY2IocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICB2YXIga2V5cyA9IF8ua2V5cyhvYmopLCBrZXk7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGtleXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGtleSA9IGtleXNbaV07XG4gICAgICBpZiAocHJlZGljYXRlKG9ialtrZXldLCBrZXksIG9iaikpIHJldHVybiBrZXk7XG4gICAgfVxuICB9O1xuXG4gIC8vIFJldHVybiBhIGNvcHkgb2YgdGhlIG9iamVjdCBvbmx5IGNvbnRhaW5pbmcgdGhlIHdoaXRlbGlzdGVkIHByb3BlcnRpZXMuXG4gIF8ucGljayA9IGZ1bmN0aW9uKG9iamVjdCwgb2l0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgdmFyIHJlc3VsdCA9IHt9LCBvYmogPSBvYmplY3QsIGl0ZXJhdGVlLCBrZXlzO1xuICAgIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuIHJlc3VsdDtcbiAgICBpZiAoXy5pc0Z1bmN0aW9uKG9pdGVyYXRlZSkpIHtcbiAgICAgIGtleXMgPSBfLmFsbEtleXMob2JqKTtcbiAgICAgIGl0ZXJhdGVlID0gb3B0aW1pemVDYihvaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBrZXlzID0gZmxhdHRlbihhcmd1bWVudHMsIGZhbHNlLCBmYWxzZSwgMSk7XG4gICAgICBpdGVyYXRlZSA9IGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iaikgeyByZXR1cm4ga2V5IGluIG9iajsgfTtcbiAgICAgIG9iaiA9IE9iamVjdChvYmopO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0ga2V5cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICB2YXIgdmFsdWUgPSBvYmpba2V5XTtcbiAgICAgIGlmIChpdGVyYXRlZSh2YWx1ZSwga2V5LCBvYmopKSByZXN1bHRba2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gICAvLyBSZXR1cm4gYSBjb3B5IG9mIHRoZSBvYmplY3Qgd2l0aG91dCB0aGUgYmxhY2tsaXN0ZWQgcHJvcGVydGllcy5cbiAgXy5vbWl0ID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIGlmIChfLmlzRnVuY3Rpb24oaXRlcmF0ZWUpKSB7XG4gICAgICBpdGVyYXRlZSA9IF8ubmVnYXRlKGl0ZXJhdGVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGtleXMgPSBfLm1hcChmbGF0dGVuKGFyZ3VtZW50cywgZmFsc2UsIGZhbHNlLCAxKSwgU3RyaW5nKTtcbiAgICAgIGl0ZXJhdGVlID0gZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICByZXR1cm4gIV8uY29udGFpbnMoa2V5cywga2V5KTtcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBfLnBpY2sob2JqLCBpdGVyYXRlZSwgY29udGV4dCk7XG4gIH07XG5cbiAgLy8gRmlsbCBpbiBhIGdpdmVuIG9iamVjdCB3aXRoIGRlZmF1bHQgcHJvcGVydGllcy5cbiAgXy5kZWZhdWx0cyA9IGNyZWF0ZUFzc2lnbmVyKF8uYWxsS2V5cywgdHJ1ZSk7XG5cbiAgLy8gQ3JlYXRlcyBhbiBvYmplY3QgdGhhdCBpbmhlcml0cyBmcm9tIHRoZSBnaXZlbiBwcm90b3R5cGUgb2JqZWN0LlxuICAvLyBJZiBhZGRpdGlvbmFsIHByb3BlcnRpZXMgYXJlIHByb3ZpZGVkIHRoZW4gdGhleSB3aWxsIGJlIGFkZGVkIHRvIHRoZVxuICAvLyBjcmVhdGVkIG9iamVjdC5cbiAgXy5jcmVhdGUgPSBmdW5jdGlvbihwcm90b3R5cGUsIHByb3BzKSB7XG4gICAgdmFyIHJlc3VsdCA9IGJhc2VDcmVhdGUocHJvdG90eXBlKTtcbiAgICBpZiAocHJvcHMpIF8uZXh0ZW5kT3duKHJlc3VsdCwgcHJvcHMpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gQ3JlYXRlIGEgKHNoYWxsb3ctY2xvbmVkKSBkdXBsaWNhdGUgb2YgYW4gb2JqZWN0LlxuICBfLmNsb25lID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKCFfLmlzT2JqZWN0KG9iaikpIHJldHVybiBvYmo7XG4gICAgcmV0dXJuIF8uaXNBcnJheShvYmopID8gb2JqLnNsaWNlKCkgOiBfLmV4dGVuZCh7fSwgb2JqKTtcbiAgfTtcblxuICAvLyBJbnZva2VzIGludGVyY2VwdG9yIHdpdGggdGhlIG9iaiwgYW5kIHRoZW4gcmV0dXJucyBvYmouXG4gIC8vIFRoZSBwcmltYXJ5IHB1cnBvc2Ugb2YgdGhpcyBtZXRob2QgaXMgdG8gXCJ0YXAgaW50b1wiIGEgbWV0aG9kIGNoYWluLCBpblxuICAvLyBvcmRlciB0byBwZXJmb3JtIG9wZXJhdGlvbnMgb24gaW50ZXJtZWRpYXRlIHJlc3VsdHMgd2l0aGluIHRoZSBjaGFpbi5cbiAgXy50YXAgPSBmdW5jdGlvbihvYmosIGludGVyY2VwdG9yKSB7XG4gICAgaW50ZXJjZXB0b3Iob2JqKTtcbiAgICByZXR1cm4gb2JqO1xuICB9O1xuXG4gIC8vIFJldHVybnMgd2hldGhlciBhbiBvYmplY3QgaGFzIGEgZ2l2ZW4gc2V0IG9mIGBrZXk6dmFsdWVgIHBhaXJzLlxuICBfLmlzTWF0Y2ggPSBmdW5jdGlvbihvYmplY3QsIGF0dHJzKSB7XG4gICAgdmFyIGtleXMgPSBfLmtleXMoYXR0cnMpLCBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgICBpZiAob2JqZWN0ID09IG51bGwpIHJldHVybiAhbGVuZ3RoO1xuICAgIHZhciBvYmogPSBPYmplY3Qob2JqZWN0KTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgIGlmIChhdHRyc1trZXldICE9PSBvYmpba2V5XSB8fCAhKGtleSBpbiBvYmopKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG5cbiAgLy8gSW50ZXJuYWwgcmVjdXJzaXZlIGNvbXBhcmlzb24gZnVuY3Rpb24gZm9yIGBpc0VxdWFsYC5cbiAgdmFyIGVxID0gZnVuY3Rpb24oYSwgYiwgYVN0YWNrLCBiU3RhY2spIHtcbiAgICAvLyBJZGVudGljYWwgb2JqZWN0cyBhcmUgZXF1YWwuIGAwID09PSAtMGAsIGJ1dCB0aGV5IGFyZW4ndCBpZGVudGljYWwuXG4gICAgLy8gU2VlIHRoZSBbSGFybW9ueSBgZWdhbGAgcHJvcG9zYWxdKGh0dHA6Ly93aWtpLmVjbWFzY3JpcHQub3JnL2Rva3UucGhwP2lkPWhhcm1vbnk6ZWdhbCkuXG4gICAgaWYgKGEgPT09IGIpIHJldHVybiBhICE9PSAwIHx8IDEgLyBhID09PSAxIC8gYjtcbiAgICAvLyBBIHN0cmljdCBjb21wYXJpc29uIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIGBudWxsID09IHVuZGVmaW5lZGAuXG4gICAgaWYgKGEgPT0gbnVsbCB8fCBiID09IG51bGwpIHJldHVybiBhID09PSBiO1xuICAgIC8vIFVud3JhcCBhbnkgd3JhcHBlZCBvYmplY3RzLlxuICAgIGlmIChhIGluc3RhbmNlb2YgXykgYSA9IGEuX3dyYXBwZWQ7XG4gICAgaWYgKGIgaW5zdGFuY2VvZiBfKSBiID0gYi5fd3JhcHBlZDtcbiAgICAvLyBDb21wYXJlIGBbW0NsYXNzXV1gIG5hbWVzLlxuICAgIHZhciBjbGFzc05hbWUgPSB0b1N0cmluZy5jYWxsKGEpO1xuICAgIGlmIChjbGFzc05hbWUgIT09IHRvU3RyaW5nLmNhbGwoYikpIHJldHVybiBmYWxzZTtcbiAgICBzd2l0Y2ggKGNsYXNzTmFtZSkge1xuICAgICAgLy8gU3RyaW5ncywgbnVtYmVycywgcmVndWxhciBleHByZXNzaW9ucywgZGF0ZXMsIGFuZCBib29sZWFucyBhcmUgY29tcGFyZWQgYnkgdmFsdWUuXG4gICAgICBjYXNlICdbb2JqZWN0IFJlZ0V4cF0nOlxuICAgICAgLy8gUmVnRXhwcyBhcmUgY29lcmNlZCB0byBzdHJpbmdzIGZvciBjb21wYXJpc29uIChOb3RlOiAnJyArIC9hL2kgPT09ICcvYS9pJylcbiAgICAgIGNhc2UgJ1tvYmplY3QgU3RyaW5nXSc6XG4gICAgICAgIC8vIFByaW1pdGl2ZXMgYW5kIHRoZWlyIGNvcnJlc3BvbmRpbmcgb2JqZWN0IHdyYXBwZXJzIGFyZSBlcXVpdmFsZW50OyB0aHVzLCBgXCI1XCJgIGlzXG4gICAgICAgIC8vIGVxdWl2YWxlbnQgdG8gYG5ldyBTdHJpbmcoXCI1XCIpYC5cbiAgICAgICAgcmV0dXJuICcnICsgYSA9PT0gJycgKyBiO1xuICAgICAgY2FzZSAnW29iamVjdCBOdW1iZXJdJzpcbiAgICAgICAgLy8gYE5hTmBzIGFyZSBlcXVpdmFsZW50LCBidXQgbm9uLXJlZmxleGl2ZS5cbiAgICAgICAgLy8gT2JqZWN0KE5hTikgaXMgZXF1aXZhbGVudCB0byBOYU5cbiAgICAgICAgaWYgKCthICE9PSArYSkgcmV0dXJuICtiICE9PSArYjtcbiAgICAgICAgLy8gQW4gYGVnYWxgIGNvbXBhcmlzb24gaXMgcGVyZm9ybWVkIGZvciBvdGhlciBudW1lcmljIHZhbHVlcy5cbiAgICAgICAgcmV0dXJuICthID09PSAwID8gMSAvICthID09PSAxIC8gYiA6ICthID09PSArYjtcbiAgICAgIGNhc2UgJ1tvYmplY3QgRGF0ZV0nOlxuICAgICAgY2FzZSAnW29iamVjdCBCb29sZWFuXSc6XG4gICAgICAgIC8vIENvZXJjZSBkYXRlcyBhbmQgYm9vbGVhbnMgdG8gbnVtZXJpYyBwcmltaXRpdmUgdmFsdWVzLiBEYXRlcyBhcmUgY29tcGFyZWQgYnkgdGhlaXJcbiAgICAgICAgLy8gbWlsbGlzZWNvbmQgcmVwcmVzZW50YXRpb25zLiBOb3RlIHRoYXQgaW52YWxpZCBkYXRlcyB3aXRoIG1pbGxpc2Vjb25kIHJlcHJlc2VudGF0aW9uc1xuICAgICAgICAvLyBvZiBgTmFOYCBhcmUgbm90IGVxdWl2YWxlbnQuXG4gICAgICAgIHJldHVybiArYSA9PT0gK2I7XG4gICAgfVxuXG4gICAgdmFyIGFyZUFycmF5cyA9IGNsYXNzTmFtZSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgICBpZiAoIWFyZUFycmF5cykge1xuICAgICAgaWYgKHR5cGVvZiBhICE9ICdvYmplY3QnIHx8IHR5cGVvZiBiICE9ICdvYmplY3QnKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgIC8vIE9iamVjdHMgd2l0aCBkaWZmZXJlbnQgY29uc3RydWN0b3JzIGFyZSBub3QgZXF1aXZhbGVudCwgYnV0IGBPYmplY3RgcyBvciBgQXJyYXlgc1xuICAgICAgLy8gZnJvbSBkaWZmZXJlbnQgZnJhbWVzIGFyZS5cbiAgICAgIHZhciBhQ3RvciA9IGEuY29uc3RydWN0b3IsIGJDdG9yID0gYi5jb25zdHJ1Y3RvcjtcbiAgICAgIGlmIChhQ3RvciAhPT0gYkN0b3IgJiYgIShfLmlzRnVuY3Rpb24oYUN0b3IpICYmIGFDdG9yIGluc3RhbmNlb2YgYUN0b3IgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmlzRnVuY3Rpb24oYkN0b3IpICYmIGJDdG9yIGluc3RhbmNlb2YgYkN0b3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICYmICgnY29uc3RydWN0b3InIGluIGEgJiYgJ2NvbnN0cnVjdG9yJyBpbiBiKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIEFzc3VtZSBlcXVhbGl0eSBmb3IgY3ljbGljIHN0cnVjdHVyZXMuIFRoZSBhbGdvcml0aG0gZm9yIGRldGVjdGluZyBjeWNsaWNcbiAgICAvLyBzdHJ1Y3R1cmVzIGlzIGFkYXB0ZWQgZnJvbSBFUyA1LjEgc2VjdGlvbiAxNS4xMi4zLCBhYnN0cmFjdCBvcGVyYXRpb24gYEpPYC5cblxuICAgIC8vIEluaXRpYWxpemluZyBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICAvLyBJdCdzIGRvbmUgaGVyZSBzaW5jZSB3ZSBvbmx5IG5lZWQgdGhlbSBmb3Igb2JqZWN0cyBhbmQgYXJyYXlzIGNvbXBhcmlzb24uXG4gICAgYVN0YWNrID0gYVN0YWNrIHx8IFtdO1xuICAgIGJTdGFjayA9IGJTdGFjayB8fCBbXTtcbiAgICB2YXIgbGVuZ3RoID0gYVN0YWNrLmxlbmd0aDtcbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIC8vIExpbmVhciBzZWFyY2guIFBlcmZvcm1hbmNlIGlzIGludmVyc2VseSBwcm9wb3J0aW9uYWwgdG8gdGhlIG51bWJlciBvZlxuICAgICAgLy8gdW5pcXVlIG5lc3RlZCBzdHJ1Y3R1cmVzLlxuICAgICAgaWYgKGFTdGFja1tsZW5ndGhdID09PSBhKSByZXR1cm4gYlN0YWNrW2xlbmd0aF0gPT09IGI7XG4gICAgfVxuXG4gICAgLy8gQWRkIHRoZSBmaXJzdCBvYmplY3QgdG8gdGhlIHN0YWNrIG9mIHRyYXZlcnNlZCBvYmplY3RzLlxuICAgIGFTdGFjay5wdXNoKGEpO1xuICAgIGJTdGFjay5wdXNoKGIpO1xuXG4gICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIGFuZCBhcnJheXMuXG4gICAgaWYgKGFyZUFycmF5cykge1xuICAgICAgLy8gQ29tcGFyZSBhcnJheSBsZW5ndGhzIHRvIGRldGVybWluZSBpZiBhIGRlZXAgY29tcGFyaXNvbiBpcyBuZWNlc3NhcnkuXG4gICAgICBsZW5ndGggPSBhLmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGggIT09IGIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgICAvLyBEZWVwIGNvbXBhcmUgdGhlIGNvbnRlbnRzLCBpZ25vcmluZyBub24tbnVtZXJpYyBwcm9wZXJ0aWVzLlxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIGlmICghZXEoYVtsZW5ndGhdLCBiW2xlbmd0aF0sIGFTdGFjaywgYlN0YWNrKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBEZWVwIGNvbXBhcmUgb2JqZWN0cy5cbiAgICAgIHZhciBrZXlzID0gXy5rZXlzKGEpLCBrZXk7XG4gICAgICBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgICAgIC8vIEVuc3VyZSB0aGF0IGJvdGggb2JqZWN0cyBjb250YWluIHRoZSBzYW1lIG51bWJlciBvZiBwcm9wZXJ0aWVzIGJlZm9yZSBjb21wYXJpbmcgZGVlcCBlcXVhbGl0eS5cbiAgICAgIGlmIChfLmtleXMoYikubGVuZ3RoICE9PSBsZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICAvLyBEZWVwIGNvbXBhcmUgZWFjaCBtZW1iZXJcbiAgICAgICAga2V5ID0ga2V5c1tsZW5ndGhdO1xuICAgICAgICBpZiAoIShfLmhhcyhiLCBrZXkpICYmIGVxKGFba2V5XSwgYltrZXldLCBhU3RhY2ssIGJTdGFjaykpKSByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIFJlbW92ZSB0aGUgZmlyc3Qgb2JqZWN0IGZyb20gdGhlIHN0YWNrIG9mIHRyYXZlcnNlZCBvYmplY3RzLlxuICAgIGFTdGFjay5wb3AoKTtcbiAgICBiU3RhY2sucG9wKCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cbiAgLy8gUGVyZm9ybSBhIGRlZXAgY29tcGFyaXNvbiB0byBjaGVjayBpZiB0d28gb2JqZWN0cyBhcmUgZXF1YWwuXG4gIF8uaXNFcXVhbCA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gZXEoYSwgYik7XG4gIH07XG5cbiAgLy8gSXMgYSBnaXZlbiBhcnJheSwgc3RyaW5nLCBvciBvYmplY3QgZW1wdHk/XG4gIC8vIEFuIFwiZW1wdHlcIiBvYmplY3QgaGFzIG5vIGVudW1lcmFibGUgb3duLXByb3BlcnRpZXMuXG4gIF8uaXNFbXB0eSA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuIHRydWU7XG4gICAgaWYgKGlzQXJyYXlMaWtlKG9iaikgJiYgKF8uaXNBcnJheShvYmopIHx8IF8uaXNTdHJpbmcob2JqKSB8fCBfLmlzQXJndW1lbnRzKG9iaikpKSByZXR1cm4gb2JqLmxlbmd0aCA9PT0gMDtcbiAgICByZXR1cm4gXy5rZXlzKG9iaikubGVuZ3RoID09PSAwO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gdmFsdWUgYSBET00gZWxlbWVudD9cbiAgXy5pc0VsZW1lbnQgPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gISEob2JqICYmIG9iai5ub2RlVHlwZSA9PT0gMSk7XG4gIH07XG5cbiAgLy8gSXMgYSBnaXZlbiB2YWx1ZSBhbiBhcnJheT9cbiAgLy8gRGVsZWdhdGVzIHRvIEVDTUE1J3MgbmF0aXZlIEFycmF5LmlzQXJyYXlcbiAgXy5pc0FycmF5ID0gbmF0aXZlSXNBcnJheSB8fCBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBBcnJheV0nO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gdmFyaWFibGUgYW4gb2JqZWN0P1xuICBfLmlzT2JqZWN0ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIHR5cGUgPSB0eXBlb2Ygb2JqO1xuICAgIHJldHVybiB0eXBlID09PSAnZnVuY3Rpb24nIHx8IHR5cGUgPT09ICdvYmplY3QnICYmICEhb2JqO1xuICB9O1xuXG4gIC8vIEFkZCBzb21lIGlzVHlwZSBtZXRob2RzOiBpc0FyZ3VtZW50cywgaXNGdW5jdGlvbiwgaXNTdHJpbmcsIGlzTnVtYmVyLCBpc0RhdGUsIGlzUmVnRXhwLCBpc0Vycm9yLlxuICBfLmVhY2goWydBcmd1bWVudHMnLCAnRnVuY3Rpb24nLCAnU3RyaW5nJywgJ051bWJlcicsICdEYXRlJywgJ1JlZ0V4cCcsICdFcnJvciddLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgX1snaXMnICsgbmFtZV0gPSBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiB0b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0ICcgKyBuYW1lICsgJ10nO1xuICAgIH07XG4gIH0pO1xuXG4gIC8vIERlZmluZSBhIGZhbGxiYWNrIHZlcnNpb24gb2YgdGhlIG1ldGhvZCBpbiBicm93c2VycyAoYWhlbSwgSUUgPCA5KSwgd2hlcmVcbiAgLy8gdGhlcmUgaXNuJ3QgYW55IGluc3BlY3RhYmxlIFwiQXJndW1lbnRzXCIgdHlwZS5cbiAgaWYgKCFfLmlzQXJndW1lbnRzKGFyZ3VtZW50cykpIHtcbiAgICBfLmlzQXJndW1lbnRzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gXy5oYXMob2JqLCAnY2FsbGVlJyk7XG4gICAgfTtcbiAgfVxuXG4gIC8vIE9wdGltaXplIGBpc0Z1bmN0aW9uYCBpZiBhcHByb3ByaWF0ZS4gV29yayBhcm91bmQgc29tZSB0eXBlb2YgYnVncyBpbiBvbGQgdjgsXG4gIC8vIElFIDExICgjMTYyMSksIGFuZCBpbiBTYWZhcmkgOCAoIzE5MjkpLlxuICBpZiAodHlwZW9mIC8uLyAhPSAnZnVuY3Rpb24nICYmIHR5cGVvZiBJbnQ4QXJyYXkgIT0gJ29iamVjdCcpIHtcbiAgICBfLmlzRnVuY3Rpb24gPSBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiB0eXBlb2Ygb2JqID09ICdmdW5jdGlvbicgfHwgZmFsc2U7XG4gICAgfTtcbiAgfVxuXG4gIC8vIElzIGEgZ2l2ZW4gb2JqZWN0IGEgZmluaXRlIG51bWJlcj9cbiAgXy5pc0Zpbml0ZSA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBpc0Zpbml0ZShvYmopICYmICFpc05hTihwYXJzZUZsb2F0KG9iaikpO1xuICB9O1xuXG4gIC8vIElzIHRoZSBnaXZlbiB2YWx1ZSBgTmFOYD8gKE5hTiBpcyB0aGUgb25seSBudW1iZXIgd2hpY2ggZG9lcyBub3QgZXF1YWwgaXRzZWxmKS5cbiAgXy5pc05hTiA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBfLmlzTnVtYmVyKG9iaikgJiYgb2JqICE9PSArb2JqO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gdmFsdWUgYSBib29sZWFuP1xuICBfLmlzQm9vbGVhbiA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBvYmogPT09IHRydWUgfHwgb2JqID09PSBmYWxzZSB8fCB0b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEJvb2xlYW5dJztcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIHZhbHVlIGVxdWFsIHRvIG51bGw/XG4gIF8uaXNOdWxsID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIG9iaiA9PT0gbnVsbDtcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIHZhcmlhYmxlIHVuZGVmaW5lZD9cbiAgXy5pc1VuZGVmaW5lZCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBvYmogPT09IHZvaWQgMDtcbiAgfTtcblxuICAvLyBTaG9ydGN1dCBmdW5jdGlvbiBmb3IgY2hlY2tpbmcgaWYgYW4gb2JqZWN0IGhhcyBhIGdpdmVuIHByb3BlcnR5IGRpcmVjdGx5XG4gIC8vIG9uIGl0c2VsZiAoaW4gb3RoZXIgd29yZHMsIG5vdCBvbiBhIHByb3RvdHlwZSkuXG4gIF8uaGFzID0gZnVuY3Rpb24ob2JqLCBrZXkpIHtcbiAgICByZXR1cm4gb2JqICE9IG51bGwgJiYgaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSk7XG4gIH07XG5cbiAgLy8gVXRpbGl0eSBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyBSdW4gVW5kZXJzY29yZS5qcyBpbiAqbm9Db25mbGljdCogbW9kZSwgcmV0dXJuaW5nIHRoZSBgX2AgdmFyaWFibGUgdG8gaXRzXG4gIC8vIHByZXZpb3VzIG93bmVyLiBSZXR1cm5zIGEgcmVmZXJlbmNlIHRvIHRoZSBVbmRlcnNjb3JlIG9iamVjdC5cbiAgXy5ub0NvbmZsaWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgcm9vdC5fID0gcHJldmlvdXNVbmRlcnNjb3JlO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8vIEtlZXAgdGhlIGlkZW50aXR5IGZ1bmN0aW9uIGFyb3VuZCBmb3IgZGVmYXVsdCBpdGVyYXRlZXMuXG4gIF8uaWRlbnRpdHkgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcblxuICAvLyBQcmVkaWNhdGUtZ2VuZXJhdGluZyBmdW5jdGlvbnMuIE9mdGVuIHVzZWZ1bCBvdXRzaWRlIG9mIFVuZGVyc2NvcmUuXG4gIF8uY29uc3RhbnQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuICB9O1xuXG4gIF8ubm9vcCA9IGZ1bmN0aW9uKCl7fTtcblxuICBfLnByb3BlcnR5ID0gcHJvcGVydHk7XG5cbiAgLy8gR2VuZXJhdGVzIGEgZnVuY3Rpb24gZm9yIGEgZ2l2ZW4gb2JqZWN0IHRoYXQgcmV0dXJucyBhIGdpdmVuIHByb3BlcnR5LlxuICBfLnByb3BlcnR5T2YgPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gb2JqID09IG51bGwgPyBmdW5jdGlvbigpe30gOiBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBvYmpba2V5XTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIFJldHVybnMgYSBwcmVkaWNhdGUgZm9yIGNoZWNraW5nIHdoZXRoZXIgYW4gb2JqZWN0IGhhcyBhIGdpdmVuIHNldCBvZlxuICAvLyBga2V5OnZhbHVlYCBwYWlycy5cbiAgXy5tYXRjaGVyID0gXy5tYXRjaGVzID0gZnVuY3Rpb24oYXR0cnMpIHtcbiAgICBhdHRycyA9IF8uZXh0ZW5kT3duKHt9LCBhdHRycyk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIF8uaXNNYXRjaChvYmosIGF0dHJzKTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIFJ1biBhIGZ1bmN0aW9uICoqbioqIHRpbWVzLlxuICBfLnRpbWVzID0gZnVuY3Rpb24obiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICB2YXIgYWNjdW0gPSBBcnJheShNYXRoLm1heCgwLCBuKSk7XG4gICAgaXRlcmF0ZWUgPSBvcHRpbWl6ZUNiKGl0ZXJhdGVlLCBjb250ZXh0LCAxKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKykgYWNjdW1baV0gPSBpdGVyYXRlZShpKTtcbiAgICByZXR1cm4gYWNjdW07XG4gIH07XG5cbiAgLy8gUmV0dXJuIGEgcmFuZG9tIGludGVnZXIgYmV0d2VlbiBtaW4gYW5kIG1heCAoaW5jbHVzaXZlKS5cbiAgXy5yYW5kb20gPSBmdW5jdGlvbihtaW4sIG1heCkge1xuICAgIGlmIChtYXggPT0gbnVsbCkge1xuICAgICAgbWF4ID0gbWluO1xuICAgICAgbWluID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIG1pbiArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSk7XG4gIH07XG5cbiAgLy8gQSAocG9zc2libHkgZmFzdGVyKSB3YXkgdG8gZ2V0IHRoZSBjdXJyZW50IHRpbWVzdGFtcCBhcyBhbiBpbnRlZ2VyLlxuICBfLm5vdyA9IERhdGUubm93IHx8IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgfTtcblxuICAgLy8gTGlzdCBvZiBIVE1MIGVudGl0aWVzIGZvciBlc2NhcGluZy5cbiAgdmFyIGVzY2FwZU1hcCA9IHtcbiAgICAnJic6ICcmYW1wOycsXG4gICAgJzwnOiAnJmx0OycsXG4gICAgJz4nOiAnJmd0OycsXG4gICAgJ1wiJzogJyZxdW90OycsXG4gICAgXCInXCI6ICcmI3gyNzsnLFxuICAgICdgJzogJyYjeDYwOydcbiAgfTtcbiAgdmFyIHVuZXNjYXBlTWFwID0gXy5pbnZlcnQoZXNjYXBlTWFwKTtcblxuICAvLyBGdW5jdGlvbnMgZm9yIGVzY2FwaW5nIGFuZCB1bmVzY2FwaW5nIHN0cmluZ3MgdG8vZnJvbSBIVE1MIGludGVycG9sYXRpb24uXG4gIHZhciBjcmVhdGVFc2NhcGVyID0gZnVuY3Rpb24obWFwKSB7XG4gICAgdmFyIGVzY2FwZXIgPSBmdW5jdGlvbihtYXRjaCkge1xuICAgICAgcmV0dXJuIG1hcFttYXRjaF07XG4gICAgfTtcbiAgICAvLyBSZWdleGVzIGZvciBpZGVudGlmeWluZyBhIGtleSB0aGF0IG5lZWRzIHRvIGJlIGVzY2FwZWRcbiAgICB2YXIgc291cmNlID0gJyg/OicgKyBfLmtleXMobWFwKS5qb2luKCd8JykgKyAnKSc7XG4gICAgdmFyIHRlc3RSZWdleHAgPSBSZWdFeHAoc291cmNlKTtcbiAgICB2YXIgcmVwbGFjZVJlZ2V4cCA9IFJlZ0V4cChzb3VyY2UsICdnJyk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgc3RyaW5nID0gc3RyaW5nID09IG51bGwgPyAnJyA6ICcnICsgc3RyaW5nO1xuICAgICAgcmV0dXJuIHRlc3RSZWdleHAudGVzdChzdHJpbmcpID8gc3RyaW5nLnJlcGxhY2UocmVwbGFjZVJlZ2V4cCwgZXNjYXBlcikgOiBzdHJpbmc7XG4gICAgfTtcbiAgfTtcbiAgXy5lc2NhcGUgPSBjcmVhdGVFc2NhcGVyKGVzY2FwZU1hcCk7XG4gIF8udW5lc2NhcGUgPSBjcmVhdGVFc2NhcGVyKHVuZXNjYXBlTWFwKTtcblxuICAvLyBJZiB0aGUgdmFsdWUgb2YgdGhlIG5hbWVkIGBwcm9wZXJ0eWAgaXMgYSBmdW5jdGlvbiB0aGVuIGludm9rZSBpdCB3aXRoIHRoZVxuICAvLyBgb2JqZWN0YCBhcyBjb250ZXh0OyBvdGhlcndpc2UsIHJldHVybiBpdC5cbiAgXy5yZXN1bHQgPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5LCBmYWxsYmFjaykge1xuICAgIHZhciB2YWx1ZSA9IG9iamVjdCA9PSBudWxsID8gdm9pZCAwIDogb2JqZWN0W3Byb3BlcnR5XTtcbiAgICBpZiAodmFsdWUgPT09IHZvaWQgMCkge1xuICAgICAgdmFsdWUgPSBmYWxsYmFjaztcbiAgICB9XG4gICAgcmV0dXJuIF8uaXNGdW5jdGlvbih2YWx1ZSkgPyB2YWx1ZS5jYWxsKG9iamVjdCkgOiB2YWx1ZTtcbiAgfTtcblxuICAvLyBHZW5lcmF0ZSBhIHVuaXF1ZSBpbnRlZ2VyIGlkICh1bmlxdWUgd2l0aGluIHRoZSBlbnRpcmUgY2xpZW50IHNlc3Npb24pLlxuICAvLyBVc2VmdWwgZm9yIHRlbXBvcmFyeSBET00gaWRzLlxuICB2YXIgaWRDb3VudGVyID0gMDtcbiAgXy51bmlxdWVJZCA9IGZ1bmN0aW9uKHByZWZpeCkge1xuICAgIHZhciBpZCA9ICsraWRDb3VudGVyICsgJyc7XG4gICAgcmV0dXJuIHByZWZpeCA/IHByZWZpeCArIGlkIDogaWQ7XG4gIH07XG5cbiAgLy8gQnkgZGVmYXVsdCwgVW5kZXJzY29yZSB1c2VzIEVSQi1zdHlsZSB0ZW1wbGF0ZSBkZWxpbWl0ZXJzLCBjaGFuZ2UgdGhlXG4gIC8vIGZvbGxvd2luZyB0ZW1wbGF0ZSBzZXR0aW5ncyB0byB1c2UgYWx0ZXJuYXRpdmUgZGVsaW1pdGVycy5cbiAgXy50ZW1wbGF0ZVNldHRpbmdzID0ge1xuICAgIGV2YWx1YXRlICAgIDogLzwlKFtcXHNcXFNdKz8pJT4vZyxcbiAgICBpbnRlcnBvbGF0ZSA6IC88JT0oW1xcc1xcU10rPyklPi9nLFxuICAgIGVzY2FwZSAgICAgIDogLzwlLShbXFxzXFxTXSs/KSU+L2dcbiAgfTtcblxuICAvLyBXaGVuIGN1c3RvbWl6aW5nIGB0ZW1wbGF0ZVNldHRpbmdzYCwgaWYgeW91IGRvbid0IHdhbnQgdG8gZGVmaW5lIGFuXG4gIC8vIGludGVycG9sYXRpb24sIGV2YWx1YXRpb24gb3IgZXNjYXBpbmcgcmVnZXgsIHdlIG5lZWQgb25lIHRoYXQgaXNcbiAgLy8gZ3VhcmFudGVlZCBub3QgdG8gbWF0Y2guXG4gIHZhciBub01hdGNoID0gLyguKV4vO1xuXG4gIC8vIENlcnRhaW4gY2hhcmFjdGVycyBuZWVkIHRvIGJlIGVzY2FwZWQgc28gdGhhdCB0aGV5IGNhbiBiZSBwdXQgaW50byBhXG4gIC8vIHN0cmluZyBsaXRlcmFsLlxuICB2YXIgZXNjYXBlcyA9IHtcbiAgICBcIidcIjogICAgICBcIidcIixcbiAgICAnXFxcXCc6ICAgICAnXFxcXCcsXG4gICAgJ1xccic6ICAgICAncicsXG4gICAgJ1xcbic6ICAgICAnbicsXG4gICAgJ1xcdTIwMjgnOiAndTIwMjgnLFxuICAgICdcXHUyMDI5JzogJ3UyMDI5J1xuICB9O1xuXG4gIHZhciBlc2NhcGVyID0gL1xcXFx8J3xcXHJ8XFxufFxcdTIwMjh8XFx1MjAyOS9nO1xuXG4gIHZhciBlc2NhcGVDaGFyID0gZnVuY3Rpb24obWF0Y2gpIHtcbiAgICByZXR1cm4gJ1xcXFwnICsgZXNjYXBlc1ttYXRjaF07XG4gIH07XG5cbiAgLy8gSmF2YVNjcmlwdCBtaWNyby10ZW1wbGF0aW5nLCBzaW1pbGFyIHRvIEpvaG4gUmVzaWcncyBpbXBsZW1lbnRhdGlvbi5cbiAgLy8gVW5kZXJzY29yZSB0ZW1wbGF0aW5nIGhhbmRsZXMgYXJiaXRyYXJ5IGRlbGltaXRlcnMsIHByZXNlcnZlcyB3aGl0ZXNwYWNlLFxuICAvLyBhbmQgY29ycmVjdGx5IGVzY2FwZXMgcXVvdGVzIHdpdGhpbiBpbnRlcnBvbGF0ZWQgY29kZS5cbiAgLy8gTkI6IGBvbGRTZXR0aW5nc2Agb25seSBleGlzdHMgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxuICBfLnRlbXBsYXRlID0gZnVuY3Rpb24odGV4dCwgc2V0dGluZ3MsIG9sZFNldHRpbmdzKSB7XG4gICAgaWYgKCFzZXR0aW5ncyAmJiBvbGRTZXR0aW5ncykgc2V0dGluZ3MgPSBvbGRTZXR0aW5ncztcbiAgICBzZXR0aW5ncyA9IF8uZGVmYXVsdHMoe30sIHNldHRpbmdzLCBfLnRlbXBsYXRlU2V0dGluZ3MpO1xuXG4gICAgLy8gQ29tYmluZSBkZWxpbWl0ZXJzIGludG8gb25lIHJlZ3VsYXIgZXhwcmVzc2lvbiB2aWEgYWx0ZXJuYXRpb24uXG4gICAgdmFyIG1hdGNoZXIgPSBSZWdFeHAoW1xuICAgICAgKHNldHRpbmdzLmVzY2FwZSB8fCBub01hdGNoKS5zb3VyY2UsXG4gICAgICAoc2V0dGluZ3MuaW50ZXJwb2xhdGUgfHwgbm9NYXRjaCkuc291cmNlLFxuICAgICAgKHNldHRpbmdzLmV2YWx1YXRlIHx8IG5vTWF0Y2gpLnNvdXJjZVxuICAgIF0uam9pbignfCcpICsgJ3wkJywgJ2cnKTtcblxuICAgIC8vIENvbXBpbGUgdGhlIHRlbXBsYXRlIHNvdXJjZSwgZXNjYXBpbmcgc3RyaW5nIGxpdGVyYWxzIGFwcHJvcHJpYXRlbHkuXG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICB2YXIgc291cmNlID0gXCJfX3ArPSdcIjtcbiAgICB0ZXh0LnJlcGxhY2UobWF0Y2hlciwgZnVuY3Rpb24obWF0Y2gsIGVzY2FwZSwgaW50ZXJwb2xhdGUsIGV2YWx1YXRlLCBvZmZzZXQpIHtcbiAgICAgIHNvdXJjZSArPSB0ZXh0LnNsaWNlKGluZGV4LCBvZmZzZXQpLnJlcGxhY2UoZXNjYXBlciwgZXNjYXBlQ2hhcik7XG4gICAgICBpbmRleCA9IG9mZnNldCArIG1hdGNoLmxlbmd0aDtcblxuICAgICAgaWYgKGVzY2FwZSkge1xuICAgICAgICBzb3VyY2UgKz0gXCInK1xcbigoX190PShcIiArIGVzY2FwZSArIFwiKSk9PW51bGw/Jyc6Xy5lc2NhcGUoX190KSkrXFxuJ1wiO1xuICAgICAgfSBlbHNlIGlmIChpbnRlcnBvbGF0ZSkge1xuICAgICAgICBzb3VyY2UgKz0gXCInK1xcbigoX190PShcIiArIGludGVycG9sYXRlICsgXCIpKT09bnVsbD8nJzpfX3QpK1xcbidcIjtcbiAgICAgIH0gZWxzZSBpZiAoZXZhbHVhdGUpIHtcbiAgICAgICAgc291cmNlICs9IFwiJztcXG5cIiArIGV2YWx1YXRlICsgXCJcXG5fX3ArPSdcIjtcbiAgICAgIH1cblxuICAgICAgLy8gQWRvYmUgVk1zIG5lZWQgdGhlIG1hdGNoIHJldHVybmVkIHRvIHByb2R1Y2UgdGhlIGNvcnJlY3Qgb2ZmZXN0LlxuICAgICAgcmV0dXJuIG1hdGNoO1xuICAgIH0pO1xuICAgIHNvdXJjZSArPSBcIic7XFxuXCI7XG5cbiAgICAvLyBJZiBhIHZhcmlhYmxlIGlzIG5vdCBzcGVjaWZpZWQsIHBsYWNlIGRhdGEgdmFsdWVzIGluIGxvY2FsIHNjb3BlLlxuICAgIGlmICghc2V0dGluZ3MudmFyaWFibGUpIHNvdXJjZSA9ICd3aXRoKG9ianx8e30pe1xcbicgKyBzb3VyY2UgKyAnfVxcbic7XG5cbiAgICBzb3VyY2UgPSBcInZhciBfX3QsX19wPScnLF9faj1BcnJheS5wcm90b3R5cGUuam9pbixcIiArXG4gICAgICBcInByaW50PWZ1bmN0aW9uKCl7X19wKz1fX2ouY2FsbChhcmd1bWVudHMsJycpO307XFxuXCIgK1xuICAgICAgc291cmNlICsgJ3JldHVybiBfX3A7XFxuJztcblxuICAgIHRyeSB7XG4gICAgICB2YXIgcmVuZGVyID0gbmV3IEZ1bmN0aW9uKHNldHRpbmdzLnZhcmlhYmxlIHx8ICdvYmonLCAnXycsIHNvdXJjZSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgZS5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cblxuICAgIHZhciB0ZW1wbGF0ZSA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgIHJldHVybiByZW5kZXIuY2FsbCh0aGlzLCBkYXRhLCBfKTtcbiAgICB9O1xuXG4gICAgLy8gUHJvdmlkZSB0aGUgY29tcGlsZWQgc291cmNlIGFzIGEgY29udmVuaWVuY2UgZm9yIHByZWNvbXBpbGF0aW9uLlxuICAgIHZhciBhcmd1bWVudCA9IHNldHRpbmdzLnZhcmlhYmxlIHx8ICdvYmonO1xuICAgIHRlbXBsYXRlLnNvdXJjZSA9ICdmdW5jdGlvbignICsgYXJndW1lbnQgKyAnKXtcXG4nICsgc291cmNlICsgJ30nO1xuXG4gICAgcmV0dXJuIHRlbXBsYXRlO1xuICB9O1xuXG4gIC8vIEFkZCBhIFwiY2hhaW5cIiBmdW5jdGlvbi4gU3RhcnQgY2hhaW5pbmcgYSB3cmFwcGVkIFVuZGVyc2NvcmUgb2JqZWN0LlxuICBfLmNoYWluID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIGluc3RhbmNlID0gXyhvYmopO1xuICAgIGluc3RhbmNlLl9jaGFpbiA9IHRydWU7XG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9O1xuXG4gIC8vIE9PUFxuICAvLyAtLS0tLS0tLS0tLS0tLS1cbiAgLy8gSWYgVW5kZXJzY29yZSBpcyBjYWxsZWQgYXMgYSBmdW5jdGlvbiwgaXQgcmV0dXJucyBhIHdyYXBwZWQgb2JqZWN0IHRoYXRcbiAgLy8gY2FuIGJlIHVzZWQgT08tc3R5bGUuIFRoaXMgd3JhcHBlciBob2xkcyBhbHRlcmVkIHZlcnNpb25zIG9mIGFsbCB0aGVcbiAgLy8gdW5kZXJzY29yZSBmdW5jdGlvbnMuIFdyYXBwZWQgb2JqZWN0cyBtYXkgYmUgY2hhaW5lZC5cblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gY29udGludWUgY2hhaW5pbmcgaW50ZXJtZWRpYXRlIHJlc3VsdHMuXG4gIHZhciByZXN1bHQgPSBmdW5jdGlvbihpbnN0YW5jZSwgb2JqKSB7XG4gICAgcmV0dXJuIGluc3RhbmNlLl9jaGFpbiA/IF8ob2JqKS5jaGFpbigpIDogb2JqO1xuICB9O1xuXG4gIC8vIEFkZCB5b3VyIG93biBjdXN0b20gZnVuY3Rpb25zIHRvIHRoZSBVbmRlcnNjb3JlIG9iamVjdC5cbiAgXy5taXhpbiA9IGZ1bmN0aW9uKG9iaikge1xuICAgIF8uZWFjaChfLmZ1bmN0aW9ucyhvYmopLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgICB2YXIgZnVuYyA9IF9bbmFtZV0gPSBvYmpbbmFtZV07XG4gICAgICBfLnByb3RvdHlwZVtuYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IFt0aGlzLl93cmFwcGVkXTtcbiAgICAgICAgcHVzaC5hcHBseShhcmdzLCBhcmd1bWVudHMpO1xuICAgICAgICByZXR1cm4gcmVzdWx0KHRoaXMsIGZ1bmMuYXBwbHkoXywgYXJncykpO1xuICAgICAgfTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBBZGQgYWxsIG9mIHRoZSBVbmRlcnNjb3JlIGZ1bmN0aW9ucyB0byB0aGUgd3JhcHBlciBvYmplY3QuXG4gIF8ubWl4aW4oXyk7XG5cbiAgLy8gQWRkIGFsbCBtdXRhdG9yIEFycmF5IGZ1bmN0aW9ucyB0byB0aGUgd3JhcHBlci5cbiAgXy5lYWNoKFsncG9wJywgJ3B1c2gnLCAncmV2ZXJzZScsICdzaGlmdCcsICdzb3J0JywgJ3NwbGljZScsICd1bnNoaWZ0J10sIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICB2YXIgbWV0aG9kID0gQXJyYXlQcm90b1tuYW1lXTtcbiAgICBfLnByb3RvdHlwZVtuYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG9iaiA9IHRoaXMuX3dyYXBwZWQ7XG4gICAgICBtZXRob2QuYXBwbHkob2JqLCBhcmd1bWVudHMpO1xuICAgICAgaWYgKChuYW1lID09PSAnc2hpZnQnIHx8IG5hbWUgPT09ICdzcGxpY2UnKSAmJiBvYmoubGVuZ3RoID09PSAwKSBkZWxldGUgb2JqWzBdO1xuICAgICAgcmV0dXJuIHJlc3VsdCh0aGlzLCBvYmopO1xuICAgIH07XG4gIH0pO1xuXG4gIC8vIEFkZCBhbGwgYWNjZXNzb3IgQXJyYXkgZnVuY3Rpb25zIHRvIHRoZSB3cmFwcGVyLlxuICBfLmVhY2goWydjb25jYXQnLCAnam9pbicsICdzbGljZSddLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgdmFyIG1ldGhvZCA9IEFycmF5UHJvdG9bbmFtZV07XG4gICAgXy5wcm90b3R5cGVbbmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiByZXN1bHQodGhpcywgbWV0aG9kLmFwcGx5KHRoaXMuX3dyYXBwZWQsIGFyZ3VtZW50cykpO1xuICAgIH07XG4gIH0pO1xuXG4gIC8vIEV4dHJhY3RzIHRoZSByZXN1bHQgZnJvbSBhIHdyYXBwZWQgYW5kIGNoYWluZWQgb2JqZWN0LlxuICBfLnByb3RvdHlwZS52YWx1ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl93cmFwcGVkO1xuICB9O1xuXG4gIC8vIFByb3ZpZGUgdW53cmFwcGluZyBwcm94eSBmb3Igc29tZSBtZXRob2RzIHVzZWQgaW4gZW5naW5lIG9wZXJhdGlvbnNcbiAgLy8gc3VjaCBhcyBhcml0aG1ldGljIGFuZCBKU09OIHN0cmluZ2lmaWNhdGlvbi5cbiAgXy5wcm90b3R5cGUudmFsdWVPZiA9IF8ucHJvdG90eXBlLnRvSlNPTiA9IF8ucHJvdG90eXBlLnZhbHVlO1xuXG4gIF8ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICcnICsgdGhpcy5fd3JhcHBlZDtcbiAgfTtcblxuICAvLyBBTUQgcmVnaXN0cmF0aW9uIGhhcHBlbnMgYXQgdGhlIGVuZCBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIEFNRCBsb2FkZXJzXG4gIC8vIHRoYXQgbWF5IG5vdCBlbmZvcmNlIG5leHQtdHVybiBzZW1hbnRpY3Mgb24gbW9kdWxlcy4gRXZlbiB0aG91Z2ggZ2VuZXJhbFxuICAvLyBwcmFjdGljZSBmb3IgQU1EIHJlZ2lzdHJhdGlvbiBpcyB0byBiZSBhbm9ueW1vdXMsIHVuZGVyc2NvcmUgcmVnaXN0ZXJzXG4gIC8vIGFzIGEgbmFtZWQgbW9kdWxlIGJlY2F1c2UsIGxpa2UgalF1ZXJ5LCBpdCBpcyBhIGJhc2UgbGlicmFyeSB0aGF0IGlzXG4gIC8vIHBvcHVsYXIgZW5vdWdoIHRvIGJlIGJ1bmRsZWQgaW4gYSB0aGlyZCBwYXJ0eSBsaWIsIGJ1dCBub3QgYmUgcGFydCBvZlxuICAvLyBhbiBBTUQgbG9hZCByZXF1ZXN0LiBUaG9zZSBjYXNlcyBjb3VsZCBnZW5lcmF0ZSBhbiBlcnJvciB3aGVuIGFuXG4gIC8vIGFub255bW91cyBkZWZpbmUoKSBpcyBjYWxsZWQgb3V0c2lkZSBvZiBhIGxvYWRlciByZXF1ZXN0LlxuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgZGVmaW5lKCd1bmRlcnNjb3JlJywgW10sIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIF87XG4gICAgfSk7XG4gIH1cbn0uY2FsbCh0aGlzKSk7IiwiLypcclxuICogQSBKYXZhU2NyaXB0IGltcGxlbWVudGF0aW9uIG9mIHRoZSBTZWN1cmUgSGFzaCBBbGdvcml0aG0sIFNIQS0xLCBhcyBkZWZpbmVkXHJcbiAqIGluIEZJUFMgUFVCIDE4MC0xXHJcbiAqIFZlcnNpb24gMi4xYSBDb3B5cmlnaHQgUGF1bCBKb2huc3RvbiAyMDAwIC0gMjAwMi5cclxuICogT3RoZXIgY29udHJpYnV0b3JzOiBHcmVnIEhvbHQsIEFuZHJldyBLZXBlcnQsIFlkbmFyLCBMb3N0aW5ldFxyXG4gKiBEaXN0cmlidXRlZCB1bmRlciB0aGUgQlNEIExpY2Vuc2VcclxuICogU2VlIGh0dHA6Ly9wYWpob21lLm9yZy51ay9jcnlwdC9tZDUgZm9yIGRldGFpbHMuXHJcbiAqL1xyXG5cclxuLypcclxuICogQ29uZmlndXJhYmxlIHZhcmlhYmxlcy4gWW91IG1heSBuZWVkIHRvIHR3ZWFrIHRoZXNlIHRvIGJlIGNvbXBhdGlibGUgd2l0aFxyXG4gKiB0aGUgc2VydmVyLXNpZGUsIGJ1dCB0aGUgZGVmYXVsdHMgd29yayBpbiBtb3N0IGNhc2VzLlxyXG4gKi9cclxudmFyIGhleGNhc2UgPSAwOyAgLyogaGV4IG91dHB1dCBmb3JtYXQuIDAgLSBsb3dlcmNhc2U7IDEgLSB1cHBlcmNhc2UgICAgICAgICovXHJcbnZhciBiNjRwYWQgID0gXCI9XCI7IC8qIGJhc2UtNjQgcGFkIGNoYXJhY3Rlci4gXCI9XCIgZm9yIHN0cmljdCBSRkMgY29tcGxpYW5jZSAgICovXHJcbnZhciBjaHJzeiAgID0gODsgIC8qIGJpdHMgcGVyIGlucHV0IGNoYXJhY3Rlci4gOCAtIEFTQ0lJOyAxNiAtIFVuaWNvZGUgICAgICAqL1xyXG5cclxuLypcclxuICogVGhlc2UgYXJlIHRoZSBmdW5jdGlvbnMgeW91J2xsIHVzdWFsbHkgd2FudCB0byBjYWxsXHJcbiAqIFRoZXkgdGFrZSBzdHJpbmcgYXJndW1lbnRzIGFuZCByZXR1cm4gZWl0aGVyIGhleCBvciBiYXNlLTY0IGVuY29kZWQgc3RyaW5nc1xyXG4gKi9cclxuZnVuY3Rpb24gaGV4X3NoYTEocyl7cmV0dXJuIGJpbmIyaGV4KGNvcmVfc2hhMShzdHIyYmluYihzKSxzLmxlbmd0aCAqIGNocnN6KSk7fVxyXG5mdW5jdGlvbiBiNjRfc2hhMShzKXtyZXR1cm4gYmluYjJiNjQoY29yZV9zaGExKHN0cjJiaW5iKHMpLHMubGVuZ3RoICogY2hyc3opKTt9XHJcbmZ1bmN0aW9uIHN0cl9zaGExKHMpe3JldHVybiBiaW5iMnN0cihjb3JlX3NoYTEoc3RyMmJpbmIocykscy5sZW5ndGggKiBjaHJzeikpO31cclxuZnVuY3Rpb24gaGV4X2htYWNfc2hhMShrZXksIGRhdGEpeyByZXR1cm4gYmluYjJoZXgoY29yZV9obWFjX3NoYTEoa2V5LCBkYXRhKSk7fVxyXG5mdW5jdGlvbiBiNjRfaG1hY19zaGExKGtleSwgZGF0YSl7IHJldHVybiBiaW5iMmI2NChjb3JlX2htYWNfc2hhMShrZXksIGRhdGEpKTt9XHJcbmZ1bmN0aW9uIHN0cl9obWFjX3NoYTEoa2V5LCBkYXRhKXsgcmV0dXJuIGJpbmIyc3RyKGNvcmVfaG1hY19zaGExKGtleSwgZGF0YSkpO31cclxuXHJcbi8qXHJcbiAqIFBlcmZvcm0gYSBzaW1wbGUgc2VsZi10ZXN0IHRvIHNlZSBpZiB0aGUgVk0gaXMgd29ya2luZ1xyXG4gKi9cclxuZnVuY3Rpb24gc2hhMV92bV90ZXN0KClcclxue1xyXG4gIHJldHVybiBoZXhfc2hhMShcImFiY1wiKSA9PSBcImE5OTkzZTM2NDcwNjgxNmFiYTNlMjU3MTc4NTBjMjZjOWNkMGQ4OWRcIjtcclxufVxyXG5cclxuLypcclxuICogQ2FsY3VsYXRlIHRoZSBTSEEtMSBvZiBhbiBhcnJheSBvZiBiaWctZW5kaWFuIHdvcmRzLCBhbmQgYSBiaXQgbGVuZ3RoXHJcbiAqL1xyXG5mdW5jdGlvbiBjb3JlX3NoYTEoeCwgbGVuKVxyXG57XHJcbiAgLyogYXBwZW5kIHBhZGRpbmcgKi9cclxuICB4W2xlbiA+PiA1XSB8PSAweDgwIDw8ICgyNCAtIGxlbiAlIDMyKTtcclxuICB4WygobGVuICsgNjQgPj4gOSkgPDwgNCkgKyAxNV0gPSBsZW47XHJcblxyXG4gIHZhciB3ID0gQXJyYXkoODApO1xyXG4gIHZhciBhID0gIDE3MzI1ODQxOTM7XHJcbiAgdmFyIGIgPSAtMjcxNzMzODc5O1xyXG4gIHZhciBjID0gLTE3MzI1ODQxOTQ7XHJcbiAgdmFyIGQgPSAgMjcxNzMzODc4O1xyXG4gIHZhciBlID0gLTEwMDk1ODk3NzY7XHJcblxyXG4gIGZvcih2YXIgaSA9IDA7IGkgPCB4Lmxlbmd0aDsgaSArPSAxNilcclxuICB7XHJcbiAgICB2YXIgb2xkYSA9IGE7XHJcbiAgICB2YXIgb2xkYiA9IGI7XHJcbiAgICB2YXIgb2xkYyA9IGM7XHJcbiAgICB2YXIgb2xkZCA9IGQ7XHJcbiAgICB2YXIgb2xkZSA9IGU7XHJcblxyXG4gICAgZm9yKHZhciBqID0gMDsgaiA8IDgwOyBqKyspXHJcbiAgICB7XHJcbiAgICAgIGlmKGogPCAxNikgd1tqXSA9IHhbaSArIGpdO1xyXG4gICAgICBlbHNlIHdbal0gPSByb2wod1tqLTNdIF4gd1tqLThdIF4gd1tqLTE0XSBeIHdbai0xNl0sIDEpO1xyXG4gICAgICB2YXIgdCA9IHNhZmVfYWRkKHNhZmVfYWRkKHJvbChhLCA1KSwgc2hhMV9mdChqLCBiLCBjLCBkKSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgc2FmZV9hZGQoc2FmZV9hZGQoZSwgd1tqXSksIHNoYTFfa3QoaikpKTtcclxuICAgICAgZSA9IGQ7XHJcbiAgICAgIGQgPSBjO1xyXG4gICAgICBjID0gcm9sKGIsIDMwKTtcclxuICAgICAgYiA9IGE7XHJcbiAgICAgIGEgPSB0O1xyXG4gICAgfVxyXG5cclxuICAgIGEgPSBzYWZlX2FkZChhLCBvbGRhKTtcclxuICAgIGIgPSBzYWZlX2FkZChiLCBvbGRiKTtcclxuICAgIGMgPSBzYWZlX2FkZChjLCBvbGRjKTtcclxuICAgIGQgPSBzYWZlX2FkZChkLCBvbGRkKTtcclxuICAgIGUgPSBzYWZlX2FkZChlLCBvbGRlKTtcclxuICB9XHJcbiAgcmV0dXJuIEFycmF5KGEsIGIsIGMsIGQsIGUpO1xyXG5cclxufVxyXG5cclxuLypcclxuICogUGVyZm9ybSB0aGUgYXBwcm9wcmlhdGUgdHJpcGxldCBjb21iaW5hdGlvbiBmdW5jdGlvbiBmb3IgdGhlIGN1cnJlbnRcclxuICogaXRlcmF0aW9uXHJcbiAqL1xyXG5mdW5jdGlvbiBzaGExX2Z0KHQsIGIsIGMsIGQpXHJcbntcclxuICBpZih0IDwgMjApIHJldHVybiAoYiAmIGMpIHwgKCh+YikgJiBkKTtcclxuICBpZih0IDwgNDApIHJldHVybiBiIF4gYyBeIGQ7XHJcbiAgaWYodCA8IDYwKSByZXR1cm4gKGIgJiBjKSB8IChiICYgZCkgfCAoYyAmIGQpO1xyXG4gIHJldHVybiBiIF4gYyBeIGQ7XHJcbn1cclxuXHJcbi8qXHJcbiAqIERldGVybWluZSB0aGUgYXBwcm9wcmlhdGUgYWRkaXRpdmUgY29uc3RhbnQgZm9yIHRoZSBjdXJyZW50IGl0ZXJhdGlvblxyXG4gKi9cclxuZnVuY3Rpb24gc2hhMV9rdCh0KVxyXG57XHJcbiAgcmV0dXJuICh0IDwgMjApID8gIDE1MTg1MDAyNDkgOiAodCA8IDQwKSA/ICAxODU5Nzc1MzkzIDpcclxuICAgICAgICAgKHQgPCA2MCkgPyAtMTg5NDAwNzU4OCA6IC04OTk0OTc1MTQ7XHJcbn1cclxuXHJcbi8qXHJcbiAqIENhbGN1bGF0ZSB0aGUgSE1BQy1TSEExIG9mIGEga2V5IGFuZCBzb21lIGRhdGFcclxuICovXHJcbmZ1bmN0aW9uIGNvcmVfaG1hY19zaGExKGtleSwgZGF0YSlcclxue1xyXG4gIHZhciBia2V5ID0gc3RyMmJpbmIoa2V5KTtcclxuICBpZihia2V5Lmxlbmd0aCA+IDE2KSBia2V5ID0gY29yZV9zaGExKGJrZXksIGtleS5sZW5ndGggKiBjaHJzeik7XHJcblxyXG4gIHZhciBpcGFkID0gQXJyYXkoMTYpLCBvcGFkID0gQXJyYXkoMTYpO1xyXG4gIGZvcih2YXIgaSA9IDA7IGkgPCAxNjsgaSsrKVxyXG4gIHtcclxuICAgIGlwYWRbaV0gPSBia2V5W2ldIF4gMHgzNjM2MzYzNjtcclxuICAgIG9wYWRbaV0gPSBia2V5W2ldIF4gMHg1QzVDNUM1QztcclxuICB9XHJcblxyXG4gIHZhciBoYXNoID0gY29yZV9zaGExKGlwYWQuY29uY2F0KHN0cjJiaW5iKGRhdGEpKSwgNTEyICsgZGF0YS5sZW5ndGggKiBjaHJzeik7XHJcbiAgcmV0dXJuIGNvcmVfc2hhMShvcGFkLmNvbmNhdChoYXNoKSwgNTEyICsgMTYwKTtcclxufVxyXG5cclxuLypcclxuICogQWRkIGludGVnZXJzLCB3cmFwcGluZyBhdCAyXjMyLiBUaGlzIHVzZXMgMTYtYml0IG9wZXJhdGlvbnMgaW50ZXJuYWxseVxyXG4gKiB0byB3b3JrIGFyb3VuZCBidWdzIGluIHNvbWUgSlMgaW50ZXJwcmV0ZXJzLlxyXG4gKi9cclxuZnVuY3Rpb24gc2FmZV9hZGQoeCwgeSlcclxue1xyXG4gIHZhciBsc3cgPSAoeCAmIDB4RkZGRikgKyAoeSAmIDB4RkZGRik7XHJcbiAgdmFyIG1zdyA9ICh4ID4+IDE2KSArICh5ID4+IDE2KSArIChsc3cgPj4gMTYpO1xyXG4gIHJldHVybiAobXN3IDw8IDE2KSB8IChsc3cgJiAweEZGRkYpO1xyXG59XHJcblxyXG4vKlxyXG4gKiBCaXR3aXNlIHJvdGF0ZSBhIDMyLWJpdCBudW1iZXIgdG8gdGhlIGxlZnQuXHJcbiAqL1xyXG5mdW5jdGlvbiByb2wobnVtLCBjbnQpXHJcbntcclxuICByZXR1cm4gKG51bSA8PCBjbnQpIHwgKG51bSA+Pj4gKDMyIC0gY250KSk7XHJcbn1cclxuXHJcbi8qXHJcbiAqIENvbnZlcnQgYW4gOC1iaXQgb3IgMTYtYml0IHN0cmluZyB0byBhbiBhcnJheSBvZiBiaWctZW5kaWFuIHdvcmRzXHJcbiAqIEluIDgtYml0IGZ1bmN0aW9uLCBjaGFyYWN0ZXJzID4yNTUgaGF2ZSB0aGVpciBoaS1ieXRlIHNpbGVudGx5IGlnbm9yZWQuXHJcbiAqL1xyXG5mdW5jdGlvbiBzdHIyYmluYihzdHIpXHJcbntcclxuICB2YXIgYmluID0gQXJyYXkoKTtcclxuICB2YXIgbWFzayA9ICgxIDw8IGNocnN6KSAtIDE7XHJcbiAgZm9yKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGggKiBjaHJzejsgaSArPSBjaHJzeilcclxuICAgIGJpbltpPj41XSB8PSAoc3RyLmNoYXJDb2RlQXQoaSAvIGNocnN6KSAmIG1hc2spIDw8ICgzMiAtIGNocnN6IC0gaSUzMik7XHJcbiAgcmV0dXJuIGJpbjtcclxufVxyXG5cclxuLypcclxuICogQ29udmVydCBhbiBhcnJheSBvZiBiaWctZW5kaWFuIHdvcmRzIHRvIGEgc3RyaW5nXHJcbiAqL1xyXG5mdW5jdGlvbiBiaW5iMnN0cihiaW4pXHJcbntcclxuICB2YXIgc3RyID0gXCJcIjtcclxuICB2YXIgbWFzayA9ICgxIDw8IGNocnN6KSAtIDE7XHJcbiAgZm9yKHZhciBpID0gMDsgaSA8IGJpbi5sZW5ndGggKiAzMjsgaSArPSBjaHJzeilcclxuICAgIHN0ciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKChiaW5baT4+NV0gPj4+ICgzMiAtIGNocnN6IC0gaSUzMikpICYgbWFzayk7XHJcbiAgcmV0dXJuIHN0cjtcclxufVxyXG5cclxuLypcclxuICogQ29udmVydCBhbiBhcnJheSBvZiBiaWctZW5kaWFuIHdvcmRzIHRvIGEgaGV4IHN0cmluZy5cclxuICovXHJcbmZ1bmN0aW9uIGJpbmIyaGV4KGJpbmFycmF5KVxyXG57XHJcbiAgdmFyIGhleF90YWIgPSBoZXhjYXNlID8gXCIwMTIzNDU2Nzg5QUJDREVGXCIgOiBcIjAxMjM0NTY3ODlhYmNkZWZcIjtcclxuICB2YXIgc3RyID0gXCJcIjtcclxuICBmb3IodmFyIGkgPSAwOyBpIDwgYmluYXJyYXkubGVuZ3RoICogNDsgaSsrKVxyXG4gIHtcclxuICAgIHN0ciArPSBoZXhfdGFiLmNoYXJBdCgoYmluYXJyYXlbaT4+Ml0gPj4gKCgzIC0gaSU0KSo4KzQpKSAmIDB4RikgK1xyXG4gICAgICAgICAgIGhleF90YWIuY2hhckF0KChiaW5hcnJheVtpPj4yXSA+PiAoKDMgLSBpJTQpKjggICkpICYgMHhGKTtcclxuICB9XHJcbiAgcmV0dXJuIHN0cjtcclxufVxyXG5cclxuLypcclxuICogQ29udmVydCBhbiBhcnJheSBvZiBiaWctZW5kaWFuIHdvcmRzIHRvIGEgYmFzZS02NCBzdHJpbmdcclxuICovXHJcbmZ1bmN0aW9uIGJpbmIyYjY0KGJpbmFycmF5KVxyXG57XHJcbiAgdmFyIHRhYiA9IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1wiO1xyXG4gIHZhciBzdHIgPSBcIlwiO1xyXG4gIGZvcih2YXIgaSA9IDA7IGkgPCBiaW5hcnJheS5sZW5ndGggKiA0OyBpICs9IDMpXHJcbiAge1xyXG4gICAgdmFyIHRyaXBsZXQgPSAoKChiaW5hcnJheVtpICAgPj4gMl0gPj4gOCAqICgzIC0gIGkgICAlNCkpICYgMHhGRikgPDwgMTYpXHJcbiAgICAgICAgICAgICAgICB8ICgoKGJpbmFycmF5W2krMSA+PiAyXSA+PiA4ICogKDMgLSAoaSsxKSU0KSkgJiAweEZGKSA8PCA4IClcclxuICAgICAgICAgICAgICAgIHwgICgoYmluYXJyYXlbaSsyID4+IDJdID4+IDggKiAoMyAtIChpKzIpJTQpKSAmIDB4RkYpO1xyXG4gICAgZm9yKHZhciBqID0gMDsgaiA8IDQ7IGorKylcclxuICAgIHtcclxuICAgICAgaWYoaSAqIDggKyBqICogNiA+IGJpbmFycmF5Lmxlbmd0aCAqIDMyKSBzdHIgKz0gYjY0cGFkO1xyXG4gICAgICBlbHNlIHN0ciArPSB0YWIuY2hhckF0KCh0cmlwbGV0ID4+IDYqKDMtaikpICYgMHgzRik7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiBzdHI7XHJcbn1cclxuIiwiLy8gaTE4bmV4dCwgdjEuMTEuMlxuLy8gQ29weXJpZ2h0IChjKTIwMTUgSmFuIE3DvGhsZW1hbm4gKGphbXVobCkuXG4vLyBEaXN0cmlidXRlZCB1bmRlciBNSVQgbGljZW5zZVxuLy8gaHR0cDovL2kxOG5leHQuY29tXG4hZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhLGIpe2lmKCFifHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBiKXJldHVybiBhO2Zvcih2YXIgYyBpbiBiKWFbY109YltjXTtyZXR1cm4gYX1mdW5jdGlvbiBjKGEsYixkKXtmb3IodmFyIGUgaW4gYillIGluIGE/XCJzdHJpbmdcIj09dHlwZW9mIGFbZV18fGFbZV1pbnN0YW5jZW9mIFN0cmluZ3x8XCJzdHJpbmdcIj09dHlwZW9mIGJbZV18fGJbZV1pbnN0YW5jZW9mIFN0cmluZz9kJiYoYVtlXT1iW2VdKTpjKGFbZV0sYltlXSxkKTphW2VdPWJbZV07cmV0dXJuIGF9ZnVuY3Rpb24gZChhLGIsYyl7dmFyIGQsZT0wLGY9YS5sZW5ndGgsZz12b2lkIDA9PT1mfHxcIltvYmplY3QgQXJyYXldXCIhPT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmFwcGx5KGEpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBhO2lmKGMpaWYoZyl7Zm9yKGQgaW4gYSlpZihiLmFwcGx5KGFbZF0sYyk9PT0hMSlicmVha31lbHNlIGZvcig7Zj5lJiZiLmFwcGx5KGFbZSsrXSxjKSE9PSExOyk7ZWxzZSBpZihnKXtmb3IoZCBpbiBhKWlmKGIuY2FsbChhW2RdLGQsYVtkXSk9PT0hMSlicmVha31lbHNlIGZvcig7Zj5lJiZiLmNhbGwoYVtlXSxlLGFbZSsrXSkhPT0hMTspO3JldHVybiBhfWZ1bmN0aW9uIGUoYSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGE/YS5yZXBsYWNlKC9bJjw+XCInXFwvXS9nLGZ1bmN0aW9uKGEpe3JldHVybiBWW2FdfSk6YX1mdW5jdGlvbiBmKGEpe3ZhciBiPWZ1bmN0aW9uKGEpe2lmKHdpbmRvdy5YTUxIdHRwUmVxdWVzdClyZXR1cm4gYShudWxsLG5ldyBYTUxIdHRwUmVxdWVzdCk7aWYod2luZG93LkFjdGl2ZVhPYmplY3QpdHJ5e3JldHVybiBhKG51bGwsbmV3IEFjdGl2ZVhPYmplY3QoXCJNc3htbDIuWE1MSFRUUFwiKSl9Y2F0Y2goYil7cmV0dXJuIGEobnVsbCxuZXcgQWN0aXZlWE9iamVjdChcIk1pY3Jvc29mdC5YTUxIVFRQXCIpKX1yZXR1cm4gYShuZXcgRXJyb3IpfSxjPWZ1bmN0aW9uKGEpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBhKXJldHVybiBhO3ZhciBiPVtdO2Zvcih2YXIgYyBpbiBhKWEuaGFzT3duUHJvcGVydHkoYykmJmIucHVzaChlbmNvZGVVUklDb21wb25lbnQoYykrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KGFbY10pKTtyZXR1cm4gYi5qb2luKFwiJlwiKX0sZD1mdW5jdGlvbihhKXthPWEucmVwbGFjZSgvXFxyXFxuL2csXCJcXG5cIik7Zm9yKHZhciBiPVwiXCIsYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgZD1hLmNoYXJDb2RlQXQoYyk7MTI4PmQ/Yis9U3RyaW5nLmZyb21DaGFyQ29kZShkKTpkPjEyNyYmMjA0OD5kPyhiKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGQ+PjZ8MTkyKSxiKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDYzJmR8MTI4KSk6KGIrPVN0cmluZy5mcm9tQ2hhckNvZGUoZD4+MTJ8MjI0KSxiKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGQ+PjYmNjN8MTI4KSxiKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDYzJmR8MTI4KSl9cmV0dXJuIGJ9LGU9ZnVuY3Rpb24oYSl7dmFyIGI9XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPVwiO2E9ZChhKTt2YXIgYyxlLGYsZyxoLGksaixrPVwiXCIsbD0wO2RvIGM9YS5jaGFyQ29kZUF0KGwrKyksZT1hLmNoYXJDb2RlQXQobCsrKSxmPWEuY2hhckNvZGVBdChsKyspLGc9Yz4+MixoPSgzJmMpPDw0fGU+PjQsaT0oMTUmZSk8PDJ8Zj4+NixqPTYzJmYsaXNOYU4oZSk/aT1qPTY0OmlzTmFOKGYpJiYoaj02NCksays9Yi5jaGFyQXQoZykrYi5jaGFyQXQoaCkrYi5jaGFyQXQoaSkrYi5jaGFyQXQoaiksYz1lPWY9XCJcIixnPWg9aT1qPVwiXCI7d2hpbGUobDxhLmxlbmd0aCk7cmV0dXJuIGt9LGY9ZnVuY3Rpb24oKXtmb3IodmFyIGE9YXJndW1lbnRzWzBdLGI9MTtiPGFyZ3VtZW50cy5sZW5ndGg7YisrKXt2YXIgYz1hcmd1bWVudHNbYl07Zm9yKHZhciBkIGluIGMpYy5oYXNPd25Qcm9wZXJ0eShkKSYmKGFbZF09Y1tkXSl9cmV0dXJuIGF9LGc9ZnVuY3Rpb24oYSxkLGUsaCl7XCJmdW5jdGlvblwiPT10eXBlb2YgZSYmKGg9ZSxlPXt9KSxlLmNhY2hlPWUuY2FjaGV8fCExLGUuZGF0YT1lLmRhdGF8fHt9LGUuaGVhZGVycz1lLmhlYWRlcnN8fHt9LGUuanNvbnA9ZS5qc29ucHx8ITEsZS5hc3luYz12b2lkIDA9PT1lLmFzeW5jPyEwOmUuYXN5bmM7dmFyIGksaj1mKHthY2NlcHQ6XCIqLypcIixcImNvbnRlbnQtdHlwZVwiOlwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9VVRGLThcIn0sZy5oZWFkZXJzLGUuaGVhZGVycyk7aWYoaT1cImFwcGxpY2F0aW9uL2pzb25cIj09PWpbXCJjb250ZW50LXR5cGVcIl0/SlNPTi5zdHJpbmdpZnkoZS5kYXRhKTpjKGUuZGF0YSksXCJHRVRcIj09PWEpe3ZhciBrPVtdO2lmKGkmJihrLnB1c2goaSksaT1udWxsKSxlLmNhY2hlfHxrLnB1c2goXCJfPVwiKyhuZXcgRGF0ZSkuZ2V0VGltZSgpKSxlLmpzb25wJiYoay5wdXNoKFwiY2FsbGJhY2s9XCIrZS5qc29ucCksay5wdXNoKFwianNvbnA9XCIrZS5qc29ucCkpLGs9ay5qb2luKFwiJlwiKSxrLmxlbmd0aD4xJiYoZCs9ZC5pbmRleE9mKFwiP1wiKT4tMT9cIiZcIitrOlwiP1wiK2spLGUuanNvbnApe3ZhciBsPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXSxtPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7cmV0dXJuIG0udHlwZT1cInRleHQvamF2YXNjcmlwdFwiLG0uc3JjPWQsdm9pZCBsLmFwcGVuZENoaWxkKG0pfX1iKGZ1bmN0aW9uKGIsYyl7aWYoYilyZXR1cm4gaChiKTtjLm9wZW4oYSxkLGUuYXN5bmMpO2Zvcih2YXIgZiBpbiBqKWouaGFzT3duUHJvcGVydHkoZikmJmMuc2V0UmVxdWVzdEhlYWRlcihmLGpbZl0pO2Mub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoND09PWMucmVhZHlTdGF0ZSl7dmFyIGE9Yy5yZXNwb25zZVRleHR8fFwiXCI7aWYoIWgpcmV0dXJuO2goYy5zdGF0dXMse3RleHQ6ZnVuY3Rpb24oKXtyZXR1cm4gYX0sanNvbjpmdW5jdGlvbigpe3RyeXtyZXR1cm4gSlNPTi5wYXJzZShhKX1jYXRjaChiKXtyZXR1cm4gWS5lcnJvcihcIkNhbiBub3QgcGFyc2UgSlNPTi4gVVJMOiBcIitkKSx7fX19fSl9fSxjLnNlbmQoaSl9KX0saD17YXV0aEJhc2ljOmZ1bmN0aW9uKGEsYil7Zy5oZWFkZXJzLkF1dGhvcml6YXRpb249XCJCYXNpYyBcIitlKGErXCI6XCIrYil9LGNvbm5lY3Q6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBnKFwiQ09OTkVDVFwiLGEsYixjKX0sZGVsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZyhcIkRFTEVURVwiLGEsYixjKX0sZ2V0OmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZyhcIkdFVFwiLGEsYixjKX0saGVhZDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGcoXCJIRUFEXCIsYSxiLGMpfSxoZWFkZXJzOmZ1bmN0aW9uKGEpe2cuaGVhZGVycz1hfHx7fX0saXNBbGxvd2VkOmZ1bmN0aW9uKGEsYixjKXt0aGlzLm9wdGlvbnMoYSxmdW5jdGlvbihhLGQpe2MoLTEhPT1kLnRleHQoKS5pbmRleE9mKGIpKX0pfSxvcHRpb25zOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZyhcIk9QVElPTlNcIixhLGIsYyl9LHBhdGNoOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZyhcIlBBVENIXCIsYSxiLGMpfSxwb3N0OmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZyhcIlBPU1RcIixhLGIsYyl9LHB1dDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGcoXCJQVVRcIixhLGIsYyl9LHRyYWNlOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZyhcIlRSQUNFXCIsYSxiLGMpfX0saT1hLnR5cGU/YS50eXBlLnRvTG93ZXJDYXNlKCk6XCJnZXRcIjtoW2ldKGEudXJsLGEsZnVuY3Rpb24oYixjKXsyMDA9PT1ifHwwPT09YiYmYy50ZXh0KCk/YS5zdWNjZXNzKGMuanNvbigpLGIsbnVsbCk6YS5lcnJvcihjLnRleHQoKSxiLG51bGwpfSl9ZnVuY3Rpb24gZyhhLGIpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGEmJihiPWEsYT17fSksYT1hfHx7fSxZLmV4dGVuZChVLGEpLGRlbGV0ZSBVLmZpeExuZyxVLmZ1bmN0aW9ucyYmKGRlbGV0ZSBVLmZ1bmN0aW9ucyxZLmV4dGVuZChZLGEuZnVuY3Rpb25zKSksXCJzdHJpbmdcIj09dHlwZW9mIFUubnMmJihVLm5zPXtuYW1lc3BhY2VzOltVLm5zXSxkZWZhdWx0TnM6VS5uc30pLFwic3RyaW5nXCI9PXR5cGVvZiBVLmZhbGxiYWNrTlMmJihVLmZhbGxiYWNrTlM9W1UuZmFsbGJhY2tOU10pLChcInN0cmluZ1wiPT10eXBlb2YgVS5mYWxsYmFja0xuZ3x8XCJib29sZWFuXCI9PXR5cGVvZiBVLmZhbGxiYWNrTG5nKSYmKFUuZmFsbGJhY2tMbmc9W1UuZmFsbGJhY2tMbmddKSxVLmludGVycG9sYXRpb25QcmVmaXhFc2NhcGVkPVkucmVnZXhFc2NhcGUoVS5pbnRlcnBvbGF0aW9uUHJlZml4KSxVLmludGVycG9sYXRpb25TdWZmaXhFc2NhcGVkPVkucmVnZXhFc2NhcGUoVS5pbnRlcnBvbGF0aW9uU3VmZml4KSxVLmxuZ3x8KFUubG5nPVkuZGV0ZWN0TGFuZ3VhZ2UoKSksUT1ZLnRvTGFuZ3VhZ2VzKFUubG5nKSxMPVFbMF0sWS5sb2coXCJjdXJyZW50TG5nIHNldCB0bzogXCIrTCksVS51c2VDb29raWUmJlkuY29va2llLnJlYWQoVS5jb29raWVOYW1lKSE9PUwmJlkuY29va2llLmNyZWF0ZShVLmNvb2tpZU5hbWUsTCxVLmNvb2tpZUV4cGlyYXRpb25UaW1lLFUuY29va2llRG9tYWluKSxVLmRldGVjdExuZ0Zyb21Mb2NhbFN0b3JhZ2UmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudCYmd2luZG93LmxvY2FsU3RvcmFnZSYmWS5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImkxOG5leHRfbG5nXCIsTCk7dmFyIGM9RjthLmZpeExuZyYmKGM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj1ifHx7fSxiLmxuZz1iLmxuZ3x8Yy5sbmcsRihhLGIpfSxjLmxuZz1MKSxfLnNldEN1cnJlbnRMbmcoTCksTSYmVS5zZXRKcXVlcnlFeHQ/eCYmeCgpOnkmJnkoKTt2YXIgZDtpZihNJiZNLkRlZmVycmVkJiYoZD1NLkRlZmVycmVkKCkpLCFVLnJlc1N0b3JlKXt2YXIgZT1ZLnRvTGFuZ3VhZ2VzKFUubG5nKTtcInN0cmluZ1wiPT10eXBlb2YgVS5wcmVsb2FkJiYoVS5wcmVsb2FkPVtVLnByZWxvYWRdKTtmb3IodmFyIGY9MCxnPVUucHJlbG9hZC5sZW5ndGg7Zz5mO2YrKylmb3IodmFyIGg9WS50b0xhbmd1YWdlcyhVLnByZWxvYWRbZl0pLGk9MCxqPWgubGVuZ3RoO2o+aTtpKyspZS5pbmRleE9mKGhbaV0pPDAmJmUucHVzaChoW2ldKTtyZXR1cm4gTi5zeW5jLmxvYWQoZSxVLGZ1bmN0aW9uKGEsZSl7Tz1lLFI9ITAsYiYmYihhLGMpLGQmJihhP2QucmVqZWN0OmQucmVzb2x2ZSkoYXx8Yyl9KSxkP2QucHJvbWlzZSgpOnZvaWQgMH1yZXR1cm4gTz1VLnJlc1N0b3JlLFI9ITAsYiYmYihudWxsLGMpLGQmJmQucmVzb2x2ZShjKSxkP2QucHJvbWlzZSgpOnZvaWQgMH1mdW5jdGlvbiBoKCl7cmV0dXJuIFJ9ZnVuY3Rpb24gaShhLGIpe1wic3RyaW5nXCI9PXR5cGVvZiBhJiYoYT1bYV0pO2Zvcih2YXIgYz0wLGQ9YS5sZW5ndGg7ZD5jO2MrKylVLnByZWxvYWQuaW5kZXhPZihhW2NdKTwwJiZVLnByZWxvYWQucHVzaChhW2NdKTtyZXR1cm4gZyhiKX1mdW5jdGlvbiBqKGEsYixjLGQsZSl7XCJzdHJpbmdcIiE9dHlwZW9mIGI/KGM9YixiPVUubnMuZGVmYXVsdE5zKTpVLm5zLm5hbWVzcGFjZXMuaW5kZXhPZihiKTwwJiZVLm5zLm5hbWVzcGFjZXMucHVzaChiKSxPW2FdPU9bYV18fHt9LE9bYV1bYl09T1thXVtiXXx8e30sZD9ZLmRlZXBFeHRlbmQoT1thXVtiXSxjLGUpOlkuZXh0ZW5kKE9bYV1bYl0sYyksVS51c2VMb2NhbFN0b3JhZ2UmJlMuX3N0b3JlTG9jYWwoTyl9ZnVuY3Rpb24gayhhLGIpe1wic3RyaW5nXCIhPXR5cGVvZiBiJiYoYj1VLm5zLmRlZmF1bHROcyksT1thXT1PW2FdfHx7fTt2YXIgYz1PW2FdW2JdfHx7fSxkPSExO2Zvcih2YXIgZSBpbiBjKWMuaGFzT3duUHJvcGVydHkoZSkmJihkPSEwKTtyZXR1cm4gZH1mdW5jdGlvbiBsKGEsYil7cmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIGImJihiPVUubnMuZGVmYXVsdE5zKSxPW2FdPU9bYV18fHt9LFkuZXh0ZW5kKHt9LE9bYV1bYl0pfWZ1bmN0aW9uIG0oYSxiKXtcInN0cmluZ1wiIT10eXBlb2YgYiYmKGI9VS5ucy5kZWZhdWx0TnMpLE9bYV09T1thXXx8e30sT1thXVtiXT17fSxVLnVzZUxvY2FsU3RvcmFnZSYmUy5fc3RvcmVMb2NhbChPKX1mdW5jdGlvbiBuKGEsYixjLGQpe1wic3RyaW5nXCIhPXR5cGVvZiBiPyhyZXNvdXJjZT1iLGI9VS5ucy5kZWZhdWx0TnMpOlUubnMubmFtZXNwYWNlcy5pbmRleE9mKGIpPDAmJlUubnMubmFtZXNwYWNlcy5wdXNoKGIpLE9bYV09T1thXXx8e30sT1thXVtiXT1PW2FdW2JdfHx7fTtmb3IodmFyIGU9Yy5zcGxpdChVLmtleXNlcGFyYXRvciksZj0wLGc9T1thXVtiXTtlW2ZdOylmPT1lLmxlbmd0aC0xP2dbZVtmXV09ZDoobnVsbD09Z1tlW2ZdXSYmKGdbZVtmXV09e30pLGc9Z1tlW2ZdXSksZisrO1UudXNlTG9jYWxTdG9yYWdlJiZTLl9zdG9yZUxvY2FsKE8pfWZ1bmN0aW9uIG8oYSxiLGMpe1wic3RyaW5nXCIhPXR5cGVvZiBiPyhjPWIsYj1VLm5zLmRlZmF1bHROcyk6VS5ucy5uYW1lc3BhY2VzLmluZGV4T2YoYik8MCYmVS5ucy5uYW1lc3BhY2VzLnB1c2goYik7Zm9yKHZhciBkIGluIGMpXCJzdHJpbmdcIj09dHlwZW9mIGNbZF0mJm4oYSxiLGQsY1tkXSl9ZnVuY3Rpb24gcChhKXtVLm5zLmRlZmF1bHROcz1hfWZ1bmN0aW9uIHEoYSxiKXtyKFthXSxiKX1mdW5jdGlvbiByKGEsYil7dmFyIGM9e2R5bmFtaWNMb2FkOlUuZHluYW1pY0xvYWQscmVzR2V0UGF0aDpVLnJlc0dldFBhdGgsZ2V0QXN5bmM6VS5nZXRBc3luYyxjdXN0b21Mb2FkOlUuY3VzdG9tTG9hZCxuczp7bmFtZXNwYWNlczphLGRlZmF1bHROczpcIlwifX0sZD1ZLnRvTGFuZ3VhZ2VzKFUubG5nKTtcInN0cmluZ1wiPT10eXBlb2YgVS5wcmVsb2FkJiYoVS5wcmVsb2FkPVtVLnByZWxvYWRdKTtmb3IodmFyIGU9MCxmPVUucHJlbG9hZC5sZW5ndGg7Zj5lO2UrKylmb3IodmFyIGc9WS50b0xhbmd1YWdlcyhVLnByZWxvYWRbZV0pLGg9MCxpPWcubGVuZ3RoO2k+aDtoKyspZC5pbmRleE9mKGdbaF0pPDAmJmQucHVzaChnW2hdKTtmb3IodmFyIGo9W10saz0wLGw9ZC5sZW5ndGg7bD5rO2srKyl7dmFyIG09ITEsbj1PW2Rba11dO2lmKG4pZm9yKHZhciBvPTAscD1hLmxlbmd0aDtwPm87bysrKW5bYVtvXV18fChtPSEwKTtlbHNlIG09ITA7bSYmai5wdXNoKGRba10pfWoubGVuZ3RoP04uc3luYy5fZmV0Y2goaixjLGZ1bmN0aW9uKGMsZCl7dmFyIGU9YS5sZW5ndGgqai5sZW5ndGg7WS5lYWNoKGEsZnVuY3Rpb24oYSxjKXtVLm5zLm5hbWVzcGFjZXMuaW5kZXhPZihjKTwwJiZVLm5zLm5hbWVzcGFjZXMucHVzaChjKSxZLmVhY2goaixmdW5jdGlvbihhLGYpe09bZl09T1tmXXx8e30sT1tmXVtjXT1kW2ZdW2NdLGUtLSwwPT09ZSYmYiYmKFUudXNlTG9jYWxTdG9yYWdlJiZOLnN5bmMuX3N0b3JlTG9jYWwoTyksYigpKX0pfSl9KTpiJiZiKCl9ZnVuY3Rpb24gcyhhLGIsYyl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgYj8oYz1iLGI9e30pOmJ8fChiPXt9KSxiLmxuZz1hLGcoYixjKX1mdW5jdGlvbiB0KCl7cmV0dXJuIEx9ZnVuY3Rpb24gdSgpe3ZhciBhPVtcImFyXCIsXCJzaHVcIixcInNxclwiLFwic3NoXCIsXCJ4YWFcIixcInloZFwiLFwieXVkXCIsXCJhYW9cIixcImFiaFwiLFwiYWJ2XCIsXCJhY21cIixcImFjcVwiLFwiYWN3XCIsXCJhY3hcIixcImFjeVwiLFwiYWRmXCIsXCJhZHNcIixcImFlYlwiLFwiYWVjXCIsXCJhZmJcIixcImFqcFwiLFwiYXBjXCIsXCJhcGRcIixcImFyYlwiLFwiYXJxXCIsXCJhcnNcIixcImFyeVwiLFwiYXJ6XCIsXCJhdXpcIixcImF2bFwiLFwiYXloXCIsXCJheWxcIixcImF5blwiLFwiYXlwXCIsXCJiYnpcIixcInBnYVwiLFwiaGVcIixcIml3XCIsXCJwc1wiLFwicGJ0XCIsXCJwYnVcIixcInBzdFwiLFwicHJwXCIsXCJwcmRcIixcInVyXCIsXCJ5ZGRcIixcInlkc1wiLFwieWloXCIsXCJqaVwiLFwieWlcIixcImhib1wiLFwibWVuXCIsXCJ4bW5cIixcImZhXCIsXCJqcHJcIixcInBlb1wiLFwicGVzXCIsXCJwcnNcIixcImR2XCIsXCJzYW1cIl07cmV0dXJuIGEuc29tZShmdW5jdGlvbihhKXtyZXR1cm4gbmV3IFJlZ0V4cChcIl5cIithKS50ZXN0KEwpfSk/XCJydGxcIjpcImx0clwifWZ1bmN0aW9uIHYoYSl7Tz17fSxzKEwsYSl9ZnVuY3Rpb24gdygpe3dpbmRvdy5pMThuZXh0PXdpbmRvdy5pMThuLFQ/d2luZG93LmkxOG49VDpkZWxldGUgd2luZG93LmkxOG59ZnVuY3Rpb24geCgpe2Z1bmN0aW9uIGEoYSxiLGMpe2lmKDAhPT1iLmxlbmd0aCl7dmFyIGQ9XCJ0ZXh0XCI7aWYoMD09PWIuaW5kZXhPZihcIltcIikpe3ZhciBlPWIuc3BsaXQoXCJdXCIpO2I9ZVsxXSxkPWVbMF0uc3Vic3RyKDEsZVswXS5sZW5ndGgtMSl9Yi5pbmRleE9mKFwiO1wiKT09PWIubGVuZ3RoLTEmJihiPWIuc3Vic3RyKDAsYi5sZW5ndGgtMikpO3ZhciBmO2lmKFwiaHRtbFwiPT09ZClmPVUuZGVmYXVsdFZhbHVlRnJvbUNvbnRlbnQ/TS5leHRlbmQoe2RlZmF1bHRWYWx1ZTphLmh0bWwoKX0sYyk6YyxhLmh0bWwoTS50KGIsZikpO2Vsc2UgaWYoXCJ0ZXh0XCI9PT1kKWY9VS5kZWZhdWx0VmFsdWVGcm9tQ29udGVudD9NLmV4dGVuZCh7ZGVmYXVsdFZhbHVlOmEudGV4dCgpfSxjKTpjLGEudGV4dChNLnQoYixmKSk7ZWxzZSBpZihcInByZXBlbmRcIj09PWQpZj1VLmRlZmF1bHRWYWx1ZUZyb21Db250ZW50P00uZXh0ZW5kKHtkZWZhdWx0VmFsdWU6YS5odG1sKCl9LGMpOmMsYS5wcmVwZW5kKE0udChiLGYpKTtlbHNlIGlmKFwiYXBwZW5kXCI9PT1kKWY9VS5kZWZhdWx0VmFsdWVGcm9tQ29udGVudD9NLmV4dGVuZCh7ZGVmYXVsdFZhbHVlOmEuaHRtbCgpfSxjKTpjLGEuYXBwZW5kKE0udChiLGYpKTtlbHNlIGlmKDA9PT1kLmluZGV4T2YoXCJkYXRhLVwiKSl7dmFyIGc9ZC5zdWJzdHIoXCJkYXRhLVwiLmxlbmd0aCk7Zj1VLmRlZmF1bHRWYWx1ZUZyb21Db250ZW50P00uZXh0ZW5kKHtkZWZhdWx0VmFsdWU6YS5kYXRhKGcpfSxjKTpjO3ZhciBoPU0udChiLGYpO2EuZGF0YShnLGgpLGEuYXR0cihkLGgpfWVsc2UgZj1VLmRlZmF1bHRWYWx1ZUZyb21Db250ZW50P00uZXh0ZW5kKHtkZWZhdWx0VmFsdWU6YS5hdHRyKGQpfSxjKTpjLGEuYXR0cihkLE0udChiLGYpKX19ZnVuY3Rpb24gYihiLGMpe3ZhciBkPWIuYXR0cihVLnNlbGVjdG9yQXR0cik7aWYoZHx8XCJ1bmRlZmluZWRcIj09dHlwZW9mIGR8fGQ9PT0hMXx8KGQ9Yi50ZXh0KCl8fGIudmFsKCkpLGQpe3ZhciBlPWIsZj1iLmRhdGEoXCJpMThuLXRhcmdldFwiKTtpZihmJiYoZT1iLmZpbmQoZil8fGIpLGN8fFUudXNlRGF0YUF0dHJPcHRpb25zIT09ITB8fChjPWIuZGF0YShcImkxOG4tb3B0aW9uc1wiKSksYz1jfHx7fSxkLmluZGV4T2YoXCI7XCIpPj0wKXt2YXIgZz1kLnNwbGl0KFwiO1wiKTtNLmVhY2goZyxmdW5jdGlvbihiLGQpe1wiXCIhPT1kJiZhKGUsZCxjKX0pfWVsc2UgYShlLGQsYyk7aWYoVS51c2VEYXRhQXR0ck9wdGlvbnM9PT0hMCl7dmFyIGg9TS5leHRlbmQoe2xuZzpcIm5vblwiLGxuZ3M6W10sX29yaWdMbmc6XCJub25cIn0sYyk7ZGVsZXRlIGgubG5nLGRlbGV0ZSBoLmxuZ3MsZGVsZXRlIGguX29yaWdMbmcsYi5kYXRhKFwiaTE4bi1vcHRpb25zXCIsaCl9fX1NLnQ9TS50fHxGLE0uZm4uaTE4bj1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7YihNKHRoaXMpLGEpO3ZhciBjPU0odGhpcykuZmluZChcIltcIitVLnNlbGVjdG9yQXR0citcIl1cIik7Yy5lYWNoKGZ1bmN0aW9uKCl7YihNKHRoaXMpLGEpfSl9KX19ZnVuY3Rpb24geSgpe2Z1bmN0aW9uIGEoYSxiLGMpe2lmKDAhPT1iLmxlbmd0aCl7dmFyIGQ9XCJ0ZXh0XCI7aWYoMD09PWIuaW5kZXhPZihcIltcIikpe3ZhciBlPWIuc3BsaXQoXCJdXCIpO2I9ZVsxXSxkPWVbMF0uc3Vic3RyKDEsZVswXS5sZW5ndGgtMSl9Yi5pbmRleE9mKFwiO1wiKT09PWIubGVuZ3RoLTEmJihiPWIuc3Vic3RyKDAsYi5sZW5ndGgtMikpLFwiaHRtbFwiPT09ZD9hLmlubmVySFRNTD1GKGIsYyk6XCJ0ZXh0XCI9PT1kP2EudGV4dENvbnRlbnQ9RihiLGMpOlwicHJlcGVuZFwiPT09ZD9hLmluc2VydEFkamFjZW50SFRNTChGKGIsYyksXCJhZnRlcmJlZ2luXCIpOlwiYXBwZW5kXCI9PT1kP2EuaW5zZXJ0QWRqYWNlbnRIVE1MKEYoYixjKSxcImJlZm9yZWVuZFwiKTphLnNldEF0dHJpYnV0ZShkLEYoYixjKSl9fWZ1bmN0aW9uIGIoYixjKXt2YXIgZD1iLmdldEF0dHJpYnV0ZShVLnNlbGVjdG9yQXR0cik7aWYoZHx8XCJ1bmRlZmluZWRcIj09dHlwZW9mIGR8fGQ9PT0hMXx8KGQ9Yi50ZXh0Q29udGVudHx8Yi52YWx1ZSksZCl7dmFyIGU9YixmPWIuZ2V0QXR0cmlidXRlKFwiaTE4bi10YXJnZXRcIik7aWYoZiYmKGU9Yi5xdWVyeVNlbGVjdG9yKGYpfHxiKSxkLmluZGV4T2YoXCI7XCIpPj0wKWZvcih2YXIgZz1kLnNwbGl0KFwiO1wiKSxoPTAsaT1nLmxlbmd0aDtpPmg7aCsrKVwiXCIhPT1nW2hdJiZhKGUsZ1toXSxjKTtlbHNlIGEoZSxkLGMpfX1OLnRyYW5zbGF0ZU9iamVjdD1mdW5jdGlvbihhLGMpe2Zvcih2YXIgZD1hLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbXCIrVS5zZWxlY3RvckF0dHIrXCJdXCIpLGU9MCxmPWQubGVuZ3RoO2Y+ZTtlKyspYihkW2VdLGMpfX1mdW5jdGlvbiB6KGEsYixjLGQpe2lmKCFhKXJldHVybiBhO2lmKGQ9ZHx8YixhLmluZGV4T2YoZC5pbnRlcnBvbGF0aW9uUHJlZml4fHxVLmludGVycG9sYXRpb25QcmVmaXgpPDApcmV0dXJuIGE7dmFyIGU9ZC5pbnRlcnBvbGF0aW9uUHJlZml4P1kucmVnZXhFc2NhcGUoZC5pbnRlcnBvbGF0aW9uUHJlZml4KTpVLmludGVycG9sYXRpb25QcmVmaXhFc2NhcGVkLGY9ZC5pbnRlcnBvbGF0aW9uU3VmZml4P1kucmVnZXhFc2NhcGUoZC5pbnRlcnBvbGF0aW9uU3VmZml4KTpVLmludGVycG9sYXRpb25TdWZmaXhFc2NhcGVkLGc9ZC5rZXlzZXBhcmF0b3J8fFUua2V5c2VwYXJhdG9yLGg9Yi5yZXBsYWNlJiZcIm9iamVjdFwiPT10eXBlb2YgYi5yZXBsYWNlP2IucmVwbGFjZTpiLGk9bmV3IFJlZ0V4cChbZSxcIiguKz8pXCIsXCIoSFRNTCk/XCIsZl0uam9pbihcIlwiKSxcImdcIiksaj1kLmVzY2FwZUludGVycG9sYXRpb258fFUuZXNjYXBlSW50ZXJwb2xhdGlvbjtyZXR1cm4gYS5yZXBsYWNlKGksZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1oLGU9YjtlLmluZGV4T2YoZyk+PTAmJlwib2JqZWN0XCI9PXR5cGVvZiBkJiZkOyl7dmFyIGY9ZS5zbGljZSgwLGUuaW5kZXhPZihnKSk7ZT1lLnNsaWNlKGUuaW5kZXhPZihnKSsxKSxkPWRbZl19aWYoZCYmXCJvYmplY3RcIj09dHlwZW9mIGQmJmQuaGFzT3duUHJvcGVydHkoZSkpe3tkW2VdfXJldHVybiBqJiYhYz9ZLmVzY2FwZShkW2VdKTpkW2VdfXJldHVybiBhfSl9ZnVuY3Rpb24gQShhLGIpe3ZhciBjPVwiLFwiLGQ9XCJ7XCIsZT1cIn1cIixmPVkuZXh0ZW5kKHt9LGIpO2ZvcihkZWxldGUgZi5wb3N0UHJvY2VzcyxkZWxldGUgZi5pc0ZhbGxiYWNrTG9va3VwOy0xIT1hLmluZGV4T2YoVS5yZXVzZVByZWZpeCkmJihQKyssIShQPlUubWF4UmVjdXJzaW9uKSk7KXt2YXIgZz1hLmxhc3RJbmRleE9mKFUucmV1c2VQcmVmaXgpLGg9YS5pbmRleE9mKFUucmV1c2VTdWZmaXgsZykrVS5yZXVzZVN1ZmZpeC5sZW5ndGgsaT1hLnN1YnN0cmluZyhnLGgpLGo9aS5yZXBsYWNlKFUucmV1c2VQcmVmaXgsXCJcIikucmVwbGFjZShVLnJldXNlU3VmZml4LFwiXCIpO2lmKGc+PWgpcmV0dXJuIFkuZXJyb3IoXCJ0aGVyZSBpcyBhbiBtaXNzaW5nIGNsb3NpbmcgaW4gZm9sbG93aW5nIHRyYW5zbGF0aW9uIHZhbHVlXCIsYSksXCJcIjtpZigtMSE9ai5pbmRleE9mKGMpKXt2YXIgaz1qLmluZGV4T2YoYyk7aWYoLTEhPWouaW5kZXhPZihkLGspJiYtMSE9ai5pbmRleE9mKGUsaykpe3ZhciBsPWouaW5kZXhPZihkLGspLG09ai5pbmRleE9mKGUsbCkrZS5sZW5ndGg7dHJ5e2Y9WS5leHRlbmQoZixKU09OLnBhcnNlKGouc3Vic3RyaW5nKGwsbSkpKSxqPWouc3Vic3RyaW5nKDAsayl9Y2F0Y2gobil7fX19dmFyIG89SShqLGYpO2E9YS5yZXBsYWNlKGksWS5yZWdleFJlcGxhY2VtZW50RXNjYXBlKG8pKX1yZXR1cm4gYX1mdW5jdGlvbiBCKGEpe3JldHVybiBhLmNvbnRleHQmJihcInN0cmluZ1wiPT10eXBlb2YgYS5jb250ZXh0fHxcIm51bWJlclwiPT10eXBlb2YgYS5jb250ZXh0KX1mdW5jdGlvbiBDKGEpe3JldHVybiB2b2lkIDAhPT1hLmNvdW50JiZcInN0cmluZ1wiIT10eXBlb2YgYS5jb3VudH1mdW5jdGlvbiBEKGEpe3JldHVybiB2b2lkIDAhPT1hLmluZGVmaW5pdGVfYXJ0aWNsZSYmXCJzdHJpbmdcIiE9dHlwZW9mIGEuaW5kZWZpbml0ZV9hcnRpY2xlJiZhLmluZGVmaW5pdGVfYXJ0aWNsZX1mdW5jdGlvbiBFKGEsYil7Yj1ifHx7fTt2YXIgYz1HKGEsYiksZD1KKGEsYik7cmV0dXJuIHZvaWQgMCE9PWR8fGQ9PT1jfWZ1bmN0aW9uIEYoYSxiKXtyZXR1cm4gUj8oUD0wLEkuYXBwbHkobnVsbCxhcmd1bWVudHMpKTooWS5sb2coXCJpMThuZXh0IG5vdCBmaW5pc2hlZCBpbml0aWFsaXphdGlvbi4geW91IG1pZ2h0IGhhdmUgY2FsbGVkIHQgZnVuY3Rpb24gYmVmb3JlIGxvYWRpbmcgcmVzb3VyY2VzIGZpbmlzaGVkLlwiKSxiJiZiLmRlZmF1bHRWYWx1ZT9iLmRldGF1bHRWYWx1ZTpcIlwiKX1mdW5jdGlvbiBHKGEsYil7cmV0dXJuIHZvaWQgMCE9PWIuZGVmYXVsdFZhbHVlP2IuZGVmYXVsdFZhbHVlOmF9ZnVuY3Rpb24gSCgpe2Zvcih2YXIgYT1bXSxiPTE7Yjxhcmd1bWVudHMubGVuZ3RoO2IrKylhLnB1c2goYXJndW1lbnRzW2JdKTtyZXR1cm57cG9zdFByb2Nlc3M6XCJzcHJpbnRmXCIsc3ByaW50ZjphfX1mdW5jdGlvbiBJKGEsYil7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGImJlwib2JqZWN0XCIhPXR5cGVvZiBiP1wic3ByaW50ZlwiPT09VS5zaG9ydGN1dEZ1bmN0aW9uP2I9SC5hcHBseShudWxsLGFyZ3VtZW50cyk6XCJkZWZhdWx0VmFsdWVcIj09PVUuc2hvcnRjdXRGdW5jdGlvbiYmKGI9e2RlZmF1bHRWYWx1ZTpifSk6Yj1ifHx7fSxcIm9iamVjdFwiPT10eXBlb2YgVS5kZWZhdWx0VmFyaWFibGVzJiYoYj1ZLmV4dGVuZCh7fSxVLmRlZmF1bHRWYXJpYWJsZXMsYikpLHZvaWQgMD09PWF8fG51bGw9PT1hfHxcIlwiPT09YSlyZXR1cm5cIlwiO1wibnVtYmVyXCI9PXR5cGVvZiBhJiYoYT1TdHJpbmcoYSkpLFwic3RyaW5nXCI9PXR5cGVvZiBhJiYoYT1bYV0pO3ZhciBjPWFbMF07aWYoYS5sZW5ndGg+MSlmb3IodmFyIGQ9MDtkPGEubGVuZ3RoJiYoYz1hW2RdLCFFKGMsYikpO2QrKyk7dmFyIGUsZj1HKGMsYiksZz1KKGMsYiksaD1iLm5zc2VwYXJhdG9yfHxVLm5zc2VwYXJhdG9yLGk9Yi5sbmc/WS50b0xhbmd1YWdlcyhiLmxuZyxiLmZhbGxiYWNrTG5nKTpRLGo9Yi5uc3x8VS5ucy5kZWZhdWx0TnM7Yy5pbmRleE9mKGgpPi0xJiYoZT1jLnNwbGl0KGgpLGo9ZVswXSxjPWVbMV0pLHZvaWQgMD09PWcmJlUuc2VuZE1pc3NpbmcmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFUubWlzc2luZ0tleUhhbmRsZXImJihiLmxuZz9VLm1pc3NpbmdLZXlIYW5kbGVyKGlbMF0saixjLGYsaSk6VS5taXNzaW5nS2V5SGFuZGxlcihVLmxuZyxqLGMsZixpKSk7dmFyIGssbCxtO2lmKGs9XCJzdHJpbmdcIj09dHlwZW9mIFUucG9zdFByb2Nlc3MmJlwiXCIhPT1VLnBvc3RQcm9jZXNzP1tVLnBvc3RQcm9jZXNzXTpcImFycmF5XCI9PXR5cGVvZiBVLnBvc3RQcm9jZXNzfHxcIm9iamVjdFwiPT10eXBlb2YgVS5wb3N0UHJvY2Vzcz9VLnBvc3RQcm9jZXNzOltdLFwic3RyaW5nXCI9PXR5cGVvZiBiLnBvc3RQcm9jZXNzJiZcIlwiIT09Yi5wb3N0UHJvY2Vzcz9rPWsuY29uY2F0KFtiLnBvc3RQcm9jZXNzXSk6KFwiYXJyYXlcIj09dHlwZW9mIGIucG9zdFByb2Nlc3N8fFwib2JqZWN0XCI9PXR5cGVvZiBiLnBvc3RQcm9jZXNzKSYmKGs9ay5jb25jYXQoYi5wb3N0UHJvY2VzcykpLHZvaWQgMCE9PWcmJmsubGVuZ3RoKWZvcihtPTA7bTxrLmxlbmd0aDttKz0xKWw9a1ttXSxhYVtsXSYmKGc9YWFbbF0oZyxjLGIpKTt2YXIgbj1mO2lmKGYuaW5kZXhPZihoKT4tMSYmKGU9Zi5zcGxpdChoKSxuPWVbMV0pLG49PT1jJiZVLnBhcnNlTWlzc2luZ0tleSYmKGY9VS5wYXJzZU1pc3NpbmdLZXkoZikpLHZvaWQgMD09PWcmJihmPXooZixiKSxmPUEoZixiKSxrLmxlbmd0aCkpZm9yKGc9RyhjLGIpLG09MDttPGsubGVuZ3RoO20rPTEpbD1rW21dLGFhW2xdJiYoZz1hYVtsXShnLGMsYikpO3JldHVybiB2b2lkIDAhPT1nP2c6Zn1mdW5jdGlvbiBKKGEsYil7Yj1ifHx7fTt2YXIgYyxkLGU9RyhhLGIpLGY9UTtpZighTylyZXR1cm4gZTtpZihcImNpbW9kZVwiPT09ZlswXS50b0xvd2VyQ2FzZSgpKXJldHVybiBlO2lmKGIubG5ncyYmKGY9Yi5sbmdzKSxiLmxuZyYmKGY9WS50b0xhbmd1YWdlcyhiLmxuZyxiLmZhbGxiYWNrTG5nKSwhT1tmWzBdXSkpe3ZhciBnPVUuZ2V0QXN5bmM7VS5nZXRBc3luYz0hMSxOLnN5bmMubG9hZChmLFUsZnVuY3Rpb24oYSxiKXtZLmV4dGVuZChPLGIpLFUuZ2V0QXN5bmM9Z30pfXZhciBoPWIubnN8fFUubnMuZGVmYXVsdE5zLGk9Yi5uc3NlcGFyYXRvcnx8VS5uc3NlcGFyYXRvcjtpZihhLmluZGV4T2YoaSk+LTEpe3ZhciBqPWEuc3BsaXQoaSk7aD1qWzBdLGE9alsxXX1pZihCKGIpKXtjPVkuZXh0ZW5kKHt9LGIpLGRlbGV0ZSBjLmNvbnRleHQsYy5kZWZhdWx0VmFsdWU9VS5jb250ZXh0Tm90Rm91bmQ7dmFyIGs9aCtpK2ErXCJfXCIrYi5jb250ZXh0O2lmKGQ9RihrLGMpLGQhPVUuY29udGV4dE5vdEZvdW5kKXJldHVybiB6KGQse2NvbnRleHQ6Yi5jb250ZXh0fSl9aWYoQyhiLGZbMF0pKXtjPVkuZXh0ZW5kKHtsbmdzOltmWzBdXX0sYiksZGVsZXRlIGMuY291bnQsYy5fb3JpZ0xuZz1jLl9vcmlnTG5nfHxjLmxuZ3x8ZlswXSxkZWxldGUgYy5sbmcsYy5kZWZhdWx0VmFsdWU9VS5wbHVyYWxOb3RGb3VuZDt2YXIgbDtpZihfLm5lZWRzUGx1cmFsKGZbMF0sYi5jb3VudCkpe2w9aCtpK2ErVS5wbHVyYWxTdWZmaXg7dmFyIG09Xy5nZXQoZlswXSxiLmNvdW50KTttPj0wP2w9bCtcIl9cIittOjE9PT1tJiYobD1oK2krYSl9ZWxzZSBsPWgraSthO2lmKGQ9RihsLGMpLGQhPVUucGx1cmFsTm90Rm91bmQpcmV0dXJuIHooZCx7Y291bnQ6Yi5jb3VudCxpbnRlcnBvbGF0aW9uUHJlZml4OmIuaW50ZXJwb2xhdGlvblByZWZpeCxpbnRlcnBvbGF0aW9uU3VmZml4OmIuaW50ZXJwb2xhdGlvblN1ZmZpeH0pO2lmKCEoZi5sZW5ndGg+MSkpcmV0dXJuIGMubG5nPWMuX29yaWdMbmcsZGVsZXRlIGMuX29yaWdMbmcsZD1GKGgraSthLGMpLHooZCx7Y291bnQ6Yi5jb3VudCxpbnRlcnBvbGF0aW9uUHJlZml4OmIuaW50ZXJwb2xhdGlvblByZWZpeCxpbnRlcnBvbGF0aW9uU3VmZml4OmIuaW50ZXJwb2xhdGlvblN1ZmZpeH0pO3ZhciBuPWYuc2xpY2UoKTtpZihuLnNoaWZ0KCksYj1ZLmV4dGVuZChiLHtsbmdzOm59KSxiLl9vcmlnTG5nPWMuX29yaWdMbmcsZGVsZXRlIGIubG5nLGQ9RihoK2krYSxiKSxkIT1VLnBsdXJhbE5vdEZvdW5kKXJldHVybiBkfWlmKEQoYikpe3ZhciBvPVkuZXh0ZW5kKHt9LGIpO2RlbGV0ZSBvLmluZGVmaW5pdGVfYXJ0aWNsZSxvLmRlZmF1bHRWYWx1ZT1VLmluZGVmaW5pdGVOb3RGb3VuZDt2YXIgcD1oK2krYSsoYi5jb3VudCYmIUMoYixmWzBdKXx8IWIuY291bnQ/VS5pbmRlZmluaXRlU3VmZml4OlwiXCIpO2lmKGQ9RihwLG8pLGQhPVUuaW5kZWZpbml0ZU5vdEZvdW5kKXJldHVybiBkfWZvcih2YXIgcSxyPWIua2V5c2VwYXJhdG9yfHxVLmtleXNlcGFyYXRvcixzPWEuc3BsaXQociksdD0wLHU9Zi5sZW5ndGg7dT50JiZ2b2lkIDA9PT1xO3QrKyl7Zm9yKHZhciB2PWZbdF0sdz0wLHg9T1t2XSYmT1t2XVtoXTtzW3ddOyl4PXgmJnhbc1t3XV0sdysrO2lmKHZvaWQgMCE9PXgmJighVS5zaG93S2V5SWZFbXB0eXx8XCJcIiE9PXgpKXt2YXIgeT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmFwcGx5KHgpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB4KXg9eih4LGIpLHg9QSh4LGIpO2Vsc2UgaWYoXCJbb2JqZWN0IEFycmF5XVwiIT09eXx8VS5yZXR1cm5PYmplY3RUcmVlc3x8Yi5yZXR1cm5PYmplY3RUcmVlcyl7aWYobnVsbD09PXgmJlUuZmFsbGJhY2tPbk51bGw9PT0hMCl4PXZvaWQgMDtlbHNlIGlmKG51bGwhPT14KWlmKFUucmV0dXJuT2JqZWN0VHJlZXN8fGIucmV0dXJuT2JqZWN0VHJlZXMpe2lmKFwiW29iamVjdCBOdW1iZXJdXCIhPT15JiZcIltvYmplY3QgRnVuY3Rpb25dXCIhPT15JiZcIltvYmplY3QgUmVnRXhwXVwiIT09eSl7dmFyIEU9XCJbb2JqZWN0IEFycmF5XVwiPT09eT9bXTp7fTtZLmVhY2goeCxmdW5jdGlvbihjKXtFW2NdPUkoaCtpK2ErcitjLGIpfSkseD1FfX1lbHNlIFUub2JqZWN0VHJlZUtleUhhbmRsZXImJlwiZnVuY3Rpb25cIj09dHlwZW9mIFUub2JqZWN0VHJlZUtleUhhbmRsZXI/eD1VLm9iamVjdFRyZWVLZXlIYW5kbGVyKGEseCx2LGgsYik6KHg9XCJrZXkgJ1wiK2grXCI6XCIrYStcIiAoXCIrditcIiknIHJldHVybmVkIGFuIG9iamVjdCBpbnN0ZWFkIG9mIHN0cmluZy5cIixZLmxvZyh4KSl9ZWxzZSB4PXguam9pbihcIlxcblwiKSx4PXooeCxiKSx4PUEoeCxiKTtcInN0cmluZ1wiPT10eXBlb2YgeCYmXCJcIj09PXgudHJpbSgpJiZVLmZhbGxiYWNrT25FbXB0eT09PSEwJiYoeD12b2lkIDApLHE9eH19aWYodm9pZCAwPT09cSYmIWIuaXNGYWxsYmFja0xvb2t1cCYmKFUuZmFsbGJhY2tUb0RlZmF1bHROUz09PSEwfHxVLmZhbGxiYWNrTlMmJlUuZmFsbGJhY2tOUy5sZW5ndGg+MCkpe2lmKGIuaXNGYWxsYmFja0xvb2t1cD0hMCxVLmZhbGxiYWNrTlMubGVuZ3RoKXtmb3IodmFyIEg9MCxLPVUuZmFsbGJhY2tOUy5sZW5ndGg7Sz5IO0grKylpZihxPUooVS5mYWxsYmFja05TW0hdK2krYSxiKSxxfHxcIlwiPT09cSYmVS5mYWxsYmFja09uRW1wdHk9PT0hMSl7dmFyIEw9cS5pbmRleE9mKGkpPi0xP3Euc3BsaXQoaSlbMV06cSxNPWUuaW5kZXhPZihpKT4tMT9lLnNwbGl0KGkpWzFdOmU7aWYoTCE9PU0pYnJlYWt9fWVsc2UgYi5ucz1VLm5zLmRlZmF1bHROcyxxPUooYSxiKTtiLmlzRmFsbGJhY2tMb29rdXA9ITF9cmV0dXJuIHF9ZnVuY3Rpb24gSygpe3ZhciBhLGI9VS5sbmdXaGl0ZWxpc3R8fFtdLGM9W107aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmIWZ1bmN0aW9uKCl7Zm9yKHZhciBhPXdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyaW5nKDEpLGI9YS5zcGxpdChcIiZcIiksZD0wO2Q8Yi5sZW5ndGg7ZCsrKXt2YXIgZT1iW2RdLmluZGV4T2YoXCI9XCIpO2lmKGU+MCl7dmFyIGY9YltkXS5zdWJzdHJpbmcoMCxlKTtmPT1VLmRldGVjdExuZ1FTJiZjLnB1c2goYltkXS5zdWJzdHJpbmcoZSsxKSl9fX0oKSxVLnVzZUNvb2tpZSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50KXt2YXIgZD1ZLmNvb2tpZS5yZWFkKFUuY29va2llTmFtZSk7ZCYmYy5wdXNoKGQpfWlmKFUuZGV0ZWN0TG5nRnJvbUxvY2FsU3RvcmFnZSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93LmxvY2FsU3RvcmFnZSl7dmFyIGU9WS5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImkxOG5leHRfbG5nXCIpO2UmJmMucHVzaChlKX1pZihcInVuZGVmaW5lZFwiIT10eXBlb2YgbmF2aWdhdG9yKXtpZihuYXZpZ2F0b3IubGFuZ3VhZ2VzKWZvcih2YXIgZj0wO2Y8bmF2aWdhdG9yLmxhbmd1YWdlcy5sZW5ndGg7ZisrKWMucHVzaChuYXZpZ2F0b3IubGFuZ3VhZ2VzW2ZdKTtuYXZpZ2F0b3IudXNlckxhbmd1YWdlJiZjLnB1c2gobmF2aWdhdG9yLnVzZXJMYW5ndWFnZSksbmF2aWdhdG9yLmxhbmd1YWdlJiZjLnB1c2gobmF2aWdhdG9yLmxhbmd1YWdlKX1yZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIGQ9MDtkPGMubGVuZ3RoO2QrKyl7dmFyIGU9Y1tkXTtpZihlLmluZGV4T2YoXCItXCIpPi0xKXt2YXIgZj1lLnNwbGl0KFwiLVwiKTtlPVUubG93ZXJDYXNlTG5nP2ZbMF0udG9Mb3dlckNhc2UoKStcIi1cIitmWzFdLnRvTG93ZXJDYXNlKCk6ZlswXS50b0xvd2VyQ2FzZSgpK1wiLVwiK2ZbMV0udG9VcHBlckNhc2UoKX1pZigwPT09Yi5sZW5ndGh8fGIuaW5kZXhPZihlKT4tMSl7YT1lO2JyZWFrfX19KCksYXx8KGE9VS5mYWxsYmFja0xuZ1swXSksYX1BcnJheS5wcm90b3R5cGUuaW5kZXhPZnx8KEFycmF5LnByb3RvdHlwZS5pbmRleE9mPWZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2lmKG51bGw9PXRoaXMpdGhyb3cgbmV3IFR5cGVFcnJvcjt2YXIgYj1PYmplY3QodGhpcyksYz1iLmxlbmd0aD4+PjA7aWYoMD09PWMpcmV0dXJuLTE7dmFyIGQ9MDtpZihhcmd1bWVudHMubGVuZ3RoPjAmJihkPU51bWJlcihhcmd1bWVudHNbMV0pLGQhPWQ/ZD0wOjAhPWQmJmQhPTEvMCYmZCE9LSgxLzApJiYoZD0oZD4wfHwtMSkqTWF0aC5mbG9vcihNYXRoLmFicyhkKSkpKSxkPj1jKXJldHVybi0xO2Zvcih2YXIgZT1kPj0wP2Q6TWF0aC5tYXgoYy1NYXRoLmFicyhkKSwwKTtjPmU7ZSsrKWlmKGUgaW4gYiYmYltlXT09PWEpcmV0dXJuIGU7cmV0dXJuLTF9KSxBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2Z8fChBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2Y9ZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7aWYobnVsbD09dGhpcyl0aHJvdyBuZXcgVHlwZUVycm9yO3ZhciBiPU9iamVjdCh0aGlzKSxjPWIubGVuZ3RoPj4+MDtpZigwPT09YylyZXR1cm4tMTt2YXIgZD1jO2FyZ3VtZW50cy5sZW5ndGg+MSYmKGQ9TnVtYmVyKGFyZ3VtZW50c1sxXSksZCE9ZD9kPTA6MCE9ZCYmZCE9MS8wJiZkIT0tKDEvMCkmJihkPShkPjB8fC0xKSpNYXRoLmZsb29yKE1hdGguYWJzKGQpKSkpO2Zvcih2YXIgZT1kPj0wP01hdGgubWluKGQsYy0xKTpjLU1hdGguYWJzKGQpO2U+PTA7ZS0tKWlmKGUgaW4gYiYmYltlXT09PWEpcmV0dXJuIGU7cmV0dXJuLTF9KSxcImZ1bmN0aW9uXCIhPXR5cGVvZiBTdHJpbmcucHJvdG90eXBlLnRyaW0mJihTdHJpbmcucHJvdG90eXBlLnRyaW09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLFwiXCIpfSk7dmFyIEwsTT1hLmpRdWVyeXx8YS5aZXB0byxOPXt9LE89e30sUD0wLFE9W10sUj0hMSxTPXt9LFQ9bnVsbDtcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1OOihNJiYoTS5pMThuPU0uaTE4bnx8TiksYS5pMThuJiYoVD1hLmkxOG4pLGEuaTE4bj1OKSxTPXtsb2FkOmZ1bmN0aW9uKGEsYixjKXtiLnVzZUxvY2FsU3RvcmFnZT9TLl9sb2FkTG9jYWwoYSxiLGZ1bmN0aW9uKGQsZSl7Zm9yKHZhciBmPVtdLGc9MCxoPWEubGVuZ3RoO2g+ZztnKyspZVthW2ddXXx8Zi5wdXNoKGFbZ10pO2YubGVuZ3RoPjA/Uy5fZmV0Y2goZixiLGZ1bmN0aW9uKGEsYil7WS5leHRlbmQoZSxiKSxTLl9zdG9yZUxvY2FsKGIpLGMoYSxlKX0pOmMoZCxlKX0pOlMuX2ZldGNoKGEsYixmdW5jdGlvbihhLGIpe2MoYSxiKX0pfSxfbG9hZExvY2FsOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD17fSxlPShuZXcgRGF0ZSkuZ2V0VGltZSgpO2lmKHdpbmRvdy5sb2NhbFN0b3JhZ2Upe3ZhciBmPWEubGVuZ3RoO1kuZWFjaChhLGZ1bmN0aW9uKGEsZyl7dmFyIGg9WS5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInJlc19cIitnKTtoJiYoaD1KU09OLnBhcnNlKGgpLGguaTE4blN0YW1wJiZoLmkxOG5TdGFtcCtiLmxvY2FsU3RvcmFnZUV4cGlyYXRpb25UaW1lPmUmJihkW2ddPWgpKSxmLS0sMD09PWYmJmMobnVsbCxkKX0pfX0sX3N0b3JlTG9jYWw6ZnVuY3Rpb24oYSl7aWYod2luZG93LmxvY2FsU3RvcmFnZSlmb3IodmFyIGIgaW4gYSlhW2JdLmkxOG5TdGFtcD0obmV3IERhdGUpLmdldFRpbWUoKSxZLmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwicmVzX1wiK2IsSlNPTi5zdHJpbmdpZnkoYVtiXSkpfSxfZmV0Y2g6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWIubnMsZT17fTtpZihiLmR5bmFtaWNMb2FkKXt2YXIgZj1mdW5jdGlvbihhLGIpe2MoYSxiKX07aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgYi5jdXN0b21Mb2FkKWIuY3VzdG9tTG9hZChhLGQubmFtZXNwYWNlcyxiLGYpO2Vsc2V7dmFyIGc9eihiLnJlc0dldFBhdGgse2xuZzphLmpvaW4oXCIrXCIpLG5zOmQubmFtZXNwYWNlcy5qb2luKFwiK1wiKX0pO1kuYWpheCh7dXJsOmcsY2FjaGU6Yi5jYWNoZSxzdWNjZXNzOmZ1bmN0aW9uKGEpe1kubG9nKFwibG9hZGVkOiBcIitnKSxmKG51bGwsYSl9LGVycm9yOmZ1bmN0aW9uKGEsYixjKXtZLmxvZyhcImZhaWxlZCBsb2FkaW5nOiBcIitnKSxmKFwiZmFpbGVkIGxvYWRpbmcgcmVzb3VyY2UuanNvbiBlcnJvcjogXCIrYyl9LGRhdGFUeXBlOlwianNvblwiLGFzeW5jOmIuZ2V0QXN5bmMsdGltZW91dDpiLmFqYXhUaW1lb3V0fSl9fWVsc2V7dmFyIGgsaT1kLm5hbWVzcGFjZXMubGVuZ3RoKmEubGVuZ3RoO1kuZWFjaChkLm5hbWVzcGFjZXMsZnVuY3Rpb24oZCxmKXtZLmVhY2goYSxmdW5jdGlvbihhLGQpe3ZhciBnPWZ1bmN0aW9uKGEsYil7YSYmKGg9aHx8W10saC5wdXNoKGEpKSxlW2RdPWVbZF18fHt9LGVbZF1bZl09YixpLS0sMD09PWkmJmMoaCxlKX07XCJmdW5jdGlvblwiPT10eXBlb2YgYi5jdXN0b21Mb2FkP2IuY3VzdG9tTG9hZChkLGYsYixnKTpTLl9mZXRjaE9uZShkLGYsYixnKX0pfSl9fSxfZmV0Y2hPbmU6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9eihjLnJlc0dldFBhdGgse2xuZzphLG5zOmJ9KTtZLmFqYXgoe3VybDplLGNhY2hlOmMuY2FjaGUsc3VjY2VzczpmdW5jdGlvbihhKXtZLmxvZyhcImxvYWRlZDogXCIrZSksZChudWxsLGEpfSxlcnJvcjpmdW5jdGlvbihhLGIsYyl7aWYoYiYmMjAwPT1ifHxhJiZhLnN0YXR1cyYmMjAwPT1hLnN0YXR1cylZLmVycm9yKFwiVGhlcmUgaXMgYSB0eXBvIGluOiBcIitlKTtlbHNlIGlmKGImJjQwND09Ynx8YSYmYS5zdGF0dXMmJjQwND09YS5zdGF0dXMpWS5sb2coXCJEb2VzIG5vdCBleGlzdDogXCIrZSk7ZWxzZXt2YXIgZj1iP2I6YSYmYS5zdGF0dXM/YS5zdGF0dXM6bnVsbDtZLmxvZyhmK1wiIHdoZW4gbG9hZGluZyBcIitlKX1kKGMse30pfSxkYXRhVHlwZTpcImpzb25cIixhc3luYzpjLmdldEFzeW5jLHRpbWVvdXQ6Yy5hamF4VGltZW91dCxoZWFkZXJzOmMuaGVhZGVyc30pfSxwb3N0TWlzc2luZzpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPXt9O2ZbY109ZDt2YXIgZz1bXTtpZihcImZhbGxiYWNrXCI9PT1VLnNlbmRNaXNzaW5nVG8mJlUuZmFsbGJhY2tMbmdbMF0hPT0hMSlmb3IodmFyIGg9MDtoPFUuZmFsbGJhY2tMbmcubGVuZ3RoO2grKylnLnB1c2goe2xuZzpVLmZhbGxiYWNrTG5nW2hdLHVybDp6KFUucmVzUG9zdFBhdGgse2xuZzpVLmZhbGxiYWNrTG5nW2hdLG5zOmJ9KX0pO2Vsc2UgaWYoXCJjdXJyZW50XCI9PT1VLnNlbmRNaXNzaW5nVG98fFwiZmFsbGJhY2tcIj09PVUuc2VuZE1pc3NpbmdUbyYmVS5mYWxsYmFja0xuZ1swXT09PSExKWcucHVzaCh7bG5nOmEsdXJsOnooVS5yZXNQb3N0UGF0aCx7bG5nOmEsbnM6Yn0pfSk7ZWxzZSBpZihcImFsbFwiPT09VS5zZW5kTWlzc2luZ1RvKWZvcih2YXIgaD0wLGk9ZS5sZW5ndGg7aT5oO2grKylnLnB1c2goe2xuZzplW2hdLHVybDp6KFUucmVzUG9zdFBhdGgse2xuZzplW2hdLG5zOmJ9KX0pO2Zvcih2YXIgaj0wLGs9Zy5sZW5ndGg7az5qO2orKyl7dmFyIGw9Z1tqXTtZLmFqYXgoe3VybDpsLnVybCx0eXBlOlUuc2VuZFR5cGUsZGF0YTpmLHN1Y2Nlc3M6ZnVuY3Rpb24oKXtZLmxvZyhcInBvc3RlZCBtaXNzaW5nIGtleSAnXCIrYytcIicgdG86IFwiK2wudXJsKTtmb3IodmFyIGE9Yy5zcGxpdChcIi5cIiksZT0wLGY9T1tsLmxuZ11bYl07YVtlXTspZj1mW2FbZV1dPWU9PT1hLmxlbmd0aC0xP2Q6ZlthW2VdXXx8e30sZSsrfSxlcnJvcjpmdW5jdGlvbigpe1kubG9nKFwiZmFpbGVkIHBvc3RpbmcgbWlzc2luZyBrZXkgJ1wiK2MrXCInIHRvOiBcIitsLnVybCl9LGRhdGFUeXBlOlwianNvblwiLGFzeW5jOlUucG9zdEFzeW5jLHRpbWVvdXQ6VS5hamF4VGltZW91dH0pfX0scmVsb2FkOnZ9O3ZhciBVPXtsbmc6dm9pZCAwLGxvYWQ6XCJhbGxcIixwcmVsb2FkOltdLGxvd2VyQ2FzZUxuZzohMSxyZXR1cm5PYmplY3RUcmVlczohMSxmYWxsYmFja0xuZzpbXCJkZXZcIl0sZmFsbGJhY2tOUzpbXSxkZXRlY3RMbmdRUzpcInNldExuZ1wiLGRldGVjdExuZ0Zyb21Mb2NhbFN0b3JhZ2U6ITEsbnM6e25hbWVzcGFjZXM6W1widHJhbnNsYXRpb25cIl0sZGVmYXVsdE5zOlwidHJhbnNsYXRpb25cIn0sZmFsbGJhY2tPbk51bGw6ITAsZmFsbGJhY2tPbkVtcHR5OiExLGZhbGxiYWNrVG9EZWZhdWx0TlM6ITEsc2hvd0tleUlmRW1wdHk6ITEsbnNzZXBhcmF0b3I6XCI6XCIsa2V5c2VwYXJhdG9yOlwiLlwiLHNlbGVjdG9yQXR0cjpcImRhdGEtaTE4blwiLGRlYnVnOiExLHJlc0dldFBhdGg6XCJsb2NhbGVzL19fbG5nX18vX19uc19fLmpzb25cIixyZXNQb3N0UGF0aDpcImxvY2FsZXMvYWRkL19fbG5nX18vX19uc19fXCIsZ2V0QXN5bmM6ITAscG9zdEFzeW5jOiEwLHJlc1N0b3JlOnZvaWQgMCx1c2VMb2NhbFN0b3JhZ2U6ITEsbG9jYWxTdG9yYWdlRXhwaXJhdGlvblRpbWU6NjA0OGU1LGR5bmFtaWNMb2FkOiExLHNlbmRNaXNzaW5nOiExLHNlbmRNaXNzaW5nVG86XCJmYWxsYmFja1wiLHNlbmRUeXBlOlwiUE9TVFwiLGludGVycG9sYXRpb25QcmVmaXg6XCJfX1wiLGludGVycG9sYXRpb25TdWZmaXg6XCJfX1wiLGRlZmF1bHRWYXJpYWJsZXM6ITEscmV1c2VQcmVmaXg6XCIkdChcIixyZXVzZVN1ZmZpeDpcIilcIixwbHVyYWxTdWZmaXg6XCJfcGx1cmFsXCIscGx1cmFsTm90Rm91bmQ6W1wicGx1cmFsX25vdF9mb3VuZFwiLE1hdGgucmFuZG9tKCldLmpvaW4oXCJcIiksY29udGV4dE5vdEZvdW5kOltcImNvbnRleHRfbm90X2ZvdW5kXCIsTWF0aC5yYW5kb20oKV0uam9pbihcIlwiKSxlc2NhcGVJbnRlcnBvbGF0aW9uOiExLGluZGVmaW5pdGVTdWZmaXg6XCJfaW5kZWZpbml0ZVwiLGluZGVmaW5pdGVOb3RGb3VuZDpbXCJpbmRlZmluaXRlX25vdF9mb3VuZFwiLE1hdGgucmFuZG9tKCldLmpvaW4oXCJcIiksc2V0SnF1ZXJ5RXh0OiEwLGRlZmF1bHRWYWx1ZUZyb21Db250ZW50OiEwLHVzZURhdGFBdHRyT3B0aW9uczohMSxjb29raWVFeHBpcmF0aW9uVGltZTp2b2lkIDAsdXNlQ29va2llOiEwLGNvb2tpZU5hbWU6XCJpMThuZXh0XCIsY29va2llRG9tYWluOnZvaWQgMCxvYmplY3RUcmVlS2V5SGFuZGxlcjp2b2lkIDAscG9zdFByb2Nlc3M6dm9pZCAwLHBhcnNlTWlzc2luZ0tleTp2b2lkIDAsbWlzc2luZ0tleUhhbmRsZXI6Uy5wb3N0TWlzc2luZyxhamF4VGltZW91dDowLHNob3J0Y3V0RnVuY3Rpb246XCJzcHJpbnRmXCJ9LFY9e1wiJlwiOlwiJmFtcDtcIixcIjxcIjpcIiZsdDtcIixcIj5cIjpcIiZndDtcIiwnXCInOlwiJnF1b3Q7XCIsXCInXCI6XCImIzM5O1wiLFwiL1wiOlwiJiN4MkY7XCJ9LFc9e2NyZWF0ZTpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZTtpZihjKXt2YXIgZj1uZXcgRGF0ZTtmLnNldFRpbWUoZi5nZXRUaW1lKCkrNjAqYyoxZTMpLGU9XCI7IGV4cGlyZXM9XCIrZi50b0dNVFN0cmluZygpfWVsc2UgZT1cIlwiO2Q9ZD9cImRvbWFpbj1cIitkK1wiO1wiOlwiXCIsZG9jdW1lbnQuY29va2llPWErXCI9XCIrYitlK1wiO1wiK2QrXCJwYXRoPS9cIn0scmVhZDpmdW5jdGlvbihhKXtmb3IodmFyIGI9YStcIj1cIixjPWRvY3VtZW50LmNvb2tpZS5zcGxpdChcIjtcIiksZD0wO2Q8Yy5sZW5ndGg7ZCsrKXtmb3IodmFyIGU9Y1tkXTtcIiBcIj09ZS5jaGFyQXQoMCk7KWU9ZS5zdWJzdHJpbmcoMSxlLmxlbmd0aCk7aWYoMD09PWUuaW5kZXhPZihiKSlyZXR1cm4gZS5zdWJzdHJpbmcoYi5sZW5ndGgsZS5sZW5ndGgpfXJldHVybiBudWxsfSxyZW1vdmU6ZnVuY3Rpb24oYSl7dGhpcy5jcmVhdGUoYSxcIlwiLC0xKX19LFg9e2NyZWF0ZTpmdW5jdGlvbigpe30scmVhZDpmdW5jdGlvbigpe3JldHVybiBudWxsfSxyZW1vdmU6ZnVuY3Rpb24oKXt9fSxZPXtleHRlbmQ6TT9NLmV4dGVuZDpiLGRlZXBFeHRlbmQ6YyxlYWNoOk0/TS5lYWNoOmQsYWpheDpNP00uYWpheDpcInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQ/ZjpmdW5jdGlvbigpe30sY29va2llOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudD9XOlgsZGV0ZWN0TGFuZ3VhZ2U6Syxlc2NhcGU6ZSxsb2c6ZnVuY3Rpb24oYSl7VS5kZWJ1ZyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbnNvbGUmJmNvbnNvbGUubG9nKGEpfSxlcnJvcjpmdW5jdGlvbihhKXtcInVuZGVmaW5lZFwiIT10eXBlb2YgY29uc29sZSYmY29uc29sZS5lcnJvcihhKX0sZ2V0Q291bnR5SW5kZXhPZkxuZzpmdW5jdGlvbihhKXt2YXIgYj0wO3JldHVybihcIm5iLU5PXCI9PT1hfHxcIm5uLU5PXCI9PT1hfHxcIm5iLW5vXCI9PT1hfHxcIm5uLW5vXCI9PT1hKSYmKGI9MSksYn0sdG9MYW5ndWFnZXM6ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEpe3ZhciBiPWE7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGEmJmEuaW5kZXhPZihcIi1cIik+LTEpe3ZhciBjPWEuc3BsaXQoXCItXCIpO2I9VS5sb3dlckNhc2VMbmc/Y1swXS50b0xvd2VyQ2FzZSgpK1wiLVwiK2NbMV0udG9Mb3dlckNhc2UoKTpjWzBdLnRvTG93ZXJDYXNlKCkrXCItXCIrY1sxXS50b1VwcGVyQ2FzZSgpfWVsc2UgYj1VLmxvd2VyQ2FzZUxuZz9hLnRvTG93ZXJDYXNlKCk6YTtyZXR1cm4gYn12YXIgZD10aGlzLmxvZztiPWJ8fFUuZmFsbGJhY2tMbmcsXCJzdHJpbmdcIj09dHlwZW9mIGImJihiPVtiXSk7dmFyIGU9W10sZj1VLmxuZ1doaXRlbGlzdHx8ITEsZz1mdW5jdGlvbihhKXshZnx8Zi5pbmRleE9mKGEpPi0xP2UucHVzaChhKTpkKFwicmVqZWN0aW5nIG5vbi13aGl0ZWxpc3RlZCBsYW5ndWFnZTogXCIrYSl9O2lmKFwic3RyaW5nXCI9PXR5cGVvZiBhJiZhLmluZGV4T2YoXCItXCIpPi0xKXt2YXIgaD1hLnNwbGl0KFwiLVwiKTtcInVuc3BlY2lmaWNcIiE9PVUubG9hZCYmZyhjKGEpKSxcImN1cnJlbnRcIiE9PVUubG9hZCYmZyhjKGhbdGhpcy5nZXRDb3VudHlJbmRleE9mTG5nKGEpXSkpfWVsc2UgZyhjKGEpKTtmb3IodmFyIGk9MDtpPGIubGVuZ3RoO2krKyktMT09PWUuaW5kZXhPZihiW2ldKSYmYltpXSYmZS5wdXNoKGMoYltpXSkpO3JldHVybiBlfSxyZWdleEVzY2FwZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC9bXFwtXFxbXFxdXFwvXFx7XFx9XFwoXFwpXFwqXFwrXFw/XFwuXFxcXFxcXlxcJFxcfF0vZyxcIlxcXFwkJlwiKX0scmVnZXhSZXBsYWNlbWVudEVzY2FwZTpmdW5jdGlvbihhKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgYT9hLnJlcGxhY2UoL1xcJC9nLFwiJCQkJFwiKTphfSxsb2NhbFN0b3JhZ2U6e3NldEl0ZW06ZnVuY3Rpb24oYSxiKXtpZih3aW5kb3cubG9jYWxTdG9yYWdlKXRyeXt3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oYSxiKX1jYXRjaChjKXtZLmxvZygnZmFpbGVkIHRvIHNldCB2YWx1ZSBmb3Iga2V5IFwiJythKydcIiB0byBsb2NhbFN0b3JhZ2UuJyl9fSxnZXRJdGVtOmZ1bmN0aW9uKGEsYil7aWYod2luZG93LmxvY2FsU3RvcmFnZSl0cnl7cmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShhLGIpfWNhdGNoKGMpe3JldHVybiB2b2lkIFkubG9nKCdmYWlsZWQgdG8gZ2V0IHZhbHVlIGZvciBrZXkgXCInK2ErJ1wiIGZyb20gbG9jYWxTdG9yYWdlLicpfX19fTtZLmFwcGx5UmVwbGFjZW1lbnQ9ejt2YXIgWj1bW1wiYWNoXCIsXCJBY2hvbGlcIixbMSwyXSwxXSxbXCJhZlwiLFwiQWZyaWthYW5zXCIsWzEsMl0sMl0sW1wiYWtcIixcIkFrYW5cIixbMSwyXSwxXSxbXCJhbVwiLFwiQW1oYXJpY1wiLFsxLDJdLDFdLFtcImFuXCIsXCJBcmFnb25lc2VcIixbMSwyXSwyXSxbXCJhclwiLFwiQXJhYmljXCIsWzAsMSwyLDMsMTEsMTAwXSw1XSxbXCJhcm5cIixcIk1hcHVkdW5ndW5cIixbMSwyXSwxXSxbXCJhc3RcIixcIkFzdHVyaWFuXCIsWzEsMl0sMl0sW1wiYXlcIixcIkF5bWFyw6FcIixbMV0sM10sW1wiYXpcIixcIkF6ZXJiYWlqYW5pXCIsWzEsMl0sMl0sW1wiYmVcIixcIkJlbGFydXNpYW5cIixbMSwyLDVdLDRdLFtcImJnXCIsXCJCdWxnYXJpYW5cIixbMSwyXSwyXSxbXCJiblwiLFwiQmVuZ2FsaVwiLFsxLDJdLDJdLFtcImJvXCIsXCJUaWJldGFuXCIsWzFdLDNdLFtcImJyXCIsXCJCcmV0b25cIixbMSwyXSwxXSxbXCJic1wiLFwiQm9zbmlhblwiLFsxLDIsNV0sNF0sW1wiY2FcIixcIkNhdGFsYW5cIixbMSwyXSwyXSxbXCJjZ2dcIixcIkNoaWdhXCIsWzFdLDNdLFtcImNzXCIsXCJDemVjaFwiLFsxLDIsNV0sNl0sW1wiY3NiXCIsXCJLYXNodWJpYW5cIixbMSwyLDVdLDddLFtcImN5XCIsXCJXZWxzaFwiLFsxLDIsMyw4XSw4XSxbXCJkYVwiLFwiRGFuaXNoXCIsWzEsMl0sMl0sW1wiZGVcIixcIkdlcm1hblwiLFsxLDJdLDJdLFtcImRldlwiLFwiRGV2ZWxvcG1lbnQgRmFsbGJhY2tcIixbMSwyXSwyXSxbXCJkelwiLFwiRHpvbmdraGFcIixbMV0sM10sW1wiZWxcIixcIkdyZWVrXCIsWzEsMl0sMl0sW1wiZW5cIixcIkVuZ2xpc2hcIixbMSwyXSwyXSxbXCJlb1wiLFwiRXNwZXJhbnRvXCIsWzEsMl0sMl0sW1wiZXNcIixcIlNwYW5pc2hcIixbMSwyXSwyXSxbXCJlc19hclwiLFwiQXJnZW50aW5lYW4gU3BhbmlzaFwiLFsxLDJdLDJdLFtcImV0XCIsXCJFc3RvbmlhblwiLFsxLDJdLDJdLFtcImV1XCIsXCJCYXNxdWVcIixbMSwyXSwyXSxbXCJmYVwiLFwiUGVyc2lhblwiLFsxXSwzXSxbXCJmaVwiLFwiRmlubmlzaFwiLFsxLDJdLDJdLFtcImZpbFwiLFwiRmlsaXBpbm9cIixbMSwyXSwxXSxbXCJmb1wiLFwiRmFyb2VzZVwiLFsxLDJdLDJdLFtcImZyXCIsXCJGcmVuY2hcIixbMSwyXSw5XSxbXCJmdXJcIixcIkZyaXVsaWFuXCIsWzEsMl0sMl0sW1wiZnlcIixcIkZyaXNpYW5cIixbMSwyXSwyXSxbXCJnYVwiLFwiSXJpc2hcIixbMSwyLDMsNywxMV0sMTBdLFtcImdkXCIsXCJTY290dGlzaCBHYWVsaWNcIixbMSwyLDMsMjBdLDExXSxbXCJnbFwiLFwiR2FsaWNpYW5cIixbMSwyXSwyXSxbXCJndVwiLFwiR3VqYXJhdGlcIixbMSwyXSwyXSxbXCJndW5cIixcIkd1blwiLFsxLDJdLDFdLFtcImhhXCIsXCJIYXVzYVwiLFsxLDJdLDJdLFtcImhlXCIsXCJIZWJyZXdcIixbMSwyXSwyXSxbXCJoaVwiLFwiSGluZGlcIixbMSwyXSwyXSxbXCJoclwiLFwiQ3JvYXRpYW5cIixbMSwyLDVdLDRdLFtcImh1XCIsXCJIdW5nYXJpYW5cIixbMSwyXSwyXSxbXCJoeVwiLFwiQXJtZW5pYW5cIixbMSwyXSwyXSxbXCJpYVwiLFwiSW50ZXJsaW5ndWFcIixbMSwyXSwyXSxbXCJpZFwiLFwiSW5kb25lc2lhblwiLFsxXSwzXSxbXCJpc1wiLFwiSWNlbGFuZGljXCIsWzEsMl0sMTJdLFtcIml0XCIsXCJJdGFsaWFuXCIsWzEsMl0sMl0sW1wiamFcIixcIkphcGFuZXNlXCIsWzFdLDNdLFtcImpib1wiLFwiTG9qYmFuXCIsWzFdLDNdLFtcImp2XCIsXCJKYXZhbmVzZVwiLFswLDFdLDEzXSxbXCJrYVwiLFwiR2VvcmdpYW5cIixbMV0sM10sW1wia2tcIixcIkthemFraFwiLFsxXSwzXSxbXCJrbVwiLFwiS2htZXJcIixbMV0sM10sW1wia25cIixcIkthbm5hZGFcIixbMSwyXSwyXSxbXCJrb1wiLFwiS29yZWFuXCIsWzFdLDNdLFtcImt1XCIsXCJLdXJkaXNoXCIsWzEsMl0sMl0sW1wia3dcIixcIkNvcm5pc2hcIixbMSwyLDMsNF0sMTRdLFtcImt5XCIsXCJLeXJneXpcIixbMV0sM10sW1wibGJcIixcIkxldHplYnVyZ2VzY2hcIixbMSwyXSwyXSxbXCJsblwiLFwiTGluZ2FsYVwiLFsxLDJdLDFdLFtcImxvXCIsXCJMYW9cIixbMV0sM10sW1wibHRcIixcIkxpdGh1YW5pYW5cIixbMSwyLDEwXSwxNV0sW1wibHZcIixcIkxhdHZpYW5cIixbMSwyLDBdLDE2XSxbXCJtYWlcIixcIk1haXRoaWxpXCIsWzEsMl0sMl0sW1wibWZlXCIsXCJNYXVyaXRpYW4gQ3Jlb2xlXCIsWzEsMl0sMV0sW1wibWdcIixcIk1hbGFnYXN5XCIsWzEsMl0sMV0sW1wibWlcIixcIk1hb3JpXCIsWzEsMl0sMV0sW1wibWtcIixcIk1hY2Vkb25pYW5cIixbMSwyXSwxN10sW1wibWxcIixcIk1hbGF5YWxhbVwiLFsxLDJdLDJdLFtcIm1uXCIsXCJNb25nb2xpYW5cIixbMSwyXSwyXSxbXCJtbmtcIixcIk1hbmRpbmthXCIsWzAsMSwyXSwxOF0sW1wibXJcIixcIk1hcmF0aGlcIixbMSwyXSwyXSxbXCJtc1wiLFwiTWFsYXlcIixbMV0sM10sW1wibXRcIixcIk1hbHRlc2VcIixbMSwyLDExLDIwXSwxOV0sW1wibmFoXCIsXCJOYWh1YXRsXCIsWzEsMl0sMl0sW1wibmFwXCIsXCJOZWFwb2xpdGFuXCIsWzEsMl0sMl0sW1wibmJcIixcIk5vcndlZ2lhbiBCb2ttYWxcIixbMSwyXSwyXSxbXCJuZVwiLFwiTmVwYWxpXCIsWzEsMl0sMl0sW1wibmxcIixcIkR1dGNoXCIsWzEsMl0sMl0sW1wibm5cIixcIk5vcndlZ2lhbiBOeW5vcnNrXCIsWzEsMl0sMl0sW1wibm9cIixcIk5vcndlZ2lhblwiLFsxLDJdLDJdLFtcIm5zb1wiLFwiTm9ydGhlcm4gU290aG9cIixbMSwyXSwyXSxbXCJvY1wiLFwiT2NjaXRhblwiLFsxLDJdLDFdLFtcIm9yXCIsXCJPcml5YVwiLFsyLDFdLDJdLFtcInBhXCIsXCJQdW5qYWJpXCIsWzEsMl0sMl0sW1wicGFwXCIsXCJQYXBpYW1lbnRvXCIsWzEsMl0sMl0sW1wicGxcIixcIlBvbGlzaFwiLFsxLDIsNV0sN10sW1wicG1zXCIsXCJQaWVtb250ZXNlXCIsWzEsMl0sMl0sW1wicHNcIixcIlBhc2h0b1wiLFsxLDJdLDJdLFtcInB0XCIsXCJQb3J0dWd1ZXNlXCIsWzEsMl0sMl0sW1wicHRfYnJcIixcIkJyYXppbGlhbiBQb3J0dWd1ZXNlXCIsWzEsMl0sMl0sW1wicm1cIixcIlJvbWFuc2hcIixbMSwyXSwyXSxbXCJyb1wiLFwiUm9tYW5pYW5cIixbMSwyLDIwXSwyMF0sW1wicnVcIixcIlJ1c3NpYW5cIixbMSwyLDVdLDRdLFtcInNhaFwiLFwiWWFrdXRcIixbMV0sM10sW1wic2NvXCIsXCJTY290c1wiLFsxLDJdLDJdLFtcInNlXCIsXCJOb3J0aGVybiBTYW1pXCIsWzEsMl0sMl0sW1wic2lcIixcIlNpbmhhbGFcIixbMSwyXSwyXSxbXCJza1wiLFwiU2xvdmFrXCIsWzEsMiw1XSw2XSxbXCJzbFwiLFwiU2xvdmVuaWFuXCIsWzUsMSwyLDNdLDIxXSxbXCJzb1wiLFwiU29tYWxpXCIsWzEsMl0sMl0sW1wic29uXCIsXCJTb25naGF5XCIsWzEsMl0sMl0sW1wic3FcIixcIkFsYmFuaWFuXCIsWzEsMl0sMl0sW1wic3JcIixcIlNlcmJpYW5cIixbMSwyLDVdLDRdLFtcInN1XCIsXCJTdW5kYW5lc2VcIixbMV0sM10sW1wic3ZcIixcIlN3ZWRpc2hcIixbMSwyXSwyXSxbXCJzd1wiLFwiU3dhaGlsaVwiLFsxLDJdLDJdLFtcInRhXCIsXCJUYW1pbFwiLFsxLDJdLDJdLFtcInRlXCIsXCJUZWx1Z3VcIixbMSwyXSwyXSxbXCJ0Z1wiLFwiVGFqaWtcIixbMSwyXSwxXSxbXCJ0aFwiLFwiVGhhaVwiLFsxXSwzXSxbXCJ0aVwiLFwiVGlncmlueWFcIixbMSwyXSwxXSxbXCJ0a1wiLFwiVHVya21lblwiLFsxLDJdLDJdLFtcInRyXCIsXCJUdXJraXNoXCIsWzEsMl0sMV0sW1widHRcIixcIlRhdGFyXCIsWzFdLDNdLFtcInVnXCIsXCJVeWdodXJcIixbMV0sM10sW1widWtcIixcIlVrcmFpbmlhblwiLFsxLDIsNV0sNF0sW1widXJcIixcIlVyZHVcIixbMSwyXSwyXSxbXCJ1elwiLFwiVXpiZWtcIixbMSwyXSwxXSxbXCJ2aVwiLFwiVmlldG5hbWVzZVwiLFsxXSwzXSxbXCJ3YVwiLFwiV2FsbG9vblwiLFsxLDJdLDFdLFtcIndvXCIsXCJXb2xvZlwiLFsxXSwzXSxbXCJ5b1wiLFwiWW9ydWJhXCIsWzEsMl0sMl0sW1wiemhcIixcIkNoaW5lc2VcIixbMV0sM11dLCQ9ezE6ZnVuY3Rpb24oYSl7cmV0dXJuIE51bWJlcihhPjEpfSwyOmZ1bmN0aW9uKGEpe3JldHVybiBOdW1iZXIoMSE9YSl9LDM6ZnVuY3Rpb24oKXtyZXR1cm4gMH0sNDpmdW5jdGlvbihhKXtyZXR1cm4gTnVtYmVyKGElMTA9PTEmJmElMTAwIT0xMT8wOmElMTA+PTImJjQ+PWElMTAmJigxMD5hJTEwMHx8YSUxMDA+PTIwKT8xOjIpfSw1OmZ1bmN0aW9uKGEpe3JldHVybiBOdW1iZXIoMD09PWE/MDoxPT1hPzE6Mj09YT8yOmElMTAwPj0zJiYxMD49YSUxMDA/MzphJTEwMD49MTE/NDo1KX0sNjpmdW5jdGlvbihhKXtyZXR1cm4gTnVtYmVyKDE9PWE/MDphPj0yJiY0Pj1hPzE6Mil9LDc6ZnVuY3Rpb24oYSl7cmV0dXJuIE51bWJlcigxPT1hPzA6YSUxMD49MiYmND49YSUxMCYmKDEwPmElMTAwfHxhJTEwMD49MjApPzE6Mil9LDg6ZnVuY3Rpb24oYSl7cmV0dXJuIE51bWJlcigxPT1hPzA6Mj09YT8xOjghPWEmJjExIT1hPzI6Myl9LDk6ZnVuY3Rpb24oYSl7cmV0dXJuIE51bWJlcihhPj0yKX0sMTA6ZnVuY3Rpb24oYSl7cmV0dXJuIE51bWJlcigxPT1hPzA6Mj09YT8xOjc+YT8yOjExPmE/Mzo0KX0sMTE6ZnVuY3Rpb24oYSl7cmV0dXJuIE51bWJlcigxPT1hfHwxMT09YT8wOjI9PWF8fDEyPT1hPzE6YT4yJiYyMD5hPzI6Myl9LDEyOmZ1bmN0aW9uKGEpe3JldHVybiBOdW1iZXIoYSUxMCE9MXx8YSUxMDA9PTExKX0sMTM6ZnVuY3Rpb24oYSl7cmV0dXJuIE51bWJlcigwIT09YSl9LDE0OmZ1bmN0aW9uKGEpe3JldHVybiBOdW1iZXIoMT09YT8wOjI9PWE/MTozPT1hPzI6Myl9LDE1OmZ1bmN0aW9uKGEpe3JldHVybiBOdW1iZXIoYSUxMD09MSYmYSUxMDAhPTExPzA6YSUxMD49MiYmKDEwPmElMTAwfHxhJTEwMD49MjApPzE6Mil9LDE2OmZ1bmN0aW9uKGEpe3JldHVybiBOdW1iZXIoYSUxMD09MSYmYSUxMDAhPTExPzA6MCE9PWE/MToyKX0sMTc6ZnVuY3Rpb24oYSl7cmV0dXJuIE51bWJlcigxPT1hfHxhJTEwPT0xPzA6MSl9LDE4OmZ1bmN0aW9uKGEpe3JldHVybiBOdW1iZXIoMD09YT8wOjE9PWE/MToyKX0sMTk6ZnVuY3Rpb24oYSl7cmV0dXJuIE51bWJlcigxPT1hPzA6MD09PWF8fGElMTAwPjEmJjExPmElMTAwPzE6YSUxMDA+MTAmJjIwPmElMTAwPzI6Myl9LDIwOmZ1bmN0aW9uKGEpe3JldHVybiBOdW1iZXIoMT09YT8wOjA9PT1hfHxhJTEwMD4wJiYyMD5hJTEwMD8xOjIpfSwyMTpmdW5jdGlvbihhKXtyZXR1cm4gTnVtYmVyKGElMTAwPT0xPzE6YSUxMDA9PTI/MjphJTEwMD09M3x8YSUxMDA9PTQ/MzowKX19LF89e3J1bGVzOmZ1bmN0aW9uKCl7dmFyIGEsYj17fTtmb3IoYT1aLmxlbmd0aDthLS07KWJbWlthXVswXV09e25hbWU6WlthXVsxXSxudW1iZXJzOlpbYV1bMl0scGx1cmFsczokW1pbYV1bM11dfTtyZXR1cm4gYn0oKSxhZGRSdWxlOmZ1bmN0aW9uKGEsYil7Xy5ydWxlc1thXT1ifSxzZXRDdXJyZW50TG5nOmZ1bmN0aW9uKGEpe2lmKCFfLmN1cnJlbnRSdWxlfHxfLmN1cnJlbnRSdWxlLmxuZyE9PWEpe3ZhciBiPWEuc3BsaXQoXCItXCIpO18uY3VycmVudFJ1bGU9e2xuZzphLHJ1bGU6Xy5ydWxlc1tiWzBdXX19fSxuZWVkc1BsdXJhbDpmdW5jdGlvbihhLGIpe3ZhciBjLGQ9YS5zcGxpdChcIi1cIik7cmV0dXJuIGM9Xy5jdXJyZW50UnVsZSYmXy5jdXJyZW50UnVsZS5sbmc9PT1hP18uY3VycmVudFJ1bGUucnVsZTpfLnJ1bGVzW2RbWS5nZXRDb3VudHlJbmRleE9mTG5nKGEpXV0sYyYmYy5udW1iZXJzLmxlbmd0aDw9MT8hMToxIT09dGhpcy5nZXQoYSxiKX0sZ2V0OmZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhiLGMpe3ZhciBkO2lmKGQ9Xy5jdXJyZW50UnVsZSYmXy5jdXJyZW50UnVsZS5sbmc9PT1hP18uY3VycmVudFJ1bGUucnVsZTpfLnJ1bGVzW2JdKXt2YXIgZTtlPWQucGx1cmFscyhkLm5vQWJzP2M6TWF0aC5hYnMoYykpO3ZhciBmPWQubnVtYmVyc1tlXTtyZXR1cm4gMj09PWQubnVtYmVycy5sZW5ndGgmJjE9PT1kLm51bWJlcnNbMF0mJigyPT09Zj9mPS0xOjE9PT1mJiYoZj0xKSksZn1yZXR1cm4gMT09PWM/XCIxXCI6XCItMVwifXZhciBkPWEuc3BsaXQoXCItXCIpO3JldHVybiBjKGRbWS5nZXRDb3VudHlJbmRleE9mTG5nKGEpXSxiKX19LGFhPXt9LGJhPWZ1bmN0aW9uKGEsYil7YWFbYV09Yn0sY2E9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3JldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSkuc2xpY2UoOCwtMSkudG9Mb3dlckNhc2UoKX1mdW5jdGlvbiBiKGEsYil7Zm9yKHZhciBjPVtdO2I+MDtjWy0tYl09YSk7cmV0dXJuIGMuam9pbihcIlwiKX12YXIgYz1mdW5jdGlvbigpe3JldHVybiBjLmNhY2hlLmhhc093blByb3BlcnR5KGFyZ3VtZW50c1swXSl8fChjLmNhY2hlW2FyZ3VtZW50c1swXV09Yy5wYXJzZShhcmd1bWVudHNbMF0pKSxjLmZvcm1hdC5jYWxsKG51bGwsYy5jYWNoZVthcmd1bWVudHNbMF1dLGFyZ3VtZW50cyl9O3JldHVybiBjLmZvcm1hdD1mdW5jdGlvbihjLGQpe3ZhciBlLGYsZyxoLGksaixrLGw9MSxtPWMubGVuZ3RoLG49XCJcIixvPVtdO2ZvcihmPTA7bT5mO2YrKylpZihuPWEoY1tmXSksXCJzdHJpbmdcIj09PW4pby5wdXNoKGNbZl0pO2Vsc2UgaWYoXCJhcnJheVwiPT09bil7aWYoaD1jW2ZdLGhbMl0pZm9yKGU9ZFtsXSxnPTA7ZzxoWzJdLmxlbmd0aDtnKyspe2lmKCFlLmhhc093blByb3BlcnR5KGhbMl1bZ10pKXRocm93IGNhKCdbc3ByaW50Zl0gcHJvcGVydHkgXCIlc1wiIGRvZXMgbm90IGV4aXN0JyxoWzJdW2ddKTtlPWVbaFsyXVtnXV19ZWxzZSBlPWhbMV0/ZFtoWzFdXTpkW2wrK107aWYoL1tec10vLnRlc3QoaFs4XSkmJlwibnVtYmVyXCIhPWEoZSkpdGhyb3cgY2EoXCJbc3ByaW50Zl0gZXhwZWN0aW5nIG51bWJlciBidXQgZm91bmQgJXNcIixhKGUpKTtzd2l0Y2goaFs4XSl7Y2FzZVwiYlwiOmU9ZS50b1N0cmluZygyKTticmVhaztjYXNlXCJjXCI6ZT1TdHJpbmcuZnJvbUNoYXJDb2RlKGUpO2JyZWFrO2Nhc2VcImRcIjplPXBhcnNlSW50KGUsMTApO2JyZWFrO2Nhc2VcImVcIjplPWhbN10/ZS50b0V4cG9uZW50aWFsKGhbN10pOmUudG9FeHBvbmVudGlhbCgpO2JyZWFrO2Nhc2VcImZcIjplPWhbN10/cGFyc2VGbG9hdChlKS50b0ZpeGVkKGhbN10pOnBhcnNlRmxvYXQoZSk7YnJlYWs7Y2FzZVwib1wiOmU9ZS50b1N0cmluZyg4KTticmVhaztjYXNlXCJzXCI6ZT0oZT1TdHJpbmcoZSkpJiZoWzddP2Uuc3Vic3RyaW5nKDAsaFs3XSk6ZTticmVhaztjYXNlXCJ1XCI6ZT1NYXRoLmFicyhlKTticmVhaztjYXNlXCJ4XCI6ZT1lLnRvU3RyaW5nKDE2KTticmVhaztjYXNlXCJYXCI6ZT1lLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpfWU9L1tkZWZdLy50ZXN0KGhbOF0pJiZoWzNdJiZlPj0wP1wiK1wiK2U6ZSxqPWhbNF0/XCIwXCI9PWhbNF0/XCIwXCI6aFs0XS5jaGFyQXQoMSk6XCIgXCIsaz1oWzZdLVN0cmluZyhlKS5sZW5ndGgsaT1oWzZdP2IoaixrKTpcIlwiLG8ucHVzaChoWzVdP2UraTppK2UpfXJldHVybiBvLmpvaW4oXCJcIil9LGMuY2FjaGU9e30sYy5wYXJzZT1mdW5jdGlvbihhKXtmb3IodmFyIGI9YSxjPVtdLGQ9W10sZT0wO2I7KXtpZihudWxsIT09KGM9L15bXlxceDI1XSsvLmV4ZWMoYikpKWQucHVzaChjWzBdKTtlbHNlIGlmKG51bGwhPT0oYz0vXlxceDI1ezJ9Ly5leGVjKGIpKSlkLnB1c2goXCIlXCIpO2Vsc2V7aWYobnVsbD09PShjPS9eXFx4MjUoPzooWzEtOV1cXGQqKVxcJHxcXCgoW15cXCldKylcXCkpPyhcXCspPygwfCdbXiRdKT8oLSk/KFxcZCspPyg/OlxcLihcXGQrKSk/KFtiLWZvc3V4WF0pLy5leGVjKGIpKSl0aHJvd1wiW3NwcmludGZdIGh1aD9cIjtcblxuaWYoY1syXSl7ZXw9MTt2YXIgZj1bXSxnPWNbMl0saD1bXTtpZihudWxsPT09KGg9L14oW2Etel9dW2Etel9cXGRdKikvaS5leGVjKGcpKSl0aHJvd1wiW3NwcmludGZdIGh1aD9cIjtmb3IoZi5wdXNoKGhbMV0pO1wiXCIhPT0oZz1nLnN1YnN0cmluZyhoWzBdLmxlbmd0aCkpOylpZihudWxsIT09KGg9L15cXC4oW2Etel9dW2Etel9cXGRdKikvaS5leGVjKGcpKSlmLnB1c2goaFsxXSk7ZWxzZXtpZihudWxsPT09KGg9L15cXFsoXFxkKylcXF0vLmV4ZWMoZykpKXRocm93XCJbc3ByaW50Zl0gaHVoP1wiO2YucHVzaChoWzFdKX1jWzJdPWZ9ZWxzZSBlfD0yO2lmKDM9PT1lKXRocm93XCJbc3ByaW50Zl0gbWl4aW5nIHBvc2l0aW9uYWwgYW5kIG5hbWVkIHBsYWNlaG9sZGVycyBpcyBub3QgKHlldCkgc3VwcG9ydGVkXCI7ZC5wdXNoKGMpfWI9Yi5zdWJzdHJpbmcoY1swXS5sZW5ndGgpfXJldHVybiBkfSxjfSgpLGRhPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGIudW5zaGlmdChhKSxjYS5hcHBseShudWxsLGIpfTtiYShcInNwcmludGZcIixmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGMuc3ByaW50Zj9cIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmFwcGx5KGMuc3ByaW50Zik/ZGEoYSxjLnNwcmludGYpOlwib2JqZWN0XCI9PXR5cGVvZiBjLnNwcmludGY/Y2EoYSxjLnNwcmludGYpOmE6YX0pLE4uaW5pdD1nLE4uaXNJbml0aWFsaXplZD1oLE4uc2V0TG5nPXMsTi5wcmVsb2FkPWksTi5hZGRSZXNvdXJjZUJ1bmRsZT1qLE4uaGFzUmVzb3VyY2VCdW5kbGU9ayxOLmdldFJlc291cmNlQnVuZGxlPWwsTi5hZGRSZXNvdXJjZT1uLE4uYWRkUmVzb3VyY2VzPW8sTi5yZW1vdmVSZXNvdXJjZUJ1bmRsZT1tLE4ubG9hZE5hbWVzcGFjZT1xLE4ubG9hZE5hbWVzcGFjZXM9cixOLnNldERlZmF1bHROYW1lc3BhY2U9cCxOLnQ9RixOLnRyYW5zbGF0ZT1GLE4uZXhpc3RzPUUsTi5kZXRlY3RMYW5ndWFnZT1ZLmRldGVjdExhbmd1YWdlLE4ucGx1cmFsRXh0ZW5zaW9ucz1fLE4uc3luYz1TLE4uZnVuY3Rpb25zPVksTi5sbmc9dCxOLmRpcj11LE4uYWRkUG9zdFByb2Nlc3Nvcj1iYSxOLmFwcGx5UmVwbGFjZW1lbnQ9WS5hcHBseVJlcGxhY2VtZW50LE4ub3B0aW9ucz1VLE4ubm9Db25mbGljdD13fShcInVuZGVmaW5lZFwiPT10eXBlb2YgZXhwb3J0cz93aW5kb3c6ZXhwb3J0cyk7IiwiXG5cbi8vICQuY291Y2ggaXMgdXNlZCB0byBjb21tdW5pY2F0ZSB3aXRoIGEgQ291Y2hEQiBzZXJ2ZXIsIHRoZSBzZXJ2ZXIgbWV0aG9kcyBjYW5cbi8vIGJlIGNhbGxlZCBkaXJlY3RseSB3aXRob3V0IGNyZWF0aW5nIGFuIGluc3RhbmNlLiBUeXBpY2FsbHkgYWxsIG1ldGhvZHMgYXJlXG4vLyBwYXNzZWQgYW4gPGNvZGU+b3B0aW9uczwvY29kZT4gb2JqZWN0IHdoaWNoIGRlZmluZXMgYSBzdWNjZXNzIGNhbGxiYWNrIHdoaWNoXG4vLyBpcyBjYWxsZWQgd2l0aCB0aGUgZGF0YSByZXR1cm5lZCBmcm9tIHRoZSBodHRwIHJlcXVlc3QgdG8gQ291Y2hEQiwgeW91IGNhblxuLy8gZmluZCB0aGUgb3RoZXIgc2V0dGluZ3MgdGhhdCBjYW4gYmUgdXNlZCBpbiB0aGUgPGNvZGU+b3B0aW9uczwvY29kZT4gb2JqZWN0XG4vLyBmcm9tIDxhIGhyZWY9XCJodHRwOi8vYXBpLmpxdWVyeS5jb20valF1ZXJ5LmFqYXgvI2pRdWVyeS1hamF4LXNldHRpbmdzXCI+XG4vLyBqUXVlcnkuYWpheCBzZXR0aW5nczwvYT5cbi8vXG4vLyAgICAgJC5jb3VjaC5hY3RpdmVUYXNrcyh7XG4vLyAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuLy8gICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbi8vICAgICAgIH1cbi8vICAgICB9KTtcbi8vXG4vLyBPdXRwdXRzIChmb3IgZXhhbXBsZSk6XG4vL1xuLy8gICAgIFtcbi8vICAgICAgIHtcbi8vICAgICAgICAgXCJwaWRcIiA6IFwiPDAuMTE1OTkuMD5cIixcbi8vICAgICAgICAgXCJzdGF0dXNcIiA6IFwiQ29waWVkIDAgb2YgMTgzNjkgY2hhbmdlcyAoMCUpXCIsXG4vLyAgICAgICAgIFwidGFza1wiIDogXCJyZWNpcGVzXCIsXG4vLyAgICAgICAgIFwidHlwZVwiIDogXCJEYXRhYmFzZSBDb21wYWN0aW9uXCJcbi8vICAgICAgIH1cbi8vICAgICBdXG4oZnVuY3Rpb24oJCkge1xuXG4gICQuY291Y2ggPSAkLmNvdWNoIHx8IHt9O1xuXG4gIGZ1bmN0aW9uIGVuY29kZURvY0lkKGRvY0lEKSB7XG4gICAgdmFyIHBhcnRzID0gZG9jSUQuc3BsaXQoXCIvXCIpO1xuICAgIGlmIChwYXJ0c1swXSA9PSBcIl9kZXNpZ25cIikge1xuICAgICAgcGFydHMuc2hpZnQoKTtcbiAgICAgIHJldHVybiBcIl9kZXNpZ24vXCIgKyBlbmNvZGVVUklDb21wb25lbnQocGFydHMuam9pbignLycpKTtcbiAgICB9XG4gICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChkb2NJRCk7XG4gIH1cblxuICB2YXIgdXVpZENhY2hlID0gW107XG5cbiAgJC5leHRlbmQoJC5jb3VjaCwge1xuICAgIHVybFByZWZpeDogJycsXG5cbiAgICAvLyBZb3UgY2FuIG9idGFpbiBhIGxpc3Qgb2YgYWN0aXZlIHRhc2tzIGJ5IHVzaW5nIHRoZSBgL19hY3RpdmVfdGFza3NgIFVSTC5cbiAgICAvLyBUaGUgcmVzdWx0IGlzIGEgSlNPTiBhcnJheSBvZiB0aGUgY3VycmVudGx5IHJ1bm5pbmcgdGFza3MsIHdpdGggZWFjaCB0YXNrXG4gICAgLy8gYmVpbmcgZGVzY3JpYmVkIHdpdGggYSBzaW5nbGUgb2JqZWN0LlxuICAgIGFjdGl2ZVRhc2tzOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICByZXR1cm4gYWpheChcbiAgICAgICAge3VybDogdGhpcy51cmxQcmVmaXggKyBcIi9fYWN0aXZlX3Rhc2tzXCJ9LFxuICAgICAgICBvcHRpb25zLFxuICAgICAgICBcIkFjdGl2ZSB0YXNrIHN0YXR1cyBjb3VsZCBub3QgYmUgcmV0cmlldmVkXCJcbiAgICAgICk7XG4gICAgfSxcblxuICAgIC8vIFJldHVybnMgYSBsaXN0IG9mIGFsbCB0aGUgZGF0YWJhc2VzIGluIHRoZSBDb3VjaERCIGluc3RhbmNlXG4gICAgYWxsRGJzOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICByZXR1cm4gYWpheChcbiAgICAgICAge3VybDogdGhpcy51cmxQcmVmaXggKyBcIi9fYWxsX2Ric1wifSxcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgXCJBbiBlcnJvciBvY2N1cnJlZCByZXRyaWV2aW5nIHRoZSBsaXN0IG9mIGFsbCBkYXRhYmFzZXNcIlxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgLy8gVmlldyBhbmQgZWRpdCB0aGUgQ291Y2hEQiBjb25maWd1cmF0aW9uLCBjYWxsZWQgd2l0aCBqdXN0IHRoZSBvcHRpb25zXG4gICAgLy8gcGFyYW1ldGVyIHRoZSBlbnRpcmUgY29uZmlnIGlzIHJldHVybmVkLCB5b3UgY2FuIGJlIG1vcmUgc3BlY2lmaWMgYnlcbiAgICAvLyBwYXNzaW5nIHRoZSBzZWN0aW9uIGFuZCBvcHRpb24gcGFyYW1ldGVycywgaWYgeW91IHNwZWNpZnkgYSB2YWx1ZSB0aGF0XG4gICAgLy8gdmFsdWUgd2lsbCBiZSBzdG9yZWQgaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG4gICAgY29uZmlnOiBmdW5jdGlvbihvcHRpb25zLCBzZWN0aW9uLCBvcHRpb24sIHZhbHVlKSB7XG4gICAgICB2YXIgcmVxID0ge3VybDogdGhpcy51cmxQcmVmaXggKyBcIi9fY29uZmlnL1wifTtcbiAgICAgIGlmIChzZWN0aW9uKSB7XG4gICAgICAgIHJlcS51cmwgKz0gZW5jb2RlVVJJQ29tcG9uZW50KHNlY3Rpb24pICsgXCIvXCI7XG4gICAgICAgIGlmIChvcHRpb24pIHtcbiAgICAgICAgICByZXEudXJsICs9IGVuY29kZVVSSUNvbXBvbmVudChvcHRpb24pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgcmVxLnR5cGUgPSBcIkRFTEVURVwiO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJlcS50eXBlID0gXCJQVVRcIjtcbiAgICAgICAgcmVxLmRhdGEgPSB0b0pTT04odmFsdWUpO1xuICAgICAgICByZXEuY29udGVudFR5cGUgPSBcImFwcGxpY2F0aW9uL2pzb25cIjtcbiAgICAgICAgcmVxLnByb2Nlc3NEYXRhID0gZmFsc2VcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGFqYXgocmVxLCBvcHRpb25zLFxuICAgICAgICBcIkFuIGVycm9yIG9jY3VycmVkIHJldHJpZXZpbmcvdXBkYXRpbmcgdGhlIHNlcnZlciBjb25maWd1cmF0aW9uXCJcbiAgICAgICk7XG4gICAgfSxcblxuICAgIC8vIFJldHVybnMgdGhlIHNlc3Npb24gaW5mb3JtYXRpb24gZm9yIHRoZSBjdXJyZW50bHkgbG9nZ2VkIGluIHVzZXIuXG4gICAgc2Vzc2lvbjogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAvLyBVZ2x5IGhhY2sgdG8gdXNlICBMZXRzIHNlc3Npb24gYXV0aGVudGljYXRpb24gd29yayBvbiBraW5kbGUgYW5kIG5vb2tcbiAgICAgIC8vIE5vdGU6ICQuYWpheCBoYW5kbGVzIG9iamVjdHMgYW5kIHN0cmluZ3MsIHRoaXMgb25seSBoYW5kbGVzIG9iamVjdHMuXG4gICAgICAvLyBEZXBlbmRlbmNpZXMgalF1ZXJ5LCBqUXVlcnkuY29va2llXG4gICAgICB2YXIgZGF0YSA9IFwiXCI7XG4gICAgICBpc05vb2tPcktpbmRsZSA9IC9ub29rfGtpbmRsZS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpOyAvLyBzZWUgalF1ZXJ5LmJyb3dzZXIubW9iaWxlXG4gICAgICBpZiAoIGlzTm9va09yS2luZGxlICkgXG4gICAgICB7IFxuICAgICAgICBBdXRoU2Vzc2lvbiA9IHsgJ0F1dGhTZXNzaW9uJyA6ICQuY29va2llKCBcIkF1dGhTZXNzaW9uXCIgKSB9O1xuICAgICAgICBpZiAoIG9wdGlvbnMgJiYgb3B0aW9ucy5kYXRhICkgLy8gd2UgbGlrZSBvYmplY3RpdmUgZGF0YVxuICAgICAgICB7XG4gICAgICAgICAgaWYgKHR5cGVvZihvcHRpb25zLmRhdGEpID09IFwib2JqZWN0XCIpIFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGRhdGEgPSAkLmV4dGVuZCggb3B0aW9ucy5kYXRhLCBBdXRoU2Vzc2lvbiApO1xuICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZmV0IGJyb2tlIHlvdXIgY29kZS4gTWFrZSB5b3VyIGdldCByZXF1ZXN0IGRhdGEgYW4gb2JqZWN0LlwiKVxuICAgICAgICAgIH0gXG4gICAgICAgIH0gZWxzZSBcbiAgICAgICAge1xuICAgICAgICAgIGRhdGEgPSBBdXRoU2Vzc2lvbjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuICQuYWpheCh7XG4gICAgICAgIHR5cGU6IFwiR0VUXCIsIFxuICAgICAgICB1cmw6IHRoaXMudXJsUHJlZml4ICsgXCIvX3Nlc3Npb25cIixcbiAgICAgICAgYXN5bmM6IGZhbHNlLFxuICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICBiZWZvcmVTZW5kOiBmdW5jdGlvbih4aHIpIHtcbiAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdBY2NlcHQnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICB9LFxuICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24ocmVxKSB7XG4gICAgICAgICAgdmFyIHJlc3AgPSAkLnBhcnNlSlNPTihyZXEucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICBpZiAocmVxLnN0YXR1cyA9PSAyMDApIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5ob3N0bmFtZSAhPSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBBdXRoU2Vzc2lvbiA9ICQuY29va2llKCBcIkF1dGhTZXNzaW9uXCIgKTtcbiAgICAgICAgICAgICAgJC5jb29raWUoXCJBdXRoU2Vzc2lvbjpcIiArIG9wdGlvbnMuaG9zdG5hbWUsIEF1dGhTZXNzaW9uLCB7cGF0aDogXCIvXCIsIGRvbWFpbjogXCJ0YW5nZXJpbmVjZW50cmFsLm9yZ1wifSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5zdWNjZXNzKSBvcHRpb25zLnN1Y2Nlc3MocmVzcCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLmVycm9yKSB7XG4gICAgICAgICAgICBvcHRpb25zLmVycm9yKHJlcS5zdGF0dXMsIHJlc3AuZXJyb3IsIHJlc3AucmVhc29uKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWxlcnQoXCJBbiBlcnJvciBvY2N1cnJlZCBnZXR0aW5nIHNlc3Npb24gaW5mbzogXCIgKyByZXNwLnJlYXNvbik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgdXNlckRiIDogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiAkLmNvdWNoLnNlc3Npb24oe1xuICAgICAgICBzdWNjZXNzIDogZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICAgIHZhciB1c2VyRGIgPSAkLmNvdWNoLmRiKHJlc3AuaW5mby5hdXRoZW50aWNhdGlvbl9kYik7XG4gICAgICAgICAgY2FsbGJhY2sodXNlckRiKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8vIENyZWF0ZSBhIG5ldyB1c2VyIG9uIHRoZSBDb3VjaERCIHNlcnZlciwgPGNvZGU+dXNlcl9kb2M8L2NvZGU+IGlzIGFuXG4gICAgLy8gb2JqZWN0IHdpdGggYSA8Y29kZT5uYW1lPC9jb2RlPiBmaWVsZCBhbmQgb3RoZXIgaW5mb3JtYXRpb24geW91IHdhbnRcbiAgICAvLyB0byBzdG9yZSByZWxhdGluZyB0byB0aGF0IHVzZXIsIGZvciBleGFtcGxlXG4gICAgLy8gYHtcIm5hbWVcIjogXCJkYWxlaGFydmV5XCJ9YFxuICAgIHNpZ251cDogZnVuY3Rpb24odXNlcl9kb2MsIHBhc3N3b3JkLCBvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgIC8vIHByZXBhcmUgdXNlciBkb2MgYmFzZWQgb24gbmFtZSBhbmQgcGFzc3dvcmRcbiAgICAgIHVzZXJfZG9jID0gdGhpcy5wcmVwYXJlVXNlckRvYyh1c2VyX2RvYywgcGFzc3dvcmQpO1xuICAgICAgcmV0dXJuICQuY291Y2gudXNlckRiKGZ1bmN0aW9uKGRiKSB7XG4gICAgICAgIGRiLnNhdmVEb2ModXNlcl9kb2MsIG9wdGlvbnMpO1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8vIFBvcHVsYXRlcyBhIHVzZXIgZG9jIHdpdGggYSBuZXcgcGFzc3dvcmQuXG4gICAgcHJlcGFyZVVzZXJEb2M6IGZ1bmN0aW9uKHVzZXJfZG9jLCBuZXdfcGFzc3dvcmQpIHtcbiAgICAgIGlmICh0eXBlb2YgaGV4X3NoYTEgPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBhbGVydChcImNyZWF0aW5nIGEgdXNlciBkb2MgcmVxdWlyZXMgc2hhMS5qcyB0byBiZSBsb2FkZWQgaW4gdGhlIHBhZ2VcIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciB1c2VyX3ByZWZpeCA9IFwib3JnLmNvdWNoZGIudXNlcjpcIjtcbiAgICAgIHVzZXJfZG9jLl9pZCA9IHVzZXJfZG9jLl9pZCB8fCB1c2VyX3ByZWZpeCArIHVzZXJfZG9jLm5hbWU7XG4gICAgICBpZiAobmV3X3Bhc3N3b3JkKSB7XG4gICAgICAgIC8vIGhhbmRsZSB0aGUgcGFzc3dvcmQgY3J5cHRvXG4gICAgICAgIHVzZXJfZG9jLnNhbHQgPSAkLmNvdWNoLm5ld1VVSUQoKTtcbiAgICAgICAgdXNlcl9kb2MucGFzc3dvcmRfc2hhID0gaGV4X3NoYTEobmV3X3Bhc3N3b3JkICsgdXNlcl9kb2Muc2FsdCk7XG4gICAgICB9XG4gICAgICB1c2VyX2RvYy50eXBlID0gXCJ1c2VyXCI7XG4gICAgICBpZiAoIXVzZXJfZG9jLnJvbGVzKSB7XG4gICAgICAgIHVzZXJfZG9jLnJvbGVzID0gW107XG4gICAgICB9XG4gICAgICByZXR1cm4gdXNlcl9kb2M7XG4gICAgfSxcblxuICAgICAvLyBBdXRoZW50aWNhdGUgYWdhaW5zdCBDb3VjaERCLCB0aGUgPGNvZGU+b3B0aW9uczwvY29kZT4gcGFyYW1ldGVyIGlzXG4gICAgIC8vIGV4cGVjdGVkIHRvIGhhdmUgPGNvZGU+bmFtZTwvY29kZT4gYW5kIDxjb2RlPnBhc3N3b3JkPC9jb2RlPiBmaWVsZHMuXG4gICAgbG9naW46IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgcmV0dXJuICQuYWpheCh7XG4gICAgICAgIHR5cGU6IFwiUE9TVFwiLCB1cmw6IHRoaXMudXJsUHJlZml4ICsgXCIvX3Nlc3Npb25cIiwgZGF0YVR5cGU6IFwianNvblwiLFxuICAgICAgICBkYXRhOiB7bmFtZTogb3B0aW9ucy5uYW1lLCBwYXNzd29yZDogb3B0aW9ucy5wYXNzd29yZH0sXG4gICAgICAgIGJlZm9yZVNlbmQ6IGZ1bmN0aW9uKHhocikge1xuICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIH0sXG4gICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbihyZXEpIHtcbiAgICAgICAgICB2YXIgcmVzcCA9ICQucGFyc2VKU09OKHJlcS5yZXNwb25zZVRleHQpO1xuICAgICAgICAgIGlmIChyZXEuc3RhdHVzID09IDIwMCkge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuc3VjY2Vzcykgb3B0aW9ucy5zdWNjZXNzKHJlc3ApO1xuICAgICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5lcnJvcikge1xuICAgICAgICAgICAgb3B0aW9ucy5lcnJvcihyZXEuc3RhdHVzLCByZXNwLmVycm9yLCByZXNwLnJlYXNvbik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFsZXJ0KFwiQW4gZXJyb3Igb2NjdXJyZWQgbG9nZ2luZyBpbjogXCIgKyByZXNwLnJlYXNvbik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuXG5cbiAgICAvLyBEZWxldGUgeW91ciBjdXJyZW50IENvdWNoREIgdXNlciBzZXNzaW9uXG4gICAgbG9nb3V0OiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgIHJldHVybiAkLmFqYXgoe1xuICAgICAgICB0eXBlOiBcIkRFTEVURVwiLCB1cmw6IHRoaXMudXJsUHJlZml4ICsgXCIvX3Nlc3Npb25cIiwgZGF0YVR5cGU6IFwianNvblwiLFxuICAgICAgICB1c2VybmFtZSA6IFwiX1wiLCBwYXNzd29yZCA6IFwiX1wiLFxuICAgICAgICBiZWZvcmVTZW5kOiBmdW5jdGlvbih4aHIpIHtcbiAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdBY2NlcHQnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICB9LFxuICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24ocmVxKSB7XG4gICAgICAgICAgdmFyIHJlc3AgPSAkLnBhcnNlSlNPTihyZXEucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICBpZiAocmVxLnN0YXR1cyA9PSAyMDApIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnN1Y2Nlc3MpIG9wdGlvbnMuc3VjY2VzcyhyZXNwKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMuZXJyb3IpIHtcbiAgICAgICAgICAgIG9wdGlvbnMuZXJyb3IocmVxLnN0YXR1cywgcmVzcC5lcnJvciwgcmVzcC5yZWFzb24pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhbGVydChcIkFuIGVycm9yIG9jY3VycmVkIGxvZ2dpbmcgb3V0OiBcIiArIHJlc3AucmVhc29uKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvLyAkLmNvdWNoLmRiIGlzIHVzZWQgdG8gY29tbXVuaWNhdGUgd2l0aCBhIHNwZWNpZmljIENvdWNoREIgZGF0YWJhc2VcbiAgICAvLyA8cHJlPjxjb2RlPnZhciAkZGIgPSAkLmNvdWNoLmRiKFwibXlkYXRhYmFzZVwiKTtcbiAgICAvLyAkZGIuYWxsQXBwcyh7XG4gICAgLy8gIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgLy8gICAgLi4uIHByb2Nlc3MgZGF0YSAuLi5cbiAgICAvLyAgfVxuICAgIC8vfSk7XG4gICAgLy88L2NvZGU+PC9wcmU+XG4gICAgZGI6IGZ1bmN0aW9uKG5hbWUsIGRiX29wdHMpIHtcbiAgICAgIGRiX29wdHMgPSBkYl9vcHRzIHx8IHt9O1xuICAgICAgdmFyIHJhd0RvY3MgPSB7fTtcbiAgICAgIGZ1bmN0aW9uIG1heWJlQXBwbHlWZXJzaW9uKGRvYykge1xuICAgICAgICBpZiAoZG9jLl9pZCAmJiBkb2MuX3JldiAmJiByYXdEb2NzW2RvYy5faWRdICYmXG4gICAgICAgICAgICByYXdEb2NzW2RvYy5faWRdLnJldiA9PSBkb2MuX3Jldikge1xuICAgICAgICAgIC8vIHRvZG86IGNhbiB3ZSB1c2UgY29tbW9uanMgcmVxdWlyZSBoZXJlP1xuICAgICAgICAgIGlmICh0eXBlb2YgQmFzZTY0ID09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIGFsZXJ0KFwicGxlYXNlIGluY2x1ZGUgL191dGlscy9zY3JpcHQvYmFzZTY0LmpzIGluIHRoZSBwYWdlIGZvciBcIiArXG4gICAgICAgICAgICAgICAgICBcImJhc2U2NCBzdXBwb3J0XCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkb2MuX2F0dGFjaG1lbnRzID0gZG9jLl9hdHRhY2htZW50cyB8fCB7fTtcbiAgICAgICAgICAgIGRvYy5fYXR0YWNobWVudHNbXCJyZXYtXCIrZG9jLl9yZXYuc3BsaXQoXCItXCIpWzBdXSA9IHtcbiAgICAgICAgICAgICAgY29udGVudF90eXBlIDpcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgICAgICAgZGF0YSA6IEJhc2U2NC5lbmNvZGUocmF3RG9jc1tkb2MuX2lkXS5yYXcpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgdXJpOiB0aGlzLnVybFByZWZpeCArIFwiL1wiICsgZW5jb2RlVVJJQ29tcG9uZW50KG5hbWUpICsgXCIvXCIsXG5cbiAgICAgICAgLy8gUmVxdWVzdCBjb21wYWN0aW9uIG9mIHRoZSBzcGVjaWZpZWQgZGF0YWJhc2UuXG4gICAgICAgIGNvbXBhY3Q6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgICAkLmV4dGVuZChvcHRpb25zLCB7c3VjY2Vzc1N0YXR1czogMjAyfSk7XG4gICAgICAgICAgcmV0dXJuIGFqYXgoe1xuICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIiwgdXJsOiB0aGlzLnVyaSArIFwiX2NvbXBhY3RcIixcbiAgICAgICAgICAgICAgZGF0YTogXCJcIiwgcHJvY2Vzc0RhdGE6IGZhbHNlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIFwiVGhlIGRhdGFiYXNlIGNvdWxkIG5vdCBiZSBjb21wYWN0ZWRcIlxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gQ2xlYW5zIHVwIHRoZSBjYWNoZWQgdmlldyBvdXRwdXQgb24gZGlzayBmb3IgYSBnaXZlbiB2aWV3LlxuICAgICAgICB2aWV3Q2xlYW51cDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICAgICQuZXh0ZW5kKG9wdGlvbnMsIHtzdWNjZXNzU3RhdHVzOiAyMDJ9KTtcbiAgICAgICAgICByZXR1cm4gYWpheCh7XG4gICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLCB1cmw6IHRoaXMudXJpICsgXCJfdmlld19jbGVhbnVwXCIsXG4gICAgICAgICAgICAgIGRhdGE6IFwiXCIsIHByb2Nlc3NEYXRhOiBmYWxzZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICBcIlRoZSB2aWV3cyBjb3VsZCBub3QgYmUgY2xlYW5lZCB1cFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvLyBDb21wYWN0cyB0aGUgdmlldyBpbmRleGVzIGFzc29jaWF0ZWQgd2l0aCB0aGUgc3BlY2lmaWVkIGRlc2lnblxuICAgICAgICAvLyBkb2N1bWVudC4gWW91IGNhbiB1c2UgdGhpcyBpbiBwbGFjZSBvZiB0aGUgZnVsbCBkYXRhYmFzZSBjb21wYWN0aW9uXG4gICAgICAgIC8vIGlmIHlvdSBrbm93IGEgc3BlY2lmaWMgc2V0IG9mIHZpZXcgaW5kZXhlcyBoYXZlIGJlZW4gYWZmZWN0ZWQgYnkgYVxuICAgICAgICAvLyByZWNlbnQgZGF0YWJhc2UgY2hhbmdlLlxuICAgICAgICBjb21wYWN0VmlldzogZnVuY3Rpb24oZ3JvdXBuYW1lLCBvcHRpb25zKSB7XG4gICAgICAgICAgJC5leHRlbmQob3B0aW9ucywge3N1Y2Nlc3NTdGF0dXM6IDIwMn0pO1xuICAgICAgICAgIHJldHVybiBhamF4KHtcbiAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsIHVybDogdGhpcy51cmkgKyBcIl9jb21wYWN0L1wiICsgZ3JvdXBuYW1lLFxuICAgICAgICAgICAgICBkYXRhOiBcIlwiLCBwcm9jZXNzRGF0YTogZmFsc2VcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgXCJUaGUgdmlldyBjb3VsZCBub3QgYmUgY29tcGFjdGVkXCJcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8vIENyZWF0ZSBhIG5ldyBkYXRhYmFzZVxuICAgICAgICBjcmVhdGU6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgICAkLmV4dGVuZChvcHRpb25zLCB7c3VjY2Vzc1N0YXR1czogMjAxfSk7XG4gICAgICAgICAgcmV0dXJuIGFqYXgoe1xuICAgICAgICAgICAgICB0eXBlOiBcIlBVVFwiLCB1cmw6IHRoaXMudXJpLCBjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgICAgICAgIGRhdGE6IFwiXCIsIHByb2Nlc3NEYXRhOiBmYWxzZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICBcIlRoZSBkYXRhYmFzZSBjb3VsZCBub3QgYmUgY3JlYXRlZFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvLyBEZWxldGVzIHRoZSBzcGVjaWZpZWQgZGF0YWJhc2UsIGFuZCBhbGwgdGhlIGRvY3VtZW50cyBhbmRcbiAgICAgICAgLy8gYXR0YWNobWVudHMgY29udGFpbmVkIHdpdGhpbiBpdC5cbiAgICAgICAgZHJvcDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICAgIHJldHVybiBhamF4KFxuICAgICAgICAgICAge3R5cGU6IFwiREVMRVRFXCIsIHVybDogdGhpcy51cml9LFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIFwiVGhlIGRhdGFiYXNlIGNvdWxkIG5vdCBiZSBkZWxldGVkXCJcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8vIEdldHMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHNwZWNpZmllZCBkYXRhYmFzZS5cbiAgICAgICAgaW5mbzogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICAgIHJldHVybiBhamF4KFxuICAgICAgICAgICAge3VybDogdGhpcy51cml9LFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIFwiRGF0YWJhc2UgaW5mb3JtYXRpb24gY291bGQgbm90IGJlIHJldHJpZXZlZFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvLyAkLmNvdWNoLmRiLmNoYW5nZXMgcHJvdmlkZXMgYW4gQVBJIGZvciBzdWJzY3JpYmluZyB0byB0aGUgY2hhbmdlc1xuICAgICAgICAvLyBmZWVkXG4gICAgICAgIC8vIDxwcmU+PGNvZGU+dmFyICRjaGFuZ2VzID0gJC5jb3VjaC5kYihcIm15ZGF0YWJhc2VcIikuY2hhbmdlcygpO1xuICAgICAgICAvLyAkY2hhbmdlcy5vbkNoYW5nZSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIC8vICAgIC4uLiBwcm9jZXNzIGRhdGEgLi4uXG4gICAgICAgIC8vIH1cbiAgICAgICAgLy8gJGNoYW5nZXMuc3RvcCgpO1xuICAgICAgICAvLyA8L2NvZGU+PC9wcmU+XG4gICAgICAgIGNoYW5nZXM6IGZ1bmN0aW9uKHNpbmNlLCBvcHRpb25zKSB7XG5cbiAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgICAvLyBzZXQgdXAgdGhlIHByb21pc2Ugb2JqZWN0IHdpdGhpbiBhIGNsb3N1cmUgZm9yIHRoaXMgaGFuZGxlclxuICAgICAgICAgIHZhciB0aW1lb3V0ID0gMTAwLCBkYiA9IHRoaXMsIGFjdGl2ZSA9IHRydWUsXG4gICAgICAgICAgICBsaXN0ZW5lcnMgPSBbXSxcbiAgICAgICAgICAgIHByb21pc2UgPSB7XG4gICAgICAgICAgICAgIC8vIEFkZCBhIGxpc3RlbmVyIGNhbGxiYWNrXG4gICAgICAgICAgICAgIG9uQ2hhbmdlIDogZnVuY3Rpb24oZnVuKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzLnB1c2goZnVuKTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgLy8gU3RvcCBzdWJzY3JpYmluZyB0byB0aGUgY2hhbmdlcyBmZWVkXG4gICAgICAgICAgICAgIHN0b3AgOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBhY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgIC8vIGNhbGwgZWFjaCBsaXN0ZW5lciB3aGVuIHRoZXJlIGlzIGEgY2hhbmdlXG4gICAgICAgICAgZnVuY3Rpb24gdHJpZ2dlckxpc3RlbmVycyhyZXNwKSB7XG4gICAgICAgICAgICAkLmVhY2gobGlzdGVuZXJzLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgdGhpcyhyZXNwKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICAvLyB3aGVuIHRoZXJlIGlzIGEgY2hhbmdlLCBjYWxsIGFueSBsaXN0ZW5lcnMsIHRoZW4gY2hlY2sgZm9yXG4gICAgICAgICAgLy8gYW5vdGhlciBjaGFuZ2VcbiAgICAgICAgICBvcHRpb25zLnN1Y2Nlc3MgPSBmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgICAgICB0aW1lb3V0ID0gMTAwO1xuICAgICAgICAgICAgaWYgKGFjdGl2ZSkge1xuICAgICAgICAgICAgICBzaW5jZSA9IHJlc3AubGFzdF9zZXE7XG4gICAgICAgICAgICAgIHRyaWdnZXJMaXN0ZW5lcnMocmVzcCk7XG4gICAgICAgICAgICAgIGdldENoYW5nZXNTaW5jZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIG9wdGlvbnMuZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChhY3RpdmUpIHtcbiAgICAgICAgICAgICAgc2V0VGltZW91dChnZXRDaGFuZ2VzU2luY2UsIHRpbWVvdXQpO1xuICAgICAgICAgICAgICB0aW1lb3V0ID0gdGltZW91dCAqIDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIC8vIGFjdHVhbGx5IG1ha2UgdGhlIGNoYW5nZXMgcmVxdWVzdFxuICAgICAgICAgIGZ1bmN0aW9uIGdldENoYW5nZXNTaW5jZSgpIHtcbiAgICAgICAgICAgIHZhciBvcHRzID0gJC5leHRlbmQoe2hlYXJ0YmVhdCA6IDEwICogMTAwMH0sIG9wdGlvbnMsIHtcbiAgICAgICAgICAgICAgZmVlZCA6IFwibG9uZ3BvbGxcIixcbiAgICAgICAgICAgICAgc2luY2UgOiBzaW5jZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhamF4KFxuICAgICAgICAgICAgICB7dXJsOiBkYi51cmkgKyBcIl9jaGFuZ2VzXCIrZW5jb2RlT3B0aW9ucyhvcHRzKX0sXG4gICAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICAgIFwiRXJyb3IgY29ubmVjdGluZyB0byBcIitkYi51cmkrXCIvX2NoYW5nZXMuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gc3RhcnQgdGhlIGZpcnN0IHJlcXVlc3RcbiAgICAgICAgICBpZiAoc2luY2UpIHtcbiAgICAgICAgICAgIGdldENoYW5nZXNTaW5jZSgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkYi5pbmZvKHtcbiAgICAgICAgICAgICAgc3VjY2VzcyA6IGZ1bmN0aW9uKGluZm8pIHtcbiAgICAgICAgICAgICAgICBzaW5jZSA9IGluZm8udXBkYXRlX3NlcTtcbiAgICAgICAgICAgICAgICBnZXRDaGFuZ2VzU2luY2UoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgICB9LFxuXG4gICAgICAgICAvLyBGZXRjaCBhbGwgdGhlIGRvY3MgaW4gdGhpcyBkYiwgeW91IGNhbiBzcGVjaWZ5IGFuIGFycmF5IG9mIGtleXMgdG9cbiAgICAgICAgIC8vIGZldGNoIGJ5IHBhc3NpbmcgdGhlIDxjb2RlPmtleXM8L2NvZGU+IGZpZWxkIGluIHRoZVxuICAgICAgICAgLy8gPGNvZGU+b3B0aW9uczwvY29kZT5cbiAgICAgICAgIC8vIHBhcmFtZXRlci5cbiAgICAgICAgYWxsRG9jczogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICAgIHZhciB0eXBlID0gXCJHRVRcIjtcbiAgICAgICAgICB2YXIgZGF0YSA9IG51bGw7XG4gICAgICAgICAgaWYgKG9wdGlvbnNbXCJrZXlzXCJdKSB7XG4gICAgICAgICAgICB0eXBlID0gXCJQT1NUXCI7XG4gICAgICAgICAgICB2YXIga2V5cyA9IG9wdGlvbnNbXCJrZXlzXCJdO1xuICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnNbXCJrZXlzXCJdO1xuICAgICAgICAgICAgZGF0YSA9IHRvSlNPTih7IFwia2V5c1wiOiBrZXlzIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gYWpheCh7XG4gICAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICAgIHVybDogdGhpcy51cmkgKyBcIl9hbGxfZG9jc1wiICsgZW5jb2RlT3B0aW9ucyhvcHRpb25zKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICBcIkFuIGVycm9yIG9jY3VycmVkIHJldHJpZXZpbmcgYSBsaXN0IG9mIGFsbCBkb2N1bWVudHNcIlxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gRmV0Y2ggYWxsIHRoZSBkZXNpZ24gZG9jcyBpbiB0aGlzIGRiXG4gICAgICAgIGFsbERlc2lnbkRvY3M6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5hbGxEb2NzKCQuZXh0ZW5kKFxuICAgICAgICAgICAge3N0YXJ0a2V5OlwiX2Rlc2lnblwiLCBlbmRrZXk6XCJfZGVzaWduMFwifSwgb3B0aW9ucykpO1xuICAgICAgICB9LFxuXG4gICAgICAgICAvLyBGZXRjaCBhbGwgdGhlIGRlc2lnbiBkb2NzIHdpdGggYW4gaW5kZXguaHRtbCwgPGNvZGU+b3B0aW9uczwvY29kZT5cbiAgICAgICAgIC8vIHBhcmFtZXRlciBleHBlY3RzIGFuIDxjb2RlPmVhY2hBcHA8L2NvZGU+IGZpZWxkIHdoaWNoIGlzIGEgY2FsbGJhY2tcbiAgICAgICAgIC8vIGNhbGxlZCBvbiBlYWNoIGFwcCBmb3VuZC5cbiAgICAgICAgYWxsQXBwczogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICBpZiAob3B0aW9ucy5lYWNoQXBwKSB7XG4gICAgICAgICAgICB0aGlzLmFsbERlc2lnbkRvY3Moe1xuICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgICAgICAgICAgJC5lYWNoKHJlc3Aucm93cywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICBzZWxmLm9wZW5Eb2ModGhpcy5pZCwge1xuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkZG9jKSB7XG4gICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4LCBhcHBQYXRoLCBhcHBOYW1lID0gZGRvYy5faWQuc3BsaXQoJy8nKTtcbiAgICAgICAgICAgICAgICAgICAgICBhcHBOYW1lLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgYXBwTmFtZSA9IGFwcE5hbWUuam9pbignLycpO1xuICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gZGRvYy5jb3VjaGFwcCAmJiBkZG9jLmNvdWNoYXBwLmluZGV4O1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXBwUGF0aCA9IFsnJywgbmFtZSwgZGRvYy5faWQsIGluZGV4XS5qb2luKCcvJyk7XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkZG9jLl9hdHRhY2htZW50cyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGRvYy5fYXR0YWNobWVudHNbXCJpbmRleC5odG1sXCJdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBQYXRoID0gWycnLCBuYW1lLCBkZG9jLl9pZCwgXCJpbmRleC5odG1sXCJdLmpvaW4oJy8nKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGFwcFBhdGgpIG9wdGlvbnMuZWFjaEFwcChhcHBOYW1lLCBhcHBQYXRoLCBkZG9jKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhbGVydChcIlBsZWFzZSBwcm92aWRlIGFuIGVhY2hBcHAgZnVuY3Rpb24gZm9yIGFsbEFwcHMoKVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gUmV0dXJucyB0aGUgc3BlY2lmaWVkIGRvYyBmcm9tIHRoZSBzcGVjaWZpZWQgZGIuXG4gICAgICAgIG9wZW5Eb2M6IGZ1bmN0aW9uKGRvY0lkLCBvcHRpb25zLCBhamF4T3B0aW9ucykge1xuICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICAgIGlmIChkYl9vcHRzLmF0dGFjaFByZXZSZXYgfHwgb3B0aW9ucy5hdHRhY2hQcmV2UmV2KSB7XG4gICAgICAgICAgICAkLmV4dGVuZChvcHRpb25zLCB7XG4gICAgICAgICAgICAgIGJlZm9yZVN1Y2Nlc3MgOiBmdW5jdGlvbihyZXEsIGRvYykge1xuICAgICAgICAgICAgICAgIHJhd0RvY3NbZG9jLl9pZF0gPSB7XG4gICAgICAgICAgICAgICAgICByZXYgOiBkb2MuX3JldixcbiAgICAgICAgICAgICAgICAgIHJhdyA6IHJlcS5yZXNwb25zZVRleHRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJC5leHRlbmQob3B0aW9ucywge1xuICAgICAgICAgICAgICBiZWZvcmVTdWNjZXNzIDogZnVuY3Rpb24ocmVxLCBkb2MpIHtcbiAgICAgICAgICAgICAgICBpZiAoZG9jW1wianF1ZXJ5LmNvdWNoLmF0dGFjaFByZXZSZXZcIl0pIHtcbiAgICAgICAgICAgICAgICAgIHJhd0RvY3NbZG9jLl9pZF0gPSB7XG4gICAgICAgICAgICAgICAgICAgIHJldiA6IGRvYy5fcmV2LFxuICAgICAgICAgICAgICAgICAgICByYXcgOiByZXEucmVzcG9uc2VUZXh0XG4gICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBhamF4KHt1cmw6IHRoaXMudXJpICsgZW5jb2RlRG9jSWQoZG9jSWQpICsgZW5jb2RlT3B0aW9ucyhvcHRpb25zKX0sXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgXCJUaGUgZG9jdW1lbnQgY291bGQgbm90IGJlIHJldHJpZXZlZFwiLFxuICAgICAgICAgICAgYWpheE9wdGlvbnNcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8vIENyZWF0ZSBhIG5ldyBkb2N1bWVudCBpbiB0aGUgc3BlY2lmaWVkIGRhdGFiYXNlLCB1c2luZyB0aGUgc3VwcGxpZWRcbiAgICAgICAgLy8gSlNPTiBkb2N1bWVudCBzdHJ1Y3R1cmUuIElmIHRoZSBKU09OIHN0cnVjdHVyZSBpbmNsdWRlcyB0aGUgX2lkXG4gICAgICAgIC8vIGZpZWxkLCB0aGVuIHRoZSBkb2N1bWVudCB3aWxsIGJlIGNyZWF0ZWQgd2l0aCB0aGUgc3BlY2lmaWVkIGRvY3VtZW50XG4gICAgICAgIC8vIElELiBJZiB0aGUgX2lkIGZpZWxkIGlzIG5vdCBzcGVjaWZpZWQsIGEgbmV3IHVuaXF1ZSBJRCB3aWxsIGJlXG4gICAgICAgIC8vIGdlbmVyYXRlZC5cbiAgICAgICAgc2F2ZURvYzogZnVuY3Rpb24oZG9jLCBvcHRpb25zKSB7XG4gICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgICAgdmFyIGRiID0gdGhpcztcbiAgICAgICAgICB2YXIgYmVmb3JlU2VuZCA9IGZ1bGxDb21taXQob3B0aW9ucyk7XG4gICAgICAgICAgaWYgKGRvYy5faWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdmFyIG1ldGhvZCA9IFwiUE9TVFwiO1xuICAgICAgICAgICAgdmFyIHVyaSA9IHRoaXMudXJpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgbWV0aG9kID0gXCJQVVRcIjtcbiAgICAgICAgICAgIHZhciB1cmkgPSB0aGlzLnVyaSArIGVuY29kZURvY0lkKGRvYy5faWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgdmVyc2lvbmVkID0gbWF5YmVBcHBseVZlcnNpb24oZG9jKTtcbiAgICAgICAgICByZXR1cm4gJC5hamF4KHtcbiAgICAgICAgICAgIHR5cGU6IG1ldGhvZCwgdXJsOiB1cmkgKyBlbmNvZGVPcHRpb25zKG9wdGlvbnMpLFxuICAgICAgICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLCBkYXRhOiB0b0pTT04oZG9jKSxcbiAgICAgICAgICAgIGJlZm9yZVNlbmQgOiBiZWZvcmVTZW5kLFxuICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKHJlcSkge1xuICAgICAgICAgICAgICB2YXIgcmVzcCA9ICQucGFyc2VKU09OKHJlcS5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgICBpZiAocmVxLnN0YXR1cyA9PSAyMDAgfHwgcmVxLnN0YXR1cyA9PSAyMDEgfHwgcmVxLnN0YXR1cyA9PSAyMDIpIHtcbiAgICAgICAgICAgICAgICBkb2MuX2lkID0gcmVzcC5pZDtcbiAgICAgICAgICAgICAgICBkb2MuX3JldiA9IHJlc3AucmV2O1xuICAgICAgICAgICAgICAgIGlmICh2ZXJzaW9uZWQpIHtcbiAgICAgICAgICAgICAgICAgIGRiLm9wZW5Eb2MoZG9jLl9pZCwge1xuICAgICAgICAgICAgICAgICAgICBhdHRhY2hQcmV2UmV2IDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyA6IGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBkb2MuX2F0dGFjaG1lbnRzID0gZC5fYXR0YWNobWVudHM7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuc3VjY2Vzcykgb3B0aW9ucy5zdWNjZXNzKHJlc3ApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuc3VjY2Vzcykgb3B0aW9ucy5zdWNjZXNzKHJlc3ApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5lcnJvcihyZXEuc3RhdHVzLCByZXNwLmVycm9yLCByZXNwLnJlYXNvbik7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYWxlcnQoXCJUaGUgZG9jdW1lbnQgY291bGQgbm90IGJlIHNhdmVkOiBcIiArIHJlc3AucmVhc29uKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8vIFNhdmUgYSBsaXN0IG9mIGRvY3VtZW50c1xuICAgICAgICBidWxrU2F2ZTogZnVuY3Rpb24oZG9jcywgb3B0aW9ucykge1xuICAgICAgICAgIHZhciBiZWZvcmVTZW5kID0gZnVsbENvbW1pdChvcHRpb25zKTtcbiAgICAgICAgICAkLmV4dGVuZChvcHRpb25zLCB7c3VjY2Vzc1N0YXR1czogMjAxLCBiZWZvcmVTZW5kIDogYmVmb3JlU2VuZH0pO1xuICAgICAgICAgIHJldHVybiBhamF4KHtcbiAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgICAgIHVybDogdGhpcy51cmkgKyBcIl9idWxrX2RvY3NcIiArIGVuY29kZU9wdGlvbnMob3B0aW9ucyksXG4gICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb25cIiwgZGF0YTogdG9KU09OKGRvY3MpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIFwiVGhlIGRvY3VtZW50cyBjb3VsZCBub3QgYmUgc2F2ZWRcIlxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gRGVsZXRlcyB0aGUgc3BlY2lmaWVkIGRvY3VtZW50IGZyb20gdGhlIGRhdGFiYXNlLiBZb3UgbXVzdCBzdXBwbHlcbiAgICAgICAgLy8gdGhlIGN1cnJlbnQgKGxhdGVzdCkgcmV2aXNpb24gYW5kIDxjb2RlPmlkPC9jb2RlPiBvZiB0aGUgZG9jdW1lbnRcbiAgICAgICAgLy8gdG8gZGVsZXRlIGVnIDxjb2RlPnJlbW92ZURvYyh7X2lkOlwibXlkb2NcIiwgX3JldjogXCIxLTIzNDVcIn0pPC9jb2RlPlxuICAgICAgICByZW1vdmVEb2M6IGZ1bmN0aW9uKGRvYywgb3B0aW9ucykge1xuICAgICAgICAgIHJldHVybiBhamF4KHtcbiAgICAgICAgICAgICAgdHlwZTogXCJERUxFVEVcIixcbiAgICAgICAgICAgICAgdXJsOiB0aGlzLnVyaSArXG4gICAgICAgICAgICAgICAgICAgZW5jb2RlRG9jSWQoZG9jLl9pZCkgK1xuICAgICAgICAgICAgICAgICAgIGVuY29kZU9wdGlvbnMoe3JldjogZG9jLl9yZXZ9KVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICBcIlRoZSBkb2N1bWVudCBjb3VsZCBub3QgYmUgZGVsZXRlZFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvLyBSZW1vdmUgYSBzZXQgb2YgZG9jdW1lbnRzXG4gICAgICAgIGJ1bGtSZW1vdmU6IGZ1bmN0aW9uKGRvY3MsIG9wdGlvbnMpe1xuICAgICAgICAgIGRvY3MuZG9jcyA9ICQuZWFjaChcbiAgICAgICAgICAgIGRvY3MuZG9jcywgZnVuY3Rpb24oaSwgZG9jKXtcbiAgICAgICAgICAgICAgZG9jLl9kZWxldGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuICAgICAgICAgICQuZXh0ZW5kKG9wdGlvbnMsIHtzdWNjZXNzU3RhdHVzOiAyMDF9KTtcbiAgICAgICAgICByZXR1cm4gYWpheCh7XG4gICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICB1cmw6IHRoaXMudXJpICsgXCJfYnVsa19kb2NzXCIgKyBlbmNvZGVPcHRpb25zKG9wdGlvbnMpLFxuICAgICAgICAgICAgICBkYXRhOiB0b0pTT04oZG9jcylcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgXCJUaGUgZG9jdW1lbnRzIGNvdWxkIG5vdCBiZSBkZWxldGVkXCJcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8vIFRoZSBDT1BZIGNvbW1hbmQgKHdoaWNoIGlzIG5vbi1zdGFuZGFyZCBIVFRQKSBjb3BpZXMgYW4gZXhpc3RpbmdcbiAgICAgICAgLy8gZG9jdW1lbnQgdG8gYSBuZXcgb3IgZXhpc3RpbmcgZG9jdW1lbnQuXG4gICAgICAgIGNvcHlEb2M6IGZ1bmN0aW9uKGRvY0lkLCBvcHRpb25zLCBhamF4T3B0aW9ucykge1xuICAgICAgICAgIGFqYXhPcHRpb25zID0gJC5leHRlbmQoYWpheE9wdGlvbnMsIHtcbiAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbihyZXEpIHtcbiAgICAgICAgICAgICAgdmFyIHJlc3AgPSAkLnBhcnNlSlNPTihyZXEucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgICAgaWYgKHJlcS5zdGF0dXMgPT0gMjAxKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuc3VjY2Vzcykgb3B0aW9ucy5zdWNjZXNzKHJlc3ApO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmVycm9yKHJlcS5zdGF0dXMsIHJlc3AuZXJyb3IsIHJlc3AucmVhc29uKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhbGVydChcIlRoZSBkb2N1bWVudCBjb3VsZCBub3QgYmUgY29waWVkOiBcIiArIHJlc3AucmVhc29uKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBhamF4KHtcbiAgICAgICAgICAgICAgdHlwZTogXCJDT1BZXCIsXG4gICAgICAgICAgICAgIHVybDogdGhpcy51cmkgKyBlbmNvZGVEb2NJZChkb2NJZClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgXCJUaGUgZG9jdW1lbnQgY291bGQgbm90IGJlIGNvcGllZFwiLFxuICAgICAgICAgICAgYWpheE9wdGlvbnNcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8vICBDcmVhdGVzIChhbmQgZXhlY3V0ZXMpIGEgdGVtcG9yYXJ5IHZpZXcgYmFzZWQgb24gdGhlIHZpZXcgZnVuY3Rpb25cbiAgICAgICAgLy8gIHN1cHBsaWVkIGluIHRoZSBKU09OIHJlcXVlc3QuXG4gICAgICAgIHF1ZXJ5OiBmdW5jdGlvbihtYXBGdW4sIHJlZHVjZUZ1biwgbGFuZ3VhZ2UsIG9wdGlvbnMpIHtcbiAgICAgICAgICBsYW5ndWFnZSA9IGxhbmd1YWdlIHx8IFwiamF2YXNjcmlwdFwiO1xuICAgICAgICAgIGlmICh0eXBlb2YobWFwRnVuKSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgbWFwRnVuID0gbWFwRnVuLnRvU291cmNlID8gbWFwRnVuLnRvU291cmNlKClcbiAgICAgICAgICAgICAgOiBcIihcIiArIG1hcEZ1bi50b1N0cmluZygpICsgXCIpXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBib2R5ID0ge2xhbmd1YWdlOiBsYW5ndWFnZSwgbWFwOiBtYXBGdW59O1xuICAgICAgICAgIGlmIChyZWR1Y2VGdW4gIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZihyZWR1Y2VGdW4pICE9PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgICByZWR1Y2VGdW4gPSByZWR1Y2VGdW4udG9Tb3VyY2UgPyByZWR1Y2VGdW4udG9Tb3VyY2UoKVxuICAgICAgICAgICAgICAgIDogXCIoXCIgKyByZWR1Y2VGdW4udG9TdHJpbmcoKSArIFwiKVwiO1xuICAgICAgICAgICAgYm9keS5yZWR1Y2UgPSByZWR1Y2VGdW47XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBhamF4KHtcbiAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgICAgIHVybDogdGhpcy51cmkgKyBcIl90ZW1wX3ZpZXdcIiArIGVuY29kZU9wdGlvbnMob3B0aW9ucyksXG4gICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb25cIiwgZGF0YTogdG9KU09OKGJvZHkpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIFwiQW4gZXJyb3Igb2NjdXJyZWQgcXVlcnlpbmcgdGhlIGRhdGFiYXNlXCJcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8vIEZldGNoIGEgX2xpc3QgdmlldyBvdXRwdXQsIHlvdSBjYW4gc3BlY2lmeSBhIGxpc3Qgb2ZcbiAgICAgICAgLy8gPGNvZGU+a2V5czwvY29kZT4gaW4gdGhlIG9wdGlvbnMgb2JqZWN0IHRvIHJlY2lldmUgb25seSB0aG9zZSBrZXlzLlxuICAgICAgICBsaXN0OiBmdW5jdGlvbihsaXN0LCB2aWV3LCBvcHRpb25zLCBhamF4T3B0aW9ucykge1xuICAgICAgICAgIHZhciBsaXN0ID0gbGlzdC5zcGxpdCgnLycpO1xuICAgICAgICAgIHZhciBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgICB2YXIgdHlwZSA9ICdHRVQnO1xuICAgICAgICAgIHZhciBkYXRhID0gbnVsbDtcbiAgICAgICAgICBpZiAob3B0aW9uc1sna2V5cyddKSB7XG4gICAgICAgICAgICB0eXBlID0gJ1BPU1QnO1xuICAgICAgICAgICAgdmFyIGtleXMgPSBvcHRpb25zWydrZXlzJ107XG4gICAgICAgICAgICBkZWxldGUgb3B0aW9uc1sna2V5cyddO1xuICAgICAgICAgICAgZGF0YSA9IHRvSlNPTih7J2tleXMnOiBrZXlzIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gYWpheCh7XG4gICAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICAgIHVybDogdGhpcy51cmkgKyAnX2Rlc2lnbi8nICsgbGlzdFswXSArXG4gICAgICAgICAgICAgICAgICAgJy9fbGlzdC8nICsgbGlzdFsxXSArICcvJyArIHZpZXcgKyBlbmNvZGVPcHRpb25zKG9wdGlvbnMpXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGFqYXhPcHRpb25zLCAnQW4gZXJyb3Igb2NjdXJlZCBhY2Nlc3NpbmcgdGhlIGxpc3QnXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcblxuXHQvLyBFeGVjdXRlIGFuIHVwZGF0ZSBmdW5jdGlvbiBmb3IgYSBnaXZlbiBkb2N1bWVudC5cblx0dXBkYXRlRG9jOiBmdW5jdGlvbih1cGRhdGVGdW4sIGRvY19pZCwgb3B0aW9ucywgYWpheE9wdGlvbnMpIHtcblxuXHQgIHZhciBkZG9jX2Z1biA9IHVwZGF0ZUZ1bi5zcGxpdCgnLycpO1xuXHQgIHZhciBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblx0ICB2YXIgdHlwZSA9ICdQVVQnO1xuICAgICAgICAgIHZhciBkYXRhID0gbnVsbDtcblxuXHQgIHJldHVybiAkLmFqYXgoe1xuXHQgICAgdHlwZTogdHlwZSxcblx0ICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICBiZWZvcmVTZW5kOiBmdW5jdGlvbih4aHIpIHtcbiAgICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0FjY2VwdCcsICcqLyonKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24ocmVxKSB7XG4gICAgICAgICAgICAgIHZhciByZXNwID0gcmVxLnJlc3BvbnNlVGV4dDtcbiAgICAgICAgICAgICAgaWYgKHJlcS5zdGF0dXMgPT0gMjAxKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuc3VjY2Vzcykgb3B0aW9ucy5zdWNjZXNzKHJlc3ApO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmVycm9yKHJlcS5zdGF0dXMsIHJlc3AuZXJyb3IsIHJlc3AucmVhc29uKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhbGVydChcIkFuIGVycm9yIG9jY3VycmVkIGdldHRpbmcgc2Vzc2lvbiBpbmZvOiBcIiArIHJlc3AucmVhc29uKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcblx0ICAgIHVybDogdGhpcy51cmkgKyAnX2Rlc2lnbi8nICsgZGRvY19mdW5bMF0gK1xuXHQgICAgICAnL191cGRhdGUvJyArIGRkb2NfZnVuWzFdICsgJy8nICsgZG9jX2lkICsgZW5jb2RlT3B0aW9ucyhvcHRpb25zKVxuXHQgIH0pO1xuXHR9LFxuXG4gICAgICAgIC8vIEV4ZWN1dGVzIHRoZSBzcGVjaWZpZWQgdmlldy1uYW1lIGZyb20gdGhlIHNwZWNpZmllZCBkZXNpZ24tZG9jXG4gICAgICAgIC8vIGRlc2lnbiBkb2N1bWVudCwgeW91IGNhbiBzcGVjaWZ5IGEgbGlzdCBvZiA8Y29kZT5rZXlzPC9jb2RlPlxuICAgICAgICAvLyBpbiB0aGUgb3B0aW9ucyBvYmplY3QgdG8gcmVjaWV2ZSBvbmx5IHRob3NlIGtleXMuXG4gICAgICAgIHZpZXc6IGZ1bmN0aW9uKG5hbWUsIG9wdGlvbnMpIHtcbiAgICAgICAgICB2YXIgbmFtZSA9IG5hbWUuc3BsaXQoJy8nKTtcbiAgICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgICAgdmFyIHR5cGUgPSBcIkdFVFwiO1xuICAgICAgICAgIHZhciBkYXRhPSBudWxsO1xuICAgICAgICAgIGlmIChvcHRpb25zW1wia2V5c1wiXSkge1xuICAgICAgICAgICAgdHlwZSA9IFwiUE9TVFwiO1xuICAgICAgICAgICAgdmFyIGtleXMgPSBvcHRpb25zW1wia2V5c1wiXTtcbiAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zW1wia2V5c1wiXTtcbiAgICAgICAgICAgIGRhdGEgPSB0b0pTT04oeyBcImtleXNcIjoga2V5cyB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGFqYXgoe1xuICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgICB1cmw6IHRoaXMudXJpICsgXCJfZGVzaWduL1wiICsgbmFtZVswXSArXG4gICAgICAgICAgICAgICAgICAgXCIvX3ZpZXcvXCIgKyBuYW1lWzFdICsgZW5jb2RlT3B0aW9ucyhvcHRpb25zKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9wdGlvbnMsIFwiQW4gZXJyb3Igb2NjdXJyZWQgYWNjZXNzaW5nIHRoZSB2aWV3XCJcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8vIEZldGNoIGFuIGFyYml0cmFyeSBDb3VjaERCIGRhdGFiYXNlIHByb3BlcnR5XG4gICAgICAgIGdldERiUHJvcGVydHk6IGZ1bmN0aW9uKHByb3BOYW1lLCBvcHRpb25zLCBhamF4T3B0aW9ucykge1xuICAgICAgICAgIHJldHVybiBhamF4KHt1cmw6IHRoaXMudXJpICsgcHJvcE5hbWUgKyBlbmNvZGVPcHRpb25zKG9wdGlvbnMpfSxcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICBcIlRoZSBwcm9wZXJ0eSBjb3VsZCBub3QgYmUgcmV0cmlldmVkXCIsXG4gICAgICAgICAgICBhamF4T3B0aW9uc1xuICAgICAgICAgICk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gU2V0IGFuIGFyYml0cmFyeSBDb3VjaERCIGRhdGFiYXNlIHByb3BlcnR5XG4gICAgICAgIHNldERiUHJvcGVydHk6IGZ1bmN0aW9uKHByb3BOYW1lLCBwcm9wVmFsdWUsIG9wdGlvbnMsIGFqYXhPcHRpb25zKSB7XG4gICAgICAgICAgcmV0dXJuIGFqYXgoe1xuICAgICAgICAgICAgdHlwZTogXCJQVVRcIixcbiAgICAgICAgICAgIHVybDogdGhpcy51cmkgKyBwcm9wTmFtZSArIGVuY29kZU9wdGlvbnMob3B0aW9ucyksXG4gICAgICAgICAgICBkYXRhIDogSlNPTi5zdHJpbmdpZnkocHJvcFZhbHVlKVxuICAgICAgICAgIH0sXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgXCJUaGUgcHJvcGVydHkgY291bGQgbm90IGJlIHVwZGF0ZWRcIixcbiAgICAgICAgICAgIGFqYXhPcHRpb25zXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgZW5jb2RlRG9jSWQ6IGVuY29kZURvY0lkLFxuXG4gICAgLy8gQWNjZXNzaW5nIHRoZSByb290IG9mIGEgQ291Y2hEQiBpbnN0YW5jZSByZXR1cm5zIG1ldGEgaW5mb3JtYXRpb24gYWJvdXRcbiAgICAvLyB0aGUgaW5zdGFuY2UuIFRoZSByZXNwb25zZSBpcyBhIEpTT04gc3RydWN0dXJlIGNvbnRhaW5pbmcgaW5mb3JtYXRpb25cbiAgICAvLyBhYm91dCB0aGUgc2VydmVyLCBpbmNsdWRpbmcgYSB3ZWxjb21lIG1lc3NhZ2UgYW5kIHRoZSB2ZXJzaW9uIG9mIHRoZVxuICAgIC8vIHNlcnZlci5cbiAgICBpbmZvOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICByZXR1cm4gYWpheChcbiAgICAgICAge3VybDogdGhpcy51cmxQcmVmaXggKyBcIi9cIn0sXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICAgIFwiU2VydmVyIGluZm9ybWF0aW9uIGNvdWxkIG5vdCBiZSByZXRyaWV2ZWRcIlxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgLy8gUmVxdWVzdCwgY29uZmlndXJlLCBvciBzdG9wLCBhIHJlcGxpY2F0aW9uIG9wZXJhdGlvbi5cbiAgICByZXBsaWNhdGU6IGZ1bmN0aW9uKHNvdXJjZSwgdGFyZ2V0LCBhamF4T3B0aW9ucywgcmVwT3B0cykge1xuICAgICAgcmVwT3B0cyA9ICQuZXh0ZW5kKHtzb3VyY2U6IHNvdXJjZSwgdGFyZ2V0OiB0YXJnZXR9LCByZXBPcHRzKTtcbiAgICAgIGlmIChyZXBPcHRzLmNvbnRpbnVvdXMgJiYgIXJlcE9wdHMuY2FuY2VsKSB7XG4gICAgICAgIGFqYXhPcHRpb25zLnN1Y2Nlc3NTdGF0dXMgPSAyMDI7XG4gICAgICB9XG4gICAgICByZXR1cm4gYWpheCh7XG4gICAgICAgICAgdHlwZTogXCJQT1NUXCIsIHVybDogdGhpcy51cmxQcmVmaXggKyBcIi9fcmVwbGljYXRlXCIsXG4gICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkocmVwT3B0cyksXG4gICAgICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgIH0sXG4gICAgICAgIGFqYXhPcHRpb25zLFxuICAgICAgICBcIlJlcGxpY2F0aW9uIGZhaWxlZFwiXG4gICAgICApO1xuICAgIH0sXG5cbiAgICAvLyBGZXRjaCBhIG5ldyBVVUlEXG4gICAgbmV3VVVJRDogZnVuY3Rpb24oY2FjaGVOdW0pIHtcbiAgICAgIGlmIChjYWNoZU51bSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNhY2hlTnVtID0gMTtcbiAgICAgIH1cbiAgICAgIGlmICghdXVpZENhY2hlLmxlbmd0aCkge1xuICAgICAgICBhamF4KHt1cmw6IHRoaXMudXJsUHJlZml4ICsgXCIvX3V1aWRzXCIsIGRhdGE6IHtjb3VudDogY2FjaGVOdW19LCBhc3luYzpcbiAgICAgICAgICAgICAgZmFsc2V9LCB7XG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgICAgICAgIHV1aWRDYWNoZSA9IHJlc3AudXVpZHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBcIkZhaWxlZCB0byByZXRyaWV2ZSBVVUlEIGJhdGNoLlwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdXVpZENhY2hlLnNoaWZ0KCk7XG4gICAgfVxuICB9KTtcblxuICBmdW5jdGlvbiBhamF4KG9iaiwgb3B0aW9ucywgZXJyb3JNZXNzYWdlLCBhamF4T3B0aW9ucykge1xuXG4gICAgdmFyIGRlZmF1bHRBamF4T3B0cyA9IHtcbiAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIGhlYWRlcnM6e1wiQWNjZXB0XCI6IFwiYXBwbGljYXRpb24vanNvblwifVxuICAgIH07XG5cbiAgICBvcHRpb25zID0gJC5leHRlbmQoe3N1Y2Nlc3NTdGF0dXM6IDIwMH0sIG9wdGlvbnMpO1xuICAgIGFqYXhPcHRpb25zID0gJC5leHRlbmQoZGVmYXVsdEFqYXhPcHRzLCBhamF4T3B0aW9ucyk7XG4gICAgZXJyb3JNZXNzYWdlID0gZXJyb3JNZXNzYWdlIHx8IFwiVW5rbm93biBlcnJvclwiO1xuICAgIHJldHVybiAkLmFqYXgoJC5leHRlbmQoJC5leHRlbmQoe1xuICAgICAgdHlwZTogXCJHRVRcIiwgZGF0YVR5cGU6IFwianNvblwiLFxuICAgICAgYmVmb3JlU2VuZDogZnVuY3Rpb24oeGhyKXtcbiAgICAgICAgaWYoYWpheE9wdGlvbnMgJiYgYWpheE9wdGlvbnMuaGVhZGVycyl7XG4gICAgICAgICAgZm9yICh2YXIgaGVhZGVyIGluIGFqYXhPcHRpb25zLmhlYWRlcnMpe1xuICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoaGVhZGVyLCBhamF4T3B0aW9ucy5oZWFkZXJzW2hlYWRlcl0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbihyZXEpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB2YXIgcmVzcCA9ICQucGFyc2VKU09OKHJlcS5yZXNwb25zZVRleHQpO1xuICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICBpZiAob3B0aW9ucy5lcnJvcikge1xuICAgICAgICAgICAgb3B0aW9ucy5lcnJvcihyZXEuc3RhdHVzLCByZXEsIGUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhbGVydChlcnJvck1lc3NhZ2UgKyBcIjogXCIgKyBlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmFqYXhTdGFydCkge1xuICAgICAgICAgIG9wdGlvbnMuYWpheFN0YXJ0KHJlc3ApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXEuc3RhdHVzID09IG9wdGlvbnMuc3VjY2Vzc1N0YXR1cykge1xuICAgICAgICAgIGlmIChvcHRpb25zLmJlZm9yZVN1Y2Nlc3MpIG9wdGlvbnMuYmVmb3JlU3VjY2VzcyhyZXEsIHJlc3ApO1xuICAgICAgICAgIGlmIChvcHRpb25zLnN1Y2Nlc3MpIG9wdGlvbnMuc3VjY2VzcyhyZXNwKTtcbiAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLmVycm9yKSB7XG4gICAgICAgICAgb3B0aW9ucy5lcnJvcihyZXEuc3RhdHVzLCByZXNwICYmIHJlc3AuZXJyb3IgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZSwgcmVzcCAmJiByZXNwLnJlYXNvbiB8fCBcIm5vIHJlc3BvbnNlXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFsZXJ0KGVycm9yTWVzc2FnZSArIFwiOiBcIiArIHJlc3AucmVhc29uKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIG9iaiksIGFqYXhPcHRpb25zKSk7XG4gIH1cblxuICBmdW5jdGlvbiBmdWxsQ29tbWl0KG9wdGlvbnMpIHtcbiAgICB2YXIgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmVuc3VyZV9mdWxsX2NvbW1pdCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgdmFyIGNvbW1pdCA9IG9wdGlvbnMuZW5zdXJlX2Z1bGxfY29tbWl0O1xuICAgICAgZGVsZXRlIG9wdGlvbnMuZW5zdXJlX2Z1bGxfY29tbWl0O1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHhocikge1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQWNjZXB0JywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoXCJYLUNvdWNoLUZ1bGwtQ29tbWl0XCIsIGNvbW1pdC50b1N0cmluZygpKTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xuXG4gIC8vIENvbnZlcnQgYSBvcHRpb25zIG9iamVjdCB0byBhbiB1cmwgcXVlcnkgc3RyaW5nLlxuICAvLyBleDoge2tleTondmFsdWUnLGtleTI6J3ZhbHVlMid9IGJlY29tZXMgJz9rZXk9XCJ2YWx1ZVwiJmtleTI9XCJ2YWx1ZTJcIidcbiAgZnVuY3Rpb24gZW5jb2RlT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgdmFyIGJ1ZiA9IFtdO1xuICAgIGlmICh0eXBlb2Yob3B0aW9ucykgPT09IFwib2JqZWN0XCIgJiYgb3B0aW9ucyAhPT0gbnVsbCkge1xuICAgICAgZm9yICh2YXIgbmFtZSBpbiBvcHRpb25zKSB7XG4gICAgICAgIGlmICgkLmluQXJyYXkobmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICBbXCJlcnJvclwiLCBcInN1Y2Nlc3NcIiwgXCJiZWZvcmVTdWNjZXNzXCIsIFwiYWpheFN0YXJ0XCJdKSA+PSAwKVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB2YXIgdmFsdWUgPSBvcHRpb25zW25hbWVdO1xuICAgICAgICBpZiAoJC5pbkFycmF5KG5hbWUsIFtcImtleVwiLCBcInN0YXJ0a2V5XCIsIFwiZW5ka2V5XCJdKSA+PSAwKSB7XG4gICAgICAgICAgdmFsdWUgPSB0b0pTT04odmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGJ1Zi5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChuYW1lKSArIFwiPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBidWYubGVuZ3RoID8gXCI/XCIgKyBidWYuam9pbihcIiZcIikgOiBcIlwiO1xuICB9XG5cbiAgZnVuY3Rpb24gdG9KU09OKG9iaikge1xuICAgIHJldHVybiBvYmogIT09IG51bGwgPyBKU09OLnN0cmluZ2lmeShvYmopIDogbnVsbDtcbiAgfVxuXG59KShqUXVlcnkpOyIsIi8qIVxuICogalF1ZXJ5IENvb2tpZSBQbHVnaW4gdjEuNC4xXG4gKiBodHRwczovL2dpdGh1Yi5jb20vY2FyaGFydGwvanF1ZXJ5LWNvb2tpZVxuICpcbiAqIENvcHlyaWdodCAyMDA2LCAyMDE0IEtsYXVzIEhhcnRsXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcbiAqL1xuKGZ1bmN0aW9uIChmYWN0b3J5KSB7XG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICAvLyBBTUQgKFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUpXG4gICAgICAgIGRlZmluZShbJ2pxdWVyeSddLCBmYWN0b3J5KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAvLyBOb2RlL0NvbW1vbkpTXG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKCdqcXVlcnknKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQnJvd3NlciBnbG9iYWxzXG4gICAgICAgIGZhY3RvcnkoalF1ZXJ5KTtcbiAgICB9XG59KGZ1bmN0aW9uICgkKSB7XG5cbiAgICB2YXIgcGx1c2VzID0gL1xcKy9nO1xuXG4gICAgZnVuY3Rpb24gZW5jb2RlKHMpIHtcbiAgICAgICAgcmV0dXJuIGNvbmZpZy5yYXcgPyBzIDogZW5jb2RlVVJJQ29tcG9uZW50KHMpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRlY29kZShzKSB7XG4gICAgICAgIHJldHVybiBjb25maWcucmF3ID8gcyA6IGRlY29kZVVSSUNvbXBvbmVudChzKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzdHJpbmdpZnlDb29raWVWYWx1ZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gZW5jb2RlKGNvbmZpZy5qc29uID8gSlNPTi5zdHJpbmdpZnkodmFsdWUpIDogU3RyaW5nKHZhbHVlKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2VDb29raWVWYWx1ZShzKSB7XG4gICAgICAgIGlmIChzLmluZGV4T2YoJ1wiJykgPT09IDApIHtcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgYSBxdW90ZWQgY29va2llIGFzIGFjY29yZGluZyB0byBSRkMyMDY4LCB1bmVzY2FwZS4uLlxuICAgICAgICAgICAgcyA9IHMuc2xpY2UoMSwgLTEpLnJlcGxhY2UoL1xcXFxcIi9nLCAnXCInKS5yZXBsYWNlKC9cXFxcXFxcXC9nLCAnXFxcXCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFJlcGxhY2Ugc2VydmVyLXNpZGUgd3JpdHRlbiBwbHVzZXMgd2l0aCBzcGFjZXMuXG4gICAgICAgICAgICAvLyBJZiB3ZSBjYW4ndCBkZWNvZGUgdGhlIGNvb2tpZSwgaWdub3JlIGl0LCBpdCdzIHVudXNhYmxlLlxuICAgICAgICAgICAgLy8gSWYgd2UgY2FuJ3QgcGFyc2UgdGhlIGNvb2tpZSwgaWdub3JlIGl0LCBpdCdzIHVudXNhYmxlLlxuICAgICAgICAgICAgcyA9IGRlY29kZVVSSUNvbXBvbmVudChzLnJlcGxhY2UocGx1c2VzLCAnICcpKTtcbiAgICAgICAgICAgIHJldHVybiBjb25maWcuanNvbiA/IEpTT04ucGFyc2UocykgOiBzO1xuICAgICAgICB9IGNhdGNoKGUpIHt9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVhZChzLCBjb252ZXJ0ZXIpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gY29uZmlnLnJhdyA/IHMgOiBwYXJzZUNvb2tpZVZhbHVlKHMpO1xuICAgICAgICByZXR1cm4gJC5pc0Z1bmN0aW9uKGNvbnZlcnRlcikgPyBjb252ZXJ0ZXIodmFsdWUpIDogdmFsdWU7XG4gICAgfVxuXG4gICAgdmFyIGNvbmZpZyA9ICQuY29va2llID0gZnVuY3Rpb24gKGtleSwgdmFsdWUsIG9wdGlvbnMpIHtcblxuICAgICAgICAvLyBXcml0ZVxuXG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSAmJiAhJC5pc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgICAgICAgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBjb25maWcuZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuZXhwaXJlcyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF5cyA9IG9wdGlvbnMuZXhwaXJlcywgdCA9IG9wdGlvbnMuZXhwaXJlcyA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgdC5zZXRNaWxsaXNlY29uZHModC5nZXRNaWxsaXNlY29uZHMoKSArIGRheXMgKiA4NjRlKzUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gKGRvY3VtZW50LmNvb2tpZSA9IFtcbiAgICAgICAgICAgICAgICBlbmNvZGUoa2V5KSwgJz0nLCBzdHJpbmdpZnlDb29raWVWYWx1ZSh2YWx1ZSksXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5leHBpcmVzID8gJzsgZXhwaXJlcz0nICsgb3B0aW9ucy5leHBpcmVzLnRvVVRDU3RyaW5nKCkgOiAnJywgLy8gdXNlIGV4cGlyZXMgYXR0cmlidXRlLCBtYXgtYWdlIGlzIG5vdCBzdXBwb3J0ZWQgYnkgSUVcbiAgICAgICAgICAgICAgICBvcHRpb25zLnBhdGggICAgPyAnOyBwYXRoPScgKyBvcHRpb25zLnBhdGggOiAnJyxcbiAgICAgICAgICAgICAgICBvcHRpb25zLmRvbWFpbiAgPyAnOyBkb21haW49JyArIG9wdGlvbnMuZG9tYWluIDogJycsXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5zZWN1cmUgID8gJzsgc2VjdXJlJyA6ICcnXG4gICAgICAgICAgICBdLmpvaW4oJycpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlYWRcblxuICAgICAgICB2YXIgcmVzdWx0ID0ga2V5ID8gdW5kZWZpbmVkIDoge30sXG4gICAgICAgICAgICAvLyBUbyBwcmV2ZW50IHRoZSBmb3IgbG9vcCBpbiB0aGUgZmlyc3QgcGxhY2UgYXNzaWduIGFuIGVtcHR5IGFycmF5XG4gICAgICAgICAgICAvLyBpbiBjYXNlIHRoZXJlIGFyZSBubyBjb29raWVzIGF0IGFsbC4gQWxzbyBwcmV2ZW50cyBvZGQgcmVzdWx0IHdoZW5cbiAgICAgICAgICAgIC8vIGNhbGxpbmcgJC5jb29raWUoKS5cbiAgICAgICAgICAgIGNvb2tpZXMgPSBkb2N1bWVudC5jb29raWUgPyBkb2N1bWVudC5jb29raWUuc3BsaXQoJzsgJykgOiBbXSxcbiAgICAgICAgICAgIGkgPSAwLFxuICAgICAgICAgICAgbCA9IGNvb2tpZXMubGVuZ3RoO1xuXG4gICAgICAgIGZvciAoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcGFydHMgPSBjb29raWVzW2ldLnNwbGl0KCc9JyksXG4gICAgICAgICAgICAgICAgbmFtZSA9IGRlY29kZShwYXJ0cy5zaGlmdCgpKSxcbiAgICAgICAgICAgICAgICBjb29raWUgPSBwYXJ0cy5qb2luKCc9Jyk7XG5cbiAgICAgICAgICAgIGlmIChrZXkgPT09IG5hbWUpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBzZWNvbmQgYXJndW1lbnQgKHZhbHVlKSBpcyBhIGZ1bmN0aW9uIGl0J3MgYSBjb252ZXJ0ZXIuLi5cbiAgICAgICAgICAgICAgICByZXN1bHQgPSByZWFkKGNvb2tpZSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBQcmV2ZW50IHN0b3JpbmcgYSBjb29raWUgdGhhdCB3ZSBjb3VsZG4ndCBkZWNvZGUuXG4gICAgICAgICAgICBpZiAoIWtleSAmJiAoY29va2llID0gcmVhZChjb29raWUpKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W25hbWVdID0gY29va2llO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuXG4gICAgY29uZmlnLmRlZmF1bHRzID0ge307XG5cbiAgICAkLnJlbW92ZUNvb2tpZSA9IGZ1bmN0aW9uIChrZXksIG9wdGlvbnMpIHtcbiAgICAgICAgLy8gTXVzdCBub3QgYWx0ZXIgb3B0aW9ucywgdGh1cyBleHRlbmRpbmcgYSBmcmVzaCBvYmplY3QuLi5cbiAgICAgICAgJC5jb29raWUoa2V5LCAnJywgJC5leHRlbmQoe30sIG9wdGlvbnMsIHsgZXhwaXJlczogLTEgfSkpO1xuICAgICAgICByZXR1cm4gISQuY29va2llKGtleSk7XG4gICAgfTtcblxufSkpOyIsIi8qXG4gKiBUYWJsZSBTb3J0ZXJcbiAqL1xuKGZ1bmN0aW9uKCQpeyQuZXh0ZW5kKHt0YWJsZXNvcnRlcjpuZXdcbmZ1bmN0aW9uKCl7dmFyIHBhcnNlcnM9W10sd2lkZ2V0cz1bXTt0aGlzLmRlZmF1bHRzPXtjc3NIZWFkZXI6XCJoZWFkZXJcIixjc3NBc2M6XCJoZWFkZXJTb3J0VXBcIixjc3NEZXNjOlwiaGVhZGVyU29ydERvd25cIixjc3NDaGlsZFJvdzpcImV4cGFuZC1jaGlsZFwiLHNvcnRJbml0aWFsT3JkZXI6XCJhc2NcIixzb3J0TXVsdGlTb3J0S2V5Olwic2hpZnRLZXlcIixzb3J0Rm9yY2U6bnVsbCxzb3J0QXBwZW5kOm51bGwsc29ydExvY2FsZUNvbXBhcmU6dHJ1ZSx0ZXh0RXh0cmFjdGlvbjpcInNpbXBsZVwiLHBhcnNlcnM6e30sd2lkZ2V0czpbXSx3aWRnZXRaZWJyYTp7Y3NzOltcImV2ZW5cIixcIm9kZFwiXX0saGVhZGVyczp7fSx3aWR0aEZpeGVkOmZhbHNlLGNhbmNlbFNlbGVjdGlvbjp0cnVlLHNvcnRMaXN0OltdLGhlYWRlckxpc3Q6W10sZGF0ZUZvcm1hdDpcInVzXCIsZGVjaW1hbDonL1xcLnxcXCwvZycsb25SZW5kZXJIZWFkZXI6bnVsbCxzZWxlY3RvckhlYWRlcnM6J3RoZWFkIHRoJyxkZWJ1ZzpmYWxzZX07ZnVuY3Rpb24gYmVuY2htYXJrKHMsZCl7bG9nKHMrXCIsXCIrKG5ldyBEYXRlKCkuZ2V0VGltZSgpLWQuZ2V0VGltZSgpKStcIm1zXCIpO310aGlzLmJlbmNobWFyaz1iZW5jaG1hcms7ZnVuY3Rpb24gbG9nKHMpe2lmKHR5cGVvZiBjb25zb2xlIT1cInVuZGVmaW5lZFwiJiZ0eXBlb2YgY29uc29sZS5kZWJ1ZyE9XCJ1bmRlZmluZWRcIil7Y29uc29sZS5sb2cocyk7fWVsc2V7YWxlcnQocyk7fX1mdW5jdGlvbiBidWlsZFBhcnNlckNhY2hlKHRhYmxlLCRoZWFkZXJzKXtpZih0YWJsZS5jb25maWcuZGVidWcpe3ZhciBwYXJzZXJzRGVidWc9XCJcIjt9aWYodGFibGUudEJvZGllcy5sZW5ndGg9PTApcmV0dXJuO3ZhciByb3dzPXRhYmxlLnRCb2RpZXNbMF0ucm93cztpZihyb3dzWzBdKXt2YXIgbGlzdD1bXSxjZWxscz1yb3dzWzBdLmNlbGxzLGw9Y2VsbHMubGVuZ3RoO2Zvcih2YXIgaT0wO2k8bDtpKyspe3ZhciBwPWZhbHNlO2lmKCQubWV0YWRhdGEmJigkKCRoZWFkZXJzW2ldKS5tZXRhZGF0YSgpJiYkKCRoZWFkZXJzW2ldKS5tZXRhZGF0YSgpLnNvcnRlcikpe3A9Z2V0UGFyc2VyQnlJZCgkKCRoZWFkZXJzW2ldKS5tZXRhZGF0YSgpLnNvcnRlcik7fWVsc2UgaWYoKHRhYmxlLmNvbmZpZy5oZWFkZXJzW2ldJiZ0YWJsZS5jb25maWcuaGVhZGVyc1tpXS5zb3J0ZXIpKXtwPWdldFBhcnNlckJ5SWQodGFibGUuY29uZmlnLmhlYWRlcnNbaV0uc29ydGVyKTt9aWYoIXApe3A9ZGV0ZWN0UGFyc2VyRm9yQ29sdW1uKHRhYmxlLHJvd3MsLTEsaSk7fWlmKHRhYmxlLmNvbmZpZy5kZWJ1Zyl7cGFyc2Vyc0RlYnVnKz1cImNvbHVtbjpcIitpK1wiIHBhcnNlcjpcIitwLmlkK1wiXFxuXCI7fWxpc3QucHVzaChwKTt9fWlmKHRhYmxlLmNvbmZpZy5kZWJ1Zyl7bG9nKHBhcnNlcnNEZWJ1Zyk7fXJldHVybiBsaXN0O307ZnVuY3Rpb24gZGV0ZWN0UGFyc2VyRm9yQ29sdW1uKHRhYmxlLHJvd3Mscm93SW5kZXgsY2VsbEluZGV4KXt2YXIgbD1wYXJzZXJzLmxlbmd0aCxub2RlPWZhbHNlLG5vZGVWYWx1ZT1mYWxzZSxrZWVwTG9va2luZz10cnVlO3doaWxlKG5vZGVWYWx1ZT09JycmJmtlZXBMb29raW5nKXtyb3dJbmRleCsrO2lmKHJvd3Nbcm93SW5kZXhdKXtub2RlPWdldE5vZGVGcm9tUm93QW5kQ2VsbEluZGV4KHJvd3Mscm93SW5kZXgsY2VsbEluZGV4KTtub2RlVmFsdWU9dHJpbUFuZEdldE5vZGVUZXh0KHRhYmxlLmNvbmZpZyxub2RlKTtpZih0YWJsZS5jb25maWcuZGVidWcpe2xvZygnQ2hlY2tpbmcgaWYgdmFsdWUgd2FzIGVtcHR5IG9uIHJvdzonK3Jvd0luZGV4KTt9fWVsc2V7a2VlcExvb2tpbmc9ZmFsc2U7fX1mb3IodmFyIGk9MTtpPGw7aSsrKXtpZihwYXJzZXJzW2ldLmlzKG5vZGVWYWx1ZSx0YWJsZSxub2RlKSl7cmV0dXJuIHBhcnNlcnNbaV07fX1yZXR1cm4gcGFyc2Vyc1swXTt9ZnVuY3Rpb24gZ2V0Tm9kZUZyb21Sb3dBbmRDZWxsSW5kZXgocm93cyxyb3dJbmRleCxjZWxsSW5kZXgpe3JldHVybiByb3dzW3Jvd0luZGV4XS5jZWxsc1tjZWxsSW5kZXhdO31mdW5jdGlvbiB0cmltQW5kR2V0Tm9kZVRleHQoY29uZmlnLG5vZGUpe3JldHVybiAkLnRyaW0oZ2V0RWxlbWVudFRleHQoY29uZmlnLG5vZGUpKTt9ZnVuY3Rpb24gZ2V0UGFyc2VyQnlJZChuYW1lKXt2YXIgbD1wYXJzZXJzLmxlbmd0aDtmb3IodmFyIGk9MDtpPGw7aSsrKXtpZihwYXJzZXJzW2ldLmlkLnRvTG93ZXJDYXNlKCk9PW5hbWUudG9Mb3dlckNhc2UoKSl7cmV0dXJuIHBhcnNlcnNbaV07fX1yZXR1cm4gZmFsc2U7fWZ1bmN0aW9uIGJ1aWxkQ2FjaGUodGFibGUpe2lmKHRhYmxlLmNvbmZpZy5kZWJ1Zyl7dmFyIGNhY2hlVGltZT1uZXcgRGF0ZSgpO312YXIgdG90YWxSb3dzPSh0YWJsZS50Qm9kaWVzWzBdJiZ0YWJsZS50Qm9kaWVzWzBdLnJvd3MubGVuZ3RoKXx8MCx0b3RhbENlbGxzPSh0YWJsZS50Qm9kaWVzWzBdLnJvd3NbMF0mJnRhYmxlLnRCb2RpZXNbMF0ucm93c1swXS5jZWxscy5sZW5ndGgpfHwwLHBhcnNlcnM9dGFibGUuY29uZmlnLnBhcnNlcnMsY2FjaGU9e3JvdzpbXSxub3JtYWxpemVkOltdfTtmb3IodmFyIGk9MDtpPHRvdGFsUm93czsrK2kpe3ZhciBjPSQodGFibGUudEJvZGllc1swXS5yb3dzW2ldKSxjb2xzPVtdO2lmKGMuaGFzQ2xhc3ModGFibGUuY29uZmlnLmNzc0NoaWxkUm93KSl7Y2FjaGUucm93W2NhY2hlLnJvdy5sZW5ndGgtMV09Y2FjaGUucm93W2NhY2hlLnJvdy5sZW5ndGgtMV0uYWRkKGMpO2NvbnRpbnVlO31jYWNoZS5yb3cucHVzaChjKTtmb3IodmFyIGo9MDtqPHRvdGFsQ2VsbHM7KytqKXtjb2xzLnB1c2gocGFyc2Vyc1tqXS5mb3JtYXQoZ2V0RWxlbWVudFRleHQodGFibGUuY29uZmlnLGNbMF0uY2VsbHNbal0pLHRhYmxlLGNbMF0uY2VsbHNbal0pKTt9Y29scy5wdXNoKGNhY2hlLm5vcm1hbGl6ZWQubGVuZ3RoKTtjYWNoZS5ub3JtYWxpemVkLnB1c2goY29scyk7Y29scz1udWxsO307aWYodGFibGUuY29uZmlnLmRlYnVnKXtiZW5jaG1hcmsoXCJCdWlsZGluZyBjYWNoZSBmb3IgXCIrdG90YWxSb3dzK1wiIHJvd3M6XCIsY2FjaGVUaW1lKTt9cmV0dXJuIGNhY2hlO307ZnVuY3Rpb24gZ2V0RWxlbWVudFRleHQoY29uZmlnLG5vZGUpe3ZhciB0ZXh0PVwiXCI7aWYoIW5vZGUpcmV0dXJuXCJcIjtpZighY29uZmlnLnN1cHBvcnRzVGV4dENvbnRlbnQpY29uZmlnLnN1cHBvcnRzVGV4dENvbnRlbnQ9bm9kZS50ZXh0Q29udGVudHx8ZmFsc2U7aWYoY29uZmlnLnRleHRFeHRyYWN0aW9uPT1cInNpbXBsZVwiKXtpZihjb25maWcuc3VwcG9ydHNUZXh0Q29udGVudCl7dGV4dD1ub2RlLnRleHRDb250ZW50O31lbHNle2lmKG5vZGUuY2hpbGROb2Rlc1swXSYmbm9kZS5jaGlsZE5vZGVzWzBdLmhhc0NoaWxkTm9kZXMoKSl7dGV4dD1ub2RlLmNoaWxkTm9kZXNbMF0uaW5uZXJIVE1MO31lbHNle3RleHQ9bm9kZS5pbm5lckhUTUw7fX19ZWxzZXtpZih0eXBlb2YoY29uZmlnLnRleHRFeHRyYWN0aW9uKT09XCJmdW5jdGlvblwiKXt0ZXh0PWNvbmZpZy50ZXh0RXh0cmFjdGlvbihub2RlKTt9ZWxzZXt0ZXh0PSQobm9kZSkudGV4dCgpO319cmV0dXJuIHRleHQ7fWZ1bmN0aW9uIGFwcGVuZFRvVGFibGUodGFibGUsY2FjaGUpe2lmKHRhYmxlLmNvbmZpZy5kZWJ1Zyl7dmFyIGFwcGVuZFRpbWU9bmV3IERhdGUoKX12YXIgYz1jYWNoZSxyPWMucm93LG49Yy5ub3JtYWxpemVkLHRvdGFsUm93cz1uLmxlbmd0aCxjaGVja0NlbGw9KG5bMF0ubGVuZ3RoLTEpLHRhYmxlQm9keT0kKHRhYmxlLnRCb2RpZXNbMF0pLHJvd3M9W107Zm9yKHZhciBpPTA7aTx0b3RhbFJvd3M7aSsrKXt2YXIgcG9zPW5baV1bY2hlY2tDZWxsXTtyb3dzLnB1c2gocltwb3NdKTtpZighdGFibGUuY29uZmlnLmFwcGVuZGVyKXt2YXIgbD1yW3Bvc10ubGVuZ3RoO2Zvcih2YXIgaj0wO2o8bDtqKyspe3RhYmxlQm9keVswXS5hcHBlbmRDaGlsZChyW3Bvc11bal0pO319fWlmKHRhYmxlLmNvbmZpZy5hcHBlbmRlcil7dGFibGUuY29uZmlnLmFwcGVuZGVyKHRhYmxlLHJvd3MpO31yb3dzPW51bGw7aWYodGFibGUuY29uZmlnLmRlYnVnKXtiZW5jaG1hcmsoXCJSZWJ1aWx0IHRhYmxlOlwiLGFwcGVuZFRpbWUpO31hcHBseVdpZGdldCh0YWJsZSk7c2V0VGltZW91dChmdW5jdGlvbigpeyQodGFibGUpLnRyaWdnZXIoXCJzb3J0RW5kXCIpO30sMCk7fTtmdW5jdGlvbiBidWlsZEhlYWRlcnModGFibGUpe2lmKHRhYmxlLmNvbmZpZy5kZWJ1Zyl7dmFyIHRpbWU9bmV3IERhdGUoKTt9dmFyIG1ldGE9KCQubWV0YWRhdGEpP3RydWU6ZmFsc2U7dmFyIGhlYWRlcl9pbmRleD1jb21wdXRlVGFibGVIZWFkZXJDZWxsSW5kZXhlcyh0YWJsZSk7JHRhYmxlSGVhZGVycz0kKHRhYmxlLmNvbmZpZy5zZWxlY3RvckhlYWRlcnMsdGFibGUpLmVhY2goZnVuY3Rpb24oaW5kZXgpe3RoaXMuY29sdW1uPWhlYWRlcl9pbmRleFt0aGlzLnBhcmVudE5vZGUucm93SW5kZXgrXCItXCIrdGhpcy5jZWxsSW5kZXhdO3RoaXMub3JkZXI9Zm9ybWF0U29ydGluZ09yZGVyKHRhYmxlLmNvbmZpZy5zb3J0SW5pdGlhbE9yZGVyKTt0aGlzLmNvdW50PXRoaXMub3JkZXI7aWYoY2hlY2tIZWFkZXJNZXRhZGF0YSh0aGlzKXx8Y2hlY2tIZWFkZXJPcHRpb25zKHRhYmxlLGluZGV4KSl0aGlzLnNvcnREaXNhYmxlZD10cnVlO2lmKGNoZWNrSGVhZGVyT3B0aW9uc1NvcnRpbmdMb2NrZWQodGFibGUsaW5kZXgpKXRoaXMub3JkZXI9dGhpcy5sb2NrZWRPcmRlcj1jaGVja0hlYWRlck9wdGlvbnNTb3J0aW5nTG9ja2VkKHRhYmxlLGluZGV4KTtpZighdGhpcy5zb3J0RGlzYWJsZWQpe3ZhciAkdGg9JCh0aGlzKS5hZGRDbGFzcyh0YWJsZS5jb25maWcuY3NzSGVhZGVyKTtpZih0YWJsZS5jb25maWcub25SZW5kZXJIZWFkZXIpdGFibGUuY29uZmlnLm9uUmVuZGVySGVhZGVyLmFwcGx5KCR0aCk7fXRhYmxlLmNvbmZpZy5oZWFkZXJMaXN0W2luZGV4XT10aGlzO30pO2lmKHRhYmxlLmNvbmZpZy5kZWJ1Zyl7YmVuY2htYXJrKFwiQnVpbHQgaGVhZGVyczpcIix0aW1lKTtsb2coJHRhYmxlSGVhZGVycyk7fXJldHVybiAkdGFibGVIZWFkZXJzO307ZnVuY3Rpb24gY29tcHV0ZVRhYmxlSGVhZGVyQ2VsbEluZGV4ZXModCl7dmFyIG1hdHJpeD1bXTt2YXIgbG9va3VwPXt9O3ZhciB0aGVhZD10LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdUSEVBRCcpWzBdO3ZhciB0cnM9dGhlYWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ1RSJyk7Zm9yKHZhciBpPTA7aTx0cnMubGVuZ3RoO2krKyl7dmFyIGNlbGxzPXRyc1tpXS5jZWxscztmb3IodmFyIGo9MDtqPGNlbGxzLmxlbmd0aDtqKyspe3ZhciBjPWNlbGxzW2pdO3ZhciByb3dJbmRleD1jLnBhcmVudE5vZGUucm93SW5kZXg7dmFyIGNlbGxJZD1yb3dJbmRleCtcIi1cIitjLmNlbGxJbmRleDt2YXIgcm93U3Bhbj1jLnJvd1NwYW58fDE7dmFyIGNvbFNwYW49Yy5jb2xTcGFufHwxXG52YXIgZmlyc3RBdmFpbENvbDtpZih0eXBlb2YobWF0cml4W3Jvd0luZGV4XSk9PVwidW5kZWZpbmVkXCIpe21hdHJpeFtyb3dJbmRleF09W107fWZvcih2YXIgaz0wO2s8bWF0cml4W3Jvd0luZGV4XS5sZW5ndGgrMTtrKyspe2lmKHR5cGVvZihtYXRyaXhbcm93SW5kZXhdW2tdKT09XCJ1bmRlZmluZWRcIil7Zmlyc3RBdmFpbENvbD1rO2JyZWFrO319bG9va3VwW2NlbGxJZF09Zmlyc3RBdmFpbENvbDtmb3IodmFyIGs9cm93SW5kZXg7azxyb3dJbmRleCtyb3dTcGFuO2srKyl7aWYodHlwZW9mKG1hdHJpeFtrXSk9PVwidW5kZWZpbmVkXCIpe21hdHJpeFtrXT1bXTt9dmFyIG1hdHJpeHJvdz1tYXRyaXhba107Zm9yKHZhciBsPWZpcnN0QXZhaWxDb2w7bDxmaXJzdEF2YWlsQ29sK2NvbFNwYW47bCsrKXttYXRyaXhyb3dbbF09XCJ4XCI7fX19fXJldHVybiBsb29rdXA7fWZ1bmN0aW9uIGNoZWNrQ2VsbENvbFNwYW4odGFibGUscm93cyxyb3cpe3ZhciBhcnI9W10scj10YWJsZS50SGVhZC5yb3dzLGM9cltyb3ddLmNlbGxzO2Zvcih2YXIgaT0wO2k8Yy5sZW5ndGg7aSsrKXt2YXIgY2VsbD1jW2ldO2lmKGNlbGwuY29sU3Bhbj4xKXthcnI9YXJyLmNvbmNhdChjaGVja0NlbGxDb2xTcGFuKHRhYmxlLGhlYWRlckFycixyb3crKykpO31lbHNle2lmKHRhYmxlLnRIZWFkLmxlbmd0aD09MXx8KGNlbGwucm93U3Bhbj4xfHwhcltyb3crMV0pKXthcnIucHVzaChjZWxsKTt9fX1yZXR1cm4gYXJyO307ZnVuY3Rpb24gY2hlY2tIZWFkZXJNZXRhZGF0YShjZWxsKXtpZigoJC5tZXRhZGF0YSkmJigkKGNlbGwpLm1ldGFkYXRhKCkuc29ydGVyPT09ZmFsc2UpKXtyZXR1cm4gdHJ1ZTt9O3JldHVybiBmYWxzZTt9ZnVuY3Rpb24gY2hlY2tIZWFkZXJPcHRpb25zKHRhYmxlLGkpe2lmKCh0YWJsZS5jb25maWcuaGVhZGVyc1tpXSkmJih0YWJsZS5jb25maWcuaGVhZGVyc1tpXS5zb3J0ZXI9PT1mYWxzZSkpe3JldHVybiB0cnVlO307cmV0dXJuIGZhbHNlO31mdW5jdGlvbiBjaGVja0hlYWRlck9wdGlvbnNTb3J0aW5nTG9ja2VkKHRhYmxlLGkpe2lmKCh0YWJsZS5jb25maWcuaGVhZGVyc1tpXSkmJih0YWJsZS5jb25maWcuaGVhZGVyc1tpXS5sb2NrZWRPcmRlcikpcmV0dXJuIHRhYmxlLmNvbmZpZy5oZWFkZXJzW2ldLmxvY2tlZE9yZGVyO3JldHVybiBmYWxzZTt9ZnVuY3Rpb24gYXBwbHlXaWRnZXQodGFibGUpe3ZhciBjPXRhYmxlLmNvbmZpZy53aWRnZXRzO3ZhciBsPWMubGVuZ3RoO2Zvcih2YXIgaT0wO2k8bDtpKyspe2dldFdpZGdldEJ5SWQoY1tpXSkuZm9ybWF0KHRhYmxlKTt9fWZ1bmN0aW9uIGdldFdpZGdldEJ5SWQobmFtZSl7dmFyIGw9d2lkZ2V0cy5sZW5ndGg7Zm9yKHZhciBpPTA7aTxsO2krKyl7aWYod2lkZ2V0c1tpXS5pZC50b0xvd2VyQ2FzZSgpPT1uYW1lLnRvTG93ZXJDYXNlKCkpe3JldHVybiB3aWRnZXRzW2ldO319fTtmdW5jdGlvbiBmb3JtYXRTb3J0aW5nT3JkZXIodil7aWYodHlwZW9mKHYpIT1cIk51bWJlclwiKXtyZXR1cm4odi50b0xvd2VyQ2FzZSgpPT1cImRlc2NcIik/MTowO31lbHNle3JldHVybih2PT0xKT8xOjA7fX1mdW5jdGlvbiBpc1ZhbHVlSW5BcnJheSh2LGEpe3ZhciBsPWEubGVuZ3RoO2Zvcih2YXIgaT0wO2k8bDtpKyspe2lmKGFbaV1bMF09PXYpe3JldHVybiB0cnVlO319cmV0dXJuIGZhbHNlO31mdW5jdGlvbiBzZXRIZWFkZXJzQ3NzKHRhYmxlLCRoZWFkZXJzLGxpc3QsY3NzKXskaGVhZGVycy5yZW1vdmVDbGFzcyhjc3NbMF0pLnJlbW92ZUNsYXNzKGNzc1sxXSk7dmFyIGg9W107JGhlYWRlcnMuZWFjaChmdW5jdGlvbihvZmZzZXQpe2lmKCF0aGlzLnNvcnREaXNhYmxlZCl7aFt0aGlzLmNvbHVtbl09JCh0aGlzKTt9fSk7dmFyIGw9bGlzdC5sZW5ndGg7Zm9yKHZhciBpPTA7aTxsO2krKyl7aFtsaXN0W2ldWzBdXS5hZGRDbGFzcyhjc3NbbGlzdFtpXVsxXV0pO319ZnVuY3Rpb24gZml4Q29sdW1uV2lkdGgodGFibGUsJGhlYWRlcnMpe3ZhciBjPXRhYmxlLmNvbmZpZztpZihjLndpZHRoRml4ZWQpe3ZhciBjb2xncm91cD0kKCc8Y29sZ3JvdXA+Jyk7JChcInRyOmZpcnN0IHRkXCIsdGFibGUudEJvZGllc1swXSkuZWFjaChmdW5jdGlvbigpe2NvbGdyb3VwLmFwcGVuZCgkKCc8Y29sPicpLmNzcygnd2lkdGgnLCQodGhpcykud2lkdGgoKSkpO30pOyQodGFibGUpLnByZXBlbmQoY29sZ3JvdXApO307fWZ1bmN0aW9uIHVwZGF0ZUhlYWRlclNvcnRDb3VudCh0YWJsZSxzb3J0TGlzdCl7dmFyIGM9dGFibGUuY29uZmlnLGw9c29ydExpc3QubGVuZ3RoO2Zvcih2YXIgaT0wO2k8bDtpKyspe3ZhciBzPXNvcnRMaXN0W2ldLG89Yy5oZWFkZXJMaXN0W3NbMF1dO28uY291bnQ9c1sxXTtvLmNvdW50Kys7fX1mdW5jdGlvbiBtdWx0aXNvcnQodGFibGUsc29ydExpc3QsY2FjaGUpe2lmKHRhYmxlLmNvbmZpZy5kZWJ1Zyl7dmFyIHNvcnRUaW1lPW5ldyBEYXRlKCk7fXZhciBkeW5hbWljRXhwPVwidmFyIHNvcnRXcmFwcGVyID0gZnVuY3Rpb24oYSxiKSB7XCIsbD1zb3J0TGlzdC5sZW5ndGg7Zm9yKHZhciBpPTA7aTxsO2krKyl7dmFyIGM9c29ydExpc3RbaV1bMF07dmFyIG9yZGVyPXNvcnRMaXN0W2ldWzFdO3ZhciBzPSh0YWJsZS5jb25maWcucGFyc2Vyc1tjXS50eXBlPT1cInRleHRcIik/KChvcmRlcj09MCk/bWFrZVNvcnRGdW5jdGlvbihcInRleHRcIixcImFzY1wiLGMpOm1ha2VTb3J0RnVuY3Rpb24oXCJ0ZXh0XCIsXCJkZXNjXCIsYykpOigob3JkZXI9PTApP21ha2VTb3J0RnVuY3Rpb24oXCJudW1lcmljXCIsXCJhc2NcIixjKTptYWtlU29ydEZ1bmN0aW9uKFwibnVtZXJpY1wiLFwiZGVzY1wiLGMpKTt2YXIgZT1cImVcIitpO2R5bmFtaWNFeHArPVwidmFyIFwiK2UrXCIgPSBcIitzO2R5bmFtaWNFeHArPVwiaWYoXCIrZStcIikgeyByZXR1cm4gXCIrZStcIjsgfSBcIjtkeW5hbWljRXhwKz1cImVsc2UgeyBcIjt9dmFyIG9yZ09yZGVyQ29sPWNhY2hlLm5vcm1hbGl6ZWRbMF0ubGVuZ3RoLTE7ZHluYW1pY0V4cCs9XCJyZXR1cm4gYVtcIitvcmdPcmRlckNvbCtcIl0tYltcIitvcmdPcmRlckNvbCtcIl07XCI7Zm9yKHZhciBpPTA7aTxsO2krKyl7ZHluYW1pY0V4cCs9XCJ9OyBcIjt9ZHluYW1pY0V4cCs9XCJyZXR1cm4gMDsgXCI7ZHluYW1pY0V4cCs9XCJ9OyBcIjtpZih0YWJsZS5jb25maWcuZGVidWcpe2JlbmNobWFyayhcIkV2YWxpbmcgZXhwcmVzc2lvbjpcIitkeW5hbWljRXhwLG5ldyBEYXRlKCkpO31ldmFsKGR5bmFtaWNFeHApO2NhY2hlLm5vcm1hbGl6ZWQuc29ydChzb3J0V3JhcHBlcik7aWYodGFibGUuY29uZmlnLmRlYnVnKXtiZW5jaG1hcmsoXCJTb3J0aW5nIG9uIFwiK3NvcnRMaXN0LnRvU3RyaW5nKCkrXCIgYW5kIGRpciBcIitvcmRlcitcIiB0aW1lOlwiLHNvcnRUaW1lKTt9cmV0dXJuIGNhY2hlO307ZnVuY3Rpb24gbWFrZVNvcnRGdW5jdGlvbih0eXBlLGRpcmVjdGlvbixpbmRleCl7dmFyIGE9XCJhW1wiK2luZGV4K1wiXVwiLGI9XCJiW1wiK2luZGV4K1wiXVwiO2lmKHR5cGU9PSd0ZXh0JyYmZGlyZWN0aW9uPT0nYXNjJyl7cmV0dXJuXCIoXCIrYStcIiA9PSBcIitiK1wiID8gMCA6IChcIithK1wiID09PSBudWxsID8gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZIDogKFwiK2IrXCIgPT09IG51bGwgPyBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkgOiAoXCIrYStcIiA8IFwiK2IrXCIpID8gLTEgOiAxICkpKTtcIjt9ZWxzZSBpZih0eXBlPT0ndGV4dCcmJmRpcmVjdGlvbj09J2Rlc2MnKXtyZXR1cm5cIihcIithK1wiID09IFwiK2IrXCIgPyAwIDogKFwiK2ErXCIgPT09IG51bGwgPyBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkgOiAoXCIrYitcIiA9PT0gbnVsbCA/IE51bWJlci5ORUdBVElWRV9JTkZJTklUWSA6IChcIitiK1wiIDwgXCIrYStcIikgPyAtMSA6IDEgKSkpO1wiO31lbHNlIGlmKHR5cGU9PSdudW1lcmljJyYmZGlyZWN0aW9uPT0nYXNjJyl7cmV0dXJuXCIoXCIrYStcIiA9PT0gbnVsbCAmJiBcIitiK1wiID09PSBudWxsKSA/IDAgOihcIithK1wiID09PSBudWxsID8gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZIDogKFwiK2IrXCIgPT09IG51bGwgPyBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkgOiBcIithK1wiIC0gXCIrYitcIikpO1wiO31lbHNlIGlmKHR5cGU9PSdudW1lcmljJyYmZGlyZWN0aW9uPT0nZGVzYycpe3JldHVyblwiKFwiK2ErXCIgPT09IG51bGwgJiYgXCIrYitcIiA9PT0gbnVsbCkgPyAwIDooXCIrYStcIiA9PT0gbnVsbCA/IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSA6IChcIitiK1wiID09PSBudWxsID8gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZIDogXCIrYitcIiAtIFwiK2ErXCIpKTtcIjt9fTtmdW5jdGlvbiBtYWtlU29ydFRleHQoaSl7cmV0dXJuXCIoKGFbXCIraStcIl0gPCBiW1wiK2krXCJdKSA/IC0xIDogKChhW1wiK2krXCJdID4gYltcIitpK1wiXSkgPyAxIDogMCkpO1wiO307ZnVuY3Rpb24gbWFrZVNvcnRUZXh0RGVzYyhpKXtyZXR1cm5cIigoYltcIitpK1wiXSA8IGFbXCIraStcIl0pID8gLTEgOiAoKGJbXCIraStcIl0gPiBhW1wiK2krXCJdKSA/IDEgOiAwKSk7XCI7fTtmdW5jdGlvbiBtYWtlU29ydE51bWVyaWMoaSl7cmV0dXJuXCJhW1wiK2krXCJdLWJbXCIraStcIl07XCI7fTtmdW5jdGlvbiBtYWtlU29ydE51bWVyaWNEZXNjKGkpe3JldHVyblwiYltcIitpK1wiXS1hW1wiK2krXCJdO1wiO307ZnVuY3Rpb24gc29ydFRleHQoYSxiKXtpZih0YWJsZS5jb25maWcuc29ydExvY2FsZUNvbXBhcmUpcmV0dXJuIGEubG9jYWxlQ29tcGFyZShiKTtyZXR1cm4oKGE8Yik/LTE6KChhPmIpPzE6MCkpO307ZnVuY3Rpb24gc29ydFRleHREZXNjKGEsYil7aWYodGFibGUuY29uZmlnLnNvcnRMb2NhbGVDb21wYXJlKXJldHVybiBiLmxvY2FsZUNvbXBhcmUoYSk7cmV0dXJuKChiPGEpPy0xOigoYj5hKT8xOjApKTt9O2Z1bmN0aW9uIHNvcnROdW1lcmljKGEsYil7cmV0dXJuIGEtYjt9O2Z1bmN0aW9uIHNvcnROdW1lcmljRGVzYyhhLGIpe3JldHVybiBiLWE7fTtmdW5jdGlvbiBnZXRDYWNoZWRTb3J0VHlwZShwYXJzZXJzLGkpe3JldHVybiBwYXJzZXJzW2ldLnR5cGU7fTt0aGlzLmNvbnN0cnVjdD1mdW5jdGlvbihzZXR0aW5ncyl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2lmKCF0aGlzLnRIZWFkfHwhdGhpcy50Qm9kaWVzKXJldHVybjt2YXIgJHRoaXMsJGRvY3VtZW50LCRoZWFkZXJzLGNhY2hlLGNvbmZpZyxzaGlmdERvd249MCxzb3J0T3JkZXI7dGhpcy5jb25maWc9e307Y29uZmlnPSQuZXh0ZW5kKHRoaXMuY29uZmlnLCQudGFibGVzb3J0ZXIuZGVmYXVsdHMsc2V0dGluZ3MpOyR0aGlzPSQodGhpcyk7JC5kYXRhKHRoaXMsXCJ0YWJsZXNvcnRlclwiLGNvbmZpZyk7JGhlYWRlcnM9YnVpbGRIZWFkZXJzKHRoaXMpO3RoaXMuY29uZmlnLnBhcnNlcnM9YnVpbGRQYXJzZXJDYWNoZSh0aGlzLCRoZWFkZXJzKTtjYWNoZT1idWlsZENhY2hlKHRoaXMpO3ZhciBzb3J0Q1NTPVtjb25maWcuY3NzRGVzYyxjb25maWcuY3NzQXNjXTtmaXhDb2x1bW5XaWR0aCh0aGlzKTskaGVhZGVycy5jbGljayhmdW5jdGlvbihlKXt2YXIgdG90YWxSb3dzPSgkdGhpc1swXS50Qm9kaWVzWzBdJiYkdGhpc1swXS50Qm9kaWVzWzBdLnJvd3MubGVuZ3RoKXx8MDtpZighdGhpcy5zb3J0RGlzYWJsZWQmJnRvdGFsUm93cz4wKXskdGhpcy50cmlnZ2VyKFwic29ydFN0YXJ0XCIpO3ZhciAkY2VsbD0kKHRoaXMpO3ZhciBpPXRoaXMuY29sdW1uO3RoaXMub3JkZXI9dGhpcy5jb3VudCsrJTI7aWYodGhpcy5sb2NrZWRPcmRlcil0aGlzLm9yZGVyPXRoaXMubG9ja2VkT3JkZXI7aWYoIWVbY29uZmlnLnNvcnRNdWx0aVNvcnRLZXldKXtjb25maWcuc29ydExpc3Q9W107aWYoY29uZmlnLnNvcnRGb3JjZSE9bnVsbCl7dmFyIGE9Y29uZmlnLnNvcnRGb3JjZTtmb3IodmFyIGo9MDtqPGEubGVuZ3RoO2orKyl7aWYoYVtqXVswXSE9aSl7Y29uZmlnLnNvcnRMaXN0LnB1c2goYVtqXSk7fX19Y29uZmlnLnNvcnRMaXN0LnB1c2goW2ksdGhpcy5vcmRlcl0pO31lbHNle2lmKGlzVmFsdWVJbkFycmF5KGksY29uZmlnLnNvcnRMaXN0KSl7Zm9yKHZhciBqPTA7ajxjb25maWcuc29ydExpc3QubGVuZ3RoO2orKyl7dmFyIHM9Y29uZmlnLnNvcnRMaXN0W2pdLG89Y29uZmlnLmhlYWRlckxpc3Rbc1swXV07aWYoc1swXT09aSl7by5jb3VudD1zWzFdO28uY291bnQrKztzWzFdPW8uY291bnQlMjt9fX1lbHNle2NvbmZpZy5zb3J0TGlzdC5wdXNoKFtpLHRoaXMub3JkZXJdKTt9fTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7c2V0SGVhZGVyc0NzcygkdGhpc1swXSwkaGVhZGVycyxjb25maWcuc29ydExpc3Qsc29ydENTUyk7YXBwZW5kVG9UYWJsZSgkdGhpc1swXSxtdWx0aXNvcnQoJHRoaXNbMF0sY29uZmlnLnNvcnRMaXN0LGNhY2hlKSk7fSwxKTtyZXR1cm4gZmFsc2U7fX0pLm1vdXNlZG93bihmdW5jdGlvbigpe2lmKGNvbmZpZy5jYW5jZWxTZWxlY3Rpb24pe3RoaXMub25zZWxlY3RzdGFydD1mdW5jdGlvbigpe3JldHVybiBmYWxzZX07cmV0dXJuIGZhbHNlO319KTskdGhpcy5iaW5kKFwidXBkYXRlXCIsZnVuY3Rpb24oKXt2YXIgbWU9dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bWUuY29uZmlnLnBhcnNlcnM9YnVpbGRQYXJzZXJDYWNoZShtZSwkaGVhZGVycyk7Y2FjaGU9YnVpbGRDYWNoZShtZSk7fSwxKTt9KS5iaW5kKFwidXBkYXRlQ2VsbFwiLGZ1bmN0aW9uKGUsY2VsbCl7dmFyIGNvbmZpZz10aGlzLmNvbmZpZzt2YXIgcG9zPVsoY2VsbC5wYXJlbnROb2RlLnJvd0luZGV4LTEpLGNlbGwuY2VsbEluZGV4XTtjYWNoZS5ub3JtYWxpemVkW3Bvc1swXV1bcG9zWzFdXT1jb25maWcucGFyc2Vyc1twb3NbMV1dLmZvcm1hdChnZXRFbGVtZW50VGV4dChjb25maWcsY2VsbCksY2VsbCk7fSkuYmluZChcInNvcnRvblwiLGZ1bmN0aW9uKGUsbGlzdCl7JCh0aGlzKS50cmlnZ2VyKFwic29ydFN0YXJ0XCIpO2NvbmZpZy5zb3J0TGlzdD1saXN0O3ZhciBzb3J0TGlzdD1jb25maWcuc29ydExpc3Q7dXBkYXRlSGVhZGVyU29ydENvdW50KHRoaXMsc29ydExpc3QpO3NldEhlYWRlcnNDc3ModGhpcywkaGVhZGVycyxzb3J0TGlzdCxzb3J0Q1NTKTthcHBlbmRUb1RhYmxlKHRoaXMsbXVsdGlzb3J0KHRoaXMsc29ydExpc3QsY2FjaGUpKTt9KS5iaW5kKFwiYXBwZW5kQ2FjaGVcIixmdW5jdGlvbigpe2FwcGVuZFRvVGFibGUodGhpcyxjYWNoZSk7fSkuYmluZChcImFwcGx5V2lkZ2V0SWRcIixmdW5jdGlvbihlLGlkKXtnZXRXaWRnZXRCeUlkKGlkKS5mb3JtYXQodGhpcyk7fSkuYmluZChcImFwcGx5V2lkZ2V0c1wiLGZ1bmN0aW9uKCl7YXBwbHlXaWRnZXQodGhpcyk7fSk7aWYoJC5tZXRhZGF0YSYmKCQodGhpcykubWV0YWRhdGEoKSYmJCh0aGlzKS5tZXRhZGF0YSgpLnNvcnRsaXN0KSl7Y29uZmlnLnNvcnRMaXN0PSQodGhpcykubWV0YWRhdGEoKS5zb3J0bGlzdDt9aWYoY29uZmlnLnNvcnRMaXN0Lmxlbmd0aD4wKXskdGhpcy50cmlnZ2VyKFwic29ydG9uXCIsW2NvbmZpZy5zb3J0TGlzdF0pO31hcHBseVdpZGdldCh0aGlzKTt9KTt9O3RoaXMuYWRkUGFyc2VyPWZ1bmN0aW9uKHBhcnNlcil7dmFyIGw9cGFyc2Vycy5sZW5ndGgsYT10cnVlO2Zvcih2YXIgaT0wO2k8bDtpKyspe2lmKHBhcnNlcnNbaV0uaWQudG9Mb3dlckNhc2UoKT09cGFyc2VyLmlkLnRvTG93ZXJDYXNlKCkpe2E9ZmFsc2U7fX1pZihhKXtwYXJzZXJzLnB1c2gocGFyc2VyKTt9O307dGhpcy5hZGRXaWRnZXQ9ZnVuY3Rpb24od2lkZ2V0KXt3aWRnZXRzLnB1c2god2lkZ2V0KTt9O3RoaXMuZm9ybWF0RmxvYXQ9ZnVuY3Rpb24ocyl7dmFyIGk9cGFyc2VGbG9hdChzKTtyZXR1cm4oaXNOYU4oaSkpPzA6aTt9O3RoaXMuZm9ybWF0SW50PWZ1bmN0aW9uKHMpe3ZhciBpPXBhcnNlSW50KHMpO3JldHVybihpc05hTihpKSk/MDppO307dGhpcy5pc0RpZ2l0PWZ1bmN0aW9uKHMsY29uZmlnKXtyZXR1cm4vXlstK10/XFxkKiQvLnRlc3QoJC50cmltKHMucmVwbGFjZSgvWywuJ10vZywnJykpKTt9O3RoaXMuY2xlYXJUYWJsZUJvZHk9ZnVuY3Rpb24odGFibGUpe2lmKCQuYnJvd3Nlci5tc2llKXtmdW5jdGlvbiBlbXB0eSgpe3doaWxlKHRoaXMuZmlyc3RDaGlsZCl0aGlzLnJlbW92ZUNoaWxkKHRoaXMuZmlyc3RDaGlsZCk7fWVtcHR5LmFwcGx5KHRhYmxlLnRCb2RpZXNbMF0pO31lbHNle3RhYmxlLnRCb2RpZXNbMF0uaW5uZXJIVE1MPVwiXCI7fX07fX0pOyQuZm4uZXh0ZW5kKHt0YWJsZXNvcnRlcjokLnRhYmxlc29ydGVyLmNvbnN0cnVjdH0pO3ZhciB0cz0kLnRhYmxlc29ydGVyO3RzLmFkZFBhcnNlcih7aWQ6XCJ0ZXh0XCIsaXM6ZnVuY3Rpb24ocyl7cmV0dXJuIHRydWU7fSxmb3JtYXQ6ZnVuY3Rpb24ocyl7cmV0dXJuICQudHJpbShzLnRvTG9jYWxlTG93ZXJDYXNlKCkpO30sdHlwZTpcInRleHRcIn0pO3RzLmFkZFBhcnNlcih7aWQ6XCJkaWdpdFwiLGlzOmZ1bmN0aW9uKHMsdGFibGUpe3ZhciBjPXRhYmxlLmNvbmZpZztyZXR1cm4gJC50YWJsZXNvcnRlci5pc0RpZ2l0KHMsYyk7fSxmb3JtYXQ6ZnVuY3Rpb24ocyl7cmV0dXJuICQudGFibGVzb3J0ZXIuZm9ybWF0RmxvYXQocyk7fSx0eXBlOlwibnVtZXJpY1wifSk7dHMuYWRkUGFyc2VyKHtpZDpcImN1cnJlbmN5XCIsaXM6ZnVuY3Rpb24ocyl7cmV0dXJuL15bwqMk4oKsPy5dLy50ZXN0KHMpO30sZm9ybWF0OmZ1bmN0aW9uKHMpe3JldHVybiAkLnRhYmxlc29ydGVyLmZvcm1hdEZsb2F0KHMucmVwbGFjZShuZXcgUmVnRXhwKC9bwqMk4oKsXS9nKSxcIlwiKSk7fSx0eXBlOlwibnVtZXJpY1wifSk7dHMuYWRkUGFyc2VyKHtpZDpcImlwQWRkcmVzc1wiLGlzOmZ1bmN0aW9uKHMpe3JldHVybi9eXFxkezIsM31bXFwuXVxcZHsyLDN9W1xcLl1cXGR7MiwzfVtcXC5dXFxkezIsM30kLy50ZXN0KHMpO30sZm9ybWF0OmZ1bmN0aW9uKHMpe3ZhciBhPXMuc3BsaXQoXCIuXCIpLHI9XCJcIixsPWEubGVuZ3RoO2Zvcih2YXIgaT0wO2k8bDtpKyspe3ZhciBpdGVtPWFbaV07aWYoaXRlbS5sZW5ndGg9PTIpe3IrPVwiMFwiK2l0ZW07fWVsc2V7cis9aXRlbTt9fXJldHVybiAkLnRhYmxlc29ydGVyLmZvcm1hdEZsb2F0KHIpO30sdHlwZTpcIm51bWVyaWNcIn0pO3RzLmFkZFBhcnNlcih7aWQ6XCJ1cmxcIixpczpmdW5jdGlvbihzKXtyZXR1cm4vXihodHRwcz98ZnRwfGZpbGUpOlxcL1xcLyQvLnRlc3Qocyk7fSxmb3JtYXQ6ZnVuY3Rpb24ocyl7cmV0dXJuIGpRdWVyeS50cmltKHMucmVwbGFjZShuZXcgUmVnRXhwKC8oaHR0cHM/fGZ0cHxmaWxlKTpcXC9cXC8vKSwnJykpO30sdHlwZTpcInRleHRcIn0pO3RzLmFkZFBhcnNlcih7aWQ6XCJpc29EYXRlXCIsaXM6ZnVuY3Rpb24ocyl7cmV0dXJuL15cXGR7NH1bXFwvLV1cXGR7MSwyfVtcXC8tXVxcZHsxLDJ9JC8udGVzdChzKTt9LGZvcm1hdDpmdW5jdGlvbihzKXtyZXR1cm4gJC50YWJsZXNvcnRlci5mb3JtYXRGbG9hdCgocyE9XCJcIik/bmV3IERhdGUocy5yZXBsYWNlKG5ldyBSZWdFeHAoLy0vZyksXCIvXCIpKS5nZXRUaW1lKCk6XCIwXCIpO30sdHlwZTpcIm51bWVyaWNcIn0pO3RzLmFkZFBhcnNlcih7aWQ6XCJwZXJjZW50XCIsaXM6ZnVuY3Rpb24ocyl7cmV0dXJuL1xcJSQvLnRlc3QoJC50cmltKHMpKTt9LGZvcm1hdDpmdW5jdGlvbihzKXtyZXR1cm4gJC50YWJsZXNvcnRlci5mb3JtYXRGbG9hdChzLnJlcGxhY2UobmV3IFJlZ0V4cCgvJS9nKSxcIlwiKSk7fSx0eXBlOlwibnVtZXJpY1wifSk7dHMuYWRkUGFyc2VyKHtpZDpcInVzTG9uZ0RhdGVcIixpczpmdW5jdGlvbihzKXtyZXR1cm4gcy5tYXRjaChuZXcgUmVnRXhwKC9eW0EtWmEtel17MywxMH1cXC4/IFswLTldezEsMn0sIChbMC05XXs0fXwnP1swLTldezJ9KSAoKFswLTJdP1swLTldOlswLTVdWzAtOV0pfChbMC0xXT9bMC05XTpbMC01XVswLTldXFxzKEFNfFBNKSkpJC8pKTt9LGZvcm1hdDpmdW5jdGlvbihzKXtyZXR1cm4gJC50YWJsZXNvcnRlci5mb3JtYXRGbG9hdChuZXcgRGF0ZShzKS5nZXRUaW1lKCkpO30sdHlwZTpcIm51bWVyaWNcIn0pO3RzLmFkZFBhcnNlcih7aWQ6XCJzaG9ydERhdGVcIixpczpmdW5jdGlvbihzKXtyZXR1cm4vXFxkezEsMn1bXFwvXFwtXVxcZHsxLDJ9W1xcL1xcLV1cXGR7Miw0fS8udGVzdChzKTt9LGZvcm1hdDpmdW5jdGlvbihzLHRhYmxlKXt2YXIgYz10YWJsZS5jb25maWc7cz1zLnJlcGxhY2UoL1xcLS9nLFwiL1wiKTtpZihjLmRhdGVGb3JtYXQ9PVwidXNcIil7cz1zLnJlcGxhY2UoLyhcXGR7MSwyfSlbXFwvXFwtXShcXGR7MSwyfSlbXFwvXFwtXShcXGR7NH0pLyxcIiQzLyQxLyQyXCIpO31lbHNlIGlmKGMuZGF0ZUZvcm1hdD09XCJ1a1wiKXtzPXMucmVwbGFjZSgvKFxcZHsxLDJ9KVtcXC9cXC1dKFxcZHsxLDJ9KVtcXC9cXC1dKFxcZHs0fSkvLFwiJDMvJDIvJDFcIik7fWVsc2UgaWYoYy5kYXRlRm9ybWF0PT1cImRkL21tL3l5XCJ8fGMuZGF0ZUZvcm1hdD09XCJkZC1tbS15eVwiKXtzPXMucmVwbGFjZSgvKFxcZHsxLDJ9KVtcXC9cXC1dKFxcZHsxLDJ9KVtcXC9cXC1dKFxcZHsyfSkvLFwiJDEvJDIvJDNcIik7fXJldHVybiAkLnRhYmxlc29ydGVyLmZvcm1hdEZsb2F0KG5ldyBEYXRlKHMpLmdldFRpbWUoKSk7fSx0eXBlOlwibnVtZXJpY1wifSk7dHMuYWRkUGFyc2VyKHtpZDpcInRpbWVcIixpczpmdW5jdGlvbihzKXtyZXR1cm4vXigoWzAtMl0/WzAtOV06WzAtNV1bMC05XSl8KFswLTFdP1swLTldOlswLTVdWzAtOV1cXHMoYW18cG0pKSkkLy50ZXN0KHMpO30sZm9ybWF0OmZ1bmN0aW9uKHMpe3JldHVybiAkLnRhYmxlc29ydGVyLmZvcm1hdEZsb2F0KG5ldyBEYXRlKFwiMjAwMC8wMS8wMSBcIitzKS5nZXRUaW1lKCkpO30sdHlwZTpcIm51bWVyaWNcIn0pO3RzLmFkZFBhcnNlcih7aWQ6XCJtZXRhZGF0YVwiLGlzOmZ1bmN0aW9uKHMpe3JldHVybiBmYWxzZTt9LGZvcm1hdDpmdW5jdGlvbihzLHRhYmxlLGNlbGwpe3ZhciBjPXRhYmxlLmNvbmZpZyxwPSghYy5wYXJzZXJNZXRhZGF0YU5hbWUpPydzb3J0VmFsdWUnOmMucGFyc2VyTWV0YWRhdGFOYW1lO3JldHVybiAkKGNlbGwpLm1ldGFkYXRhKClbcF07fSx0eXBlOlwibnVtZXJpY1wifSk7dHMuYWRkV2lkZ2V0KHtpZDpcInplYnJhXCIsZm9ybWF0OmZ1bmN0aW9uKHRhYmxlKXtpZih0YWJsZS5jb25maWcuZGVidWcpe3ZhciB0aW1lPW5ldyBEYXRlKCk7fXZhciAkdHIscm93PS0xLG9kZDskKFwidHI6dmlzaWJsZVwiLHRhYmxlLnRCb2RpZXNbMF0pLmVhY2goZnVuY3Rpb24oaSl7JHRyPSQodGhpcyk7aWYoISR0ci5oYXNDbGFzcyh0YWJsZS5jb25maWcuY3NzQ2hpbGRSb3cpKXJvdysrO29kZD0ocm93JTI9PTApOyR0ci5yZW1vdmVDbGFzcyh0YWJsZS5jb25maWcud2lkZ2V0WmVicmEuY3NzW29kZD8wOjFdKS5hZGRDbGFzcyh0YWJsZS5jb25maWcud2lkZ2V0WmVicmEuY3NzW29kZD8xOjBdKX0pO2lmKHRhYmxlLmNvbmZpZy5kZWJ1Zyl7JC50YWJsZXNvcnRlci5iZW5jaG1hcmsoXCJBcHBseWluZyBaZWJyYSB3aWRnZXRcIix0aW1lKTt9fX0pO30pKGpRdWVyeSk7XG4iLCIvKiEgSmF2YXNjcmlwdCBwbG90dGluZyBsaWJyYXJ5IGZvciBqUXVlcnksIHYuIDAuNy5cbiAqXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgYnkgSU9MQSwgRGVjZW1iZXIgMjAwNy5cbiAqXG4gKi9cblxuLy8gZmlyc3QgYW4gaW5saW5lIGRlcGVuZGVuY3ksIGpxdWVyeS5jb2xvcmhlbHBlcnMuanMsIHdlIGlubGluZSBpdCBoZXJlXG4vLyBmb3IgY29udmVuaWVuY2VcblxuLyogUGx1Z2luIGZvciBqUXVlcnkgZm9yIHdvcmtpbmcgd2l0aCBjb2xvcnMuXG4gKiBcbiAqIFZlcnNpb24gMS4xLlxuICogXG4gKiBJbnNwaXJhdGlvbiBmcm9tIGpRdWVyeSBjb2xvciBhbmltYXRpb24gcGx1Z2luIGJ5IEpvaG4gUmVzaWcuXG4gKlxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGJ5IE9sZSBMYXVyc2VuLCBPY3RvYmVyIDIwMDkuXG4gKlxuICogRXhhbXBsZXM6XG4gKlxuICogICAkLmNvbG9yLnBhcnNlKFwiI2ZmZlwiKS5zY2FsZSgncmdiJywgMC4yNSkuYWRkKCdhJywgLTAuNSkudG9TdHJpbmcoKVxuICogICB2YXIgYyA9ICQuY29sb3IuZXh0cmFjdCgkKFwiI215ZGl2XCIpLCAnYmFja2dyb3VuZC1jb2xvcicpO1xuICogICBjb25zb2xlLmxvZyhjLnIsIGMuZywgYy5iLCBjLmEpO1xuICogICAkLmNvbG9yLm1ha2UoMTAwLCA1MCwgMjUsIDAuNCkudG9TdHJpbmcoKSAvLyByZXR1cm5zIFwicmdiYSgxMDAsNTAsMjUsMC40KVwiXG4gKlxuICogTm90ZSB0aGF0IC5zY2FsZSgpIGFuZCAuYWRkKCkgcmV0dXJuIHRoZSBzYW1lIG1vZGlmaWVkIG9iamVjdFxuICogaW5zdGVhZCBvZiBtYWtpbmcgYSBuZXcgb25lLlxuICpcbiAqIFYuIDEuMTogRml4IGVycm9yIGhhbmRsaW5nIHNvIGUuZy4gcGFyc2luZyBhbiBlbXB0eSBzdHJpbmcgZG9lc1xuICogcHJvZHVjZSBhIGNvbG9yIHJhdGhlciB0aGFuIGp1c3QgY3Jhc2hpbmcuXG4gKi8gXG4oZnVuY3Rpb24oQil7Qi5jb2xvcj17fTtCLmNvbG9yLm1ha2U9ZnVuY3Rpb24oRixFLEMsRCl7dmFyIEc9e307Ry5yPUZ8fDA7Ry5nPUV8fDA7Ry5iPUN8fDA7Ry5hPUQhPW51bGw/RDoxO0cuYWRkPWZ1bmN0aW9uKEosSSl7Zm9yKHZhciBIPTA7SDxKLmxlbmd0aDsrK0gpe0dbSi5jaGFyQXQoSCldKz1JfXJldHVybiBHLm5vcm1hbGl6ZSgpfTtHLnNjYWxlPWZ1bmN0aW9uKEosSSl7Zm9yKHZhciBIPTA7SDxKLmxlbmd0aDsrK0gpe0dbSi5jaGFyQXQoSCldKj1JfXJldHVybiBHLm5vcm1hbGl6ZSgpfTtHLnRvU3RyaW5nPWZ1bmN0aW9uKCl7aWYoRy5hPj0xKXtyZXR1cm5cInJnYihcIitbRy5yLEcuZyxHLmJdLmpvaW4oXCIsXCIpK1wiKVwifWVsc2V7cmV0dXJuXCJyZ2JhKFwiK1tHLnIsRy5nLEcuYixHLmFdLmpvaW4oXCIsXCIpK1wiKVwifX07Ry5ub3JtYWxpemU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBIKEosSyxJKXtyZXR1cm4gSzxKP0o6KEs+ST9JOkspfUcucj1IKDAscGFyc2VJbnQoRy5yKSwyNTUpO0cuZz1IKDAscGFyc2VJbnQoRy5nKSwyNTUpO0cuYj1IKDAscGFyc2VJbnQoRy5iKSwyNTUpO0cuYT1IKDAsRy5hLDEpO3JldHVybiBHfTtHLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIEIuY29sb3IubWFrZShHLnIsRy5iLEcuZyxHLmEpfTtyZXR1cm4gRy5ub3JtYWxpemUoKX07Qi5jb2xvci5leHRyYWN0PWZ1bmN0aW9uKEQsQyl7dmFyIEU7ZG97RT1ELmNzcyhDKS50b0xvd2VyQ2FzZSgpO2lmKEUhPVwiXCImJkUhPVwidHJhbnNwYXJlbnRcIil7YnJlYWt9RD1ELnBhcmVudCgpfXdoaWxlKCFCLm5vZGVOYW1lKEQuZ2V0KDApLFwiYm9keVwiKSk7aWYoRT09XCJyZ2JhKDAsIDAsIDAsIDApXCIpe0U9XCJ0cmFuc3BhcmVudFwifXJldHVybiBCLmNvbG9yLnBhcnNlKEUpfTtCLmNvbG9yLnBhcnNlPWZ1bmN0aW9uKEYpe3ZhciBFLEM9Qi5jb2xvci5tYWtlO2lmKEU9L3JnYlxcKFxccyooWzAtOV17MSwzfSlcXHMqLFxccyooWzAtOV17MSwzfSlcXHMqLFxccyooWzAtOV17MSwzfSlcXHMqXFwpLy5leGVjKEYpKXtyZXR1cm4gQyhwYXJzZUludChFWzFdLDEwKSxwYXJzZUludChFWzJdLDEwKSxwYXJzZUludChFWzNdLDEwKSl9aWYoRT0vcmdiYVxcKFxccyooWzAtOV17MSwzfSlcXHMqLFxccyooWzAtOV17MSwzfSlcXHMqLFxccyooWzAtOV17MSwzfSlcXHMqLFxccyooWzAtOV0rKD86XFwuWzAtOV0rKT8pXFxzKlxcKS8uZXhlYyhGKSl7cmV0dXJuIEMocGFyc2VJbnQoRVsxXSwxMCkscGFyc2VJbnQoRVsyXSwxMCkscGFyc2VJbnQoRVszXSwxMCkscGFyc2VGbG9hdChFWzRdKSl9aWYoRT0vcmdiXFwoXFxzKihbMC05XSsoPzpcXC5bMC05XSspPylcXCVcXHMqLFxccyooWzAtOV0rKD86XFwuWzAtOV0rKT8pXFwlXFxzKixcXHMqKFswLTldKyg/OlxcLlswLTldKyk/KVxcJVxccypcXCkvLmV4ZWMoRikpe3JldHVybiBDKHBhcnNlRmxvYXQoRVsxXSkqMi41NSxwYXJzZUZsb2F0KEVbMl0pKjIuNTUscGFyc2VGbG9hdChFWzNdKSoyLjU1KX1pZihFPS9yZ2JhXFwoXFxzKihbMC05XSsoPzpcXC5bMC05XSspPylcXCVcXHMqLFxccyooWzAtOV0rKD86XFwuWzAtOV0rKT8pXFwlXFxzKixcXHMqKFswLTldKyg/OlxcLlswLTldKyk/KVxcJVxccyosXFxzKihbMC05XSsoPzpcXC5bMC05XSspPylcXHMqXFwpLy5leGVjKEYpKXtyZXR1cm4gQyhwYXJzZUZsb2F0KEVbMV0pKjIuNTUscGFyc2VGbG9hdChFWzJdKSoyLjU1LHBhcnNlRmxvYXQoRVszXSkqMi41NSxwYXJzZUZsb2F0KEVbNF0pKX1pZihFPS8jKFthLWZBLUYwLTldezJ9KShbYS1mQS1GMC05XXsyfSkoW2EtZkEtRjAtOV17Mn0pLy5leGVjKEYpKXtyZXR1cm4gQyhwYXJzZUludChFWzFdLDE2KSxwYXJzZUludChFWzJdLDE2KSxwYXJzZUludChFWzNdLDE2KSl9aWYoRT0vIyhbYS1mQS1GMC05XSkoW2EtZkEtRjAtOV0pKFthLWZBLUYwLTldKS8uZXhlYyhGKSl7cmV0dXJuIEMocGFyc2VJbnQoRVsxXStFWzFdLDE2KSxwYXJzZUludChFWzJdK0VbMl0sMTYpLHBhcnNlSW50KEVbM10rRVszXSwxNikpfXZhciBEPUIudHJpbShGKS50b0xvd2VyQ2FzZSgpO2lmKEQ9PVwidHJhbnNwYXJlbnRcIil7cmV0dXJuIEMoMjU1LDI1NSwyNTUsMCl9ZWxzZXtFPUFbRF18fFswLDAsMF07cmV0dXJuIEMoRVswXSxFWzFdLEVbMl0pfX07dmFyIEE9e2FxdWE6WzAsMjU1LDI1NV0sYXp1cmU6WzI0MCwyNTUsMjU1XSxiZWlnZTpbMjQ1LDI0NSwyMjBdLGJsYWNrOlswLDAsMF0sYmx1ZTpbMCwwLDI1NV0sYnJvd246WzE2NSw0Miw0Ml0sY3lhbjpbMCwyNTUsMjU1XSxkYXJrYmx1ZTpbMCwwLDEzOV0sZGFya2N5YW46WzAsMTM5LDEzOV0sZGFya2dyZXk6WzE2OSwxNjksMTY5XSxkYXJrZ3JlZW46WzAsMTAwLDBdLGRhcmtraGFraTpbMTg5LDE4MywxMDddLGRhcmttYWdlbnRhOlsxMzksMCwxMzldLGRhcmtvbGl2ZWdyZWVuOls4NSwxMDcsNDddLGRhcmtvcmFuZ2U6WzI1NSwxNDAsMF0sZGFya29yY2hpZDpbMTUzLDUwLDIwNF0sZGFya3JlZDpbMTM5LDAsMF0sZGFya3NhbG1vbjpbMjMzLDE1MCwxMjJdLGRhcmt2aW9sZXQ6WzE0OCwwLDIxMV0sZnVjaHNpYTpbMjU1LDAsMjU1XSxnb2xkOlsyNTUsMjE1LDBdLGdyZWVuOlswLDEyOCwwXSxpbmRpZ286Wzc1LDAsMTMwXSxraGFraTpbMjQwLDIzMCwxNDBdLGxpZ2h0Ymx1ZTpbMTczLDIxNiwyMzBdLGxpZ2h0Y3lhbjpbMjI0LDI1NSwyNTVdLGxpZ2h0Z3JlZW46WzE0NCwyMzgsMTQ0XSxsaWdodGdyZXk6WzIxMSwyMTEsMjExXSxsaWdodHBpbms6WzI1NSwxODIsMTkzXSxsaWdodHllbGxvdzpbMjU1LDI1NSwyMjRdLGxpbWU6WzAsMjU1LDBdLG1hZ2VudGE6WzI1NSwwLDI1NV0sbWFyb29uOlsxMjgsMCwwXSxuYXZ5OlswLDAsMTI4XSxvbGl2ZTpbMTI4LDEyOCwwXSxvcmFuZ2U6WzI1NSwxNjUsMF0scGluazpbMjU1LDE5MiwyMDNdLHB1cnBsZTpbMTI4LDAsMTI4XSx2aW9sZXQ6WzEyOCwwLDEyOF0scmVkOlsyNTUsMCwwXSxzaWx2ZXI6WzE5MiwxOTIsMTkyXSx3aGl0ZTpbMjU1LDI1NSwyNTVdLHllbGxvdzpbMjU1LDI1NSwwXX19KShqUXVlcnkpO1xuXG4vLyB0aGUgYWN0dWFsIEZsb3QgY29kZVxuKGZ1bmN0aW9uKG4pe2Z1bmN0aW9uIFooQyxOLHYsVCl7ZnVuY3Rpb24gSShhLGUpe2U9W3ddLmNvbmNhdChlKTtmb3IodmFyIGM9MDtjPGEubGVuZ3RoOysrYylhW2NdLmFwcGx5KHRoaXMsZSl9ZnVuY3Rpb24gZGEoYSl7Zm9yKHZhciBlPVtdLGM9MDtjPGEubGVuZ3RoOysrYyl7dmFyIGI9bi5leHRlbmQoITAse30sZi5zZXJpZXMpO251bGwhPWFbY10uZGF0YT8oYi5kYXRhPWFbY10uZGF0YSxkZWxldGUgYVtjXS5kYXRhLG4uZXh0ZW5kKCEwLGIsYVtjXSksYVtjXS5kYXRhPWIuZGF0YSk6Yi5kYXRhPWFbY107ZS5wdXNoKGIpfXI9ZTtlPXIubGVuZ3RoO2M9W107Yj1bXTtmb3IoYT0wO2E8ci5sZW5ndGg7KythKXt2YXIgZD1yW2FdLmNvbG9yO251bGwhPWQmJigtLWUsXCJudW1iZXJcIj09dHlwZW9mIGQ/Yi5wdXNoKGQpOmMucHVzaChuLmNvbG9yLnBhcnNlKHJbYV0uY29sb3IpKSl9Zm9yKGE9MDthPGIubGVuZ3RoOysrYSllPU1hdGgubWF4KGUsYlthXSsxKTtjPVtdO2ZvcihhPWI9IDA7Yy5sZW5ndGg8ZTspZD1mLmNvbG9ycy5sZW5ndGg9PWE/bi5jb2xvci5tYWtlKDEwMCwxMDAsMTAwKTpuLmNvbG9yLnBhcnNlKGYuY29sb3JzW2FdKSxkLnNjYWxlKFwicmdiXCIsMSswLjIqKDE9PWIlMj8tMToxKSpNYXRoLmNlaWwoYi8yKSksYy5wdXNoKGQpLCsrYSxhPj1mLmNvbG9ycy5sZW5ndGgmJihhPTAsKytiKTtmb3IoYT1lPTA7YTxyLmxlbmd0aDsrK2Epe2I9clthXTtudWxsPT1iLmNvbG9yPyhiLmNvbG9yPWNbZV0udG9TdHJpbmcoKSwrK2UpOlwibnVtYmVyXCI9PXR5cGVvZiBiLmNvbG9yJiYoYi5jb2xvcj1jW2IuY29sb3JdLnRvU3RyaW5nKCkpO2lmKG51bGw9PWIubGluZXMuc2hvdyl7dmFyIHEsZD0hMDtmb3IocSBpbiBiKWlmKGJbcV0mJmJbcV0uc2hvdyl7ZD0hMTticmVha31kJiYoYi5saW5lcy5zaG93PSEwKX1iLnhheGlzPVMoQSxRKGIsXCJ4XCIpKTtiLnlheGlzPVMoRyxRKGIsXCJ5XCIpKX1xPWZ1bmN0aW9uKGEsYixjKXtiPGEuZGF0YW1pbiYmYiE9LXAmJihhLmRhdGFtaW49IGIpO2M+YS5kYXRhbWF4JiZjIT1wJiYoYS5kYXRhbWF4PWMpfTt2YXIgZz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksaz1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkscD1OdW1iZXIuTUFYX1ZBTFVFLGosbSx0LEUsbDtuLmVhY2goeigpLGZ1bmN0aW9uKGEsYil7Yi5kYXRhbWluPWc7Yi5kYXRhbWF4PWs7Yi51c2VkPSExfSk7Zm9yKGE9MDthPHIubGVuZ3RoOysrYSllPXJbYV0sZS5kYXRhcG9pbnRzPXtwb2ludHM6W119LEkoSi5wcm9jZXNzUmF3RGF0YSxbZSxlLmRhdGEsZS5kYXRhcG9pbnRzXSk7Zm9yKGE9MDthPHIubGVuZ3RoOysrYSl7dmFyIGU9clthXSxzPWUuZGF0YSxoPWUuZGF0YXBvaW50cy5mb3JtYXQ7aWYoIWgpe2g9W107aC5wdXNoKHt4OiEwLG51bWJlcjohMCxyZXF1aXJlZDohMH0pO2gucHVzaCh7eTohMCxudW1iZXI6ITAscmVxdWlyZWQ6ITB9KTtpZihlLmJhcnMuc2hvd3x8ZS5saW5lcy5zaG93JiZlLmxpbmVzLmZpbGwpaC5wdXNoKHt5OiEwLG51bWJlcjohMCwgcmVxdWlyZWQ6ITEsZGVmYXVsdFZhbHVlOjB9KSxlLmJhcnMuaG9yaXpvbnRhbCYmKGRlbGV0ZSBoW2gubGVuZ3RoLTFdLnksaFtoLmxlbmd0aC0xXS54PSEwKTtlLmRhdGFwb2ludHMuZm9ybWF0PWh9aWYobnVsbD09ZS5kYXRhcG9pbnRzLnBvaW50c2l6ZSl7ZS5kYXRhcG9pbnRzLnBvaW50c2l6ZT1oLmxlbmd0aDttPWUuZGF0YXBvaW50cy5wb2ludHNpemU7ZD1lLmRhdGFwb2ludHMucG9pbnRzO2luc2VydFN0ZXBzPWUubGluZXMuc2hvdyYmZS5saW5lcy5zdGVwcztlLnhheGlzLnVzZWQ9ZS55YXhpcy51c2VkPSEwO2ZvcihjPWo9MDtjPHMubGVuZ3RoOysrYyxqKz1tKXtsPXNbY107dmFyIHU9bnVsbD09bDtpZighdSlmb3IoYj0wO2I8bTsrK2Ipe3Q9bFtiXTtpZihFPWhbYl0pRS5udW1iZXImJm51bGwhPXQmJih0PSt0LGlzTmFOKHQpP3Q9bnVsbDpJbmZpbml0eT09dD90PXA6LUluZmluaXR5PT10JiYodD0tcCkpLG51bGw9PXQmJihFLnJlcXVpcmVkJiYodT0hMCksbnVsbCE9IEUuZGVmYXVsdFZhbHVlJiYodD1FLmRlZmF1bHRWYWx1ZSkpO2RbaitiXT10fWlmKHUpZm9yKGI9MDtiPG07KytiKXQ9ZFtqK2JdLG51bGwhPXQmJihFPWhbYl0sRS54JiZxKGUueGF4aXMsdCx0KSxFLnkmJnEoZS55YXhpcyx0LHQpKSxkW2orYl09bnVsbDtlbHNlIGlmKGluc2VydFN0ZXBzJiYwPGomJm51bGwhPWRbai1tXSYmZFtqLW1dIT1kW2pdJiZkW2otbSsxXSE9ZFtqKzFdKXtmb3IoYj0wO2I8bTsrK2IpZFtqK20rYl09ZFtqK2JdO2RbaisxXT1kW2otbSsxXTtqKz1tfX19fWZvcihhPTA7YTxyLmxlbmd0aDsrK2EpZT1yW2FdLEkoSi5wcm9jZXNzRGF0YXBvaW50cyxbZSxlLmRhdGFwb2ludHNdKTtmb3IoYT0wO2E8ci5sZW5ndGg7KythKXtlPXJbYV07ZD1lLmRhdGFwb2ludHMucG9pbnRzO209ZS5kYXRhcG9pbnRzLnBvaW50c2l6ZTtsPWo9Zzt1PXM9aztmb3IoYz0wO2M8ZC5sZW5ndGg7Yys9bSlpZihudWxsIT1kW2NdKWZvcihiPTA7YjxtOysrYilpZih0PWRbYytiXSwoRT0gaFtiXSkmJiEodD09cHx8dD09LXApKUUueCYmKHQ8aiYmKGo9dCksdD5zJiYocz10KSksRS55JiYodDxsJiYobD10KSx0PnUmJih1PXQpKTtlLmJhcnMuc2hvdyYmKGM9XCJsZWZ0XCI9PWUuYmFycy5hbGlnbj8wOi1lLmJhcnMuYmFyV2lkdGgvMixlLmJhcnMuaG9yaXpvbnRhbD8obCs9Yyx1Kz1jK2UuYmFycy5iYXJXaWR0aCk6KGorPWMscys9YytlLmJhcnMuYmFyV2lkdGgpKTtxKGUueGF4aXMsaixzKTtxKGUueWF4aXMsbCx1KX1uLmVhY2goeigpLGZ1bmN0aW9uKGEsYil7Yi5kYXRhbWluPT1nJiYoYi5kYXRhbWluPW51bGwpO2IuZGF0YW1heD09ayYmKGIuZGF0YW1heD1udWxsKX0pfWZ1bmN0aW9uIFEoYSxlKXt2YXIgYz1hW2UrXCJheGlzXCJdO1wib2JqZWN0XCI9PXR5cGVvZiBjJiYoYz1jLm4pO1wibnVtYmVyXCIhPXR5cGVvZiBjJiYoYz0xKTtyZXR1cm4gY31mdW5jdGlvbiB6KCl7cmV0dXJuIG4uZ3JlcChBLmNvbmNhdChHKSxmdW5jdGlvbihhKXtyZXR1cm4gYX0pfWZ1bmN0aW9uIFcoYSl7dmFyIGU9IHt9LGMsYjtmb3IoYz0wO2M8QS5sZW5ndGg7KytjKShiPUFbY10pJiZiLnVzZWQmJihlW1wieFwiK2Iubl09Yi5jMnAoYS5sZWZ0KSk7Zm9yKGM9MDtjPEcubGVuZ3RoOysrYykoYj1HW2NdKSYmYi51c2VkJiYoZVtcInlcIitiLm5dPWIuYzJwKGEudG9wKSk7dm9pZCAwIT09ZS54MSYmKGUueD1lLngxKTt2b2lkIDAhPT1lLnkxJiYoZS55PWUueTEpO3JldHVybiBlfWZ1bmN0aW9uIFMoYSxlKXthW2UtMV18fChhW2UtMV09e246ZSxkaXJlY3Rpb246YT09QT9cInhcIjpcInlcIixvcHRpb25zOm4uZXh0ZW5kKCEwLHt9LGE9PUE/Zi54YXhpczpmLnlheGlzKX0pO3JldHVybiBhW2UtMV19ZnVuY3Rpb24gQihhLGUpe3ZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7Yy5jbGFzc05hbWU9ZTtjLndpZHRoPUY7Yy5oZWlnaHQ9SDthfHxuKGMpLmNzcyh7cG9zaXRpb246XCJhYnNvbHV0ZVwiLGxlZnQ6MCx0b3A6MH0pO24oYykuYXBwZW5kVG8oQyk7Yy5nZXRDb250ZXh0fHwoYz13aW5kb3cuR192bWxDYW52YXNNYW5hZ2VyLmluaXRFbGVtZW50KGMpKTsgYy5nZXRDb250ZXh0KFwiMmRcIikuc2F2ZSgpO3JldHVybiBjfWZ1bmN0aW9uIGVhKCl7Rj1DLndpZHRoKCk7SD1DLmhlaWdodCgpO2lmKDA+PUZ8fDA+PUgpdGhyb3dcIkludmFsaWQgZGltZW5zaW9ucyBmb3IgcGxvdCwgd2lkdGggPSBcIitGK1wiLCBoZWlnaHQgPSBcIitIO31mdW5jdGlvbiBmYShhKXthLndpZHRoIT1GJiYoYS53aWR0aD1GKTthLmhlaWdodCE9SCYmKGEuaGVpZ2h0PUgpO2E9YS5nZXRDb250ZXh0KFwiMmRcIik7YS5yZXN0b3JlKCk7YS5zYXZlKCl9ZnVuY3Rpb24gWihhKXt2YXIgZT1hLmxhYmVsV2lkdGgsYz1hLmxhYmVsSGVpZ2h0LGI9YS5vcHRpb25zLnBvc2l0aW9uLGQ9YS5vcHRpb25zLnRpY2tMZW5ndGgsZz1mLmdyaWQuYXhpc01hcmdpbix5PWYuZ3JpZC5sYWJlbE1hcmdpbix4PVwieFwiPT1hLmRpcmVjdGlvbj9BOkcscD1uLmdyZXAoeCxmdW5jdGlvbihhKXtyZXR1cm4gYSYmYS5vcHRpb25zLnBvc2l0aW9uPT1iJiZhLnJlc2VydmVTcGFjZX0pO24uaW5BcnJheShhLCBwKT09cC5sZW5ndGgtMSYmKGc9MCk7bnVsbD09ZCYmKGQ9XCJmdWxsXCIpO3g9bi5ncmVwKHgsZnVuY3Rpb24oYSl7cmV0dXJuIGEmJmEucmVzZXJ2ZVNwYWNlfSk7eD0wPT1uLmluQXJyYXkoYSx4KTsheCYmXCJmdWxsXCI9PWQmJihkPTUpO2lzTmFOKCtkKXx8KHkrPStkKTtcInhcIj09YS5kaXJlY3Rpb24/KGMrPXksXCJib3R0b21cIj09Yj8oay5ib3R0b20rPWMrZyxhLmJveD17dG9wOkgtay5ib3R0b20saGVpZ2h0OmN9KTooYS5ib3g9e3RvcDprLnRvcCtnLGhlaWdodDpjfSxrLnRvcCs9YytnKSk6KGUrPXksXCJsZWZ0XCI9PWI/KGEuYm94PXtsZWZ0OmsubGVmdCtnLHdpZHRoOmV9LGsubGVmdCs9ZStnKTooay5yaWdodCs9ZStnLGEuYm94PXtsZWZ0OkYtay5yaWdodCx3aWR0aDplfSkpO2EucG9zaXRpb249YjthLnRpY2tMZW5ndGg9ZDthLmJveC5wYWRkaW5nPXk7YS5pbm5lcm1vc3Q9eH1mdW5jdGlvbiBnYSgpe3ZhciBhLGU9eigpO24uZWFjaChlLGZ1bmN0aW9uKGEsYil7Yi5zaG93PWIub3B0aW9ucy5zaG93OyBudWxsPT1iLnNob3cmJihiLnNob3c9Yi51c2VkKTtiLnJlc2VydmVTcGFjZT1iLnNob3d8fGIub3B0aW9ucy5yZXNlcnZlU3BhY2U7dmFyIGM9Yi5vcHRpb25zLGQ9KyhudWxsIT1jLm1pbj9jLm1pbjpiLmRhdGFtaW4pLGU9KyhudWxsIT1jLm1heD9jLm1heDpiLmRhdGFtYXgpLGg9ZS1kO2lmKDA9PWgpe2lmKGg9MD09ZT8xOjAuMDEsbnVsbD09Yy5taW4mJihkLT1oKSxudWxsPT1jLm1heHx8bnVsbCE9Yy5taW4pZSs9aH1lbHNle3ZhciBmPWMuYXV0b3NjYWxlTWFyZ2luO251bGwhPWYmJihudWxsPT1jLm1pbiYmKGQtPWgqZiwwPmQmJihudWxsIT1iLmRhdGFtaW4mJjA8PWIuZGF0YW1pbikmJihkPTApKSxudWxsPT1jLm1heCYmKGUrPWgqZiwwPGUmJihudWxsIT1iLmRhdGFtYXgmJjA+PWIuZGF0YW1heCkmJihlPTApKSl9Yi5taW49ZDtiLm1heD1lfSk7YWxsb2NhdGVkQXhlcz1uLmdyZXAoZSxmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXNlcnZlU3BhY2V9KTtrLmxlZnQ9ay5yaWdodD0gay50b3A9ay5ib3R0b209MDtpZihmLmdyaWQuc2hvdyl7bi5lYWNoKGFsbG9jYXRlZEF4ZXMsZnVuY3Rpb24oYSxiKXt2YXIgYz1iLm9wdGlvbnMsZDtkPVwibnVtYmVyXCI9PXR5cGVvZiBjLnRpY2tzJiYwPGMudGlja3M/Yy50aWNrczowLjMqTWF0aC5zcXJ0KFwieFwiPT1iLmRpcmVjdGlvbj9GOkgpO2Q9KGIubWF4LWIubWluKS9kO3ZhciBlLGgsZixnO2lmKFwidGltZVwiPT1jLm1vZGUpe3ZhciBqPXtzZWNvbmQ6MUUzLG1pbnV0ZTo2RTQsaG91cjozNkU1LGRheTo4NjRFNSxtb250aDoyNTkyRTYseWVhcjo1MjU5NDkuMio2RTR9O2c9W1sxLFwic2Vjb25kXCJdLFsyLFwic2Vjb25kXCJdLFs1LFwic2Vjb25kXCJdLFsxMCxcInNlY29uZFwiXSxbMzAsXCJzZWNvbmRcIl0sWzEsXCJtaW51dGVcIl0sWzIsXCJtaW51dGVcIl0sWzUsXCJtaW51dGVcIl0sWzEwLFwibWludXRlXCJdLFszMCxcIm1pbnV0ZVwiXSxbMSxcImhvdXJcIl0sWzIsXCJob3VyXCJdLFs0LFwiaG91clwiXSxbOCxcImhvdXJcIl0sWzEyLFwiaG91clwiXSxbMSxcImRheVwiXSwgWzIsXCJkYXlcIl0sWzMsXCJkYXlcIl0sWzAuMjUsXCJtb250aFwiXSxbMC41LFwibW9udGhcIl0sWzEsXCJtb250aFwiXSxbMixcIm1vbnRoXCJdLFszLFwibW9udGhcIl0sWzYsXCJtb250aFwiXSxbMSxcInllYXJcIl1dO2U9MDtudWxsIT1jLm1pblRpY2tTaXplJiYoZT1cIm51bWJlclwiPT10eXBlb2YgYy50aWNrU2l6ZT9jLnRpY2tTaXplOmMubWluVGlja1NpemVbMF0qaltjLm1pblRpY2tTaXplWzFdXSk7Zm9yKGg9MDtoPGcubGVuZ3RoLTEmJiEoZDwoZ1toXVswXSpqW2dbaF1bMV1dK2dbaCsxXVswXSpqW2dbaCsxXVsxXV0pLzImJmdbaF1bMF0qaltnW2hdWzFdXT49ZSk7KytoKTtlPWdbaF1bMF07Zj1nW2hdWzFdO1wieWVhclwiPT1mJiYoaD1NYXRoLnBvdygxMCxNYXRoLmZsb29yKE1hdGgubG9nKGQvai55ZWFyKS9NYXRoLkxOMTApKSxnPWQvai55ZWFyL2gsZT0oMS41Pmc/MTozPmc/Mjo3LjU+Zz81OjEwKSpoKTtiLnRpY2tTaXplPWMudGlja1NpemV8fFtlLGZdO2g9ZnVuY3Rpb24oYil7dmFyIGE9W10sYz0gYi50aWNrU2l6ZVswXSxkPWIudGlja1NpemVbMV0sZT1uZXcgRGF0ZShiLm1pbiksZj1jKmpbZF07XCJzZWNvbmRcIj09ZCYmZS5zZXRVVENTZWNvbmRzKE8oZS5nZXRVVENTZWNvbmRzKCksYykpO1wibWludXRlXCI9PWQmJmUuc2V0VVRDTWludXRlcyhPKGUuZ2V0VVRDTWludXRlcygpLGMpKTtcImhvdXJcIj09ZCYmZS5zZXRVVENIb3VycyhPKGUuZ2V0VVRDSG91cnMoKSxjKSk7XCJtb250aFwiPT1kJiZlLnNldFVUQ01vbnRoKE8oZS5nZXRVVENNb250aCgpLGMpKTtcInllYXJcIj09ZCYmZS5zZXRVVENGdWxsWWVhcihPKGUuZ2V0VVRDRnVsbFllYXIoKSxjKSk7ZS5zZXRVVENNaWxsaXNlY29uZHMoMCk7Zj49ai5taW51dGUmJmUuc2V0VVRDU2Vjb25kcygwKTtmPj1qLmhvdXImJmUuc2V0VVRDTWludXRlcygwKTtmPj1qLmRheSYmZS5zZXRVVENIb3VycygwKTtmPj00KmouZGF5JiZlLnNldFVUQ0RhdGUoMSk7Zj49ai55ZWFyJiZlLnNldFVUQ01vbnRoKDApO3ZhciBnPTAsaD1OdW1iZXIuTmFOLCBxO2RvIGlmKHE9aCxoPWUuZ2V0VGltZSgpLGEucHVzaChoKSxcIm1vbnRoXCI9PWQpaWYoMT5jKXtlLnNldFVUQ0RhdGUoMSk7dmFyIHQ9ZS5nZXRUaW1lKCk7ZS5zZXRVVENNb250aChlLmdldFVUQ01vbnRoKCkrMSk7dmFyIGw9ZS5nZXRUaW1lKCk7ZS5zZXRUaW1lKGgrZypqLmhvdXIrKGwtdCkqYyk7Zz1lLmdldFVUQ0hvdXJzKCk7ZS5zZXRVVENIb3VycygwKX1lbHNlIGUuc2V0VVRDTW9udGgoZS5nZXRVVENNb250aCgpK2MpO2Vsc2VcInllYXJcIj09ZD9lLnNldFVUQ0Z1bGxZZWFyKGUuZ2V0VVRDRnVsbFllYXIoKStjKTplLnNldFRpbWUoaCtmKTt3aGlsZShoPGIubWF4JiZoIT1xKTtyZXR1cm4gYX07ZT1mdW5jdGlvbihiLGEpe3ZhciBlPW5ldyBEYXRlKGIpO2lmKG51bGwhPWMudGltZWZvcm1hdClyZXR1cm4gbi5wbG90LmZvcm1hdERhdGUoZSxjLnRpbWVmb3JtYXQsYy5tb250aE5hbWVzKTt2YXIgZD1hLnRpY2tTaXplWzBdKmpbYS50aWNrU2l6ZVsxXV0sZj1hLm1heC1hLm1pbiwgZz1jLnR3ZWx2ZUhvdXJDbG9jaz9cIiAlcFwiOlwiXCI7Zm10PWQ8ai5taW51dGU/XCIlaDolTTolU1wiK2c6ZDxqLmRheT9mPDIqai5kYXk/XCIlaDolTVwiK2c6XCIlYiAlZCAlaDolTVwiK2c6ZDxqLm1vbnRoP1wiJWIgJWRcIjpkPGoueWVhcj9mPGoueWVhcj9cIiViXCI6XCIlYiAleVwiOlwiJXlcIjtyZXR1cm4gbi5wbG90LmZvcm1hdERhdGUoZSxmbXQsYy5tb250aE5hbWVzKX19ZWxzZXtmPWMudGlja0RlY2ltYWxzO3ZhciBxPS1NYXRoLmZsb29yKE1hdGgubG9nKGQpL01hdGguTE4xMCk7bnVsbCE9ZiYmcT5mJiYocT1mKTtoPU1hdGgucG93KDEwLC1xKTtnPWQvaDtpZigxLjU+ZyllPTE7ZWxzZSBpZigzPmcpe2lmKGU9MiwyLjI1PGcmJihudWxsPT1mfHxxKzE8PWYpKWU9Mi41LCsrcX1lbHNlIGU9Ny41Pmc/NToxMDtlKj1oO251bGwhPWMubWluVGlja1NpemUmJmU8Yy5taW5UaWNrU2l6ZSYmKGU9Yy5taW5UaWNrU2l6ZSk7Yi50aWNrRGVjaW1hbHM9TWF0aC5tYXgoMCxudWxsIT1mP2Y6cSk7Yi50aWNrU2l6ZT0gYy50aWNrU2l6ZXx8ZTtoPWZ1bmN0aW9uKGIpe3ZhciBhPVtdLGU9TyhiLm1pbixiLnRpY2tTaXplKSxjPTAsZD1OdW1iZXIuTmFOLGY7ZG8gZj1kLGQ9ZStjKmIudGlja1NpemUsYS5wdXNoKGQpLCsrYzt3aGlsZShkPGIubWF4JiZkIT1mKTtyZXR1cm4gYX07ZT1mdW5jdGlvbihiLGEpe3JldHVybiBiLnRvRml4ZWQoYS50aWNrRGVjaW1hbHMpfX1pZihudWxsIT1jLmFsaWduVGlja3NXaXRoQXhpcyl7dmFyIHA9KFwieFwiPT1iLmRpcmVjdGlvbj9BOkcpW2MuYWxpZ25UaWNrc1dpdGhBeGlzLTFdO3AmJihwLnVzZWQmJnAhPWIpJiYoaD1oKGIpLDA8aC5sZW5ndGgmJihudWxsPT1jLm1pbiYmKGIubWluPU1hdGgubWluKGIubWluLGhbMF0pKSxudWxsPT1jLm1heCYmMTxoLmxlbmd0aCYmKGIubWF4PU1hdGgubWF4KGIubWF4LGhbaC5sZW5ndGgtMV0pKSksaD1mdW5jdGlvbihiKXt2YXIgYT1bXSxlLGM7Zm9yKGM9MDtjPHAudGlja3MubGVuZ3RoOysrYyllPShwLnRpY2tzW2NdLnYtcC5taW4pLyAocC5tYXgtcC5taW4pLGU9Yi5taW4rZSooYi5tYXgtYi5taW4pLGEucHVzaChlKTtyZXR1cm4gYX0sXCJ0aW1lXCIhPWIubW9kZSYmbnVsbD09Yy50aWNrRGVjaW1hbHMmJihkPU1hdGgubWF4KDAsLU1hdGguZmxvb3IoTWF0aC5sb2coZCkvTWF0aC5MTjEwKSsxKSxnPWgoYiksMTxnLmxlbmd0aCYmL1xcLi4qMCQvLnRlc3QoKGdbMV0tZ1swXSkudG9GaXhlZChkKSl8fChiLnRpY2tEZWNpbWFscz1kKSkpfWIudGlja0dlbmVyYXRvcj1oO2IudGlja0Zvcm1hdHRlcj1uLmlzRnVuY3Rpb24oYy50aWNrRm9ybWF0dGVyKT9mdW5jdGlvbihiLGEpe3JldHVyblwiXCIrYy50aWNrRm9ybWF0dGVyKGIsYSl9OmU7ZT1iLm9wdGlvbnMudGlja3M7ZD1bXTtudWxsPT1lfHxcIm51bWJlclwiPT10eXBlb2YgZSYmMDxlP2Q9Yi50aWNrR2VuZXJhdG9yKGIpOmUmJihkPW4uaXNGdW5jdGlvbihlKT9lKHttaW46Yi5taW4sbWF4OmIubWF4fSk6ZSk7Yi50aWNrcz1bXTtmb3IoZT0wO2U8ZC5sZW5ndGg7KytlKWc9IG51bGwsZj1kW2VdLFwib2JqZWN0XCI9PXR5cGVvZiBmPyhoPStmWzBdLDE8Zi5sZW5ndGgmJihnPWZbMV0pKTpoPStmLG51bGw9PWcmJihnPWIudGlja0Zvcm1hdHRlcihoLGIpKSxpc05hTihoKXx8Yi50aWNrcy5wdXNoKHt2OmgsbGFiZWw6Z30pO2Q9Yi50aWNrcztiLm9wdGlvbnMuYXV0b3NjYWxlTWFyZ2luJiYwPGQubGVuZ3RoJiYobnVsbD09Yi5vcHRpb25zLm1pbiYmKGIubWluPU1hdGgubWluKGIubWluLGRbMF0udikpLG51bGw9PWIub3B0aW9ucy5tYXgmJjE8ZC5sZW5ndGgmJihiLm1heD1NYXRoLm1heChiLm1heCxkW2QubGVuZ3RoLTFdLnYpKSk7ZT1mdW5jdGlvbihhLGUpe3JldHVybiBuKCc8ZGl2IHN0eWxlPVwicG9zaXRpb246YWJzb2x1dGU7dG9wOi0xMDAwMHB4OycrZSsnZm9udC1zaXplOnNtYWxsZXJcIj48ZGl2IGNsYXNzPVwiJytiLmRpcmVjdGlvbitcIkF4aXMgXCIrYi5kaXJlY3Rpb24rYi5uKydBeGlzXCI+JythLmpvaW4oXCJcIikrXCI8L2Rpdj48L2Rpdj5cIikuYXBwZW5kVG8oQyl9OyBmPWIub3B0aW9ucztoPWIudGlja3N8fFtdO2c9W107dmFyIGs7ZD1mLmxhYmVsV2lkdGg7Zj1mLmxhYmVsSGVpZ2h0O2lmKFwieFwiPT1iLmRpcmVjdGlvbil7aWYobnVsbD09ZCYmKGQ9TWF0aC5mbG9vcihGLygwPGgubGVuZ3RoP2gubGVuZ3RoOjEpKSksbnVsbD09Zil7Zz1bXTtmb3IocT0wO3E8aC5sZW5ndGg7KytxKShrPWhbcV0ubGFiZWwpJiZnLnB1c2goJzxkaXYgY2xhc3M9XCJ0aWNrTGFiZWxcIiBzdHlsZT1cImZsb2F0OmxlZnQ7d2lkdGg6JytkKydweFwiPicraytcIjwvZGl2PlwiKTswPGcubGVuZ3RoJiYoZy5wdXNoKCc8ZGl2IHN0eWxlPVwiY2xlYXI6bGVmdFwiPjwvZGl2PicpLGU9ZShnLFwid2lkdGg6MTAwMDBweDtcIiksZj1lLmhlaWdodCgpLGUucmVtb3ZlKCkpfX1lbHNlIGlmKG51bGw9PWR8fG51bGw9PWYpe2ZvcihxPTA7cTxoLmxlbmd0aDsrK3EpKGs9aFtxXS5sYWJlbCkmJmcucHVzaCgnPGRpdiBjbGFzcz1cInRpY2tMYWJlbFwiPicraytcIjwvZGl2PlwiKTswPGcubGVuZ3RoJiYoZT0gZShnLFwiXCIpLG51bGw9PWQmJihkPWUuY2hpbGRyZW4oKS53aWR0aCgpKSxudWxsPT1mJiYoZj1lLmZpbmQoXCJkaXYudGlja0xhYmVsXCIpLmhlaWdodCgpKSxlLnJlbW92ZSgpKX1udWxsPT1kJiYoZD0wKTtudWxsPT1mJiYoZj0wKTtiLmxhYmVsV2lkdGg9ZDtiLmxhYmVsSGVpZ2h0PWZ9KTtmb3IoYT1hbGxvY2F0ZWRBeGVzLmxlbmd0aC0xOzA8PWE7LS1hKVooYWxsb2NhdGVkQXhlc1thXSk7dmFyIGM9Zi5ncmlkLm1pbkJvcmRlck1hcmdpbjtpZihudWxsPT1jKWZvcihhPWM9MDthPHIubGVuZ3RoOysrYSljPU1hdGgubWF4KGMsclthXS5wb2ludHMucmFkaXVzK3JbYV0ucG9pbnRzLmxpbmVXaWR0aC8yKTtmb3IodmFyIGIgaW4gaylrW2JdKz1mLmdyaWQuYm9yZGVyV2lkdGgsa1tiXT1NYXRoLm1heChjLGtbYl0pfVI9Ri1rLmxlZnQtay5yaWdodDtMPUgtay5ib3R0b20tay50b3A7bi5lYWNoKGUsZnVuY3Rpb24oYixhKXt2YXIgZT1mdW5jdGlvbihhKXtyZXR1cm4gYX0sYyxkLGY9YS5vcHRpb25zLnRyYW5zZm9ybXx8IGUsZz1hLm9wdGlvbnMuaW52ZXJzZVRyYW5zZm9ybTtcInhcIj09YS5kaXJlY3Rpb24/KGM9YS5zY2FsZT1SL01hdGguYWJzKGYoYS5tYXgpLWYoYS5taW4pKSxkPU1hdGgubWluKGYoYS5tYXgpLGYoYS5taW4pKSk6KGM9YS5zY2FsZT1ML01hdGguYWJzKGYoYS5tYXgpLWYoYS5taW4pKSxjPS1jLGQ9TWF0aC5tYXgoZihhLm1heCksZihhLm1pbikpKTthLnAyYz1mPT1lP2Z1bmN0aW9uKGEpe3JldHVybihhLWQpKmN9OmZ1bmN0aW9uKGEpe3JldHVybihmKGEpLWQpKmN9O2EuYzJwPWc/ZnVuY3Rpb24oYSl7cmV0dXJuIGcoZCthL2MpfTpmdW5jdGlvbihhKXtyZXR1cm4gZCthL2N9fSk7aWYoZi5ncmlkLnNob3cpe24uZWFjaChhbGxvY2F0ZWRBeGVzLGZ1bmN0aW9uKGEsYil7XCJ4XCI9PWIuZGlyZWN0aW9uPyhiLmJveC5sZWZ0PWsubGVmdCxiLmJveC53aWR0aD1SKTooYi5ib3gudG9wPWsudG9wLGIuYm94LmhlaWdodD1MKX0pO0MuZmluZChcIi50aWNrTGFiZWxzXCIpLnJlbW92ZSgpO2E9Wyc8ZGl2IGNsYXNzPVwidGlja0xhYmVsc1wiIHN0eWxlPVwiZm9udC1zaXplOnNtYWxsZXJcIj4nXTsgZT16KCk7Zm9yKGM9MDtjPGUubGVuZ3RoOysrYyl7Yj1lW2NdO3ZhciBkPWIuYm94O2lmKGIuc2hvdyl7YS5wdXNoKCc8ZGl2IGNsYXNzPVwiJytiLmRpcmVjdGlvbitcIkF4aXMgXCIrYi5kaXJlY3Rpb24rYi5uKydBeGlzXCIgc3R5bGU9XCJjb2xvcjonK2Iub3B0aW9ucy5jb2xvcisnXCI+Jyk7Zm9yKHZhciBnPTA7ZzxiLnRpY2tzLmxlbmd0aDsrK2cpe3ZhciB5PWIudGlja3NbZ107aWYoeS5sYWJlbCYmISh5LnY8Yi5taW58fHkudj5iLm1heCkpe3ZhciB4PXt9LHA7XCJ4XCI9PWIuZGlyZWN0aW9uPyhwPVwiY2VudGVyXCIseC5sZWZ0PU1hdGgucm91bmQoay5sZWZ0K2IucDJjKHkudiktYi5sYWJlbFdpZHRoLzIpLFwiYm90dG9tXCI9PWIucG9zaXRpb24/eC50b3A9ZC50b3ArZC5wYWRkaW5nOnguYm90dG9tPUgtKGQudG9wK2QuaGVpZ2h0LWQucGFkZGluZykpOih4LnRvcD1NYXRoLnJvdW5kKGsudG9wK2IucDJjKHkudiktYi5sYWJlbEhlaWdodC8yKSxcImxlZnRcIj09Yi5wb3NpdGlvbj8oeC5yaWdodD0gRi0oZC5sZWZ0K2Qud2lkdGgtZC5wYWRkaW5nKSxwPVwicmlnaHRcIik6KHgubGVmdD1kLmxlZnQrZC5wYWRkaW5nLHA9XCJsZWZ0XCIpKTt4LndpZHRoPWIubGFiZWxXaWR0aDtwPVtcInBvc2l0aW9uOmFic29sdXRlXCIsXCJ0ZXh0LWFsaWduOlwiK3BdO2Zvcih2YXIgaiBpbiB4KXAucHVzaChqK1wiOlwiK3hbal0rXCJweFwiKTthLnB1c2goJzxkaXYgY2xhc3M9XCJ0aWNrTGFiZWxcIiBzdHlsZT1cIicrcC5qb2luKFwiO1wiKSsnXCI+Jyt5LmxhYmVsK1wiPC9kaXY+XCIpfX1hLnB1c2goXCI8L2Rpdj5cIil9fWEucHVzaChcIjwvZGl2PlwiKTtDLmFwcGVuZChhLmpvaW4oXCJcIikpfUMuZmluZChcIi5sZWdlbmRcIikucmVtb3ZlKCk7aWYoZi5sZWdlbmQuc2hvdyl7aj1bXTthPSExO2U9Zi5sZWdlbmQubGFiZWxGb3JtYXR0ZXI7Zm9yKGQ9MDtkPHIubGVuZ3RoOysrZClpZihjPXJbZF0sYj1jLmxhYmVsKTA9PWQlZi5sZWdlbmQubm9Db2x1bW5zJiYoYSYmai5wdXNoKFwiPC90cj5cIiksai5wdXNoKFwiPHRyPlwiKSxhPSEwKSxlJiYgKGI9ZShiLGMpKSxqLnB1c2goJzx0ZCBjbGFzcz1cImxlZ2VuZENvbG9yQm94XCI+PGRpdiBzdHlsZT1cImJvcmRlcjoxcHggc29saWQgJytmLmxlZ2VuZC5sYWJlbEJveEJvcmRlckNvbG9yKyc7cGFkZGluZzoxcHhcIj48ZGl2IHN0eWxlPVwid2lkdGg6NHB4O2hlaWdodDowO2JvcmRlcjo1cHggc29saWQgJytjLmNvbG9yKyc7b3ZlcmZsb3c6aGlkZGVuXCI+PC9kaXY+PC9kaXY+PC90ZD48dGQgY2xhc3M9XCJsZWdlbmRMYWJlbFwiPicrYitcIjwvdGQ+XCIpO2EmJmoucHVzaChcIjwvdHI+XCIpOzAhPWoubGVuZ3RoJiYoYT0nPHRhYmxlIHN0eWxlPVwiZm9udC1zaXplOnNtYWxsZXI7Y29sb3I6JytmLmdyaWQuY29sb3IrJ1wiPicrai5qb2luKFwiXCIpK1wiPC90YWJsZT5cIixudWxsIT1mLmxlZ2VuZC5jb250YWluZXI/bihmLmxlZ2VuZC5jb250YWluZXIpLmh0bWwoYSk6KGo9XCJcIixlPWYubGVnZW5kLnBvc2l0aW9uLGM9Zi5sZWdlbmQubWFyZ2luLG51bGw9PWNbMF0mJihjPVtjLGNdKSxcIm5cIj09ZS5jaGFyQXQoMCk/IGorPVwidG9wOlwiKyhjWzFdK2sudG9wKStcInB4O1wiOlwic1wiPT1lLmNoYXJBdCgwKSYmKGorPVwiYm90dG9tOlwiKyhjWzFdK2suYm90dG9tKStcInB4O1wiKSxcImVcIj09ZS5jaGFyQXQoMSk/ais9XCJyaWdodDpcIisoY1swXStrLnJpZ2h0KStcInB4O1wiOlwid1wiPT1lLmNoYXJBdCgxKSYmKGorPVwibGVmdDpcIisoY1swXStrLmxlZnQpK1wicHg7XCIpLGE9bignPGRpdiBjbGFzcz1cImxlZ2VuZFwiPicrYS5yZXBsYWNlKCdzdHlsZT1cIicsJ3N0eWxlPVwicG9zaXRpb246YWJzb2x1dGU7JytqK1wiO1wiKStcIjwvZGl2PlwiKS5hcHBlbmRUbyhDKSwwIT1mLmxlZ2VuZC5iYWNrZ3JvdW5kT3BhY2l0eSYmKGU9Zi5sZWdlbmQuYmFja2dyb3VuZENvbG9yLG51bGw9PWUmJihlPShlPWYuZ3JpZC5iYWNrZ3JvdW5kQ29sb3IpJiZcInN0cmluZ1wiPT10eXBlb2YgZT9uLmNvbG9yLnBhcnNlKGUpOm4uY29sb3IuZXh0cmFjdChhLFwiYmFja2dyb3VuZC1jb2xvclwiKSxlLmE9MSxlPWUudG9TdHJpbmcoKSksYz1hLmNoaWxkcmVuKCksbignPGRpdiBzdHlsZT1cInBvc2l0aW9uOmFic29sdXRlO3dpZHRoOicrIGMud2lkdGgoKStcInB4O2hlaWdodDpcIitjLmhlaWdodCgpK1wicHg7XCIraitcImJhY2tncm91bmQtY29sb3I6XCIrZSsnO1wiPiA8L2Rpdj4nKS5wcmVwZW5kVG8oYSkuY3NzKFwib3BhY2l0eVwiLGYubGVnZW5kLmJhY2tncm91bmRPcGFjaXR5KSkpKX19ZnVuY3Rpb24gaGEoKXtnLmNsZWFyUmVjdCgwLDAsRixIKTt2YXIgYT1mLmdyaWQ7YS5zaG93JiZhLmJhY2tncm91bmRDb2xvciYmKGcuc2F2ZSgpLGcudHJhbnNsYXRlKGsubGVmdCxrLnRvcCksZy5maWxsU3R5bGU9aWEoZi5ncmlkLmJhY2tncm91bmRDb2xvcixMLDAsXCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDApXCIpLGcuZmlsbFJlY3QoMCwwLFIsTCksZy5yZXN0b3JlKCkpO2Euc2hvdyYmIWEuYWJvdmVEYXRhJiZqYSgpO2Zvcih2YXIgZT0wO2U8ci5sZW5ndGg7KytlKXtJKEouZHJhd1NlcmllcyxbZyxyW2VdXSk7dmFyIGM9cltlXTtjLmxpbmVzLnNob3cmJnNhKGMpO2MuYmFycy5zaG93JiZ0YShjKTtjLnBvaW50cy5zaG93JiZ1YShjKX1JKEouZHJhdywgW2ddKTthLnNob3cmJmEuYWJvdmVEYXRhJiZqYSgpfWZ1bmN0aW9uIGthKGEsZSl7dmFyIGMsYixkLGYsZz16KCk7Zm9yKGk9MDtpPGcubGVuZ3RoOysraSlpZihjPWdbaV0sYy5kaXJlY3Rpb249PWUmJihmPWUrYy5uK1wiYXhpc1wiLCFhW2ZdJiYxPT1jLm4mJihmPWUrXCJheGlzXCIpLGFbZl0pKXtiPWFbZl0uZnJvbTtkPWFbZl0udG87YnJlYWt9YVtmXXx8KGM9XCJ4XCI9PWU/QVswXTpHWzBdLGI9YVtlK1wiMVwiXSxkPWFbZStcIjJcIl0pO251bGwhPWImJihudWxsIT1kJiZiPmQpJiYoZj1iLGI9ZCxkPWYpO3JldHVybntmcm9tOmIsdG86ZCxheGlzOmN9fWZ1bmN0aW9uIGphKCl7dmFyIGE7Zy5zYXZlKCk7Zy50cmFuc2xhdGUoay5sZWZ0LGsudG9wKTt2YXIgZT1mLmdyaWQubWFya2luZ3M7aWYoZSl7aWYobi5pc0Z1bmN0aW9uKGUpKXt2YXIgYz13LmdldEF4ZXMoKTtjLnhtaW49Yy54YXhpcy5taW47Yy54bWF4PWMueGF4aXMubWF4O2MueW1pbj1jLnlheGlzLm1pbjtjLnltYXg9Yy55YXhpcy5tYXg7IGU9ZShjKX1mb3IoYT0wO2E8ZS5sZW5ndGg7KythKXt2YXIgYz1lW2FdLGI9a2EoYyxcInhcIiksZD1rYShjLFwieVwiKTtudWxsPT1iLmZyb20mJihiLmZyb209Yi5heGlzLm1pbik7bnVsbD09Yi50byYmKGIudG89Yi5heGlzLm1heCk7bnVsbD09ZC5mcm9tJiYoZC5mcm9tPWQuYXhpcy5taW4pO251bGw9PWQudG8mJihkLnRvPWQuYXhpcy5tYXgpO2IudG88Yi5heGlzLm1pbnx8KGIuZnJvbT5iLmF4aXMubWF4fHxkLnRvPGQuYXhpcy5taW58fGQuZnJvbT5kLmF4aXMubWF4KXx8KGIuZnJvbT1NYXRoLm1heChiLmZyb20sYi5heGlzLm1pbiksYi50bz1NYXRoLm1pbihiLnRvLGIuYXhpcy5tYXgpLGQuZnJvbT1NYXRoLm1heChkLmZyb20sZC5heGlzLm1pbiksZC50bz1NYXRoLm1pbihkLnRvLGQuYXhpcy5tYXgpLGIuZnJvbT09Yi50byYmZC5mcm9tPT1kLnRvfHwoYi5mcm9tPWIuYXhpcy5wMmMoYi5mcm9tKSxiLnRvPWIuYXhpcy5wMmMoYi50byksZC5mcm9tPWQuYXhpcy5wMmMoZC5mcm9tKSwgZC50bz1kLmF4aXMucDJjKGQudG8pLGIuZnJvbT09Yi50b3x8ZC5mcm9tPT1kLnRvPyhnLmJlZ2luUGF0aCgpLGcuc3Ryb2tlU3R5bGU9Yy5jb2xvcnx8Zi5ncmlkLm1hcmtpbmdzQ29sb3IsZy5saW5lV2lkdGg9Yy5saW5lV2lkdGh8fGYuZ3JpZC5tYXJraW5nc0xpbmVXaWR0aCxnLm1vdmVUbyhiLmZyb20sZC5mcm9tKSxnLmxpbmVUbyhiLnRvLGQudG8pLGcuc3Ryb2tlKCkpOihnLmZpbGxTdHlsZT1jLmNvbG9yfHxmLmdyaWQubWFya2luZ3NDb2xvcixnLmZpbGxSZWN0KGIuZnJvbSxkLnRvLGIudG8tYi5mcm9tLGQuZnJvbS1kLnRvKSkpKX19Yz16KCk7ZT1mLmdyaWQuYm9yZGVyV2lkdGg7Zm9yKGI9MDtiPGMubGVuZ3RoOysrYil7ZD1jW2JdO2E9ZC5ib3g7dmFyIHE9ZC50aWNrTGVuZ3RoLHkseCxwLGo7aWYoZC5zaG93JiYwIT1kLnRpY2tzLmxlbmd0aCl7Zy5zdHJva2VTdHlsZT1kLm9wdGlvbnMudGlja0NvbG9yfHxuLmNvbG9yLnBhcnNlKGQub3B0aW9ucy5jb2xvcikuc2NhbGUoXCJhXCIsIDAuMjIpLnRvU3RyaW5nKCk7Zy5saW5lV2lkdGg9MTtcInhcIj09ZC5kaXJlY3Rpb24/KHk9MCx4PVwiZnVsbFwiPT1xP1widG9wXCI9PWQucG9zaXRpb24/MDpMOmEudG9wLWsudG9wKyhcInRvcFwiPT1kLnBvc2l0aW9uP2EuaGVpZ2h0OjApKTooeD0wLHk9XCJmdWxsXCI9PXE/XCJsZWZ0XCI9PWQucG9zaXRpb24/MDpSOmEubGVmdC1rLmxlZnQrKFwibGVmdFwiPT1kLnBvc2l0aW9uP2Eud2lkdGg6MCkpO2QuaW5uZXJtb3N0fHwoZy5iZWdpblBhdGgoKSxwPWo9MCxcInhcIj09ZC5kaXJlY3Rpb24/cD1SOmo9TCwxPT1nLmxpbmVXaWR0aCYmKHk9TWF0aC5mbG9vcih5KSswLjUseD1NYXRoLmZsb29yKHgpKzAuNSksZy5tb3ZlVG8oeSx4KSxnLmxpbmVUbyh5K3AseCtqKSxnLnN0cm9rZSgpKTtnLmJlZ2luUGF0aCgpO2ZvcihhPTA7YTxkLnRpY2tzLmxlbmd0aDsrK2Epe3ZhciBtPWQudGlja3NbYV0udjtwPWo9MDttPGQubWlufHwobT5kLm1heHx8XCJmdWxsXCI9PXEmJjA8ZSYmKG09PWQubWlufHxtPT1kLm1heCkpfHwgKFwieFwiPT1kLmRpcmVjdGlvbj8oeT1kLnAyYyhtKSxqPVwiZnVsbFwiPT1xPy1MOnEsXCJ0b3BcIj09ZC5wb3NpdGlvbiYmKGo9LWopKTooeD1kLnAyYyhtKSxwPVwiZnVsbFwiPT1xPy1SOnEsXCJsZWZ0XCI9PWQucG9zaXRpb24mJihwPS1wKSksMT09Zy5saW5lV2lkdGgmJihcInhcIj09ZC5kaXJlY3Rpb24/eT1NYXRoLmZsb29yKHkpKzAuNTp4PU1hdGguZmxvb3IoeCkrMC41KSxnLm1vdmVUbyh5LHgpLGcubGluZVRvKHkrcCx4K2opKX1nLnN0cm9rZSgpfX1lJiYoZy5saW5lV2lkdGg9ZSxnLnN0cm9rZVN0eWxlPWYuZ3JpZC5ib3JkZXJDb2xvcixnLnN0cm9rZVJlY3QoLWUvMiwtZS8yLFIrZSxMK2UpKTtnLnJlc3RvcmUoKX1mdW5jdGlvbiBzYShhKXtmdW5jdGlvbiBlKGEsYixlLGMsZCl7dmFyIGY9YS5wb2ludHM7YT1hLnBvaW50c2l6ZTt2YXIgaD1udWxsLGo9bnVsbDtnLmJlZ2luUGF0aCgpO2Zvcih2YXIgcD1hO3A8Zi5sZW5ndGg7cCs9YSl7dmFyIG09ZltwLWFdLGw9ZltwLWErMV0scT1mW3BdLCBrPWZbcCsxXTtpZighKG51bGw9PW18fG51bGw9PXEpKXtpZihsPD1rJiZsPGQubWluKXtpZihrPGQubWluKWNvbnRpbnVlO209KGQubWluLWwpLyhrLWwpKihxLW0pK207bD1kLm1pbn1lbHNlIGlmKGs8PWwmJms8ZC5taW4pe2lmKGw8ZC5taW4pY29udGludWU7cT0oZC5taW4tbCkvKGstbCkqKHEtbSkrbTtrPWQubWlufWlmKGw+PWsmJmw+ZC5tYXgpe2lmKGs+ZC5tYXgpY29udGludWU7bT0oZC5tYXgtbCkvKGstbCkqKHEtbSkrbTtsPWQubWF4fWVsc2UgaWYoaz49bCYmaz5kLm1heCl7aWYobD5kLm1heCljb250aW51ZTtxPShkLm1heC1sKS8oay1sKSoocS1tKSttO2s9ZC5tYXh9aWYobTw9cSYmbTxjLm1pbil7aWYocTxjLm1pbiljb250aW51ZTtsPShjLm1pbi1tKS8ocS1tKSooay1sKStsO209Yy5taW59ZWxzZSBpZihxPD1tJiZxPGMubWluKXtpZihtPGMubWluKWNvbnRpbnVlO2s9KGMubWluLW0pLyhxLW0pKihrLWwpK2w7cT1jLm1pbn1pZihtPj1xJiZtPmMubWF4KXtpZihxPiBjLm1heCljb250aW51ZTtsPShjLm1heC1tKS8ocS1tKSooay1sKStsO209Yy5tYXh9ZWxzZSBpZihxPj1tJiZxPmMubWF4KXtpZihtPmMubWF4KWNvbnRpbnVlO2s9KGMubWF4LW0pLyhxLW0pKihrLWwpK2w7cT1jLm1heH0obSE9aHx8bCE9aikmJmcubW92ZVRvKGMucDJjKG0pK2IsZC5wMmMobCkrZSk7aD1xO2o9aztnLmxpbmVUbyhjLnAyYyhxKStiLGQucDJjKGspK2UpfX1nLnN0cm9rZSgpfWcuc2F2ZSgpO2cudHJhbnNsYXRlKGsubGVmdCxrLnRvcCk7Zy5saW5lSm9pbj1cInJvdW5kXCI7dmFyIGM9YS5saW5lcy5saW5lV2lkdGgsYj1hLnNoYWRvd1NpemU7aWYoMDxjJiYwPGIpe2cubGluZVdpZHRoPWI7Zy5zdHJva2VTdHlsZT1cInJnYmEoMCwwLDAsMC4xKVwiO3ZhciBkPU1hdGguUEkvMTg7ZShhLmRhdGFwb2ludHMsTWF0aC5zaW4oZCkqKGMvMitiLzIpLE1hdGguY29zKGQpKihjLzIrYi8yKSxhLnhheGlzLGEueWF4aXMpO2cubGluZVdpZHRoPWIvMjtlKGEuZGF0YXBvaW50cyxNYXRoLnNpbihkKSogKGMvMitiLzQpLE1hdGguY29zKGQpKihjLzIrYi80KSxhLnhheGlzLGEueWF4aXMpfWcubGluZVdpZHRoPWM7Zy5zdHJva2VTdHlsZT1hLmNvbG9yO2lmKGI9JChhLmxpbmVzLGEuY29sb3IsMCxMKSl7Zy5maWxsU3R5bGU9Yjtmb3IodmFyIGY9YS5kYXRhcG9pbnRzLGI9YS54YXhpcyxkPWEueWF4aXMseT1mLnBvaW50cyxmPWYucG9pbnRzaXplLG49TWF0aC5taW4oTWF0aC5tYXgoMCxkLm1pbiksZC5tYXgpLHA9MCxqPSExLG09MSx0PTAsRT0wOyEoMDxmJiZwPnkubGVuZ3RoK2YpOyl7dmFyIHA9cCtmLGw9eVtwLWZdLHM9eVtwLWYrbV0saD15W3BdLHU9eVtwK21dO2lmKGope2lmKDA8ZiYmbnVsbCE9bCYmbnVsbD09aCl7RT1wO2Y9LWY7bT0yO2NvbnRpbnVlfWlmKDA+ZiYmcD09dCtmKXtnLmZpbGwoKTtqPSExO2Y9LWY7bT0xO3A9dD1FK2Y7Y29udGludWV9fWlmKCEobnVsbD09bHx8bnVsbD09aCkpe2lmKGw8PWgmJmw8Yi5taW4pe2lmKGg8Yi5taW4pY29udGludWU7cz0oYi5taW4tIGwpLyhoLWwpKih1LXMpK3M7bD1iLm1pbn1lbHNlIGlmKGg8PWwmJmg8Yi5taW4pe2lmKGw8Yi5taW4pY29udGludWU7dT0oYi5taW4tbCkvKGgtbCkqKHUtcykrcztoPWIubWlufWlmKGw+PWgmJmw+Yi5tYXgpe2lmKGg+Yi5tYXgpY29udGludWU7cz0oYi5tYXgtbCkvKGgtbCkqKHUtcykrcztsPWIubWF4fWVsc2UgaWYoaD49bCYmaD5iLm1heCl7aWYobD5iLm1heCljb250aW51ZTt1PShiLm1heC1sKS8oaC1sKSoodS1zKStzO2g9Yi5tYXh9anx8KGcuYmVnaW5QYXRoKCksZy5tb3ZlVG8oYi5wMmMobCksZC5wMmMobikpLGo9ITApO2lmKHM+PWQubWF4JiZ1Pj1kLm1heClnLmxpbmVUbyhiLnAyYyhsKSxkLnAyYyhkLm1heCkpLGcubGluZVRvKGIucDJjKGgpLGQucDJjKGQubWF4KSk7ZWxzZSBpZihzPD1kLm1pbiYmdTw9ZC5taW4pZy5saW5lVG8oYi5wMmMobCksZC5wMmMoZC5taW4pKSxnLmxpbmVUbyhiLnAyYyhoKSxkLnAyYyhkLm1pbikpO2Vsc2V7dmFyIHI9bCxDPWg7czw9dSYmIHM8ZC5taW4mJnU+PWQubWluPyhsPShkLm1pbi1zKS8odS1zKSooaC1sKStsLHM9ZC5taW4pOnU8PXMmJih1PGQubWluJiZzPj1kLm1pbikmJihoPShkLm1pbi1zKS8odS1zKSooaC1sKStsLHU9ZC5taW4pO3M+PXUmJnM+ZC5tYXgmJnU8PWQubWF4PyhsPShkLm1heC1zKS8odS1zKSooaC1sKStsLHM9ZC5tYXgpOnU+PXMmJih1PmQubWF4JiZzPD1kLm1heCkmJihoPShkLm1heC1zKS8odS1zKSooaC1sKStsLHU9ZC5tYXgpO2whPXImJmcubGluZVRvKGIucDJjKHIpLGQucDJjKHMpKTtnLmxpbmVUbyhiLnAyYyhsKSxkLnAyYyhzKSk7Zy5saW5lVG8oYi5wMmMoaCksZC5wMmModSkpO2ghPUMmJihnLmxpbmVUbyhiLnAyYyhoKSxkLnAyYyh1KSksZy5saW5lVG8oYi5wMmMoQyksZC5wMmModSkpKX19fX0wPGMmJmUoYS5kYXRhcG9pbnRzLDAsMCxhLnhheGlzLGEueWF4aXMpO2cucmVzdG9yZSgpfWZ1bmN0aW9uIHVhKGEpe2Z1bmN0aW9uIGUoYSxiLGMsZSxkLGYsayxsKXt2YXIgcT1hLnBvaW50czsgYT1hLnBvaW50c2l6ZTtmb3IodmFyIGg9MDtoPHEubGVuZ3RoO2grPWEpe3ZhciBuPXFbaF0scj1xW2grMV07bnVsbD09bnx8KG48Zi5taW58fG4+Zi5tYXh8fHI8ay5taW58fHI+ay5tYXgpfHwoZy5iZWdpblBhdGgoKSxuPWYucDJjKG4pLHI9ay5wMmMocikrZSxcImNpcmNsZVwiPT1sP2cuYXJjKG4scixiLDAsZD9NYXRoLlBJOjIqTWF0aC5QSSwhMSk6bChnLG4scixiLGQpLGcuY2xvc2VQYXRoKCksYyYmKGcuZmlsbFN0eWxlPWMsZy5maWxsKCkpLGcuc3Ryb2tlKCkpfX1nLnNhdmUoKTtnLnRyYW5zbGF0ZShrLmxlZnQsay50b3ApO3ZhciBjPWEucG9pbnRzLmxpbmVXaWR0aCxiPWEuc2hhZG93U2l6ZSxkPWEucG9pbnRzLnJhZGl1cyxmPWEucG9pbnRzLnN5bWJvbDswPGMmJjA8YiYmKGIvPTIsZy5saW5lV2lkdGg9YixnLnN0cm9rZVN0eWxlPVwicmdiYSgwLDAsMCwwLjEpXCIsZShhLmRhdGFwb2ludHMsZCxudWxsLGIrYi8yLCEwLGEueGF4aXMsYS55YXhpcyxmKSxnLnN0cm9rZVN0eWxlPSBcInJnYmEoMCwwLDAsMC4yKVwiLGUoYS5kYXRhcG9pbnRzLGQsbnVsbCxiLzIsITAsYS54YXhpcyxhLnlheGlzLGYpKTtnLmxpbmVXaWR0aD1jO2cuc3Ryb2tlU3R5bGU9YS5jb2xvcjtlKGEuZGF0YXBvaW50cyxkLCQoYS5wb2ludHMsYS5jb2xvciksMCwhMSxhLnhheGlzLGEueWF4aXMsZik7Zy5yZXN0b3JlKCl9ZnVuY3Rpb24gbGEoYSxlLGMsYixkLGYsZyxrLHAsaixtLG4pe3ZhciByLGwscyxoO20/KGg9bD1zPSEwLHI9ITEsbT1jLGM9ZStiLGQ9ZStkLGE8bSYmKGU9YSxhPW0sbT1lLHI9ITAsbD0hMSkpOihyPWw9cz0hMCxoPSExLG09YStiLGErPWQsZD1jLGM9ZSxjPGQmJihlPWMsYz1kLGQ9ZSxoPSEwLHM9ITEpKTtpZighKGE8ay5taW58fG0+ay5tYXh8fGM8cC5taW58fGQ+cC5tYXgpKWlmKG08ay5taW4mJihtPWsubWluLHI9ITEpLGE+ay5tYXgmJihhPWsubWF4LGw9ITEpLGQ8cC5taW4mJihkPXAubWluLGg9ITEpLGM+cC5tYXgmJihjPXAubWF4LHM9ITEpLG09ay5wMmMobSksIGQ9cC5wMmMoZCksYT1rLnAyYyhhKSxjPXAucDJjKGMpLGcmJihqLmJlZ2luUGF0aCgpLGoubW92ZVRvKG0sZCksai5saW5lVG8obSxjKSxqLmxpbmVUbyhhLGMpLGoubGluZVRvKGEsZCksai5maWxsU3R5bGU9ZyhkLGMpLGouZmlsbCgpKSwwPG4mJihyfHxsfHxzfHxoKSlqLmJlZ2luUGF0aCgpLGoubW92ZVRvKG0sZCtmKSxyP2oubGluZVRvKG0sYytmKTpqLm1vdmVUbyhtLGMrZikscz9qLmxpbmVUbyhhLGMrZik6ai5tb3ZlVG8oYSxjK2YpLGw/ai5saW5lVG8oYSxkK2YpOmoubW92ZVRvKGEsZCtmKSxoP2oubGluZVRvKG0sZCtmKTpqLm1vdmVUbyhtLGQrZiksai5zdHJva2UoKX1mdW5jdGlvbiB0YShhKXtnLnNhdmUoKTtnLnRyYW5zbGF0ZShrLmxlZnQsay50b3ApO2cubGluZVdpZHRoPWEuYmFycy5saW5lV2lkdGg7Zy5zdHJva2VTdHlsZT1hLmNvbG9yO2Zvcih2YXIgZT1cImxlZnRcIj09YS5iYXJzLmFsaWduPzA6LWEuYmFycy5iYXJXaWR0aC8yLGM9YS5kYXRhcG9pbnRzLGI9IGUrYS5iYXJzLmJhcldpZHRoLGQ9YS5iYXJzLmZpbGw/ZnVuY3Rpb24oYixjKXtyZXR1cm4gJChhLmJhcnMsYS5jb2xvcixiLGMpfTpudWxsLGY9YS54YXhpcyxuPWEueWF4aXMscj1jLnBvaW50cyxjPWMucG9pbnRzaXplLHA9MDtwPHIubGVuZ3RoO3ArPWMpbnVsbCE9cltwXSYmbGEocltwXSxyW3ArMV0scltwKzJdLGUsYiwwLGQsZixuLGcsYS5iYXJzLmhvcml6b250YWwsYS5iYXJzLmxpbmVXaWR0aCk7Zy5yZXN0b3JlKCl9ZnVuY3Rpb24gJChhLGUsYyxiKXt2YXIgZD1hLmZpbGw7aWYoIWQpcmV0dXJuIG51bGw7aWYoYS5maWxsQ29sb3IpcmV0dXJuIGlhKGEuZmlsbENvbG9yLGMsYixlKTthPW4uY29sb3IucGFyc2UoZSk7YS5hPVwibnVtYmVyXCI9PXR5cGVvZiBkP2Q6MC40O2Eubm9ybWFsaXplKCk7cmV0dXJuIGEudG9TdHJpbmcoKX1mdW5jdGlvbiBtYShhKXtmLmdyaWQuaG92ZXJhYmxlJiZhYShcInBsb3Rob3ZlclwiLGEsZnVuY3Rpb24oYSl7cmV0dXJuITEhPWEuaG92ZXJhYmxlfSl9IGZ1bmN0aW9uIG5hKGEpe2YuZ3JpZC5ob3ZlcmFibGUmJmFhKFwicGxvdGhvdmVyXCIsYSxmdW5jdGlvbigpe3JldHVybiExfSl9ZnVuY3Rpb24gb2EoYSl7YWEoXCJwbG90Y2xpY2tcIixhLGZ1bmN0aW9uKGEpe3JldHVybiExIT1hLmNsaWNrYWJsZX0pfWZ1bmN0aW9uIGFhKGEsZSxjKXt2YXIgYj1LLm9mZnNldCgpLGQ9ZS5wYWdlWC1iLmxlZnQtay5sZWZ0LGc9ZS5wYWdlWS1iLnRvcC1rLnRvcCxuPVcoe2xlZnQ6ZCx0b3A6Z30pO24ucGFnZVg9ZS5wYWdlWDtuLnBhZ2VZPWUucGFnZVk7ZT1mLmdyaWQubW91c2VBY3RpdmVSYWRpdXM7dmFyIHg9ZSplKzEscD1udWxsLGosbTtmb3Ioaj1yLmxlbmd0aC0xOzA8PWo7LS1qKWlmKGMocltqXSkpe3ZhciB0PXJbal0sdj10LnhheGlzLGw9dC55YXhpcyxzPXQuZGF0YXBvaW50cy5wb2ludHMsaD10LmRhdGFwb2ludHMucG9pbnRzaXplLHU9di5jMnAoZCksdz1sLmMycChnKSxCPWUvdi5zY2FsZSxEPWUvbC5zY2FsZTt2Lm9wdGlvbnMuaW52ZXJzZVRyYW5zZm9ybSYmIChCPU51bWJlci5NQVhfVkFMVUUpO2wub3B0aW9ucy5pbnZlcnNlVHJhbnNmb3JtJiYoRD1OdW1iZXIuTUFYX1ZBTFVFKTtpZih0LmxpbmVzLnNob3d8fHQucG9pbnRzLnNob3cpZm9yKG09MDttPHMubGVuZ3RoO20rPWgpe3ZhciBBPXNbbV0sej1zW20rMV07aWYobnVsbCE9QSYmIShBLXU+Qnx8QS11PC1CfHx6LXc+RHx8ei13PC1EKSlBPU1hdGguYWJzKHYucDJjKEEpLWQpLHo9TWF0aC5hYnMobC5wMmMoeiktZyksej1BKkEreip6LHo8eCYmKHg9eixwPVtqLG0vaF0pfWlmKHQuYmFycy5zaG93JiYhcCl7dj1cImxlZnRcIj09dC5iYXJzLmFsaWduPzA6LXQuYmFycy5iYXJXaWR0aC8yO3Q9dit0LmJhcnMuYmFyV2lkdGg7Zm9yKG09MDttPHMubGVuZ3RoO20rPWgpaWYoQT1zW21dLHo9c1ttKzFdLGw9c1ttKzJdLG51bGwhPUEmJihyW2pdLmJhcnMuaG9yaXpvbnRhbD91PD1NYXRoLm1heChsLEEpJiZ1Pj1NYXRoLm1pbihsLEEpJiZ3Pj16K3YmJnc8PXordDp1Pj1BK3YmJnU8PUErdCYmIHc+PU1hdGgubWluKGwseikmJnc8PU1hdGgubWF4KGwseikpKXA9W2osbS9oXX19cD8oaj1wWzBdLG09cFsxXSxoPXJbal0uZGF0YXBvaW50cy5wb2ludHNpemUsYz17ZGF0YXBvaW50OnJbal0uZGF0YXBvaW50cy5wb2ludHMuc2xpY2UobSpoLChtKzEpKmgpLGRhdGFJbmRleDptLHNlcmllczpyW2pdLHNlcmllc0luZGV4Omp9KTpjPW51bGw7YyYmKGMucGFnZVg9cGFyc2VJbnQoYy5zZXJpZXMueGF4aXMucDJjKGMuZGF0YXBvaW50WzBdKStiLmxlZnQray5sZWZ0KSxjLnBhZ2VZPXBhcnNlSW50KGMuc2VyaWVzLnlheGlzLnAyYyhjLmRhdGFwb2ludFsxXSkrYi50b3Aray50b3ApKTtpZihmLmdyaWQuYXV0b0hpZ2hsaWdodCl7Zm9yKGI9MDtiPFAubGVuZ3RoOysrYilkPVBbYl0sZC5hdXRvPT1hJiYoIWN8fCEoZC5zZXJpZXM9PWMuc2VyaWVzJiZkLnBvaW50WzBdPT1jLmRhdGFwb2ludFswXSYmZC5wb2ludFsxXT09Yy5kYXRhcG9pbnRbMV0pKSYmcGEoZC5zZXJpZXMsZC5wb2ludCk7IGMmJnFhKGMuc2VyaWVzLGMuZGF0YXBvaW50LGEpfUMudHJpZ2dlcihhLFtuLGNdKX1mdW5jdGlvbiBZKCl7WHx8KFg9c2V0VGltZW91dCh2YSwzMCkpfWZ1bmN0aW9uIHZhKCl7WD1udWxsO0Quc2F2ZSgpO0QuY2xlYXJSZWN0KDAsMCxGLEgpO0QudHJhbnNsYXRlKGsubGVmdCxrLnRvcCk7dmFyIGEsZTtmb3IoYT0wO2E8UC5sZW5ndGg7KythKWlmKGU9UFthXSxlLnNlcmllcy5iYXJzLnNob3cpd2EoZS5zZXJpZXMsZS5wb2ludCk7ZWxzZXt2YXIgYz1lLnNlcmllcyxiPWUucG9pbnQ7ZT1iWzBdO3ZhciBiPWJbMV0sZD1jLnhheGlzLGY9Yy55YXhpcztpZighKGU8ZC5taW58fGU+ZC5tYXh8fGI8Zi5taW58fGI+Zi5tYXgpKXt2YXIgZz1jLnBvaW50cy5yYWRpdXMrYy5wb2ludHMubGluZVdpZHRoLzI7RC5saW5lV2lkdGg9ZztELnN0cm9rZVN0eWxlPW4uY29sb3IucGFyc2UoYy5jb2xvcikuc2NhbGUoXCJhXCIsMC41KS50b1N0cmluZygpO2cqPTEuNTtlPWQucDJjKGUpO2I9Zi5wMmMoYik7IEQuYmVnaW5QYXRoKCk7XCJjaXJjbGVcIj09Yy5wb2ludHMuc3ltYm9sP0QuYXJjKGUsYixnLDAsMipNYXRoLlBJLCExKTpjLnBvaW50cy5zeW1ib2woRCxlLGIsZywhMSk7RC5jbG9zZVBhdGgoKTtELnN0cm9rZSgpfX1ELnJlc3RvcmUoKTtJKEouZHJhd092ZXJsYXksW0RdKX1mdW5jdGlvbiBxYShhLGUsYyl7XCJudW1iZXJcIj09dHlwZW9mIGEmJihhPXJbYV0pO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlKXt2YXIgYj1hLmRhdGFwb2ludHMucG9pbnRzaXplO2U9YS5kYXRhcG9pbnRzLnBvaW50cy5zbGljZShiKmUsYiooZSsxKSl9Yj1yYShhLGUpOy0xPT1iPyhQLnB1c2goe3NlcmllczphLHBvaW50OmUsYXV0bzpjfSksWSgpKTpjfHwoUFtiXS5hdXRvPSExKX1mdW5jdGlvbiBwYShhLGUpe251bGw9PWEmJm51bGw9PWUmJihQPVtdLFkoKSk7XCJudW1iZXJcIj09dHlwZW9mIGEmJihhPXJbYV0pO1wibnVtYmVyXCI9PXR5cGVvZiBlJiYoZT1hLmRhdGFbZV0pO3ZhciBjPXJhKGEsZSk7LTEhPWMmJihQLnNwbGljZShjLCAxKSxZKCkpfWZ1bmN0aW9uIHJhKGEsZSl7Zm9yKHZhciBjPTA7YzxQLmxlbmd0aDsrK2Mpe3ZhciBiPVBbY107aWYoYi5zZXJpZXM9PWEmJmIucG9pbnRbMF09PWVbMF0mJmIucG9pbnRbMV09PWVbMV0pcmV0dXJuIGN9cmV0dXJuLTF9ZnVuY3Rpb24gd2EoYSxlKXtELmxpbmVXaWR0aD1hLmJhcnMubGluZVdpZHRoO0Quc3Ryb2tlU3R5bGU9bi5jb2xvci5wYXJzZShhLmNvbG9yKS5zY2FsZShcImFcIiwwLjUpLnRvU3RyaW5nKCk7dmFyIGM9bi5jb2xvci5wYXJzZShhLmNvbG9yKS5zY2FsZShcImFcIiwwLjUpLnRvU3RyaW5nKCksYj1cImxlZnRcIj09YS5iYXJzLmFsaWduPzA6LWEuYmFycy5iYXJXaWR0aC8yO2xhKGVbMF0sZVsxXSxlWzJdfHwwLGIsYithLmJhcnMuYmFyV2lkdGgsMCxmdW5jdGlvbigpe3JldHVybiBjfSxhLnhheGlzLGEueWF4aXMsRCxhLmJhcnMuaG9yaXpvbnRhbCxhLmJhcnMubGluZVdpZHRoKX1mdW5jdGlvbiBpYShhLGUsYyxiKXtpZihcInN0cmluZ1wiPT10eXBlb2YgYSlyZXR1cm4gYTsgZT1nLmNyZWF0ZUxpbmVhckdyYWRpZW50KDAsYywwLGUpO2M9MDtmb3IodmFyIGQ9YS5jb2xvcnMubGVuZ3RoO2M8ZDsrK2Mpe3ZhciBmPWEuY29sb3JzW2NdO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBmKXt2YXIgaz1uLmNvbG9yLnBhcnNlKGIpO251bGwhPWYuYnJpZ2h0bmVzcyYmKGs9ay5zY2FsZShcInJnYlwiLGYuYnJpZ2h0bmVzcykpO251bGwhPWYub3BhY2l0eSYmKGsuYSo9Zi5vcGFjaXR5KTtmPWsudG9TdHJpbmcoKX1lLmFkZENvbG9yU3RvcChjLyhkLTEpLGYpfXJldHVybiBlfXZhciByPVtdLGY9e2NvbG9yczpbXCIjZWRjMjQwXCIsXCIjYWZkOGY4XCIsXCIjY2I0YjRiXCIsXCIjNGRhNzRkXCIsXCIjOTQ0MGVkXCJdLGxlZ2VuZDp7c2hvdzohMCxub0NvbHVtbnM6MSxsYWJlbEZvcm1hdHRlcjpudWxsLGxhYmVsQm94Qm9yZGVyQ29sb3I6XCIjY2NjXCIsY29udGFpbmVyOm51bGwscG9zaXRpb246XCJuZVwiLG1hcmdpbjo1LGJhY2tncm91bmRDb2xvcjpudWxsLGJhY2tncm91bmRPcGFjaXR5OjAuODV9LCB4YXhpczp7c2hvdzpudWxsLHBvc2l0aW9uOlwiYm90dG9tXCIsbW9kZTpudWxsLGNvbG9yOm51bGwsdGlja0NvbG9yOm51bGwsdHJhbnNmb3JtOm51bGwsaW52ZXJzZVRyYW5zZm9ybTpudWxsLG1pbjpudWxsLG1heDpudWxsLGF1dG9zY2FsZU1hcmdpbjpudWxsLHRpY2tzOm51bGwsdGlja0Zvcm1hdHRlcjpudWxsLGxhYmVsV2lkdGg6bnVsbCxsYWJlbEhlaWdodDpudWxsLHJlc2VydmVTcGFjZTpudWxsLHRpY2tMZW5ndGg6bnVsbCxhbGlnblRpY2tzV2l0aEF4aXM6bnVsbCx0aWNrRGVjaW1hbHM6bnVsbCx0aWNrU2l6ZTpudWxsLG1pblRpY2tTaXplOm51bGwsbW9udGhOYW1lczpudWxsLHRpbWVmb3JtYXQ6bnVsbCx0d2VsdmVIb3VyQ2xvY2s6ITF9LHlheGlzOnthdXRvc2NhbGVNYXJnaW46MC4wMixwb3NpdGlvbjpcImxlZnRcIn0seGF4ZXM6W10seWF4ZXM6W10sc2VyaWVzOntwb2ludHM6e3Nob3c6ITEscmFkaXVzOjMsbGluZVdpZHRoOjIsZmlsbDohMCxmaWxsQ29sb3I6XCIjZmZmZmZmXCIsIHN5bWJvbDpcImNpcmNsZVwifSxsaW5lczp7bGluZVdpZHRoOjIsZmlsbDohMSxmaWxsQ29sb3I6bnVsbCxzdGVwczohMX0sYmFyczp7c2hvdzohMSxsaW5lV2lkdGg6MixiYXJXaWR0aDoxLGZpbGw6ITAsZmlsbENvbG9yOm51bGwsYWxpZ246XCJsZWZ0XCIsaG9yaXpvbnRhbDohMX0sc2hhZG93U2l6ZTozfSxncmlkOntzaG93OiEwLGFib3ZlRGF0YTohMSxjb2xvcjpcIiM1NDU0NTRcIixiYWNrZ3JvdW5kQ29sb3I6bnVsbCxib3JkZXJDb2xvcjpudWxsLHRpY2tDb2xvcjpudWxsLGxhYmVsTWFyZ2luOjUsYXhpc01hcmdpbjo4LGJvcmRlcldpZHRoOjIsbWluQm9yZGVyTWFyZ2luOm51bGwsbWFya2luZ3M6bnVsbCxtYXJraW5nc0NvbG9yOlwiI2Y0ZjRmNFwiLG1hcmtpbmdzTGluZVdpZHRoOjIsY2xpY2thYmxlOiExLGhvdmVyYWJsZTohMSxhdXRvSGlnaGxpZ2h0OiEwLG1vdXNlQWN0aXZlUmFkaXVzOjEwfSxob29rczp7fX0sVT1udWxsLFY9bnVsbCxLPW51bGwsZz1udWxsLEQ9bnVsbCxBPVtdLCBHPVtdLGs9e2xlZnQ6MCxyaWdodDowLHRvcDowLGJvdHRvbTowfSxGPTAsSD0wLFI9MCxMPTAsSj17cHJvY2Vzc09wdGlvbnM6W10scHJvY2Vzc1Jhd0RhdGE6W10scHJvY2Vzc0RhdGFwb2ludHM6W10sZHJhd1NlcmllczpbXSxkcmF3OltdLGJpbmRFdmVudHM6W10sZHJhd092ZXJsYXk6W10sc2h1dGRvd246W119LHc9dGhpczt3LnNldERhdGE9ZGE7dy5zZXR1cEdyaWQ9Z2E7dy5kcmF3PWhhO3cuZ2V0UGxhY2Vob2xkZXI9ZnVuY3Rpb24oKXtyZXR1cm4gQ307dy5nZXRDYW52YXM9ZnVuY3Rpb24oKXtyZXR1cm4gVX07dy5nZXRQbG90T2Zmc2V0PWZ1bmN0aW9uKCl7cmV0dXJuIGt9O3cud2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gUn07dy5oZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gTH07dy5vZmZzZXQ9ZnVuY3Rpb24oKXt2YXIgYT1LLm9mZnNldCgpO2EubGVmdCs9ay5sZWZ0O2EudG9wKz1rLnRvcDtyZXR1cm4gYX07dy5nZXREYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHJ9O3cuZ2V0QXhlcz0gZnVuY3Rpb24oKXt2YXIgYT17fTtuLmVhY2goQS5jb25jYXQoRyksZnVuY3Rpb24oZSxjKXtjJiYoYVtjLmRpcmVjdGlvbisoMSE9Yy5uP2MubjpcIlwiKStcImF4aXNcIl09Yyl9KTtyZXR1cm4gYX07dy5nZXRYQXhlcz1mdW5jdGlvbigpe3JldHVybiBBfTt3LmdldFlBeGVzPWZ1bmN0aW9uKCl7cmV0dXJuIEd9O3cuYzJwPVc7dy5wMmM9ZnVuY3Rpb24oYSl7dmFyIGU9e30sYyxiLGQ7Zm9yKGM9MDtjPEEubGVuZ3RoOysrYylpZigoYj1BW2NdKSYmYi51c2VkKWlmKGQ9XCJ4XCIrYi5uLG51bGw9PWFbZF0mJjE9PWIubiYmKGQ9XCJ4XCIpLG51bGwhPWFbZF0pe2UubGVmdD1iLnAyYyhhW2RdKTticmVha31mb3IoYz0wO2M8Ry5sZW5ndGg7KytjKWlmKChiPUdbY10pJiZiLnVzZWQpaWYoZD1cInlcIitiLm4sbnVsbD09YVtkXSYmMT09Yi5uJiYoZD1cInlcIiksbnVsbCE9YVtkXSl7ZS50b3A9Yi5wMmMoYVtkXSk7YnJlYWt9cmV0dXJuIGV9O3cuZ2V0T3B0aW9ucz1mdW5jdGlvbigpe3JldHVybiBmfTt3LmhpZ2hsaWdodD0gcWE7dy51bmhpZ2hsaWdodD1wYTt3LnRyaWdnZXJSZWRyYXdPdmVybGF5PVk7dy5wb2ludE9mZnNldD1mdW5jdGlvbihhKXtyZXR1cm57bGVmdDpwYXJzZUludChBW1EoYSxcInhcIiktMV0ucDJjKCthLngpK2subGVmdCksdG9wOnBhcnNlSW50KEdbUShhLFwieVwiKS0xXS5wMmMoK2EueSkray50b3ApfX07dy5zaHV0ZG93bj1mdW5jdGlvbigpe1gmJmNsZWFyVGltZW91dChYKTtLLnVuYmluZChcIm1vdXNlbW92ZVwiLG1hKTtLLnVuYmluZChcIm1vdXNlbGVhdmVcIixuYSk7Sy51bmJpbmQoXCJjbGlja1wiLG9hKTtJKEouc2h1dGRvd24sW0tdKX07dy5yZXNpemU9ZnVuY3Rpb24oKXtlYSgpO2ZhKFUpO2ZhKFYpfTt3Lmhvb2tzPUo7Zm9yKHZhciBiYT0wO2JhPFQubGVuZ3RoOysrYmEpe3ZhciBjYT1UW2JhXTtjYS5pbml0KHcpO2NhLm9wdGlvbnMmJm4uZXh0ZW5kKCEwLGYsY2Eub3B0aW9ucyl9bi5leHRlbmQoITAsZix2KTtudWxsPT1mLnhheGlzLmNvbG9yJiYoZi54YXhpcy5jb2xvcj1mLmdyaWQuY29sb3IpOyBudWxsPT1mLnlheGlzLmNvbG9yJiYoZi55YXhpcy5jb2xvcj1mLmdyaWQuY29sb3IpO251bGw9PWYueGF4aXMudGlja0NvbG9yJiYoZi54YXhpcy50aWNrQ29sb3I9Zi5ncmlkLnRpY2tDb2xvcik7bnVsbD09Zi55YXhpcy50aWNrQ29sb3ImJihmLnlheGlzLnRpY2tDb2xvcj1mLmdyaWQudGlja0NvbG9yKTtudWxsPT1mLmdyaWQuYm9yZGVyQ29sb3ImJihmLmdyaWQuYm9yZGVyQ29sb3I9Zi5ncmlkLmNvbG9yKTtudWxsPT1mLmdyaWQudGlja0NvbG9yJiYoZi5ncmlkLnRpY2tDb2xvcj1uLmNvbG9yLnBhcnNlKGYuZ3JpZC5jb2xvcikuc2NhbGUoXCJhXCIsMC4yMikudG9TdHJpbmcoKSk7Zm9yKHY9MDt2PE1hdGgubWF4KDEsZi54YXhlcy5sZW5ndGgpOysrdilmLnhheGVzW3ZdPW4uZXh0ZW5kKCEwLHt9LGYueGF4aXMsZi54YXhlc1t2XSk7Zm9yKHY9MDt2PE1hdGgubWF4KDEsZi55YXhlcy5sZW5ndGgpOysrdilmLnlheGVzW3ZdPW4uZXh0ZW5kKCEwLHt9LGYueWF4aXMsZi55YXhlc1t2XSk7IGYueGF4aXMubm9UaWNrcyYmbnVsbD09Zi54YXhpcy50aWNrcyYmKGYueGF4aXMudGlja3M9Zi54YXhpcy5ub1RpY2tzKTtmLnlheGlzLm5vVGlja3MmJm51bGw9PWYueWF4aXMudGlja3MmJihmLnlheGlzLnRpY2tzPWYueWF4aXMubm9UaWNrcyk7Zi54MmF4aXMmJihmLnhheGVzWzFdPW4uZXh0ZW5kKCEwLHt9LGYueGF4aXMsZi54MmF4aXMpLGYueGF4ZXNbMV0ucG9zaXRpb249XCJ0b3BcIik7Zi55MmF4aXMmJihmLnlheGVzWzFdPW4uZXh0ZW5kKCEwLHt9LGYueWF4aXMsZi55MmF4aXMpLGYueWF4ZXNbMV0ucG9zaXRpb249XCJyaWdodFwiKTtmLmdyaWQuY29sb3JlZEFyZWFzJiYoZi5ncmlkLm1hcmtpbmdzPWYuZ3JpZC5jb2xvcmVkQXJlYXMpO2YuZ3JpZC5jb2xvcmVkQXJlYXNDb2xvciYmKGYuZ3JpZC5tYXJraW5nc0NvbG9yPWYuZ3JpZC5jb2xvcmVkQXJlYXNDb2xvcik7Zi5saW5lcyYmbi5leHRlbmQoITAsZi5zZXJpZXMubGluZXMsZi5saW5lcyk7Zi5wb2ludHMmJm4uZXh0ZW5kKCEwLCBmLnNlcmllcy5wb2ludHMsZi5wb2ludHMpO2YuYmFycyYmbi5leHRlbmQoITAsZi5zZXJpZXMuYmFycyxmLmJhcnMpO251bGwhPWYuc2hhZG93U2l6ZSYmKGYuc2VyaWVzLnNoYWRvd1NpemU9Zi5zaGFkb3dTaXplKTtmb3Iodj0wO3Y8Zi54YXhlcy5sZW5ndGg7Kyt2KVMoQSx2KzEpLm9wdGlvbnM9Zi54YXhlc1t2XTtmb3Iodj0wO3Y8Zi55YXhlcy5sZW5ndGg7Kyt2KVMoRyx2KzEpLm9wdGlvbnM9Zi55YXhlc1t2XTtmb3IodmFyIE0gaW4gSilmLmhvb2tzW01dJiZmLmhvb2tzW01dLmxlbmd0aCYmKEpbTV09SltNXS5jb25jYXQoZi5ob29rc1tNXSkpO0koSi5wcm9jZXNzT3B0aW9ucyxbZl0pO009Qy5jaGlsZHJlbihcImNhbnZhcy5iYXNlXCIpO3Y9Qy5jaGlsZHJlbihcImNhbnZhcy5vdmVybGF5XCIpOzA9PU0ubGVuZ3RofHwwPT12PyhDLmh0bWwoXCJcIiksQy5jc3Moe3BhZGRpbmc6MH0pLFwic3RhdGljXCI9PUMuY3NzKFwicG9zaXRpb25cIikmJkMuY3NzKFwicG9zaXRpb25cIixcInJlbGF0aXZlXCIpLCBlYSgpLFU9QighMCxcImJhc2VcIiksVj1CKCExLFwib3ZlcmxheVwiKSxNPSExKTooVT1NLmdldCgwKSxWPXYuZ2V0KDApLE09ITApO2c9VS5nZXRDb250ZXh0KFwiMmRcIik7RD1WLmdldENvbnRleHQoXCIyZFwiKTtLPW4oW1YsVV0pO00mJihDLmRhdGEoXCJwbG90XCIpLnNodXRkb3duKCksdy5yZXNpemUoKSxELmNsZWFyUmVjdCgwLDAsRixIKSxLLnVuYmluZCgpLEMuY2hpbGRyZW4oKS5ub3QoW1UsVl0pLnJlbW92ZSgpKTtDLmRhdGEoXCJwbG90XCIsdyk7ZGEoTik7Z2EoKTtoYSgpO2YuZ3JpZC5ob3ZlcmFibGUmJihLLm1vdXNlbW92ZShtYSksSy5tb3VzZWxlYXZlKG5hKSk7Zi5ncmlkLmNsaWNrYWJsZSYmSy5jbGljayhvYSk7SShKLmJpbmRFdmVudHMsW0tdKTt2YXIgUD1bXSxYPW51bGx9ZnVuY3Rpb24gTyhuLE4pe3JldHVybiBOKk1hdGguZmxvb3Iobi9OKX1uLnBsb3Q9ZnVuY3Rpb24oQyxOLHYpe3JldHVybiBuZXcgWihuKEMpLE4sdixuLnBsb3QucGx1Z2lucyl9O24ucGxvdC52ZXJzaW9uPSBcIjAuN1wiO24ucGxvdC5wbHVnaW5zPVtdO24ucGxvdC5mb3JtYXREYXRlPWZ1bmN0aW9uKG4sTix2KXt2YXIgVD1mdW5jdGlvbihuKXtuPVwiXCIrbjtyZXR1cm4gMT09bi5sZW5ndGg/XCIwXCIrbjpufSxJPVtdLE89ITEsUT0hMSx6PW4uZ2V0VVRDSG91cnMoKSxXPTEyPno7bnVsbD09diYmKHY9XCJKYW4gRmViIE1hciBBcHIgTWF5IEp1biBKdWwgQXVnIFNlcCBPY3QgTm92IERlY1wiLnNwbGl0KFwiIFwiKSk7LTEhPU4uc2VhcmNoKC8lcHwlUC8pJiYoMTI8ej96LT0xMjowPT16JiYoej0xMikpO2Zvcih2YXIgUz0wO1M8Ti5sZW5ndGg7KytTKXt2YXIgQj1OLmNoYXJBdChTKTtpZihPKXtzd2l0Y2goQil7Y2FzZSBcImhcIjpCPVwiXCIrejticmVhaztjYXNlIFwiSFwiOkI9VCh6KTticmVhaztjYXNlIFwiTVwiOkI9VChuLmdldFVUQ01pbnV0ZXMoKSk7YnJlYWs7Y2FzZSBcIlNcIjpCPVQobi5nZXRVVENTZWNvbmRzKCkpO2JyZWFrO2Nhc2UgXCJkXCI6Qj1cIlwiK24uZ2V0VVRDRGF0ZSgpO2JyZWFrO2Nhc2UgXCJtXCI6Qj0gXCJcIisobi5nZXRVVENNb250aCgpKzEpO2JyZWFrO2Nhc2UgXCJ5XCI6Qj1cIlwiK24uZ2V0VVRDRnVsbFllYXIoKTticmVhaztjYXNlIFwiYlwiOkI9XCJcIit2W24uZ2V0VVRDTW9udGgoKV07YnJlYWs7Y2FzZSBcInBcIjpCPVc/XCJhbVwiOlwicG1cIjticmVhaztjYXNlIFwiUFwiOkI9Vz9cIkFNXCI6XCJQTVwiO2JyZWFrO2Nhc2UgXCIwXCI6Qj1cIlwiLFE9ITB9QiYmUSYmKEI9VChCKSxRPSExKTtJLnB1c2goQik7UXx8KE89ITEpfWVsc2VcIiVcIj09Qj9PPSEwOkkucHVzaChCKX1yZXR1cm4gSS5qb2luKFwiXCIpfX0pKGpRdWVyeSk7IiwiLy9GaWxhbWVudCBHcm91cCBtb2RpZmljYXRpb24gbm90ZTpcbi8vVGhpcyB2ZXJzaW9uIG9mIGV4Y2FudmFzIGlzIG1vZGlmaWVkIHRvIHN1cHBvcnQgbGF6eSBsb2FkaW5nIG9mIHRoaXMgZmlsZS4gTW9yZSBpbmZvIGhlcmU6IGh0dHA6Ly9waXB3ZXJrcy5jb20vMjAwOS8wMy8xMi9sYXp5LWxvYWRpbmctZXhjYW52YXNqcy9cblxuLy8gQ29weXJpZ2h0IDIwMDYgR29vZ2xlIEluYy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG5cbi8vIEtub3duIElzc3Vlczpcbi8vXG4vLyAqIFBhdHRlcm5zIGFyZSBub3QgaW1wbGVtZW50ZWQuXG4vLyAqIFJhZGlhbCBncmFkaWVudCBhcmUgbm90IGltcGxlbWVudGVkLiBUaGUgVk1MIHZlcnNpb24gb2YgdGhlc2UgbG9vayB2ZXJ5XG4vLyAgIGRpZmZlcmVudCBmcm9tIHRoZSBjYW52YXMgb25lLlxuLy8gKiBDbGlwcGluZyBwYXRocyBhcmUgbm90IGltcGxlbWVudGVkLlxuLy8gKiBDb29yZHNpemUuIFRoZSB3aWR0aCBhbmQgaGVpZ2h0IGF0dHJpYnV0ZSBoYXZlIGhpZ2hlciBwcmlvcml0eSB0aGFuIHRoZVxuLy8gICB3aWR0aCBhbmQgaGVpZ2h0IHN0eWxlIHZhbHVlcyB3aGljaCBpc24ndCBjb3JyZWN0LlxuLy8gKiBQYWludGluZyBtb2RlIGlzbid0IGltcGxlbWVudGVkLlxuLy8gKiBDYW52YXMgd2lkdGgvaGVpZ2h0IHNob3VsZCBpcyB1c2luZyBjb250ZW50LWJveCBieSBkZWZhdWx0LiBJRSBpblxuLy8gICBRdWlya3MgbW9kZSB3aWxsIGRyYXcgdGhlIGNhbnZhcyB1c2luZyBib3JkZXItYm94LiBFaXRoZXIgY2hhbmdlIHlvdXJcbi8vICAgZG9jdHlwZSB0byBIVE1MNVxuLy8gICAoaHR0cDovL3d3dy53aGF0d2cub3JnL3NwZWNzL3dlYi1hcHBzL2N1cnJlbnQtd29yay8jdGhlLWRvY3R5cGUpXG4vLyAgIG9yIHVzZSBCb3ggU2l6aW5nIEJlaGF2aW9yIGZyb20gV2ViRlhcbi8vICAgKGh0dHA6Ly93ZWJmeC5lYWUubmV0L2RodG1sL2JveHNpemluZy9ib3hzaXppbmcuaHRtbClcbi8vICogTm9uIHVuaWZvcm0gc2NhbGluZyBkb2VzIG5vdCBjb3JyZWN0bHkgc2NhbGUgc3Ryb2tlcy5cbi8vICogT3B0aW1pemUuIFRoZXJlIGlzIGFsd2F5cyByb29tIGZvciBzcGVlZCBpbXByb3ZlbWVudHMuXG5cbi8vIE9ubHkgYWRkIHRoaXMgY29kZSBpZiB3ZSBkbyBub3QgYWxyZWFkeSBoYXZlIGEgY2FudmFzIGltcGxlbWVudGF0aW9uXG5pZighZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKS5nZXRDb250ZXh0KXsoZnVuY3Rpb24oKXt2YXIgej1NYXRoO3ZhciBLPXoucm91bmQ7dmFyIEo9ei5zaW47dmFyIFU9ei5jb3M7dmFyIGI9ei5hYnM7dmFyIGs9ei5zcXJ0O3ZhciBEPTEwO3ZhciBGPUQvMjtmdW5jdGlvbiBUKCl7cmV0dXJuIHRoaXMuY29udGV4dF98fCh0aGlzLmNvbnRleHRfPW5ldyBXKHRoaXMpKX12YXIgTz1BcnJheS5wcm90b3R5cGUuc2xpY2U7ZnVuY3Rpb24gRyhpLGosbSl7dmFyIFo9Ty5jYWxsKGFyZ3VtZW50cywyKTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gaS5hcHBseShqLFouY29uY2F0KE8uY2FsbChhcmd1bWVudHMpKSl9fWZ1bmN0aW9uIEFEKFope3JldHVybiBTdHJpbmcoWikucmVwbGFjZSgvJi9nLFwiJmFtcDtcIikucmVwbGFjZSgvXCIvZyxcIiZxdW90O1wiKX1mdW5jdGlvbiByKGkpe2lmKCFpLm5hbWVzcGFjZXMuZ192bWxfKXtpLm5hbWVzcGFjZXMuYWRkKFwiZ192bWxfXCIsXCJ1cm46c2NoZW1hcy1taWNyb3NvZnQtY29tOnZtbFwiLFwiI2RlZmF1bHQjVk1MXCIpfWlmKCFpLm5hbWVzcGFjZXMuZ19vXyl7aS5uYW1lc3BhY2VzLmFkZChcImdfb19cIixcInVybjpzY2hlbWFzLW1pY3Jvc29mdC1jb206b2ZmaWNlOm9mZmljZVwiLFwiI2RlZmF1bHQjVk1MXCIpfWlmKCFpLnN0eWxlU2hlZXRzLmV4X2NhbnZhc18pe3ZhciBaPWkuY3JlYXRlU3R5bGVTaGVldCgpO1oub3duaW5nRWxlbWVudC5pZD1cImV4X2NhbnZhc19cIjtaLmNzc1RleHQ9XCJjYW52YXN7ZGlzcGxheTppbmxpbmUtYmxvY2s7b3ZlcmZsb3c6aGlkZGVuO3RleHQtYWxpZ246bGVmdDt3aWR0aDozMDBweDtoZWlnaHQ6MTUwcHh9XCJ9fXIoZG9jdW1lbnQpO3ZhciBFPXtpbml0OmZ1bmN0aW9uKFope2lmKC9NU0lFLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpJiYhd2luZG93Lm9wZXJhKXt2YXIgaT1afHxkb2N1bWVudDtpLmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7aS5hdHRhY2hFdmVudChcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiLEcodGhpcy5pbml0Xyx0aGlzLGkpKX19LGluaXRfOmZ1bmN0aW9uKG0pe3ZhciBqPW0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJjYW52YXNcIik7Zm9yKHZhciBaPTA7WjxqLmxlbmd0aDtaKyspe3RoaXMuaW5pdEVsZW1lbnQoaltaXSl9fSxpbml0RWxlbWVudDpmdW5jdGlvbihpKXtpZighaS5nZXRDb250ZXh0KXtpLmdldENvbnRleHQ9VDtyKGkub3duZXJEb2N1bWVudCk7aS5pbm5lckhUTUw9XCJcIjtpLmF0dGFjaEV2ZW50KFwib25wcm9wZXJ0eWNoYW5nZVwiLFMpO2kuYXR0YWNoRXZlbnQoXCJvbnJlc2l6ZVwiLHcpO3ZhciBaPWkuYXR0cmlidXRlcztpZihaLndpZHRoJiZaLndpZHRoLnNwZWNpZmllZCl7aS5zdHlsZS53aWR0aD1aLndpZHRoLm5vZGVWYWx1ZStcInB4XCJ9ZWxzZXtpLndpZHRoPWkuY2xpZW50V2lkdGh9aWYoWi5oZWlnaHQmJlouaGVpZ2h0LnNwZWNpZmllZCl7aS5zdHlsZS5oZWlnaHQ9Wi5oZWlnaHQubm9kZVZhbHVlK1wicHhcIn1lbHNle2kuaGVpZ2h0PWkuY2xpZW50SGVpZ2h0fX1yZXR1cm4gaX19O2Z1bmN0aW9uIFMoaSl7dmFyIFo9aS5zcmNFbGVtZW50O3N3aXRjaChpLnByb3BlcnR5TmFtZSl7Y2FzZVwid2lkdGhcIjpaLmdldENvbnRleHQoKS5jbGVhclJlY3QoKTtaLnN0eWxlLndpZHRoPVouYXR0cmlidXRlcy53aWR0aC5ub2RlVmFsdWUrXCJweFwiO1ouZmlyc3RDaGlsZC5zdHlsZS53aWR0aD1aLmNsaWVudFdpZHRoK1wicHhcIjticmVhaztjYXNlXCJoZWlnaHRcIjpaLmdldENvbnRleHQoKS5jbGVhclJlY3QoKTtaLnN0eWxlLmhlaWdodD1aLmF0dHJpYnV0ZXMuaGVpZ2h0Lm5vZGVWYWx1ZStcInB4XCI7Wi5maXJzdENoaWxkLnN0eWxlLmhlaWdodD1aLmNsaWVudEhlaWdodCtcInB4XCI7YnJlYWt9fWZ1bmN0aW9uIHcoaSl7dmFyIFo9aS5zcmNFbGVtZW50O2lmKFouZmlyc3RDaGlsZCl7Wi5maXJzdENoaWxkLnN0eWxlLndpZHRoPVouY2xpZW50V2lkdGgrXCJweFwiO1ouZmlyc3RDaGlsZC5zdHlsZS5oZWlnaHQ9Wi5jbGllbnRIZWlnaHQrXCJweFwifX1FLmluaXQoKTt2YXIgST1bXTtmb3IodmFyIEFDPTA7QUM8MTY7QUMrKyl7Zm9yKHZhciBBQj0wO0FCPDE2O0FCKyspe0lbQUMqMTYrQUJdPUFDLnRvU3RyaW5nKDE2KStBQi50b1N0cmluZygxNil9fWZ1bmN0aW9uIFYoKXtyZXR1cm5bWzEsMCwwXSxbMCwxLDBdLFswLDAsMV1dfWZ1bmN0aW9uIGQobSxqKXt2YXIgaT1WKCk7Zm9yKHZhciBaPTA7WjwzO1orKyl7Zm9yKHZhciBBRj0wO0FGPDM7QUYrKyl7dmFyIHA9MDtmb3IodmFyIEFFPTA7QUU8MztBRSsrKXtwKz1tW1pdW0FFXSpqW0FFXVtBRl19aVtaXVtBRl09cH19cmV0dXJuIGl9ZnVuY3Rpb24gUShpLFope1ouZmlsbFN0eWxlPWkuZmlsbFN0eWxlO1oubGluZUNhcD1pLmxpbmVDYXA7Wi5saW5lSm9pbj1pLmxpbmVKb2luO1oubGluZVdpZHRoPWkubGluZVdpZHRoO1oubWl0ZXJMaW1pdD1pLm1pdGVyTGltaXQ7Wi5zaGFkb3dCbHVyPWkuc2hhZG93Qmx1cjtaLnNoYWRvd0NvbG9yPWkuc2hhZG93Q29sb3I7Wi5zaGFkb3dPZmZzZXRYPWkuc2hhZG93T2Zmc2V0WDtaLnNoYWRvd09mZnNldFk9aS5zaGFkb3dPZmZzZXRZO1ouc3Ryb2tlU3R5bGU9aS5zdHJva2VTdHlsZTtaLmdsb2JhbEFscGhhPWkuZ2xvYmFsQWxwaGE7Wi5mb250PWkuZm9udDtaLnRleHRBbGlnbj1pLnRleHRBbGlnbjtaLnRleHRCYXNlbGluZT1pLnRleHRCYXNlbGluZTtaLmFyY1NjYWxlWF89aS5hcmNTY2FsZVhfO1ouYXJjU2NhbGVZXz1pLmFyY1NjYWxlWV87Wi5saW5lU2NhbGVfPWkubGluZVNjYWxlX312YXIgQj17YWxpY2VibHVlOlwiI0YwRjhGRlwiLGFudGlxdWV3aGl0ZTpcIiNGQUVCRDdcIixhcXVhbWFyaW5lOlwiIzdGRkZENFwiLGF6dXJlOlwiI0YwRkZGRlwiLGJlaWdlOlwiI0Y1RjVEQ1wiLGJpc3F1ZTpcIiNGRkU0QzRcIixibGFjazpcIiMwMDAwMDBcIixibGFuY2hlZGFsbW9uZDpcIiNGRkVCQ0RcIixibHVldmlvbGV0OlwiIzhBMkJFMlwiLGJyb3duOlwiI0E1MkEyQVwiLGJ1cmx5d29vZDpcIiNERUI4ODdcIixjYWRldGJsdWU6XCIjNUY5RUEwXCIsY2hhcnRyZXVzZTpcIiM3RkZGMDBcIixjaG9jb2xhdGU6XCIjRDI2OTFFXCIsY29yYWw6XCIjRkY3RjUwXCIsY29ybmZsb3dlcmJsdWU6XCIjNjQ5NUVEXCIsY29ybnNpbGs6XCIjRkZGOERDXCIsY3JpbXNvbjpcIiNEQzE0M0NcIixjeWFuOlwiIzAwRkZGRlwiLGRhcmtibHVlOlwiIzAwMDA4QlwiLGRhcmtjeWFuOlwiIzAwOEI4QlwiLGRhcmtnb2xkZW5yb2Q6XCIjQjg4NjBCXCIsZGFya2dyYXk6XCIjQTlBOUE5XCIsZGFya2dyZWVuOlwiIzAwNjQwMFwiLGRhcmtncmV5OlwiI0E5QTlBOVwiLGRhcmtraGFraTpcIiNCREI3NkJcIixkYXJrbWFnZW50YTpcIiM4QjAwOEJcIixkYXJrb2xpdmVncmVlbjpcIiM1NTZCMkZcIixkYXJrb3JhbmdlOlwiI0ZGOEMwMFwiLGRhcmtvcmNoaWQ6XCIjOTkzMkNDXCIsZGFya3JlZDpcIiM4QjAwMDBcIixkYXJrc2FsbW9uOlwiI0U5OTY3QVwiLGRhcmtzZWFncmVlbjpcIiM4RkJDOEZcIixkYXJrc2xhdGVibHVlOlwiIzQ4M0Q4QlwiLGRhcmtzbGF0ZWdyYXk6XCIjMkY0RjRGXCIsZGFya3NsYXRlZ3JleTpcIiMyRjRGNEZcIixkYXJrdHVycXVvaXNlOlwiIzAwQ0VEMVwiLGRhcmt2aW9sZXQ6XCIjOTQwMEQzXCIsZGVlcHBpbms6XCIjRkYxNDkzXCIsZGVlcHNreWJsdWU6XCIjMDBCRkZGXCIsZGltZ3JheTpcIiM2OTY5NjlcIixkaW1ncmV5OlwiIzY5Njk2OVwiLGRvZGdlcmJsdWU6XCIjMUU5MEZGXCIsZmlyZWJyaWNrOlwiI0IyMjIyMlwiLGZsb3JhbHdoaXRlOlwiI0ZGRkFGMFwiLGZvcmVzdGdyZWVuOlwiIzIyOEIyMlwiLGdhaW5zYm9ybzpcIiNEQ0RDRENcIixnaG9zdHdoaXRlOlwiI0Y4RjhGRlwiLGdvbGQ6XCIjRkZENzAwXCIsZ29sZGVucm9kOlwiI0RBQTUyMFwiLGdyZXk6XCIjODA4MDgwXCIsZ3JlZW55ZWxsb3c6XCIjQURGRjJGXCIsaG9uZXlkZXc6XCIjRjBGRkYwXCIsaG90cGluazpcIiNGRjY5QjRcIixpbmRpYW5yZWQ6XCIjQ0Q1QzVDXCIsaW5kaWdvOlwiIzRCMDA4MlwiLGl2b3J5OlwiI0ZGRkZGMFwiLGtoYWtpOlwiI0YwRTY4Q1wiLGxhdmVuZGVyOlwiI0U2RTZGQVwiLGxhdmVuZGVyYmx1c2g6XCIjRkZGMEY1XCIsbGF3bmdyZWVuOlwiIzdDRkMwMFwiLGxlbW9uY2hpZmZvbjpcIiNGRkZBQ0RcIixsaWdodGJsdWU6XCIjQUREOEU2XCIsbGlnaHRjb3JhbDpcIiNGMDgwODBcIixsaWdodGN5YW46XCIjRTBGRkZGXCIsbGlnaHRnb2xkZW5yb2R5ZWxsb3c6XCIjRkFGQUQyXCIsbGlnaHRncmVlbjpcIiM5MEVFOTBcIixsaWdodGdyZXk6XCIjRDNEM0QzXCIsbGlnaHRwaW5rOlwiI0ZGQjZDMVwiLGxpZ2h0c2FsbW9uOlwiI0ZGQTA3QVwiLGxpZ2h0c2VhZ3JlZW46XCIjMjBCMkFBXCIsbGlnaHRza3libHVlOlwiIzg3Q0VGQVwiLGxpZ2h0c2xhdGVncmF5OlwiIzc3ODg5OVwiLGxpZ2h0c2xhdGVncmV5OlwiIzc3ODg5OVwiLGxpZ2h0c3RlZWxibHVlOlwiI0IwQzRERVwiLGxpZ2h0eWVsbG93OlwiI0ZGRkZFMFwiLGxpbWVncmVlbjpcIiMzMkNEMzJcIixsaW5lbjpcIiNGQUYwRTZcIixtYWdlbnRhOlwiI0ZGMDBGRlwiLG1lZGl1bWFxdWFtYXJpbmU6XCIjNjZDREFBXCIsbWVkaXVtYmx1ZTpcIiMwMDAwQ0RcIixtZWRpdW1vcmNoaWQ6XCIjQkE1NUQzXCIsbWVkaXVtcHVycGxlOlwiIzkzNzBEQlwiLG1lZGl1bXNlYWdyZWVuOlwiIzNDQjM3MVwiLG1lZGl1bXNsYXRlYmx1ZTpcIiM3QjY4RUVcIixtZWRpdW1zcHJpbmdncmVlbjpcIiMwMEZBOUFcIixtZWRpdW10dXJxdW9pc2U6XCIjNDhEMUNDXCIsbWVkaXVtdmlvbGV0cmVkOlwiI0M3MTU4NVwiLG1pZG5pZ2h0Ymx1ZTpcIiMxOTE5NzBcIixtaW50Y3JlYW06XCIjRjVGRkZBXCIsbWlzdHlyb3NlOlwiI0ZGRTRFMVwiLG1vY2Nhc2luOlwiI0ZGRTRCNVwiLG5hdmFqb3doaXRlOlwiI0ZGREVBRFwiLG9sZGxhY2U6XCIjRkRGNUU2XCIsb2xpdmVkcmFiOlwiIzZCOEUyM1wiLG9yYW5nZTpcIiNGRkE1MDBcIixvcmFuZ2VyZWQ6XCIjRkY0NTAwXCIsb3JjaGlkOlwiI0RBNzBENlwiLHBhbGVnb2xkZW5yb2Q6XCIjRUVFOEFBXCIscGFsZWdyZWVuOlwiIzk4RkI5OFwiLHBhbGV0dXJxdW9pc2U6XCIjQUZFRUVFXCIscGFsZXZpb2xldHJlZDpcIiNEQjcwOTNcIixwYXBheWF3aGlwOlwiI0ZGRUZENVwiLHBlYWNocHVmZjpcIiNGRkRBQjlcIixwZXJ1OlwiI0NEODUzRlwiLHBpbms6XCIjRkZDMENCXCIscGx1bTpcIiNEREEwRERcIixwb3dkZXJibHVlOlwiI0IwRTBFNlwiLHJvc3licm93bjpcIiNCQzhGOEZcIixyb3lhbGJsdWU6XCIjNDE2OUUxXCIsc2FkZGxlYnJvd246XCIjOEI0NTEzXCIsc2FsbW9uOlwiI0ZBODA3MlwiLHNhbmR5YnJvd246XCIjRjRBNDYwXCIsc2VhZ3JlZW46XCIjMkU4QjU3XCIsc2Vhc2hlbGw6XCIjRkZGNUVFXCIsc2llbm5hOlwiI0EwNTIyRFwiLHNreWJsdWU6XCIjODdDRUVCXCIsc2xhdGVibHVlOlwiIzZBNUFDRFwiLHNsYXRlZ3JheTpcIiM3MDgwOTBcIixzbGF0ZWdyZXk6XCIjNzA4MDkwXCIsc25vdzpcIiNGRkZBRkFcIixzcHJpbmdncmVlbjpcIiMwMEZGN0ZcIixzdGVlbGJsdWU6XCIjNDY4MkI0XCIsdGFuOlwiI0QyQjQ4Q1wiLHRoaXN0bGU6XCIjRDhCRkQ4XCIsdG9tYXRvOlwiI0ZGNjM0N1wiLHR1cnF1b2lzZTpcIiM0MEUwRDBcIix2aW9sZXQ6XCIjRUU4MkVFXCIsd2hlYXQ6XCIjRjVERUIzXCIsd2hpdGVzbW9rZTpcIiNGNUY1RjVcIix5ZWxsb3dncmVlbjpcIiM5QUNEMzJcIn07ZnVuY3Rpb24gZyhpKXt2YXIgbT1pLmluZGV4T2YoXCIoXCIsMyk7dmFyIFo9aS5pbmRleE9mKFwiKVwiLG0rMSk7dmFyIGo9aS5zdWJzdHJpbmcobSsxLFopLnNwbGl0KFwiLFwiKTtpZihqLmxlbmd0aD09NCYmaS5zdWJzdHIoMywxKT09XCJhXCIpe2FscGhhPU51bWJlcihqWzNdKX1lbHNle2pbM109MX1yZXR1cm4gan1mdW5jdGlvbiBDKFope3JldHVybiBwYXJzZUZsb2F0KFopLzEwMH1mdW5jdGlvbiBOKGksaixaKXtyZXR1cm4gTWF0aC5taW4oWixNYXRoLm1heChqLGkpKX1mdW5jdGlvbiBjKEFGKXt2YXIgaixpLFo7aD1wYXJzZUZsb2F0KEFGWzBdKS8zNjAlMzYwO2lmKGg8MCl7aCsrfXM9TihDKEFGWzFdKSwwLDEpO2w9TihDKEFGWzJdKSwwLDEpO2lmKHM9PTApe2o9aT1aPWx9ZWxzZXt2YXIgbT1sPDAuNT9sKigxK3MpOmwrcy1sKnM7dmFyIEFFPTIqbC1tO2o9QShBRSxtLGgrMS8zKTtpPUEoQUUsbSxoKTtaPUEoQUUsbSxoLTEvMyl9cmV0dXJuXCIjXCIrSVtNYXRoLmZsb29yKGoqMjU1KV0rSVtNYXRoLmZsb29yKGkqMjU1KV0rSVtNYXRoLmZsb29yKFoqMjU1KV19ZnVuY3Rpb24gQShpLFosail7aWYoajwwKXtqKyt9aWYoaj4xKXtqLS19aWYoNipqPDEpe3JldHVybiBpKyhaLWkpKjYqan1lbHNle2lmKDIqajwxKXtyZXR1cm4gWn1lbHNle2lmKDMqajwyKXtyZXR1cm4gaSsoWi1pKSooMi8zLWopKjZ9ZWxzZXtyZXR1cm4gaX19fX1mdW5jdGlvbiBZKFope3ZhciBBRSxwPTE7Wj1TdHJpbmcoWik7aWYoWi5jaGFyQXQoMCk9PVwiI1wiKXtBRT1afWVsc2V7aWYoL15yZ2IvLnRlc3QoWikpe3ZhciBtPWcoWik7dmFyIEFFPVwiI1wiLEFGO2Zvcih2YXIgaj0wO2o8MztqKyspe2lmKG1bal0uaW5kZXhPZihcIiVcIikhPS0xKXtBRj1NYXRoLmZsb29yKEMobVtqXSkqMjU1KX1lbHNle0FGPU51bWJlcihtW2pdKX1BRSs9SVtOKEFGLDAsMjU1KV19cD1tWzNdfWVsc2V7aWYoL15oc2wvLnRlc3QoWikpe3ZhciBtPWcoWik7QUU9YyhtKTtwPW1bM119ZWxzZXtBRT1CW1pdfHxafX19cmV0dXJue2NvbG9yOkFFLGFscGhhOnB9fXZhciBMPXtzdHlsZTpcIm5vcm1hbFwiLHZhcmlhbnQ6XCJub3JtYWxcIix3ZWlnaHQ6XCJub3JtYWxcIixzaXplOjEwLGZhbWlseTpcInNhbnMtc2VyaWZcIn07dmFyIGY9e307ZnVuY3Rpb24gWChaKXtpZihmW1pdKXtyZXR1cm4gZltaXX12YXIgbT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3ZhciBqPW0uc3R5bGU7dHJ5e2ouZm9udD1afWNhdGNoKGkpe31yZXR1cm4gZltaXT17c3R5bGU6ai5mb250U3R5bGV8fEwuc3R5bGUsdmFyaWFudDpqLmZvbnRWYXJpYW50fHxMLnZhcmlhbnQsd2VpZ2h0OmouZm9udFdlaWdodHx8TC53ZWlnaHQsc2l6ZTpqLmZvbnRTaXplfHxMLnNpemUsZmFtaWx5OmouZm9udEZhbWlseXx8TC5mYW1pbHl9fWZ1bmN0aW9uIFAoaixpKXt2YXIgWj17fTtmb3IodmFyIEFGIGluIGope1pbQUZdPWpbQUZdfXZhciBBRT1wYXJzZUZsb2F0KGkuY3VycmVudFN0eWxlLmZvbnRTaXplKSxtPXBhcnNlRmxvYXQoai5zaXplKTtpZih0eXBlb2Ygai5zaXplPT1cIm51bWJlclwiKXtaLnNpemU9ai5zaXplfWVsc2V7aWYoai5zaXplLmluZGV4T2YoXCJweFwiKSE9LTEpe1ouc2l6ZT1tfWVsc2V7aWYoai5zaXplLmluZGV4T2YoXCJlbVwiKSE9LTEpe1ouc2l6ZT1BRSptfWVsc2V7aWYoai5zaXplLmluZGV4T2YoXCIlXCIpIT0tMSl7Wi5zaXplPShBRS8xMDApKm19ZWxzZXtpZihqLnNpemUuaW5kZXhPZihcInB0XCIpIT0tMSl7Wi5zaXplPW0vMC43NX1lbHNle1ouc2l6ZT1BRX19fX19Wi5zaXplKj0wLjk4MTtyZXR1cm4gWn1mdW5jdGlvbiBBQShaKXtyZXR1cm4gWi5zdHlsZStcIiBcIitaLnZhcmlhbnQrXCIgXCIrWi53ZWlnaHQrXCIgXCIrWi5zaXplK1wicHggXCIrWi5mYW1pbHl9ZnVuY3Rpb24gdChaKXtzd2l0Y2goWil7Y2FzZVwiYnV0dFwiOnJldHVyblwiZmxhdFwiO2Nhc2VcInJvdW5kXCI6cmV0dXJuXCJyb3VuZFwiO2Nhc2VcInNxdWFyZVwiOmRlZmF1bHQ6cmV0dXJuXCJzcXVhcmVcIn19ZnVuY3Rpb24gVyhpKXt0aGlzLm1fPVYoKTt0aGlzLm1TdGFja189W107dGhpcy5hU3RhY2tfPVtdO3RoaXMuY3VycmVudFBhdGhfPVtdO3RoaXMuc3Ryb2tlU3R5bGU9XCIjMDAwXCI7dGhpcy5maWxsU3R5bGU9XCIjMDAwXCI7dGhpcy5saW5lV2lkdGg9MTt0aGlzLmxpbmVKb2luPVwibWl0ZXJcIjt0aGlzLmxpbmVDYXA9XCJidXR0XCI7dGhpcy5taXRlckxpbWl0PUQqMTt0aGlzLmdsb2JhbEFscGhhPTE7dGhpcy5mb250PVwiMTBweCBzYW5zLXNlcmlmXCI7dGhpcy50ZXh0QWxpZ249XCJsZWZ0XCI7dGhpcy50ZXh0QmFzZWxpbmU9XCJhbHBoYWJldGljXCI7dGhpcy5jYW52YXM9aTt2YXIgWj1pLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtaLnN0eWxlLndpZHRoPWkuY2xpZW50V2lkdGgrXCJweFwiO1ouc3R5bGUuaGVpZ2h0PWkuY2xpZW50SGVpZ2h0K1wicHhcIjtaLnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCI7Wi5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCI7aS5hcHBlbmRDaGlsZChaKTt0aGlzLmVsZW1lbnRfPVo7dGhpcy5hcmNTY2FsZVhfPTE7dGhpcy5hcmNTY2FsZVlfPTE7dGhpcy5saW5lU2NhbGVfPTF9dmFyIE09Vy5wcm90b3R5cGU7TS5jbGVhclJlY3Q9ZnVuY3Rpb24oKXtpZih0aGlzLnRleHRNZWFzdXJlRWxfKXt0aGlzLnRleHRNZWFzdXJlRWxfLnJlbW92ZU5vZGUodHJ1ZSk7dGhpcy50ZXh0TWVhc3VyZUVsXz1udWxsfXRoaXMuZWxlbWVudF8uaW5uZXJIVE1MPVwiXCJ9O00uYmVnaW5QYXRoPWZ1bmN0aW9uKCl7dGhpcy5jdXJyZW50UGF0aF89W119O00ubW92ZVRvPWZ1bmN0aW9uKGksWil7dmFyIGo9dGhpcy5nZXRDb29yZHNfKGksWik7dGhpcy5jdXJyZW50UGF0aF8ucHVzaCh7dHlwZTpcIm1vdmVUb1wiLHg6ai54LHk6ai55fSk7dGhpcy5jdXJyZW50WF89ai54O3RoaXMuY3VycmVudFlfPWoueX07TS5saW5lVG89ZnVuY3Rpb24oaSxaKXt2YXIgaj10aGlzLmdldENvb3Jkc18oaSxaKTt0aGlzLmN1cnJlbnRQYXRoXy5wdXNoKHt0eXBlOlwibGluZVRvXCIseDpqLngseTpqLnl9KTt0aGlzLmN1cnJlbnRYXz1qLng7dGhpcy5jdXJyZW50WV89ai55fTtNLmJlemllckN1cnZlVG89ZnVuY3Rpb24oaixpLEFJLEFILEFHLEFFKXt2YXIgWj10aGlzLmdldENvb3Jkc18oQUcsQUUpO3ZhciBBRj10aGlzLmdldENvb3Jkc18oaixpKTt2YXIgbT10aGlzLmdldENvb3Jkc18oQUksQUgpO2UodGhpcyxBRixtLFopfTtmdW5jdGlvbiBlKFosbSxqLGkpe1ouY3VycmVudFBhdGhfLnB1c2goe3R5cGU6XCJiZXppZXJDdXJ2ZVRvXCIsY3AxeDptLngsY3AxeTptLnksY3AyeDpqLngsY3AyeTpqLnkseDppLngseTppLnl9KTtaLmN1cnJlbnRYXz1pLng7Wi5jdXJyZW50WV89aS55fU0ucXVhZHJhdGljQ3VydmVUbz1mdW5jdGlvbihBRyxqLGksWil7dmFyIEFGPXRoaXMuZ2V0Q29vcmRzXyhBRyxqKTt2YXIgQUU9dGhpcy5nZXRDb29yZHNfKGksWik7dmFyIEFIPXt4OnRoaXMuY3VycmVudFhfKzIvMyooQUYueC10aGlzLmN1cnJlbnRYXykseTp0aGlzLmN1cnJlbnRZXysyLzMqKEFGLnktdGhpcy5jdXJyZW50WV8pfTt2YXIgbT17eDpBSC54KyhBRS54LXRoaXMuY3VycmVudFhfKS8zLHk6QUgueSsoQUUueS10aGlzLmN1cnJlbnRZXykvM307ZSh0aGlzLEFILG0sQUUpfTtNLmFyYz1mdW5jdGlvbihBSixBSCxBSSxBRSxpLGope0FJKj1EO3ZhciBBTj1qP1wiYXRcIjpcIndhXCI7dmFyIEFLPUFKK1UoQUUpKkFJLUY7dmFyIEFNPUFIK0ooQUUpKkFJLUY7dmFyIFo9QUorVShpKSpBSS1GO3ZhciBBTD1BSCtKKGkpKkFJLUY7aWYoQUs9PVomJiFqKXtBSys9MC4xMjV9dmFyIG09dGhpcy5nZXRDb29yZHNfKEFKLEFIKTt2YXIgQUc9dGhpcy5nZXRDb29yZHNfKEFLLEFNKTt2YXIgQUY9dGhpcy5nZXRDb29yZHNfKFosQUwpO3RoaXMuY3VycmVudFBhdGhfLnB1c2goe3R5cGU6QU4seDptLngseTptLnkscmFkaXVzOkFJLHhTdGFydDpBRy54LHlTdGFydDpBRy55LHhFbmQ6QUYueCx5RW5kOkFGLnl9KX07TS5yZWN0PWZ1bmN0aW9uKGosaSxaLG0pe3RoaXMubW92ZVRvKGosaSk7dGhpcy5saW5lVG8oaitaLGkpO3RoaXMubGluZVRvKGorWixpK20pO3RoaXMubGluZVRvKGosaSttKTt0aGlzLmNsb3NlUGF0aCgpfTtNLnN0cm9rZVJlY3Q9ZnVuY3Rpb24oaixpLFosbSl7dmFyIHA9dGhpcy5jdXJyZW50UGF0aF87dGhpcy5iZWdpblBhdGgoKTt0aGlzLm1vdmVUbyhqLGkpO3RoaXMubGluZVRvKGorWixpKTt0aGlzLmxpbmVUbyhqK1osaSttKTt0aGlzLmxpbmVUbyhqLGkrbSk7dGhpcy5jbG9zZVBhdGgoKTt0aGlzLnN0cm9rZSgpO3RoaXMuY3VycmVudFBhdGhfPXB9O00uZmlsbFJlY3Q9ZnVuY3Rpb24oaixpLFosbSl7dmFyIHA9dGhpcy5jdXJyZW50UGF0aF87dGhpcy5iZWdpblBhdGgoKTt0aGlzLm1vdmVUbyhqLGkpO3RoaXMubGluZVRvKGorWixpKTt0aGlzLmxpbmVUbyhqK1osaSttKTt0aGlzLmxpbmVUbyhqLGkrbSk7dGhpcy5jbG9zZVBhdGgoKTt0aGlzLmZpbGwoKTt0aGlzLmN1cnJlbnRQYXRoXz1wfTtNLmNyZWF0ZUxpbmVhckdyYWRpZW50PWZ1bmN0aW9uKGksbSxaLGope3ZhciBwPW5ldyB2KFwiZ3JhZGllbnRcIik7cC54MF89aTtwLnkwXz1tO3AueDFfPVo7cC55MV89ajtyZXR1cm4gcH07TS5jcmVhdGVSYWRpYWxHcmFkaWVudD1mdW5jdGlvbihtLEFFLGosaSxwLFope3ZhciBBRj1uZXcgdihcImdyYWRpZW50cmFkaWFsXCIpO0FGLngwXz1tO0FGLnkwXz1BRTtBRi5yMF89ajtBRi54MV89aTtBRi55MV89cDtBRi5yMV89WjtyZXR1cm4gQUZ9O00uZHJhd0ltYWdlPWZ1bmN0aW9uKEFPLGope3ZhciBBSCxBRixBSixBVixBTSxBSyxBUSxBWDt2YXIgQUk9QU8ucnVudGltZVN0eWxlLndpZHRoO3ZhciBBTj1BTy5ydW50aW1lU3R5bGUuaGVpZ2h0O0FPLnJ1bnRpbWVTdHlsZS53aWR0aD1cImF1dG9cIjtBTy5ydW50aW1lU3R5bGUuaGVpZ2h0PVwiYXV0b1wiO3ZhciBBRz1BTy53aWR0aDt2YXIgQVQ9QU8uaGVpZ2h0O0FPLnJ1bnRpbWVTdHlsZS53aWR0aD1BSTtBTy5ydW50aW1lU3R5bGUuaGVpZ2h0PUFOO2lmKGFyZ3VtZW50cy5sZW5ndGg9PTMpe0FIPWFyZ3VtZW50c1sxXTtBRj1hcmd1bWVudHNbMl07QU09QUs9MDtBUT1BSj1BRztBWD1BVj1BVH1lbHNle2lmKGFyZ3VtZW50cy5sZW5ndGg9PTUpe0FIPWFyZ3VtZW50c1sxXTtBRj1hcmd1bWVudHNbMl07QUo9YXJndW1lbnRzWzNdO0FWPWFyZ3VtZW50c1s0XTtBTT1BSz0wO0FRPUFHO0FYPUFUfWVsc2V7aWYoYXJndW1lbnRzLmxlbmd0aD09OSl7QU09YXJndW1lbnRzWzFdO0FLPWFyZ3VtZW50c1syXTtBUT1hcmd1bWVudHNbM107QVg9YXJndW1lbnRzWzRdO0FIPWFyZ3VtZW50c1s1XTtBRj1hcmd1bWVudHNbNl07QUo9YXJndW1lbnRzWzddO0FWPWFyZ3VtZW50c1s4XX1lbHNle3Rocm93IEVycm9yKFwiSW52YWxpZCBudW1iZXIgb2YgYXJndW1lbnRzXCIpfX19dmFyIEFXPXRoaXMuZ2V0Q29vcmRzXyhBSCxBRik7dmFyIG09QVEvMjt2YXIgaT1BWC8yO3ZhciBBVT1bXTt2YXIgWj0xMDt2YXIgQUU9MTA7QVUucHVzaChcIiA8Z192bWxfOmdyb3VwXCIsJyBjb29yZHNpemU9XCInLEQqWixcIixcIixEKkFFLCdcIicsJyBjb29yZG9yaWdpbj1cIjAsMFwiJywnIHN0eWxlPVwid2lkdGg6JyxaLFwicHg7aGVpZ2h0OlwiLEFFLFwicHg7cG9zaXRpb246YWJzb2x1dGU7XCIpO2lmKHRoaXMubV9bMF1bMF0hPTF8fHRoaXMubV9bMF1bMV18fHRoaXMubV9bMV1bMV0hPTF8fHRoaXMubV9bMV1bMF0pe3ZhciBwPVtdO3AucHVzaChcIk0xMT1cIix0aGlzLm1fWzBdWzBdLFwiLFwiLFwiTTEyPVwiLHRoaXMubV9bMV1bMF0sXCIsXCIsXCJNMjE9XCIsdGhpcy5tX1swXVsxXSxcIixcIixcIk0yMj1cIix0aGlzLm1fWzFdWzFdLFwiLFwiLFwiRHg9XCIsSyhBVy54L0QpLFwiLFwiLFwiRHk9XCIsSyhBVy55L0QpLFwiXCIpO3ZhciBBUz1BVzt2YXIgQVI9dGhpcy5nZXRDb29yZHNfKEFIK0FKLEFGKTt2YXIgQVA9dGhpcy5nZXRDb29yZHNfKEFILEFGK0FWKTt2YXIgQUw9dGhpcy5nZXRDb29yZHNfKEFIK0FKLEFGK0FWKTtBUy54PXoubWF4KEFTLngsQVIueCxBUC54LEFMLngpO0FTLnk9ei5tYXgoQVMueSxBUi55LEFQLnksQUwueSk7QVUucHVzaChcInBhZGRpbmc6MCBcIixLKEFTLngvRCksXCJweCBcIixLKEFTLnkvRCksXCJweCAwO2ZpbHRlcjpwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuTWF0cml4KFwiLHAuam9pbihcIlwiKSxcIiwgc2l6aW5nbWV0aG9kPSdjbGlwJyk7XCIpfWVsc2V7QVUucHVzaChcInRvcDpcIixLKEFXLnkvRCksXCJweDtsZWZ0OlwiLEsoQVcueC9EKSxcInB4O1wiKX1BVS5wdXNoKCcgXCI+JywnPGdfdm1sXzppbWFnZSBzcmM9XCInLEFPLnNyYywnXCInLCcgc3R5bGU9XCJ3aWR0aDonLEQqQUosXCJweDtcIixcIiBoZWlnaHQ6XCIsRCpBViwncHhcIicsJyBjcm9wbGVmdD1cIicsQU0vQUcsJ1wiJywnIGNyb3B0b3A9XCInLEFLL0FULCdcIicsJyBjcm9wcmlnaHQ9XCInLChBRy1BTS1BUSkvQUcsJ1wiJywnIGNyb3Bib3R0b209XCInLChBVC1BSy1BWCkvQVQsJ1wiJyxcIiAvPlwiLFwiPC9nX3ZtbF86Z3JvdXA+XCIpO3RoaXMuZWxlbWVudF8uaW5zZXJ0QWRqYWNlbnRIVE1MKFwiQmVmb3JlRW5kXCIsQVUuam9pbihcIlwiKSl9O00uc3Ryb2tlPWZ1bmN0aW9uKEFNKXt2YXIgbT0xMDt2YXIgQU49MTA7dmFyIEFFPTUwMDA7dmFyIEFHPXt4Om51bGwseTpudWxsfTt2YXIgQUw9e3g6bnVsbCx5Om51bGx9O2Zvcih2YXIgQUg9MDtBSDx0aGlzLmN1cnJlbnRQYXRoXy5sZW5ndGg7QUgrPUFFKXt2YXIgQUs9W107dmFyIEFGPWZhbHNlO0FLLnB1c2goXCI8Z192bWxfOnNoYXBlXCIsJyBmaWxsZWQ9XCInLCEhQU0sJ1wiJywnIHN0eWxlPVwicG9zaXRpb246YWJzb2x1dGU7d2lkdGg6JyxtLFwicHg7aGVpZ2h0OlwiLEFOLCdweDtcIicsJyBjb29yZG9yaWdpbj1cIjAsMFwiJywnIGNvb3Jkc2l6ZT1cIicsRCptLFwiLFwiLEQqQU4sJ1wiJywnIHN0cm9rZWQ9XCInLCFBTSwnXCInLCcgcGF0aD1cIicpO3ZhciBBTz1mYWxzZTtmb3IodmFyIEFJPUFIO0FJPE1hdGgubWluKEFIK0FFLHRoaXMuY3VycmVudFBhdGhfLmxlbmd0aCk7QUkrKyl7aWYoQUklQUU9PTAmJkFJPjApe0FLLnB1c2goXCIgbSBcIixLKHRoaXMuY3VycmVudFBhdGhfW0FJLTFdLngpLFwiLFwiLEsodGhpcy5jdXJyZW50UGF0aF9bQUktMV0ueSkpfXZhciBaPXRoaXMuY3VycmVudFBhdGhfW0FJXTt2YXIgQUo7c3dpdGNoKFoudHlwZSl7Y2FzZVwibW92ZVRvXCI6QUo9WjtBSy5wdXNoKFwiIG0gXCIsSyhaLngpLFwiLFwiLEsoWi55KSk7YnJlYWs7Y2FzZVwibGluZVRvXCI6QUsucHVzaChcIiBsIFwiLEsoWi54KSxcIixcIixLKFoueSkpO2JyZWFrO2Nhc2VcImNsb3NlXCI6QUsucHVzaChcIiB4IFwiKTtaPW51bGw7YnJlYWs7Y2FzZVwiYmV6aWVyQ3VydmVUb1wiOkFLLnB1c2goXCIgYyBcIixLKFouY3AxeCksXCIsXCIsSyhaLmNwMXkpLFwiLFwiLEsoWi5jcDJ4KSxcIixcIixLKFouY3AyeSksXCIsXCIsSyhaLngpLFwiLFwiLEsoWi55KSk7YnJlYWs7Y2FzZVwiYXRcIjpjYXNlXCJ3YVwiOkFLLnB1c2goXCIgXCIsWi50eXBlLFwiIFwiLEsoWi54LXRoaXMuYXJjU2NhbGVYXypaLnJhZGl1cyksXCIsXCIsSyhaLnktdGhpcy5hcmNTY2FsZVlfKloucmFkaXVzKSxcIiBcIixLKFoueCt0aGlzLmFyY1NjYWxlWF8qWi5yYWRpdXMpLFwiLFwiLEsoWi55K3RoaXMuYXJjU2NhbGVZXypaLnJhZGl1cyksXCIgXCIsSyhaLnhTdGFydCksXCIsXCIsSyhaLnlTdGFydCksXCIgXCIsSyhaLnhFbmQpLFwiLFwiLEsoWi55RW5kKSk7YnJlYWt9aWYoWil7aWYoQUcueD09bnVsbHx8Wi54PEFHLngpe0FHLng9Wi54fWlmKEFMLng9PW51bGx8fFoueD5BTC54KXtBTC54PVoueH1pZihBRy55PT1udWxsfHxaLnk8QUcueSl7QUcueT1aLnl9aWYoQUwueT09bnVsbHx8Wi55PkFMLnkpe0FMLnk9Wi55fX19QUsucHVzaCgnIFwiPicpO2lmKCFBTSl7Uih0aGlzLEFLKX1lbHNle2EodGhpcyxBSyxBRyxBTCl9QUsucHVzaChcIjwvZ192bWxfOnNoYXBlPlwiKTt0aGlzLmVsZW1lbnRfLmluc2VydEFkamFjZW50SFRNTChcImJlZm9yZUVuZFwiLEFLLmpvaW4oXCJcIikpfX07ZnVuY3Rpb24gUihqLEFFKXt2YXIgaT1ZKGouc3Ryb2tlU3R5bGUpO3ZhciBtPWkuY29sb3I7dmFyIHA9aS5hbHBoYSpqLmdsb2JhbEFscGhhO3ZhciBaPWoubGluZVNjYWxlXypqLmxpbmVXaWR0aDtpZihaPDEpe3AqPVp9QUUucHVzaChcIjxnX3ZtbF86c3Ryb2tlXCIsJyBvcGFjaXR5PVwiJyxwLCdcIicsJyBqb2luc3R5bGU9XCInLGoubGluZUpvaW4sJ1wiJywnIG1pdGVybGltaXQ9XCInLGoubWl0ZXJMaW1pdCwnXCInLCcgZW5kY2FwPVwiJyx0KGoubGluZUNhcCksJ1wiJywnIHdlaWdodD1cIicsWiwncHhcIicsJyBjb2xvcj1cIicsbSwnXCIgLz4nKX1mdW5jdGlvbiBhKEFPLEFHLEFoLEFQKXt2YXIgQUg9QU8uZmlsbFN0eWxlO3ZhciBBWT1BTy5hcmNTY2FsZVhfO3ZhciBBWD1BTy5hcmNTY2FsZVlfO3ZhciBaPUFQLngtQWgueDt2YXIgbT1BUC55LUFoLnk7aWYoQUggaW5zdGFuY2VvZiB2KXt2YXIgQUw9MDt2YXIgQWM9e3g6MCx5OjB9O3ZhciBBVT0wO3ZhciBBSz0xO2lmKEFILnR5cGVfPT1cImdyYWRpZW50XCIpe3ZhciBBSj1BSC54MF8vQVk7dmFyIGo9QUgueTBfL0FYO3ZhciBBST1BSC54MV8vQVk7dmFyIEFqPUFILnkxXy9BWDt2YXIgQWc9QU8uZ2V0Q29vcmRzXyhBSixqKTt2YXIgQWY9QU8uZ2V0Q29vcmRzXyhBSSxBaik7dmFyIEFFPUFmLngtQWcueDt2YXIgcD1BZi55LUFnLnk7QUw9TWF0aC5hdGFuMihBRSxwKSoxODAvTWF0aC5QSTtpZihBTDwwKXtBTCs9MzYwfWlmKEFMPDAuMDAwMDAxKXtBTD0wfX1lbHNle3ZhciBBZz1BTy5nZXRDb29yZHNfKEFILngwXyxBSC55MF8pO0FjPXt4OihBZy54LUFoLngpL1oseTooQWcueS1BaC55KS9tfTtaLz1BWSpEO20vPUFYKkQ7dmFyIEFhPXoubWF4KFosbSk7QVU9MipBSC5yMF8vQWE7QUs9MipBSC5yMV8vQWEtQVV9dmFyIEFTPUFILmNvbG9yc187QVMuc29ydChmdW5jdGlvbihBayxpKXtyZXR1cm4gQWsub2Zmc2V0LWkub2Zmc2V0fSk7dmFyIEFOPUFTLmxlbmd0aDt2YXIgQVI9QVNbMF0uY29sb3I7dmFyIEFRPUFTW0FOLTFdLmNvbG9yO3ZhciBBVz1BU1swXS5hbHBoYSpBTy5nbG9iYWxBbHBoYTt2YXIgQVY9QVNbQU4tMV0uYWxwaGEqQU8uZ2xvYmFsQWxwaGE7dmFyIEFiPVtdO2Zvcih2YXIgQWU9MDtBZTxBTjtBZSsrKXt2YXIgQU09QVNbQWVdO0FiLnB1c2goQU0ub2Zmc2V0KkFLK0FVK1wiIFwiK0FNLmNvbG9yKX1BRy5wdXNoKCc8Z192bWxfOmZpbGwgdHlwZT1cIicsQUgudHlwZV8sJ1wiJywnIG1ldGhvZD1cIm5vbmVcIiBmb2N1cz1cIjEwMCVcIicsJyBjb2xvcj1cIicsQVIsJ1wiJywnIGNvbG9yMj1cIicsQVEsJ1wiJywnIGNvbG9ycz1cIicsQWIuam9pbihcIixcIiksJ1wiJywnIG9wYWNpdHk9XCInLEFWLCdcIicsJyBnX29fOm9wYWNpdHkyPVwiJyxBVywnXCInLCcgYW5nbGU9XCInLEFMLCdcIicsJyBmb2N1c3Bvc2l0aW9uPVwiJyxBYy54LFwiLFwiLEFjLnksJ1wiIC8+Jyl9ZWxzZXtpZihBSCBpbnN0YW5jZW9mIHUpe2lmKFomJm0pe3ZhciBBRj0tQWgueDt2YXIgQVo9LUFoLnk7QUcucHVzaChcIjxnX3ZtbF86ZmlsbFwiLCcgcG9zaXRpb249XCInLEFGL1oqQVkqQVksXCIsXCIsQVovbSpBWCpBWCwnXCInLCcgdHlwZT1cInRpbGVcIicsJyBzcmM9XCInLEFILnNyY18sJ1wiIC8+Jyl9fWVsc2V7dmFyIEFpPVkoQU8uZmlsbFN0eWxlKTt2YXIgQVQ9QWkuY29sb3I7dmFyIEFkPUFpLmFscGhhKkFPLmdsb2JhbEFscGhhO0FHLnB1c2goJzxnX3ZtbF86ZmlsbCBjb2xvcj1cIicsQVQsJ1wiIG9wYWNpdHk9XCInLEFkLCdcIiAvPicpfX19TS5maWxsPWZ1bmN0aW9uKCl7dGhpcy5zdHJva2UodHJ1ZSl9O00uY2xvc2VQYXRoPWZ1bmN0aW9uKCl7dGhpcy5jdXJyZW50UGF0aF8ucHVzaCh7dHlwZTpcImNsb3NlXCJ9KX07TS5nZXRDb29yZHNfPWZ1bmN0aW9uKGosaSl7dmFyIFo9dGhpcy5tXztyZXR1cm57eDpEKihqKlpbMF1bMF0raSpaWzFdWzBdK1pbMl1bMF0pLUYseTpEKihqKlpbMF1bMV0raSpaWzFdWzFdK1pbMl1bMV0pLUZ9fTtNLnNhdmU9ZnVuY3Rpb24oKXt2YXIgWj17fTtRKHRoaXMsWik7dGhpcy5hU3RhY2tfLnB1c2goWik7dGhpcy5tU3RhY2tfLnB1c2godGhpcy5tXyk7dGhpcy5tXz1kKFYoKSx0aGlzLm1fKX07TS5yZXN0b3JlPWZ1bmN0aW9uKCl7aWYodGhpcy5hU3RhY2tfLmxlbmd0aCl7USh0aGlzLmFTdGFja18ucG9wKCksdGhpcyk7dGhpcy5tXz10aGlzLm1TdGFja18ucG9wKCl9fTtmdW5jdGlvbiBIKFope3JldHVybiBpc0Zpbml0ZShaWzBdWzBdKSYmaXNGaW5pdGUoWlswXVsxXSkmJmlzRmluaXRlKFpbMV1bMF0pJiZpc0Zpbml0ZShaWzFdWzFdKSYmaXNGaW5pdGUoWlsyXVswXSkmJmlzRmluaXRlKFpbMl1bMV0pfWZ1bmN0aW9uIHkoaSxaLGope2lmKCFIKFopKXtyZXR1cm4gfWkubV89WjtpZihqKXt2YXIgcD1aWzBdWzBdKlpbMV1bMV0tWlswXVsxXSpaWzFdWzBdO2kubGluZVNjYWxlXz1rKGIocCkpfX1NLnRyYW5zbGF0ZT1mdW5jdGlvbihqLGkpe3ZhciBaPVtbMSwwLDBdLFswLDEsMF0sW2osaSwxXV07eSh0aGlzLGQoWix0aGlzLm1fKSxmYWxzZSl9O00ucm90YXRlPWZ1bmN0aW9uKGkpe3ZhciBtPVUoaSk7dmFyIGo9SihpKTt2YXIgWj1bW20saiwwXSxbLWosbSwwXSxbMCwwLDFdXTt5KHRoaXMsZChaLHRoaXMubV8pLGZhbHNlKX07TS5zY2FsZT1mdW5jdGlvbihqLGkpe3RoaXMuYXJjU2NhbGVYXyo9ajt0aGlzLmFyY1NjYWxlWV8qPWk7dmFyIFo9W1tqLDAsMF0sWzAsaSwwXSxbMCwwLDFdXTt5KHRoaXMsZChaLHRoaXMubV8pLHRydWUpfTtNLnRyYW5zZm9ybT1mdW5jdGlvbihwLG0sQUYsQUUsaSxaKXt2YXIgaj1bW3AsbSwwXSxbQUYsQUUsMF0sW2ksWiwxXV07eSh0aGlzLGQoaix0aGlzLm1fKSx0cnVlKX07TS5zZXRUcmFuc2Zvcm09ZnVuY3Rpb24oQUUscCxBRyxBRixqLGkpe3ZhciBaPVtbQUUscCwwXSxbQUcsQUYsMF0sW2osaSwxXV07eSh0aGlzLFosdHJ1ZSl9O00uZHJhd1RleHRfPWZ1bmN0aW9uKEFLLEFJLEFILEFOLEFHKXt2YXIgQU09dGhpcy5tXyxBUT0xMDAwLGk9MCxBUD1BUSxBRj17eDowLHk6MH0sQUU9W107dmFyIFo9UChYKHRoaXMuZm9udCksdGhpcy5lbGVtZW50Xyk7dmFyIGo9QUEoWik7dmFyIEFSPXRoaXMuZWxlbWVudF8uY3VycmVudFN0eWxlO3ZhciBwPXRoaXMudGV4dEFsaWduLnRvTG93ZXJDYXNlKCk7c3dpdGNoKHApe2Nhc2VcImxlZnRcIjpjYXNlXCJjZW50ZXJcIjpjYXNlXCJyaWdodFwiOmJyZWFrO2Nhc2VcImVuZFwiOnA9QVIuZGlyZWN0aW9uPT1cImx0clwiP1wicmlnaHRcIjpcImxlZnRcIjticmVhaztjYXNlXCJzdGFydFwiOnA9QVIuZGlyZWN0aW9uPT1cInJ0bFwiP1wicmlnaHRcIjpcImxlZnRcIjticmVhaztkZWZhdWx0OnA9XCJsZWZ0XCJ9c3dpdGNoKHRoaXMudGV4dEJhc2VsaW5lKXtjYXNlXCJoYW5naW5nXCI6Y2FzZVwidG9wXCI6QUYueT1aLnNpemUvMS43NTticmVhaztjYXNlXCJtaWRkbGVcIjpicmVhaztkZWZhdWx0OmNhc2UgbnVsbDpjYXNlXCJhbHBoYWJldGljXCI6Y2FzZVwiaWRlb2dyYXBoaWNcIjpjYXNlXCJib3R0b21cIjpBRi55PS1aLnNpemUvMi4yNTticmVha31zd2l0Y2gocCl7Y2FzZVwicmlnaHRcIjppPUFRO0FQPTAuMDU7YnJlYWs7Y2FzZVwiY2VudGVyXCI6aT1BUD1BUS8yO2JyZWFrfXZhciBBTz10aGlzLmdldENvb3Jkc18oQUkrQUYueCxBSCtBRi55KTtBRS5wdXNoKCc8Z192bWxfOmxpbmUgZnJvbT1cIicsLWksJyAwXCIgdG89XCInLEFQLCcgMC4wNVwiICcsJyBjb29yZHNpemU9XCIxMDAgMTAwXCIgY29vcmRvcmlnaW49XCIwIDBcIicsJyBmaWxsZWQ9XCInLCFBRywnXCIgc3Ryb2tlZD1cIicsISFBRywnXCIgc3R5bGU9XCJwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoxcHg7aGVpZ2h0OjFweDtcIj4nKTtpZihBRyl7Uih0aGlzLEFFKX1lbHNle2EodGhpcyxBRSx7eDotaSx5OjB9LHt4OkFQLHk6Wi5zaXplfSl9dmFyIEFMPUFNWzBdWzBdLnRvRml4ZWQoMykrXCIsXCIrQU1bMV1bMF0udG9GaXhlZCgzKStcIixcIitBTVswXVsxXS50b0ZpeGVkKDMpK1wiLFwiK0FNWzFdWzFdLnRvRml4ZWQoMykrXCIsMCwwXCI7dmFyIEFKPUsoQU8ueC9EKStcIixcIitLKEFPLnkvRCk7QUUucHVzaCgnPGdfdm1sXzpza2V3IG9uPVwidFwiIG1hdHJpeD1cIicsQUwsJ1wiICcsJyBvZmZzZXQ9XCInLEFKLCdcIiBvcmlnaW49XCInLGksJyAwXCIgLz4nLCc8Z192bWxfOnBhdGggdGV4dHBhdGhvaz1cInRydWVcIiAvPicsJzxnX3ZtbF86dGV4dHBhdGggb249XCJ0cnVlXCIgc3RyaW5nPVwiJyxBRChBSyksJ1wiIHN0eWxlPVwidi10ZXh0LWFsaWduOicscCxcIjtmb250OlwiLEFEKGopLCdcIiAvPjwvZ192bWxfOmxpbmU+Jyk7dGhpcy5lbGVtZW50Xy5pbnNlcnRBZGphY2VudEhUTUwoXCJiZWZvcmVFbmRcIixBRS5qb2luKFwiXCIpKX07TS5maWxsVGV4dD1mdW5jdGlvbihqLFosbSxpKXt0aGlzLmRyYXdUZXh0XyhqLFosbSxpLGZhbHNlKX07TS5zdHJva2VUZXh0PWZ1bmN0aW9uKGosWixtLGkpe3RoaXMuZHJhd1RleHRfKGosWixtLGksdHJ1ZSl9O00ubWVhc3VyZVRleHQ9ZnVuY3Rpb24oail7aWYoIXRoaXMudGV4dE1lYXN1cmVFbF8pe3ZhciBaPSc8c3BhbiBzdHlsZT1cInBvc2l0aW9uOmFic29sdXRlO3RvcDotMjAwMDBweDtsZWZ0OjA7cGFkZGluZzowO21hcmdpbjowO2JvcmRlcjpub25lO3doaXRlLXNwYWNlOnByZTtcIj48L3NwYW4+Jzt0aGlzLmVsZW1lbnRfLmluc2VydEFkamFjZW50SFRNTChcImJlZm9yZUVuZFwiLFopO3RoaXMudGV4dE1lYXN1cmVFbF89dGhpcy5lbGVtZW50Xy5sYXN0Q2hpbGR9dmFyIGk9dGhpcy5lbGVtZW50Xy5vd25lckRvY3VtZW50O3RoaXMudGV4dE1lYXN1cmVFbF8uaW5uZXJIVE1MPVwiXCI7dGhpcy50ZXh0TWVhc3VyZUVsXy5zdHlsZS5mb250PXRoaXMuZm9udDt0aGlzLnRleHRNZWFzdXJlRWxfLmFwcGVuZENoaWxkKGkuY3JlYXRlVGV4dE5vZGUoaikpO3JldHVybnt3aWR0aDp0aGlzLnRleHRNZWFzdXJlRWxfLm9mZnNldFdpZHRofX07TS5jbGlwPWZ1bmN0aW9uKCl7fTtNLmFyY1RvPWZ1bmN0aW9uKCl7fTtNLmNyZWF0ZVBhdHRlcm49ZnVuY3Rpb24oaSxaKXtyZXR1cm4gbmV3IHUoaSxaKX07ZnVuY3Rpb24gdihaKXt0aGlzLnR5cGVfPVo7dGhpcy54MF89MDt0aGlzLnkwXz0wO3RoaXMucjBfPTA7dGhpcy54MV89MDt0aGlzLnkxXz0wO3RoaXMucjFfPTA7dGhpcy5jb2xvcnNfPVtdfXYucHJvdG90eXBlLmFkZENvbG9yU3RvcD1mdW5jdGlvbihpLFope1o9WShaKTt0aGlzLmNvbG9yc18ucHVzaCh7b2Zmc2V0OmksY29sb3I6Wi5jb2xvcixhbHBoYTpaLmFscGhhfSl9O2Z1bmN0aW9uIHUoaSxaKXtxKGkpO3N3aXRjaChaKXtjYXNlXCJyZXBlYXRcIjpjYXNlIG51bGw6Y2FzZVwiXCI6dGhpcy5yZXBldGl0aW9uXz1cInJlcGVhdFwiO2JyZWFrO2Nhc2VcInJlcGVhdC14XCI6Y2FzZVwicmVwZWF0LXlcIjpjYXNlXCJuby1yZXBlYXRcIjp0aGlzLnJlcGV0aXRpb25fPVo7YnJlYWs7ZGVmYXVsdDpuKFwiU1lOVEFYX0VSUlwiKX10aGlzLnNyY189aS5zcmM7dGhpcy53aWR0aF89aS53aWR0aDt0aGlzLmhlaWdodF89aS5oZWlnaHR9ZnVuY3Rpb24gbihaKXt0aHJvdyBuZXcgbyhaKX1mdW5jdGlvbiBxKFope2lmKCFafHxaLm5vZGVUeXBlIT0xfHxaLnRhZ05hbWUhPVwiSU1HXCIpe24oXCJUWVBFX01JU01BVENIX0VSUlwiKX1pZihaLnJlYWR5U3RhdGUhPVwiY29tcGxldGVcIil7bihcIklOVkFMSURfU1RBVEVfRVJSXCIpfX1mdW5jdGlvbiBvKFope3RoaXMuY29kZT10aGlzW1pdO3RoaXMubWVzc2FnZT1aK1wiOiBET00gRXhjZXB0aW9uIFwiK3RoaXMuY29kZX12YXIgeD1vLnByb3RvdHlwZT1uZXcgRXJyb3I7eC5JTkRFWF9TSVpFX0VSUj0xO3guRE9NU1RSSU5HX1NJWkVfRVJSPTI7eC5ISUVSQVJDSFlfUkVRVUVTVF9FUlI9Mzt4LldST05HX0RPQ1VNRU5UX0VSUj00O3guSU5WQUxJRF9DSEFSQUNURVJfRVJSPTU7eC5OT19EQVRBX0FMTE9XRURfRVJSPTY7eC5OT19NT0RJRklDQVRJT05fQUxMT1dFRF9FUlI9Nzt4Lk5PVF9GT1VORF9FUlI9ODt4Lk5PVF9TVVBQT1JURURfRVJSPTk7eC5JTlVTRV9BVFRSSUJVVEVfRVJSPTEwO3guSU5WQUxJRF9TVEFURV9FUlI9MTE7eC5TWU5UQVhfRVJSPTEyO3guSU5WQUxJRF9NT0RJRklDQVRJT05fRVJSPTEzO3guTkFNRVNQQUNFX0VSUj0xNDt4LklOVkFMSURfQUNDRVNTX0VSUj0xNTt4LlZBTElEQVRJT05fRVJSPTE2O3guVFlQRV9NSVNNQVRDSF9FUlI9MTc7R192bWxDYW52YXNNYW5hZ2VyPUU7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEPVc7Q2FudmFzR3JhZGllbnQ9djtDYW52YXNQYXR0ZXJuPXU7RE9NRXhjZXB0aW9uPW99KSgpfTtcbiIsIi8qISBqUXVlcnkgVUkgLSB2MS4xMC4xIC0gMjAxMy0wMi0xNVxuKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4qIEluY2x1ZGVzOiBqcXVlcnkudWkuY29yZS5qc1xuKiBDb3B5cmlnaHQgMjAxMyBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzOyBMaWNlbnNlZCBNSVQgKi9cbihmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIGkodCxuKXt2YXIgcixpLG8sdT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCJhcmVhXCI9PT11PyhyPXQucGFyZW50Tm9kZSxpPXIubmFtZSwhdC5ocmVmfHwhaXx8ci5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIT09XCJtYXBcIj8hMToobz1lKFwiaW1nW3VzZW1hcD0jXCIraStcIl1cIilbMF0sISFvJiZzKG8pKSk6KC9pbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9ufG9iamVjdC8udGVzdCh1KT8hdC5kaXNhYmxlZDpcImFcIj09PXU/dC5ocmVmfHxuOm4pJiZzKHQpfWZ1bmN0aW9uIHModCl7cmV0dXJuIGUuZXhwci5maWx0ZXJzLnZpc2libGUodCkmJiFlKHQpLnBhcmVudHMoKS5hZGRCYWNrKCkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIGUuY3NzKHRoaXMsXCJ2aXNpYmlsaXR5XCIpPT09XCJoaWRkZW5cIn0pLmxlbmd0aH12YXIgbj0wLHI9L151aS1pZC1cXGQrJC87ZS51aT1lLnVpfHx7fTtpZihlLnVpLnZlcnNpb24pcmV0dXJuO2UuZXh0ZW5kKGUudWkse3ZlcnNpb246XCIxLjEwLjFcIixrZXlDb2RlOntCQUNLU1BBQ0U6OCxDT01NQToxODgsREVMRVRFOjQ2LERPV046NDAsRU5EOjM1LEVOVEVSOjEzLEVTQ0FQRToyNyxIT01FOjM2LExFRlQ6MzcsTlVNUEFEX0FERDoxMDcsTlVNUEFEX0RFQ0lNQUw6MTEwLE5VTVBBRF9ESVZJREU6MTExLE5VTVBBRF9FTlRFUjoxMDgsTlVNUEFEX01VTFRJUExZOjEwNixOVU1QQURfU1VCVFJBQ1Q6MTA5LFBBR0VfRE9XTjozNCxQQUdFX1VQOjMzLFBFUklPRDoxOTAsUklHSFQ6MzksU1BBQ0U6MzIsVEFCOjksVVA6Mzh9fSksZS5mbi5leHRlbmQoe19mb2N1czplLmZuLmZvY3VzLGZvY3VzOmZ1bmN0aW9uKHQsbil7cmV0dXJuIHR5cGVvZiB0PT1cIm51bWJlclwiP3RoaXMuZWFjaChmdW5jdGlvbigpe3ZhciByPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2UocikuZm9jdXMoKSxuJiZuLmNhbGwocil9LHQpfSk6dGhpcy5fZm9jdXMuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxzY3JvbGxQYXJlbnQ6ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gZS51aS5pZSYmLyhzdGF0aWN8cmVsYXRpdmUpLy50ZXN0KHRoaXMuY3NzKFwicG9zaXRpb25cIikpfHwvYWJzb2x1dGUvLnRlc3QodGhpcy5jc3MoXCJwb3NpdGlvblwiKSk/dD10aGlzLnBhcmVudHMoKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4vKHJlbGF0aXZlfGFic29sdXRlfGZpeGVkKS8udGVzdChlLmNzcyh0aGlzLFwicG9zaXRpb25cIikpJiYvKGF1dG98c2Nyb2xsKS8udGVzdChlLmNzcyh0aGlzLFwib3ZlcmZsb3dcIikrZS5jc3ModGhpcyxcIm92ZXJmbG93LXlcIikrZS5jc3ModGhpcyxcIm92ZXJmbG93LXhcIikpfSkuZXEoMCk6dD10aGlzLnBhcmVudHMoKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4vKGF1dG98c2Nyb2xsKS8udGVzdChlLmNzcyh0aGlzLFwib3ZlcmZsb3dcIikrZS5jc3ModGhpcyxcIm92ZXJmbG93LXlcIikrZS5jc3ModGhpcyxcIm92ZXJmbG93LXhcIikpfSkuZXEoMCksL2ZpeGVkLy50ZXN0KHRoaXMuY3NzKFwicG9zaXRpb25cIikpfHwhdC5sZW5ndGg/ZShkb2N1bWVudCk6dH0sekluZGV4OmZ1bmN0aW9uKG4pe2lmKG4hPT10KXJldHVybiB0aGlzLmNzcyhcInpJbmRleFwiLG4pO2lmKHRoaXMubGVuZ3RoKXt2YXIgcj1lKHRoaXNbMF0pLGksczt3aGlsZShyLmxlbmd0aCYmclswXSE9PWRvY3VtZW50KXtpPXIuY3NzKFwicG9zaXRpb25cIik7aWYoaT09PVwiYWJzb2x1dGVcInx8aT09PVwicmVsYXRpdmVcInx8aT09PVwiZml4ZWRcIil7cz1wYXJzZUludChyLmNzcyhcInpJbmRleFwiKSwxMCk7aWYoIWlzTmFOKHMpJiZzIT09MClyZXR1cm4gc31yPXIucGFyZW50KCl9fXJldHVybiAwfSx1bmlxdWVJZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt0aGlzLmlkfHwodGhpcy5pZD1cInVpLWlkLVwiKyArK24pfSl9LHJlbW92ZVVuaXF1ZUlkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3IudGVzdCh0aGlzLmlkKSYmZSh0aGlzKS5yZW1vdmVBdHRyKFwiaWRcIil9KX19KSxlLmV4dGVuZChlLmV4cHJbXCI6XCJdLHtkYXRhOmUuZXhwci5jcmVhdGVQc2V1ZG8/ZS5leHByLmNyZWF0ZVBzZXVkbyhmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuISFlLmRhdGEobix0KX19KTpmdW5jdGlvbih0LG4scil7cmV0dXJuISFlLmRhdGEodCxyWzNdKX0sZm9jdXNhYmxlOmZ1bmN0aW9uKHQpe3JldHVybiBpKHQsIWlzTmFOKGUuYXR0cih0LFwidGFiaW5kZXhcIikpKX0sdGFiYmFibGU6ZnVuY3Rpb24odCl7dmFyIG49ZS5hdHRyKHQsXCJ0YWJpbmRleFwiKSxyPWlzTmFOKG4pO3JldHVybihyfHxuPj0wKSYmaSh0LCFyKX19KSxlKFwiPGE+XCIpLm91dGVyV2lkdGgoMSkuanF1ZXJ5fHxlLmVhY2goW1wiV2lkdGhcIixcIkhlaWdodFwiXSxmdW5jdGlvbihuLHIpe2Z1bmN0aW9uIHUodCxuLHIscyl7cmV0dXJuIGUuZWFjaChpLGZ1bmN0aW9uKCl7bi09cGFyc2VGbG9hdChlLmNzcyh0LFwicGFkZGluZ1wiK3RoaXMpKXx8MCxyJiYobi09cGFyc2VGbG9hdChlLmNzcyh0LFwiYm9yZGVyXCIrdGhpcytcIldpZHRoXCIpKXx8MCkscyYmKG4tPXBhcnNlRmxvYXQoZS5jc3ModCxcIm1hcmdpblwiK3RoaXMpKXx8MCl9KSxufXZhciBpPXI9PT1cIldpZHRoXCI/W1wiTGVmdFwiLFwiUmlnaHRcIl06W1wiVG9wXCIsXCJCb3R0b21cIl0scz1yLnRvTG93ZXJDYXNlKCksbz17aW5uZXJXaWR0aDplLmZuLmlubmVyV2lkdGgsaW5uZXJIZWlnaHQ6ZS5mbi5pbm5lckhlaWdodCxvdXRlcldpZHRoOmUuZm4ub3V0ZXJXaWR0aCxvdXRlckhlaWdodDplLmZuLm91dGVySGVpZ2h0fTtlLmZuW1wiaW5uZXJcIityXT1mdW5jdGlvbihuKXtyZXR1cm4gbj09PXQ/b1tcImlubmVyXCIrcl0uY2FsbCh0aGlzKTp0aGlzLmVhY2goZnVuY3Rpb24oKXtlKHRoaXMpLmNzcyhzLHUodGhpcyxuKStcInB4XCIpfSl9LGUuZm5bXCJvdXRlclwiK3JdPWZ1bmN0aW9uKHQsbil7cmV0dXJuIHR5cGVvZiB0IT1cIm51bWJlclwiP29bXCJvdXRlclwiK3JdLmNhbGwodGhpcyx0KTp0aGlzLmVhY2goZnVuY3Rpb24oKXtlKHRoaXMpLmNzcyhzLHUodGhpcyx0LCEwLG4pK1wicHhcIil9KX19KSxlLmZuLmFkZEJhY2t8fChlLmZuLmFkZEJhY2s9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYWRkKGU9PW51bGw/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIoZSkpfSksZShcIjxhPlwiKS5kYXRhKFwiYS1iXCIsXCJhXCIpLnJlbW92ZURhdGEoXCJhLWJcIikuZGF0YShcImEtYlwiKSYmKGUuZm4ucmVtb3ZlRGF0YT1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/dC5jYWxsKHRoaXMsZS5jYW1lbENhc2UobikpOnQuY2FsbCh0aGlzKX19KGUuZm4ucmVtb3ZlRGF0YSkpLGUudWkuaWU9ISEvbXNpZSBbXFx3Ll0rLy5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSksZS5zdXBwb3J0LnNlbGVjdHN0YXJ0PVwib25zZWxlY3RzdGFydFwiaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxlLmZuLmV4dGVuZCh7ZGlzYWJsZVNlbGVjdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJpbmQoKGUuc3VwcG9ydC5zZWxlY3RzdGFydD9cInNlbGVjdHN0YXJ0XCI6XCJtb3VzZWRvd25cIikrXCIudWktZGlzYWJsZVNlbGVjdGlvblwiLGZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKX0pfSxlbmFibGVTZWxlY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bmJpbmQoXCIudWktZGlzYWJsZVNlbGVjdGlvblwiKX19KSxlLmV4dGVuZChlLnVpLHtwbHVnaW46e2FkZDpmdW5jdGlvbih0LG4scil7dmFyIGkscz1lLnVpW3RdLnByb3RvdHlwZTtmb3IoaSBpbiByKXMucGx1Z2luc1tpXT1zLnBsdWdpbnNbaV18fFtdLHMucGx1Z2luc1tpXS5wdXNoKFtuLHJbaV1dKX0sY2FsbDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaT1lLnBsdWdpbnNbdF07aWYoIWl8fCFlLmVsZW1lbnRbMF0ucGFyZW50Tm9kZXx8ZS5lbGVtZW50WzBdLnBhcmVudE5vZGUubm9kZVR5cGU9PT0xMSlyZXR1cm47Zm9yKHI9MDtyPGkubGVuZ3RoO3IrKyllLm9wdGlvbnNbaVtyXVswXV0mJmlbcl1bMV0uYXBwbHkoZS5lbGVtZW50LG4pfX0saGFzU2Nyb2xsOmZ1bmN0aW9uKHQsbil7aWYoZSh0KS5jc3MoXCJvdmVyZmxvd1wiKT09PVwiaGlkZGVuXCIpcmV0dXJuITE7dmFyIHI9biYmbj09PVwibGVmdFwiP1wic2Nyb2xsTGVmdFwiOlwic2Nyb2xsVG9wXCIsaT0hMTtyZXR1cm4gdFtyXT4wPyEwOih0W3JdPTEsaT10W3JdPjAsdFtyXT0wLGkpfX0pfSkoalF1ZXJ5KTsiLCIvKiEgalF1ZXJ5IFVJIC0gdjEuMTAuMSAtIDIwMTMtMDItMTVcbiogaHR0cDovL2pxdWVyeXVpLmNvbVxuKiBJbmNsdWRlczoganF1ZXJ5LnVpLndpZGdldC5qc1xuKiBDb3B5cmlnaHQgMjAxMyBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzOyBMaWNlbnNlZCBNSVQgKi9cbihmdW5jdGlvbihlLHQpe3ZhciBuPTAscj1BcnJheS5wcm90b3R5cGUuc2xpY2UsaT1lLmNsZWFuRGF0YTtlLmNsZWFuRGF0YT1mdW5jdGlvbih0KXtmb3IodmFyIG49MCxyOyhyPXRbbl0pIT1udWxsO24rKyl0cnl7ZShyKS50cmlnZ2VySGFuZGxlcihcInJlbW92ZVwiKX1jYXRjaChzKXt9aSh0KX0sZS53aWRnZXQ9ZnVuY3Rpb24odCxuLHIpe3ZhciBpLHMsbyx1LGE9e30sZj10LnNwbGl0KFwiLlwiKVswXTt0PXQuc3BsaXQoXCIuXCIpWzFdLGk9ZitcIi1cIit0LHJ8fChyPW4sbj1lLldpZGdldCksZS5leHByW1wiOlwiXVtpLnRvTG93ZXJDYXNlKCldPWZ1bmN0aW9uKHQpe3JldHVybiEhZS5kYXRhKHQsaSl9LGVbZl09ZVtmXXx8e30scz1lW2ZdW3RdLG89ZVtmXVt0XT1mdW5jdGlvbihlLHQpe2lmKCF0aGlzLl9jcmVhdGVXaWRnZXQpcmV0dXJuIG5ldyBvKGUsdCk7YXJndW1lbnRzLmxlbmd0aCYmdGhpcy5fY3JlYXRlV2lkZ2V0KGUsdCl9LGUuZXh0ZW5kKG8scyx7dmVyc2lvbjpyLnZlcnNpb24sX3Byb3RvOmUuZXh0ZW5kKHt9LHIpLF9jaGlsZENvbnN0cnVjdG9yczpbXX0pLHU9bmV3IG4sdS5vcHRpb25zPWUud2lkZ2V0LmV4dGVuZCh7fSx1Lm9wdGlvbnMpLGUuZWFjaChyLGZ1bmN0aW9uKHQscil7aWYoIWUuaXNGdW5jdGlvbihyKSl7YVt0XT1yO3JldHVybn1hW3RdPWZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4gbi5wcm90b3R5cGVbdF0uYXBwbHkodGhpcyxhcmd1bWVudHMpfSxpPWZ1bmN0aW9uKGUpe3JldHVybiBuLnByb3RvdHlwZVt0XS5hcHBseSh0aGlzLGUpfTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9zdXBlcixuPXRoaXMuX3N1cGVyQXBwbHkscztyZXR1cm4gdGhpcy5fc3VwZXI9ZSx0aGlzLl9zdXBlckFwcGx5PWkscz1yLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl9zdXBlcj10LHRoaXMuX3N1cGVyQXBwbHk9bixzfX0oKX0pLG8ucHJvdG90eXBlPWUud2lkZ2V0LmV4dGVuZCh1LHt3aWRnZXRFdmVudFByZWZpeDpzP3Uud2lkZ2V0RXZlbnRQcmVmaXg6dH0sYSx7Y29uc3RydWN0b3I6byxuYW1lc3BhY2U6Zix3aWRnZXROYW1lOnQsd2lkZ2V0RnVsbE5hbWU6aX0pLHM/KGUuZWFjaChzLl9jaGlsZENvbnN0cnVjdG9ycyxmdW5jdGlvbih0LG4pe3ZhciByPW4ucHJvdG90eXBlO2Uud2lkZ2V0KHIubmFtZXNwYWNlK1wiLlwiK3Iud2lkZ2V0TmFtZSxvLG4uX3Byb3RvKX0pLGRlbGV0ZSBzLl9jaGlsZENvbnN0cnVjdG9ycyk6bi5fY2hpbGRDb25zdHJ1Y3RvcnMucHVzaChvKSxlLndpZGdldC5icmlkZ2UodCxvKX0sZS53aWRnZXQuZXh0ZW5kPWZ1bmN0aW9uKG4pe3ZhciBpPXIuY2FsbChhcmd1bWVudHMsMSkscz0wLG89aS5sZW5ndGgsdSxhO2Zvcig7czxvO3MrKylmb3IodSBpbiBpW3NdKWE9aVtzXVt1XSxpW3NdLmhhc093blByb3BlcnR5KHUpJiZhIT09dCYmKGUuaXNQbGFpbk9iamVjdChhKT9uW3VdPWUuaXNQbGFpbk9iamVjdChuW3VdKT9lLndpZGdldC5leHRlbmQoe30sblt1XSxhKTplLndpZGdldC5leHRlbmQoe30sYSk6blt1XT1hKTtyZXR1cm4gbn0sZS53aWRnZXQuYnJpZGdlPWZ1bmN0aW9uKG4saSl7dmFyIHM9aS5wcm90b3R5cGUud2lkZ2V0RnVsbE5hbWV8fG47ZS5mbltuXT1mdW5jdGlvbihvKXt2YXIgdT10eXBlb2Ygbz09XCJzdHJpbmdcIixhPXIuY2FsbChhcmd1bWVudHMsMSksZj10aGlzO3JldHVybiBvPSF1JiZhLmxlbmd0aD9lLndpZGdldC5leHRlbmQuYXBwbHkobnVsbCxbb10uY29uY2F0KGEpKTpvLHU/dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHIsaT1lLmRhdGEodGhpcyxzKTtpZighaSlyZXR1cm4gZS5lcnJvcihcImNhbm5vdCBjYWxsIG1ldGhvZHMgb24gXCIrbitcIiBwcmlvciB0byBpbml0aWFsaXphdGlvbjsgXCIrXCJhdHRlbXB0ZWQgdG8gY2FsbCBtZXRob2QgJ1wiK28rXCInXCIpO2lmKCFlLmlzRnVuY3Rpb24oaVtvXSl8fG8uY2hhckF0KDApPT09XCJfXCIpcmV0dXJuIGUuZXJyb3IoXCJubyBzdWNoIG1ldGhvZCAnXCIrbytcIicgZm9yIFwiK24rXCIgd2lkZ2V0IGluc3RhbmNlXCIpO3I9aVtvXS5hcHBseShpLGEpO2lmKHIhPT1pJiZyIT09dClyZXR1cm4gZj1yJiZyLmpxdWVyeT9mLnB1c2hTdGFjayhyLmdldCgpKTpyLCExfSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9ZS5kYXRhKHRoaXMscyk7dD90Lm9wdGlvbihvfHx7fSkuX2luaXQoKTplLmRhdGEodGhpcyxzLG5ldyBpKG8sdGhpcykpfSksZn19LGUuV2lkZ2V0PWZ1bmN0aW9uKCl7fSxlLldpZGdldC5fY2hpbGRDb25zdHJ1Y3RvcnM9W10sZS5XaWRnZXQucHJvdG90eXBlPXt3aWRnZXROYW1lOlwid2lkZ2V0XCIsd2lkZ2V0RXZlbnRQcmVmaXg6XCJcIixkZWZhdWx0RWxlbWVudDpcIjxkaXY+XCIsb3B0aW9uczp7ZGlzYWJsZWQ6ITEsY3JlYXRlOm51bGx9LF9jcmVhdGVXaWRnZXQ6ZnVuY3Rpb24odCxyKXtyPWUocnx8dGhpcy5kZWZhdWx0RWxlbWVudHx8dGhpcylbMF0sdGhpcy5lbGVtZW50PWUociksdGhpcy51dWlkPW4rKyx0aGlzLmV2ZW50TmFtZXNwYWNlPVwiLlwiK3RoaXMud2lkZ2V0TmFtZSt0aGlzLnV1aWQsdGhpcy5vcHRpb25zPWUud2lkZ2V0LmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMsdGhpcy5fZ2V0Q3JlYXRlT3B0aW9ucygpLHQpLHRoaXMuYmluZGluZ3M9ZSgpLHRoaXMuaG92ZXJhYmxlPWUoKSx0aGlzLmZvY3VzYWJsZT1lKCksciE9PXRoaXMmJihlLmRhdGEocix0aGlzLndpZGdldEZ1bGxOYW1lLHRoaXMpLHRoaXMuX29uKCEwLHRoaXMuZWxlbWVudCx7cmVtb3ZlOmZ1bmN0aW9uKGUpe2UudGFyZ2V0PT09ciYmdGhpcy5kZXN0cm95KCl9fSksdGhpcy5kb2N1bWVudD1lKHIuc3R5bGU/ci5vd25lckRvY3VtZW50OnIuZG9jdW1lbnR8fHIpLHRoaXMud2luZG93PWUodGhpcy5kb2N1bWVudFswXS5kZWZhdWx0Vmlld3x8dGhpcy5kb2N1bWVudFswXS5wYXJlbnRXaW5kb3cpKSx0aGlzLl9jcmVhdGUoKSx0aGlzLl90cmlnZ2VyKFwiY3JlYXRlXCIsbnVsbCx0aGlzLl9nZXRDcmVhdGVFdmVudERhdGEoKSksdGhpcy5faW5pdCgpfSxfZ2V0Q3JlYXRlT3B0aW9uczplLm5vb3AsX2dldENyZWF0ZUV2ZW50RGF0YTplLm5vb3AsX2NyZWF0ZTplLm5vb3AsX2luaXQ6ZS5ub29wLGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9kZXN0cm95KCksdGhpcy5lbGVtZW50LnVuYmluZCh0aGlzLmV2ZW50TmFtZXNwYWNlKS5yZW1vdmVEYXRhKHRoaXMud2lkZ2V0TmFtZSkucmVtb3ZlRGF0YSh0aGlzLndpZGdldEZ1bGxOYW1lKS5yZW1vdmVEYXRhKGUuY2FtZWxDYXNlKHRoaXMud2lkZ2V0RnVsbE5hbWUpKSx0aGlzLndpZGdldCgpLnVuYmluZCh0aGlzLmV2ZW50TmFtZXNwYWNlKS5yZW1vdmVBdHRyKFwiYXJpYS1kaXNhYmxlZFwiKS5yZW1vdmVDbGFzcyh0aGlzLndpZGdldEZ1bGxOYW1lK1wiLWRpc2FibGVkIFwiK1widWktc3RhdGUtZGlzYWJsZWRcIiksdGhpcy5iaW5kaW5ncy51bmJpbmQodGhpcy5ldmVudE5hbWVzcGFjZSksdGhpcy5ob3ZlcmFibGUucmVtb3ZlQ2xhc3MoXCJ1aS1zdGF0ZS1ob3ZlclwiKSx0aGlzLmZvY3VzYWJsZS5yZW1vdmVDbGFzcyhcInVpLXN0YXRlLWZvY3VzXCIpfSxfZGVzdHJveTplLm5vb3Asd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudH0sb3B0aW9uOmZ1bmN0aW9uKG4scil7dmFyIGk9bixzLG8sdTtpZihhcmd1bWVudHMubGVuZ3RoPT09MClyZXR1cm4gZS53aWRnZXQuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyk7aWYodHlwZW9mIG49PVwic3RyaW5nXCIpe2k9e30scz1uLnNwbGl0KFwiLlwiKSxuPXMuc2hpZnQoKTtpZihzLmxlbmd0aCl7bz1pW25dPWUud2lkZ2V0LmV4dGVuZCh7fSx0aGlzLm9wdGlvbnNbbl0pO2Zvcih1PTA7dTxzLmxlbmd0aC0xO3UrKylvW3NbdV1dPW9bc1t1XV18fHt9LG89b1tzW3VdXTtuPXMucG9wKCk7aWYocj09PXQpcmV0dXJuIG9bbl09PT10P251bGw6b1tuXTtvW25dPXJ9ZWxzZXtpZihyPT09dClyZXR1cm4gdGhpcy5vcHRpb25zW25dPT09dD9udWxsOnRoaXMub3B0aW9uc1tuXTtpW25dPXJ9fXJldHVybiB0aGlzLl9zZXRPcHRpb25zKGkpLHRoaXN9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGUpe3ZhciB0O2Zvcih0IGluIGUpdGhpcy5fc2V0T3B0aW9uKHQsZVt0XSk7cmV0dXJuIHRoaXN9LF9zZXRPcHRpb246ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5vcHRpb25zW2VdPXQsZT09PVwiZGlzYWJsZWRcIiYmKHRoaXMud2lkZ2V0KCkudG9nZ2xlQ2xhc3ModGhpcy53aWRnZXRGdWxsTmFtZStcIi1kaXNhYmxlZCB1aS1zdGF0ZS1kaXNhYmxlZFwiLCEhdCkuYXR0cihcImFyaWEtZGlzYWJsZWRcIix0KSx0aGlzLmhvdmVyYWJsZS5yZW1vdmVDbGFzcyhcInVpLXN0YXRlLWhvdmVyXCIpLHRoaXMuZm9jdXNhYmxlLnJlbW92ZUNsYXNzKFwidWktc3RhdGUtZm9jdXNcIikpLHRoaXN9LGVuYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXRPcHRpb24oXCJkaXNhYmxlZFwiLCExKX0sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXRPcHRpb24oXCJkaXNhYmxlZFwiLCEwKX0sX29uOmZ1bmN0aW9uKHQsbixyKXt2YXIgaSxzPXRoaXM7dHlwZW9mIHQhPVwiYm9vbGVhblwiJiYocj1uLG49dCx0PSExKSxyPyhuPWk9ZShuKSx0aGlzLmJpbmRpbmdzPXRoaXMuYmluZGluZ3MuYWRkKG4pKToocj1uLG49dGhpcy5lbGVtZW50LGk9dGhpcy53aWRnZXQoKSksZS5lYWNoKHIsZnVuY3Rpb24ocixvKXtmdW5jdGlvbiB1KCl7aWYoIXQmJihzLm9wdGlvbnMuZGlzYWJsZWQ9PT0hMHx8ZSh0aGlzKS5oYXNDbGFzcyhcInVpLXN0YXRlLWRpc2FibGVkXCIpKSlyZXR1cm47cmV0dXJuKHR5cGVvZiBvPT1cInN0cmluZ1wiP3Nbb106bykuYXBwbHkocyxhcmd1bWVudHMpfXR5cGVvZiBvIT1cInN0cmluZ1wiJiYodS5ndWlkPW8uZ3VpZD1vLmd1aWR8fHUuZ3VpZHx8ZS5ndWlkKyspO3ZhciBhPXIubWF0Y2goL14oXFx3KylcXHMqKC4qKSQvKSxmPWFbMV0rcy5ldmVudE5hbWVzcGFjZSxsPWFbMl07bD9pLmRlbGVnYXRlKGwsZix1KTpuLmJpbmQoZix1KX0pfSxfb2ZmOmZ1bmN0aW9uKGUsdCl7dD0odHx8XCJcIikuc3BsaXQoXCIgXCIpLmpvaW4odGhpcy5ldmVudE5hbWVzcGFjZStcIiBcIikrdGhpcy5ldmVudE5hbWVzcGFjZSxlLnVuYmluZCh0KS51bmRlbGVnYXRlKHQpfSxfZGVsYXk6ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKCl7cmV0dXJuKHR5cGVvZiBlPT1cInN0cmluZ1wiP3JbZV06ZSkuYXBwbHkocixhcmd1bWVudHMpfXZhciByPXRoaXM7cmV0dXJuIHNldFRpbWVvdXQobix0fHwwKX0sX2hvdmVyYWJsZTpmdW5jdGlvbih0KXt0aGlzLmhvdmVyYWJsZT10aGlzLmhvdmVyYWJsZS5hZGQodCksdGhpcy5fb24odCx7bW91c2VlbnRlcjpmdW5jdGlvbih0KXtlKHQuY3VycmVudFRhcmdldCkuYWRkQ2xhc3MoXCJ1aS1zdGF0ZS1ob3ZlclwiKX0sbW91c2VsZWF2ZTpmdW5jdGlvbih0KXtlKHQuY3VycmVudFRhcmdldCkucmVtb3ZlQ2xhc3MoXCJ1aS1zdGF0ZS1ob3ZlclwiKX19KX0sX2ZvY3VzYWJsZTpmdW5jdGlvbih0KXt0aGlzLmZvY3VzYWJsZT10aGlzLmZvY3VzYWJsZS5hZGQodCksdGhpcy5fb24odCx7Zm9jdXNpbjpmdW5jdGlvbih0KXtlKHQuY3VycmVudFRhcmdldCkuYWRkQ2xhc3MoXCJ1aS1zdGF0ZS1mb2N1c1wiKX0sZm9jdXNvdXQ6ZnVuY3Rpb24odCl7ZSh0LmN1cnJlbnRUYXJnZXQpLnJlbW92ZUNsYXNzKFwidWktc3RhdGUtZm9jdXNcIil9fSl9LF90cmlnZ2VyOmZ1bmN0aW9uKHQsbixyKXt2YXIgaSxzLG89dGhpcy5vcHRpb25zW3RdO3I9cnx8e30sbj1lLkV2ZW50KG4pLG4udHlwZT0odD09PXRoaXMud2lkZ2V0RXZlbnRQcmVmaXg/dDp0aGlzLndpZGdldEV2ZW50UHJlZml4K3QpLnRvTG93ZXJDYXNlKCksbi50YXJnZXQ9dGhpcy5lbGVtZW50WzBdLHM9bi5vcmlnaW5hbEV2ZW50O2lmKHMpZm9yKGkgaW4gcylpIGluIG58fChuW2ldPXNbaV0pO3JldHVybiB0aGlzLmVsZW1lbnQudHJpZ2dlcihuLHIpLCEoZS5pc0Z1bmN0aW9uKG8pJiZvLmFwcGx5KHRoaXMuZWxlbWVudFswXSxbbl0uY29uY2F0KHIpKT09PSExfHxuLmlzRGVmYXVsdFByZXZlbnRlZCgpKX19LGUuZWFjaCh7c2hvdzpcImZhZGVJblwiLGhpZGU6XCJmYWRlT3V0XCJ9LGZ1bmN0aW9uKHQsbil7ZS5XaWRnZXQucHJvdG90eXBlW1wiX1wiK3RdPWZ1bmN0aW9uKHIsaSxzKXt0eXBlb2YgaT09XCJzdHJpbmdcIiYmKGk9e2VmZmVjdDppfSk7dmFyIG8sdT1pP2k9PT0hMHx8dHlwZW9mIGk9PVwibnVtYmVyXCI/bjppLmVmZmVjdHx8bjp0O2k9aXx8e30sdHlwZW9mIGk9PVwibnVtYmVyXCImJihpPXtkdXJhdGlvbjppfSksbz0hZS5pc0VtcHR5T2JqZWN0KGkpLGkuY29tcGxldGU9cyxpLmRlbGF5JiZyLmRlbGF5KGkuZGVsYXkpLG8mJmUuZWZmZWN0cyYmZS5lZmZlY3RzLmVmZmVjdFt1XT9yW3RdKGkpOnUhPT10JiZyW3VdP3JbdV0oaS5kdXJhdGlvbixpLmVhc2luZyxzKTpyLnF1ZXVlKGZ1bmN0aW9uKG4pe2UodGhpcylbdF0oKSxzJiZzLmNhbGwoclswXSksbigpfSl9fSl9KShqUXVlcnkpOyIsIi8qISBqUXVlcnkgVUkgLSB2MS4xMC4zIC0gMjAxMy0wNi0xMlxuKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4qIENvcHlyaWdodCAyMDEzIGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnM7IExpY2Vuc2VkIE1JVCAqL1xuKGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaSh0LGUsaSl7cmV0dXJuW3BhcnNlRmxvYXQodFswXSkqKHAudGVzdCh0WzBdKT9lLzEwMDoxKSxwYXJzZUZsb2F0KHRbMV0pKihwLnRlc3QodFsxXSk/aS8xMDA6MSldfWZ1bmN0aW9uIHMoZSxpKXtyZXR1cm4gcGFyc2VJbnQodC5jc3MoZSxpKSwxMCl8fDB9ZnVuY3Rpb24gbihlKXt2YXIgaT1lWzBdO3JldHVybiA5PT09aS5ub2RlVHlwZT97d2lkdGg6ZS53aWR0aCgpLGhlaWdodDplLmhlaWdodCgpLG9mZnNldDp7dG9wOjAsbGVmdDowfX06dC5pc1dpbmRvdyhpKT97d2lkdGg6ZS53aWR0aCgpLGhlaWdodDplLmhlaWdodCgpLG9mZnNldDp7dG9wOmUuc2Nyb2xsVG9wKCksbGVmdDplLnNjcm9sbExlZnQoKX19OmkucHJldmVudERlZmF1bHQ/e3dpZHRoOjAsaGVpZ2h0OjAsb2Zmc2V0Ont0b3A6aS5wYWdlWSxsZWZ0OmkucGFnZVh9fTp7d2lkdGg6ZS5vdXRlcldpZHRoKCksaGVpZ2h0OmUub3V0ZXJIZWlnaHQoKSxvZmZzZXQ6ZS5vZmZzZXQoKX19dC51aT10LnVpfHx7fTt2YXIgYSxvPU1hdGgubWF4LHI9TWF0aC5hYnMsaD1NYXRoLnJvdW5kLGw9L2xlZnR8Y2VudGVyfHJpZ2h0LyxjPS90b3B8Y2VudGVyfGJvdHRvbS8sdT0vW1xcK1xcLV1cXGQrKFxcLltcXGRdKyk/JT8vLGQ9L15cXHcrLyxwPS8lJC8sZj10LmZuLnBvc2l0aW9uO3QucG9zaXRpb249e3Njcm9sbGJhcldpZHRoOmZ1bmN0aW9uKCl7aWYoYSE9PWUpcmV0dXJuIGE7dmFyIGkscyxuPXQoXCI8ZGl2IHN0eWxlPSdkaXNwbGF5OmJsb2NrO3dpZHRoOjUwcHg7aGVpZ2h0OjUwcHg7b3ZlcmZsb3c6aGlkZGVuOyc+PGRpdiBzdHlsZT0naGVpZ2h0OjEwMHB4O3dpZHRoOmF1dG87Jz48L2Rpdj48L2Rpdj5cIiksbz1uLmNoaWxkcmVuKClbMF07cmV0dXJuIHQoXCJib2R5XCIpLmFwcGVuZChuKSxpPW8ub2Zmc2V0V2lkdGgsbi5jc3MoXCJvdmVyZmxvd1wiLFwic2Nyb2xsXCIpLHM9by5vZmZzZXRXaWR0aCxpPT09cyYmKHM9blswXS5jbGllbnRXaWR0aCksbi5yZW1vdmUoKSxhPWktc30sZ2V0U2Nyb2xsSW5mbzpmdW5jdGlvbihlKXt2YXIgaT1lLmlzV2luZG93P1wiXCI6ZS5lbGVtZW50LmNzcyhcIm92ZXJmbG93LXhcIikscz1lLmlzV2luZG93P1wiXCI6ZS5lbGVtZW50LmNzcyhcIm92ZXJmbG93LXlcIiksbj1cInNjcm9sbFwiPT09aXx8XCJhdXRvXCI9PT1pJiZlLndpZHRoPGUuZWxlbWVudFswXS5zY3JvbGxXaWR0aCxhPVwic2Nyb2xsXCI9PT1zfHxcImF1dG9cIj09PXMmJmUuaGVpZ2h0PGUuZWxlbWVudFswXS5zY3JvbGxIZWlnaHQ7cmV0dXJue3dpZHRoOmE/dC5wb3NpdGlvbi5zY3JvbGxiYXJXaWR0aCgpOjAsaGVpZ2h0Om4/dC5wb3NpdGlvbi5zY3JvbGxiYXJXaWR0aCgpOjB9fSxnZXRXaXRoaW5JbmZvOmZ1bmN0aW9uKGUpe3ZhciBpPXQoZXx8d2luZG93KSxzPXQuaXNXaW5kb3coaVswXSk7cmV0dXJue2VsZW1lbnQ6aSxpc1dpbmRvdzpzLG9mZnNldDppLm9mZnNldCgpfHx7bGVmdDowLHRvcDowfSxzY3JvbGxMZWZ0Omkuc2Nyb2xsTGVmdCgpLHNjcm9sbFRvcDppLnNjcm9sbFRvcCgpLHdpZHRoOnM/aS53aWR0aCgpOmkub3V0ZXJXaWR0aCgpLGhlaWdodDpzP2kuaGVpZ2h0KCk6aS5vdXRlckhlaWdodCgpfX19LHQuZm4ucG9zaXRpb249ZnVuY3Rpb24oZSl7aWYoIWV8fCFlLm9mKXJldHVybiBmLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtlPXQuZXh0ZW5kKHt9LGUpO3ZhciBhLHAsbSxnLHYsYixfPXQoZS5vZikseT10LnBvc2l0aW9uLmdldFdpdGhpbkluZm8oZS53aXRoaW4pLHc9dC5wb3NpdGlvbi5nZXRTY3JvbGxJbmZvKHkpLHg9KGUuY29sbGlzaW9ufHxcImZsaXBcIikuc3BsaXQoXCIgXCIpLGs9e307cmV0dXJuIGI9bihfKSxfWzBdLnByZXZlbnREZWZhdWx0JiYoZS5hdD1cImxlZnQgdG9wXCIpLHA9Yi53aWR0aCxtPWIuaGVpZ2h0LGc9Yi5vZmZzZXQsdj10LmV4dGVuZCh7fSxnKSx0LmVhY2goW1wibXlcIixcImF0XCJdLGZ1bmN0aW9uKCl7dmFyIHQsaSxzPShlW3RoaXNdfHxcIlwiKS5zcGxpdChcIiBcIik7MT09PXMubGVuZ3RoJiYocz1sLnRlc3Qoc1swXSk/cy5jb25jYXQoW1wiY2VudGVyXCJdKTpjLnRlc3Qoc1swXSk/W1wiY2VudGVyXCJdLmNvbmNhdChzKTpbXCJjZW50ZXJcIixcImNlbnRlclwiXSksc1swXT1sLnRlc3Qoc1swXSk/c1swXTpcImNlbnRlclwiLHNbMV09Yy50ZXN0KHNbMV0pP3NbMV06XCJjZW50ZXJcIix0PXUuZXhlYyhzWzBdKSxpPXUuZXhlYyhzWzFdKSxrW3RoaXNdPVt0P3RbMF06MCxpP2lbMF06MF0sZVt0aGlzXT1bZC5leGVjKHNbMF0pWzBdLGQuZXhlYyhzWzFdKVswXV19KSwxPT09eC5sZW5ndGgmJih4WzFdPXhbMF0pLFwicmlnaHRcIj09PWUuYXRbMF0/di5sZWZ0Kz1wOlwiY2VudGVyXCI9PT1lLmF0WzBdJiYodi5sZWZ0Kz1wLzIpLFwiYm90dG9tXCI9PT1lLmF0WzFdP3YudG9wKz1tOlwiY2VudGVyXCI9PT1lLmF0WzFdJiYodi50b3ArPW0vMiksYT1pKGsuYXQscCxtKSx2LmxlZnQrPWFbMF0sdi50b3ArPWFbMV0sdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIG4sbCxjPXQodGhpcyksdT1jLm91dGVyV2lkdGgoKSxkPWMub3V0ZXJIZWlnaHQoKSxmPXModGhpcyxcIm1hcmdpbkxlZnRcIiksYj1zKHRoaXMsXCJtYXJnaW5Ub3BcIiksRD11K2Yrcyh0aGlzLFwibWFyZ2luUmlnaHRcIikrdy53aWR0aCxUPWQrYitzKHRoaXMsXCJtYXJnaW5Cb3R0b21cIikrdy5oZWlnaHQsQz10LmV4dGVuZCh7fSx2KSxNPWkoay5teSxjLm91dGVyV2lkdGgoKSxjLm91dGVySGVpZ2h0KCkpO1wicmlnaHRcIj09PWUubXlbMF0/Qy5sZWZ0LT11OlwiY2VudGVyXCI9PT1lLm15WzBdJiYoQy5sZWZ0LT11LzIpLFwiYm90dG9tXCI9PT1lLm15WzFdP0MudG9wLT1kOlwiY2VudGVyXCI9PT1lLm15WzFdJiYoQy50b3AtPWQvMiksQy5sZWZ0Kz1NWzBdLEMudG9wKz1NWzFdLHQuc3VwcG9ydC5vZmZzZXRGcmFjdGlvbnN8fChDLmxlZnQ9aChDLmxlZnQpLEMudG9wPWgoQy50b3ApKSxuPXttYXJnaW5MZWZ0OmYsbWFyZ2luVG9wOmJ9LHQuZWFjaChbXCJsZWZ0XCIsXCJ0b3BcIl0sZnVuY3Rpb24oaSxzKXt0LnVpLnBvc2l0aW9uW3hbaV1dJiZ0LnVpLnBvc2l0aW9uW3hbaV1dW3NdKEMse3RhcmdldFdpZHRoOnAsdGFyZ2V0SGVpZ2h0Om0sZWxlbVdpZHRoOnUsZWxlbUhlaWdodDpkLGNvbGxpc2lvblBvc2l0aW9uOm4sY29sbGlzaW9uV2lkdGg6RCxjb2xsaXNpb25IZWlnaHQ6VCxvZmZzZXQ6W2FbMF0rTVswXSxhWzFdK01bMV1dLG15OmUubXksYXQ6ZS5hdCx3aXRoaW46eSxlbGVtOmN9KX0pLGUudXNpbmcmJihsPWZ1bmN0aW9uKHQpe3ZhciBpPWcubGVmdC1DLmxlZnQscz1pK3AtdSxuPWcudG9wLUMudG9wLGE9bittLWQsaD17dGFyZ2V0OntlbGVtZW50Ol8sbGVmdDpnLmxlZnQsdG9wOmcudG9wLHdpZHRoOnAsaGVpZ2h0Om19LGVsZW1lbnQ6e2VsZW1lbnQ6YyxsZWZ0OkMubGVmdCx0b3A6Qy50b3Asd2lkdGg6dSxoZWlnaHQ6ZH0saG9yaXpvbnRhbDowPnM/XCJsZWZ0XCI6aT4wP1wicmlnaHRcIjpcImNlbnRlclwiLHZlcnRpY2FsOjA+YT9cInRvcFwiOm4+MD9cImJvdHRvbVwiOlwibWlkZGxlXCJ9O3U+cCYmcD5yKGkrcykmJihoLmhvcml6b250YWw9XCJjZW50ZXJcIiksZD5tJiZtPnIobithKSYmKGgudmVydGljYWw9XCJtaWRkbGVcIiksaC5pbXBvcnRhbnQ9byhyKGkpLHIocykpPm8ocihuKSxyKGEpKT9cImhvcml6b250YWxcIjpcInZlcnRpY2FsXCIsZS51c2luZy5jYWxsKHRoaXMsdCxoKX0pLGMub2Zmc2V0KHQuZXh0ZW5kKEMse3VzaW5nOmx9KSl9KX0sdC51aS5wb3NpdGlvbj17Zml0OntsZWZ0OmZ1bmN0aW9uKHQsZSl7dmFyIGkscz1lLndpdGhpbixuPXMuaXNXaW5kb3c/cy5zY3JvbGxMZWZ0OnMub2Zmc2V0LmxlZnQsYT1zLndpZHRoLHI9dC5sZWZ0LWUuY29sbGlzaW9uUG9zaXRpb24ubWFyZ2luTGVmdCxoPW4tcixsPXIrZS5jb2xsaXNpb25XaWR0aC1hLW47ZS5jb2xsaXNpb25XaWR0aD5hP2g+MCYmMD49bD8oaT10LmxlZnQraCtlLmNvbGxpc2lvbldpZHRoLWEtbix0LmxlZnQrPWgtaSk6dC5sZWZ0PWw+MCYmMD49aD9uOmg+bD9uK2EtZS5jb2xsaXNpb25XaWR0aDpuOmg+MD90LmxlZnQrPWg6bD4wP3QubGVmdC09bDp0LmxlZnQ9byh0LmxlZnQtcix0LmxlZnQpfSx0b3A6ZnVuY3Rpb24odCxlKXt2YXIgaSxzPWUud2l0aGluLG49cy5pc1dpbmRvdz9zLnNjcm9sbFRvcDpzLm9mZnNldC50b3AsYT1lLndpdGhpbi5oZWlnaHQscj10LnRvcC1lLmNvbGxpc2lvblBvc2l0aW9uLm1hcmdpblRvcCxoPW4tcixsPXIrZS5jb2xsaXNpb25IZWlnaHQtYS1uO2UuY29sbGlzaW9uSGVpZ2h0PmE/aD4wJiYwPj1sPyhpPXQudG9wK2grZS5jb2xsaXNpb25IZWlnaHQtYS1uLHQudG9wKz1oLWkpOnQudG9wPWw+MCYmMD49aD9uOmg+bD9uK2EtZS5jb2xsaXNpb25IZWlnaHQ6bjpoPjA/dC50b3ArPWg6bD4wP3QudG9wLT1sOnQudG9wPW8odC50b3Atcix0LnRvcCl9fSxmbGlwOntsZWZ0OmZ1bmN0aW9uKHQsZSl7dmFyIGkscyxuPWUud2l0aGluLGE9bi5vZmZzZXQubGVmdCtuLnNjcm9sbExlZnQsbz1uLndpZHRoLGg9bi5pc1dpbmRvdz9uLnNjcm9sbExlZnQ6bi5vZmZzZXQubGVmdCxsPXQubGVmdC1lLmNvbGxpc2lvblBvc2l0aW9uLm1hcmdpbkxlZnQsYz1sLWgsdT1sK2UuY29sbGlzaW9uV2lkdGgtby1oLGQ9XCJsZWZ0XCI9PT1lLm15WzBdPy1lLmVsZW1XaWR0aDpcInJpZ2h0XCI9PT1lLm15WzBdP2UuZWxlbVdpZHRoOjAscD1cImxlZnRcIj09PWUuYXRbMF0/ZS50YXJnZXRXaWR0aDpcInJpZ2h0XCI9PT1lLmF0WzBdPy1lLnRhcmdldFdpZHRoOjAsZj0tMiplLm9mZnNldFswXTswPmM/KGk9dC5sZWZ0K2QrcCtmK2UuY29sbGlzaW9uV2lkdGgtby1hLCgwPml8fHIoYyk+aSkmJih0LmxlZnQrPWQrcCtmKSk6dT4wJiYocz10LmxlZnQtZS5jb2xsaXNpb25Qb3NpdGlvbi5tYXJnaW5MZWZ0K2QrcCtmLWgsKHM+MHx8dT5yKHMpKSYmKHQubGVmdCs9ZCtwK2YpKX0sdG9wOmZ1bmN0aW9uKHQsZSl7dmFyIGkscyxuPWUud2l0aGluLGE9bi5vZmZzZXQudG9wK24uc2Nyb2xsVG9wLG89bi5oZWlnaHQsaD1uLmlzV2luZG93P24uc2Nyb2xsVG9wOm4ub2Zmc2V0LnRvcCxsPXQudG9wLWUuY29sbGlzaW9uUG9zaXRpb24ubWFyZ2luVG9wLGM9bC1oLHU9bCtlLmNvbGxpc2lvbkhlaWdodC1vLWgsZD1cInRvcFwiPT09ZS5teVsxXSxwPWQ/LWUuZWxlbUhlaWdodDpcImJvdHRvbVwiPT09ZS5teVsxXT9lLmVsZW1IZWlnaHQ6MCxmPVwidG9wXCI9PT1lLmF0WzFdP2UudGFyZ2V0SGVpZ2h0OlwiYm90dG9tXCI9PT1lLmF0WzFdPy1lLnRhcmdldEhlaWdodDowLG09LTIqZS5vZmZzZXRbMV07MD5jPyhzPXQudG9wK3ArZittK2UuY29sbGlzaW9uSGVpZ2h0LW8tYSx0LnRvcCtwK2YrbT5jJiYoMD5zfHxyKGMpPnMpJiYodC50b3ArPXArZittKSk6dT4wJiYoaT10LnRvcC1lLmNvbGxpc2lvblBvc2l0aW9uLm1hcmdpblRvcCtwK2YrbS1oLHQudG9wK3ArZittPnUmJihpPjB8fHU+cihpKSkmJih0LnRvcCs9cCtmK20pKX19LGZsaXBmaXQ6e2xlZnQ6ZnVuY3Rpb24oKXt0LnVpLnBvc2l0aW9uLmZsaXAubGVmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdC51aS5wb3NpdGlvbi5maXQubGVmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHRvcDpmdW5jdGlvbigpe3QudWkucG9zaXRpb24uZmxpcC50b3AuYXBwbHkodGhpcyxhcmd1bWVudHMpLHQudWkucG9zaXRpb24uZml0LnRvcC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX0sZnVuY3Rpb24oKXt2YXIgZSxpLHMsbixhLG89ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJib2R5XCIpWzBdLHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobz9cImRpdlwiOlwiYm9keVwiKSxzPXt2aXNpYmlsaXR5OlwiaGlkZGVuXCIsd2lkdGg6MCxoZWlnaHQ6MCxib3JkZXI6MCxtYXJnaW46MCxiYWNrZ3JvdW5kOlwibm9uZVwifSxvJiZ0LmV4dGVuZChzLHtwb3NpdGlvbjpcImFic29sdXRlXCIsbGVmdDpcIi0xMDAwcHhcIix0b3A6XCItMTAwMHB4XCJ9KTtmb3IoYSBpbiBzKWUuc3R5bGVbYV09c1thXTtlLmFwcGVuZENoaWxkKHIpLGk9b3x8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LGkuaW5zZXJ0QmVmb3JlKGUsaS5maXJzdENoaWxkKSxyLnN0eWxlLmNzc1RleHQ9XCJwb3NpdGlvbjogYWJzb2x1dGU7IGxlZnQ6IDEwLjc0MzIyMjJweDtcIixuPXQocikub2Zmc2V0KCkubGVmdCx0LnN1cHBvcnQub2Zmc2V0RnJhY3Rpb25zPW4+MTAmJjExPm4sZS5pbm5lckhUTUw9XCJcIixpLnJlbW92ZUNoaWxkKGUpfSgpfSkoalF1ZXJ5KTsiLCIvKiEgalF1ZXJ5IFVJIC0gdjEuMTAuMyAtIDIwMTMtMDYtMTJcbiogaHR0cDovL2pxdWVyeXVpLmNvbVxuKiBDb3B5cmlnaHQgMjAxMyBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzOyBMaWNlbnNlZCBNSVQgKi9cbihmdW5jdGlvbih0KXt0LndpZGdldChcInVpLm1lbnVcIix7dmVyc2lvbjpcIjEuMTAuM1wiLGRlZmF1bHRFbGVtZW50OlwiPHVsPlwiLGRlbGF5OjMwMCxvcHRpb25zOntpY29uczp7c3VibWVudTpcInVpLWljb24tY2FyYXQtMS1lXCJ9LG1lbnVzOlwidWxcIixwb3NpdGlvbjp7bXk6XCJsZWZ0IHRvcFwiLGF0OlwicmlnaHQgdG9wXCJ9LHJvbGU6XCJtZW51XCIsYmx1cjpudWxsLGZvY3VzOm51bGwsc2VsZWN0Om51bGx9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLmFjdGl2ZU1lbnU9dGhpcy5lbGVtZW50LHRoaXMubW91c2VIYW5kbGVkPSExLHRoaXMuZWxlbWVudC51bmlxdWVJZCgpLmFkZENsYXNzKFwidWktbWVudSB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWFsbFwiKS50b2dnbGVDbGFzcyhcInVpLW1lbnUtaWNvbnNcIiwhIXRoaXMuZWxlbWVudC5maW5kKFwiLnVpLWljb25cIikubGVuZ3RoKS5hdHRyKHtyb2xlOnRoaXMub3B0aW9ucy5yb2xlLHRhYkluZGV4OjB9KS5iaW5kKFwiY2xpY2tcIit0aGlzLmV2ZW50TmFtZXNwYWNlLHQucHJveHkoZnVuY3Rpb24odCl7dGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0LnByZXZlbnREZWZhdWx0KCl9LHRoaXMpKSx0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJnRoaXMuZWxlbWVudC5hZGRDbGFzcyhcInVpLXN0YXRlLWRpc2FibGVkXCIpLmF0dHIoXCJhcmlhLWRpc2FibGVkXCIsXCJ0cnVlXCIpLHRoaXMuX29uKHtcIm1vdXNlZG93biAudWktbWVudS1pdGVtID4gYVwiOmZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKX0sXCJjbGljayAudWktc3RhdGUtZGlzYWJsZWQgPiBhXCI6ZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpfSxcImNsaWNrIC51aS1tZW51LWl0ZW06aGFzKGEpXCI6ZnVuY3Rpb24oZSl7dmFyIGk9dChlLnRhcmdldCkuY2xvc2VzdChcIi51aS1tZW51LWl0ZW1cIik7IXRoaXMubW91c2VIYW5kbGVkJiZpLm5vdChcIi51aS1zdGF0ZS1kaXNhYmxlZFwiKS5sZW5ndGgmJih0aGlzLm1vdXNlSGFuZGxlZD0hMCx0aGlzLnNlbGVjdChlKSxpLmhhcyhcIi51aS1tZW51XCIpLmxlbmd0aD90aGlzLmV4cGFuZChlKTp0aGlzLmVsZW1lbnQuaXMoXCI6Zm9jdXNcIil8fCh0aGlzLmVsZW1lbnQudHJpZ2dlcihcImZvY3VzXCIsWyEwXSksdGhpcy5hY3RpdmUmJjE9PT10aGlzLmFjdGl2ZS5wYXJlbnRzKFwiLnVpLW1lbnVcIikubGVuZ3RoJiZjbGVhclRpbWVvdXQodGhpcy50aW1lcikpKX0sXCJtb3VzZWVudGVyIC51aS1tZW51LWl0ZW1cIjpmdW5jdGlvbihlKXt2YXIgaT10KGUuY3VycmVudFRhcmdldCk7aS5zaWJsaW5ncygpLmNoaWxkcmVuKFwiLnVpLXN0YXRlLWFjdGl2ZVwiKS5yZW1vdmVDbGFzcyhcInVpLXN0YXRlLWFjdGl2ZVwiKSx0aGlzLmZvY3VzKGUsaSl9LG1vdXNlbGVhdmU6XCJjb2xsYXBzZUFsbFwiLFwibW91c2VsZWF2ZSAudWktbWVudVwiOlwiY29sbGFwc2VBbGxcIixmb2N1czpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuYWN0aXZlfHx0aGlzLmVsZW1lbnQuY2hpbGRyZW4oXCIudWktbWVudS1pdGVtXCIpLmVxKDApO2V8fHRoaXMuZm9jdXModCxpKX0sYmx1cjpmdW5jdGlvbihlKXt0aGlzLl9kZWxheShmdW5jdGlvbigpe3QuY29udGFpbnModGhpcy5lbGVtZW50WzBdLHRoaXMuZG9jdW1lbnRbMF0uYWN0aXZlRWxlbWVudCl8fHRoaXMuY29sbGFwc2VBbGwoZSl9KX0sa2V5ZG93bjpcIl9rZXlkb3duXCJ9KSx0aGlzLnJlZnJlc2goKSx0aGlzLl9vbih0aGlzLmRvY3VtZW50LHtjbGljazpmdW5jdGlvbihlKXt0KGUudGFyZ2V0KS5jbG9zZXN0KFwiLnVpLW1lbnVcIikubGVuZ3RofHx0aGlzLmNvbGxhcHNlQWxsKGUpLHRoaXMubW91c2VIYW5kbGVkPSExfX0pfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5yZW1vdmVBdHRyKFwiYXJpYS1hY3RpdmVkZXNjZW5kYW50XCIpLmZpbmQoXCIudWktbWVudVwiKS5hZGRCYWNrKCkucmVtb3ZlQ2xhc3MoXCJ1aS1tZW51IHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYWxsIHVpLW1lbnUtaWNvbnNcIikucmVtb3ZlQXR0cihcInJvbGVcIikucmVtb3ZlQXR0cihcInRhYkluZGV4XCIpLnJlbW92ZUF0dHIoXCJhcmlhLWxhYmVsbGVkYnlcIikucmVtb3ZlQXR0cihcImFyaWEtZXhwYW5kZWRcIikucmVtb3ZlQXR0cihcImFyaWEtaGlkZGVuXCIpLnJlbW92ZUF0dHIoXCJhcmlhLWRpc2FibGVkXCIpLnJlbW92ZVVuaXF1ZUlkKCkuc2hvdygpLHRoaXMuZWxlbWVudC5maW5kKFwiLnVpLW1lbnUtaXRlbVwiKS5yZW1vdmVDbGFzcyhcInVpLW1lbnUtaXRlbVwiKS5yZW1vdmVBdHRyKFwicm9sZVwiKS5yZW1vdmVBdHRyKFwiYXJpYS1kaXNhYmxlZFwiKS5jaGlsZHJlbihcImFcIikucmVtb3ZlVW5pcXVlSWQoKS5yZW1vdmVDbGFzcyhcInVpLWNvcm5lci1hbGwgdWktc3RhdGUtaG92ZXJcIikucmVtb3ZlQXR0cihcInRhYkluZGV4XCIpLnJlbW92ZUF0dHIoXCJyb2xlXCIpLnJlbW92ZUF0dHIoXCJhcmlhLWhhc3BvcHVwXCIpLmNoaWxkcmVuKCkuZWFjaChmdW5jdGlvbigpe3ZhciBlPXQodGhpcyk7ZS5kYXRhKFwidWktbWVudS1zdWJtZW51LWNhcmF0XCIpJiZlLnJlbW92ZSgpfSksdGhpcy5lbGVtZW50LmZpbmQoXCIudWktbWVudS1kaXZpZGVyXCIpLnJlbW92ZUNsYXNzKFwidWktbWVudS1kaXZpZGVyIHVpLXdpZGdldC1jb250ZW50XCIpfSxfa2V5ZG93bjpmdW5jdGlvbihlKXtmdW5jdGlvbiBpKHQpe3JldHVybiB0LnJlcGxhY2UoL1tcXC1cXFtcXF17fSgpKis/LixcXFxcXFxeJHwjXFxzXS9nLFwiXFxcXCQmXCIpfXZhciBzLG4sYSxvLHIsaD0hMDtzd2l0Y2goZS5rZXlDb2RlKXtjYXNlIHQudWkua2V5Q29kZS5QQUdFX1VQOnRoaXMucHJldmlvdXNQYWdlKGUpO2JyZWFrO2Nhc2UgdC51aS5rZXlDb2RlLlBBR0VfRE9XTjp0aGlzLm5leHRQYWdlKGUpO2JyZWFrO2Nhc2UgdC51aS5rZXlDb2RlLkhPTUU6dGhpcy5fbW92ZShcImZpcnN0XCIsXCJmaXJzdFwiLGUpO2JyZWFrO2Nhc2UgdC51aS5rZXlDb2RlLkVORDp0aGlzLl9tb3ZlKFwibGFzdFwiLFwibGFzdFwiLGUpO2JyZWFrO2Nhc2UgdC51aS5rZXlDb2RlLlVQOnRoaXMucHJldmlvdXMoZSk7YnJlYWs7Y2FzZSB0LnVpLmtleUNvZGUuRE9XTjp0aGlzLm5leHQoZSk7YnJlYWs7Y2FzZSB0LnVpLmtleUNvZGUuTEVGVDp0aGlzLmNvbGxhcHNlKGUpO2JyZWFrO2Nhc2UgdC51aS5rZXlDb2RlLlJJR0hUOnRoaXMuYWN0aXZlJiYhdGhpcy5hY3RpdmUuaXMoXCIudWktc3RhdGUtZGlzYWJsZWRcIikmJnRoaXMuZXhwYW5kKGUpO2JyZWFrO2Nhc2UgdC51aS5rZXlDb2RlLkVOVEVSOmNhc2UgdC51aS5rZXlDb2RlLlNQQUNFOnRoaXMuX2FjdGl2YXRlKGUpO2JyZWFrO2Nhc2UgdC51aS5rZXlDb2RlLkVTQ0FQRTp0aGlzLmNvbGxhcHNlKGUpO2JyZWFrO2RlZmF1bHQ6aD0hMSxuPXRoaXMucHJldmlvdXNGaWx0ZXJ8fFwiXCIsYT1TdHJpbmcuZnJvbUNoYXJDb2RlKGUua2V5Q29kZSksbz0hMSxjbGVhclRpbWVvdXQodGhpcy5maWx0ZXJUaW1lciksYT09PW4/bz0hMDphPW4rYSxyPVJlZ0V4cChcIl5cIitpKGEpLFwiaVwiKSxzPXRoaXMuYWN0aXZlTWVudS5jaGlsZHJlbihcIi51aS1tZW51LWl0ZW1cIikuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIHIudGVzdCh0KHRoaXMpLmNoaWxkcmVuKFwiYVwiKS50ZXh0KCkpfSkscz1vJiYtMSE9PXMuaW5kZXgodGhpcy5hY3RpdmUubmV4dCgpKT90aGlzLmFjdGl2ZS5uZXh0QWxsKFwiLnVpLW1lbnUtaXRlbVwiKTpzLHMubGVuZ3RofHwoYT1TdHJpbmcuZnJvbUNoYXJDb2RlKGUua2V5Q29kZSkscj1SZWdFeHAoXCJeXCIraShhKSxcImlcIikscz10aGlzLmFjdGl2ZU1lbnUuY2hpbGRyZW4oXCIudWktbWVudS1pdGVtXCIpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiByLnRlc3QodCh0aGlzKS5jaGlsZHJlbihcImFcIikudGV4dCgpKX0pKSxzLmxlbmd0aD8odGhpcy5mb2N1cyhlLHMpLHMubGVuZ3RoPjE/KHRoaXMucHJldmlvdXNGaWx0ZXI9YSx0aGlzLmZpbHRlclRpbWVyPXRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMucHJldmlvdXNGaWx0ZXJ9LDFlMykpOmRlbGV0ZSB0aGlzLnByZXZpb3VzRmlsdGVyKTpkZWxldGUgdGhpcy5wcmV2aW91c0ZpbHRlcn1oJiZlLnByZXZlbnREZWZhdWx0KCl9LF9hY3RpdmF0ZTpmdW5jdGlvbih0KXt0aGlzLmFjdGl2ZS5pcyhcIi51aS1zdGF0ZS1kaXNhYmxlZFwiKXx8KHRoaXMuYWN0aXZlLmNoaWxkcmVuKFwiYVthcmlhLWhhc3BvcHVwPSd0cnVlJ11cIikubGVuZ3RoP3RoaXMuZXhwYW5kKHQpOnRoaXMuc2VsZWN0KHQpKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBlLGk9dGhpcy5vcHRpb25zLmljb25zLnN1Ym1lbnUscz10aGlzLmVsZW1lbnQuZmluZCh0aGlzLm9wdGlvbnMubWVudXMpO3MuZmlsdGVyKFwiOm5vdCgudWktbWVudSlcIikuYWRkQ2xhc3MoXCJ1aS1tZW51IHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYWxsXCIpLmhpZGUoKS5hdHRyKHtyb2xlOnRoaXMub3B0aW9ucy5yb2xlLFwiYXJpYS1oaWRkZW5cIjpcInRydWVcIixcImFyaWEtZXhwYW5kZWRcIjpcImZhbHNlXCJ9KS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9dCh0aGlzKSxzPWUucHJldihcImFcIiksbj10KFwiPHNwYW4+XCIpLmFkZENsYXNzKFwidWktbWVudS1pY29uIHVpLWljb24gXCIraSkuZGF0YShcInVpLW1lbnUtc3VibWVudS1jYXJhdFwiLCEwKTtzLmF0dHIoXCJhcmlhLWhhc3BvcHVwXCIsXCJ0cnVlXCIpLnByZXBlbmQobiksZS5hdHRyKFwiYXJpYS1sYWJlbGxlZGJ5XCIscy5hdHRyKFwiaWRcIikpfSksZT1zLmFkZCh0aGlzLmVsZW1lbnQpLGUuY2hpbGRyZW4oXCI6bm90KC51aS1tZW51LWl0ZW0pOmhhcyhhKVwiKS5hZGRDbGFzcyhcInVpLW1lbnUtaXRlbVwiKS5hdHRyKFwicm9sZVwiLFwicHJlc2VudGF0aW9uXCIpLmNoaWxkcmVuKFwiYVwiKS51bmlxdWVJZCgpLmFkZENsYXNzKFwidWktY29ybmVyLWFsbFwiKS5hdHRyKHt0YWJJbmRleDotMSxyb2xlOnRoaXMuX2l0ZW1Sb2xlKCl9KSxlLmNoaWxkcmVuKFwiOm5vdCgudWktbWVudS1pdGVtKVwiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9dCh0aGlzKTsvW15cXC1cXHUyMDE0XFx1MjAxM1xcc10vLnRlc3QoZS50ZXh0KCkpfHxlLmFkZENsYXNzKFwidWktd2lkZ2V0LWNvbnRlbnQgdWktbWVudS1kaXZpZGVyXCIpfSksZS5jaGlsZHJlbihcIi51aS1zdGF0ZS1kaXNhYmxlZFwiKS5hdHRyKFwiYXJpYS1kaXNhYmxlZFwiLFwidHJ1ZVwiKSx0aGlzLmFjdGl2ZSYmIXQuY29udGFpbnModGhpcy5lbGVtZW50WzBdLHRoaXMuYWN0aXZlWzBdKSYmdGhpcy5ibHVyKCl9LF9pdGVtUm9sZTpmdW5jdGlvbigpe3JldHVybnttZW51OlwibWVudWl0ZW1cIixsaXN0Ym94Olwib3B0aW9uXCJ9W3RoaXMub3B0aW9ucy5yb2xlXX0sX3NldE9wdGlvbjpmdW5jdGlvbih0LGUpe1wiaWNvbnNcIj09PXQmJnRoaXMuZWxlbWVudC5maW5kKFwiLnVpLW1lbnUtaWNvblwiKS5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuaWNvbnMuc3VibWVudSkuYWRkQ2xhc3MoZS5zdWJtZW51KSx0aGlzLl9zdXBlcih0LGUpfSxmb2N1czpmdW5jdGlvbih0LGUpe3ZhciBpLHM7dGhpcy5ibHVyKHQsdCYmXCJmb2N1c1wiPT09dC50eXBlKSx0aGlzLl9zY3JvbGxJbnRvVmlldyhlKSx0aGlzLmFjdGl2ZT1lLmZpcnN0KCkscz10aGlzLmFjdGl2ZS5jaGlsZHJlbihcImFcIikuYWRkQ2xhc3MoXCJ1aS1zdGF0ZS1mb2N1c1wiKSx0aGlzLm9wdGlvbnMucm9sZSYmdGhpcy5lbGVtZW50LmF0dHIoXCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnRcIixzLmF0dHIoXCJpZFwiKSksdGhpcy5hY3RpdmUucGFyZW50KCkuY2xvc2VzdChcIi51aS1tZW51LWl0ZW1cIikuY2hpbGRyZW4oXCJhOmZpcnN0XCIpLmFkZENsYXNzKFwidWktc3RhdGUtYWN0aXZlXCIpLHQmJlwia2V5ZG93blwiPT09dC50eXBlP3RoaXMuX2Nsb3NlKCk6dGhpcy50aW1lcj10aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMuX2Nsb3NlKCl9LHRoaXMuZGVsYXkpLGk9ZS5jaGlsZHJlbihcIi51aS1tZW51XCIpLGkubGVuZ3RoJiYvXm1vdXNlLy50ZXN0KHQudHlwZSkmJnRoaXMuX3N0YXJ0T3BlbmluZyhpKSx0aGlzLmFjdGl2ZU1lbnU9ZS5wYXJlbnQoKSx0aGlzLl90cmlnZ2VyKFwiZm9jdXNcIix0LHtpdGVtOmV9KX0sX3Njcm9sbEludG9WaWV3OmZ1bmN0aW9uKGUpe3ZhciBpLHMsbixhLG8scjt0aGlzLl9oYXNTY3JvbGwoKSYmKGk9cGFyc2VGbG9hdCh0LmNzcyh0aGlzLmFjdGl2ZU1lbnVbMF0sXCJib3JkZXJUb3BXaWR0aFwiKSl8fDAscz1wYXJzZUZsb2F0KHQuY3NzKHRoaXMuYWN0aXZlTWVudVswXSxcInBhZGRpbmdUb3BcIikpfHwwLG49ZS5vZmZzZXQoKS50b3AtdGhpcy5hY3RpdmVNZW51Lm9mZnNldCgpLnRvcC1pLXMsYT10aGlzLmFjdGl2ZU1lbnUuc2Nyb2xsVG9wKCksbz10aGlzLmFjdGl2ZU1lbnUuaGVpZ2h0KCkscj1lLmhlaWdodCgpLDA+bj90aGlzLmFjdGl2ZU1lbnUuc2Nyb2xsVG9wKGErbik6bityPm8mJnRoaXMuYWN0aXZlTWVudS5zY3JvbGxUb3AoYStuLW8rcikpfSxibHVyOmZ1bmN0aW9uKHQsZSl7ZXx8Y2xlYXJUaW1lb3V0KHRoaXMudGltZXIpLHRoaXMuYWN0aXZlJiYodGhpcy5hY3RpdmUuY2hpbGRyZW4oXCJhXCIpLnJlbW92ZUNsYXNzKFwidWktc3RhdGUtZm9jdXNcIiksdGhpcy5hY3RpdmU9bnVsbCx0aGlzLl90cmlnZ2VyKFwiYmx1clwiLHQse2l0ZW06dGhpcy5hY3RpdmV9KSl9LF9zdGFydE9wZW5pbmc6ZnVuY3Rpb24odCl7Y2xlYXJUaW1lb3V0KHRoaXMudGltZXIpLFwidHJ1ZVwiPT09dC5hdHRyKFwiYXJpYS1oaWRkZW5cIikmJih0aGlzLnRpbWVyPXRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dGhpcy5fY2xvc2UoKSx0aGlzLl9vcGVuKHQpfSx0aGlzLmRlbGF5KSl9LF9vcGVuOmZ1bmN0aW9uKGUpe3ZhciBpPXQuZXh0ZW5kKHtvZjp0aGlzLmFjdGl2ZX0sdGhpcy5vcHRpb25zLnBvc2l0aW9uKTtjbGVhclRpbWVvdXQodGhpcy50aW1lciksdGhpcy5lbGVtZW50LmZpbmQoXCIudWktbWVudVwiKS5ub3QoZS5wYXJlbnRzKFwiLnVpLW1lbnVcIikpLmhpZGUoKS5hdHRyKFwiYXJpYS1oaWRkZW5cIixcInRydWVcIiksZS5zaG93KCkucmVtb3ZlQXR0cihcImFyaWEtaGlkZGVuXCIpLmF0dHIoXCJhcmlhLWV4cGFuZGVkXCIsXCJ0cnVlXCIpLnBvc2l0aW9uKGkpfSxjb2xsYXBzZUFsbDpmdW5jdGlvbihlLGkpe2NsZWFyVGltZW91dCh0aGlzLnRpbWVyKSx0aGlzLnRpbWVyPXRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dmFyIHM9aT90aGlzLmVsZW1lbnQ6dChlJiZlLnRhcmdldCkuY2xvc2VzdCh0aGlzLmVsZW1lbnQuZmluZChcIi51aS1tZW51XCIpKTtzLmxlbmd0aHx8KHM9dGhpcy5lbGVtZW50KSx0aGlzLl9jbG9zZShzKSx0aGlzLmJsdXIoZSksdGhpcy5hY3RpdmVNZW51PXN9LHRoaXMuZGVsYXkpfSxfY2xvc2U6ZnVuY3Rpb24odCl7dHx8KHQ9dGhpcy5hY3RpdmU/dGhpcy5hY3RpdmUucGFyZW50KCk6dGhpcy5lbGVtZW50KSx0LmZpbmQoXCIudWktbWVudVwiKS5oaWRlKCkuYXR0cihcImFyaWEtaGlkZGVuXCIsXCJ0cnVlXCIpLmF0dHIoXCJhcmlhLWV4cGFuZGVkXCIsXCJmYWxzZVwiKS5lbmQoKS5maW5kKFwiYS51aS1zdGF0ZS1hY3RpdmVcIikucmVtb3ZlQ2xhc3MoXCJ1aS1zdGF0ZS1hY3RpdmVcIil9LGNvbGxhcHNlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYWN0aXZlJiZ0aGlzLmFjdGl2ZS5wYXJlbnQoKS5jbG9zZXN0KFwiLnVpLW1lbnUtaXRlbVwiLHRoaXMuZWxlbWVudCk7ZSYmZS5sZW5ndGgmJih0aGlzLl9jbG9zZSgpLHRoaXMuZm9jdXModCxlKSl9LGV4cGFuZDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmFjdGl2ZSYmdGhpcy5hY3RpdmUuY2hpbGRyZW4oXCIudWktbWVudSBcIikuY2hpbGRyZW4oXCIudWktbWVudS1pdGVtXCIpLmZpcnN0KCk7ZSYmZS5sZW5ndGgmJih0aGlzLl9vcGVuKGUucGFyZW50KCkpLHRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dGhpcy5mb2N1cyh0LGUpfSkpfSxuZXh0OmZ1bmN0aW9uKHQpe3RoaXMuX21vdmUoXCJuZXh0XCIsXCJmaXJzdFwiLHQpfSxwcmV2aW91czpmdW5jdGlvbih0KXt0aGlzLl9tb3ZlKFwicHJldlwiLFwibGFzdFwiLHQpfSxpc0ZpcnN0SXRlbTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFjdGl2ZSYmIXRoaXMuYWN0aXZlLnByZXZBbGwoXCIudWktbWVudS1pdGVtXCIpLmxlbmd0aH0saXNMYXN0SXRlbTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFjdGl2ZSYmIXRoaXMuYWN0aXZlLm5leHRBbGwoXCIudWktbWVudS1pdGVtXCIpLmxlbmd0aH0sX21vdmU6ZnVuY3Rpb24odCxlLGkpe3ZhciBzO3RoaXMuYWN0aXZlJiYocz1cImZpcnN0XCI9PT10fHxcImxhc3RcIj09PXQ/dGhpcy5hY3RpdmVbXCJmaXJzdFwiPT09dD9cInByZXZBbGxcIjpcIm5leHRBbGxcIl0oXCIudWktbWVudS1pdGVtXCIpLmVxKC0xKTp0aGlzLmFjdGl2ZVt0K1wiQWxsXCJdKFwiLnVpLW1lbnUtaXRlbVwiKS5lcSgwKSkscyYmcy5sZW5ndGgmJnRoaXMuYWN0aXZlfHwocz10aGlzLmFjdGl2ZU1lbnUuY2hpbGRyZW4oXCIudWktbWVudS1pdGVtXCIpW2VdKCkpLHRoaXMuZm9jdXMoaSxzKX0sbmV4dFBhZ2U6ZnVuY3Rpb24oZSl7dmFyIGkscyxuO3JldHVybiB0aGlzLmFjdGl2ZT8odGhpcy5pc0xhc3RJdGVtKCl8fCh0aGlzLl9oYXNTY3JvbGwoKT8ocz10aGlzLmFjdGl2ZS5vZmZzZXQoKS50b3Asbj10aGlzLmVsZW1lbnQuaGVpZ2h0KCksdGhpcy5hY3RpdmUubmV4dEFsbChcIi51aS1tZW51LWl0ZW1cIikuZWFjaChmdW5jdGlvbigpe3JldHVybiBpPXQodGhpcyksMD5pLm9mZnNldCgpLnRvcC1zLW59KSx0aGlzLmZvY3VzKGUsaSkpOnRoaXMuZm9jdXMoZSx0aGlzLmFjdGl2ZU1lbnUuY2hpbGRyZW4oXCIudWktbWVudS1pdGVtXCIpW3RoaXMuYWN0aXZlP1wibGFzdFwiOlwiZmlyc3RcIl0oKSkpLHVuZGVmaW5lZCk6KHRoaXMubmV4dChlKSx1bmRlZmluZWQpfSxwcmV2aW91c1BhZ2U6ZnVuY3Rpb24oZSl7dmFyIGkscyxuO3JldHVybiB0aGlzLmFjdGl2ZT8odGhpcy5pc0ZpcnN0SXRlbSgpfHwodGhpcy5faGFzU2Nyb2xsKCk/KHM9dGhpcy5hY3RpdmUub2Zmc2V0KCkudG9wLG49dGhpcy5lbGVtZW50LmhlaWdodCgpLHRoaXMuYWN0aXZlLnByZXZBbGwoXCIudWktbWVudS1pdGVtXCIpLmVhY2goZnVuY3Rpb24oKXtyZXR1cm4gaT10KHRoaXMpLGkub2Zmc2V0KCkudG9wLXMrbj4wfSksdGhpcy5mb2N1cyhlLGkpKTp0aGlzLmZvY3VzKGUsdGhpcy5hY3RpdmVNZW51LmNoaWxkcmVuKFwiLnVpLW1lbnUtaXRlbVwiKS5maXJzdCgpKSksdW5kZWZpbmVkKToodGhpcy5uZXh0KGUpLHVuZGVmaW5lZCl9LF9oYXNTY3JvbGw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50Lm91dGVySGVpZ2h0KCk8dGhpcy5lbGVtZW50LnByb3AoXCJzY3JvbGxIZWlnaHRcIil9LHNlbGVjdDpmdW5jdGlvbihlKXt0aGlzLmFjdGl2ZT10aGlzLmFjdGl2ZXx8dChlLnRhcmdldCkuY2xvc2VzdChcIi51aS1tZW51LWl0ZW1cIik7dmFyIGk9e2l0ZW06dGhpcy5hY3RpdmV9O3RoaXMuYWN0aXZlLmhhcyhcIi51aS1tZW51XCIpLmxlbmd0aHx8dGhpcy5jb2xsYXBzZUFsbChlLCEwKSx0aGlzLl90cmlnZ2VyKFwic2VsZWN0XCIsZSxpKX19KX0pKGpRdWVyeSk7IiwiLyohIGpRdWVyeSBVSSAtIHYxLjEwLjMgLSAyMDEzLTA2LTEyXG4qIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiogQ29weXJpZ2h0IDIwMTMgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yczsgTGljZW5zZWQgTUlUICovXG4oZnVuY3Rpb24odCl7dmFyIGU9MDt0LndpZGdldChcInVpLmF1dG9jb21wbGV0ZVwiLHt2ZXJzaW9uOlwiMS4xMC4zXCIsZGVmYXVsdEVsZW1lbnQ6XCI8aW5wdXQ+XCIsb3B0aW9uczp7YXBwZW5kVG86bnVsbCxhdXRvRm9jdXM6ITEsZGVsYXk6MzAwLG1pbkxlbmd0aDoxLHBvc2l0aW9uOntteTpcImxlZnQgdG9wXCIsYXQ6XCJsZWZ0IGJvdHRvbVwiLGNvbGxpc2lvbjpcIm5vbmVcIn0sc291cmNlOm51bGwsY2hhbmdlOm51bGwsY2xvc2U6bnVsbCxmb2N1czpudWxsLG9wZW46bnVsbCxyZXNwb25zZTpudWxsLHNlYXJjaDpudWxsLHNlbGVjdDpudWxsfSxwZW5kaW5nOjAsX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBlLGkscyxuPXRoaXMuZWxlbWVudFswXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLGE9XCJ0ZXh0YXJlYVwiPT09bixvPVwiaW5wdXRcIj09PW47dGhpcy5pc011bHRpTGluZT1hPyEwOm8/ITE6dGhpcy5lbGVtZW50LnByb3AoXCJpc0NvbnRlbnRFZGl0YWJsZVwiKSx0aGlzLnZhbHVlTWV0aG9kPXRoaXMuZWxlbWVudFthfHxvP1widmFsXCI6XCJ0ZXh0XCJdLHRoaXMuaXNOZXdNZW51PSEwLHRoaXMuZWxlbWVudC5hZGRDbGFzcyhcInVpLWF1dG9jb21wbGV0ZS1pbnB1dFwiKS5hdHRyKFwiYXV0b2NvbXBsZXRlXCIsXCJvZmZcIiksdGhpcy5fb24odGhpcy5lbGVtZW50LHtrZXlkb3duOmZ1bmN0aW9uKG4pe2lmKHRoaXMuZWxlbWVudC5wcm9wKFwicmVhZE9ubHlcIikpcmV0dXJuIGU9ITAscz0hMCxpPSEwLHVuZGVmaW5lZDtlPSExLHM9ITEsaT0hMTt2YXIgYT10LnVpLmtleUNvZGU7c3dpdGNoKG4ua2V5Q29kZSl7Y2FzZSBhLlBBR0VfVVA6ZT0hMCx0aGlzLl9tb3ZlKFwicHJldmlvdXNQYWdlXCIsbik7YnJlYWs7Y2FzZSBhLlBBR0VfRE9XTjplPSEwLHRoaXMuX21vdmUoXCJuZXh0UGFnZVwiLG4pO2JyZWFrO2Nhc2UgYS5VUDplPSEwLHRoaXMuX2tleUV2ZW50KFwicHJldmlvdXNcIixuKTticmVhaztjYXNlIGEuRE9XTjplPSEwLHRoaXMuX2tleUV2ZW50KFwibmV4dFwiLG4pO2JyZWFrO2Nhc2UgYS5FTlRFUjpjYXNlIGEuTlVNUEFEX0VOVEVSOnRoaXMubWVudS5hY3RpdmUmJihlPSEwLG4ucHJldmVudERlZmF1bHQoKSx0aGlzLm1lbnUuc2VsZWN0KG4pKTticmVhaztjYXNlIGEuVEFCOnRoaXMubWVudS5hY3RpdmUmJnRoaXMubWVudS5zZWxlY3Qobik7YnJlYWs7Y2FzZSBhLkVTQ0FQRTp0aGlzLm1lbnUuZWxlbWVudC5pcyhcIjp2aXNpYmxlXCIpJiYodGhpcy5fdmFsdWUodGhpcy50ZXJtKSx0aGlzLmNsb3NlKG4pLG4ucHJldmVudERlZmF1bHQoKSk7YnJlYWs7ZGVmYXVsdDppPSEwLHRoaXMuX3NlYXJjaFRpbWVvdXQobil9fSxrZXlwcmVzczpmdW5jdGlvbihzKXtpZihlKXJldHVybiBlPSExLCghdGhpcy5pc011bHRpTGluZXx8dGhpcy5tZW51LmVsZW1lbnQuaXMoXCI6dmlzaWJsZVwiKSkmJnMucHJldmVudERlZmF1bHQoKSx1bmRlZmluZWQ7aWYoIWkpe3ZhciBuPXQudWkua2V5Q29kZTtzd2l0Y2gocy5rZXlDb2RlKXtjYXNlIG4uUEFHRV9VUDp0aGlzLl9tb3ZlKFwicHJldmlvdXNQYWdlXCIscyk7YnJlYWs7Y2FzZSBuLlBBR0VfRE9XTjp0aGlzLl9tb3ZlKFwibmV4dFBhZ2VcIixzKTticmVhaztjYXNlIG4uVVA6dGhpcy5fa2V5RXZlbnQoXCJwcmV2aW91c1wiLHMpO2JyZWFrO2Nhc2Ugbi5ET1dOOnRoaXMuX2tleUV2ZW50KFwibmV4dFwiLHMpfX19LGlucHV0OmZ1bmN0aW9uKHQpe3JldHVybiBzPyhzPSExLHQucHJldmVudERlZmF1bHQoKSx1bmRlZmluZWQpOih0aGlzLl9zZWFyY2hUaW1lb3V0KHQpLHVuZGVmaW5lZCl9LGZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5zZWxlY3RlZEl0ZW09bnVsbCx0aGlzLnByZXZpb3VzPXRoaXMuX3ZhbHVlKCl9LGJsdXI6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2FuY2VsQmx1cj8oZGVsZXRlIHRoaXMuY2FuY2VsQmx1cix1bmRlZmluZWQpOihjbGVhclRpbWVvdXQodGhpcy5zZWFyY2hpbmcpLHRoaXMuY2xvc2UodCksdGhpcy5fY2hhbmdlKHQpLHVuZGVmaW5lZCl9fSksdGhpcy5faW5pdFNvdXJjZSgpLHRoaXMubWVudT10KFwiPHVsPlwiKS5hZGRDbGFzcyhcInVpLWF1dG9jb21wbGV0ZSB1aS1mcm9udFwiKS5hcHBlbmRUbyh0aGlzLl9hcHBlbmRUbygpKS5tZW51KHtyb2xlOm51bGx9KS5oaWRlKCkuZGF0YShcInVpLW1lbnVcIiksdGhpcy5fb24odGhpcy5tZW51LmVsZW1lbnQse21vdXNlZG93bjpmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksdGhpcy5jYW5jZWxCbHVyPSEwLHRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuY2FuY2VsQmx1cn0pO3ZhciBpPXRoaXMubWVudS5lbGVtZW50WzBdO3QoZS50YXJnZXQpLmNsb3Nlc3QoXCIudWktbWVudS1pdGVtXCIpLmxlbmd0aHx8dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuZG9jdW1lbnQub25lKFwibW91c2Vkb3duXCIsZnVuY3Rpb24ocyl7cy50YXJnZXQ9PT1lLmVsZW1lbnRbMF18fHMudGFyZ2V0PT09aXx8dC5jb250YWlucyhpLHMudGFyZ2V0KXx8ZS5jbG9zZSgpfSl9KX0sbWVudWZvY3VzOmZ1bmN0aW9uKGUsaSl7aWYodGhpcy5pc05ld01lbnUmJih0aGlzLmlzTmV3TWVudT0hMSxlLm9yaWdpbmFsRXZlbnQmJi9ebW91c2UvLnRlc3QoZS5vcmlnaW5hbEV2ZW50LnR5cGUpKSlyZXR1cm4gdGhpcy5tZW51LmJsdXIoKSx0aGlzLmRvY3VtZW50Lm9uZShcIm1vdXNlbW92ZVwiLGZ1bmN0aW9uKCl7dChlLnRhcmdldCkudHJpZ2dlcihlLm9yaWdpbmFsRXZlbnQpfSksdW5kZWZpbmVkO3ZhciBzPWkuaXRlbS5kYXRhKFwidWktYXV0b2NvbXBsZXRlLWl0ZW1cIik7ITEhPT10aGlzLl90cmlnZ2VyKFwiZm9jdXNcIixlLHtpdGVtOnN9KT9lLm9yaWdpbmFsRXZlbnQmJi9ea2V5Ly50ZXN0KGUub3JpZ2luYWxFdmVudC50eXBlKSYmdGhpcy5fdmFsdWUocy52YWx1ZSk6dGhpcy5saXZlUmVnaW9uLnRleHQocy52YWx1ZSl9LG1lbnVzZWxlY3Q6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLml0ZW0uZGF0YShcInVpLWF1dG9jb21wbGV0ZS1pdGVtXCIpLHM9dGhpcy5wcmV2aW91czt0aGlzLmVsZW1lbnRbMF0hPT10aGlzLmRvY3VtZW50WzBdLmFjdGl2ZUVsZW1lbnQmJih0aGlzLmVsZW1lbnQuZm9jdXMoKSx0aGlzLnByZXZpb3VzPXMsdGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt0aGlzLnByZXZpb3VzPXMsdGhpcy5zZWxlY3RlZEl0ZW09aX0pKSwhMSE9PXRoaXMuX3RyaWdnZXIoXCJzZWxlY3RcIix0LHtpdGVtOml9KSYmdGhpcy5fdmFsdWUoaS52YWx1ZSksdGhpcy50ZXJtPXRoaXMuX3ZhbHVlKCksdGhpcy5jbG9zZSh0KSx0aGlzLnNlbGVjdGVkSXRlbT1pfX0pLHRoaXMubGl2ZVJlZ2lvbj10KFwiPHNwYW4+XCIse3JvbGU6XCJzdGF0dXNcIixcImFyaWEtbGl2ZVwiOlwicG9saXRlXCJ9KS5hZGRDbGFzcyhcInVpLWhlbHBlci1oaWRkZW4tYWNjZXNzaWJsZVwiKS5pbnNlcnRCZWZvcmUodGhpcy5lbGVtZW50KSx0aGlzLl9vbih0aGlzLndpbmRvdyx7YmVmb3JldW5sb2FkOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoXCJhdXRvY29tcGxldGVcIil9fSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMuc2VhcmNoaW5nKSx0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJ1aS1hdXRvY29tcGxldGUtaW5wdXRcIikucmVtb3ZlQXR0cihcImF1dG9jb21wbGV0ZVwiKSx0aGlzLm1lbnUuZWxlbWVudC5yZW1vdmUoKSx0aGlzLmxpdmVSZWdpb24ucmVtb3ZlKCl9LF9zZXRPcHRpb246ZnVuY3Rpb24odCxlKXt0aGlzLl9zdXBlcih0LGUpLFwic291cmNlXCI9PT10JiZ0aGlzLl9pbml0U291cmNlKCksXCJhcHBlbmRUb1wiPT09dCYmdGhpcy5tZW51LmVsZW1lbnQuYXBwZW5kVG8odGhpcy5fYXBwZW5kVG8oKSksXCJkaXNhYmxlZFwiPT09dCYmZSYmdGhpcy54aHImJnRoaXMueGhyLmFib3J0KCl9LF9hcHBlbmRUbzpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3B0aW9ucy5hcHBlbmRUbztyZXR1cm4gZSYmKGU9ZS5qcXVlcnl8fGUubm9kZVR5cGU/dChlKTp0aGlzLmRvY3VtZW50LmZpbmQoZSkuZXEoMCkpLGV8fChlPXRoaXMuZWxlbWVudC5jbG9zZXN0KFwiLnVpLWZyb250XCIpKSxlLmxlbmd0aHx8KGU9dGhpcy5kb2N1bWVudFswXS5ib2R5KSxlfSxfaW5pdFNvdXJjZTpmdW5jdGlvbigpe3ZhciBlLGkscz10aGlzO3QuaXNBcnJheSh0aGlzLm9wdGlvbnMuc291cmNlKT8oZT10aGlzLm9wdGlvbnMuc291cmNlLHRoaXMuc291cmNlPWZ1bmN0aW9uKGkscyl7cyh0LnVpLmF1dG9jb21wbGV0ZS5maWx0ZXIoZSxpLnRlcm0pKX0pOlwic3RyaW5nXCI9PXR5cGVvZiB0aGlzLm9wdGlvbnMuc291cmNlPyhpPXRoaXMub3B0aW9ucy5zb3VyY2UsdGhpcy5zb3VyY2U9ZnVuY3Rpb24oZSxuKXtzLnhociYmcy54aHIuYWJvcnQoKSxzLnhocj10LmFqYXgoe3VybDppLGRhdGE6ZSxkYXRhVHlwZTpcImpzb25cIixzdWNjZXNzOmZ1bmN0aW9uKHQpe24odCl9LGVycm9yOmZ1bmN0aW9uKCl7bihbXSl9fSl9KTp0aGlzLnNvdXJjZT10aGlzLm9wdGlvbnMuc291cmNlfSxfc2VhcmNoVGltZW91dDpmdW5jdGlvbih0KXtjbGVhclRpbWVvdXQodGhpcy5zZWFyY2hpbmcpLHRoaXMuc2VhcmNoaW5nPXRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dGhpcy50ZXJtIT09dGhpcy5fdmFsdWUoKSYmKHRoaXMuc2VsZWN0ZWRJdGVtPW51bGwsdGhpcy5zZWFyY2gobnVsbCx0KSl9LHRoaXMub3B0aW9ucy5kZWxheSl9LHNlYXJjaDpmdW5jdGlvbih0LGUpe3JldHVybiB0PW51bGwhPXQ/dDp0aGlzLl92YWx1ZSgpLHRoaXMudGVybT10aGlzLl92YWx1ZSgpLHQubGVuZ3RoPHRoaXMub3B0aW9ucy5taW5MZW5ndGg/dGhpcy5jbG9zZShlKTp0aGlzLl90cmlnZ2VyKFwic2VhcmNoXCIsZSkhPT0hMT90aGlzLl9zZWFyY2godCk6dW5kZWZpbmVkfSxfc2VhcmNoOmZ1bmN0aW9uKHQpe3RoaXMucGVuZGluZysrLHRoaXMuZWxlbWVudC5hZGRDbGFzcyhcInVpLWF1dG9jb21wbGV0ZS1sb2FkaW5nXCIpLHRoaXMuY2FuY2VsU2VhcmNoPSExLHRoaXMuc291cmNlKHt0ZXJtOnR9LHRoaXMuX3Jlc3BvbnNlKCkpfSxfcmVzcG9uc2U6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGk9KytlO3JldHVybiBmdW5jdGlvbihzKXtpPT09ZSYmdC5fX3Jlc3BvbnNlKHMpLHQucGVuZGluZy0tLHQucGVuZGluZ3x8dC5lbGVtZW50LnJlbW92ZUNsYXNzKFwidWktYXV0b2NvbXBsZXRlLWxvYWRpbmdcIil9fSxfX3Jlc3BvbnNlOmZ1bmN0aW9uKHQpe3QmJih0PXRoaXMuX25vcm1hbGl6ZSh0KSksdGhpcy5fdHJpZ2dlcihcInJlc3BvbnNlXCIsbnVsbCx7Y29udGVudDp0fSksIXRoaXMub3B0aW9ucy5kaXNhYmxlZCYmdCYmdC5sZW5ndGgmJiF0aGlzLmNhbmNlbFNlYXJjaD8odGhpcy5fc3VnZ2VzdCh0KSx0aGlzLl90cmlnZ2VyKFwib3BlblwiKSk6dGhpcy5fY2xvc2UoKX0sY2xvc2U6ZnVuY3Rpb24odCl7dGhpcy5jYW5jZWxTZWFyY2g9ITAsdGhpcy5fY2xvc2UodCl9LF9jbG9zZTpmdW5jdGlvbih0KXt0aGlzLm1lbnUuZWxlbWVudC5pcyhcIjp2aXNpYmxlXCIpJiYodGhpcy5tZW51LmVsZW1lbnQuaGlkZSgpLHRoaXMubWVudS5ibHVyKCksdGhpcy5pc05ld01lbnU9ITAsdGhpcy5fdHJpZ2dlcihcImNsb3NlXCIsdCkpfSxfY2hhbmdlOmZ1bmN0aW9uKHQpe3RoaXMucHJldmlvdXMhPT10aGlzLl92YWx1ZSgpJiZ0aGlzLl90cmlnZ2VyKFwiY2hhbmdlXCIsdCx7aXRlbTp0aGlzLnNlbGVjdGVkSXRlbX0pfSxfbm9ybWFsaXplOmZ1bmN0aW9uKGUpe3JldHVybiBlLmxlbmd0aCYmZVswXS5sYWJlbCYmZVswXS52YWx1ZT9lOnQubWFwKGUsZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGU/e2xhYmVsOmUsdmFsdWU6ZX06dC5leHRlbmQoe2xhYmVsOmUubGFiZWx8fGUudmFsdWUsdmFsdWU6ZS52YWx1ZXx8ZS5sYWJlbH0sZSl9KX0sX3N1Z2dlc3Q6ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcy5tZW51LmVsZW1lbnQuZW1wdHkoKTt0aGlzLl9yZW5kZXJNZW51KGksZSksdGhpcy5pc05ld01lbnU9ITAsdGhpcy5tZW51LnJlZnJlc2goKSxpLnNob3coKSx0aGlzLl9yZXNpemVNZW51KCksaS5wb3NpdGlvbih0LmV4dGVuZCh7b2Y6dGhpcy5lbGVtZW50fSx0aGlzLm9wdGlvbnMucG9zaXRpb24pKSx0aGlzLm9wdGlvbnMuYXV0b0ZvY3VzJiZ0aGlzLm1lbnUubmV4dCgpfSxfcmVzaXplTWVudTpmdW5jdGlvbigpe3ZhciB0PXRoaXMubWVudS5lbGVtZW50O3Qub3V0ZXJXaWR0aChNYXRoLm1heCh0LndpZHRoKFwiXCIpLm91dGVyV2lkdGgoKSsxLHRoaXMuZWxlbWVudC5vdXRlcldpZHRoKCkpKX0sX3JlbmRlck1lbnU6ZnVuY3Rpb24oZSxpKXt2YXIgcz10aGlzO3QuZWFjaChpLGZ1bmN0aW9uKHQsaSl7cy5fcmVuZGVySXRlbURhdGEoZSxpKX0pfSxfcmVuZGVySXRlbURhdGE6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fcmVuZGVySXRlbSh0LGUpLmRhdGEoXCJ1aS1hdXRvY29tcGxldGUtaXRlbVwiLGUpfSxfcmVuZGVySXRlbTpmdW5jdGlvbihlLGkpe3JldHVybiB0KFwiPGxpPlwiKS5hcHBlbmQodChcIjxhPlwiKS50ZXh0KGkubGFiZWwpKS5hcHBlbmRUbyhlKX0sX21vdmU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5tZW51LmVsZW1lbnQuaXMoXCI6dmlzaWJsZVwiKT90aGlzLm1lbnUuaXNGaXJzdEl0ZW0oKSYmL15wcmV2aW91cy8udGVzdCh0KXx8dGhpcy5tZW51LmlzTGFzdEl0ZW0oKSYmL15uZXh0Ly50ZXN0KHQpPyh0aGlzLl92YWx1ZSh0aGlzLnRlcm0pLHRoaXMubWVudS5ibHVyKCksdW5kZWZpbmVkKToodGhpcy5tZW51W3RdKGUpLHVuZGVmaW5lZCk6KHRoaXMuc2VhcmNoKG51bGwsZSksdW5kZWZpbmVkKX0sd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWVudS5lbGVtZW50fSxfdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZU1ldGhvZC5hcHBseSh0aGlzLmVsZW1lbnQsYXJndW1lbnRzKX0sX2tleUV2ZW50OmZ1bmN0aW9uKHQsZSl7KCF0aGlzLmlzTXVsdGlMaW5lfHx0aGlzLm1lbnUuZWxlbWVudC5pcyhcIjp2aXNpYmxlXCIpKSYmKHRoaXMuX21vdmUodCxlKSxlLnByZXZlbnREZWZhdWx0KCkpfX0pLHQuZXh0ZW5kKHQudWkuYXV0b2NvbXBsZXRlLHtlc2NhcGVSZWdleDpmdW5jdGlvbih0KXtyZXR1cm4gdC5yZXBsYWNlKC9bXFwtXFxbXFxde30oKSorPy4sXFxcXFxcXiR8I1xcc10vZyxcIlxcXFwkJlwiKX0sZmlsdGVyOmZ1bmN0aW9uKGUsaSl7dmFyIHM9UmVnRXhwKHQudWkuYXV0b2NvbXBsZXRlLmVzY2FwZVJlZ2V4KGkpLFwiaVwiKTtyZXR1cm4gdC5ncmVwKGUsZnVuY3Rpb24odCl7cmV0dXJuIHMudGVzdCh0LmxhYmVsfHx0LnZhbHVlfHx0KX0pfX0pLHQud2lkZ2V0KFwidWkuYXV0b2NvbXBsZXRlXCIsdC51aS5hdXRvY29tcGxldGUse29wdGlvbnM6e21lc3NhZ2VzOntub1Jlc3VsdHM6XCJObyBzZWFyY2ggcmVzdWx0cy5cIixyZXN1bHRzOmZ1bmN0aW9uKHQpe3JldHVybiB0Kyh0PjE/XCIgcmVzdWx0cyBhcmVcIjpcIiByZXN1bHQgaXNcIikrXCIgYXZhaWxhYmxlLCB1c2UgdXAgYW5kIGRvd24gYXJyb3cga2V5cyB0byBuYXZpZ2F0ZS5cIn19fSxfX3Jlc3BvbnNlOmZ1bmN0aW9uKHQpe3ZhciBlO3RoaXMuX3N1cGVyQXBwbHkoYXJndW1lbnRzKSx0aGlzLm9wdGlvbnMuZGlzYWJsZWR8fHRoaXMuY2FuY2VsU2VhcmNofHwoZT10JiZ0Lmxlbmd0aD90aGlzLm9wdGlvbnMubWVzc2FnZXMucmVzdWx0cyh0Lmxlbmd0aCk6dGhpcy5vcHRpb25zLm1lc3NhZ2VzLm5vUmVzdWx0cyx0aGlzLmxpdmVSZWdpb24udGV4dChlKSl9fSl9KShqUXVlcnkpOyIsIi8qISBqUXVlcnkgVUkgLSB2MS4xMC4xIC0gMjAxMy0wMi0xNVxuKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4qIEluY2x1ZGVzOiBqcXVlcnkudWkubW91c2UuanNcbiogQ29weXJpZ2h0IDIwMTMgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yczsgTGljZW5zZWQgTUlUICovXG4oZnVuY3Rpb24oZSx0KXt2YXIgbj0hMTtlKGRvY3VtZW50KS5tb3VzZXVwKGZ1bmN0aW9uKCl7bj0hMX0pLGUud2lkZ2V0KFwidWkubW91c2VcIix7dmVyc2lvbjpcIjEuMTAuMVwiLG9wdGlvbnM6e2NhbmNlbDpcImlucHV0LHRleHRhcmVhLGJ1dHRvbixzZWxlY3Qsb3B0aW9uXCIsZGlzdGFuY2U6MSxkZWxheTowfSxfbW91c2VJbml0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmVsZW1lbnQuYmluZChcIm1vdXNlZG93bi5cIit0aGlzLndpZGdldE5hbWUsZnVuY3Rpb24oZSl7cmV0dXJuIHQuX21vdXNlRG93bihlKX0pLmJpbmQoXCJjbGljay5cIit0aGlzLndpZGdldE5hbWUsZnVuY3Rpb24obil7aWYoITA9PT1lLmRhdGEobi50YXJnZXQsdC53aWRnZXROYW1lK1wiLnByZXZlbnRDbGlja0V2ZW50XCIpKXJldHVybiBlLnJlbW92ZURhdGEobi50YXJnZXQsdC53aWRnZXROYW1lK1wiLnByZXZlbnRDbGlja0V2ZW50XCIpLG4uc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksITF9KSx0aGlzLnN0YXJ0ZWQ9ITF9LF9tb3VzZURlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQudW5iaW5kKFwiLlwiK3RoaXMud2lkZ2V0TmFtZSksdGhpcy5fbW91c2VNb3ZlRGVsZWdhdGUmJmUoZG9jdW1lbnQpLnVuYmluZChcIm1vdXNlbW92ZS5cIit0aGlzLndpZGdldE5hbWUsdGhpcy5fbW91c2VNb3ZlRGVsZWdhdGUpLnVuYmluZChcIm1vdXNldXAuXCIrdGhpcy53aWRnZXROYW1lLHRoaXMuX21vdXNlVXBEZWxlZ2F0ZSl9LF9tb3VzZURvd246ZnVuY3Rpb24odCl7aWYobilyZXR1cm47dGhpcy5fbW91c2VTdGFydGVkJiZ0aGlzLl9tb3VzZVVwKHQpLHRoaXMuX21vdXNlRG93bkV2ZW50PXQ7dmFyIHI9dGhpcyxpPXQud2hpY2g9PT0xLHM9dHlwZW9mIHRoaXMub3B0aW9ucy5jYW5jZWw9PVwic3RyaW5nXCImJnQudGFyZ2V0Lm5vZGVOYW1lP2UodC50YXJnZXQpLmNsb3Nlc3QodGhpcy5vcHRpb25zLmNhbmNlbCkubGVuZ3RoOiExO2lmKCFpfHxzfHwhdGhpcy5fbW91c2VDYXB0dXJlKHQpKXJldHVybiEwO3RoaXMubW91c2VEZWxheU1ldD0hdGhpcy5vcHRpb25zLmRlbGF5LHRoaXMubW91c2VEZWxheU1ldHx8KHRoaXMuX21vdXNlRGVsYXlUaW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ci5tb3VzZURlbGF5TWV0PSEwfSx0aGlzLm9wdGlvbnMuZGVsYXkpKTtpZih0aGlzLl9tb3VzZURpc3RhbmNlTWV0KHQpJiZ0aGlzLl9tb3VzZURlbGF5TWV0KHQpKXt0aGlzLl9tb3VzZVN0YXJ0ZWQ9dGhpcy5fbW91c2VTdGFydCh0KSE9PSExO2lmKCF0aGlzLl9tb3VzZVN0YXJ0ZWQpcmV0dXJuIHQucHJldmVudERlZmF1bHQoKSwhMH1yZXR1cm4hMD09PWUuZGF0YSh0LnRhcmdldCx0aGlzLndpZGdldE5hbWUrXCIucHJldmVudENsaWNrRXZlbnRcIikmJmUucmVtb3ZlRGF0YSh0LnRhcmdldCx0aGlzLndpZGdldE5hbWUrXCIucHJldmVudENsaWNrRXZlbnRcIiksdGhpcy5fbW91c2VNb3ZlRGVsZWdhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHIuX21vdXNlTW92ZShlKX0sdGhpcy5fbW91c2VVcERlbGVnYXRlPWZ1bmN0aW9uKGUpe3JldHVybiByLl9tb3VzZVVwKGUpfSxlKGRvY3VtZW50KS5iaW5kKFwibW91c2Vtb3ZlLlwiK3RoaXMud2lkZ2V0TmFtZSx0aGlzLl9tb3VzZU1vdmVEZWxlZ2F0ZSkuYmluZChcIm1vdXNldXAuXCIrdGhpcy53aWRnZXROYW1lLHRoaXMuX21vdXNlVXBEZWxlZ2F0ZSksdC5wcmV2ZW50RGVmYXVsdCgpLG49ITAsITB9LF9tb3VzZU1vdmU6ZnVuY3Rpb24odCl7cmV0dXJuIGUudWkuaWUmJighZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHxkb2N1bWVudC5kb2N1bWVudE1vZGU8OSkmJiF0LmJ1dHRvbj90aGlzLl9tb3VzZVVwKHQpOnRoaXMuX21vdXNlU3RhcnRlZD8odGhpcy5fbW91c2VEcmFnKHQpLHQucHJldmVudERlZmF1bHQoKSk6KHRoaXMuX21vdXNlRGlzdGFuY2VNZXQodCkmJnRoaXMuX21vdXNlRGVsYXlNZXQodCkmJih0aGlzLl9tb3VzZVN0YXJ0ZWQ9dGhpcy5fbW91c2VTdGFydCh0aGlzLl9tb3VzZURvd25FdmVudCx0KSE9PSExLHRoaXMuX21vdXNlU3RhcnRlZD90aGlzLl9tb3VzZURyYWcodCk6dGhpcy5fbW91c2VVcCh0KSksIXRoaXMuX21vdXNlU3RhcnRlZCl9LF9tb3VzZVVwOmZ1bmN0aW9uKHQpe3JldHVybiBlKGRvY3VtZW50KS51bmJpbmQoXCJtb3VzZW1vdmUuXCIrdGhpcy53aWRnZXROYW1lLHRoaXMuX21vdXNlTW92ZURlbGVnYXRlKS51bmJpbmQoXCJtb3VzZXVwLlwiK3RoaXMud2lkZ2V0TmFtZSx0aGlzLl9tb3VzZVVwRGVsZWdhdGUpLHRoaXMuX21vdXNlU3RhcnRlZCYmKHRoaXMuX21vdXNlU3RhcnRlZD0hMSx0LnRhcmdldD09PXRoaXMuX21vdXNlRG93bkV2ZW50LnRhcmdldCYmZS5kYXRhKHQudGFyZ2V0LHRoaXMud2lkZ2V0TmFtZStcIi5wcmV2ZW50Q2xpY2tFdmVudFwiLCEwKSx0aGlzLl9tb3VzZVN0b3AodCkpLCExfSxfbW91c2VEaXN0YW5jZU1ldDpmdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5tYXgoTWF0aC5hYnModGhpcy5fbW91c2VEb3duRXZlbnQucGFnZVgtZS5wYWdlWCksTWF0aC5hYnModGhpcy5fbW91c2VEb3duRXZlbnQucGFnZVktZS5wYWdlWSkpPj10aGlzLm9wdGlvbnMuZGlzdGFuY2V9LF9tb3VzZURlbGF5TWV0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubW91c2VEZWxheU1ldH0sX21vdXNlU3RhcnQ6ZnVuY3Rpb24oKXt9LF9tb3VzZURyYWc6ZnVuY3Rpb24oKXt9LF9tb3VzZVN0b3A6ZnVuY3Rpb24oKXt9LF9tb3VzZUNhcHR1cmU6ZnVuY3Rpb24oKXtyZXR1cm4hMH19KX0pKGpRdWVyeSk7IiwiLyohIGpRdWVyeSBVSSAtIHYxLjEwLjEgLSAyMDEzLTAyLTE1XG4qIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiogSW5jbHVkZXM6IGpxdWVyeS51aS5zb3J0YWJsZS5qc1xuKiBDb3B5cmlnaHQgMjAxMyBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzOyBMaWNlbnNlZCBNSVQgKi9cbihmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oZSx0LG4pe3JldHVybiBlPnQmJmU8dCtufWUud2lkZ2V0KFwidWkuc29ydGFibGVcIixlLnVpLm1vdXNlLHt2ZXJzaW9uOlwiMS4xMC4xXCIsd2lkZ2V0RXZlbnRQcmVmaXg6XCJzb3J0XCIscmVhZHk6ITEsb3B0aW9uczp7YXBwZW5kVG86XCJwYXJlbnRcIixheGlzOiExLGNvbm5lY3RXaXRoOiExLGNvbnRhaW5tZW50OiExLGN1cnNvcjpcImF1dG9cIixjdXJzb3JBdDohMSxkcm9wT25FbXB0eTohMCxmb3JjZVBsYWNlaG9sZGVyU2l6ZTohMSxmb3JjZUhlbHBlclNpemU6ITEsZ3JpZDohMSxoYW5kbGU6ITEsaGVscGVyOlwib3JpZ2luYWxcIixpdGVtczpcIj4gKlwiLG9wYWNpdHk6ITEscGxhY2Vob2xkZXI6ITEscmV2ZXJ0OiExLHNjcm9sbDohMCxzY3JvbGxTZW5zaXRpdml0eToyMCxzY3JvbGxTcGVlZDoyMCxzY29wZTpcImRlZmF1bHRcIix0b2xlcmFuY2U6XCJpbnRlcnNlY3RcIix6SW5kZXg6MWUzLGFjdGl2YXRlOm51bGwsYmVmb3JlU3RvcDpudWxsLGNoYW5nZTpudWxsLGRlYWN0aXZhdGU6bnVsbCxvdXQ6bnVsbCxvdmVyOm51bGwscmVjZWl2ZTpudWxsLHJlbW92ZTpudWxsLHNvcnQ6bnVsbCxzdGFydDpudWxsLHN0b3A6bnVsbCx1cGRhdGU6bnVsbH0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3B0aW9uczt0aGlzLmNvbnRhaW5lckNhY2hlPXt9LHRoaXMuZWxlbWVudC5hZGRDbGFzcyhcInVpLXNvcnRhYmxlXCIpLHRoaXMucmVmcmVzaCgpLHRoaXMuZmxvYXRpbmc9dGhpcy5pdGVtcy5sZW5ndGg/ZS5heGlzPT09XCJ4XCJ8fC9sZWZ0fHJpZ2h0Ly50ZXN0KHRoaXMuaXRlbXNbMF0uaXRlbS5jc3MoXCJmbG9hdFwiKSl8fC9pbmxpbmV8dGFibGUtY2VsbC8udGVzdCh0aGlzLml0ZW1zWzBdLml0ZW0uY3NzKFwiZGlzcGxheVwiKSk6ITEsdGhpcy5vZmZzZXQ9dGhpcy5lbGVtZW50Lm9mZnNldCgpLHRoaXMuX21vdXNlSW5pdCgpLHRoaXMucmVhZHk9ITB9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKFwidWktc29ydGFibGUgdWktc29ydGFibGUtZGlzYWJsZWRcIiksdGhpcy5fbW91c2VEZXN0cm95KCk7Zm9yKHZhciBlPXRoaXMuaXRlbXMubGVuZ3RoLTE7ZT49MDtlLS0pdGhpcy5pdGVtc1tlXS5pdGVtLnJlbW92ZURhdGEodGhpcy53aWRnZXROYW1lK1wiLWl0ZW1cIik7cmV0dXJuIHRoaXN9LF9zZXRPcHRpb246ZnVuY3Rpb24odCxuKXt0PT09XCJkaXNhYmxlZFwiPyh0aGlzLm9wdGlvbnNbdF09bix0aGlzLndpZGdldCgpLnRvZ2dsZUNsYXNzKFwidWktc29ydGFibGUtZGlzYWJsZWRcIiwhIW4pKTplLldpZGdldC5wcm90b3R5cGUuX3NldE9wdGlvbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LF9tb3VzZUNhcHR1cmU6ZnVuY3Rpb24odCxuKXt2YXIgcj1udWxsLGk9ITEscz10aGlzO2lmKHRoaXMucmV2ZXJ0aW5nKXJldHVybiExO2lmKHRoaXMub3B0aW9ucy5kaXNhYmxlZHx8dGhpcy5vcHRpb25zLnR5cGU9PT1cInN0YXRpY1wiKXJldHVybiExO3RoaXMuX3JlZnJlc2hJdGVtcyh0KSxlKHQudGFyZ2V0KS5wYXJlbnRzKCkuZWFjaChmdW5jdGlvbigpe2lmKGUuZGF0YSh0aGlzLHMud2lkZ2V0TmFtZStcIi1pdGVtXCIpPT09cylyZXR1cm4gcj1lKHRoaXMpLCExfSksZS5kYXRhKHQudGFyZ2V0LHMud2lkZ2V0TmFtZStcIi1pdGVtXCIpPT09cyYmKHI9ZSh0LnRhcmdldCkpO2lmKCFyKXJldHVybiExO2lmKHRoaXMub3B0aW9ucy5oYW5kbGUmJiFuKXtlKHRoaXMub3B0aW9ucy5oYW5kbGUscikuZmluZChcIipcIikuYWRkQmFjaygpLmVhY2goZnVuY3Rpb24oKXt0aGlzPT09dC50YXJnZXQmJihpPSEwKX0pO2lmKCFpKXJldHVybiExfXJldHVybiB0aGlzLmN1cnJlbnRJdGVtPXIsdGhpcy5fcmVtb3ZlQ3VycmVudHNGcm9tSXRlbXMoKSwhMH0sX21vdXNlU3RhcnQ6ZnVuY3Rpb24odCxuLHIpe3ZhciBpLHM9dGhpcy5vcHRpb25zO3RoaXMuY3VycmVudENvbnRhaW5lcj10aGlzLHRoaXMucmVmcmVzaFBvc2l0aW9ucygpLHRoaXMuaGVscGVyPXRoaXMuX2NyZWF0ZUhlbHBlcih0KSx0aGlzLl9jYWNoZUhlbHBlclByb3BvcnRpb25zKCksdGhpcy5fY2FjaGVNYXJnaW5zKCksdGhpcy5zY3JvbGxQYXJlbnQ9dGhpcy5oZWxwZXIuc2Nyb2xsUGFyZW50KCksdGhpcy5vZmZzZXQ9dGhpcy5jdXJyZW50SXRlbS5vZmZzZXQoKSx0aGlzLm9mZnNldD17dG9wOnRoaXMub2Zmc2V0LnRvcC10aGlzLm1hcmdpbnMudG9wLGxlZnQ6dGhpcy5vZmZzZXQubGVmdC10aGlzLm1hcmdpbnMubGVmdH0sZS5leHRlbmQodGhpcy5vZmZzZXQse2NsaWNrOntsZWZ0OnQucGFnZVgtdGhpcy5vZmZzZXQubGVmdCx0b3A6dC5wYWdlWS10aGlzLm9mZnNldC50b3B9LHBhcmVudDp0aGlzLl9nZXRQYXJlbnRPZmZzZXQoKSxyZWxhdGl2ZTp0aGlzLl9nZXRSZWxhdGl2ZU9mZnNldCgpfSksdGhpcy5oZWxwZXIuY3NzKFwicG9zaXRpb25cIixcImFic29sdXRlXCIpLHRoaXMuY3NzUG9zaXRpb249dGhpcy5oZWxwZXIuY3NzKFwicG9zaXRpb25cIiksdGhpcy5vcmlnaW5hbFBvc2l0aW9uPXRoaXMuX2dlbmVyYXRlUG9zaXRpb24odCksdGhpcy5vcmlnaW5hbFBhZ2VYPXQucGFnZVgsdGhpcy5vcmlnaW5hbFBhZ2VZPXQucGFnZVkscy5jdXJzb3JBdCYmdGhpcy5fYWRqdXN0T2Zmc2V0RnJvbUhlbHBlcihzLmN1cnNvckF0KSx0aGlzLmRvbVBvc2l0aW9uPXtwcmV2OnRoaXMuY3VycmVudEl0ZW0ucHJldigpWzBdLHBhcmVudDp0aGlzLmN1cnJlbnRJdGVtLnBhcmVudCgpWzBdfSx0aGlzLmhlbHBlclswXSE9PXRoaXMuY3VycmVudEl0ZW1bMF0mJnRoaXMuY3VycmVudEl0ZW0uaGlkZSgpLHRoaXMuX2NyZWF0ZVBsYWNlaG9sZGVyKCkscy5jb250YWlubWVudCYmdGhpcy5fc2V0Q29udGFpbm1lbnQoKSxzLmN1cnNvciYmKGUoXCJib2R5XCIpLmNzcyhcImN1cnNvclwiKSYmKHRoaXMuX3N0b3JlZEN1cnNvcj1lKFwiYm9keVwiKS5jc3MoXCJjdXJzb3JcIikpLGUoXCJib2R5XCIpLmNzcyhcImN1cnNvclwiLHMuY3Vyc29yKSkscy5vcGFjaXR5JiYodGhpcy5oZWxwZXIuY3NzKFwib3BhY2l0eVwiKSYmKHRoaXMuX3N0b3JlZE9wYWNpdHk9dGhpcy5oZWxwZXIuY3NzKFwib3BhY2l0eVwiKSksdGhpcy5oZWxwZXIuY3NzKFwib3BhY2l0eVwiLHMub3BhY2l0eSkpLHMuekluZGV4JiYodGhpcy5oZWxwZXIuY3NzKFwiekluZGV4XCIpJiYodGhpcy5fc3RvcmVkWkluZGV4PXRoaXMuaGVscGVyLmNzcyhcInpJbmRleFwiKSksdGhpcy5oZWxwZXIuY3NzKFwiekluZGV4XCIscy56SW5kZXgpKSx0aGlzLnNjcm9sbFBhcmVudFswXSE9PWRvY3VtZW50JiZ0aGlzLnNjcm9sbFBhcmVudFswXS50YWdOYW1lIT09XCJIVE1MXCImJih0aGlzLm92ZXJmbG93T2Zmc2V0PXRoaXMuc2Nyb2xsUGFyZW50Lm9mZnNldCgpKSx0aGlzLl90cmlnZ2VyKFwic3RhcnRcIix0LHRoaXMuX3VpSGFzaCgpKSx0aGlzLl9wcmVzZXJ2ZUhlbHBlclByb3BvcnRpb25zfHx0aGlzLl9jYWNoZUhlbHBlclByb3BvcnRpb25zKCk7aWYoIXIpZm9yKGk9dGhpcy5jb250YWluZXJzLmxlbmd0aC0xO2k+PTA7aS0tKXRoaXMuY29udGFpbmVyc1tpXS5fdHJpZ2dlcihcImFjdGl2YXRlXCIsdCx0aGlzLl91aUhhc2godGhpcykpO3JldHVybiBlLnVpLmRkbWFuYWdlciYmKGUudWkuZGRtYW5hZ2VyLmN1cnJlbnQ9dGhpcyksZS51aS5kZG1hbmFnZXImJiFzLmRyb3BCZWhhdmlvdXImJmUudWkuZGRtYW5hZ2VyLnByZXBhcmVPZmZzZXRzKHRoaXMsdCksdGhpcy5kcmFnZ2luZz0hMCx0aGlzLmhlbHBlci5hZGRDbGFzcyhcInVpLXNvcnRhYmxlLWhlbHBlclwiKSx0aGlzLl9tb3VzZURyYWcodCksITB9LF9tb3VzZURyYWc6ZnVuY3Rpb24odCl7dmFyIG4scixpLHMsbz10aGlzLm9wdGlvbnMsdT0hMTt0aGlzLnBvc2l0aW9uPXRoaXMuX2dlbmVyYXRlUG9zaXRpb24odCksdGhpcy5wb3NpdGlvbkFicz10aGlzLl9jb252ZXJ0UG9zaXRpb25UbyhcImFic29sdXRlXCIpLHRoaXMubGFzdFBvc2l0aW9uQWJzfHwodGhpcy5sYXN0UG9zaXRpb25BYnM9dGhpcy5wb3NpdGlvbkFicyksdGhpcy5vcHRpb25zLnNjcm9sbCYmKHRoaXMuc2Nyb2xsUGFyZW50WzBdIT09ZG9jdW1lbnQmJnRoaXMuc2Nyb2xsUGFyZW50WzBdLnRhZ05hbWUhPT1cIkhUTUxcIj8odGhpcy5vdmVyZmxvd09mZnNldC50b3ArdGhpcy5zY3JvbGxQYXJlbnRbMF0ub2Zmc2V0SGVpZ2h0LXQucGFnZVk8by5zY3JvbGxTZW5zaXRpdml0eT90aGlzLnNjcm9sbFBhcmVudFswXS5zY3JvbGxUb3A9dT10aGlzLnNjcm9sbFBhcmVudFswXS5zY3JvbGxUb3Arby5zY3JvbGxTcGVlZDp0LnBhZ2VZLXRoaXMub3ZlcmZsb3dPZmZzZXQudG9wPG8uc2Nyb2xsU2Vuc2l0aXZpdHkmJih0aGlzLnNjcm9sbFBhcmVudFswXS5zY3JvbGxUb3A9dT10aGlzLnNjcm9sbFBhcmVudFswXS5zY3JvbGxUb3Atby5zY3JvbGxTcGVlZCksdGhpcy5vdmVyZmxvd09mZnNldC5sZWZ0K3RoaXMuc2Nyb2xsUGFyZW50WzBdLm9mZnNldFdpZHRoLXQucGFnZVg8by5zY3JvbGxTZW5zaXRpdml0eT90aGlzLnNjcm9sbFBhcmVudFswXS5zY3JvbGxMZWZ0PXU9dGhpcy5zY3JvbGxQYXJlbnRbMF0uc2Nyb2xsTGVmdCtvLnNjcm9sbFNwZWVkOnQucGFnZVgtdGhpcy5vdmVyZmxvd09mZnNldC5sZWZ0PG8uc2Nyb2xsU2Vuc2l0aXZpdHkmJih0aGlzLnNjcm9sbFBhcmVudFswXS5zY3JvbGxMZWZ0PXU9dGhpcy5zY3JvbGxQYXJlbnRbMF0uc2Nyb2xsTGVmdC1vLnNjcm9sbFNwZWVkKSk6KHQucGFnZVktZShkb2N1bWVudCkuc2Nyb2xsVG9wKCk8by5zY3JvbGxTZW5zaXRpdml0eT91PWUoZG9jdW1lbnQpLnNjcm9sbFRvcChlKGRvY3VtZW50KS5zY3JvbGxUb3AoKS1vLnNjcm9sbFNwZWVkKTplKHdpbmRvdykuaGVpZ2h0KCktKHQucGFnZVktZShkb2N1bWVudCkuc2Nyb2xsVG9wKCkpPG8uc2Nyb2xsU2Vuc2l0aXZpdHkmJih1PWUoZG9jdW1lbnQpLnNjcm9sbFRvcChlKGRvY3VtZW50KS5zY3JvbGxUb3AoKStvLnNjcm9sbFNwZWVkKSksdC5wYWdlWC1lKGRvY3VtZW50KS5zY3JvbGxMZWZ0KCk8by5zY3JvbGxTZW5zaXRpdml0eT91PWUoZG9jdW1lbnQpLnNjcm9sbExlZnQoZShkb2N1bWVudCkuc2Nyb2xsTGVmdCgpLW8uc2Nyb2xsU3BlZWQpOmUod2luZG93KS53aWR0aCgpLSh0LnBhZ2VYLWUoZG9jdW1lbnQpLnNjcm9sbExlZnQoKSk8by5zY3JvbGxTZW5zaXRpdml0eSYmKHU9ZShkb2N1bWVudCkuc2Nyb2xsTGVmdChlKGRvY3VtZW50KS5zY3JvbGxMZWZ0KCkrby5zY3JvbGxTcGVlZCkpKSx1IT09ITEmJmUudWkuZGRtYW5hZ2VyJiYhby5kcm9wQmVoYXZpb3VyJiZlLnVpLmRkbWFuYWdlci5wcmVwYXJlT2Zmc2V0cyh0aGlzLHQpKSx0aGlzLnBvc2l0aW9uQWJzPXRoaXMuX2NvbnZlcnRQb3NpdGlvblRvKFwiYWJzb2x1dGVcIik7aWYoIXRoaXMub3B0aW9ucy5heGlzfHx0aGlzLm9wdGlvbnMuYXhpcyE9PVwieVwiKXRoaXMuaGVscGVyWzBdLnN0eWxlLmxlZnQ9dGhpcy5wb3NpdGlvbi5sZWZ0K1wicHhcIjtpZighdGhpcy5vcHRpb25zLmF4aXN8fHRoaXMub3B0aW9ucy5heGlzIT09XCJ4XCIpdGhpcy5oZWxwZXJbMF0uc3R5bGUudG9wPXRoaXMucG9zaXRpb24udG9wK1wicHhcIjtmb3Iobj10aGlzLml0ZW1zLmxlbmd0aC0xO24+PTA7bi0tKXtyPXRoaXMuaXRlbXNbbl0saT1yLml0ZW1bMF0scz10aGlzLl9pbnRlcnNlY3RzV2l0aFBvaW50ZXIocik7aWYoIXMpY29udGludWU7aWYoci5pbnN0YW5jZSE9PXRoaXMuY3VycmVudENvbnRhaW5lciljb250aW51ZTtpZihpIT09dGhpcy5jdXJyZW50SXRlbVswXSYmdGhpcy5wbGFjZWhvbGRlcltzPT09MT9cIm5leHRcIjpcInByZXZcIl0oKVswXSE9PWkmJiFlLmNvbnRhaW5zKHRoaXMucGxhY2Vob2xkZXJbMF0saSkmJih0aGlzLm9wdGlvbnMudHlwZT09PVwic2VtaS1keW5hbWljXCI/IWUuY29udGFpbnModGhpcy5lbGVtZW50WzBdLGkpOiEwKSl7dGhpcy5kaXJlY3Rpb249cz09PTE/XCJkb3duXCI6XCJ1cFwiO2lmKHRoaXMub3B0aW9ucy50b2xlcmFuY2UhPT1cInBvaW50ZXJcIiYmIXRoaXMuX2ludGVyc2VjdHNXaXRoU2lkZXMocikpYnJlYWs7dGhpcy5fcmVhcnJhbmdlKHQsciksdGhpcy5fdHJpZ2dlcihcImNoYW5nZVwiLHQsdGhpcy5fdWlIYXNoKCkpO2JyZWFrfX1yZXR1cm4gdGhpcy5fY29udGFjdENvbnRhaW5lcnModCksZS51aS5kZG1hbmFnZXImJmUudWkuZGRtYW5hZ2VyLmRyYWcodGhpcyx0KSx0aGlzLl90cmlnZ2VyKFwic29ydFwiLHQsdGhpcy5fdWlIYXNoKCkpLHRoaXMubGFzdFBvc2l0aW9uQWJzPXRoaXMucG9zaXRpb25BYnMsITF9LF9tb3VzZVN0b3A6ZnVuY3Rpb24odCxuKXtpZighdClyZXR1cm47ZS51aS5kZG1hbmFnZXImJiF0aGlzLm9wdGlvbnMuZHJvcEJlaGF2aW91ciYmZS51aS5kZG1hbmFnZXIuZHJvcCh0aGlzLHQpO2lmKHRoaXMub3B0aW9ucy5yZXZlcnQpe3ZhciByPXRoaXMsaT10aGlzLnBsYWNlaG9sZGVyLm9mZnNldCgpO3RoaXMucmV2ZXJ0aW5nPSEwLGUodGhpcy5oZWxwZXIpLmFuaW1hdGUoe2xlZnQ6aS5sZWZ0LXRoaXMub2Zmc2V0LnBhcmVudC5sZWZ0LXRoaXMubWFyZ2lucy5sZWZ0Kyh0aGlzLm9mZnNldFBhcmVudFswXT09PWRvY3VtZW50LmJvZHk/MDp0aGlzLm9mZnNldFBhcmVudFswXS5zY3JvbGxMZWZ0KSx0b3A6aS50b3AtdGhpcy5vZmZzZXQucGFyZW50LnRvcC10aGlzLm1hcmdpbnMudG9wKyh0aGlzLm9mZnNldFBhcmVudFswXT09PWRvY3VtZW50LmJvZHk/MDp0aGlzLm9mZnNldFBhcmVudFswXS5zY3JvbGxUb3ApfSxwYXJzZUludCh0aGlzLm9wdGlvbnMucmV2ZXJ0LDEwKXx8NTAwLGZ1bmN0aW9uKCl7ci5fY2xlYXIodCl9KX1lbHNlIHRoaXMuX2NsZWFyKHQsbik7cmV0dXJuITF9LGNhbmNlbDpmdW5jdGlvbigpe2lmKHRoaXMuZHJhZ2dpbmcpe3RoaXMuX21vdXNlVXAoe3RhcmdldDpudWxsfSksdGhpcy5vcHRpb25zLmhlbHBlcj09PVwib3JpZ2luYWxcIj90aGlzLmN1cnJlbnRJdGVtLmNzcyh0aGlzLl9zdG9yZWRDU1MpLnJlbW92ZUNsYXNzKFwidWktc29ydGFibGUtaGVscGVyXCIpOnRoaXMuY3VycmVudEl0ZW0uc2hvdygpO2Zvcih2YXIgdD10aGlzLmNvbnRhaW5lcnMubGVuZ3RoLTE7dD49MDt0LS0pdGhpcy5jb250YWluZXJzW3RdLl90cmlnZ2VyKFwiZGVhY3RpdmF0ZVwiLG51bGwsdGhpcy5fdWlIYXNoKHRoaXMpKSx0aGlzLmNvbnRhaW5lcnNbdF0uY29udGFpbmVyQ2FjaGUub3ZlciYmKHRoaXMuY29udGFpbmVyc1t0XS5fdHJpZ2dlcihcIm91dFwiLG51bGwsdGhpcy5fdWlIYXNoKHRoaXMpKSx0aGlzLmNvbnRhaW5lcnNbdF0uY29udGFpbmVyQ2FjaGUub3Zlcj0wKX1yZXR1cm4gdGhpcy5wbGFjZWhvbGRlciYmKHRoaXMucGxhY2Vob2xkZXJbMF0ucGFyZW50Tm9kZSYmdGhpcy5wbGFjZWhvbGRlclswXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMucGxhY2Vob2xkZXJbMF0pLHRoaXMub3B0aW9ucy5oZWxwZXIhPT1cIm9yaWdpbmFsXCImJnRoaXMuaGVscGVyJiZ0aGlzLmhlbHBlclswXS5wYXJlbnROb2RlJiZ0aGlzLmhlbHBlci5yZW1vdmUoKSxlLmV4dGVuZCh0aGlzLHtoZWxwZXI6bnVsbCxkcmFnZ2luZzohMSxyZXZlcnRpbmc6ITEsX25vRmluYWxTb3J0Om51bGx9KSx0aGlzLmRvbVBvc2l0aW9uLnByZXY/ZSh0aGlzLmRvbVBvc2l0aW9uLnByZXYpLmFmdGVyKHRoaXMuY3VycmVudEl0ZW0pOmUodGhpcy5kb21Qb3NpdGlvbi5wYXJlbnQpLnByZXBlbmQodGhpcy5jdXJyZW50SXRlbSkpLHRoaXN9LHNlcmlhbGl6ZTpmdW5jdGlvbih0KXt2YXIgbj10aGlzLl9nZXRJdGVtc0FzalF1ZXJ5KHQmJnQuY29ubmVjdGVkKSxyPVtdO3JldHVybiB0PXR8fHt9LGUobikuZWFjaChmdW5jdGlvbigpe3ZhciBuPShlKHQuaXRlbXx8dGhpcykuYXR0cih0LmF0dHJpYnV0ZXx8XCJpZFwiKXx8XCJcIikubWF0Y2godC5leHByZXNzaW9ufHwvKC4rKVtcXC09X10oLispLyk7biYmci5wdXNoKCh0LmtleXx8blsxXStcIltdXCIpK1wiPVwiKyh0LmtleSYmdC5leHByZXNzaW9uP25bMV06blsyXSkpfSksIXIubGVuZ3RoJiZ0LmtleSYmci5wdXNoKHQua2V5K1wiPVwiKSxyLmpvaW4oXCImXCIpfSx0b0FycmF5OmZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMuX2dldEl0ZW1zQXNqUXVlcnkodCYmdC5jb25uZWN0ZWQpLHI9W107cmV0dXJuIHQ9dHx8e30sbi5lYWNoKGZ1bmN0aW9uKCl7ci5wdXNoKGUodC5pdGVtfHx0aGlzKS5hdHRyKHQuYXR0cmlidXRlfHxcImlkXCIpfHxcIlwiKX0pLHJ9LF9pbnRlcnNlY3RzV2l0aDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnBvc2l0aW9uQWJzLmxlZnQsbj10K3RoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgscj10aGlzLnBvc2l0aW9uQWJzLnRvcCxpPXIrdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQscz1lLmxlZnQsbz1zK2Uud2lkdGgsdT1lLnRvcCxhPXUrZS5oZWlnaHQsZj10aGlzLm9mZnNldC5jbGljay50b3AsbD10aGlzLm9mZnNldC5jbGljay5sZWZ0LGM9citmPnUmJnIrZjxhJiZ0K2w+cyYmdCtsPG87cmV0dXJuIHRoaXMub3B0aW9ucy50b2xlcmFuY2U9PT1cInBvaW50ZXJcInx8dGhpcy5vcHRpb25zLmZvcmNlUG9pbnRlckZvckNvbnRhaW5lcnN8fHRoaXMub3B0aW9ucy50b2xlcmFuY2UhPT1cInBvaW50ZXJcIiYmdGhpcy5oZWxwZXJQcm9wb3J0aW9uc1t0aGlzLmZsb2F0aW5nP1wid2lkdGhcIjpcImhlaWdodFwiXT5lW3RoaXMuZmxvYXRpbmc/XCJ3aWR0aFwiOlwiaGVpZ2h0XCJdP2M6czx0K3RoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgvMiYmbi10aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLzI8byYmdTxyK3RoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LzImJmktdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQvMjxhfSxfaW50ZXJzZWN0c1dpdGhQb2ludGVyOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMub3B0aW9ucy5heGlzPT09XCJ4XCJ8fG4odGhpcy5wb3NpdGlvbkFicy50b3ArdGhpcy5vZmZzZXQuY2xpY2sudG9wLGUudG9wLGUuaGVpZ2h0KSxyPXRoaXMub3B0aW9ucy5heGlzPT09XCJ5XCJ8fG4odGhpcy5wb3NpdGlvbkFicy5sZWZ0K3RoaXMub2Zmc2V0LmNsaWNrLmxlZnQsZS5sZWZ0LGUud2lkdGgpLGk9dCYmcixzPXRoaXMuX2dldERyYWdWZXJ0aWNhbERpcmVjdGlvbigpLG89dGhpcy5fZ2V0RHJhZ0hvcml6b250YWxEaXJlY3Rpb24oKTtyZXR1cm4gaT90aGlzLmZsb2F0aW5nP28mJm89PT1cInJpZ2h0XCJ8fHM9PT1cImRvd25cIj8yOjE6cyYmKHM9PT1cImRvd25cIj8yOjEpOiExfSxfaW50ZXJzZWN0c1dpdGhTaWRlczpmdW5jdGlvbihlKXt2YXIgdD1uKHRoaXMucG9zaXRpb25BYnMudG9wK3RoaXMub2Zmc2V0LmNsaWNrLnRvcCxlLnRvcCtlLmhlaWdodC8yLGUuaGVpZ2h0KSxyPW4odGhpcy5wb3NpdGlvbkFicy5sZWZ0K3RoaXMub2Zmc2V0LmNsaWNrLmxlZnQsZS5sZWZ0K2Uud2lkdGgvMixlLndpZHRoKSxpPXRoaXMuX2dldERyYWdWZXJ0aWNhbERpcmVjdGlvbigpLHM9dGhpcy5fZ2V0RHJhZ0hvcml6b250YWxEaXJlY3Rpb24oKTtyZXR1cm4gdGhpcy5mbG9hdGluZyYmcz9zPT09XCJyaWdodFwiJiZyfHxzPT09XCJsZWZ0XCImJiFyOmkmJihpPT09XCJkb3duXCImJnR8fGk9PT1cInVwXCImJiF0KX0sX2dldERyYWdWZXJ0aWNhbERpcmVjdGlvbjpmdW5jdGlvbigpe3ZhciBlPXRoaXMucG9zaXRpb25BYnMudG9wLXRoaXMubGFzdFBvc2l0aW9uQWJzLnRvcDtyZXR1cm4gZSE9PTAmJihlPjA/XCJkb3duXCI6XCJ1cFwiKX0sX2dldERyYWdIb3Jpem9udGFsRGlyZWN0aW9uOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wb3NpdGlvbkFicy5sZWZ0LXRoaXMubGFzdFBvc2l0aW9uQWJzLmxlZnQ7cmV0dXJuIGUhPT0wJiYoZT4wP1wicmlnaHRcIjpcImxlZnRcIil9LHJlZnJlc2g6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3JlZnJlc2hJdGVtcyhlKSx0aGlzLnJlZnJlc2hQb3NpdGlvbnMoKSx0aGlzfSxfY29ubmVjdFdpdGg6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9wdGlvbnM7cmV0dXJuIGUuY29ubmVjdFdpdGguY29uc3RydWN0b3I9PT1TdHJpbmc/W2UuY29ubmVjdFdpdGhdOmUuY29ubmVjdFdpdGh9LF9nZXRJdGVtc0FzalF1ZXJ5OmZ1bmN0aW9uKHQpe3ZhciBuLHIsaSxzLG89W10sdT1bXSxhPXRoaXMuX2Nvbm5lY3RXaXRoKCk7aWYoYSYmdClmb3Iobj1hLmxlbmd0aC0xO24+PTA7bi0tKXtpPWUoYVtuXSk7Zm9yKHI9aS5sZW5ndGgtMTtyPj0wO3ItLSlzPWUuZGF0YShpW3JdLHRoaXMud2lkZ2V0RnVsbE5hbWUpLHMmJnMhPT10aGlzJiYhcy5vcHRpb25zLmRpc2FibGVkJiZ1LnB1c2goW2UuaXNGdW5jdGlvbihzLm9wdGlvbnMuaXRlbXMpP3Mub3B0aW9ucy5pdGVtcy5jYWxsKHMuZWxlbWVudCk6ZShzLm9wdGlvbnMuaXRlbXMscy5lbGVtZW50KS5ub3QoXCIudWktc29ydGFibGUtaGVscGVyXCIpLm5vdChcIi51aS1zb3J0YWJsZS1wbGFjZWhvbGRlclwiKSxzXSl9dS5wdXNoKFtlLmlzRnVuY3Rpb24odGhpcy5vcHRpb25zLml0ZW1zKT90aGlzLm9wdGlvbnMuaXRlbXMuY2FsbCh0aGlzLmVsZW1lbnQsbnVsbCx7b3B0aW9uczp0aGlzLm9wdGlvbnMsaXRlbTp0aGlzLmN1cnJlbnRJdGVtfSk6ZSh0aGlzLm9wdGlvbnMuaXRlbXMsdGhpcy5lbGVtZW50KS5ub3QoXCIudWktc29ydGFibGUtaGVscGVyXCIpLm5vdChcIi51aS1zb3J0YWJsZS1wbGFjZWhvbGRlclwiKSx0aGlzXSk7Zm9yKG49dS5sZW5ndGgtMTtuPj0wO24tLSl1W25dWzBdLmVhY2goZnVuY3Rpb24oKXtvLnB1c2godGhpcyl9KTtyZXR1cm4gZShvKX0sX3JlbW92ZUN1cnJlbnRzRnJvbUl0ZW1zOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jdXJyZW50SXRlbS5maW5kKFwiOmRhdGEoXCIrdGhpcy53aWRnZXROYW1lK1wiLWl0ZW0pXCIpO3RoaXMuaXRlbXM9ZS5ncmVwKHRoaXMuaXRlbXMsZnVuY3Rpb24oZSl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspaWYodFtuXT09PWUuaXRlbVswXSlyZXR1cm4hMTtyZXR1cm4hMH0pfSxfcmVmcmVzaEl0ZW1zOmZ1bmN0aW9uKHQpe3RoaXMuaXRlbXM9W10sdGhpcy5jb250YWluZXJzPVt0aGlzXTt2YXIgbixyLGkscyxvLHUsYSxmLGw9dGhpcy5pdGVtcyxjPVtbZS5pc0Z1bmN0aW9uKHRoaXMub3B0aW9ucy5pdGVtcyk/dGhpcy5vcHRpb25zLml0ZW1zLmNhbGwodGhpcy5lbGVtZW50WzBdLHQse2l0ZW06dGhpcy5jdXJyZW50SXRlbX0pOmUodGhpcy5vcHRpb25zLml0ZW1zLHRoaXMuZWxlbWVudCksdGhpc11dLGg9dGhpcy5fY29ubmVjdFdpdGgoKTtpZihoJiZ0aGlzLnJlYWR5KWZvcihuPWgubGVuZ3RoLTE7bj49MDtuLS0pe2k9ZShoW25dKTtmb3Iocj1pLmxlbmd0aC0xO3I+PTA7ci0tKXM9ZS5kYXRhKGlbcl0sdGhpcy53aWRnZXRGdWxsTmFtZSkscyYmcyE9PXRoaXMmJiFzLm9wdGlvbnMuZGlzYWJsZWQmJihjLnB1c2goW2UuaXNGdW5jdGlvbihzLm9wdGlvbnMuaXRlbXMpP3Mub3B0aW9ucy5pdGVtcy5jYWxsKHMuZWxlbWVudFswXSx0LHtpdGVtOnRoaXMuY3VycmVudEl0ZW19KTplKHMub3B0aW9ucy5pdGVtcyxzLmVsZW1lbnQpLHNdKSx0aGlzLmNvbnRhaW5lcnMucHVzaChzKSl9Zm9yKG49Yy5sZW5ndGgtMTtuPj0wO24tLSl7bz1jW25dWzFdLHU9Y1tuXVswXTtmb3Iocj0wLGY9dS5sZW5ndGg7cjxmO3IrKylhPWUodVtyXSksYS5kYXRhKHRoaXMud2lkZ2V0TmFtZStcIi1pdGVtXCIsbyksbC5wdXNoKHtpdGVtOmEsaW5zdGFuY2U6byx3aWR0aDowLGhlaWdodDowLGxlZnQ6MCx0b3A6MH0pfX0scmVmcmVzaFBvc2l0aW9uczpmdW5jdGlvbih0KXt0aGlzLm9mZnNldFBhcmVudCYmdGhpcy5oZWxwZXImJih0aGlzLm9mZnNldC5wYXJlbnQ9dGhpcy5fZ2V0UGFyZW50T2Zmc2V0KCkpO3ZhciBuLHIsaSxzO2ZvcihuPXRoaXMuaXRlbXMubGVuZ3RoLTE7bj49MDtuLS0pe3I9dGhpcy5pdGVtc1tuXTtpZihyLmluc3RhbmNlIT09dGhpcy5jdXJyZW50Q29udGFpbmVyJiZ0aGlzLmN1cnJlbnRDb250YWluZXImJnIuaXRlbVswXSE9PXRoaXMuY3VycmVudEl0ZW1bMF0pY29udGludWU7aT10aGlzLm9wdGlvbnMudG9sZXJhbmNlRWxlbWVudD9lKHRoaXMub3B0aW9ucy50b2xlcmFuY2VFbGVtZW50LHIuaXRlbSk6ci5pdGVtLHR8fChyLndpZHRoPWkub3V0ZXJXaWR0aCgpLHIuaGVpZ2h0PWkub3V0ZXJIZWlnaHQoKSkscz1pLm9mZnNldCgpLHIubGVmdD1zLmxlZnQsci50b3A9cy50b3B9aWYodGhpcy5vcHRpb25zLmN1c3RvbSYmdGhpcy5vcHRpb25zLmN1c3RvbS5yZWZyZXNoQ29udGFpbmVycyl0aGlzLm9wdGlvbnMuY3VzdG9tLnJlZnJlc2hDb250YWluZXJzLmNhbGwodGhpcyk7ZWxzZSBmb3Iobj10aGlzLmNvbnRhaW5lcnMubGVuZ3RoLTE7bj49MDtuLS0pcz10aGlzLmNvbnRhaW5lcnNbbl0uZWxlbWVudC5vZmZzZXQoKSx0aGlzLmNvbnRhaW5lcnNbbl0uY29udGFpbmVyQ2FjaGUubGVmdD1zLmxlZnQsdGhpcy5jb250YWluZXJzW25dLmNvbnRhaW5lckNhY2hlLnRvcD1zLnRvcCx0aGlzLmNvbnRhaW5lcnNbbl0uY29udGFpbmVyQ2FjaGUud2lkdGg9dGhpcy5jb250YWluZXJzW25dLmVsZW1lbnQub3V0ZXJXaWR0aCgpLHRoaXMuY29udGFpbmVyc1tuXS5jb250YWluZXJDYWNoZS5oZWlnaHQ9dGhpcy5jb250YWluZXJzW25dLmVsZW1lbnQub3V0ZXJIZWlnaHQoKTtyZXR1cm4gdGhpc30sX2NyZWF0ZVBsYWNlaG9sZGVyOmZ1bmN0aW9uKHQpe3Q9dHx8dGhpczt2YXIgbixyPXQub3B0aW9ucztpZighci5wbGFjZWhvbGRlcnx8ci5wbGFjZWhvbGRlci5jb25zdHJ1Y3Rvcj09PVN0cmluZyluPXIucGxhY2Vob2xkZXIsci5wbGFjZWhvbGRlcj17ZWxlbWVudDpmdW5jdGlvbigpe3ZhciByPWUoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0LmN1cnJlbnRJdGVtWzBdLm5vZGVOYW1lKSkuYWRkQ2xhc3Mobnx8dC5jdXJyZW50SXRlbVswXS5jbGFzc05hbWUrXCIgdWktc29ydGFibGUtcGxhY2Vob2xkZXJcIikucmVtb3ZlQ2xhc3MoXCJ1aS1zb3J0YWJsZS1oZWxwZXJcIilbMF07cmV0dXJuIG58fChyLnN0eWxlLnZpc2liaWxpdHk9XCJoaWRkZW5cIikscn0sdXBkYXRlOmZ1bmN0aW9uKGUsaSl7aWYobiYmIXIuZm9yY2VQbGFjZWhvbGRlclNpemUpcmV0dXJuO2kuaGVpZ2h0KCl8fGkuaGVpZ2h0KHQuY3VycmVudEl0ZW0uaW5uZXJIZWlnaHQoKS1wYXJzZUludCh0LmN1cnJlbnRJdGVtLmNzcyhcInBhZGRpbmdUb3BcIil8fDAsMTApLXBhcnNlSW50KHQuY3VycmVudEl0ZW0uY3NzKFwicGFkZGluZ0JvdHRvbVwiKXx8MCwxMCkpLGkud2lkdGgoKXx8aS53aWR0aCh0LmN1cnJlbnRJdGVtLmlubmVyV2lkdGgoKS1wYXJzZUludCh0LmN1cnJlbnRJdGVtLmNzcyhcInBhZGRpbmdMZWZ0XCIpfHwwLDEwKS1wYXJzZUludCh0LmN1cnJlbnRJdGVtLmNzcyhcInBhZGRpbmdSaWdodFwiKXx8MCwxMCkpfX07dC5wbGFjZWhvbGRlcj1lKHIucGxhY2Vob2xkZXIuZWxlbWVudC5jYWxsKHQuZWxlbWVudCx0LmN1cnJlbnRJdGVtKSksdC5jdXJyZW50SXRlbS5hZnRlcih0LnBsYWNlaG9sZGVyKSxyLnBsYWNlaG9sZGVyLnVwZGF0ZSh0LHQucGxhY2Vob2xkZXIpfSxfY29udGFjdENvbnRhaW5lcnM6ZnVuY3Rpb24odCl7dmFyIG4scixpLHMsbyx1LGEsZixsLGM9bnVsbCxoPW51bGw7Zm9yKG49dGhpcy5jb250YWluZXJzLmxlbmd0aC0xO24+PTA7bi0tKXtpZihlLmNvbnRhaW5zKHRoaXMuY3VycmVudEl0ZW1bMF0sdGhpcy5jb250YWluZXJzW25dLmVsZW1lbnRbMF0pKWNvbnRpbnVlO2lmKHRoaXMuX2ludGVyc2VjdHNXaXRoKHRoaXMuY29udGFpbmVyc1tuXS5jb250YWluZXJDYWNoZSkpe2lmKGMmJmUuY29udGFpbnModGhpcy5jb250YWluZXJzW25dLmVsZW1lbnRbMF0sYy5lbGVtZW50WzBdKSljb250aW51ZTtjPXRoaXMuY29udGFpbmVyc1tuXSxoPW59ZWxzZSB0aGlzLmNvbnRhaW5lcnNbbl0uY29udGFpbmVyQ2FjaGUub3ZlciYmKHRoaXMuY29udGFpbmVyc1tuXS5fdHJpZ2dlcihcIm91dFwiLHQsdGhpcy5fdWlIYXNoKHRoaXMpKSx0aGlzLmNvbnRhaW5lcnNbbl0uY29udGFpbmVyQ2FjaGUub3Zlcj0wKX1pZighYylyZXR1cm47aWYodGhpcy5jb250YWluZXJzLmxlbmd0aD09PTEpdGhpcy5jb250YWluZXJzW2hdLl90cmlnZ2VyKFwib3ZlclwiLHQsdGhpcy5fdWlIYXNoKHRoaXMpKSx0aGlzLmNvbnRhaW5lcnNbaF0uY29udGFpbmVyQ2FjaGUub3Zlcj0xO2Vsc2V7aT0xZTQscz1udWxsLG89dGhpcy5jb250YWluZXJzW2hdLmZsb2F0aW5nP1wibGVmdFwiOlwidG9wXCIsdT10aGlzLmNvbnRhaW5lcnNbaF0uZmxvYXRpbmc/XCJ3aWR0aFwiOlwiaGVpZ2h0XCIsYT10aGlzLnBvc2l0aW9uQWJzW29dK3RoaXMub2Zmc2V0LmNsaWNrW29dO2ZvcihyPXRoaXMuaXRlbXMubGVuZ3RoLTE7cj49MDtyLS0pe2lmKCFlLmNvbnRhaW5zKHRoaXMuY29udGFpbmVyc1toXS5lbGVtZW50WzBdLHRoaXMuaXRlbXNbcl0uaXRlbVswXSkpY29udGludWU7aWYodGhpcy5pdGVtc1tyXS5pdGVtWzBdPT09dGhpcy5jdXJyZW50SXRlbVswXSljb250aW51ZTtmPXRoaXMuaXRlbXNbcl0uaXRlbS5vZmZzZXQoKVtvXSxsPSExLE1hdGguYWJzKGYtYSk+TWF0aC5hYnMoZit0aGlzLml0ZW1zW3JdW3VdLWEpJiYobD0hMCxmKz10aGlzLml0ZW1zW3JdW3VdKSxNYXRoLmFicyhmLWEpPGkmJihpPU1hdGguYWJzKGYtYSkscz10aGlzLml0ZW1zW3JdLHRoaXMuZGlyZWN0aW9uPWw/XCJ1cFwiOlwiZG93blwiKX1pZighcyYmIXRoaXMub3B0aW9ucy5kcm9wT25FbXB0eSlyZXR1cm47dGhpcy5jdXJyZW50Q29udGFpbmVyPXRoaXMuY29udGFpbmVyc1toXSxzP3RoaXMuX3JlYXJyYW5nZSh0LHMsbnVsbCwhMCk6dGhpcy5fcmVhcnJhbmdlKHQsbnVsbCx0aGlzLmNvbnRhaW5lcnNbaF0uZWxlbWVudCwhMCksdGhpcy5fdHJpZ2dlcihcImNoYW5nZVwiLHQsdGhpcy5fdWlIYXNoKCkpLHRoaXMuY29udGFpbmVyc1toXS5fdHJpZ2dlcihcImNoYW5nZVwiLHQsdGhpcy5fdWlIYXNoKHRoaXMpKSx0aGlzLm9wdGlvbnMucGxhY2Vob2xkZXIudXBkYXRlKHRoaXMuY3VycmVudENvbnRhaW5lcix0aGlzLnBsYWNlaG9sZGVyKSx0aGlzLmNvbnRhaW5lcnNbaF0uX3RyaWdnZXIoXCJvdmVyXCIsdCx0aGlzLl91aUhhc2godGhpcykpLHRoaXMuY29udGFpbmVyc1toXS5jb250YWluZXJDYWNoZS5vdmVyPTF9fSxfY3JlYXRlSGVscGVyOmZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMub3B0aW9ucyxyPWUuaXNGdW5jdGlvbihuLmhlbHBlcik/ZShuLmhlbHBlci5hcHBseSh0aGlzLmVsZW1lbnRbMF0sW3QsdGhpcy5jdXJyZW50SXRlbV0pKTpuLmhlbHBlcj09PVwiY2xvbmVcIj90aGlzLmN1cnJlbnRJdGVtLmNsb25lKCk6dGhpcy5jdXJyZW50SXRlbTtyZXR1cm4gci5wYXJlbnRzKFwiYm9keVwiKS5sZW5ndGh8fGUobi5hcHBlbmRUbyE9PVwicGFyZW50XCI/bi5hcHBlbmRUbzp0aGlzLmN1cnJlbnRJdGVtWzBdLnBhcmVudE5vZGUpWzBdLmFwcGVuZENoaWxkKHJbMF0pLHJbMF09PT10aGlzLmN1cnJlbnRJdGVtWzBdJiYodGhpcy5fc3RvcmVkQ1NTPXt3aWR0aDp0aGlzLmN1cnJlbnRJdGVtWzBdLnN0eWxlLndpZHRoLGhlaWdodDp0aGlzLmN1cnJlbnRJdGVtWzBdLnN0eWxlLmhlaWdodCxwb3NpdGlvbjp0aGlzLmN1cnJlbnRJdGVtLmNzcyhcInBvc2l0aW9uXCIpLHRvcDp0aGlzLmN1cnJlbnRJdGVtLmNzcyhcInRvcFwiKSxsZWZ0OnRoaXMuY3VycmVudEl0ZW0uY3NzKFwibGVmdFwiKX0pLCghclswXS5zdHlsZS53aWR0aHx8bi5mb3JjZUhlbHBlclNpemUpJiZyLndpZHRoKHRoaXMuY3VycmVudEl0ZW0ud2lkdGgoKSksKCFyWzBdLnN0eWxlLmhlaWdodHx8bi5mb3JjZUhlbHBlclNpemUpJiZyLmhlaWdodCh0aGlzLmN1cnJlbnRJdGVtLmhlaWdodCgpKSxyfSxfYWRqdXN0T2Zmc2V0RnJvbUhlbHBlcjpmdW5jdGlvbih0KXt0eXBlb2YgdD09XCJzdHJpbmdcIiYmKHQ9dC5zcGxpdChcIiBcIikpLGUuaXNBcnJheSh0KSYmKHQ9e2xlZnQ6K3RbMF0sdG9wOit0WzFdfHwwfSksXCJsZWZ0XCJpbiB0JiYodGhpcy5vZmZzZXQuY2xpY2subGVmdD10LmxlZnQrdGhpcy5tYXJnaW5zLmxlZnQpLFwicmlnaHRcImluIHQmJih0aGlzLm9mZnNldC5jbGljay5sZWZ0PXRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgtdC5yaWdodCt0aGlzLm1hcmdpbnMubGVmdCksXCJ0b3BcImluIHQmJih0aGlzLm9mZnNldC5jbGljay50b3A9dC50b3ArdGhpcy5tYXJnaW5zLnRvcCksXCJib3R0b21cImluIHQmJih0aGlzLm9mZnNldC5jbGljay50b3A9dGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQtdC5ib3R0b20rdGhpcy5tYXJnaW5zLnRvcCl9LF9nZXRQYXJlbnRPZmZzZXQ6ZnVuY3Rpb24oKXt0aGlzLm9mZnNldFBhcmVudD10aGlzLmhlbHBlci5vZmZzZXRQYXJlbnQoKTt2YXIgdD10aGlzLm9mZnNldFBhcmVudC5vZmZzZXQoKTt0aGlzLmNzc1Bvc2l0aW9uPT09XCJhYnNvbHV0ZVwiJiZ0aGlzLnNjcm9sbFBhcmVudFswXSE9PWRvY3VtZW50JiZlLmNvbnRhaW5zKHRoaXMuc2Nyb2xsUGFyZW50WzBdLHRoaXMub2Zmc2V0UGFyZW50WzBdKSYmKHQubGVmdCs9dGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpLHQudG9wKz10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKSk7aWYodGhpcy5vZmZzZXRQYXJlbnRbMF09PT1kb2N1bWVudC5ib2R5fHx0aGlzLm9mZnNldFBhcmVudFswXS50YWdOYW1lJiZ0aGlzLm9mZnNldFBhcmVudFswXS50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PT1cImh0bWxcIiYmZS51aS5pZSl0PXt0b3A6MCxsZWZ0OjB9O3JldHVybnt0b3A6dC50b3ArKHBhcnNlSW50KHRoaXMub2Zmc2V0UGFyZW50LmNzcyhcImJvcmRlclRvcFdpZHRoXCIpLDEwKXx8MCksbGVmdDp0LmxlZnQrKHBhcnNlSW50KHRoaXMub2Zmc2V0UGFyZW50LmNzcyhcImJvcmRlckxlZnRXaWR0aFwiKSwxMCl8fDApfX0sX2dldFJlbGF0aXZlT2Zmc2V0OmZ1bmN0aW9uKCl7aWYodGhpcy5jc3NQb3NpdGlvbj09PVwicmVsYXRpdmVcIil7dmFyIGU9dGhpcy5jdXJyZW50SXRlbS5wb3NpdGlvbigpO3JldHVybnt0b3A6ZS50b3AtKHBhcnNlSW50KHRoaXMuaGVscGVyLmNzcyhcInRvcFwiKSwxMCl8fDApK3RoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCgpLGxlZnQ6ZS5sZWZ0LShwYXJzZUludCh0aGlzLmhlbHBlci5jc3MoXCJsZWZ0XCIpLDEwKXx8MCkrdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpfX1yZXR1cm57dG9wOjAsbGVmdDowfX0sX2NhY2hlTWFyZ2luczpmdW5jdGlvbigpe3RoaXMubWFyZ2lucz17bGVmdDpwYXJzZUludCh0aGlzLmN1cnJlbnRJdGVtLmNzcyhcIm1hcmdpbkxlZnRcIiksMTApfHwwLHRvcDpwYXJzZUludCh0aGlzLmN1cnJlbnRJdGVtLmNzcyhcIm1hcmdpblRvcFwiKSwxMCl8fDB9fSxfY2FjaGVIZWxwZXJQcm9wb3J0aW9uczpmdW5jdGlvbigpe3RoaXMuaGVscGVyUHJvcG9ydGlvbnM9e3dpZHRoOnRoaXMuaGVscGVyLm91dGVyV2lkdGgoKSxoZWlnaHQ6dGhpcy5oZWxwZXIub3V0ZXJIZWlnaHQoKX19LF9zZXRDb250YWlubWVudDpmdW5jdGlvbigpe3ZhciB0LG4scixpPXRoaXMub3B0aW9ucztpLmNvbnRhaW5tZW50PT09XCJwYXJlbnRcIiYmKGkuY29udGFpbm1lbnQ9dGhpcy5oZWxwZXJbMF0ucGFyZW50Tm9kZSk7aWYoaS5jb250YWlubWVudD09PVwiZG9jdW1lbnRcInx8aS5jb250YWlubWVudD09PVwid2luZG93XCIpdGhpcy5jb250YWlubWVudD1bMC10aGlzLm9mZnNldC5yZWxhdGl2ZS5sZWZ0LXRoaXMub2Zmc2V0LnBhcmVudC5sZWZ0LDAtdGhpcy5vZmZzZXQucmVsYXRpdmUudG9wLXRoaXMub2Zmc2V0LnBhcmVudC50b3AsZShpLmNvbnRhaW5tZW50PT09XCJkb2N1bWVudFwiP2RvY3VtZW50OndpbmRvdykud2lkdGgoKS10aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLXRoaXMubWFyZ2lucy5sZWZ0LChlKGkuY29udGFpbm1lbnQ9PT1cImRvY3VtZW50XCI/ZG9jdW1lbnQ6d2luZG93KS5oZWlnaHQoKXx8ZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlLnNjcm9sbEhlaWdodCktdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQtdGhpcy5tYXJnaW5zLnRvcF07L14oZG9jdW1lbnR8d2luZG93fHBhcmVudCkkLy50ZXN0KGkuY29udGFpbm1lbnQpfHwodD1lKGkuY29udGFpbm1lbnQpWzBdLG49ZShpLmNvbnRhaW5tZW50KS5vZmZzZXQoKSxyPWUodCkuY3NzKFwib3ZlcmZsb3dcIikhPT1cImhpZGRlblwiLHRoaXMuY29udGFpbm1lbnQ9W24ubGVmdCsocGFyc2VJbnQoZSh0KS5jc3MoXCJib3JkZXJMZWZ0V2lkdGhcIiksMTApfHwwKSsocGFyc2VJbnQoZSh0KS5jc3MoXCJwYWRkaW5nTGVmdFwiKSwxMCl8fDApLXRoaXMubWFyZ2lucy5sZWZ0LG4udG9wKyhwYXJzZUludChlKHQpLmNzcyhcImJvcmRlclRvcFdpZHRoXCIpLDEwKXx8MCkrKHBhcnNlSW50KGUodCkuY3NzKFwicGFkZGluZ1RvcFwiKSwxMCl8fDApLXRoaXMubWFyZ2lucy50b3Asbi5sZWZ0KyhyP01hdGgubWF4KHQuc2Nyb2xsV2lkdGgsdC5vZmZzZXRXaWR0aCk6dC5vZmZzZXRXaWR0aCktKHBhcnNlSW50KGUodCkuY3NzKFwiYm9yZGVyTGVmdFdpZHRoXCIpLDEwKXx8MCktKHBhcnNlSW50KGUodCkuY3NzKFwicGFkZGluZ1JpZ2h0XCIpLDEwKXx8MCktdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC10aGlzLm1hcmdpbnMubGVmdCxuLnRvcCsocj9NYXRoLm1heCh0LnNjcm9sbEhlaWdodCx0Lm9mZnNldEhlaWdodCk6dC5vZmZzZXRIZWlnaHQpLShwYXJzZUludChlKHQpLmNzcyhcImJvcmRlclRvcFdpZHRoXCIpLDEwKXx8MCktKHBhcnNlSW50KGUodCkuY3NzKFwicGFkZGluZ0JvdHRvbVwiKSwxMCl8fDApLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LXRoaXMubWFyZ2lucy50b3BdKX0sX2NvbnZlcnRQb3NpdGlvblRvOmZ1bmN0aW9uKHQsbil7bnx8KG49dGhpcy5wb3NpdGlvbik7dmFyIHI9dD09PVwiYWJzb2x1dGVcIj8xOi0xLGk9dGhpcy5jc3NQb3NpdGlvbiE9PVwiYWJzb2x1dGVcInx8dGhpcy5zY3JvbGxQYXJlbnRbMF0hPT1kb2N1bWVudCYmISFlLmNvbnRhaW5zKHRoaXMuc2Nyb2xsUGFyZW50WzBdLHRoaXMub2Zmc2V0UGFyZW50WzBdKT90aGlzLnNjcm9sbFBhcmVudDp0aGlzLm9mZnNldFBhcmVudCxzPS8oaHRtbHxib2R5KS9pLnRlc3QoaVswXS50YWdOYW1lKTtyZXR1cm57dG9wOm4udG9wK3RoaXMub2Zmc2V0LnJlbGF0aXZlLnRvcCpyK3RoaXMub2Zmc2V0LnBhcmVudC50b3Aqci0odGhpcy5jc3NQb3NpdGlvbj09PVwiZml4ZWRcIj8tdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKCk6cz8wOmkuc2Nyb2xsVG9wKCkpKnIsbGVmdDpuLmxlZnQrdGhpcy5vZmZzZXQucmVsYXRpdmUubGVmdCpyK3RoaXMub2Zmc2V0LnBhcmVudC5sZWZ0KnItKHRoaXMuY3NzUG9zaXRpb249PT1cImZpeGVkXCI/LXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbExlZnQoKTpzPzA6aS5zY3JvbGxMZWZ0KCkpKnJ9fSxfZ2VuZXJhdGVQb3NpdGlvbjpmdW5jdGlvbih0KXt2YXIgbixyLGk9dGhpcy5vcHRpb25zLHM9dC5wYWdlWCxvPXQucGFnZVksdT10aGlzLmNzc1Bvc2l0aW9uIT09XCJhYnNvbHV0ZVwifHx0aGlzLnNjcm9sbFBhcmVudFswXSE9PWRvY3VtZW50JiYhIWUuY29udGFpbnModGhpcy5zY3JvbGxQYXJlbnRbMF0sdGhpcy5vZmZzZXRQYXJlbnRbMF0pP3RoaXMuc2Nyb2xsUGFyZW50OnRoaXMub2Zmc2V0UGFyZW50LGE9LyhodG1sfGJvZHkpL2kudGVzdCh1WzBdLnRhZ05hbWUpO3JldHVybiB0aGlzLmNzc1Bvc2l0aW9uPT09XCJyZWxhdGl2ZVwiJiYodGhpcy5zY3JvbGxQYXJlbnRbMF09PT1kb2N1bWVudHx8dGhpcy5zY3JvbGxQYXJlbnRbMF09PT10aGlzLm9mZnNldFBhcmVudFswXSkmJih0aGlzLm9mZnNldC5yZWxhdGl2ZT10aGlzLl9nZXRSZWxhdGl2ZU9mZnNldCgpKSx0aGlzLm9yaWdpbmFsUG9zaXRpb24mJih0aGlzLmNvbnRhaW5tZW50JiYodC5wYWdlWC10aGlzLm9mZnNldC5jbGljay5sZWZ0PHRoaXMuY29udGFpbm1lbnRbMF0mJihzPXRoaXMuY29udGFpbm1lbnRbMF0rdGhpcy5vZmZzZXQuY2xpY2subGVmdCksdC5wYWdlWS10aGlzLm9mZnNldC5jbGljay50b3A8dGhpcy5jb250YWlubWVudFsxXSYmKG89dGhpcy5jb250YWlubWVudFsxXSt0aGlzLm9mZnNldC5jbGljay50b3ApLHQucGFnZVgtdGhpcy5vZmZzZXQuY2xpY2subGVmdD50aGlzLmNvbnRhaW5tZW50WzJdJiYocz10aGlzLmNvbnRhaW5tZW50WzJdK3RoaXMub2Zmc2V0LmNsaWNrLmxlZnQpLHQucGFnZVktdGhpcy5vZmZzZXQuY2xpY2sudG9wPnRoaXMuY29udGFpbm1lbnRbM10mJihvPXRoaXMuY29udGFpbm1lbnRbM10rdGhpcy5vZmZzZXQuY2xpY2sudG9wKSksaS5ncmlkJiYobj10aGlzLm9yaWdpbmFsUGFnZVkrTWF0aC5yb3VuZCgoby10aGlzLm9yaWdpbmFsUGFnZVkpL2kuZ3JpZFsxXSkqaS5ncmlkWzFdLG89dGhpcy5jb250YWlubWVudD9uLXRoaXMub2Zmc2V0LmNsaWNrLnRvcD49dGhpcy5jb250YWlubWVudFsxXSYmbi10aGlzLm9mZnNldC5jbGljay50b3A8PXRoaXMuY29udGFpbm1lbnRbM10/bjpuLXRoaXMub2Zmc2V0LmNsaWNrLnRvcD49dGhpcy5jb250YWlubWVudFsxXT9uLWkuZ3JpZFsxXTpuK2kuZ3JpZFsxXTpuLHI9dGhpcy5vcmlnaW5hbFBhZ2VYK01hdGgucm91bmQoKHMtdGhpcy5vcmlnaW5hbFBhZ2VYKS9pLmdyaWRbMF0pKmkuZ3JpZFswXSxzPXRoaXMuY29udGFpbm1lbnQ/ci10aGlzLm9mZnNldC5jbGljay5sZWZ0Pj10aGlzLmNvbnRhaW5tZW50WzBdJiZyLXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ8PXRoaXMuY29udGFpbm1lbnRbMl0/cjpyLXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ+PXRoaXMuY29udGFpbm1lbnRbMF0/ci1pLmdyaWRbMF06citpLmdyaWRbMF06cikpLHt0b3A6by10aGlzLm9mZnNldC5jbGljay50b3AtdGhpcy5vZmZzZXQucmVsYXRpdmUudG9wLXRoaXMub2Zmc2V0LnBhcmVudC50b3ArKHRoaXMuY3NzUG9zaXRpb249PT1cImZpeGVkXCI/LXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCgpOmE/MDp1LnNjcm9sbFRvcCgpKSxsZWZ0OnMtdGhpcy5vZmZzZXQuY2xpY2subGVmdC10aGlzLm9mZnNldC5yZWxhdGl2ZS5sZWZ0LXRoaXMub2Zmc2V0LnBhcmVudC5sZWZ0Kyh0aGlzLmNzc1Bvc2l0aW9uPT09XCJmaXhlZFwiPy10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0KCk6YT8wOnUuc2Nyb2xsTGVmdCgpKX19LF9yZWFycmFuZ2U6ZnVuY3Rpb24oZSx0LG4scil7bj9uWzBdLmFwcGVuZENoaWxkKHRoaXMucGxhY2Vob2xkZXJbMF0pOnQuaXRlbVswXS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLnBsYWNlaG9sZGVyWzBdLHRoaXMuZGlyZWN0aW9uPT09XCJkb3duXCI/dC5pdGVtWzBdOnQuaXRlbVswXS5uZXh0U2libGluZyksdGhpcy5jb3VudGVyPXRoaXMuY291bnRlcj8rK3RoaXMuY291bnRlcjoxO3ZhciBpPXRoaXMuY291bnRlcjt0aGlzLl9kZWxheShmdW5jdGlvbigpe2k9PT10aGlzLmNvdW50ZXImJnRoaXMucmVmcmVzaFBvc2l0aW9ucyghcil9KX0sX2NsZWFyOmZ1bmN0aW9uKHQsbil7dGhpcy5yZXZlcnRpbmc9ITE7dmFyIHIsaT1bXTshdGhpcy5fbm9GaW5hbFNvcnQmJnRoaXMuY3VycmVudEl0ZW0ucGFyZW50KCkubGVuZ3RoJiZ0aGlzLnBsYWNlaG9sZGVyLmJlZm9yZSh0aGlzLmN1cnJlbnRJdGVtKSx0aGlzLl9ub0ZpbmFsU29ydD1udWxsO2lmKHRoaXMuaGVscGVyWzBdPT09dGhpcy5jdXJyZW50SXRlbVswXSl7Zm9yKHIgaW4gdGhpcy5fc3RvcmVkQ1NTKWlmKHRoaXMuX3N0b3JlZENTU1tyXT09PVwiYXV0b1wifHx0aGlzLl9zdG9yZWRDU1Nbcl09PT1cInN0YXRpY1wiKXRoaXMuX3N0b3JlZENTU1tyXT1cIlwiO3RoaXMuY3VycmVudEl0ZW0uY3NzKHRoaXMuX3N0b3JlZENTUykucmVtb3ZlQ2xhc3MoXCJ1aS1zb3J0YWJsZS1oZWxwZXJcIil9ZWxzZSB0aGlzLmN1cnJlbnRJdGVtLnNob3coKTt0aGlzLmZyb21PdXRzaWRlJiYhbiYmaS5wdXNoKGZ1bmN0aW9uKGUpe3RoaXMuX3RyaWdnZXIoXCJyZWNlaXZlXCIsZSx0aGlzLl91aUhhc2godGhpcy5mcm9tT3V0c2lkZSkpfSksKHRoaXMuZnJvbU91dHNpZGV8fHRoaXMuZG9tUG9zaXRpb24ucHJldiE9PXRoaXMuY3VycmVudEl0ZW0ucHJldigpLm5vdChcIi51aS1zb3J0YWJsZS1oZWxwZXJcIilbMF18fHRoaXMuZG9tUG9zaXRpb24ucGFyZW50IT09dGhpcy5jdXJyZW50SXRlbS5wYXJlbnQoKVswXSkmJiFuJiZpLnB1c2goZnVuY3Rpb24oZSl7dGhpcy5fdHJpZ2dlcihcInVwZGF0ZVwiLGUsdGhpcy5fdWlIYXNoKCkpfSksdGhpcyE9PXRoaXMuY3VycmVudENvbnRhaW5lciYmKG58fChpLnB1c2goZnVuY3Rpb24oZSl7dGhpcy5fdHJpZ2dlcihcInJlbW92ZVwiLGUsdGhpcy5fdWlIYXNoKCkpfSksaS5wdXNoKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtlLl90cmlnZ2VyKFwicmVjZWl2ZVwiLHQsdGhpcy5fdWlIYXNoKHRoaXMpKX19LmNhbGwodGhpcyx0aGlzLmN1cnJlbnRDb250YWluZXIpKSxpLnB1c2goZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2UuX3RyaWdnZXIoXCJ1cGRhdGVcIix0LHRoaXMuX3VpSGFzaCh0aGlzKSl9fS5jYWxsKHRoaXMsdGhpcy5jdXJyZW50Q29udGFpbmVyKSkpKTtmb3Iocj10aGlzLmNvbnRhaW5lcnMubGVuZ3RoLTE7cj49MDtyLS0pbnx8aS5wdXNoKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtlLl90cmlnZ2VyKFwiZGVhY3RpdmF0ZVwiLHQsdGhpcy5fdWlIYXNoKHRoaXMpKX19LmNhbGwodGhpcyx0aGlzLmNvbnRhaW5lcnNbcl0pKSx0aGlzLmNvbnRhaW5lcnNbcl0uY29udGFpbmVyQ2FjaGUub3ZlciYmKGkucHVzaChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7ZS5fdHJpZ2dlcihcIm91dFwiLHQsdGhpcy5fdWlIYXNoKHRoaXMpKX19LmNhbGwodGhpcyx0aGlzLmNvbnRhaW5lcnNbcl0pKSx0aGlzLmNvbnRhaW5lcnNbcl0uY29udGFpbmVyQ2FjaGUub3Zlcj0wKTt0aGlzLl9zdG9yZWRDdXJzb3ImJmUoXCJib2R5XCIpLmNzcyhcImN1cnNvclwiLHRoaXMuX3N0b3JlZEN1cnNvciksdGhpcy5fc3RvcmVkT3BhY2l0eSYmdGhpcy5oZWxwZXIuY3NzKFwib3BhY2l0eVwiLHRoaXMuX3N0b3JlZE9wYWNpdHkpLHRoaXMuX3N0b3JlZFpJbmRleCYmdGhpcy5oZWxwZXIuY3NzKFwiekluZGV4XCIsdGhpcy5fc3RvcmVkWkluZGV4PT09XCJhdXRvXCI/XCJcIjp0aGlzLl9zdG9yZWRaSW5kZXgpLHRoaXMuZHJhZ2dpbmc9ITE7aWYodGhpcy5jYW5jZWxIZWxwZXJSZW1vdmFsKXtpZighbil7dGhpcy5fdHJpZ2dlcihcImJlZm9yZVN0b3BcIix0LHRoaXMuX3VpSGFzaCgpKTtmb3Iocj0wO3I8aS5sZW5ndGg7cisrKWlbcl0uY2FsbCh0aGlzLHQpO3RoaXMuX3RyaWdnZXIoXCJzdG9wXCIsdCx0aGlzLl91aUhhc2goKSl9cmV0dXJuIHRoaXMuZnJvbU91dHNpZGU9ITEsITF9bnx8dGhpcy5fdHJpZ2dlcihcImJlZm9yZVN0b3BcIix0LHRoaXMuX3VpSGFzaCgpKSx0aGlzLnBsYWNlaG9sZGVyWzBdLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5wbGFjZWhvbGRlclswXSksdGhpcy5oZWxwZXJbMF0hPT10aGlzLmN1cnJlbnRJdGVtWzBdJiZ0aGlzLmhlbHBlci5yZW1vdmUoKSx0aGlzLmhlbHBlcj1udWxsO2lmKCFuKXtmb3Iocj0wO3I8aS5sZW5ndGg7cisrKWlbcl0uY2FsbCh0aGlzLHQpO3RoaXMuX3RyaWdnZXIoXCJzdG9wXCIsdCx0aGlzLl91aUhhc2goKSl9cmV0dXJuIHRoaXMuZnJvbU91dHNpZGU9ITEsITB9LF90cmlnZ2VyOmZ1bmN0aW9uKCl7ZS5XaWRnZXQucHJvdG90eXBlLl90cmlnZ2VyLmFwcGx5KHRoaXMsYXJndW1lbnRzKT09PSExJiZ0aGlzLmNhbmNlbCgpfSxfdWlIYXNoOmZ1bmN0aW9uKHQpe3ZhciBuPXR8fHRoaXM7cmV0dXJue2hlbHBlcjpuLmhlbHBlcixwbGFjZWhvbGRlcjpuLnBsYWNlaG9sZGVyfHxlKFtdKSxwb3NpdGlvbjpuLnBvc2l0aW9uLG9yaWdpbmFsUG9zaXRpb246bi5vcmlnaW5hbFBvc2l0aW9uLG9mZnNldDpuLnBvc2l0aW9uQWJzLGl0ZW06bi5jdXJyZW50SXRlbSxzZW5kZXI6dD90LmVsZW1lbnQ6bnVsbH19fSl9KShqUXVlcnkpOyIsIi8qISBqUXVlcnkgVUkgLSB2MS4xMC4xIC0gMjAxMy0wMi0xNVxuKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4qIEluY2x1ZGVzOiBqcXVlcnkudWkuYWNjb3JkaW9uLmpzXG4qIENvcHlyaWdodCAyMDEzIGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnM7IExpY2Vuc2VkIE1JVCAqL1xuKGZ1bmN0aW9uKGUsdCl7dmFyIG49MCxyPXt9LGk9e307ci5oZWlnaHQ9ci5wYWRkaW5nVG9wPXIucGFkZGluZ0JvdHRvbT1yLmJvcmRlclRvcFdpZHRoPXIuYm9yZGVyQm90dG9tV2lkdGg9XCJoaWRlXCIsaS5oZWlnaHQ9aS5wYWRkaW5nVG9wPWkucGFkZGluZ0JvdHRvbT1pLmJvcmRlclRvcFdpZHRoPWkuYm9yZGVyQm90dG9tV2lkdGg9XCJzaG93XCIsZS53aWRnZXQoXCJ1aS5hY2NvcmRpb25cIix7dmVyc2lvbjpcIjEuMTAuMVwiLG9wdGlvbnM6e2FjdGl2ZTowLGFuaW1hdGU6e30sY29sbGFwc2libGU6ITEsZXZlbnQ6XCJjbGlja1wiLGhlYWRlcjpcIj4gbGkgPiA6Zmlyc3QtY2hpbGQsPiA6bm90KGxpKTpldmVuXCIsaGVpZ2h0U3R5bGU6XCJhdXRvXCIsaWNvbnM6e2FjdGl2ZUhlYWRlcjpcInVpLWljb24tdHJpYW5nbGUtMS1zXCIsaGVhZGVyOlwidWktaWNvbi10cmlhbmdsZS0xLWVcIn0sYWN0aXZhdGU6bnVsbCxiZWZvcmVBY3RpdmF0ZTpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zO3RoaXMucHJldlNob3c9dGhpcy5wcmV2SGlkZT1lKCksdGhpcy5lbGVtZW50LmFkZENsYXNzKFwidWktYWNjb3JkaW9uIHVpLXdpZGdldCB1aS1oZWxwZXItcmVzZXRcIikuYXR0cihcInJvbGVcIixcInRhYmxpc3RcIiksIXQuY29sbGFwc2libGUmJih0LmFjdGl2ZT09PSExfHx0LmFjdGl2ZT09bnVsbCkmJih0LmFjdGl2ZT0wKSx0aGlzLl9wcm9jZXNzUGFuZWxzKCksdC5hY3RpdmU8MCYmKHQuYWN0aXZlKz10aGlzLmhlYWRlcnMubGVuZ3RoKSx0aGlzLl9yZWZyZXNoKCl9LF9nZXRDcmVhdGVFdmVudERhdGE6ZnVuY3Rpb24oKXtyZXR1cm57aGVhZGVyOnRoaXMuYWN0aXZlLHBhbmVsOnRoaXMuYWN0aXZlLmxlbmd0aD90aGlzLmFjdGl2ZS5uZXh0KCk6ZSgpLGNvbnRlbnQ6dGhpcy5hY3RpdmUubGVuZ3RoP3RoaXMuYWN0aXZlLm5leHQoKTplKCl9fSxfY3JlYXRlSWNvbnM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMuaWNvbnM7dCYmKGUoXCI8c3Bhbj5cIikuYWRkQ2xhc3MoXCJ1aS1hY2NvcmRpb24taGVhZGVyLWljb24gdWktaWNvbiBcIit0LmhlYWRlcikucHJlcGVuZFRvKHRoaXMuaGVhZGVycyksdGhpcy5hY3RpdmUuY2hpbGRyZW4oXCIudWktYWNjb3JkaW9uLWhlYWRlci1pY29uXCIpLnJlbW92ZUNsYXNzKHQuaGVhZGVyKS5hZGRDbGFzcyh0LmFjdGl2ZUhlYWRlciksdGhpcy5oZWFkZXJzLmFkZENsYXNzKFwidWktYWNjb3JkaW9uLWljb25zXCIpKX0sX2Rlc3Ryb3lJY29uczpmdW5jdGlvbigpe3RoaXMuaGVhZGVycy5yZW1vdmVDbGFzcyhcInVpLWFjY29yZGlvbi1pY29uc1wiKS5jaGlsZHJlbihcIi51aS1hY2NvcmRpb24taGVhZGVyLWljb25cIikucmVtb3ZlKCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGU7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKFwidWktYWNjb3JkaW9uIHVpLXdpZGdldCB1aS1oZWxwZXItcmVzZXRcIikucmVtb3ZlQXR0cihcInJvbGVcIiksdGhpcy5oZWFkZXJzLnJlbW92ZUNsYXNzKFwidWktYWNjb3JkaW9uLWhlYWRlciB1aS1hY2NvcmRpb24taGVhZGVyLWFjdGl2ZSB1aS1oZWxwZXItcmVzZXQgdWktc3RhdGUtZGVmYXVsdCB1aS1jb3JuZXItYWxsIHVpLXN0YXRlLWFjdGl2ZSB1aS1zdGF0ZS1kaXNhYmxlZCB1aS1jb3JuZXItdG9wXCIpLnJlbW92ZUF0dHIoXCJyb2xlXCIpLnJlbW92ZUF0dHIoXCJhcmlhLXNlbGVjdGVkXCIpLnJlbW92ZUF0dHIoXCJhcmlhLWNvbnRyb2xzXCIpLnJlbW92ZUF0dHIoXCJ0YWJJbmRleFwiKS5lYWNoKGZ1bmN0aW9uKCl7L151aS1hY2NvcmRpb24vLnRlc3QodGhpcy5pZCkmJnRoaXMucmVtb3ZlQXR0cmlidXRlKFwiaWRcIil9KSx0aGlzLl9kZXN0cm95SWNvbnMoKSxlPXRoaXMuaGVhZGVycy5uZXh0KCkuY3NzKFwiZGlzcGxheVwiLFwiXCIpLnJlbW92ZUF0dHIoXCJyb2xlXCIpLnJlbW92ZUF0dHIoXCJhcmlhLWV4cGFuZGVkXCIpLnJlbW92ZUF0dHIoXCJhcmlhLWhpZGRlblwiKS5yZW1vdmVBdHRyKFwiYXJpYS1sYWJlbGxlZGJ5XCIpLnJlbW92ZUNsYXNzKFwidWktaGVscGVyLXJlc2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci1ib3R0b20gdWktYWNjb3JkaW9uLWNvbnRlbnQgdWktYWNjb3JkaW9uLWNvbnRlbnQtYWN0aXZlIHVpLXN0YXRlLWRpc2FibGVkXCIpLmVhY2goZnVuY3Rpb24oKXsvXnVpLWFjY29yZGlvbi8udGVzdCh0aGlzLmlkKSYmdGhpcy5yZW1vdmVBdHRyaWJ1dGUoXCJpZFwiKX0pLHRoaXMub3B0aW9ucy5oZWlnaHRTdHlsZSE9PVwiY29udGVudFwiJiZlLmNzcyhcImhlaWdodFwiLFwiXCIpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGUsdCl7aWYoZT09PVwiYWN0aXZlXCIpe3RoaXMuX2FjdGl2YXRlKHQpO3JldHVybn1lPT09XCJldmVudFwiJiYodGhpcy5vcHRpb25zLmV2ZW50JiZ0aGlzLl9vZmYodGhpcy5oZWFkZXJzLHRoaXMub3B0aW9ucy5ldmVudCksdGhpcy5fc2V0dXBFdmVudHModCkpLHRoaXMuX3N1cGVyKGUsdCksZT09PVwiY29sbGFwc2libGVcIiYmIXQmJnRoaXMub3B0aW9ucy5hY3RpdmU9PT0hMSYmdGhpcy5fYWN0aXZhdGUoMCksZT09PVwiaWNvbnNcIiYmKHRoaXMuX2Rlc3Ryb3lJY29ucygpLHQmJnRoaXMuX2NyZWF0ZUljb25zKCkpLGU9PT1cImRpc2FibGVkXCImJnRoaXMuaGVhZGVycy5hZGQodGhpcy5oZWFkZXJzLm5leHQoKSkudG9nZ2xlQ2xhc3MoXCJ1aS1zdGF0ZS1kaXNhYmxlZFwiLCEhdCl9LF9rZXlkb3duOmZ1bmN0aW9uKHQpe2lmKHQuYWx0S2V5fHx0LmN0cmxLZXkpcmV0dXJuO3ZhciBuPWUudWkua2V5Q29kZSxyPXRoaXMuaGVhZGVycy5sZW5ndGgsaT10aGlzLmhlYWRlcnMuaW5kZXgodC50YXJnZXQpLHM9ITE7c3dpdGNoKHQua2V5Q29kZSl7Y2FzZSBuLlJJR0hUOmNhc2Ugbi5ET1dOOnM9dGhpcy5oZWFkZXJzWyhpKzEpJXJdO2JyZWFrO2Nhc2Ugbi5MRUZUOmNhc2Ugbi5VUDpzPXRoaXMuaGVhZGVyc1soaS0xK3IpJXJdO2JyZWFrO2Nhc2Ugbi5TUEFDRTpjYXNlIG4uRU5URVI6dGhpcy5fZXZlbnRIYW5kbGVyKHQpO2JyZWFrO2Nhc2Ugbi5IT01FOnM9dGhpcy5oZWFkZXJzWzBdO2JyZWFrO2Nhc2Ugbi5FTkQ6cz10aGlzLmhlYWRlcnNbci0xXX1zJiYoZSh0LnRhcmdldCkuYXR0cihcInRhYkluZGV4XCIsLTEpLGUocykuYXR0cihcInRhYkluZGV4XCIsMCkscy5mb2N1cygpLHQucHJldmVudERlZmF1bHQoKSl9LF9wYW5lbEtleURvd246ZnVuY3Rpb24odCl7dC5rZXlDb2RlPT09ZS51aS5rZXlDb2RlLlVQJiZ0LmN0cmxLZXkmJmUodC5jdXJyZW50VGFyZ2V0KS5wcmV2KCkuZm9jdXMoKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9uczt0aGlzLl9wcm9jZXNzUGFuZWxzKCk7aWYodC5hY3RpdmU9PT0hMSYmdC5jb2xsYXBzaWJsZT09PSEwfHwhdGhpcy5oZWFkZXJzLmxlbmd0aCl0LmFjdGl2ZT0hMSx0aGlzLmFjdGl2ZT1lKCk7dC5hY3RpdmU9PT0hMT90aGlzLl9hY3RpdmF0ZSgwKTp0aGlzLmFjdGl2ZS5sZW5ndGgmJiFlLmNvbnRhaW5zKHRoaXMuZWxlbWVudFswXSx0aGlzLmFjdGl2ZVswXSk/dGhpcy5oZWFkZXJzLmxlbmd0aD09PXRoaXMuaGVhZGVycy5maW5kKFwiLnVpLXN0YXRlLWRpc2FibGVkXCIpLmxlbmd0aD8odC5hY3RpdmU9ITEsdGhpcy5hY3RpdmU9ZSgpKTp0aGlzLl9hY3RpdmF0ZShNYXRoLm1heCgwLHQuYWN0aXZlLTEpKTp0LmFjdGl2ZT10aGlzLmhlYWRlcnMuaW5kZXgodGhpcy5hY3RpdmUpLHRoaXMuX2Rlc3Ryb3lJY29ucygpLHRoaXMuX3JlZnJlc2goKX0sX3Byb2Nlc3NQYW5lbHM6ZnVuY3Rpb24oKXt0aGlzLmhlYWRlcnM9dGhpcy5lbGVtZW50LmZpbmQodGhpcy5vcHRpb25zLmhlYWRlcikuYWRkQ2xhc3MoXCJ1aS1hY2NvcmRpb24taGVhZGVyIHVpLWhlbHBlci1yZXNldCB1aS1zdGF0ZS1kZWZhdWx0IHVpLWNvcm5lci1hbGxcIiksdGhpcy5oZWFkZXJzLm5leHQoKS5hZGRDbGFzcyhcInVpLWFjY29yZGlvbi1jb250ZW50IHVpLWhlbHBlci1yZXNldCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYm90dG9tXCIpLmZpbHRlcihcIjpub3QoLnVpLWFjY29yZGlvbi1jb250ZW50LWFjdGl2ZSlcIikuaGlkZSgpfSxfcmVmcmVzaDpmdW5jdGlvbigpe3ZhciB0LHI9dGhpcy5vcHRpb25zLGk9ci5oZWlnaHRTdHlsZSxzPXRoaXMuZWxlbWVudC5wYXJlbnQoKSxvPXRoaXMuYWNjb3JkaW9uSWQ9XCJ1aS1hY2NvcmRpb24tXCIrKHRoaXMuZWxlbWVudC5hdHRyKFwiaWRcIil8fCsrbik7dGhpcy5hY3RpdmU9dGhpcy5fZmluZEFjdGl2ZShyLmFjdGl2ZSkuYWRkQ2xhc3MoXCJ1aS1hY2NvcmRpb24taGVhZGVyLWFjdGl2ZSB1aS1zdGF0ZS1hY3RpdmUgdWktY29ybmVyLXRvcFwiKS5yZW1vdmVDbGFzcyhcInVpLWNvcm5lci1hbGxcIiksdGhpcy5hY3RpdmUubmV4dCgpLmFkZENsYXNzKFwidWktYWNjb3JkaW9uLWNvbnRlbnQtYWN0aXZlXCIpLnNob3coKSx0aGlzLmhlYWRlcnMuYXR0cihcInJvbGVcIixcInRhYlwiKS5lYWNoKGZ1bmN0aW9uKHQpe3ZhciBuPWUodGhpcykscj1uLmF0dHIoXCJpZFwiKSxpPW4ubmV4dCgpLHM9aS5hdHRyKFwiaWRcIik7cnx8KHI9bytcIi1oZWFkZXItXCIrdCxuLmF0dHIoXCJpZFwiLHIpKSxzfHwocz1vK1wiLXBhbmVsLVwiK3QsaS5hdHRyKFwiaWRcIixzKSksbi5hdHRyKFwiYXJpYS1jb250cm9sc1wiLHMpLGkuYXR0cihcImFyaWEtbGFiZWxsZWRieVwiLHIpfSkubmV4dCgpLmF0dHIoXCJyb2xlXCIsXCJ0YWJwYW5lbFwiKSx0aGlzLmhlYWRlcnMubm90KHRoaXMuYWN0aXZlKS5hdHRyKHtcImFyaWEtc2VsZWN0ZWRcIjpcImZhbHNlXCIsdGFiSW5kZXg6LTF9KS5uZXh0KCkuYXR0cih7XCJhcmlhLWV4cGFuZGVkXCI6XCJmYWxzZVwiLFwiYXJpYS1oaWRkZW5cIjpcInRydWVcIn0pLmhpZGUoKSx0aGlzLmFjdGl2ZS5sZW5ndGg/dGhpcy5hY3RpdmUuYXR0cih7XCJhcmlhLXNlbGVjdGVkXCI6XCJ0cnVlXCIsdGFiSW5kZXg6MH0pLm5leHQoKS5hdHRyKHtcImFyaWEtZXhwYW5kZWRcIjpcInRydWVcIixcImFyaWEtaGlkZGVuXCI6XCJmYWxzZVwifSk6dGhpcy5oZWFkZXJzLmVxKDApLmF0dHIoXCJ0YWJJbmRleFwiLDApLHRoaXMuX2NyZWF0ZUljb25zKCksdGhpcy5fc2V0dXBFdmVudHMoci5ldmVudCksaT09PVwiZmlsbFwiPyh0PXMuaGVpZ2h0KCksdGhpcy5lbGVtZW50LnNpYmxpbmdzKFwiOnZpc2libGVcIikuZWFjaChmdW5jdGlvbigpe3ZhciBuPWUodGhpcykscj1uLmNzcyhcInBvc2l0aW9uXCIpO2lmKHI9PT1cImFic29sdXRlXCJ8fHI9PT1cImZpeGVkXCIpcmV0dXJuO3QtPW4ub3V0ZXJIZWlnaHQoITApfSksdGhpcy5oZWFkZXJzLmVhY2goZnVuY3Rpb24oKXt0LT1lKHRoaXMpLm91dGVySGVpZ2h0KCEwKX0pLHRoaXMuaGVhZGVycy5uZXh0KCkuZWFjaChmdW5jdGlvbigpe2UodGhpcykuaGVpZ2h0KE1hdGgubWF4KDAsdC1lKHRoaXMpLmlubmVySGVpZ2h0KCkrZSh0aGlzKS5oZWlnaHQoKSkpfSkuY3NzKFwib3ZlcmZsb3dcIixcImF1dG9cIikpOmk9PT1cImF1dG9cIiYmKHQ9MCx0aGlzLmhlYWRlcnMubmV4dCgpLmVhY2goZnVuY3Rpb24oKXt0PU1hdGgubWF4KHQsZSh0aGlzKS5jc3MoXCJoZWlnaHRcIixcIlwiKS5oZWlnaHQoKSl9KS5oZWlnaHQodCkpfSxfYWN0aXZhdGU6ZnVuY3Rpb24odCl7dmFyIG49dGhpcy5fZmluZEFjdGl2ZSh0KVswXTtpZihuPT09dGhpcy5hY3RpdmVbMF0pcmV0dXJuO249bnx8dGhpcy5hY3RpdmVbMF0sdGhpcy5fZXZlbnRIYW5kbGVyKHt0YXJnZXQ6bixjdXJyZW50VGFyZ2V0Om4scHJldmVudERlZmF1bHQ6ZS5ub29wfSl9LF9maW5kQWN0aXZlOmZ1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdD09XCJudW1iZXJcIj90aGlzLmhlYWRlcnMuZXEodCk6ZSgpfSxfc2V0dXBFdmVudHM6ZnVuY3Rpb24odCl7dmFyIG49e2tleWRvd246XCJfa2V5ZG93blwifTt0JiZlLmVhY2godC5zcGxpdChcIiBcIiksZnVuY3Rpb24oZSx0KXtuW3RdPVwiX2V2ZW50SGFuZGxlclwifSksdGhpcy5fb2ZmKHRoaXMuaGVhZGVycy5hZGQodGhpcy5oZWFkZXJzLm5leHQoKSkpLHRoaXMuX29uKHRoaXMuaGVhZGVycyxuKSx0aGlzLl9vbih0aGlzLmhlYWRlcnMubmV4dCgpLHtrZXlkb3duOlwiX3BhbmVsS2V5RG93blwifSksdGhpcy5faG92ZXJhYmxlKHRoaXMuaGVhZGVycyksdGhpcy5fZm9jdXNhYmxlKHRoaXMuaGVhZGVycyl9LF9ldmVudEhhbmRsZXI6ZnVuY3Rpb24odCl7dmFyIG49dGhpcy5vcHRpb25zLHI9dGhpcy5hY3RpdmUsaT1lKHQuY3VycmVudFRhcmdldCkscz1pWzBdPT09clswXSxvPXMmJm4uY29sbGFwc2libGUsdT1vP2UoKTppLm5leHQoKSxhPXIubmV4dCgpLGY9e29sZEhlYWRlcjpyLG9sZFBhbmVsOmEsbmV3SGVhZGVyOm8/ZSgpOmksbmV3UGFuZWw6dX07dC5wcmV2ZW50RGVmYXVsdCgpO2lmKHMmJiFuLmNvbGxhcHNpYmxlfHx0aGlzLl90cmlnZ2VyKFwiYmVmb3JlQWN0aXZhdGVcIix0LGYpPT09ITEpcmV0dXJuO24uYWN0aXZlPW8/ITE6dGhpcy5oZWFkZXJzLmluZGV4KGkpLHRoaXMuYWN0aXZlPXM/ZSgpOmksdGhpcy5fdG9nZ2xlKGYpLHIucmVtb3ZlQ2xhc3MoXCJ1aS1hY2NvcmRpb24taGVhZGVyLWFjdGl2ZSB1aS1zdGF0ZS1hY3RpdmVcIiksbi5pY29ucyYmci5jaGlsZHJlbihcIi51aS1hY2NvcmRpb24taGVhZGVyLWljb25cIikucmVtb3ZlQ2xhc3Mobi5pY29ucy5hY3RpdmVIZWFkZXIpLmFkZENsYXNzKG4uaWNvbnMuaGVhZGVyKSxzfHwoaS5yZW1vdmVDbGFzcyhcInVpLWNvcm5lci1hbGxcIikuYWRkQ2xhc3MoXCJ1aS1hY2NvcmRpb24taGVhZGVyLWFjdGl2ZSB1aS1zdGF0ZS1hY3RpdmUgdWktY29ybmVyLXRvcFwiKSxuLmljb25zJiZpLmNoaWxkcmVuKFwiLnVpLWFjY29yZGlvbi1oZWFkZXItaWNvblwiKS5yZW1vdmVDbGFzcyhuLmljb25zLmhlYWRlcikuYWRkQ2xhc3Mobi5pY29ucy5hY3RpdmVIZWFkZXIpLGkubmV4dCgpLmFkZENsYXNzKFwidWktYWNjb3JkaW9uLWNvbnRlbnQtYWN0aXZlXCIpKX0sX3RvZ2dsZTpmdW5jdGlvbih0KXt2YXIgbj10Lm5ld1BhbmVsLHI9dGhpcy5wcmV2U2hvdy5sZW5ndGg/dGhpcy5wcmV2U2hvdzp0Lm9sZFBhbmVsO3RoaXMucHJldlNob3cuYWRkKHRoaXMucHJldkhpZGUpLnN0b3AoITAsITApLHRoaXMucHJldlNob3c9bix0aGlzLnByZXZIaWRlPXIsdGhpcy5vcHRpb25zLmFuaW1hdGU/dGhpcy5fYW5pbWF0ZShuLHIsdCk6KHIuaGlkZSgpLG4uc2hvdygpLHRoaXMuX3RvZ2dsZUNvbXBsZXRlKHQpKSxyLmF0dHIoe1wiYXJpYS1leHBhbmRlZFwiOlwiZmFsc2VcIixcImFyaWEtaGlkZGVuXCI6XCJ0cnVlXCJ9KSxyLnByZXYoKS5hdHRyKFwiYXJpYS1zZWxlY3RlZFwiLFwiZmFsc2VcIiksbi5sZW5ndGgmJnIubGVuZ3RoP3IucHJldigpLmF0dHIoXCJ0YWJJbmRleFwiLC0xKTpuLmxlbmd0aCYmdGhpcy5oZWFkZXJzLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiBlKHRoaXMpLmF0dHIoXCJ0YWJJbmRleFwiKT09PTB9KS5hdHRyKFwidGFiSW5kZXhcIiwtMSksbi5hdHRyKHtcImFyaWEtZXhwYW5kZWRcIjpcInRydWVcIixcImFyaWEtaGlkZGVuXCI6XCJmYWxzZVwifSkucHJldigpLmF0dHIoe1wiYXJpYS1zZWxlY3RlZFwiOlwidHJ1ZVwiLHRhYkluZGV4OjB9KX0sX2FuaW1hdGU6ZnVuY3Rpb24oZSx0LG4pe3ZhciBzLG8sdSxhPXRoaXMsZj0wLGw9ZS5sZW5ndGgmJighdC5sZW5ndGh8fGUuaW5kZXgoKTx0LmluZGV4KCkpLGM9dGhpcy5vcHRpb25zLmFuaW1hdGV8fHt9LGg9bCYmYy5kb3dufHxjLHA9ZnVuY3Rpb24oKXthLl90b2dnbGVDb21wbGV0ZShuKX07dHlwZW9mIGg9PVwibnVtYmVyXCImJih1PWgpLHR5cGVvZiBoPT1cInN0cmluZ1wiJiYobz1oKSxvPW98fGguZWFzaW5nfHxjLmVhc2luZyx1PXV8fGguZHVyYXRpb258fGMuZHVyYXRpb247aWYoIXQubGVuZ3RoKXJldHVybiBlLmFuaW1hdGUoaSx1LG8scCk7aWYoIWUubGVuZ3RoKXJldHVybiB0LmFuaW1hdGUocix1LG8scCk7cz1lLnNob3coKS5vdXRlckhlaWdodCgpLHQuYW5pbWF0ZShyLHtkdXJhdGlvbjp1LGVhc2luZzpvLHN0ZXA6ZnVuY3Rpb24oZSx0KXt0Lm5vdz1NYXRoLnJvdW5kKGUpfX0pLGUuaGlkZSgpLmFuaW1hdGUoaSx7ZHVyYXRpb246dSxlYXNpbmc6byxjb21wbGV0ZTpwLHN0ZXA6ZnVuY3Rpb24oZSxuKXtuLm5vdz1NYXRoLnJvdW5kKGUpLG4ucHJvcCE9PVwiaGVpZ2h0XCI/Zis9bi5ub3c6YS5vcHRpb25zLmhlaWdodFN0eWxlIT09XCJjb250ZW50XCImJihuLm5vdz1NYXRoLnJvdW5kKHMtdC5vdXRlckhlaWdodCgpLWYpLGY9MCl9fSl9LF90b2dnbGVDb21wbGV0ZTpmdW5jdGlvbihlKXt2YXIgdD1lLm9sZFBhbmVsO3QucmVtb3ZlQ2xhc3MoXCJ1aS1hY2NvcmRpb24tY29udGVudC1hY3RpdmVcIikucHJldigpLnJlbW92ZUNsYXNzKFwidWktY29ybmVyLXRvcFwiKS5hZGRDbGFzcyhcInVpLWNvcm5lci1hbGxcIiksdC5sZW5ndGgmJih0LnBhcmVudCgpWzBdLmNsYXNzTmFtZT10LnBhcmVudCgpWzBdLmNsYXNzTmFtZSksdGhpcy5fdHJpZ2dlcihcImFjdGl2YXRlXCIsbnVsbCxlKX19KX0pKGpRdWVyeSk7IiwiLyohIGpRdWVyeSBVSSAtIHYxLjEwLjEgLSAyMDEzLTAyLTE1XG4qIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiogSW5jbHVkZXM6IGpxdWVyeS51aS5idXR0b24uanNcbiogQ29weXJpZ2h0IDIwMTMgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yczsgTGljZW5zZWQgTUlUICovXG4oZnVuY3Rpb24oZSx0KXt2YXIgbixyLGkscyxvPVwidWktYnV0dG9uIHVpLXdpZGdldCB1aS1zdGF0ZS1kZWZhdWx0IHVpLWNvcm5lci1hbGxcIix1PVwidWktc3RhdGUtaG92ZXIgdWktc3RhdGUtYWN0aXZlIFwiLGE9XCJ1aS1idXR0b24taWNvbnMtb25seSB1aS1idXR0b24taWNvbi1vbmx5IHVpLWJ1dHRvbi10ZXh0LWljb25zIHVpLWJ1dHRvbi10ZXh0LWljb24tcHJpbWFyeSB1aS1idXR0b24tdGV4dC1pY29uLXNlY29uZGFyeSB1aS1idXR0b24tdGV4dC1vbmx5XCIsZj1mdW5jdGlvbigpe3ZhciB0PWUodGhpcykuZmluZChcIjp1aS1idXR0b25cIik7c2V0VGltZW91dChmdW5jdGlvbigpe3QuYnV0dG9uKFwicmVmcmVzaFwiKX0sMSl9LGw9ZnVuY3Rpb24odCl7dmFyIG49dC5uYW1lLHI9dC5mb3JtLGk9ZShbXSk7cmV0dXJuIG4mJihuPW4ucmVwbGFjZSgvJy9nLFwiXFxcXCdcIikscj9pPWUocikuZmluZChcIltuYW1lPSdcIituK1wiJ11cIik6aT1lKFwiW25hbWU9J1wiK24rXCInXVwiLHQub3duZXJEb2N1bWVudCkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuZm9ybX0pKSxpfTtlLndpZGdldChcInVpLmJ1dHRvblwiLHt2ZXJzaW9uOlwiMS4xMC4xXCIsZGVmYXVsdEVsZW1lbnQ6XCI8YnV0dG9uPlwiLG9wdGlvbnM6e2Rpc2FibGVkOm51bGwsdGV4dDohMCxsYWJlbDpudWxsLGljb25zOntwcmltYXJ5Om51bGwsc2Vjb25kYXJ5Om51bGx9fSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmNsb3Nlc3QoXCJmb3JtXCIpLnVuYmluZChcInJlc2V0XCIrdGhpcy5ldmVudE5hbWVzcGFjZSkuYmluZChcInJlc2V0XCIrdGhpcy5ldmVudE5hbWVzcGFjZSxmKSx0eXBlb2YgdGhpcy5vcHRpb25zLmRpc2FibGVkIT1cImJvb2xlYW5cIj90aGlzLm9wdGlvbnMuZGlzYWJsZWQ9ISF0aGlzLmVsZW1lbnQucHJvcChcImRpc2FibGVkXCIpOnRoaXMuZWxlbWVudC5wcm9wKFwiZGlzYWJsZWRcIix0aGlzLm9wdGlvbnMuZGlzYWJsZWQpLHRoaXMuX2RldGVybWluZUJ1dHRvblR5cGUoKSx0aGlzLmhhc1RpdGxlPSEhdGhpcy5idXR0b25FbGVtZW50LmF0dHIoXCJ0aXRsZVwiKTt2YXIgdD10aGlzLHU9dGhpcy5vcHRpb25zLGE9dGhpcy50eXBlPT09XCJjaGVja2JveFwifHx0aGlzLnR5cGU9PT1cInJhZGlvXCIsYz1hP1wiXCI6XCJ1aS1zdGF0ZS1hY3RpdmVcIixoPVwidWktc3RhdGUtZm9jdXNcIjt1LmxhYmVsPT09bnVsbCYmKHUubGFiZWw9dGhpcy50eXBlPT09XCJpbnB1dFwiP3RoaXMuYnV0dG9uRWxlbWVudC52YWwoKTp0aGlzLmJ1dHRvbkVsZW1lbnQuaHRtbCgpKSx0aGlzLl9ob3ZlcmFibGUodGhpcy5idXR0b25FbGVtZW50KSx0aGlzLmJ1dHRvbkVsZW1lbnQuYWRkQ2xhc3MobykuYXR0cihcInJvbGVcIixcImJ1dHRvblwiKS5iaW5kKFwibW91c2VlbnRlclwiK3RoaXMuZXZlbnROYW1lc3BhY2UsZnVuY3Rpb24oKXtpZih1LmRpc2FibGVkKXJldHVybjt0aGlzPT09biYmZSh0aGlzKS5hZGRDbGFzcyhcInVpLXN0YXRlLWFjdGl2ZVwiKX0pLmJpbmQoXCJtb3VzZWxlYXZlXCIrdGhpcy5ldmVudE5hbWVzcGFjZSxmdW5jdGlvbigpe2lmKHUuZGlzYWJsZWQpcmV0dXJuO2UodGhpcykucmVtb3ZlQ2xhc3MoYyl9KS5iaW5kKFwiY2xpY2tcIit0aGlzLmV2ZW50TmFtZXNwYWNlLGZ1bmN0aW9uKGUpe3UuZGlzYWJsZWQmJihlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSl9KSx0aGlzLmVsZW1lbnQuYmluZChcImZvY3VzXCIrdGhpcy5ldmVudE5hbWVzcGFjZSxmdW5jdGlvbigpe3QuYnV0dG9uRWxlbWVudC5hZGRDbGFzcyhoKX0pLmJpbmQoXCJibHVyXCIrdGhpcy5ldmVudE5hbWVzcGFjZSxmdW5jdGlvbigpe3QuYnV0dG9uRWxlbWVudC5yZW1vdmVDbGFzcyhoKX0pLGEmJih0aGlzLmVsZW1lbnQuYmluZChcImNoYW5nZVwiK3RoaXMuZXZlbnROYW1lc3BhY2UsZnVuY3Rpb24oKXtpZihzKXJldHVybjt0LnJlZnJlc2goKX0pLHRoaXMuYnV0dG9uRWxlbWVudC5iaW5kKFwibW91c2Vkb3duXCIrdGhpcy5ldmVudE5hbWVzcGFjZSxmdW5jdGlvbihlKXtpZih1LmRpc2FibGVkKXJldHVybjtzPSExLHI9ZS5wYWdlWCxpPWUucGFnZVl9KS5iaW5kKFwibW91c2V1cFwiK3RoaXMuZXZlbnROYW1lc3BhY2UsZnVuY3Rpb24oZSl7aWYodS5kaXNhYmxlZClyZXR1cm47aWYociE9PWUucGFnZVh8fGkhPT1lLnBhZ2VZKXM9ITB9KSksdGhpcy50eXBlPT09XCJjaGVja2JveFwiP3RoaXMuYnV0dG9uRWxlbWVudC5iaW5kKFwiY2xpY2tcIit0aGlzLmV2ZW50TmFtZXNwYWNlLGZ1bmN0aW9uKCl7aWYodS5kaXNhYmxlZHx8cylyZXR1cm4hMX0pOnRoaXMudHlwZT09PVwicmFkaW9cIj90aGlzLmJ1dHRvbkVsZW1lbnQuYmluZChcImNsaWNrXCIrdGhpcy5ldmVudE5hbWVzcGFjZSxmdW5jdGlvbigpe2lmKHUuZGlzYWJsZWR8fHMpcmV0dXJuITE7ZSh0aGlzKS5hZGRDbGFzcyhcInVpLXN0YXRlLWFjdGl2ZVwiKSx0LmJ1dHRvbkVsZW1lbnQuYXR0cihcImFyaWEtcHJlc3NlZFwiLFwidHJ1ZVwiKTt2YXIgbj10LmVsZW1lbnRbMF07bChuKS5ub3QobikubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcykuYnV0dG9uKFwid2lkZ2V0XCIpWzBdfSkucmVtb3ZlQ2xhc3MoXCJ1aS1zdGF0ZS1hY3RpdmVcIikuYXR0cihcImFyaWEtcHJlc3NlZFwiLFwiZmFsc2VcIil9KToodGhpcy5idXR0b25FbGVtZW50LmJpbmQoXCJtb3VzZWRvd25cIit0aGlzLmV2ZW50TmFtZXNwYWNlLGZ1bmN0aW9uKCl7aWYodS5kaXNhYmxlZClyZXR1cm4hMTtlKHRoaXMpLmFkZENsYXNzKFwidWktc3RhdGUtYWN0aXZlXCIpLG49dGhpcyx0LmRvY3VtZW50Lm9uZShcIm1vdXNldXBcIixmdW5jdGlvbigpe249bnVsbH0pfSkuYmluZChcIm1vdXNldXBcIit0aGlzLmV2ZW50TmFtZXNwYWNlLGZ1bmN0aW9uKCl7aWYodS5kaXNhYmxlZClyZXR1cm4hMTtlKHRoaXMpLnJlbW92ZUNsYXNzKFwidWktc3RhdGUtYWN0aXZlXCIpfSkuYmluZChcImtleWRvd25cIit0aGlzLmV2ZW50TmFtZXNwYWNlLGZ1bmN0aW9uKHQpe2lmKHUuZGlzYWJsZWQpcmV0dXJuITE7KHQua2V5Q29kZT09PWUudWkua2V5Q29kZS5TUEFDRXx8dC5rZXlDb2RlPT09ZS51aS5rZXlDb2RlLkVOVEVSKSYmZSh0aGlzKS5hZGRDbGFzcyhcInVpLXN0YXRlLWFjdGl2ZVwiKX0pLmJpbmQoXCJrZXl1cFwiK3RoaXMuZXZlbnROYW1lc3BhY2UrXCIgYmx1clwiK3RoaXMuZXZlbnROYW1lc3BhY2UsZnVuY3Rpb24oKXtlKHRoaXMpLnJlbW92ZUNsYXNzKFwidWktc3RhdGUtYWN0aXZlXCIpfSksdGhpcy5idXR0b25FbGVtZW50LmlzKFwiYVwiKSYmdGhpcy5idXR0b25FbGVtZW50LmtleXVwKGZ1bmN0aW9uKHQpe3Qua2V5Q29kZT09PWUudWkua2V5Q29kZS5TUEFDRSYmZSh0aGlzKS5jbGljaygpfSkpLHRoaXMuX3NldE9wdGlvbihcImRpc2FibGVkXCIsdS5kaXNhYmxlZCksdGhpcy5fcmVzZXRCdXR0b24oKX0sX2RldGVybWluZUJ1dHRvblR5cGU6ZnVuY3Rpb24oKXt2YXIgZSx0LG47dGhpcy5lbGVtZW50LmlzKFwiW3R5cGU9Y2hlY2tib3hdXCIpP3RoaXMudHlwZT1cImNoZWNrYm94XCI6dGhpcy5lbGVtZW50LmlzKFwiW3R5cGU9cmFkaW9dXCIpP3RoaXMudHlwZT1cInJhZGlvXCI6dGhpcy5lbGVtZW50LmlzKFwiaW5wdXRcIik/dGhpcy50eXBlPVwiaW5wdXRcIjp0aGlzLnR5cGU9XCJidXR0b25cIix0aGlzLnR5cGU9PT1cImNoZWNrYm94XCJ8fHRoaXMudHlwZT09PVwicmFkaW9cIj8oZT10aGlzLmVsZW1lbnQucGFyZW50cygpLmxhc3QoKSx0PVwibGFiZWxbZm9yPSdcIit0aGlzLmVsZW1lbnQuYXR0cihcImlkXCIpK1wiJ11cIix0aGlzLmJ1dHRvbkVsZW1lbnQ9ZS5maW5kKHQpLHRoaXMuYnV0dG9uRWxlbWVudC5sZW5ndGh8fChlPWUubGVuZ3RoP2Uuc2libGluZ3MoKTp0aGlzLmVsZW1lbnQuc2libGluZ3MoKSx0aGlzLmJ1dHRvbkVsZW1lbnQ9ZS5maWx0ZXIodCksdGhpcy5idXR0b25FbGVtZW50Lmxlbmd0aHx8KHRoaXMuYnV0dG9uRWxlbWVudD1lLmZpbmQodCkpKSx0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoXCJ1aS1oZWxwZXItaGlkZGVuLWFjY2Vzc2libGVcIiksbj10aGlzLmVsZW1lbnQuaXMoXCI6Y2hlY2tlZFwiKSxuJiZ0aGlzLmJ1dHRvbkVsZW1lbnQuYWRkQ2xhc3MoXCJ1aS1zdGF0ZS1hY3RpdmVcIiksdGhpcy5idXR0b25FbGVtZW50LnByb3AoXCJhcmlhLXByZXNzZWRcIixuKSk6dGhpcy5idXR0b25FbGVtZW50PXRoaXMuZWxlbWVudH0sd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYnV0dG9uRWxlbWVudH0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJ1aS1oZWxwZXItaGlkZGVuLWFjY2Vzc2libGVcIiksdGhpcy5idXR0b25FbGVtZW50LnJlbW92ZUNsYXNzKG8rXCIgXCIrdStcIiBcIithKS5yZW1vdmVBdHRyKFwicm9sZVwiKS5yZW1vdmVBdHRyKFwiYXJpYS1wcmVzc2VkXCIpLmh0bWwodGhpcy5idXR0b25FbGVtZW50LmZpbmQoXCIudWktYnV0dG9uLXRleHRcIikuaHRtbCgpKSx0aGlzLmhhc1RpdGxlfHx0aGlzLmJ1dHRvbkVsZW1lbnQucmVtb3ZlQXR0cihcInRpdGxlXCIpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGUsdCl7dGhpcy5fc3VwZXIoZSx0KTtpZihlPT09XCJkaXNhYmxlZFwiKXt0P3RoaXMuZWxlbWVudC5wcm9wKFwiZGlzYWJsZWRcIiwhMCk6dGhpcy5lbGVtZW50LnByb3AoXCJkaXNhYmxlZFwiLCExKTtyZXR1cm59dGhpcy5fcmVzZXRCdXR0b24oKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWxlbWVudC5pcyhcImlucHV0LCBidXR0b25cIik/dGhpcy5lbGVtZW50LmlzKFwiOmRpc2FibGVkXCIpOnRoaXMuZWxlbWVudC5oYXNDbGFzcyhcInVpLWJ1dHRvbi1kaXNhYmxlZFwiKTt0IT09dGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLl9zZXRPcHRpb24oXCJkaXNhYmxlZFwiLHQpLHRoaXMudHlwZT09PVwicmFkaW9cIj9sKHRoaXMuZWxlbWVudFswXSkuZWFjaChmdW5jdGlvbigpe2UodGhpcykuaXMoXCI6Y2hlY2tlZFwiKT9lKHRoaXMpLmJ1dHRvbihcIndpZGdldFwiKS5hZGRDbGFzcyhcInVpLXN0YXRlLWFjdGl2ZVwiKS5hdHRyKFwiYXJpYS1wcmVzc2VkXCIsXCJ0cnVlXCIpOmUodGhpcykuYnV0dG9uKFwid2lkZ2V0XCIpLnJlbW92ZUNsYXNzKFwidWktc3RhdGUtYWN0aXZlXCIpLmF0dHIoXCJhcmlhLXByZXNzZWRcIixcImZhbHNlXCIpfSk6dGhpcy50eXBlPT09XCJjaGVja2JveFwiJiYodGhpcy5lbGVtZW50LmlzKFwiOmNoZWNrZWRcIik/dGhpcy5idXR0b25FbGVtZW50LmFkZENsYXNzKFwidWktc3RhdGUtYWN0aXZlXCIpLmF0dHIoXCJhcmlhLXByZXNzZWRcIixcInRydWVcIik6dGhpcy5idXR0b25FbGVtZW50LnJlbW92ZUNsYXNzKFwidWktc3RhdGUtYWN0aXZlXCIpLmF0dHIoXCJhcmlhLXByZXNzZWRcIixcImZhbHNlXCIpKX0sX3Jlc2V0QnV0dG9uOmZ1bmN0aW9uKCl7aWYodGhpcy50eXBlPT09XCJpbnB1dFwiKXt0aGlzLm9wdGlvbnMubGFiZWwmJnRoaXMuZWxlbWVudC52YWwodGhpcy5vcHRpb25zLmxhYmVsKTtyZXR1cm59dmFyIHQ9dGhpcy5idXR0b25FbGVtZW50LnJlbW92ZUNsYXNzKGEpLG49ZShcIjxzcGFuPjwvc3Bhbj5cIix0aGlzLmRvY3VtZW50WzBdKS5hZGRDbGFzcyhcInVpLWJ1dHRvbi10ZXh0XCIpLmh0bWwodGhpcy5vcHRpb25zLmxhYmVsKS5hcHBlbmRUbyh0LmVtcHR5KCkpLnRleHQoKSxyPXRoaXMub3B0aW9ucy5pY29ucyxpPXIucHJpbWFyeSYmci5zZWNvbmRhcnkscz1bXTtyLnByaW1hcnl8fHIuc2Vjb25kYXJ5Pyh0aGlzLm9wdGlvbnMudGV4dCYmcy5wdXNoKFwidWktYnV0dG9uLXRleHQtaWNvblwiKyhpP1wic1wiOnIucHJpbWFyeT9cIi1wcmltYXJ5XCI6XCItc2Vjb25kYXJ5XCIpKSxyLnByaW1hcnkmJnQucHJlcGVuZChcIjxzcGFuIGNsYXNzPSd1aS1idXR0b24taWNvbi1wcmltYXJ5IHVpLWljb24gXCIrci5wcmltYXJ5K1wiJz48L3NwYW4+XCIpLHIuc2Vjb25kYXJ5JiZ0LmFwcGVuZChcIjxzcGFuIGNsYXNzPSd1aS1idXR0b24taWNvbi1zZWNvbmRhcnkgdWktaWNvbiBcIityLnNlY29uZGFyeStcIic+PC9zcGFuPlwiKSx0aGlzLm9wdGlvbnMudGV4dHx8KHMucHVzaChpP1widWktYnV0dG9uLWljb25zLW9ubHlcIjpcInVpLWJ1dHRvbi1pY29uLW9ubHlcIiksdGhpcy5oYXNUaXRsZXx8dC5hdHRyKFwidGl0bGVcIixlLnRyaW0obikpKSk6cy5wdXNoKFwidWktYnV0dG9uLXRleHQtb25seVwiKSx0LmFkZENsYXNzKHMuam9pbihcIiBcIikpfX0pLGUud2lkZ2V0KFwidWkuYnV0dG9uc2V0XCIse3ZlcnNpb246XCIxLjEwLjFcIixvcHRpb25zOntpdGVtczpcImJ1dHRvbiwgaW5wdXRbdHlwZT1idXR0b25dLCBpbnB1dFt0eXBlPXN1Ym1pdF0sIGlucHV0W3R5cGU9cmVzZXRdLCBpbnB1dFt0eXBlPWNoZWNrYm94XSwgaW5wdXRbdHlwZT1yYWRpb10sIGEsIDpkYXRhKHVpLWJ1dHRvbilcIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hZGRDbGFzcyhcInVpLWJ1dHRvbnNldFwiKX0sX2luaXQ6ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2goKX0sX3NldE9wdGlvbjpmdW5jdGlvbihlLHQpe2U9PT1cImRpc2FibGVkXCImJnRoaXMuYnV0dG9ucy5idXR0b24oXCJvcHRpb25cIixlLHQpLHRoaXMuX3N1cGVyKGUsdCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsZW1lbnQuY3NzKFwiZGlyZWN0aW9uXCIpPT09XCJydGxcIjt0aGlzLmJ1dHRvbnM9dGhpcy5lbGVtZW50LmZpbmQodGhpcy5vcHRpb25zLml0ZW1zKS5maWx0ZXIoXCI6dWktYnV0dG9uXCIpLmJ1dHRvbihcInJlZnJlc2hcIikuZW5kKCkubm90KFwiOnVpLWJ1dHRvblwiKS5idXR0b24oKS5lbmQoKS5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzKS5idXR0b24oXCJ3aWRnZXRcIilbMF19KS5yZW1vdmVDbGFzcyhcInVpLWNvcm5lci1hbGwgdWktY29ybmVyLWxlZnQgdWktY29ybmVyLXJpZ2h0XCIpLmZpbHRlcihcIjpmaXJzdFwiKS5hZGRDbGFzcyh0P1widWktY29ybmVyLXJpZ2h0XCI6XCJ1aS1jb3JuZXItbGVmdFwiKS5lbmQoKS5maWx0ZXIoXCI6bGFzdFwiKS5hZGRDbGFzcyh0P1widWktY29ybmVyLWxlZnRcIjpcInVpLWNvcm5lci1yaWdodFwiKS5lbmQoKS5lbmQoKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJ1aS1idXR0b25zZXRcIiksdGhpcy5idXR0b25zLm1hcChmdW5jdGlvbigpe3JldHVybiBlKHRoaXMpLmJ1dHRvbihcIndpZGdldFwiKVswXX0pLnJlbW92ZUNsYXNzKFwidWktY29ybmVyLWxlZnQgdWktY29ybmVyLXJpZ2h0XCIpLmVuZCgpLmJ1dHRvbihcImRlc3Ryb3lcIil9fSl9KShqUXVlcnkpOyIsIi8qISBqUXVlcnkgVUkgLSB2MS4xMC4xIC0gMjAxMy0wMi0xNVxuKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4qIEluY2x1ZGVzOiBqcXVlcnkudWkucHJvZ3Jlc3NiYXIuanNcbiogQ29weXJpZ2h0IDIwMTMgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yczsgTGljZW5zZWQgTUlUICovXG4oZnVuY3Rpb24oZSx0KXtlLndpZGdldChcInVpLnByb2dyZXNzYmFyXCIse3ZlcnNpb246XCIxLjEwLjFcIixvcHRpb25zOnttYXg6MTAwLHZhbHVlOjAsY2hhbmdlOm51bGwsY29tcGxldGU6bnVsbH0sbWluOjAsX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMub2xkVmFsdWU9dGhpcy5vcHRpb25zLnZhbHVlPXRoaXMuX2NvbnN0cmFpbmVkVmFsdWUoKSx0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoXCJ1aS1wcm9ncmVzc2JhciB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWFsbFwiKS5hdHRyKHtyb2xlOlwicHJvZ3Jlc3NiYXJcIixcImFyaWEtdmFsdWVtaW5cIjp0aGlzLm1pbn0pLHRoaXMudmFsdWVEaXY9ZShcIjxkaXYgY2xhc3M9J3VpLXByb2dyZXNzYmFyLXZhbHVlIHVpLXdpZGdldC1oZWFkZXIgdWktY29ybmVyLWxlZnQnPjwvZGl2PlwiKS5hcHBlbmRUbyh0aGlzLmVsZW1lbnQpLHRoaXMuX3JlZnJlc2hWYWx1ZSgpfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyhcInVpLXByb2dyZXNzYmFyIHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYWxsXCIpLnJlbW92ZUF0dHIoXCJyb2xlXCIpLnJlbW92ZUF0dHIoXCJhcmlhLXZhbHVlbWluXCIpLnJlbW92ZUF0dHIoXCJhcmlhLXZhbHVlbWF4XCIpLnJlbW92ZUF0dHIoXCJhcmlhLXZhbHVlbm93XCIpLHRoaXMudmFsdWVEaXYucmVtb3ZlKCl9LHZhbHVlOmZ1bmN0aW9uKGUpe2lmKGU9PT10KXJldHVybiB0aGlzLm9wdGlvbnMudmFsdWU7dGhpcy5vcHRpb25zLnZhbHVlPXRoaXMuX2NvbnN0cmFpbmVkVmFsdWUoZSksdGhpcy5fcmVmcmVzaFZhbHVlKCl9LF9jb25zdHJhaW5lZFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlPT09dCYmKGU9dGhpcy5vcHRpb25zLnZhbHVlKSx0aGlzLmluZGV0ZXJtaW5hdGU9ZT09PSExLHR5cGVvZiBlIT1cIm51bWJlclwiJiYoZT0wKSx0aGlzLmluZGV0ZXJtaW5hdGU/ITE6TWF0aC5taW4odGhpcy5vcHRpb25zLm1heCxNYXRoLm1heCh0aGlzLm1pbixlKSl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGUpe3ZhciB0PWUudmFsdWU7ZGVsZXRlIGUudmFsdWUsdGhpcy5fc3VwZXIoZSksdGhpcy5vcHRpb25zLnZhbHVlPXRoaXMuX2NvbnN0cmFpbmVkVmFsdWUodCksdGhpcy5fcmVmcmVzaFZhbHVlKCl9LF9zZXRPcHRpb246ZnVuY3Rpb24oZSx0KXtlPT09XCJtYXhcIiYmKHQ9TWF0aC5tYXgodGhpcy5taW4sdCkpLHRoaXMuX3N1cGVyKGUsdCl9LF9wZXJjZW50YWdlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5kZXRlcm1pbmF0ZT8xMDA6MTAwKih0aGlzLm9wdGlvbnMudmFsdWUtdGhpcy5taW4pLyh0aGlzLm9wdGlvbnMubWF4LXRoaXMubWluKX0sX3JlZnJlc2hWYWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9ucy52YWx1ZSxuPXRoaXMuX3BlcmNlbnRhZ2UoKTt0aGlzLnZhbHVlRGl2LnRvZ2dsZSh0aGlzLmluZGV0ZXJtaW5hdGV8fHQ+dGhpcy5taW4pLnRvZ2dsZUNsYXNzKFwidWktY29ybmVyLXJpZ2h0XCIsdD09PXRoaXMub3B0aW9ucy5tYXgpLndpZHRoKG4udG9GaXhlZCgwKStcIiVcIiksdGhpcy5lbGVtZW50LnRvZ2dsZUNsYXNzKFwidWktcHJvZ3Jlc3NiYXItaW5kZXRlcm1pbmF0ZVwiLHRoaXMuaW5kZXRlcm1pbmF0ZSksdGhpcy5pbmRldGVybWluYXRlPyh0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cihcImFyaWEtdmFsdWVub3dcIiksdGhpcy5vdmVybGF5RGl2fHwodGhpcy5vdmVybGF5RGl2PWUoXCI8ZGl2IGNsYXNzPSd1aS1wcm9ncmVzc2Jhci1vdmVybGF5Jz48L2Rpdj5cIikuYXBwZW5kVG8odGhpcy52YWx1ZURpdikpKToodGhpcy5lbGVtZW50LmF0dHIoe1wiYXJpYS12YWx1ZW1heFwiOnRoaXMub3B0aW9ucy5tYXgsXCJhcmlhLXZhbHVlbm93XCI6dH0pLHRoaXMub3ZlcmxheURpdiYmKHRoaXMub3ZlcmxheURpdi5yZW1vdmUoKSx0aGlzLm92ZXJsYXlEaXY9bnVsbCkpLHRoaXMub2xkVmFsdWUhPT10JiYodGhpcy5vbGRWYWx1ZT10LHRoaXMuX3RyaWdnZXIoXCJjaGFuZ2VcIikpLHQ9PT10aGlzLm9wdGlvbnMubWF4JiZ0aGlzLl90cmlnZ2VyKFwiY29tcGxldGVcIil9fSl9KShqUXVlcnkpOyIsIi8qXG5Db3B5cmlnaHQgKGMpIDIwMTAgUnlhbiBTY2h1ZnQgKHJ5YW4uc2NodWZ0QGdtYWlsLmNvbSlcblxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxub2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xudG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5cblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG5BVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuVEhFIFNPRlRXQVJFLlxuKi9cblxuLypcbiAgVGhpcyBjb2RlIGlzIGJhc2VkIGluIHBhcnQgb24gdGhlIHdvcmsgZG9uZSBpbiBSdWJ5IHRvIHN1cHBvcnRcbiAgaW5mZWN0aW9uIGFzIHBhcnQgb2YgUnVieSBvbiBSYWlscyBpbiB0aGUgQWN0aXZlU3VwcG9ydCdzIEluZmxlY3RvclxuICBhbmQgSW5mbGVjdGlvbnMgY2xhc3Nlcy4gIEl0IHdhcyBpbml0YWxseSBwb3J0ZWQgdG8gSmF2YXNjcmlwdCBieVxuICBSeWFuIFNjaHVmdCAocnlhbi5zY2h1ZnRAZ21haWwuY29tKSBpbiAyMDA3LlxuXG4gIFRoZSBjb2RlIGlzIGF2YWlsYWJsZSBhdCBodHRwOi8vY29kZS5nb29nbGUuY29tL3AvaW5mbGVjdGlvbi1qcy9cblxuICBUaGUgYmFzaWMgdXNhZ2UgaXM6XG4gICAgMS4gSW5jbHVkZSB0aGlzIHNjcmlwdCBvbiB5b3VyIHdlYiBwYWdlLlxuICAgIDIuIENhbGwgZnVuY3Rpb25zIG9uIGFueSBTdHJpbmcgb2JqZWN0IGluIEphdmFzY3JpcHRcblxuICBDdXJyZW50bHkgaW1wbGVtZW50ZWQgZnVuY3Rpb25zOlxuXG4gICAgU3RyaW5nLnBsdXJhbGl6ZShwbHVyYWwpID09IFN0cmluZ1xuICAgICAgcmVuZGVycyBhIHNpbmd1bGFyIEVuZ2xpc2ggbGFuZ3VhZ2Ugbm91biBpbnRvIGl0cyBwbHVyYWwgZm9ybVxuICAgICAgbm9ybWFsIHJlc3VsdHMgY2FuIGJlIG92ZXJyaWRkZW4gYnkgcGFzc2luZyBpbiBhbiBhbHRlcm5hdGl2ZVxuXG4gICAgU3RyaW5nLnNpbmd1bGFyaXplKHNpbmd1bGFyKSA9PSBTdHJpbmdcbiAgICAgIHJlbmRlcnMgYSBwbHVyYWwgRW5nbGlzaCBsYW5ndWFnZSBub3VuIGludG8gaXRzIHNpbmd1bGFyIGZvcm1cbiAgICAgIG5vcm1hbCByZXN1bHRzIGNhbiBiZSBvdmVycmlkZGVuIGJ5IHBhc3NpbmcgaW4gYW4gYWx0ZXJhdGl2ZVxuXG4gICAgU3RyaW5nLmNhbWVsaXplKGxvd0ZpcnN0TGV0dGVyKSA9PSBTdHJpbmdcbiAgICAgIHJlbmRlcnMgYSBsb3dlciBjYXNlIHVuZGVyc2NvcmVkIHdvcmQgaW50byBjYW1lbCBjYXNlXG4gICAgICB0aGUgZmlyc3QgbGV0dGVyIG9mIHRoZSByZXN1bHQgd2lsbCBiZSB1cHBlciBjYXNlIHVubGVzcyB5b3UgcGFzcyB0cnVlXG4gICAgICBhbHNvIHRyYW5zbGF0ZXMgXCIvXCIgaW50byBcIjo6XCIgKHVuZGVyc2NvcmUgZG9lcyB0aGUgb3Bwb3NpdGUpXG5cbiAgICBTdHJpbmcudW5kZXJzY29yZSgpID09IFN0cmluZ1xuICAgICAgcmVuZGVycyBhIGNhbWVsIGNhc2VkIHdvcmQgaW50byB3b3JkcyBzZXBlcmF0ZWQgYnkgdW5kZXJzY29yZXNcbiAgICAgIGFsc28gdHJhbnNsYXRlcyBcIjo6XCIgYmFjayBpbnRvIFwiL1wiIChjYW1lbGl6ZSBkb2VzIHRoZSBvcHBvc2l0ZSlcblxuICAgIFN0cmluZy5odW1hbml6ZShsb3dGaXJzdExldHRlcikgPT0gU3RyaW5nXG4gICAgICByZW5kZXJzIGEgbG93ZXIgY2FzZSBhbmQgdW5kZXJzY29yZWQgd29yZCBpbnRvIGh1bWFuIHJlYWRhYmxlIGZvcm1cbiAgICAgIGRlZmF1bHRzIHRvIG1ha2luZyB0aGUgZmlyc3QgbGV0dGVyIGNhcGl0YWxpemVkIHVubGVzcyB5b3UgcGFzcyB0cnVlXG5cbiAgICBTdHJpbmcuY2FwaXRhbGl6ZSgpID09IFN0cmluZ1xuICAgICAgcmVuZGVycyBhbGwgY2hhcmFjdGVycyB0byBsb3dlciBjYXNlIGFuZCB0aGVuIG1ha2VzIHRoZSBmaXJzdCB1cHBlclxuXG4gICAgU3RyaW5nLmRhc2hlcml6ZSgpID09IFN0cmluZ1xuICAgICAgcmVuZGVycyBhbGwgdW5kZXJiYXJzIGFuZCBzcGFjZXMgYXMgZGFzaGVzXG5cbiAgICBTdHJpbmcudGl0bGVpemUoKSA9PSBTdHJpbmdcbiAgICAgIHJlbmRlcnMgd29yZHMgaW50byB0aXRsZSBjYXNpbmcgKGFzIGZvciBib29rIHRpdGxlcylcblxuICAgIFN0cmluZy5kZW1vZHVsaXplKCkgPT0gU3RyaW5nXG4gICAgICByZW5kZXJzIGNsYXNzIG5hbWVzIHRoYXQgYXJlIHByZXBlbmRlZCBieSBtb2R1bGVzIGludG8ganVzdCB0aGUgY2xhc3NcblxuICAgIFN0cmluZy50YWJsZWl6ZSgpID09IFN0cmluZ1xuICAgICAgcmVuZGVycyBjYW1lbCBjYXNlZCBzaW5ndWxhciB3b3JkcyBpbnRvIHRoZWlyIHVuZGVyc2NvcmVkIHBsdXJhbCBmb3JtXG5cbiAgICBTdHJpbmcuY2xhc3NpZnkoKSA9PSBTdHJpbmdcbiAgICAgIHJlbmRlcnMgYW4gdW5kZXJzY29yZWQgcGx1cmFsIHdvcmQgaW50byBpdHMgY2FtZWwgY2FzZWQgc2luZ3VsYXIgZm9ybVxuXG4gICAgU3RyaW5nLmZvcmVpZ25fa2V5KGRyb3BJZFViYXIpID09IFN0cmluZ1xuICAgICAgcmVuZGVycyBhIGNsYXNzIG5hbWUgKGNhbWVsIGNhc2VkIHNpbmd1bGFyIG5vdW4pIGludG8gYSBmb3JlaWduIGtleVxuICAgICAgZGVmYXVsdHMgdG8gc2VwZXJhdGluZyB0aGUgY2xhc3MgZnJvbSB0aGUgaWQgd2l0aCBhbiB1bmRlcmJhciB1bmxlc3NcbiAgICAgIHlvdSBwYXNzIHRydWVcblxuICAgIFN0cmluZy5vcmRpbmFsaXplKCkgPT0gU3RyaW5nXG4gICAgICByZW5kZXJzIGFsbCBudW1iZXJzIGZvdW5kIGluIHRoZSBzdHJpbmcgaW50byB0aGVpciBzZXF1ZW5jZSBsaWtlIFwiMjJuZFwiXG4qL1xud2luZG93JiYhd2luZG93LkluZmxlY3Rpb25KUyYmKHdpbmRvdy5JbmZsZWN0aW9uSlM9bnVsbCk7IEluZmxlY3Rpb25KUz17dW5jb3VudGFibGVfd29yZHM6XCJlcXVpcG1lbnQgaW5mb3JtYXRpb24gcmljZSBtb25leSBzcGVjaWVzIHNlcmllcyBmaXNoIHNoZWVwIG1vb3NlIGRlZXIgbmV3c1wiLnNwbGl0KFwiIFwiKSxwbHVyYWxfcnVsZXM6W1tSZWdFeHAoXCIobSlhbiRcIixcImdpXCIpLFwiJDFlblwiXSxbUmVnRXhwKFwiKHBlKXJzb24kXCIsXCJnaVwiKSxcIiQxb3BsZVwiXSxbUmVnRXhwKFwiKGNoaWxkKSRcIixcImdpXCIpLFwiJDFyZW5cIl0sW1JlZ0V4cChcIl4ob3gpJFwiLFwiZ2lcIiksXCIkMWVuXCJdLFtSZWdFeHAoXCIoYXh8dGVzdClpcyRcIixcImdpXCIpLFwiJDFlc1wiXSxbUmVnRXhwKFwiKG9jdG9wfHZpcil1cyRcIixcImdpXCIpLFwiJDFpXCJdLFtSZWdFeHAoXCIoYWxpYXN8c3RhdHVzKSRcIixcImdpXCIpLFwiJDFlc1wiXSxbUmVnRXhwKFwiKGJ1KXMkXCIsXCJnaVwiKSxcIiQxc2VzXCJdLFtSZWdFeHAoXCIoYnVmZmFsfHRvbWF0fHBvdGF0KW8kXCIsXCJnaVwiKSxcIiQxb2VzXCJdLFtSZWdFeHAoXCIoW3RpXSl1bSRcIixcImdpXCIpLFwiJDFhXCJdLFtSZWdFeHAoXCJzaXMkXCIsIFwiZ2lcIiksXCJzZXNcIl0sW1JlZ0V4cChcIig/OihbXmZdKWZlfChbbHJdKWYpJFwiLFwiZ2lcIiksXCIkMSQydmVzXCJdLFtSZWdFeHAoXCIoaGl2ZSkkXCIsXCJnaVwiKSxcIiQxc1wiXSxbUmVnRXhwKFwiKFteYWVpb3V5XXxxdSl5JFwiLFwiZ2lcIiksXCIkMWllc1wiXSxbUmVnRXhwKFwiKHh8Y2h8c3N8c2gpJFwiLFwiZ2lcIiksXCIkMWVzXCJdLFtSZWdFeHAoXCIobWF0cnx2ZXJ0fGluZClpeHxleCRcIixcImdpXCIpLFwiJDFpY2VzXCJdLFtSZWdFeHAoXCIoW218bF0pb3VzZSRcIixcImdpXCIpLFwiJDFpY2VcIl0sW1JlZ0V4cChcIihxdWl6KSRcIixcImdpXCIpLFwiJDF6ZXNcIl0sW1JlZ0V4cChcInMkXCIsXCJnaVwiKSxcInNcIl0sW1JlZ0V4cChcIiRcIixcImdpXCIpLFwic1wiXV0sc2luZ3VsYXJfcnVsZXM6W1tSZWdFeHAoXCIobSllbiRcIixcImdpXCIpLFwiJDFhblwiXSxbUmVnRXhwKFwiKHBlKW9wbGUkXCIsXCJnaVwiKSxcIiQxcnNvblwiXSxbUmVnRXhwKFwiKGNoaWxkKXJlbiRcIixcImdpXCIpLFwiJDFcIl0sW1JlZ0V4cChcIihbdGldKWEkXCIsXCJnaVwiKSxcIiQxdW1cIl0sW1JlZ0V4cChcIigoYSluYWx5fChiKWF8KGQpaWFnbm98KHApYXJlbnRoZXwocClyb2dub3wocyl5bm9wfCh0KWhlKXNlcyRcIiwgXCJnaVwiKSxcIiQxJDJzaXNcIl0sW1JlZ0V4cChcIihoaXZlKXMkXCIsXCJnaVwiKSxcIiQxXCJdLFtSZWdFeHAoXCIodGl2ZSlzJFwiLFwiZ2lcIiksXCIkMVwiXSxbUmVnRXhwKFwiKGN1cnZlKXMkXCIsXCJnaVwiKSxcIiQxXCJdLFtSZWdFeHAoXCIoW2xyXSl2ZXMkXCIsXCJnaVwiKSxcIiQxZlwiXSxbUmVnRXhwKFwiKFteZm9dKXZlcyRcIixcImdpXCIpLFwiJDFmZVwiXSxbUmVnRXhwKFwiKFteYWVpb3V5XXxxdSlpZXMkXCIsXCJnaVwiKSxcIiQxeVwiXSxbUmVnRXhwKFwiKHMpZXJpZXMkXCIsXCJnaVwiKSxcIiQxZXJpZXNcIl0sW1JlZ0V4cChcIihtKW92aWVzJFwiLFwiZ2lcIiksXCIkMW92aWVcIl0sW1JlZ0V4cChcIih4fGNofHNzfHNoKWVzJFwiLFwiZ2lcIiksXCIkMVwiXSxbUmVnRXhwKFwiKFttfGxdKWljZSRcIixcImdpXCIpLFwiJDFvdXNlXCJdLFtSZWdFeHAoXCIoYnVzKWVzJFwiLFwiZ2lcIiksXCIkMVwiXSxbUmVnRXhwKFwiKG8pZXMkXCIsXCJnaVwiKSxcIiQxXCJdLFtSZWdFeHAoXCIoc2hvZSlzJFwiLFwiZ2lcIiksXCIkMVwiXSxbUmVnRXhwKFwiKGNyaXN8YXh8dGVzdCllcyRcIixcImdpXCIpLFwiJDFpc1wiXSwgW1JlZ0V4cChcIihvY3RvcHx2aXIpaSRcIixcImdpXCIpLFwiJDF1c1wiXSxbUmVnRXhwKFwiKGFsaWFzfHN0YXR1cyllcyRcIixcImdpXCIpLFwiJDFcIl0sW1JlZ0V4cChcIl4ob3gpZW5cIixcImdpXCIpLFwiJDFcIl0sW1JlZ0V4cChcIih2ZXJ0fGluZClpY2VzJFwiLFwiZ2lcIiksXCIkMWV4XCJdLFtSZWdFeHAoXCIobWF0cilpY2VzJFwiLFwiZ2lcIiksXCIkMWl4XCJdLFtSZWdFeHAoXCIocXVpeil6ZXMkXCIsXCJnaVwiKSxcIiQxXCJdLFtSZWdFeHAoXCJzJFwiLFwiZ2lcIiksXCJcIl1dLG5vbl90aXRsZWNhc2VkX3dvcmRzOlwiYW5kIG9yIG5vciBhIGFuIHRoZSBzbyBidXQgdG8gb2YgYXQgYnkgZnJvbSBpbnRvIG9uIG9udG8gb2ZmIG91dCBpbiBvdmVyIHdpdGggZm9yXCIuc3BsaXQoXCIgXCIpLGlkX3N1ZmZpeDpSZWdFeHAoXCIoX2lkc3xfaWQpJFwiLFwiZ1wiKSx1bmRlcmJhcjpSZWdFeHAoXCJfXCIsXCJnXCIpLHNwYWNlX29yX3VuZGVyYmFyOlJlZ0V4cChcIlsgX11cIixcImdcIiksdXBwZXJjYXNlOlJlZ0V4cChcIihbQS1aXSlcIixcImdcIiksdW5kZXJiYXJfcHJlZml4Oi9eXy8sIGFwcGx5X3J1bGVzOmZ1bmN0aW9uKGEsYixjLGQpe2lmKGQpYT1kO2Vsc2UgaWYoISgtMTxjLmluZGV4T2YoYS50b0xvd2VyQ2FzZSgpKSkpZm9yKGM9MDtjPGIubGVuZ3RoO2MrKylpZihhLm1hdGNoKGJbY11bMF0pKXthPWEucmVwbGFjZShiW2NdWzBdLGJbY11bMV0pO2JyZWFrfXJldHVybiBhfX07QXJyYXkucHJvdG90eXBlLmluZGV4T2Z8fChBcnJheS5wcm90b3R5cGUuaW5kZXhPZj1mdW5jdGlvbihhLGIsYyl7Ynx8KGI9LTEpO2Zvcih2YXIgZD0tMTtiPHRoaXMubGVuZ3RoO2IrKylpZih0aGlzW2JdPT09YXx8YyYmYyh0aGlzW2JdLGEpKXtkPWI7YnJlYWt9cmV0dXJuIGR9KTtTdHJpbmcucHJvdG90eXBlLl91bmNvdW50YWJsZV93b3Jkc3x8KFN0cmluZy5wcm90b3R5cGUuX3VuY291bnRhYmxlX3dvcmRzPUluZmxlY3Rpb25KUy51bmNvdW50YWJsZV93b3Jkcyk7IFN0cmluZy5wcm90b3R5cGUuX3BsdXJhbF9ydWxlc3x8KFN0cmluZy5wcm90b3R5cGUuX3BsdXJhbF9ydWxlcz1JbmZsZWN0aW9uSlMucGx1cmFsX3J1bGVzKTtTdHJpbmcucHJvdG90eXBlLl9zaW5ndWxhcl9ydWxlc3x8KFN0cmluZy5wcm90b3R5cGUuX3Npbmd1bGFyX3J1bGVzPUluZmxlY3Rpb25KUy5zaW5ndWxhcl9ydWxlcyk7U3RyaW5nLnByb3RvdHlwZS5fbm9uX3RpdGxlY2FzZWRfd29yZHN8fChTdHJpbmcucHJvdG90eXBlLl9ub25fdGl0bGVjYXNlZF93b3Jkcz1JbmZsZWN0aW9uSlMubm9uX3RpdGxlY2FzZWRfd29yZHMpO1N0cmluZy5wcm90b3R5cGUucGx1cmFsaXplfHwoU3RyaW5nLnByb3RvdHlwZS5wbHVyYWxpemU9ZnVuY3Rpb24oYSl7cmV0dXJuIEluZmxlY3Rpb25KUy5hcHBseV9ydWxlcyh0aGlzLHRoaXMuX3BsdXJhbF9ydWxlcyx0aGlzLl91bmNvdW50YWJsZV93b3JkcyxhKX0pOyBTdHJpbmcucHJvdG90eXBlLnNpbmd1bGFyaXplfHwoU3RyaW5nLnByb3RvdHlwZS5zaW5ndWxhcml6ZT1mdW5jdGlvbihhKXtyZXR1cm4gSW5mbGVjdGlvbkpTLmFwcGx5X3J1bGVzKHRoaXMsdGhpcy5fc2luZ3VsYXJfcnVsZXMsdGhpcy5fdW5jb3VudGFibGVfd29yZHMsYSl9KTtTdHJpbmcucHJvdG90eXBlLmNhbWVsaXplfHwoU3RyaW5nLnByb3RvdHlwZS5jYW1lbGl6ZT1mdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy50b0xvd2VyQ2FzZSgpLGI9Yi5zcGxpdChcIi9cIiksYz0wO2M8Yi5sZW5ndGg7YysrKXtmb3IodmFyIGQ9YltjXS5zcGxpdChcIl9cIiksZT1hJiZjKzE9PT1iLmxlbmd0aD8xOjA7ZTxkLmxlbmd0aDtlKyspZFtlXT1kW2VdLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2RbZV0uc3Vic3RyaW5nKDEpO2JbY109ZC5qb2luKFwiXCIpfXJldHVybiBiPWIuam9pbihcIjo6XCIpfSk7IFN0cmluZy5wcm90b3R5cGUudW5kZXJzY29yZXx8KFN0cmluZy5wcm90b3R5cGUudW5kZXJzY29yZT1mdW5jdGlvbigpe3ZhciBhO2E9dGhpcy5zcGxpdChcIjo6XCIpO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWFbYl09YVtiXS5yZXBsYWNlKEluZmxlY3Rpb25KUy51cHBlcmNhc2UsXCJfJDFcIiksYVtiXT1hW2JdLnJlcGxhY2UoSW5mbGVjdGlvbkpTLnVuZGVyYmFyX3ByZWZpeCxcIlwiKTtyZXR1cm4gYT1hLmpvaW4oXCIvXCIpLnRvTG93ZXJDYXNlKCl9KTtTdHJpbmcucHJvdG90eXBlLmh1bWFuaXplfHwoU3RyaW5nLnByb3RvdHlwZS5odW1hbml6ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLnRvTG93ZXJDYXNlKCksYj1iLnJlcGxhY2UoSW5mbGVjdGlvbkpTLmlkX3N1ZmZpeCxcIlwiKSxiPWIucmVwbGFjZShJbmZsZWN0aW9uSlMudW5kZXJiYXIsXCIgXCIpO2F8fChiPWIuY2FwaXRhbGl6ZSgpKTtyZXR1cm4gYn0pOyBTdHJpbmcucHJvdG90eXBlLmNhcGl0YWxpemV8fChTdHJpbmcucHJvdG90eXBlLmNhcGl0YWxpemU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnRvTG93ZXJDYXNlKCk7cmV0dXJuIGE9YS5zdWJzdHJpbmcoMCwxKS50b1VwcGVyQ2FzZSgpK2Euc3Vic3RyaW5nKDEpfSk7U3RyaW5nLnByb3RvdHlwZS5kYXNoZXJpemV8fChTdHJpbmcucHJvdG90eXBlLmRhc2hlcml6ZT1mdW5jdGlvbigpe3ZhciBhO3JldHVybiBhPXRoaXMucmVwbGFjZShJbmZsZWN0aW9uSlMuc3BhY2Vfb3JfdW5kZXJiYXIsXCItXCIpfSk7IFN0cmluZy5wcm90b3R5cGUudGl0bGVpemV8fChTdHJpbmcucHJvdG90eXBlLnRpdGxlaXplPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMudG9Mb3dlckNhc2UoKSxhPWEucmVwbGFjZShJbmZsZWN0aW9uSlMudW5kZXJiYXIsXCIgXCIpLGE9YS5zcGxpdChcIiBcIiksYj0wO2I8YS5sZW5ndGg7YisrKXtmb3IodmFyIGM9YVtiXS5zcGxpdChcIi1cIiksZD0wO2Q8Yy5sZW5ndGg7ZCsrKTA+dGhpcy5fbm9uX3RpdGxlY2FzZWRfd29yZHMuaW5kZXhPZihjW2RdLnRvTG93ZXJDYXNlKCkpJiYoY1tkXT1jW2RdLmNhcGl0YWxpemUoKSk7YVtiXT1jLmpvaW4oXCItXCIpfWE9YS5qb2luKFwiIFwiKTtyZXR1cm4gYT1hLnN1YnN0cmluZygwLDEpLnRvVXBwZXJDYXNlKCkrYS5zdWJzdHJpbmcoMSl9KTtTdHJpbmcucHJvdG90eXBlLmRlbW9kdWxpemV8fChTdHJpbmcucHJvdG90eXBlLmRlbW9kdWxpemU9ZnVuY3Rpb24oKXt2YXIgYTthPXRoaXMuc3BsaXQoXCI6OlwiKTtyZXR1cm4gYT1hW2EubGVuZ3RoLTFdfSk7IFN0cmluZy5wcm90b3R5cGUudGFibGVpemV8fChTdHJpbmcucHJvdG90eXBlLnRhYmxlaXplPWZ1bmN0aW9uKCl7dmFyIGE7cmV0dXJuIGE9dGhpcy51bmRlcnNjb3JlKCkucGx1cmFsaXplKCl9KTtTdHJpbmcucHJvdG90eXBlLmNsYXNzaWZ5fHwoU3RyaW5nLnByb3RvdHlwZS5jbGFzc2lmeT1mdW5jdGlvbigpe3ZhciBhO3JldHVybiBhPXRoaXMuY2FtZWxpemUoKS5zaW5ndWxhcml6ZSgpfSk7U3RyaW5nLnByb3RvdHlwZS5mb3JlaWduX2tleXx8KFN0cmluZy5wcm90b3R5cGUuZm9yZWlnbl9rZXk9ZnVuY3Rpb24oYSl7cmV0dXJuIGE9dGhpcy5kZW1vZHVsaXplKCkudW5kZXJzY29yZSgpKyhhP1wiXCI6XCJfXCIpK1wiaWRcIn0pOyBTdHJpbmcucHJvdG90eXBlLm9yZGluYWxpemV8fChTdHJpbmcucHJvdG90eXBlLm9yZGluYWxpemU9ZnVuY3Rpb24oKXt2YXIgYTthPXRoaXMuc3BsaXQoXCIgXCIpO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWlmKE5hTj09PXBhcnNlSW50KGFbYl0pKXt2YXIgYz1hW2JdLnN1YnN0cmluZyhhW2JdLmxlbmd0aC0yKSxkPWFbYl0uc3Vic3RyaW5nKGFbYl0ubGVuZ3RoLTEpLGU9XCJ0aFwiO1wiMTFcIiE9YyYmKFwiMTJcIiE9YyYmXCIxM1wiIT1jKSYmKFwiMVwiPT09ZD9lPVwic3RcIjpcIjJcIj09PWQ/ZT1cIm5kXCI6XCIzXCI9PT1kJiYoZT1cInJkXCIpKTthW2JdKz1lfXJldHVybiBhPWEuam9pbihcIiBcIil9KTtcbiIsIi8vICAgICBCYWNrYm9uZS5qcyAxLjIuM1xuXG4vLyAgICAgKGMpIDIwMTAtMjAxNSBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuLy8gICAgIEJhY2tib25lIG1heSBiZSBmcmVlbHkgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuLy8gICAgIEZvciBhbGwgZGV0YWlscyBhbmQgZG9jdW1lbnRhdGlvbjpcbi8vICAgICBodHRwOi8vYmFja2JvbmVqcy5vcmdcblxuKGZ1bmN0aW9uKGZhY3RvcnkpIHtcblxuICAvLyBFc3RhYmxpc2ggdGhlIHJvb3Qgb2JqZWN0LCBgd2luZG93YCAoYHNlbGZgKSBpbiB0aGUgYnJvd3Nlciwgb3IgYGdsb2JhbGAgb24gdGhlIHNlcnZlci5cbiAgLy8gV2UgdXNlIGBzZWxmYCBpbnN0ZWFkIG9mIGB3aW5kb3dgIGZvciBgV2ViV29ya2VyYCBzdXBwb3J0LlxuICB2YXIgcm9vdCA9ICh0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmLnNlbGYgPT0gc2VsZiAmJiBzZWxmKSB8fFxuICAgICAgICAgICAgKHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsLmdsb2JhbCA9PSBnbG9iYWwgJiYgZ2xvYmFsKTtcblxuICAvLyBTZXQgdXAgQmFja2JvbmUgYXBwcm9wcmlhdGVseSBmb3IgdGhlIGVudmlyb25tZW50LiBTdGFydCB3aXRoIEFNRC5cbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShbJ3VuZGVyc2NvcmUnLCAnanF1ZXJ5JywgJ2V4cG9ydHMnXSwgZnVuY3Rpb24oXywgJCwgZXhwb3J0cykge1xuICAgICAgLy8gRXhwb3J0IGdsb2JhbCBldmVuIGluIEFNRCBjYXNlIGluIGNhc2UgdGhpcyBzY3JpcHQgaXMgbG9hZGVkIHdpdGhcbiAgICAgIC8vIG90aGVycyB0aGF0IG1heSBzdGlsbCBleHBlY3QgYSBnbG9iYWwgQmFja2JvbmUuXG4gICAgICByb290LkJhY2tib25lID0gZmFjdG9yeShyb290LCBleHBvcnRzLCBfLCAkKTtcbiAgICB9KTtcblxuICAvLyBOZXh0IGZvciBOb2RlLmpzIG9yIENvbW1vbkpTLiBqUXVlcnkgbWF5IG5vdCBiZSBuZWVkZWQgYXMgYSBtb2R1bGUuXG4gIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIF8gPSByZXF1aXJlKCd1bmRlcnNjb3JlJyksICQ7XG4gICAgdHJ5IHsgJCA9IHJlcXVpcmUoJ2pxdWVyeScpOyB9IGNhdGNoKGUpIHt9XG4gICAgZmFjdG9yeShyb290LCBleHBvcnRzLCBfLCAkKTtcblxuICAvLyBGaW5hbGx5LCBhcyBhIGJyb3dzZXIgZ2xvYmFsLlxuICB9IGVsc2Uge1xuICAgIHJvb3QuQmFja2JvbmUgPSBmYWN0b3J5KHJvb3QsIHt9LCByb290Ll8sIChyb290LmpRdWVyeSB8fCByb290LlplcHRvIHx8IHJvb3QuZW5kZXIgfHwgcm9vdC4kKSk7XG4gIH1cblxufShmdW5jdGlvbihyb290LCBCYWNrYm9uZSwgXywgJCkge1xuXG4gIC8vIEluaXRpYWwgU2V0dXBcbiAgLy8gLS0tLS0tLS0tLS0tLVxuXG4gIC8vIFNhdmUgdGhlIHByZXZpb3VzIHZhbHVlIG9mIHRoZSBgQmFja2JvbmVgIHZhcmlhYmxlLCBzbyB0aGF0IGl0IGNhbiBiZVxuICAvLyByZXN0b3JlZCBsYXRlciBvbiwgaWYgYG5vQ29uZmxpY3RgIGlzIHVzZWQuXG4gIHZhciBwcmV2aW91c0JhY2tib25lID0gcm9vdC5CYWNrYm9uZTtcblxuICAvLyBDcmVhdGUgYSBsb2NhbCByZWZlcmVuY2UgdG8gYSBjb21tb24gYXJyYXkgbWV0aG9kIHdlJ2xsIHdhbnQgdG8gdXNlIGxhdGVyLlxuICB2YXIgc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG5cbiAgLy8gQ3VycmVudCB2ZXJzaW9uIG9mIHRoZSBsaWJyYXJ5LiBLZWVwIGluIHN5bmMgd2l0aCBgcGFja2FnZS5qc29uYC5cbiAgQmFja2JvbmUuVkVSU0lPTiA9ICcxLjIuMyc7XG5cbiAgLy8gRm9yIEJhY2tib25lJ3MgcHVycG9zZXMsIGpRdWVyeSwgWmVwdG8sIEVuZGVyLCBvciBNeSBMaWJyYXJ5IChraWRkaW5nKSBvd25zXG4gIC8vIHRoZSBgJGAgdmFyaWFibGUuXG4gIEJhY2tib25lLiQgPSAkO1xuXG4gIC8vIFJ1bnMgQmFja2JvbmUuanMgaW4gKm5vQ29uZmxpY3QqIG1vZGUsIHJldHVybmluZyB0aGUgYEJhY2tib25lYCB2YXJpYWJsZVxuICAvLyB0byBpdHMgcHJldmlvdXMgb3duZXIuIFJldHVybnMgYSByZWZlcmVuY2UgdG8gdGhpcyBCYWNrYm9uZSBvYmplY3QuXG4gIEJhY2tib25lLm5vQ29uZmxpY3QgPSBmdW5jdGlvbigpIHtcbiAgICByb290LkJhY2tib25lID0gcHJldmlvdXNCYWNrYm9uZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvLyBUdXJuIG9uIGBlbXVsYXRlSFRUUGAgdG8gc3VwcG9ydCBsZWdhY3kgSFRUUCBzZXJ2ZXJzLiBTZXR0aW5nIHRoaXMgb3B0aW9uXG4gIC8vIHdpbGwgZmFrZSBgXCJQQVRDSFwiYCwgYFwiUFVUXCJgIGFuZCBgXCJERUxFVEVcImAgcmVxdWVzdHMgdmlhIHRoZSBgX21ldGhvZGAgcGFyYW1ldGVyIGFuZFxuICAvLyBzZXQgYSBgWC1IdHRwLU1ldGhvZC1PdmVycmlkZWAgaGVhZGVyLlxuICBCYWNrYm9uZS5lbXVsYXRlSFRUUCA9IGZhbHNlO1xuXG4gIC8vIFR1cm4gb24gYGVtdWxhdGVKU09OYCB0byBzdXBwb3J0IGxlZ2FjeSBzZXJ2ZXJzIHRoYXQgY2FuJ3QgZGVhbCB3aXRoIGRpcmVjdFxuICAvLyBgYXBwbGljYXRpb24vanNvbmAgcmVxdWVzdHMgLi4uIHRoaXMgd2lsbCBlbmNvZGUgdGhlIGJvZHkgYXNcbiAgLy8gYGFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZGAgaW5zdGVhZCBhbmQgd2lsbCBzZW5kIHRoZSBtb2RlbCBpbiBhXG4gIC8vIGZvcm0gcGFyYW0gbmFtZWQgYG1vZGVsYC5cbiAgQmFja2JvbmUuZW11bGF0ZUpTT04gPSBmYWxzZTtcblxuICAvLyBQcm94eSBCYWNrYm9uZSBjbGFzcyBtZXRob2RzIHRvIFVuZGVyc2NvcmUgZnVuY3Rpb25zLCB3cmFwcGluZyB0aGUgbW9kZWwnc1xuICAvLyBgYXR0cmlidXRlc2Agb2JqZWN0IG9yIGNvbGxlY3Rpb24ncyBgbW9kZWxzYCBhcnJheSBiZWhpbmQgdGhlIHNjZW5lcy5cbiAgLy9cbiAgLy8gY29sbGVjdGlvbi5maWx0ZXIoZnVuY3Rpb24obW9kZWwpIHsgcmV0dXJuIG1vZGVsLmdldCgnYWdlJykgPiAxMCB9KTtcbiAgLy8gY29sbGVjdGlvbi5lYWNoKHRoaXMuYWRkVmlldyk7XG4gIC8vXG4gIC8vIGBGdW5jdGlvbiNhcHBseWAgY2FuIGJlIHNsb3cgc28gd2UgdXNlIHRoZSBtZXRob2QncyBhcmcgY291bnQsIGlmIHdlIGtub3cgaXQuXG4gIHZhciBhZGRNZXRob2QgPSBmdW5jdGlvbihsZW5ndGgsIG1ldGhvZCwgYXR0cmlidXRlKSB7XG4gICAgc3dpdGNoIChsZW5ndGgpIHtcbiAgICAgIGNhc2UgMTogcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gX1ttZXRob2RdKHRoaXNbYXR0cmlidXRlXSk7XG4gICAgICB9O1xuICAgICAgY2FzZSAyOiByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIF9bbWV0aG9kXSh0aGlzW2F0dHJpYnV0ZV0sIHZhbHVlKTtcbiAgICAgIH07XG4gICAgICBjYXNlIDM6IHJldHVybiBmdW5jdGlvbihpdGVyYXRlZSwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gX1ttZXRob2RdKHRoaXNbYXR0cmlidXRlXSwgY2IoaXRlcmF0ZWUsIHRoaXMpLCBjb250ZXh0KTtcbiAgICAgIH07XG4gICAgICBjYXNlIDQ6IHJldHVybiBmdW5jdGlvbihpdGVyYXRlZSwgZGVmYXVsdFZhbCwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gX1ttZXRob2RdKHRoaXNbYXR0cmlidXRlXSwgY2IoaXRlcmF0ZWUsIHRoaXMpLCBkZWZhdWx0VmFsLCBjb250ZXh0KTtcbiAgICAgIH07XG4gICAgICBkZWZhdWx0OiByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICAgICAgICBhcmdzLnVuc2hpZnQodGhpc1thdHRyaWJ1dGVdKTtcbiAgICAgICAgcmV0dXJuIF9bbWV0aG9kXS5hcHBseShfLCBhcmdzKTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xuICB2YXIgYWRkVW5kZXJzY29yZU1ldGhvZHMgPSBmdW5jdGlvbihDbGFzcywgbWV0aG9kcywgYXR0cmlidXRlKSB7XG4gICAgXy5lYWNoKG1ldGhvZHMsIGZ1bmN0aW9uKGxlbmd0aCwgbWV0aG9kKSB7XG4gICAgICBpZiAoX1ttZXRob2RdKSBDbGFzcy5wcm90b3R5cGVbbWV0aG9kXSA9IGFkZE1ldGhvZChsZW5ndGgsIG1ldGhvZCwgYXR0cmlidXRlKTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBTdXBwb3J0IGBjb2xsZWN0aW9uLnNvcnRCeSgnYXR0cicpYCBhbmQgYGNvbGxlY3Rpb24uZmluZFdoZXJlKHtpZDogMX0pYC5cbiAgdmFyIGNiID0gZnVuY3Rpb24oaXRlcmF0ZWUsIGluc3RhbmNlKSB7XG4gICAgaWYgKF8uaXNGdW5jdGlvbihpdGVyYXRlZSkpIHJldHVybiBpdGVyYXRlZTtcbiAgICBpZiAoXy5pc09iamVjdChpdGVyYXRlZSkgJiYgIWluc3RhbmNlLl9pc01vZGVsKGl0ZXJhdGVlKSkgcmV0dXJuIG1vZGVsTWF0Y2hlcihpdGVyYXRlZSk7XG4gICAgaWYgKF8uaXNTdHJpbmcoaXRlcmF0ZWUpKSByZXR1cm4gZnVuY3Rpb24obW9kZWwpIHsgcmV0dXJuIG1vZGVsLmdldChpdGVyYXRlZSk7IH07XG4gICAgcmV0dXJuIGl0ZXJhdGVlO1xuICB9O1xuICB2YXIgbW9kZWxNYXRjaGVyID0gZnVuY3Rpb24oYXR0cnMpIHtcbiAgICB2YXIgbWF0Y2hlciA9IF8ubWF0Y2hlcyhhdHRycyk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG1vZGVsKSB7XG4gICAgICByZXR1cm4gbWF0Y2hlcihtb2RlbC5hdHRyaWJ1dGVzKTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIEJhY2tib25lLkV2ZW50c1xuICAvLyAtLS0tLS0tLS0tLS0tLS1cblxuICAvLyBBIG1vZHVsZSB0aGF0IGNhbiBiZSBtaXhlZCBpbiB0byAqYW55IG9iamVjdCogaW4gb3JkZXIgdG8gcHJvdmlkZSBpdCB3aXRoXG4gIC8vIGEgY3VzdG9tIGV2ZW50IGNoYW5uZWwuIFlvdSBtYXkgYmluZCBhIGNhbGxiYWNrIHRvIGFuIGV2ZW50IHdpdGggYG9uYCBvclxuICAvLyByZW1vdmUgd2l0aCBgb2ZmYDsgYHRyaWdnZXJgLWluZyBhbiBldmVudCBmaXJlcyBhbGwgY2FsbGJhY2tzIGluXG4gIC8vIHN1Y2Nlc3Npb24uXG4gIC8vXG4gIC8vICAgICB2YXIgb2JqZWN0ID0ge307XG4gIC8vICAgICBfLmV4dGVuZChvYmplY3QsIEJhY2tib25lLkV2ZW50cyk7XG4gIC8vICAgICBvYmplY3Qub24oJ2V4cGFuZCcsIGZ1bmN0aW9uKCl7IGFsZXJ0KCdleHBhbmRlZCcpOyB9KTtcbiAgLy8gICAgIG9iamVjdC50cmlnZ2VyKCdleHBhbmQnKTtcbiAgLy9cbiAgdmFyIEV2ZW50cyA9IEJhY2tib25lLkV2ZW50cyA9IHt9O1xuXG4gIC8vIFJlZ3VsYXIgZXhwcmVzc2lvbiB1c2VkIHRvIHNwbGl0IGV2ZW50IHN0cmluZ3MuXG4gIHZhciBldmVudFNwbGl0dGVyID0gL1xccysvO1xuXG4gIC8vIEl0ZXJhdGVzIG92ZXIgdGhlIHN0YW5kYXJkIGBldmVudCwgY2FsbGJhY2tgIChhcyB3ZWxsIGFzIHRoZSBmYW5jeSBtdWx0aXBsZVxuICAvLyBzcGFjZS1zZXBhcmF0ZWQgZXZlbnRzIGBcImNoYW5nZSBibHVyXCIsIGNhbGxiYWNrYCBhbmQgalF1ZXJ5LXN0eWxlIGV2ZW50XG4gIC8vIG1hcHMgYHtldmVudDogY2FsbGJhY2t9YCkuXG4gIHZhciBldmVudHNBcGkgPSBmdW5jdGlvbihpdGVyYXRlZSwgZXZlbnRzLCBuYW1lLCBjYWxsYmFjaywgb3B0cykge1xuICAgIHZhciBpID0gMCwgbmFtZXM7XG4gICAgaWYgKG5hbWUgJiYgdHlwZW9mIG5hbWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAvLyBIYW5kbGUgZXZlbnQgbWFwcy5cbiAgICAgIGlmIChjYWxsYmFjayAhPT0gdm9pZCAwICYmICdjb250ZXh0JyBpbiBvcHRzICYmIG9wdHMuY29udGV4dCA9PT0gdm9pZCAwKSBvcHRzLmNvbnRleHQgPSBjYWxsYmFjaztcbiAgICAgIGZvciAobmFtZXMgPSBfLmtleXMobmFtZSk7IGkgPCBuYW1lcy5sZW5ndGggOyBpKyspIHtcbiAgICAgICAgZXZlbnRzID0gZXZlbnRzQXBpKGl0ZXJhdGVlLCBldmVudHMsIG5hbWVzW2ldLCBuYW1lW25hbWVzW2ldXSwgb3B0cyk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChuYW1lICYmIGV2ZW50U3BsaXR0ZXIudGVzdChuYW1lKSkge1xuICAgICAgLy8gSGFuZGxlIHNwYWNlIHNlcGFyYXRlZCBldmVudCBuYW1lcyBieSBkZWxlZ2F0aW5nIHRoZW0gaW5kaXZpZHVhbGx5LlxuICAgICAgZm9yIChuYW1lcyA9IG5hbWUuc3BsaXQoZXZlbnRTcGxpdHRlcik7IGkgPCBuYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBldmVudHMgPSBpdGVyYXRlZShldmVudHMsIG5hbWVzW2ldLCBjYWxsYmFjaywgb3B0cyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEZpbmFsbHksIHN0YW5kYXJkIGV2ZW50cy5cbiAgICAgIGV2ZW50cyA9IGl0ZXJhdGVlKGV2ZW50cywgbmFtZSwgY2FsbGJhY2ssIG9wdHMpO1xuICAgIH1cbiAgICByZXR1cm4gZXZlbnRzO1xuICB9O1xuXG4gIC8vIEJpbmQgYW4gZXZlbnQgdG8gYSBgY2FsbGJhY2tgIGZ1bmN0aW9uLiBQYXNzaW5nIGBcImFsbFwiYCB3aWxsIGJpbmRcbiAgLy8gdGhlIGNhbGxiYWNrIHRvIGFsbCBldmVudHMgZmlyZWQuXG4gIEV2ZW50cy5vbiA9IGZ1bmN0aW9uKG5hbWUsIGNhbGxiYWNrLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIGludGVybmFsT24odGhpcywgbmFtZSwgY2FsbGJhY2ssIGNvbnRleHQpO1xuICB9O1xuXG4gIC8vIEd1YXJkIHRoZSBgbGlzdGVuaW5nYCBhcmd1bWVudCBmcm9tIHRoZSBwdWJsaWMgQVBJLlxuICB2YXIgaW50ZXJuYWxPbiA9IGZ1bmN0aW9uKG9iaiwgbmFtZSwgY2FsbGJhY2ssIGNvbnRleHQsIGxpc3RlbmluZykge1xuICAgIG9iai5fZXZlbnRzID0gZXZlbnRzQXBpKG9uQXBpLCBvYmouX2V2ZW50cyB8fCB7fSwgbmFtZSwgY2FsbGJhY2ssIHtcbiAgICAgICAgY29udGV4dDogY29udGV4dCxcbiAgICAgICAgY3R4OiBvYmosXG4gICAgICAgIGxpc3RlbmluZzogbGlzdGVuaW5nXG4gICAgfSk7XG5cbiAgICBpZiAobGlzdGVuaW5nKSB7XG4gICAgICB2YXIgbGlzdGVuZXJzID0gb2JqLl9saXN0ZW5lcnMgfHwgKG9iai5fbGlzdGVuZXJzID0ge30pO1xuICAgICAgbGlzdGVuZXJzW2xpc3RlbmluZy5pZF0gPSBsaXN0ZW5pbmc7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iajtcbiAgfTtcblxuICAvLyBJbnZlcnNpb24tb2YtY29udHJvbCB2ZXJzaW9ucyBvZiBgb25gLiBUZWxsICp0aGlzKiBvYmplY3QgdG8gbGlzdGVuIHRvXG4gIC8vIGFuIGV2ZW50IGluIGFub3RoZXIgb2JqZWN0Li4uIGtlZXBpbmcgdHJhY2sgb2Ygd2hhdCBpdCdzIGxpc3RlbmluZyB0b1xuICAvLyBmb3IgZWFzaWVyIHVuYmluZGluZyBsYXRlci5cbiAgRXZlbnRzLmxpc3RlblRvID0gIGZ1bmN0aW9uKG9iaiwgbmFtZSwgY2FsbGJhY2spIHtcbiAgICBpZiAoIW9iaikgcmV0dXJuIHRoaXM7XG4gICAgdmFyIGlkID0gb2JqLl9saXN0ZW5JZCB8fCAob2JqLl9saXN0ZW5JZCA9IF8udW5pcXVlSWQoJ2wnKSk7XG4gICAgdmFyIGxpc3RlbmluZ1RvID0gdGhpcy5fbGlzdGVuaW5nVG8gfHwgKHRoaXMuX2xpc3RlbmluZ1RvID0ge30pO1xuICAgIHZhciBsaXN0ZW5pbmcgPSBsaXN0ZW5pbmdUb1tpZF07XG5cbiAgICAvLyBUaGlzIG9iamVjdCBpcyBub3QgbGlzdGVuaW5nIHRvIGFueSBvdGhlciBldmVudHMgb24gYG9iamAgeWV0LlxuICAgIC8vIFNldHVwIHRoZSBuZWNlc3NhcnkgcmVmZXJlbmNlcyB0byB0cmFjayB0aGUgbGlzdGVuaW5nIGNhbGxiYWNrcy5cbiAgICBpZiAoIWxpc3RlbmluZykge1xuICAgICAgdmFyIHRoaXNJZCA9IHRoaXMuX2xpc3RlbklkIHx8ICh0aGlzLl9saXN0ZW5JZCA9IF8udW5pcXVlSWQoJ2wnKSk7XG4gICAgICBsaXN0ZW5pbmcgPSBsaXN0ZW5pbmdUb1tpZF0gPSB7b2JqOiBvYmosIG9iaklkOiBpZCwgaWQ6IHRoaXNJZCwgbGlzdGVuaW5nVG86IGxpc3RlbmluZ1RvLCBjb3VudDogMH07XG4gICAgfVxuXG4gICAgLy8gQmluZCBjYWxsYmFja3Mgb24gb2JqLCBhbmQga2VlcCB0cmFjayBvZiB0aGVtIG9uIGxpc3RlbmluZy5cbiAgICBpbnRlcm5hbE9uKG9iaiwgbmFtZSwgY2FsbGJhY2ssIHRoaXMsIGxpc3RlbmluZyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLy8gVGhlIHJlZHVjaW5nIEFQSSB0aGF0IGFkZHMgYSBjYWxsYmFjayB0byB0aGUgYGV2ZW50c2Agb2JqZWN0LlxuICB2YXIgb25BcGkgPSBmdW5jdGlvbihldmVudHMsIG5hbWUsIGNhbGxiYWNrLCBvcHRpb25zKSB7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICB2YXIgaGFuZGxlcnMgPSBldmVudHNbbmFtZV0gfHwgKGV2ZW50c1tuYW1lXSA9IFtdKTtcbiAgICAgIHZhciBjb250ZXh0ID0gb3B0aW9ucy5jb250ZXh0LCBjdHggPSBvcHRpb25zLmN0eCwgbGlzdGVuaW5nID0gb3B0aW9ucy5saXN0ZW5pbmc7XG4gICAgICBpZiAobGlzdGVuaW5nKSBsaXN0ZW5pbmcuY291bnQrKztcblxuICAgICAgaGFuZGxlcnMucHVzaCh7IGNhbGxiYWNrOiBjYWxsYmFjaywgY29udGV4dDogY29udGV4dCwgY3R4OiBjb250ZXh0IHx8IGN0eCwgbGlzdGVuaW5nOiBsaXN0ZW5pbmcgfSk7XG4gICAgfVxuICAgIHJldHVybiBldmVudHM7XG4gIH07XG5cbiAgLy8gUmVtb3ZlIG9uZSBvciBtYW55IGNhbGxiYWNrcy4gSWYgYGNvbnRleHRgIGlzIG51bGwsIHJlbW92ZXMgYWxsXG4gIC8vIGNhbGxiYWNrcyB3aXRoIHRoYXQgZnVuY3Rpb24uIElmIGBjYWxsYmFja2AgaXMgbnVsbCwgcmVtb3ZlcyBhbGxcbiAgLy8gY2FsbGJhY2tzIGZvciB0aGUgZXZlbnQuIElmIGBuYW1lYCBpcyBudWxsLCByZW1vdmVzIGFsbCBib3VuZFxuICAvLyBjYWxsYmFja3MgZm9yIGFsbCBldmVudHMuXG4gIEV2ZW50cy5vZmYgPSAgZnVuY3Rpb24obmFtZSwgY2FsbGJhY2ssIGNvbnRleHQpIHtcbiAgICBpZiAoIXRoaXMuX2V2ZW50cykgcmV0dXJuIHRoaXM7XG4gICAgdGhpcy5fZXZlbnRzID0gZXZlbnRzQXBpKG9mZkFwaSwgdGhpcy5fZXZlbnRzLCBuYW1lLCBjYWxsYmFjaywge1xuICAgICAgICBjb250ZXh0OiBjb250ZXh0LFxuICAgICAgICBsaXN0ZW5lcnM6IHRoaXMuX2xpc3RlbmVyc1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8vIFRlbGwgdGhpcyBvYmplY3QgdG8gc3RvcCBsaXN0ZW5pbmcgdG8gZWl0aGVyIHNwZWNpZmljIGV2ZW50cyAuLi4gb3JcbiAgLy8gdG8gZXZlcnkgb2JqZWN0IGl0J3MgY3VycmVudGx5IGxpc3RlbmluZyB0by5cbiAgRXZlbnRzLnN0b3BMaXN0ZW5pbmcgPSAgZnVuY3Rpb24ob2JqLCBuYW1lLCBjYWxsYmFjaykge1xuICAgIHZhciBsaXN0ZW5pbmdUbyA9IHRoaXMuX2xpc3RlbmluZ1RvO1xuICAgIGlmICghbGlzdGVuaW5nVG8pIHJldHVybiB0aGlzO1xuXG4gICAgdmFyIGlkcyA9IG9iaiA/IFtvYmouX2xpc3RlbklkXSA6IF8ua2V5cyhsaXN0ZW5pbmdUbyk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGxpc3RlbmluZyA9IGxpc3RlbmluZ1RvW2lkc1tpXV07XG5cbiAgICAgIC8vIElmIGxpc3RlbmluZyBkb2Vzbid0IGV4aXN0LCB0aGlzIG9iamVjdCBpcyBub3QgY3VycmVudGx5XG4gICAgICAvLyBsaXN0ZW5pbmcgdG8gb2JqLiBCcmVhayBvdXQgZWFybHkuXG4gICAgICBpZiAoIWxpc3RlbmluZykgYnJlYWs7XG5cbiAgICAgIGxpc3RlbmluZy5vYmoub2ZmKG5hbWUsIGNhbGxiYWNrLCB0aGlzKTtcbiAgICB9XG4gICAgaWYgKF8uaXNFbXB0eShsaXN0ZW5pbmdUbykpIHRoaXMuX2xpc3RlbmluZ1RvID0gdm9pZCAwO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLy8gVGhlIHJlZHVjaW5nIEFQSSB0aGF0IHJlbW92ZXMgYSBjYWxsYmFjayBmcm9tIHRoZSBgZXZlbnRzYCBvYmplY3QuXG4gIHZhciBvZmZBcGkgPSBmdW5jdGlvbihldmVudHMsIG5hbWUsIGNhbGxiYWNrLCBvcHRpb25zKSB7XG4gICAgaWYgKCFldmVudHMpIHJldHVybjtcblxuICAgIHZhciBpID0gMCwgbGlzdGVuaW5nO1xuICAgIHZhciBjb250ZXh0ID0gb3B0aW9ucy5jb250ZXh0LCBsaXN0ZW5lcnMgPSBvcHRpb25zLmxpc3RlbmVycztcblxuICAgIC8vIERlbGV0ZSBhbGwgZXZlbnRzIGxpc3RlbmVycyBhbmQgXCJkcm9wXCIgZXZlbnRzLlxuICAgIGlmICghbmFtZSAmJiAhY2FsbGJhY2sgJiYgIWNvbnRleHQpIHtcbiAgICAgIHZhciBpZHMgPSBfLmtleXMobGlzdGVuZXJzKTtcbiAgICAgIGZvciAoOyBpIDwgaWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxpc3RlbmluZyA9IGxpc3RlbmVyc1tpZHNbaV1dO1xuICAgICAgICBkZWxldGUgbGlzdGVuZXJzW2xpc3RlbmluZy5pZF07XG4gICAgICAgIGRlbGV0ZSBsaXN0ZW5pbmcubGlzdGVuaW5nVG9bbGlzdGVuaW5nLm9iaklkXTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgbmFtZXMgPSBuYW1lID8gW25hbWVdIDogXy5rZXlzKGV2ZW50cyk7XG4gICAgZm9yICg7IGkgPCBuYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgbmFtZSA9IG5hbWVzW2ldO1xuICAgICAgdmFyIGhhbmRsZXJzID0gZXZlbnRzW25hbWVdO1xuXG4gICAgICAvLyBCYWlsIG91dCBpZiB0aGVyZSBhcmUgbm8gZXZlbnRzIHN0b3JlZC5cbiAgICAgIGlmICghaGFuZGxlcnMpIGJyZWFrO1xuXG4gICAgICAvLyBSZXBsYWNlIGV2ZW50cyBpZiB0aGVyZSBhcmUgYW55IHJlbWFpbmluZy4gIE90aGVyd2lzZSwgY2xlYW4gdXAuXG4gICAgICB2YXIgcmVtYWluaW5nID0gW107XG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGhhbmRsZXJzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHZhciBoYW5kbGVyID0gaGFuZGxlcnNbal07XG4gICAgICAgIGlmIChcbiAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayAhPT0gaGFuZGxlci5jYWxsYmFjayAmJlxuICAgICAgICAgICAgY2FsbGJhY2sgIT09IGhhbmRsZXIuY2FsbGJhY2suX2NhbGxiYWNrIHx8XG4gICAgICAgICAgICAgIGNvbnRleHQgJiYgY29udGV4dCAhPT0gaGFuZGxlci5jb250ZXh0XG4gICAgICAgICkge1xuICAgICAgICAgIHJlbWFpbmluZy5wdXNoKGhhbmRsZXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxpc3RlbmluZyA9IGhhbmRsZXIubGlzdGVuaW5nO1xuICAgICAgICAgIGlmIChsaXN0ZW5pbmcgJiYgLS1saXN0ZW5pbmcuY291bnQgPT09IDApIHtcbiAgICAgICAgICAgIGRlbGV0ZSBsaXN0ZW5lcnNbbGlzdGVuaW5nLmlkXTtcbiAgICAgICAgICAgIGRlbGV0ZSBsaXN0ZW5pbmcubGlzdGVuaW5nVG9bbGlzdGVuaW5nLm9iaklkXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVXBkYXRlIHRhaWwgZXZlbnQgaWYgdGhlIGxpc3QgaGFzIGFueSBldmVudHMuICBPdGhlcndpc2UsIGNsZWFuIHVwLlxuICAgICAgaWYgKHJlbWFpbmluZy5sZW5ndGgpIHtcbiAgICAgICAgZXZlbnRzW25hbWVdID0gcmVtYWluaW5nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVsZXRlIGV2ZW50c1tuYW1lXTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKF8uc2l6ZShldmVudHMpKSByZXR1cm4gZXZlbnRzO1xuICB9O1xuXG4gIC8vIEJpbmQgYW4gZXZlbnQgdG8gb25seSBiZSB0cmlnZ2VyZWQgYSBzaW5nbGUgdGltZS4gQWZ0ZXIgdGhlIGZpcnN0IHRpbWVcbiAgLy8gdGhlIGNhbGxiYWNrIGlzIGludm9rZWQsIGl0cyBsaXN0ZW5lciB3aWxsIGJlIHJlbW92ZWQuIElmIG11bHRpcGxlIGV2ZW50c1xuICAvLyBhcmUgcGFzc2VkIGluIHVzaW5nIHRoZSBzcGFjZS1zZXBhcmF0ZWQgc3ludGF4LCB0aGUgaGFuZGxlciB3aWxsIGZpcmVcbiAgLy8gb25jZSBmb3IgZWFjaCBldmVudCwgbm90IG9uY2UgZm9yIGEgY29tYmluYXRpb24gb2YgYWxsIGV2ZW50cy5cbiAgRXZlbnRzLm9uY2UgPSAgZnVuY3Rpb24obmFtZSwgY2FsbGJhY2ssIGNvbnRleHQpIHtcbiAgICAvLyBNYXAgdGhlIGV2ZW50IGludG8gYSBge2V2ZW50OiBvbmNlfWAgb2JqZWN0LlxuICAgIHZhciBldmVudHMgPSBldmVudHNBcGkob25jZU1hcCwge30sIG5hbWUsIGNhbGxiYWNrLCBfLmJpbmQodGhpcy5vZmYsIHRoaXMpKTtcbiAgICByZXR1cm4gdGhpcy5vbihldmVudHMsIHZvaWQgMCwgY29udGV4dCk7XG4gIH07XG5cbiAgLy8gSW52ZXJzaW9uLW9mLWNvbnRyb2wgdmVyc2lvbnMgb2YgYG9uY2VgLlxuICBFdmVudHMubGlzdGVuVG9PbmNlID0gIGZ1bmN0aW9uKG9iaiwgbmFtZSwgY2FsbGJhY2spIHtcbiAgICAvLyBNYXAgdGhlIGV2ZW50IGludG8gYSBge2V2ZW50OiBvbmNlfWAgb2JqZWN0LlxuICAgIHZhciBldmVudHMgPSBldmVudHNBcGkob25jZU1hcCwge30sIG5hbWUsIGNhbGxiYWNrLCBfLmJpbmQodGhpcy5zdG9wTGlzdGVuaW5nLCB0aGlzLCBvYmopKTtcbiAgICByZXR1cm4gdGhpcy5saXN0ZW5UbyhvYmosIGV2ZW50cyk7XG4gIH07XG5cbiAgLy8gUmVkdWNlcyB0aGUgZXZlbnQgY2FsbGJhY2tzIGludG8gYSBtYXAgb2YgYHtldmVudDogb25jZVdyYXBwZXJ9YC5cbiAgLy8gYG9mZmVyYCB1bmJpbmRzIHRoZSBgb25jZVdyYXBwZXJgIGFmdGVyIGl0IGhhcyBiZWVuIGNhbGxlZC5cbiAgdmFyIG9uY2VNYXAgPSBmdW5jdGlvbihtYXAsIG5hbWUsIGNhbGxiYWNrLCBvZmZlcikge1xuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgdmFyIG9uY2UgPSBtYXBbbmFtZV0gPSBfLm9uY2UoZnVuY3Rpb24oKSB7XG4gICAgICAgIG9mZmVyKG5hbWUsIG9uY2UpO1xuICAgICAgICBjYWxsYmFjay5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfSk7XG4gICAgICBvbmNlLl9jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIH1cbiAgICByZXR1cm4gbWFwO1xuICB9O1xuXG4gIC8vIFRyaWdnZXIgb25lIG9yIG1hbnkgZXZlbnRzLCBmaXJpbmcgYWxsIGJvdW5kIGNhbGxiYWNrcy4gQ2FsbGJhY2tzIGFyZVxuICAvLyBwYXNzZWQgdGhlIHNhbWUgYXJndW1lbnRzIGFzIGB0cmlnZ2VyYCBpcywgYXBhcnQgZnJvbSB0aGUgZXZlbnQgbmFtZVxuICAvLyAodW5sZXNzIHlvdSdyZSBsaXN0ZW5pbmcgb24gYFwiYWxsXCJgLCB3aGljaCB3aWxsIGNhdXNlIHlvdXIgY2FsbGJhY2sgdG9cbiAgLy8gcmVjZWl2ZSB0aGUgdHJ1ZSBuYW1lIG9mIHRoZSBldmVudCBhcyB0aGUgZmlyc3QgYXJndW1lbnQpLlxuICBFdmVudHMudHJpZ2dlciA9ICBmdW5jdGlvbihuYW1lKSB7XG4gICAgaWYgKCF0aGlzLl9ldmVudHMpIHJldHVybiB0aGlzO1xuXG4gICAgdmFyIGxlbmd0aCA9IE1hdGgubWF4KDAsIGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICB2YXIgYXJncyA9IEFycmF5KGxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgYXJnc1tpXSA9IGFyZ3VtZW50c1tpICsgMV07XG5cbiAgICBldmVudHNBcGkodHJpZ2dlckFwaSwgdGhpcy5fZXZlbnRzLCBuYW1lLCB2b2lkIDAsIGFyZ3MpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8vIEhhbmRsZXMgdHJpZ2dlcmluZyB0aGUgYXBwcm9wcmlhdGUgZXZlbnQgY2FsbGJhY2tzLlxuICB2YXIgdHJpZ2dlckFwaSA9IGZ1bmN0aW9uKG9iakV2ZW50cywgbmFtZSwgY2IsIGFyZ3MpIHtcbiAgICBpZiAob2JqRXZlbnRzKSB7XG4gICAgICB2YXIgZXZlbnRzID0gb2JqRXZlbnRzW25hbWVdO1xuICAgICAgdmFyIGFsbEV2ZW50cyA9IG9iakV2ZW50cy5hbGw7XG4gICAgICBpZiAoZXZlbnRzICYmIGFsbEV2ZW50cykgYWxsRXZlbnRzID0gYWxsRXZlbnRzLnNsaWNlKCk7XG4gICAgICBpZiAoZXZlbnRzKSB0cmlnZ2VyRXZlbnRzKGV2ZW50cywgYXJncyk7XG4gICAgICBpZiAoYWxsRXZlbnRzKSB0cmlnZ2VyRXZlbnRzKGFsbEV2ZW50cywgW25hbWVdLmNvbmNhdChhcmdzKSk7XG4gICAgfVxuICAgIHJldHVybiBvYmpFdmVudHM7XG4gIH07XG5cbiAgLy8gQSBkaWZmaWN1bHQtdG8tYmVsaWV2ZSwgYnV0IG9wdGltaXplZCBpbnRlcm5hbCBkaXNwYXRjaCBmdW5jdGlvbiBmb3JcbiAgLy8gdHJpZ2dlcmluZyBldmVudHMuIFRyaWVzIHRvIGtlZXAgdGhlIHVzdWFsIGNhc2VzIHNwZWVkeSAobW9zdCBpbnRlcm5hbFxuICAvLyBCYWNrYm9uZSBldmVudHMgaGF2ZSAzIGFyZ3VtZW50cykuXG4gIHZhciB0cmlnZ2VyRXZlbnRzID0gZnVuY3Rpb24oZXZlbnRzLCBhcmdzKSB7XG4gICAgdmFyIGV2LCBpID0gLTEsIGwgPSBldmVudHMubGVuZ3RoLCBhMSA9IGFyZ3NbMF0sIGEyID0gYXJnc1sxXSwgYTMgPSBhcmdzWzJdO1xuICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgIGNhc2UgMDogd2hpbGUgKCsraSA8IGwpIChldiA9IGV2ZW50c1tpXSkuY2FsbGJhY2suY2FsbChldi5jdHgpOyByZXR1cm47XG4gICAgICBjYXNlIDE6IHdoaWxlICgrK2kgPCBsKSAoZXYgPSBldmVudHNbaV0pLmNhbGxiYWNrLmNhbGwoZXYuY3R4LCBhMSk7IHJldHVybjtcbiAgICAgIGNhc2UgMjogd2hpbGUgKCsraSA8IGwpIChldiA9IGV2ZW50c1tpXSkuY2FsbGJhY2suY2FsbChldi5jdHgsIGExLCBhMik7IHJldHVybjtcbiAgICAgIGNhc2UgMzogd2hpbGUgKCsraSA8IGwpIChldiA9IGV2ZW50c1tpXSkuY2FsbGJhY2suY2FsbChldi5jdHgsIGExLCBhMiwgYTMpOyByZXR1cm47XG4gICAgICBkZWZhdWx0OiB3aGlsZSAoKytpIDwgbCkgKGV2ID0gZXZlbnRzW2ldKS5jYWxsYmFjay5hcHBseShldi5jdHgsIGFyZ3MpOyByZXR1cm47XG4gICAgfVxuICB9O1xuXG4gIC8vIEFsaWFzZXMgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxuICBFdmVudHMuYmluZCAgID0gRXZlbnRzLm9uO1xuICBFdmVudHMudW5iaW5kID0gRXZlbnRzLm9mZjtcblxuICAvLyBBbGxvdyB0aGUgYEJhY2tib25lYCBvYmplY3QgdG8gc2VydmUgYXMgYSBnbG9iYWwgZXZlbnQgYnVzLCBmb3IgZm9sa3Mgd2hvXG4gIC8vIHdhbnQgZ2xvYmFsIFwicHVic3ViXCIgaW4gYSBjb252ZW5pZW50IHBsYWNlLlxuICBfLmV4dGVuZChCYWNrYm9uZSwgRXZlbnRzKTtcblxuICAvLyBCYWNrYm9uZS5Nb2RlbFxuICAvLyAtLS0tLS0tLS0tLS0tLVxuXG4gIC8vIEJhY2tib25lICoqTW9kZWxzKiogYXJlIHRoZSBiYXNpYyBkYXRhIG9iamVjdCBpbiB0aGUgZnJhbWV3b3JrIC0tXG4gIC8vIGZyZXF1ZW50bHkgcmVwcmVzZW50aW5nIGEgcm93IGluIGEgdGFibGUgaW4gYSBkYXRhYmFzZSBvbiB5b3VyIHNlcnZlci5cbiAgLy8gQSBkaXNjcmV0ZSBjaHVuayBvZiBkYXRhIGFuZCBhIGJ1bmNoIG9mIHVzZWZ1bCwgcmVsYXRlZCBtZXRob2RzIGZvclxuICAvLyBwZXJmb3JtaW5nIGNvbXB1dGF0aW9ucyBhbmQgdHJhbnNmb3JtYXRpb25zIG9uIHRoYXQgZGF0YS5cblxuICAvLyBDcmVhdGUgYSBuZXcgbW9kZWwgd2l0aCB0aGUgc3BlY2lmaWVkIGF0dHJpYnV0ZXMuIEEgY2xpZW50IGlkIChgY2lkYClcbiAgLy8gaXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgYW5kIGFzc2lnbmVkIGZvciB5b3UuXG4gIHZhciBNb2RlbCA9IEJhY2tib25lLk1vZGVsID0gZnVuY3Rpb24oYXR0cmlidXRlcywgb3B0aW9ucykge1xuICAgIHZhciBhdHRycyA9IGF0dHJpYnV0ZXMgfHwge307XG4gICAgb3B0aW9ucyB8fCAob3B0aW9ucyA9IHt9KTtcbiAgICB0aGlzLmNpZCA9IF8udW5pcXVlSWQodGhpcy5jaWRQcmVmaXgpO1xuICAgIHRoaXMuYXR0cmlidXRlcyA9IHt9O1xuICAgIGlmIChvcHRpb25zLmNvbGxlY3Rpb24pIHRoaXMuY29sbGVjdGlvbiA9IG9wdGlvbnMuY29sbGVjdGlvbjtcbiAgICBpZiAob3B0aW9ucy5wYXJzZSkgYXR0cnMgPSB0aGlzLnBhcnNlKGF0dHJzLCBvcHRpb25zKSB8fCB7fTtcbiAgICBhdHRycyA9IF8uZGVmYXVsdHMoe30sIGF0dHJzLCBfLnJlc3VsdCh0aGlzLCAnZGVmYXVsdHMnKSk7XG4gICAgdGhpcy5zZXQoYXR0cnMsIG9wdGlvbnMpO1xuICAgIHRoaXMuY2hhbmdlZCA9IHt9O1xuICAgIHRoaXMuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xuXG4gIC8vIEF0dGFjaCBhbGwgaW5oZXJpdGFibGUgbWV0aG9kcyB0byB0aGUgTW9kZWwgcHJvdG90eXBlLlxuICBfLmV4dGVuZChNb2RlbC5wcm90b3R5cGUsIEV2ZW50cywge1xuXG4gICAgLy8gQSBoYXNoIG9mIGF0dHJpYnV0ZXMgd2hvc2UgY3VycmVudCBhbmQgcHJldmlvdXMgdmFsdWUgZGlmZmVyLlxuICAgIGNoYW5nZWQ6IG51bGwsXG5cbiAgICAvLyBUaGUgdmFsdWUgcmV0dXJuZWQgZHVyaW5nIHRoZSBsYXN0IGZhaWxlZCB2YWxpZGF0aW9uLlxuICAgIHZhbGlkYXRpb25FcnJvcjogbnVsbCxcblxuICAgIC8vIFRoZSBkZWZhdWx0IG5hbWUgZm9yIHRoZSBKU09OIGBpZGAgYXR0cmlidXRlIGlzIGBcImlkXCJgLiBNb25nb0RCIGFuZFxuICAgIC8vIENvdWNoREIgdXNlcnMgbWF5IHdhbnQgdG8gc2V0IHRoaXMgdG8gYFwiX2lkXCJgLlxuICAgIGlkQXR0cmlidXRlOiAnaWQnLFxuXG4gICAgLy8gVGhlIHByZWZpeCBpcyB1c2VkIHRvIGNyZWF0ZSB0aGUgY2xpZW50IGlkIHdoaWNoIGlzIHVzZWQgdG8gaWRlbnRpZnkgbW9kZWxzIGxvY2FsbHkuXG4gICAgLy8gWW91IG1heSB3YW50IHRvIG92ZXJyaWRlIHRoaXMgaWYgeW91J3JlIGV4cGVyaWVuY2luZyBuYW1lIGNsYXNoZXMgd2l0aCBtb2RlbCBpZHMuXG4gICAgY2lkUHJlZml4OiAnYycsXG5cbiAgICAvLyBJbml0aWFsaXplIGlzIGFuIGVtcHR5IGZ1bmN0aW9uIGJ5IGRlZmF1bHQuIE92ZXJyaWRlIGl0IHdpdGggeW91ciBvd25cbiAgICAvLyBpbml0aWFsaXphdGlvbiBsb2dpYy5cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbigpe30sXG5cbiAgICAvLyBSZXR1cm4gYSBjb3B5IG9mIHRoZSBtb2RlbCdzIGBhdHRyaWJ1dGVzYCBvYmplY3QuXG4gICAgdG9KU09OOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICByZXR1cm4gXy5jbG9uZSh0aGlzLmF0dHJpYnV0ZXMpO1xuICAgIH0sXG5cbiAgICAvLyBQcm94eSBgQmFja2JvbmUuc3luY2AgYnkgZGVmYXVsdCAtLSBidXQgb3ZlcnJpZGUgdGhpcyBpZiB5b3UgbmVlZFxuICAgIC8vIGN1c3RvbSBzeW5jaW5nIHNlbWFudGljcyBmb3IgKnRoaXMqIHBhcnRpY3VsYXIgbW9kZWwuXG4gICAgc3luYzogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gQmFja2JvbmUuc3luYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH0sXG5cbiAgICAvLyBHZXQgdGhlIHZhbHVlIG9mIGFuIGF0dHJpYnV0ZS5cbiAgICBnZXQ6IGZ1bmN0aW9uKGF0dHIpIHtcbiAgICAgIHJldHVybiB0aGlzLmF0dHJpYnV0ZXNbYXR0cl07XG4gICAgfSxcblxuICAgIC8vIEdldCB0aGUgSFRNTC1lc2NhcGVkIHZhbHVlIG9mIGFuIGF0dHJpYnV0ZS5cbiAgICBlc2NhcGU6IGZ1bmN0aW9uKGF0dHIpIHtcbiAgICAgIHJldHVybiBfLmVzY2FwZSh0aGlzLmdldChhdHRyKSk7XG4gICAgfSxcblxuICAgIC8vIFJldHVybnMgYHRydWVgIGlmIHRoZSBhdHRyaWJ1dGUgY29udGFpbnMgYSB2YWx1ZSB0aGF0IGlzIG5vdCBudWxsXG4gICAgLy8gb3IgdW5kZWZpbmVkLlxuICAgIGhhczogZnVuY3Rpb24oYXR0cikge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KGF0dHIpICE9IG51bGw7XG4gICAgfSxcblxuICAgIC8vIFNwZWNpYWwtY2FzZWQgcHJveHkgdG8gdW5kZXJzY29yZSdzIGBfLm1hdGNoZXNgIG1ldGhvZC5cbiAgICBtYXRjaGVzOiBmdW5jdGlvbihhdHRycykge1xuICAgICAgcmV0dXJuICEhXy5pdGVyYXRlZShhdHRycywgdGhpcykodGhpcy5hdHRyaWJ1dGVzKTtcbiAgICB9LFxuXG4gICAgLy8gU2V0IGEgaGFzaCBvZiBtb2RlbCBhdHRyaWJ1dGVzIG9uIHRoZSBvYmplY3QsIGZpcmluZyBgXCJjaGFuZ2VcImAuIFRoaXMgaXNcbiAgICAvLyB0aGUgY29yZSBwcmltaXRpdmUgb3BlcmF0aW9uIG9mIGEgbW9kZWwsIHVwZGF0aW5nIHRoZSBkYXRhIGFuZCBub3RpZnlpbmdcbiAgICAvLyBhbnlvbmUgd2hvIG5lZWRzIHRvIGtub3cgYWJvdXQgdGhlIGNoYW5nZSBpbiBzdGF0ZS4gVGhlIGhlYXJ0IG9mIHRoZSBiZWFzdC5cbiAgICBzZXQ6IGZ1bmN0aW9uKGtleSwgdmFsLCBvcHRpb25zKSB7XG4gICAgICBpZiAoa2V5ID09IG51bGwpIHJldHVybiB0aGlzO1xuXG4gICAgICAvLyBIYW5kbGUgYm90aCBgXCJrZXlcIiwgdmFsdWVgIGFuZCBge2tleTogdmFsdWV9YCAtc3R5bGUgYXJndW1lbnRzLlxuICAgICAgdmFyIGF0dHJzO1xuICAgICAgaWYgKHR5cGVvZiBrZXkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGF0dHJzID0ga2V5O1xuICAgICAgICBvcHRpb25zID0gdmFsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgKGF0dHJzID0ge30pW2tleV0gPSB2YWw7XG4gICAgICB9XG5cbiAgICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSk7XG5cbiAgICAgIC8vIFJ1biB2YWxpZGF0aW9uLlxuICAgICAgaWYgKCF0aGlzLl92YWxpZGF0ZShhdHRycywgb3B0aW9ucykpIHJldHVybiBmYWxzZTtcblxuICAgICAgLy8gRXh0cmFjdCBhdHRyaWJ1dGVzIGFuZCBvcHRpb25zLlxuICAgICAgdmFyIHVuc2V0ICAgICAgPSBvcHRpb25zLnVuc2V0O1xuICAgICAgdmFyIHNpbGVudCAgICAgPSBvcHRpb25zLnNpbGVudDtcbiAgICAgIHZhciBjaGFuZ2VzICAgID0gW107XG4gICAgICB2YXIgY2hhbmdpbmcgICA9IHRoaXMuX2NoYW5naW5nO1xuICAgICAgdGhpcy5fY2hhbmdpbmcgPSB0cnVlO1xuXG4gICAgICBpZiAoIWNoYW5naW5nKSB7XG4gICAgICAgIHRoaXMuX3ByZXZpb3VzQXR0cmlidXRlcyA9IF8uY2xvbmUodGhpcy5hdHRyaWJ1dGVzKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VkID0ge307XG4gICAgICB9XG5cbiAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5hdHRyaWJ1dGVzO1xuICAgICAgdmFyIGNoYW5nZWQgPSB0aGlzLmNoYW5nZWQ7XG4gICAgICB2YXIgcHJldiAgICA9IHRoaXMuX3ByZXZpb3VzQXR0cmlidXRlcztcblxuICAgICAgLy8gRm9yIGVhY2ggYHNldGAgYXR0cmlidXRlLCB1cGRhdGUgb3IgZGVsZXRlIHRoZSBjdXJyZW50IHZhbHVlLlxuICAgICAgZm9yICh2YXIgYXR0ciBpbiBhdHRycykge1xuICAgICAgICB2YWwgPSBhdHRyc1thdHRyXTtcbiAgICAgICAgaWYgKCFfLmlzRXF1YWwoY3VycmVudFthdHRyXSwgdmFsKSkgY2hhbmdlcy5wdXNoKGF0dHIpO1xuICAgICAgICBpZiAoIV8uaXNFcXVhbChwcmV2W2F0dHJdLCB2YWwpKSB7XG4gICAgICAgICAgY2hhbmdlZFthdHRyXSA9IHZhbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgY2hhbmdlZFthdHRyXTtcbiAgICAgICAgfVxuICAgICAgICB1bnNldCA/IGRlbGV0ZSBjdXJyZW50W2F0dHJdIDogY3VycmVudFthdHRyXSA9IHZhbDtcbiAgICAgIH1cblxuICAgICAgLy8gVXBkYXRlIHRoZSBgaWRgLlxuICAgICAgdGhpcy5pZCA9IHRoaXMuZ2V0KHRoaXMuaWRBdHRyaWJ1dGUpO1xuXG4gICAgICAvLyBUcmlnZ2VyIGFsbCByZWxldmFudCBhdHRyaWJ1dGUgY2hhbmdlcy5cbiAgICAgIGlmICghc2lsZW50KSB7XG4gICAgICAgIGlmIChjaGFuZ2VzLmxlbmd0aCkgdGhpcy5fcGVuZGluZyA9IG9wdGlvbnM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHRoaXMudHJpZ2dlcignY2hhbmdlOicgKyBjaGFuZ2VzW2ldLCB0aGlzLCBjdXJyZW50W2NoYW5nZXNbaV1dLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBZb3UgbWlnaHQgYmUgd29uZGVyaW5nIHdoeSB0aGVyZSdzIGEgYHdoaWxlYCBsb29wIGhlcmUuIENoYW5nZXMgY2FuXG4gICAgICAvLyBiZSByZWN1cnNpdmVseSBuZXN0ZWQgd2l0aGluIGBcImNoYW5nZVwiYCBldmVudHMuXG4gICAgICBpZiAoY2hhbmdpbmcpIHJldHVybiB0aGlzO1xuICAgICAgaWYgKCFzaWxlbnQpIHtcbiAgICAgICAgd2hpbGUgKHRoaXMuX3BlbmRpbmcpIHtcbiAgICAgICAgICBvcHRpb25zID0gdGhpcy5fcGVuZGluZztcbiAgICAgICAgICB0aGlzLl9wZW5kaW5nID0gZmFsc2U7XG4gICAgICAgICAgdGhpcy50cmlnZ2VyKCdjaGFuZ2UnLCB0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5fcGVuZGluZyA9IGZhbHNlO1xuICAgICAgdGhpcy5fY2hhbmdpbmcgPSBmYWxzZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvLyBSZW1vdmUgYW4gYXR0cmlidXRlIGZyb20gdGhlIG1vZGVsLCBmaXJpbmcgYFwiY2hhbmdlXCJgLiBgdW5zZXRgIGlzIGEgbm9vcFxuICAgIC8vIGlmIHRoZSBhdHRyaWJ1dGUgZG9lc24ndCBleGlzdC5cbiAgICB1bnNldDogZnVuY3Rpb24oYXR0ciwgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMuc2V0KGF0dHIsIHZvaWQgMCwgXy5leHRlbmQoe30sIG9wdGlvbnMsIHt1bnNldDogdHJ1ZX0pKTtcbiAgICB9LFxuXG4gICAgLy8gQ2xlYXIgYWxsIGF0dHJpYnV0ZXMgb24gdGhlIG1vZGVsLCBmaXJpbmcgYFwiY2hhbmdlXCJgLlxuICAgIGNsZWFyOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICB2YXIgYXR0cnMgPSB7fTtcbiAgICAgIGZvciAodmFyIGtleSBpbiB0aGlzLmF0dHJpYnV0ZXMpIGF0dHJzW2tleV0gPSB2b2lkIDA7XG4gICAgICByZXR1cm4gdGhpcy5zZXQoYXR0cnMsIF8uZXh0ZW5kKHt9LCBvcHRpb25zLCB7dW5zZXQ6IHRydWV9KSk7XG4gICAgfSxcblxuICAgIC8vIERldGVybWluZSBpZiB0aGUgbW9kZWwgaGFzIGNoYW5nZWQgc2luY2UgdGhlIGxhc3QgYFwiY2hhbmdlXCJgIGV2ZW50LlxuICAgIC8vIElmIHlvdSBzcGVjaWZ5IGFuIGF0dHJpYnV0ZSBuYW1lLCBkZXRlcm1pbmUgaWYgdGhhdCBhdHRyaWJ1dGUgaGFzIGNoYW5nZWQuXG4gICAgaGFzQ2hhbmdlZDogZnVuY3Rpb24oYXR0cikge1xuICAgICAgaWYgKGF0dHIgPT0gbnVsbCkgcmV0dXJuICFfLmlzRW1wdHkodGhpcy5jaGFuZ2VkKTtcbiAgICAgIHJldHVybiBfLmhhcyh0aGlzLmNoYW5nZWQsIGF0dHIpO1xuICAgIH0sXG5cbiAgICAvLyBSZXR1cm4gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBhdHRyaWJ1dGVzIHRoYXQgaGF2ZSBjaGFuZ2VkLCBvclxuICAgIC8vIGZhbHNlIGlmIHRoZXJlIGFyZSBubyBjaGFuZ2VkIGF0dHJpYnV0ZXMuIFVzZWZ1bCBmb3IgZGV0ZXJtaW5pbmcgd2hhdFxuICAgIC8vIHBhcnRzIG9mIGEgdmlldyBuZWVkIHRvIGJlIHVwZGF0ZWQgYW5kL29yIHdoYXQgYXR0cmlidXRlcyBuZWVkIHRvIGJlXG4gICAgLy8gcGVyc2lzdGVkIHRvIHRoZSBzZXJ2ZXIuIFVuc2V0IGF0dHJpYnV0ZXMgd2lsbCBiZSBzZXQgdG8gdW5kZWZpbmVkLlxuICAgIC8vIFlvdSBjYW4gYWxzbyBwYXNzIGFuIGF0dHJpYnV0ZXMgb2JqZWN0IHRvIGRpZmYgYWdhaW5zdCB0aGUgbW9kZWwsXG4gICAgLy8gZGV0ZXJtaW5pbmcgaWYgdGhlcmUgKndvdWxkIGJlKiBhIGNoYW5nZS5cbiAgICBjaGFuZ2VkQXR0cmlidXRlczogZnVuY3Rpb24oZGlmZikge1xuICAgICAgaWYgKCFkaWZmKSByZXR1cm4gdGhpcy5oYXNDaGFuZ2VkKCkgPyBfLmNsb25lKHRoaXMuY2hhbmdlZCkgOiBmYWxzZTtcbiAgICAgIHZhciBvbGQgPSB0aGlzLl9jaGFuZ2luZyA/IHRoaXMuX3ByZXZpb3VzQXR0cmlidXRlcyA6IHRoaXMuYXR0cmlidXRlcztcbiAgICAgIHZhciBjaGFuZ2VkID0ge307XG4gICAgICBmb3IgKHZhciBhdHRyIGluIGRpZmYpIHtcbiAgICAgICAgdmFyIHZhbCA9IGRpZmZbYXR0cl07XG4gICAgICAgIGlmIChfLmlzRXF1YWwob2xkW2F0dHJdLCB2YWwpKSBjb250aW51ZTtcbiAgICAgICAgY2hhbmdlZFthdHRyXSA9IHZhbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfLnNpemUoY2hhbmdlZCkgPyBjaGFuZ2VkIDogZmFsc2U7XG4gICAgfSxcblxuICAgIC8vIEdldCB0aGUgcHJldmlvdXMgdmFsdWUgb2YgYW4gYXR0cmlidXRlLCByZWNvcmRlZCBhdCB0aGUgdGltZSB0aGUgbGFzdFxuICAgIC8vIGBcImNoYW5nZVwiYCBldmVudCB3YXMgZmlyZWQuXG4gICAgcHJldmlvdXM6IGZ1bmN0aW9uKGF0dHIpIHtcbiAgICAgIGlmIChhdHRyID09IG51bGwgfHwgIXRoaXMuX3ByZXZpb3VzQXR0cmlidXRlcykgcmV0dXJuIG51bGw7XG4gICAgICByZXR1cm4gdGhpcy5fcHJldmlvdXNBdHRyaWJ1dGVzW2F0dHJdO1xuICAgIH0sXG5cbiAgICAvLyBHZXQgYWxsIG9mIHRoZSBhdHRyaWJ1dGVzIG9mIHRoZSBtb2RlbCBhdCB0aGUgdGltZSBvZiB0aGUgcHJldmlvdXNcbiAgICAvLyBgXCJjaGFuZ2VcImAgZXZlbnQuXG4gICAgcHJldmlvdXNBdHRyaWJ1dGVzOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBfLmNsb25lKHRoaXMuX3ByZXZpb3VzQXR0cmlidXRlcyk7XG4gICAgfSxcblxuICAgIC8vIEZldGNoIHRoZSBtb2RlbCBmcm9tIHRoZSBzZXJ2ZXIsIG1lcmdpbmcgdGhlIHJlc3BvbnNlIHdpdGggdGhlIG1vZGVsJ3NcbiAgICAvLyBsb2NhbCBhdHRyaWJ1dGVzLiBBbnkgY2hhbmdlZCBhdHRyaWJ1dGVzIHdpbGwgdHJpZ2dlciBhIFwiY2hhbmdlXCIgZXZlbnQuXG4gICAgZmV0Y2g6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSBfLmV4dGVuZCh7cGFyc2U6IHRydWV9LCBvcHRpb25zKTtcbiAgICAgIHZhciBtb2RlbCA9IHRoaXM7XG4gICAgICB2YXIgc3VjY2VzcyA9IG9wdGlvbnMuc3VjY2VzcztcbiAgICAgIG9wdGlvbnMuc3VjY2VzcyA9IGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgdmFyIHNlcnZlckF0dHJzID0gb3B0aW9ucy5wYXJzZSA/IG1vZGVsLnBhcnNlKHJlc3AsIG9wdGlvbnMpIDogcmVzcDtcbiAgICAgICAgaWYgKCFtb2RlbC5zZXQoc2VydmVyQXR0cnMsIG9wdGlvbnMpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmIChzdWNjZXNzKSBzdWNjZXNzLmNhbGwob3B0aW9ucy5jb250ZXh0LCBtb2RlbCwgcmVzcCwgb3B0aW9ucyk7XG4gICAgICAgIG1vZGVsLnRyaWdnZXIoJ3N5bmMnLCBtb2RlbCwgcmVzcCwgb3B0aW9ucyk7XG4gICAgICB9O1xuICAgICAgd3JhcEVycm9yKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgcmV0dXJuIHRoaXMuc3luYygncmVhZCcsIHRoaXMsIG9wdGlvbnMpO1xuICAgIH0sXG5cbiAgICAvLyBTZXQgYSBoYXNoIG9mIG1vZGVsIGF0dHJpYnV0ZXMsIGFuZCBzeW5jIHRoZSBtb2RlbCB0byB0aGUgc2VydmVyLlxuICAgIC8vIElmIHRoZSBzZXJ2ZXIgcmV0dXJucyBhbiBhdHRyaWJ1dGVzIGhhc2ggdGhhdCBkaWZmZXJzLCB0aGUgbW9kZWwnc1xuICAgIC8vIHN0YXRlIHdpbGwgYmUgYHNldGAgYWdhaW4uXG4gICAgc2F2ZTogZnVuY3Rpb24oa2V5LCB2YWwsIG9wdGlvbnMpIHtcbiAgICAgIC8vIEhhbmRsZSBib3RoIGBcImtleVwiLCB2YWx1ZWAgYW5kIGB7a2V5OiB2YWx1ZX1gIC1zdHlsZSBhcmd1bWVudHMuXG4gICAgICB2YXIgYXR0cnM7XG4gICAgICBpZiAoa2V5ID09IG51bGwgfHwgdHlwZW9mIGtleSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgYXR0cnMgPSBrZXk7XG4gICAgICAgIG9wdGlvbnMgPSB2YWw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAoYXR0cnMgPSB7fSlba2V5XSA9IHZhbDtcbiAgICAgIH1cblxuICAgICAgb3B0aW9ucyA9IF8uZXh0ZW5kKHt2YWxpZGF0ZTogdHJ1ZSwgcGFyc2U6IHRydWV9LCBvcHRpb25zKTtcbiAgICAgIHZhciB3YWl0ID0gb3B0aW9ucy53YWl0O1xuXG4gICAgICAvLyBJZiB3ZSdyZSBub3Qgd2FpdGluZyBhbmQgYXR0cmlidXRlcyBleGlzdCwgc2F2ZSBhY3RzIGFzXG4gICAgICAvLyBgc2V0KGF0dHIpLnNhdmUobnVsbCwgb3B0cylgIHdpdGggdmFsaWRhdGlvbi4gT3RoZXJ3aXNlLCBjaGVjayBpZlxuICAgICAgLy8gdGhlIG1vZGVsIHdpbGwgYmUgdmFsaWQgd2hlbiB0aGUgYXR0cmlidXRlcywgaWYgYW55LCBhcmUgc2V0LlxuICAgICAgaWYgKGF0dHJzICYmICF3YWl0KSB7XG4gICAgICAgIGlmICghdGhpcy5zZXQoYXR0cnMsIG9wdGlvbnMpKSByZXR1cm4gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIXRoaXMuX3ZhbGlkYXRlKGF0dHJzLCBvcHRpb25zKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvLyBBZnRlciBhIHN1Y2Nlc3NmdWwgc2VydmVyLXNpZGUgc2F2ZSwgdGhlIGNsaWVudCBpcyAob3B0aW9uYWxseSlcbiAgICAgIC8vIHVwZGF0ZWQgd2l0aCB0aGUgc2VydmVyLXNpZGUgc3RhdGUuXG4gICAgICB2YXIgbW9kZWwgPSB0aGlzO1xuICAgICAgdmFyIHN1Y2Nlc3MgPSBvcHRpb25zLnN1Y2Nlc3M7XG4gICAgICB2YXIgYXR0cmlidXRlcyA9IHRoaXMuYXR0cmlidXRlcztcbiAgICAgIG9wdGlvbnMuc3VjY2VzcyA9IGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgLy8gRW5zdXJlIGF0dHJpYnV0ZXMgYXJlIHJlc3RvcmVkIGR1cmluZyBzeW5jaHJvbm91cyBzYXZlcy5cbiAgICAgICAgbW9kZWwuYXR0cmlidXRlcyA9IGF0dHJpYnV0ZXM7XG4gICAgICAgIHZhciBzZXJ2ZXJBdHRycyA9IG9wdGlvbnMucGFyc2UgPyBtb2RlbC5wYXJzZShyZXNwLCBvcHRpb25zKSA6IHJlc3A7XG4gICAgICAgIGlmICh3YWl0KSBzZXJ2ZXJBdHRycyA9IF8uZXh0ZW5kKHt9LCBhdHRycywgc2VydmVyQXR0cnMpO1xuICAgICAgICBpZiAoc2VydmVyQXR0cnMgJiYgIW1vZGVsLnNldChzZXJ2ZXJBdHRycywgb3B0aW9ucykpIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKHN1Y2Nlc3MpIHN1Y2Nlc3MuY2FsbChvcHRpb25zLmNvbnRleHQsIG1vZGVsLCByZXNwLCBvcHRpb25zKTtcbiAgICAgICAgbW9kZWwudHJpZ2dlcignc3luYycsIG1vZGVsLCByZXNwLCBvcHRpb25zKTtcbiAgICAgIH07XG4gICAgICB3cmFwRXJyb3IodGhpcywgb3B0aW9ucyk7XG5cbiAgICAgIC8vIFNldCB0ZW1wb3JhcnkgYXR0cmlidXRlcyBpZiBge3dhaXQ6IHRydWV9YCB0byBwcm9wZXJseSBmaW5kIG5ldyBpZHMuXG4gICAgICBpZiAoYXR0cnMgJiYgd2FpdCkgdGhpcy5hdHRyaWJ1dGVzID0gXy5leHRlbmQoe30sIGF0dHJpYnV0ZXMsIGF0dHJzKTtcblxuICAgICAgdmFyIG1ldGhvZCA9IHRoaXMuaXNOZXcoKSA/ICdjcmVhdGUnIDogKG9wdGlvbnMucGF0Y2ggPyAncGF0Y2gnIDogJ3VwZGF0ZScpO1xuICAgICAgaWYgKG1ldGhvZCA9PT0gJ3BhdGNoJyAmJiAhb3B0aW9ucy5hdHRycykgb3B0aW9ucy5hdHRycyA9IGF0dHJzO1xuICAgICAgdmFyIHhociA9IHRoaXMuc3luYyhtZXRob2QsIHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgICAvLyBSZXN0b3JlIGF0dHJpYnV0ZXMuXG4gICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzO1xuXG4gICAgICByZXR1cm4geGhyO1xuICAgIH0sXG5cbiAgICAvLyBEZXN0cm95IHRoaXMgbW9kZWwgb24gdGhlIHNlcnZlciBpZiBpdCB3YXMgYWxyZWFkeSBwZXJzaXN0ZWQuXG4gICAgLy8gT3B0aW1pc3RpY2FsbHkgcmVtb3ZlcyB0aGUgbW9kZWwgZnJvbSBpdHMgY29sbGVjdGlvbiwgaWYgaXQgaGFzIG9uZS5cbiAgICAvLyBJZiBgd2FpdDogdHJ1ZWAgaXMgcGFzc2VkLCB3YWl0cyBmb3IgdGhlIHNlcnZlciB0byByZXNwb25kIGJlZm9yZSByZW1vdmFsLlxuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSBvcHRpb25zID8gXy5jbG9uZShvcHRpb25zKSA6IHt9O1xuICAgICAgdmFyIG1vZGVsID0gdGhpcztcbiAgICAgIHZhciBzdWNjZXNzID0gb3B0aW9ucy5zdWNjZXNzO1xuICAgICAgdmFyIHdhaXQgPSBvcHRpb25zLndhaXQ7XG5cbiAgICAgIHZhciBkZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIG1vZGVsLnN0b3BMaXN0ZW5pbmcoKTtcbiAgICAgICAgbW9kZWwudHJpZ2dlcignZGVzdHJveScsIG1vZGVsLCBtb2RlbC5jb2xsZWN0aW9uLCBvcHRpb25zKTtcbiAgICAgIH07XG5cbiAgICAgIG9wdGlvbnMuc3VjY2VzcyA9IGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgaWYgKHdhaXQpIGRlc3Ryb3koKTtcbiAgICAgICAgaWYgKHN1Y2Nlc3MpIHN1Y2Nlc3MuY2FsbChvcHRpb25zLmNvbnRleHQsIG1vZGVsLCByZXNwLCBvcHRpb25zKTtcbiAgICAgICAgaWYgKCFtb2RlbC5pc05ldygpKSBtb2RlbC50cmlnZ2VyKCdzeW5jJywgbW9kZWwsIHJlc3AsIG9wdGlvbnMpO1xuICAgICAgfTtcblxuICAgICAgdmFyIHhociA9IGZhbHNlO1xuICAgICAgaWYgKHRoaXMuaXNOZXcoKSkge1xuICAgICAgICBfLmRlZmVyKG9wdGlvbnMuc3VjY2Vzcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3cmFwRXJyb3IodGhpcywgb3B0aW9ucyk7XG4gICAgICAgIHhociA9IHRoaXMuc3luYygnZGVsZXRlJywgdGhpcywgb3B0aW9ucyk7XG4gICAgICB9XG4gICAgICBpZiAoIXdhaXQpIGRlc3Ryb3koKTtcbiAgICAgIHJldHVybiB4aHI7XG4gICAgfSxcblxuICAgIC8vIERlZmF1bHQgVVJMIGZvciB0aGUgbW9kZWwncyByZXByZXNlbnRhdGlvbiBvbiB0aGUgc2VydmVyIC0tIGlmIHlvdSdyZVxuICAgIC8vIHVzaW5nIEJhY2tib25lJ3MgcmVzdGZ1bCBtZXRob2RzLCBvdmVycmlkZSB0aGlzIHRvIGNoYW5nZSB0aGUgZW5kcG9pbnRcbiAgICAvLyB0aGF0IHdpbGwgYmUgY2FsbGVkLlxuICAgIHVybDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgYmFzZSA9XG4gICAgICAgIF8ucmVzdWx0KHRoaXMsICd1cmxSb290JykgfHxcbiAgICAgICAgXy5yZXN1bHQodGhpcy5jb2xsZWN0aW9uLCAndXJsJykgfHxcbiAgICAgICAgdXJsRXJyb3IoKTtcbiAgICAgIGlmICh0aGlzLmlzTmV3KCkpIHJldHVybiBiYXNlO1xuICAgICAgdmFyIGlkID0gdGhpcy5nZXQodGhpcy5pZEF0dHJpYnV0ZSk7XG4gICAgICByZXR1cm4gYmFzZS5yZXBsYWNlKC9bXlxcL10kLywgJyQmLycpICsgZW5jb2RlVVJJQ29tcG9uZW50KGlkKTtcbiAgICB9LFxuXG4gICAgLy8gKipwYXJzZSoqIGNvbnZlcnRzIGEgcmVzcG9uc2UgaW50byB0aGUgaGFzaCBvZiBhdHRyaWJ1dGVzIHRvIGJlIGBzZXRgIG9uXG4gICAgLy8gdGhlIG1vZGVsLiBUaGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBpcyBqdXN0IHRvIHBhc3MgdGhlIHJlc3BvbnNlIGFsb25nLlxuICAgIHBhcnNlOiBmdW5jdGlvbihyZXNwLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gcmVzcDtcbiAgICB9LFxuXG4gICAgLy8gQ3JlYXRlIGEgbmV3IG1vZGVsIHdpdGggaWRlbnRpY2FsIGF0dHJpYnV0ZXMgdG8gdGhpcyBvbmUuXG4gICAgY2xvbmU6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuYXR0cmlidXRlcyk7XG4gICAgfSxcblxuICAgIC8vIEEgbW9kZWwgaXMgbmV3IGlmIGl0IGhhcyBuZXZlciBiZWVuIHNhdmVkIHRvIHRoZSBzZXJ2ZXIsIGFuZCBsYWNrcyBhbiBpZC5cbiAgICBpc05ldzogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gIXRoaXMuaGFzKHRoaXMuaWRBdHRyaWJ1dGUpO1xuICAgIH0sXG5cbiAgICAvLyBDaGVjayBpZiB0aGUgbW9kZWwgaXMgY3VycmVudGx5IGluIGEgdmFsaWQgc3RhdGUuXG4gICAgaXNWYWxpZDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMuX3ZhbGlkYXRlKHt9LCBfLmRlZmF1bHRzKHt2YWxpZGF0ZTogdHJ1ZX0sIG9wdGlvbnMpKTtcbiAgICB9LFxuXG4gICAgLy8gUnVuIHZhbGlkYXRpb24gYWdhaW5zdCB0aGUgbmV4dCBjb21wbGV0ZSBzZXQgb2YgbW9kZWwgYXR0cmlidXRlcyxcbiAgICAvLyByZXR1cm5pbmcgYHRydWVgIGlmIGFsbCBpcyB3ZWxsLiBPdGhlcndpc2UsIGZpcmUgYW4gYFwiaW52YWxpZFwiYCBldmVudC5cbiAgICBfdmFsaWRhdGU6IGZ1bmN0aW9uKGF0dHJzLCBvcHRpb25zKSB7XG4gICAgICBpZiAoIW9wdGlvbnMudmFsaWRhdGUgfHwgIXRoaXMudmFsaWRhdGUpIHJldHVybiB0cnVlO1xuICAgICAgYXR0cnMgPSBfLmV4dGVuZCh7fSwgdGhpcy5hdHRyaWJ1dGVzLCBhdHRycyk7XG4gICAgICB2YXIgZXJyb3IgPSB0aGlzLnZhbGlkYXRpb25FcnJvciA9IHRoaXMudmFsaWRhdGUoYXR0cnMsIG9wdGlvbnMpIHx8IG51bGw7XG4gICAgICBpZiAoIWVycm9yKSByZXR1cm4gdHJ1ZTtcbiAgICAgIHRoaXMudHJpZ2dlcignaW52YWxpZCcsIHRoaXMsIGVycm9yLCBfLmV4dGVuZChvcHRpb25zLCB7dmFsaWRhdGlvbkVycm9yOiBlcnJvcn0pKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgfSk7XG5cbiAgLy8gVW5kZXJzY29yZSBtZXRob2RzIHRoYXQgd2Ugd2FudCB0byBpbXBsZW1lbnQgb24gdGhlIE1vZGVsLCBtYXBwZWQgdG8gdGhlXG4gIC8vIG51bWJlciBvZiBhcmd1bWVudHMgdGhleSB0YWtlLlxuICB2YXIgbW9kZWxNZXRob2RzID0geyBrZXlzOiAxLCB2YWx1ZXM6IDEsIHBhaXJzOiAxLCBpbnZlcnQ6IDEsIHBpY2s6IDAsXG4gICAgICBvbWl0OiAwLCBjaGFpbjogMSwgaXNFbXB0eTogMSB9O1xuXG4gIC8vIE1peCBpbiBlYWNoIFVuZGVyc2NvcmUgbWV0aG9kIGFzIGEgcHJveHkgdG8gYE1vZGVsI2F0dHJpYnV0ZXNgLlxuICBhZGRVbmRlcnNjb3JlTWV0aG9kcyhNb2RlbCwgbW9kZWxNZXRob2RzLCAnYXR0cmlidXRlcycpO1xuXG4gIC8vIEJhY2tib25lLkNvbGxlY3Rpb25cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIElmIG1vZGVscyB0ZW5kIHRvIHJlcHJlc2VudCBhIHNpbmdsZSByb3cgb2YgZGF0YSwgYSBCYWNrYm9uZSBDb2xsZWN0aW9uIGlzXG4gIC8vIG1vcmUgYW5hbG9nb3VzIHRvIGEgdGFibGUgZnVsbCBvZiBkYXRhIC4uLiBvciBhIHNtYWxsIHNsaWNlIG9yIHBhZ2Ugb2YgdGhhdFxuICAvLyB0YWJsZSwgb3IgYSBjb2xsZWN0aW9uIG9mIHJvd3MgdGhhdCBiZWxvbmcgdG9nZXRoZXIgZm9yIGEgcGFydGljdWxhciByZWFzb25cbiAgLy8gLS0gYWxsIG9mIHRoZSBtZXNzYWdlcyBpbiB0aGlzIHBhcnRpY3VsYXIgZm9sZGVyLCBhbGwgb2YgdGhlIGRvY3VtZW50c1xuICAvLyBiZWxvbmdpbmcgdG8gdGhpcyBwYXJ0aWN1bGFyIGF1dGhvciwgYW5kIHNvIG9uLiBDb2xsZWN0aW9ucyBtYWludGFpblxuICAvLyBpbmRleGVzIG9mIHRoZWlyIG1vZGVscywgYm90aCBpbiBvcmRlciwgYW5kIGZvciBsb29rdXAgYnkgYGlkYC5cblxuICAvLyBDcmVhdGUgYSBuZXcgKipDb2xsZWN0aW9uKiosIHBlcmhhcHMgdG8gY29udGFpbiBhIHNwZWNpZmljIHR5cGUgb2YgYG1vZGVsYC5cbiAgLy8gSWYgYSBgY29tcGFyYXRvcmAgaXMgc3BlY2lmaWVkLCB0aGUgQ29sbGVjdGlvbiB3aWxsIG1haW50YWluXG4gIC8vIGl0cyBtb2RlbHMgaW4gc29ydCBvcmRlciwgYXMgdGhleSdyZSBhZGRlZCBhbmQgcmVtb3ZlZC5cbiAgdmFyIENvbGxlY3Rpb24gPSBCYWNrYm9uZS5Db2xsZWN0aW9uID0gZnVuY3Rpb24obW9kZWxzLCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyB8fCAob3B0aW9ucyA9IHt9KTtcbiAgICBpZiAob3B0aW9ucy5tb2RlbCkgdGhpcy5tb2RlbCA9IG9wdGlvbnMubW9kZWw7XG4gICAgaWYgKG9wdGlvbnMuY29tcGFyYXRvciAhPT0gdm9pZCAwKSB0aGlzLmNvbXBhcmF0b3IgPSBvcHRpb25zLmNvbXBhcmF0b3I7XG4gICAgdGhpcy5fcmVzZXQoKTtcbiAgICB0aGlzLmluaXRpYWxpemUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICBpZiAobW9kZWxzKSB0aGlzLnJlc2V0KG1vZGVscywgXy5leHRlbmQoe3NpbGVudDogdHJ1ZX0sIG9wdGlvbnMpKTtcbiAgfTtcblxuICAvLyBEZWZhdWx0IG9wdGlvbnMgZm9yIGBDb2xsZWN0aW9uI3NldGAuXG4gIHZhciBzZXRPcHRpb25zID0ge2FkZDogdHJ1ZSwgcmVtb3ZlOiB0cnVlLCBtZXJnZTogdHJ1ZX07XG4gIHZhciBhZGRPcHRpb25zID0ge2FkZDogdHJ1ZSwgcmVtb3ZlOiBmYWxzZX07XG5cbiAgLy8gU3BsaWNlcyBgaW5zZXJ0YCBpbnRvIGBhcnJheWAgYXQgaW5kZXggYGF0YC5cbiAgdmFyIHNwbGljZSA9IGZ1bmN0aW9uKGFycmF5LCBpbnNlcnQsIGF0KSB7XG4gICAgYXQgPSBNYXRoLm1pbihNYXRoLm1heChhdCwgMCksIGFycmF5Lmxlbmd0aCk7XG4gICAgdmFyIHRhaWwgPSBBcnJheShhcnJheS5sZW5ndGggLSBhdCk7XG4gICAgdmFyIGxlbmd0aCA9IGluc2VydC5sZW5ndGg7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0YWlsLmxlbmd0aDsgaSsrKSB0YWlsW2ldID0gYXJyYXlbaSArIGF0XTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIGFycmF5W2kgKyBhdF0gPSBpbnNlcnRbaV07XG4gICAgZm9yIChpID0gMDsgaSA8IHRhaWwubGVuZ3RoOyBpKyspIGFycmF5W2kgKyBsZW5ndGggKyBhdF0gPSB0YWlsW2ldO1xuICB9O1xuXG4gIC8vIERlZmluZSB0aGUgQ29sbGVjdGlvbidzIGluaGVyaXRhYmxlIG1ldGhvZHMuXG4gIF8uZXh0ZW5kKENvbGxlY3Rpb24ucHJvdG90eXBlLCBFdmVudHMsIHtcblxuICAgIC8vIFRoZSBkZWZhdWx0IG1vZGVsIGZvciBhIGNvbGxlY3Rpb24gaXMganVzdCBhICoqQmFja2JvbmUuTW9kZWwqKi5cbiAgICAvLyBUaGlzIHNob3VsZCBiZSBvdmVycmlkZGVuIGluIG1vc3QgY2FzZXMuXG4gICAgbW9kZWw6IE1vZGVsLFxuXG4gICAgLy8gSW5pdGlhbGl6ZSBpcyBhbiBlbXB0eSBmdW5jdGlvbiBieSBkZWZhdWx0LiBPdmVycmlkZSBpdCB3aXRoIHlvdXIgb3duXG4gICAgLy8gaW5pdGlhbGl6YXRpb24gbG9naWMuXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKXt9LFxuXG4gICAgLy8gVGhlIEpTT04gcmVwcmVzZW50YXRpb24gb2YgYSBDb2xsZWN0aW9uIGlzIGFuIGFycmF5IG9mIHRoZVxuICAgIC8vIG1vZGVscycgYXR0cmlidXRlcy5cbiAgICB0b0pTT046IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbihtb2RlbCkgeyByZXR1cm4gbW9kZWwudG9KU09OKG9wdGlvbnMpOyB9KTtcbiAgICB9LFxuXG4gICAgLy8gUHJveHkgYEJhY2tib25lLnN5bmNgIGJ5IGRlZmF1bHQuXG4gICAgc3luYzogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gQmFja2JvbmUuc3luYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH0sXG5cbiAgICAvLyBBZGQgYSBtb2RlbCwgb3IgbGlzdCBvZiBtb2RlbHMgdG8gdGhlIHNldC4gYG1vZGVsc2AgbWF5IGJlIEJhY2tib25lXG4gICAgLy8gTW9kZWxzIG9yIHJhdyBKYXZhU2NyaXB0IG9iamVjdHMgdG8gYmUgY29udmVydGVkIHRvIE1vZGVscywgb3IgYW55XG4gICAgLy8gY29tYmluYXRpb24gb2YgdGhlIHR3by5cbiAgICBhZGQ6IGZ1bmN0aW9uKG1vZGVscywgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMuc2V0KG1vZGVscywgXy5leHRlbmQoe21lcmdlOiBmYWxzZX0sIG9wdGlvbnMsIGFkZE9wdGlvbnMpKTtcbiAgICB9LFxuXG4gICAgLy8gUmVtb3ZlIGEgbW9kZWwsIG9yIGEgbGlzdCBvZiBtb2RlbHMgZnJvbSB0aGUgc2V0LlxuICAgIHJlbW92ZTogZnVuY3Rpb24obW9kZWxzLCBvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0gXy5leHRlbmQoe30sIG9wdGlvbnMpO1xuICAgICAgdmFyIHNpbmd1bGFyID0gIV8uaXNBcnJheShtb2RlbHMpO1xuICAgICAgbW9kZWxzID0gc2luZ3VsYXIgPyBbbW9kZWxzXSA6IF8uY2xvbmUobW9kZWxzKTtcbiAgICAgIHZhciByZW1vdmVkID0gdGhpcy5fcmVtb3ZlTW9kZWxzKG1vZGVscywgb3B0aW9ucyk7XG4gICAgICBpZiAoIW9wdGlvbnMuc2lsZW50ICYmIHJlbW92ZWQpIHRoaXMudHJpZ2dlcigndXBkYXRlJywgdGhpcywgb3B0aW9ucyk7XG4gICAgICByZXR1cm4gc2luZ3VsYXIgPyByZW1vdmVkWzBdIDogcmVtb3ZlZDtcbiAgICB9LFxuXG4gICAgLy8gVXBkYXRlIGEgY29sbGVjdGlvbiBieSBgc2V0YC1pbmcgYSBuZXcgbGlzdCBvZiBtb2RlbHMsIGFkZGluZyBuZXcgb25lcyxcbiAgICAvLyByZW1vdmluZyBtb2RlbHMgdGhhdCBhcmUgbm8gbG9uZ2VyIHByZXNlbnQsIGFuZCBtZXJnaW5nIG1vZGVscyB0aGF0XG4gICAgLy8gYWxyZWFkeSBleGlzdCBpbiB0aGUgY29sbGVjdGlvbiwgYXMgbmVjZXNzYXJ5LiBTaW1pbGFyIHRvICoqTW9kZWwjc2V0KiosXG4gICAgLy8gdGhlIGNvcmUgb3BlcmF0aW9uIGZvciB1cGRhdGluZyB0aGUgZGF0YSBjb250YWluZWQgYnkgdGhlIGNvbGxlY3Rpb24uXG4gICAgc2V0OiBmdW5jdGlvbihtb2RlbHMsIG9wdGlvbnMpIHtcbiAgICAgIGlmIChtb2RlbHMgPT0gbnVsbCkgcmV0dXJuO1xuXG4gICAgICBvcHRpb25zID0gXy5kZWZhdWx0cyh7fSwgb3B0aW9ucywgc2V0T3B0aW9ucyk7XG4gICAgICBpZiAob3B0aW9ucy5wYXJzZSAmJiAhdGhpcy5faXNNb2RlbChtb2RlbHMpKSBtb2RlbHMgPSB0aGlzLnBhcnNlKG1vZGVscywgb3B0aW9ucyk7XG5cbiAgICAgIHZhciBzaW5ndWxhciA9ICFfLmlzQXJyYXkobW9kZWxzKTtcbiAgICAgIG1vZGVscyA9IHNpbmd1bGFyID8gW21vZGVsc10gOiBtb2RlbHMuc2xpY2UoKTtcblxuICAgICAgdmFyIGF0ID0gb3B0aW9ucy5hdDtcbiAgICAgIGlmIChhdCAhPSBudWxsKSBhdCA9ICthdDtcbiAgICAgIGlmIChhdCA8IDApIGF0ICs9IHRoaXMubGVuZ3RoICsgMTtcblxuICAgICAgdmFyIHNldCA9IFtdO1xuICAgICAgdmFyIHRvQWRkID0gW107XG4gICAgICB2YXIgdG9SZW1vdmUgPSBbXTtcbiAgICAgIHZhciBtb2RlbE1hcCA9IHt9O1xuXG4gICAgICB2YXIgYWRkID0gb3B0aW9ucy5hZGQ7XG4gICAgICB2YXIgbWVyZ2UgPSBvcHRpb25zLm1lcmdlO1xuICAgICAgdmFyIHJlbW92ZSA9IG9wdGlvbnMucmVtb3ZlO1xuXG4gICAgICB2YXIgc29ydCA9IGZhbHNlO1xuICAgICAgdmFyIHNvcnRhYmxlID0gdGhpcy5jb21wYXJhdG9yICYmIChhdCA9PSBudWxsKSAmJiBvcHRpb25zLnNvcnQgIT09IGZhbHNlO1xuICAgICAgdmFyIHNvcnRBdHRyID0gXy5pc1N0cmluZyh0aGlzLmNvbXBhcmF0b3IpID8gdGhpcy5jb21wYXJhdG9yIDogbnVsbDtcblxuICAgICAgLy8gVHVybiBiYXJlIG9iamVjdHMgaW50byBtb2RlbCByZWZlcmVuY2VzLCBhbmQgcHJldmVudCBpbnZhbGlkIG1vZGVsc1xuICAgICAgLy8gZnJvbSBiZWluZyBhZGRlZC5cbiAgICAgIHZhciBtb2RlbDtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbW9kZWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG1vZGVsID0gbW9kZWxzW2ldO1xuXG4gICAgICAgIC8vIElmIGEgZHVwbGljYXRlIGlzIGZvdW5kLCBwcmV2ZW50IGl0IGZyb20gYmVpbmcgYWRkZWQgYW5kXG4gICAgICAgIC8vIG9wdGlvbmFsbHkgbWVyZ2UgaXQgaW50byB0aGUgZXhpc3RpbmcgbW9kZWwuXG4gICAgICAgIHZhciBleGlzdGluZyA9IHRoaXMuZ2V0KG1vZGVsKTtcbiAgICAgICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICAgICAgaWYgKG1lcmdlICYmIG1vZGVsICE9PSBleGlzdGluZykge1xuICAgICAgICAgICAgdmFyIGF0dHJzID0gdGhpcy5faXNNb2RlbChtb2RlbCkgPyBtb2RlbC5hdHRyaWJ1dGVzIDogbW9kZWw7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5wYXJzZSkgYXR0cnMgPSBleGlzdGluZy5wYXJzZShhdHRycywgb3B0aW9ucyk7XG4gICAgICAgICAgICBleGlzdGluZy5zZXQoYXR0cnMsIG9wdGlvbnMpO1xuICAgICAgICAgICAgaWYgKHNvcnRhYmxlICYmICFzb3J0KSBzb3J0ID0gZXhpc3RpbmcuaGFzQ2hhbmdlZChzb3J0QXR0cik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghbW9kZWxNYXBbZXhpc3RpbmcuY2lkXSkge1xuICAgICAgICAgICAgbW9kZWxNYXBbZXhpc3RpbmcuY2lkXSA9IHRydWU7XG4gICAgICAgICAgICBzZXQucHVzaChleGlzdGluZyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1vZGVsc1tpXSA9IGV4aXN0aW5nO1xuXG4gICAgICAgIC8vIElmIHRoaXMgaXMgYSBuZXcsIHZhbGlkIG1vZGVsLCBwdXNoIGl0IHRvIHRoZSBgdG9BZGRgIGxpc3QuXG4gICAgICAgIH0gZWxzZSBpZiAoYWRkKSB7XG4gICAgICAgICAgbW9kZWwgPSBtb2RlbHNbaV0gPSB0aGlzLl9wcmVwYXJlTW9kZWwobW9kZWwsIG9wdGlvbnMpO1xuICAgICAgICAgIGlmIChtb2RlbCkge1xuICAgICAgICAgICAgdG9BZGQucHVzaChtb2RlbCk7XG4gICAgICAgICAgICB0aGlzLl9hZGRSZWZlcmVuY2UobW9kZWwsIG9wdGlvbnMpO1xuICAgICAgICAgICAgbW9kZWxNYXBbbW9kZWwuY2lkXSA9IHRydWU7XG4gICAgICAgICAgICBzZXQucHVzaChtb2RlbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFJlbW92ZSBzdGFsZSBtb2RlbHMuXG4gICAgICBpZiAocmVtb3ZlKSB7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgbW9kZWwgPSB0aGlzLm1vZGVsc1tpXTtcbiAgICAgICAgICBpZiAoIW1vZGVsTWFwW21vZGVsLmNpZF0pIHRvUmVtb3ZlLnB1c2gobW9kZWwpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0b1JlbW92ZS5sZW5ndGgpIHRoaXMuX3JlbW92ZU1vZGVscyh0b1JlbW92ZSwgb3B0aW9ucyk7XG4gICAgICB9XG5cbiAgICAgIC8vIFNlZSBpZiBzb3J0aW5nIGlzIG5lZWRlZCwgdXBkYXRlIGBsZW5ndGhgIGFuZCBzcGxpY2UgaW4gbmV3IG1vZGVscy5cbiAgICAgIHZhciBvcmRlckNoYW5nZWQgPSBmYWxzZTtcbiAgICAgIHZhciByZXBsYWNlID0gIXNvcnRhYmxlICYmIGFkZCAmJiByZW1vdmU7XG4gICAgICBpZiAoc2V0Lmxlbmd0aCAmJiByZXBsYWNlKSB7XG4gICAgICAgIG9yZGVyQ2hhbmdlZCA9IHRoaXMubGVuZ3RoICE9IHNldC5sZW5ndGggfHwgXy5zb21lKHRoaXMubW9kZWxzLCBmdW5jdGlvbihtb2RlbCwgaW5kZXgpIHtcbiAgICAgICAgICByZXR1cm4gbW9kZWwgIT09IHNldFtpbmRleF07XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm1vZGVscy5sZW5ndGggPSAwO1xuICAgICAgICBzcGxpY2UodGhpcy5tb2RlbHMsIHNldCwgMCk7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gdGhpcy5tb2RlbHMubGVuZ3RoO1xuICAgICAgfSBlbHNlIGlmICh0b0FkZC5sZW5ndGgpIHtcbiAgICAgICAgaWYgKHNvcnRhYmxlKSBzb3J0ID0gdHJ1ZTtcbiAgICAgICAgc3BsaWNlKHRoaXMubW9kZWxzLCB0b0FkZCwgYXQgPT0gbnVsbCA/IHRoaXMubGVuZ3RoIDogYXQpO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IHRoaXMubW9kZWxzLmxlbmd0aDtcbiAgICAgIH1cblxuICAgICAgLy8gU2lsZW50bHkgc29ydCB0aGUgY29sbGVjdGlvbiBpZiBhcHByb3ByaWF0ZS5cbiAgICAgIGlmIChzb3J0KSB0aGlzLnNvcnQoe3NpbGVudDogdHJ1ZX0pO1xuXG4gICAgICAvLyBVbmxlc3Mgc2lsZW5jZWQsIGl0J3MgdGltZSB0byBmaXJlIGFsbCBhcHByb3ByaWF0ZSBhZGQvc29ydCBldmVudHMuXG4gICAgICBpZiAoIW9wdGlvbnMuc2lsZW50KSB7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB0b0FkZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChhdCAhPSBudWxsKSBvcHRpb25zLmluZGV4ID0gYXQgKyBpO1xuICAgICAgICAgIG1vZGVsID0gdG9BZGRbaV07XG4gICAgICAgICAgbW9kZWwudHJpZ2dlcignYWRkJywgbW9kZWwsIHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzb3J0IHx8IG9yZGVyQ2hhbmdlZCkgdGhpcy50cmlnZ2VyKCdzb3J0JywgdGhpcywgb3B0aW9ucyk7XG4gICAgICAgIGlmICh0b0FkZC5sZW5ndGggfHwgdG9SZW1vdmUubGVuZ3RoKSB0aGlzLnRyaWdnZXIoJ3VwZGF0ZScsIHRoaXMsIG9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICAvLyBSZXR1cm4gdGhlIGFkZGVkIChvciBtZXJnZWQpIG1vZGVsIChvciBtb2RlbHMpLlxuICAgICAgcmV0dXJuIHNpbmd1bGFyID8gbW9kZWxzWzBdIDogbW9kZWxzO1xuICAgIH0sXG5cbiAgICAvLyBXaGVuIHlvdSBoYXZlIG1vcmUgaXRlbXMgdGhhbiB5b3Ugd2FudCB0byBhZGQgb3IgcmVtb3ZlIGluZGl2aWR1YWxseSxcbiAgICAvLyB5b3UgY2FuIHJlc2V0IHRoZSBlbnRpcmUgc2V0IHdpdGggYSBuZXcgbGlzdCBvZiBtb2RlbHMsIHdpdGhvdXQgZmlyaW5nXG4gICAgLy8gYW55IGdyYW51bGFyIGBhZGRgIG9yIGByZW1vdmVgIGV2ZW50cy4gRmlyZXMgYHJlc2V0YCB3aGVuIGZpbmlzaGVkLlxuICAgIC8vIFVzZWZ1bCBmb3IgYnVsayBvcGVyYXRpb25zIGFuZCBvcHRpbWl6YXRpb25zLlxuICAgIHJlc2V0OiBmdW5jdGlvbihtb2RlbHMsIG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSBvcHRpb25zID8gXy5jbG9uZShvcHRpb25zKSA6IHt9O1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm1vZGVscy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLl9yZW1vdmVSZWZlcmVuY2UodGhpcy5tb2RlbHNbaV0sIG9wdGlvbnMpO1xuICAgICAgfVxuICAgICAgb3B0aW9ucy5wcmV2aW91c01vZGVscyA9IHRoaXMubW9kZWxzO1xuICAgICAgdGhpcy5fcmVzZXQoKTtcbiAgICAgIG1vZGVscyA9IHRoaXMuYWRkKG1vZGVscywgXy5leHRlbmQoe3NpbGVudDogdHJ1ZX0sIG9wdGlvbnMpKTtcbiAgICAgIGlmICghb3B0aW9ucy5zaWxlbnQpIHRoaXMudHJpZ2dlcigncmVzZXQnLCB0aGlzLCBvcHRpb25zKTtcbiAgICAgIHJldHVybiBtb2RlbHM7XG4gICAgfSxcblxuICAgIC8vIEFkZCBhIG1vZGVsIHRvIHRoZSBlbmQgb2YgdGhlIGNvbGxlY3Rpb24uXG4gICAgcHVzaDogZnVuY3Rpb24obW9kZWwsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB0aGlzLmFkZChtb2RlbCwgXy5leHRlbmQoe2F0OiB0aGlzLmxlbmd0aH0sIG9wdGlvbnMpKTtcbiAgICB9LFxuXG4gICAgLy8gUmVtb3ZlIGEgbW9kZWwgZnJvbSB0aGUgZW5kIG9mIHRoZSBjb2xsZWN0aW9uLlxuICAgIHBvcDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdmFyIG1vZGVsID0gdGhpcy5hdCh0aGlzLmxlbmd0aCAtIDEpO1xuICAgICAgcmV0dXJuIHRoaXMucmVtb3ZlKG1vZGVsLCBvcHRpb25zKTtcbiAgICB9LFxuXG4gICAgLy8gQWRkIGEgbW9kZWwgdG8gdGhlIGJlZ2lubmluZyBvZiB0aGUgY29sbGVjdGlvbi5cbiAgICB1bnNoaWZ0OiBmdW5jdGlvbihtb2RlbCwgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMuYWRkKG1vZGVsLCBfLmV4dGVuZCh7YXQ6IDB9LCBvcHRpb25zKSk7XG4gICAgfSxcblxuICAgIC8vIFJlbW92ZSBhIG1vZGVsIGZyb20gdGhlIGJlZ2lubmluZyBvZiB0aGUgY29sbGVjdGlvbi5cbiAgICBzaGlmdDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdmFyIG1vZGVsID0gdGhpcy5hdCgwKTtcbiAgICAgIHJldHVybiB0aGlzLnJlbW92ZShtb2RlbCwgb3B0aW9ucyk7XG4gICAgfSxcblxuICAgIC8vIFNsaWNlIG91dCBhIHN1Yi1hcnJheSBvZiBtb2RlbHMgZnJvbSB0aGUgY29sbGVjdGlvbi5cbiAgICBzbGljZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gc2xpY2UuYXBwbHkodGhpcy5tb2RlbHMsIGFyZ3VtZW50cyk7XG4gICAgfSxcblxuICAgIC8vIEdldCBhIG1vZGVsIGZyb20gdGhlIHNldCBieSBpZC5cbiAgICBnZXQ6IGZ1bmN0aW9uKG9iaikge1xuICAgICAgaWYgKG9iaiA9PSBudWxsKSByZXR1cm4gdm9pZCAwO1xuICAgICAgdmFyIGlkID0gdGhpcy5tb2RlbElkKHRoaXMuX2lzTW9kZWwob2JqKSA/IG9iai5hdHRyaWJ1dGVzIDogb2JqKTtcbiAgICAgIHJldHVybiB0aGlzLl9ieUlkW29ial0gfHwgdGhpcy5fYnlJZFtpZF0gfHwgdGhpcy5fYnlJZFtvYmouY2lkXTtcbiAgICB9LFxuXG4gICAgLy8gR2V0IHRoZSBtb2RlbCBhdCB0aGUgZ2l2ZW4gaW5kZXguXG4gICAgYXQ6IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICBpZiAoaW5kZXggPCAwKSBpbmRleCArPSB0aGlzLmxlbmd0aDtcbiAgICAgIHJldHVybiB0aGlzLm1vZGVsc1tpbmRleF07XG4gICAgfSxcblxuICAgIC8vIFJldHVybiBtb2RlbHMgd2l0aCBtYXRjaGluZyBhdHRyaWJ1dGVzLiBVc2VmdWwgZm9yIHNpbXBsZSBjYXNlcyBvZlxuICAgIC8vIGBmaWx0ZXJgLlxuICAgIHdoZXJlOiBmdW5jdGlvbihhdHRycywgZmlyc3QpIHtcbiAgICAgIHJldHVybiB0aGlzW2ZpcnN0ID8gJ2ZpbmQnIDogJ2ZpbHRlciddKGF0dHJzKTtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJuIHRoZSBmaXJzdCBtb2RlbCB3aXRoIG1hdGNoaW5nIGF0dHJpYnV0ZXMuIFVzZWZ1bCBmb3Igc2ltcGxlIGNhc2VzXG4gICAgLy8gb2YgYGZpbmRgLlxuICAgIGZpbmRXaGVyZTogZnVuY3Rpb24oYXR0cnMpIHtcbiAgICAgIHJldHVybiB0aGlzLndoZXJlKGF0dHJzLCB0cnVlKTtcbiAgICB9LFxuXG4gICAgLy8gRm9yY2UgdGhlIGNvbGxlY3Rpb24gdG8gcmUtc29ydCBpdHNlbGYuIFlvdSBkb24ndCBuZWVkIHRvIGNhbGwgdGhpcyB1bmRlclxuICAgIC8vIG5vcm1hbCBjaXJjdW1zdGFuY2VzLCBhcyB0aGUgc2V0IHdpbGwgbWFpbnRhaW4gc29ydCBvcmRlciBhcyBlYWNoIGl0ZW1cbiAgICAvLyBpcyBhZGRlZC5cbiAgICBzb3J0OiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICB2YXIgY29tcGFyYXRvciA9IHRoaXMuY29tcGFyYXRvcjtcbiAgICAgIGlmICghY29tcGFyYXRvcikgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3Qgc29ydCBhIHNldCB3aXRob3V0IGEgY29tcGFyYXRvcicpO1xuICAgICAgb3B0aW9ucyB8fCAob3B0aW9ucyA9IHt9KTtcblxuICAgICAgdmFyIGxlbmd0aCA9IGNvbXBhcmF0b3IubGVuZ3RoO1xuICAgICAgaWYgKF8uaXNGdW5jdGlvbihjb21wYXJhdG9yKSkgY29tcGFyYXRvciA9IF8uYmluZChjb21wYXJhdG9yLCB0aGlzKTtcblxuICAgICAgLy8gUnVuIHNvcnQgYmFzZWQgb24gdHlwZSBvZiBgY29tcGFyYXRvcmAuXG4gICAgICBpZiAobGVuZ3RoID09PSAxIHx8IF8uaXNTdHJpbmcoY29tcGFyYXRvcikpIHtcbiAgICAgICAgdGhpcy5tb2RlbHMgPSB0aGlzLnNvcnRCeShjb21wYXJhdG9yKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubW9kZWxzLnNvcnQoY29tcGFyYXRvcik7XG4gICAgICB9XG4gICAgICBpZiAoIW9wdGlvbnMuc2lsZW50KSB0aGlzLnRyaWdnZXIoJ3NvcnQnLCB0aGlzLCBvcHRpb25zKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvLyBQbHVjayBhbiBhdHRyaWJ1dGUgZnJvbSBlYWNoIG1vZGVsIGluIHRoZSBjb2xsZWN0aW9uLlxuICAgIHBsdWNrOiBmdW5jdGlvbihhdHRyKSB7XG4gICAgICByZXR1cm4gXy5pbnZva2UodGhpcy5tb2RlbHMsICdnZXQnLCBhdHRyKTtcbiAgICB9LFxuXG4gICAgLy8gRmV0Y2ggdGhlIGRlZmF1bHQgc2V0IG9mIG1vZGVscyBmb3IgdGhpcyBjb2xsZWN0aW9uLCByZXNldHRpbmcgdGhlXG4gICAgLy8gY29sbGVjdGlvbiB3aGVuIHRoZXkgYXJyaXZlLiBJZiBgcmVzZXQ6IHRydWVgIGlzIHBhc3NlZCwgdGhlIHJlc3BvbnNlXG4gICAgLy8gZGF0YSB3aWxsIGJlIHBhc3NlZCB0aHJvdWdoIHRoZSBgcmVzZXRgIG1ldGhvZCBpbnN0ZWFkIG9mIGBzZXRgLlxuICAgIGZldGNoOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0gXy5leHRlbmQoe3BhcnNlOiB0cnVlfSwgb3B0aW9ucyk7XG4gICAgICB2YXIgc3VjY2VzcyA9IG9wdGlvbnMuc3VjY2VzcztcbiAgICAgIHZhciBjb2xsZWN0aW9uID0gdGhpcztcbiAgICAgIG9wdGlvbnMuc3VjY2VzcyA9IGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgdmFyIG1ldGhvZCA9IG9wdGlvbnMucmVzZXQgPyAncmVzZXQnIDogJ3NldCc7XG4gICAgICAgIGNvbGxlY3Rpb25bbWV0aG9kXShyZXNwLCBvcHRpb25zKTtcbiAgICAgICAgaWYgKHN1Y2Nlc3MpIHN1Y2Nlc3MuY2FsbChvcHRpb25zLmNvbnRleHQsIGNvbGxlY3Rpb24sIHJlc3AsIG9wdGlvbnMpO1xuICAgICAgICBjb2xsZWN0aW9uLnRyaWdnZXIoJ3N5bmMnLCBjb2xsZWN0aW9uLCByZXNwLCBvcHRpb25zKTtcbiAgICAgIH07XG4gICAgICB3cmFwRXJyb3IodGhpcywgb3B0aW9ucyk7XG4gICAgICByZXR1cm4gdGhpcy5zeW5jKCdyZWFkJywgdGhpcywgb3B0aW9ucyk7XG4gICAgfSxcblxuICAgIC8vIENyZWF0ZSBhIG5ldyBpbnN0YW5jZSBvZiBhIG1vZGVsIGluIHRoaXMgY29sbGVjdGlvbi4gQWRkIHRoZSBtb2RlbCB0byB0aGVcbiAgICAvLyBjb2xsZWN0aW9uIGltbWVkaWF0ZWx5LCB1bmxlc3MgYHdhaXQ6IHRydWVgIGlzIHBhc3NlZCwgaW4gd2hpY2ggY2FzZSB3ZVxuICAgIC8vIHdhaXQgZm9yIHRoZSBzZXJ2ZXIgdG8gYWdyZWUuXG4gICAgY3JlYXRlOiBmdW5jdGlvbihtb2RlbCwgb3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgPyBfLmNsb25lKG9wdGlvbnMpIDoge307XG4gICAgICB2YXIgd2FpdCA9IG9wdGlvbnMud2FpdDtcbiAgICAgIG1vZGVsID0gdGhpcy5fcHJlcGFyZU1vZGVsKG1vZGVsLCBvcHRpb25zKTtcbiAgICAgIGlmICghbW9kZWwpIHJldHVybiBmYWxzZTtcbiAgICAgIGlmICghd2FpdCkgdGhpcy5hZGQobW9kZWwsIG9wdGlvbnMpO1xuICAgICAgdmFyIGNvbGxlY3Rpb24gPSB0aGlzO1xuICAgICAgdmFyIHN1Y2Nlc3MgPSBvcHRpb25zLnN1Y2Nlc3M7XG4gICAgICBvcHRpb25zLnN1Y2Nlc3MgPSBmdW5jdGlvbihtb2RlbCwgcmVzcCwgY2FsbGJhY2tPcHRzKSB7XG4gICAgICAgIGlmICh3YWl0KSBjb2xsZWN0aW9uLmFkZChtb2RlbCwgY2FsbGJhY2tPcHRzKTtcbiAgICAgICAgaWYgKHN1Y2Nlc3MpIHN1Y2Nlc3MuY2FsbChjYWxsYmFja09wdHMuY29udGV4dCwgbW9kZWwsIHJlc3AsIGNhbGxiYWNrT3B0cyk7XG4gICAgICB9O1xuICAgICAgbW9kZWwuc2F2ZShudWxsLCBvcHRpb25zKTtcbiAgICAgIHJldHVybiBtb2RlbDtcbiAgICB9LFxuXG4gICAgLy8gKipwYXJzZSoqIGNvbnZlcnRzIGEgcmVzcG9uc2UgaW50byBhIGxpc3Qgb2YgbW9kZWxzIHRvIGJlIGFkZGVkIHRvIHRoZVxuICAgIC8vIGNvbGxlY3Rpb24uIFRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIGlzIGp1c3QgdG8gcGFzcyBpdCB0aHJvdWdoLlxuICAgIHBhcnNlOiBmdW5jdGlvbihyZXNwLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gcmVzcDtcbiAgICB9LFxuXG4gICAgLy8gQ3JlYXRlIGEgbmV3IGNvbGxlY3Rpb24gd2l0aCBhbiBpZGVudGljYWwgbGlzdCBvZiBtb2RlbHMgYXMgdGhpcyBvbmUuXG4gICAgY2xvbmU6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMubW9kZWxzLCB7XG4gICAgICAgIG1vZGVsOiB0aGlzLm1vZGVsLFxuICAgICAgICBjb21wYXJhdG9yOiB0aGlzLmNvbXBhcmF0b3JcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvLyBEZWZpbmUgaG93IHRvIHVuaXF1ZWx5IGlkZW50aWZ5IG1vZGVscyBpbiB0aGUgY29sbGVjdGlvbi5cbiAgICBtb2RlbElkOiBmdW5jdGlvbiAoYXR0cnMpIHtcbiAgICAgIHJldHVybiBhdHRyc1t0aGlzLm1vZGVsLnByb3RvdHlwZS5pZEF0dHJpYnV0ZSB8fCAnaWQnXTtcbiAgICB9LFxuXG4gICAgLy8gUHJpdmF0ZSBtZXRob2QgdG8gcmVzZXQgYWxsIGludGVybmFsIHN0YXRlLiBDYWxsZWQgd2hlbiB0aGUgY29sbGVjdGlvblxuICAgIC8vIGlzIGZpcnN0IGluaXRpYWxpemVkIG9yIHJlc2V0LlxuICAgIF9yZXNldDogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmxlbmd0aCA9IDA7XG4gICAgICB0aGlzLm1vZGVscyA9IFtdO1xuICAgICAgdGhpcy5fYnlJZCAgPSB7fTtcbiAgICB9LFxuXG4gICAgLy8gUHJlcGFyZSBhIGhhc2ggb2YgYXR0cmlidXRlcyAob3Igb3RoZXIgbW9kZWwpIHRvIGJlIGFkZGVkIHRvIHRoaXNcbiAgICAvLyBjb2xsZWN0aW9uLlxuICAgIF9wcmVwYXJlTW9kZWw6IGZ1bmN0aW9uKGF0dHJzLCBvcHRpb25zKSB7XG4gICAgICBpZiAodGhpcy5faXNNb2RlbChhdHRycykpIHtcbiAgICAgICAgaWYgKCFhdHRycy5jb2xsZWN0aW9uKSBhdHRycy5jb2xsZWN0aW9uID0gdGhpcztcbiAgICAgICAgcmV0dXJuIGF0dHJzO1xuICAgICAgfVxuICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgPyBfLmNsb25lKG9wdGlvbnMpIDoge307XG4gICAgICBvcHRpb25zLmNvbGxlY3Rpb24gPSB0aGlzO1xuICAgICAgdmFyIG1vZGVsID0gbmV3IHRoaXMubW9kZWwoYXR0cnMsIG9wdGlvbnMpO1xuICAgICAgaWYgKCFtb2RlbC52YWxpZGF0aW9uRXJyb3IpIHJldHVybiBtb2RlbDtcbiAgICAgIHRoaXMudHJpZ2dlcignaW52YWxpZCcsIHRoaXMsIG1vZGVsLnZhbGlkYXRpb25FcnJvciwgb3B0aW9ucyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIC8vIEludGVybmFsIG1ldGhvZCBjYWxsZWQgYnkgYm90aCByZW1vdmUgYW5kIHNldC5cbiAgICBfcmVtb3ZlTW9kZWxzOiBmdW5jdGlvbihtb2RlbHMsIG9wdGlvbnMpIHtcbiAgICAgIHZhciByZW1vdmVkID0gW107XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1vZGVscy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgbW9kZWwgPSB0aGlzLmdldChtb2RlbHNbaV0pO1xuICAgICAgICBpZiAoIW1vZGVsKSBjb250aW51ZTtcblxuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmluZGV4T2YobW9kZWwpO1xuICAgICAgICB0aGlzLm1vZGVscy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB0aGlzLmxlbmd0aC0tO1xuXG4gICAgICAgIGlmICghb3B0aW9ucy5zaWxlbnQpIHtcbiAgICAgICAgICBvcHRpb25zLmluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgbW9kZWwudHJpZ2dlcigncmVtb3ZlJywgbW9kZWwsIHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVtb3ZlZC5wdXNoKG1vZGVsKTtcbiAgICAgICAgdGhpcy5fcmVtb3ZlUmVmZXJlbmNlKG1vZGVsLCBvcHRpb25zKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZW1vdmVkLmxlbmd0aCA/IHJlbW92ZWQgOiBmYWxzZTtcbiAgICB9LFxuXG4gICAgLy8gTWV0aG9kIGZvciBjaGVja2luZyB3aGV0aGVyIGFuIG9iamVjdCBzaG91bGQgYmUgY29uc2lkZXJlZCBhIG1vZGVsIGZvclxuICAgIC8vIHRoZSBwdXJwb3NlcyBvZiBhZGRpbmcgdG8gdGhlIGNvbGxlY3Rpb24uXG4gICAgX2lzTW9kZWw6IGZ1bmN0aW9uIChtb2RlbCkge1xuICAgICAgcmV0dXJuIG1vZGVsIGluc3RhbmNlb2YgTW9kZWw7XG4gICAgfSxcblxuICAgIC8vIEludGVybmFsIG1ldGhvZCB0byBjcmVhdGUgYSBtb2RlbCdzIHRpZXMgdG8gYSBjb2xsZWN0aW9uLlxuICAgIF9hZGRSZWZlcmVuY2U6IGZ1bmN0aW9uKG1vZGVsLCBvcHRpb25zKSB7XG4gICAgICB0aGlzLl9ieUlkW21vZGVsLmNpZF0gPSBtb2RlbDtcbiAgICAgIHZhciBpZCA9IHRoaXMubW9kZWxJZChtb2RlbC5hdHRyaWJ1dGVzKTtcbiAgICAgIGlmIChpZCAhPSBudWxsKSB0aGlzLl9ieUlkW2lkXSA9IG1vZGVsO1xuICAgICAgbW9kZWwub24oJ2FsbCcsIHRoaXMuX29uTW9kZWxFdmVudCwgdGhpcyk7XG4gICAgfSxcblxuICAgIC8vIEludGVybmFsIG1ldGhvZCB0byBzZXZlciBhIG1vZGVsJ3MgdGllcyB0byBhIGNvbGxlY3Rpb24uXG4gICAgX3JlbW92ZVJlZmVyZW5jZTogZnVuY3Rpb24obW9kZWwsIG9wdGlvbnMpIHtcbiAgICAgIGRlbGV0ZSB0aGlzLl9ieUlkW21vZGVsLmNpZF07XG4gICAgICB2YXIgaWQgPSB0aGlzLm1vZGVsSWQobW9kZWwuYXR0cmlidXRlcyk7XG4gICAgICBpZiAoaWQgIT0gbnVsbCkgZGVsZXRlIHRoaXMuX2J5SWRbaWRdO1xuICAgICAgaWYgKHRoaXMgPT09IG1vZGVsLmNvbGxlY3Rpb24pIGRlbGV0ZSBtb2RlbC5jb2xsZWN0aW9uO1xuICAgICAgbW9kZWwub2ZmKCdhbGwnLCB0aGlzLl9vbk1vZGVsRXZlbnQsIHRoaXMpO1xuICAgIH0sXG5cbiAgICAvLyBJbnRlcm5hbCBtZXRob2QgY2FsbGVkIGV2ZXJ5IHRpbWUgYSBtb2RlbCBpbiB0aGUgc2V0IGZpcmVzIGFuIGV2ZW50LlxuICAgIC8vIFNldHMgbmVlZCB0byB1cGRhdGUgdGhlaXIgaW5kZXhlcyB3aGVuIG1vZGVscyBjaGFuZ2UgaWRzLiBBbGwgb3RoZXJcbiAgICAvLyBldmVudHMgc2ltcGx5IHByb3h5IHRocm91Z2guIFwiYWRkXCIgYW5kIFwicmVtb3ZlXCIgZXZlbnRzIHRoYXQgb3JpZ2luYXRlXG4gICAgLy8gaW4gb3RoZXIgY29sbGVjdGlvbnMgYXJlIGlnbm9yZWQuXG4gICAgX29uTW9kZWxFdmVudDogZnVuY3Rpb24oZXZlbnQsIG1vZGVsLCBjb2xsZWN0aW9uLCBvcHRpb25zKSB7XG4gICAgICBpZiAoKGV2ZW50ID09PSAnYWRkJyB8fCBldmVudCA9PT0gJ3JlbW92ZScpICYmIGNvbGxlY3Rpb24gIT09IHRoaXMpIHJldHVybjtcbiAgICAgIGlmIChldmVudCA9PT0gJ2Rlc3Ryb3knKSB0aGlzLnJlbW92ZShtb2RlbCwgb3B0aW9ucyk7XG4gICAgICBpZiAoZXZlbnQgPT09ICdjaGFuZ2UnKSB7XG4gICAgICAgIHZhciBwcmV2SWQgPSB0aGlzLm1vZGVsSWQobW9kZWwucHJldmlvdXNBdHRyaWJ1dGVzKCkpO1xuICAgICAgICB2YXIgaWQgPSB0aGlzLm1vZGVsSWQobW9kZWwuYXR0cmlidXRlcyk7XG4gICAgICAgIGlmIChwcmV2SWQgIT09IGlkKSB7XG4gICAgICAgICAgaWYgKHByZXZJZCAhPSBudWxsKSBkZWxldGUgdGhpcy5fYnlJZFtwcmV2SWRdO1xuICAgICAgICAgIGlmIChpZCAhPSBudWxsKSB0aGlzLl9ieUlkW2lkXSA9IG1vZGVsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLnRyaWdnZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgfSk7XG5cbiAgLy8gVW5kZXJzY29yZSBtZXRob2RzIHRoYXQgd2Ugd2FudCB0byBpbXBsZW1lbnQgb24gdGhlIENvbGxlY3Rpb24uXG4gIC8vIDkwJSBvZiB0aGUgY29yZSB1c2VmdWxuZXNzIG9mIEJhY2tib25lIENvbGxlY3Rpb25zIGlzIGFjdHVhbGx5IGltcGxlbWVudGVkXG4gIC8vIHJpZ2h0IGhlcmU6XG4gIHZhciBjb2xsZWN0aW9uTWV0aG9kcyA9IHsgZm9yRWFjaDogMywgZWFjaDogMywgbWFwOiAzLCBjb2xsZWN0OiAzLCByZWR1Y2U6IDQsXG4gICAgICBmb2xkbDogNCwgaW5qZWN0OiA0LCByZWR1Y2VSaWdodDogNCwgZm9sZHI6IDQsIGZpbmQ6IDMsIGRldGVjdDogMywgZmlsdGVyOiAzLFxuICAgICAgc2VsZWN0OiAzLCByZWplY3Q6IDMsIGV2ZXJ5OiAzLCBhbGw6IDMsIHNvbWU6IDMsIGFueTogMywgaW5jbHVkZTogMywgaW5jbHVkZXM6IDMsXG4gICAgICBjb250YWluczogMywgaW52b2tlOiAwLCBtYXg6IDMsIG1pbjogMywgdG9BcnJheTogMSwgc2l6ZTogMSwgZmlyc3Q6IDMsXG4gICAgICBoZWFkOiAzLCB0YWtlOiAzLCBpbml0aWFsOiAzLCByZXN0OiAzLCB0YWlsOiAzLCBkcm9wOiAzLCBsYXN0OiAzLFxuICAgICAgd2l0aG91dDogMCwgZGlmZmVyZW5jZTogMCwgaW5kZXhPZjogMywgc2h1ZmZsZTogMSwgbGFzdEluZGV4T2Y6IDMsXG4gICAgICBpc0VtcHR5OiAxLCBjaGFpbjogMSwgc2FtcGxlOiAzLCBwYXJ0aXRpb246IDMsIGdyb3VwQnk6IDMsIGNvdW50Qnk6IDMsXG4gICAgICBzb3J0Qnk6IDMsIGluZGV4Qnk6IDN9O1xuXG4gIC8vIE1peCBpbiBlYWNoIFVuZGVyc2NvcmUgbWV0aG9kIGFzIGEgcHJveHkgdG8gYENvbGxlY3Rpb24jbW9kZWxzYC5cbiAgYWRkVW5kZXJzY29yZU1ldGhvZHMoQ29sbGVjdGlvbiwgY29sbGVjdGlvbk1ldGhvZHMsICdtb2RlbHMnKTtcblxuICAvLyBCYWNrYm9uZS5WaWV3XG4gIC8vIC0tLS0tLS0tLS0tLS1cblxuICAvLyBCYWNrYm9uZSBWaWV3cyBhcmUgYWxtb3N0IG1vcmUgY29udmVudGlvbiB0aGFuIHRoZXkgYXJlIGFjdHVhbCBjb2RlLiBBIFZpZXdcbiAgLy8gaXMgc2ltcGx5IGEgSmF2YVNjcmlwdCBvYmplY3QgdGhhdCByZXByZXNlbnRzIGEgbG9naWNhbCBjaHVuayBvZiBVSSBpbiB0aGVcbiAgLy8gRE9NLiBUaGlzIG1pZ2h0IGJlIGEgc2luZ2xlIGl0ZW0sIGFuIGVudGlyZSBsaXN0LCBhIHNpZGViYXIgb3IgcGFuZWwsIG9yXG4gIC8vIGV2ZW4gdGhlIHN1cnJvdW5kaW5nIGZyYW1lIHdoaWNoIHdyYXBzIHlvdXIgd2hvbGUgYXBwLiBEZWZpbmluZyBhIGNodW5rIG9mXG4gIC8vIFVJIGFzIGEgKipWaWV3KiogYWxsb3dzIHlvdSB0byBkZWZpbmUgeW91ciBET00gZXZlbnRzIGRlY2xhcmF0aXZlbHksIHdpdGhvdXRcbiAgLy8gaGF2aW5nIHRvIHdvcnJ5IGFib3V0IHJlbmRlciBvcmRlciAuLi4gYW5kIG1ha2VzIGl0IGVhc3kgZm9yIHRoZSB2aWV3IHRvXG4gIC8vIHJlYWN0IHRvIHNwZWNpZmljIGNoYW5nZXMgaW4gdGhlIHN0YXRlIG9mIHlvdXIgbW9kZWxzLlxuXG4gIC8vIENyZWF0aW5nIGEgQmFja2JvbmUuVmlldyBjcmVhdGVzIGl0cyBpbml0aWFsIGVsZW1lbnQgb3V0c2lkZSBvZiB0aGUgRE9NLFxuICAvLyBpZiBhbiBleGlzdGluZyBlbGVtZW50IGlzIG5vdCBwcm92aWRlZC4uLlxuICB2YXIgVmlldyA9IEJhY2tib25lLlZpZXcgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgdGhpcy5jaWQgPSBfLnVuaXF1ZUlkKCd2aWV3Jyk7XG4gICAgXy5leHRlbmQodGhpcywgXy5waWNrKG9wdGlvbnMsIHZpZXdPcHRpb25zKSk7XG4gICAgdGhpcy5fZW5zdXJlRWxlbWVudCgpO1xuICAgIHRoaXMuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xuXG4gIC8vIENhY2hlZCByZWdleCB0byBzcGxpdCBrZXlzIGZvciBgZGVsZWdhdGVgLlxuICB2YXIgZGVsZWdhdGVFdmVudFNwbGl0dGVyID0gL14oXFxTKylcXHMqKC4qKSQvO1xuXG4gIC8vIExpc3Qgb2YgdmlldyBvcHRpb25zIHRvIGJlIHNldCBhcyBwcm9wZXJ0aWVzLlxuICB2YXIgdmlld09wdGlvbnMgPSBbJ21vZGVsJywgJ2NvbGxlY3Rpb24nLCAnZWwnLCAnaWQnLCAnYXR0cmlidXRlcycsICdjbGFzc05hbWUnLCAndGFnTmFtZScsICdldmVudHMnXTtcblxuICAvLyBTZXQgdXAgYWxsIGluaGVyaXRhYmxlICoqQmFja2JvbmUuVmlldyoqIHByb3BlcnRpZXMgYW5kIG1ldGhvZHMuXG4gIF8uZXh0ZW5kKFZpZXcucHJvdG90eXBlLCBFdmVudHMsIHtcblxuICAgIC8vIFRoZSBkZWZhdWx0IGB0YWdOYW1lYCBvZiBhIFZpZXcncyBlbGVtZW50IGlzIGBcImRpdlwiYC5cbiAgICB0YWdOYW1lOiAnZGl2JyxcblxuICAgIC8vIGpRdWVyeSBkZWxlZ2F0ZSBmb3IgZWxlbWVudCBsb29rdXAsIHNjb3BlZCB0byBET00gZWxlbWVudHMgd2l0aGluIHRoZVxuICAgIC8vIGN1cnJlbnQgdmlldy4gVGhpcyBzaG91bGQgYmUgcHJlZmVycmVkIHRvIGdsb2JhbCBsb29rdXBzIHdoZXJlIHBvc3NpYmxlLlxuICAgICQ6IGZ1bmN0aW9uKHNlbGVjdG9yKSB7XG4gICAgICByZXR1cm4gdGhpcy4kZWwuZmluZChzZWxlY3Rvcik7XG4gICAgfSxcblxuICAgIC8vIEluaXRpYWxpemUgaXMgYW4gZW1wdHkgZnVuY3Rpb24gYnkgZGVmYXVsdC4gT3ZlcnJpZGUgaXQgd2l0aCB5b3VyIG93blxuICAgIC8vIGluaXRpYWxpemF0aW9uIGxvZ2ljLlxuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKCl7fSxcblxuICAgIC8vICoqcmVuZGVyKiogaXMgdGhlIGNvcmUgZnVuY3Rpb24gdGhhdCB5b3VyIHZpZXcgc2hvdWxkIG92ZXJyaWRlLCBpbiBvcmRlclxuICAgIC8vIHRvIHBvcHVsYXRlIGl0cyBlbGVtZW50IChgdGhpcy5lbGApLCB3aXRoIHRoZSBhcHByb3ByaWF0ZSBIVE1MLiBUaGVcbiAgICAvLyBjb252ZW50aW9uIGlzIGZvciAqKnJlbmRlcioqIHRvIGFsd2F5cyByZXR1cm4gYHRoaXNgLlxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLy8gUmVtb3ZlIHRoaXMgdmlldyBieSB0YWtpbmcgdGhlIGVsZW1lbnQgb3V0IG9mIHRoZSBET00sIGFuZCByZW1vdmluZyBhbnlcbiAgICAvLyBhcHBsaWNhYmxlIEJhY2tib25lLkV2ZW50cyBsaXN0ZW5lcnMuXG4gICAgcmVtb3ZlOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuX3JlbW92ZUVsZW1lbnQoKTtcbiAgICAgIHRoaXMuc3RvcExpc3RlbmluZygpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8vIFJlbW92ZSB0aGlzIHZpZXcncyBlbGVtZW50IGZyb20gdGhlIGRvY3VtZW50IGFuZCBhbGwgZXZlbnQgbGlzdGVuZXJzXG4gICAgLy8gYXR0YWNoZWQgdG8gaXQuIEV4cG9zZWQgZm9yIHN1YmNsYXNzZXMgdXNpbmcgYW4gYWx0ZXJuYXRpdmUgRE9NXG4gICAgLy8gbWFuaXB1bGF0aW9uIEFQSS5cbiAgICBfcmVtb3ZlRWxlbWVudDogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLiRlbC5yZW1vdmUoKTtcbiAgICB9LFxuXG4gICAgLy8gQ2hhbmdlIHRoZSB2aWV3J3MgZWxlbWVudCAoYHRoaXMuZWxgIHByb3BlcnR5KSBhbmQgcmUtZGVsZWdhdGUgdGhlXG4gICAgLy8gdmlldydzIGV2ZW50cyBvbiB0aGUgbmV3IGVsZW1lbnQuXG4gICAgc2V0RWxlbWVudDogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgdGhpcy51bmRlbGVnYXRlRXZlbnRzKCk7XG4gICAgICB0aGlzLl9zZXRFbGVtZW50KGVsZW1lbnQpO1xuICAgICAgdGhpcy5kZWxlZ2F0ZUV2ZW50cygpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8vIENyZWF0ZXMgdGhlIGB0aGlzLmVsYCBhbmQgYHRoaXMuJGVsYCByZWZlcmVuY2VzIGZvciB0aGlzIHZpZXcgdXNpbmcgdGhlXG4gICAgLy8gZ2l2ZW4gYGVsYC4gYGVsYCBjYW4gYmUgYSBDU1Mgc2VsZWN0b3Igb3IgYW4gSFRNTCBzdHJpbmcsIGEgalF1ZXJ5XG4gICAgLy8gY29udGV4dCBvciBhbiBlbGVtZW50LiBTdWJjbGFzc2VzIGNhbiBvdmVycmlkZSB0aGlzIHRvIHV0aWxpemUgYW5cbiAgICAvLyBhbHRlcm5hdGl2ZSBET00gbWFuaXB1bGF0aW9uIEFQSSBhbmQgYXJlIG9ubHkgcmVxdWlyZWQgdG8gc2V0IHRoZVxuICAgIC8vIGB0aGlzLmVsYCBwcm9wZXJ0eS5cbiAgICBfc2V0RWxlbWVudDogZnVuY3Rpb24oZWwpIHtcbiAgICAgIHRoaXMuJGVsID0gZWwgaW5zdGFuY2VvZiBCYWNrYm9uZS4kID8gZWwgOiBCYWNrYm9uZS4kKGVsKTtcbiAgICAgIHRoaXMuZWwgPSB0aGlzLiRlbFswXTtcbiAgICB9LFxuXG4gICAgLy8gU2V0IGNhbGxiYWNrcywgd2hlcmUgYHRoaXMuZXZlbnRzYCBpcyBhIGhhc2ggb2ZcbiAgICAvL1xuICAgIC8vICp7XCJldmVudCBzZWxlY3RvclwiOiBcImNhbGxiYWNrXCJ9KlxuICAgIC8vXG4gICAgLy8gICAgIHtcbiAgICAvLyAgICAgICAnbW91c2Vkb3duIC50aXRsZSc6ICAnZWRpdCcsXG4gICAgLy8gICAgICAgJ2NsaWNrIC5idXR0b24nOiAgICAgJ3NhdmUnLFxuICAgIC8vICAgICAgICdjbGljayAub3Blbic6ICAgICAgIGZ1bmN0aW9uKGUpIHsgLi4uIH1cbiAgICAvLyAgICAgfVxuICAgIC8vXG4gICAgLy8gcGFpcnMuIENhbGxiYWNrcyB3aWxsIGJlIGJvdW5kIHRvIHRoZSB2aWV3LCB3aXRoIGB0aGlzYCBzZXQgcHJvcGVybHkuXG4gICAgLy8gVXNlcyBldmVudCBkZWxlZ2F0aW9uIGZvciBlZmZpY2llbmN5LlxuICAgIC8vIE9taXR0aW5nIHRoZSBzZWxlY3RvciBiaW5kcyB0aGUgZXZlbnQgdG8gYHRoaXMuZWxgLlxuICAgIGRlbGVnYXRlRXZlbnRzOiBmdW5jdGlvbihldmVudHMpIHtcbiAgICAgIGV2ZW50cyB8fCAoZXZlbnRzID0gXy5yZXN1bHQodGhpcywgJ2V2ZW50cycpKTtcbiAgICAgIGlmICghZXZlbnRzKSByZXR1cm4gdGhpcztcbiAgICAgIHRoaXMudW5kZWxlZ2F0ZUV2ZW50cygpO1xuICAgICAgZm9yICh2YXIga2V5IGluIGV2ZW50cykge1xuICAgICAgICB2YXIgbWV0aG9kID0gZXZlbnRzW2tleV07XG4gICAgICAgIGlmICghXy5pc0Z1bmN0aW9uKG1ldGhvZCkpIG1ldGhvZCA9IHRoaXNbbWV0aG9kXTtcbiAgICAgICAgaWYgKCFtZXRob2QpIGNvbnRpbnVlO1xuICAgICAgICB2YXIgbWF0Y2ggPSBrZXkubWF0Y2goZGVsZWdhdGVFdmVudFNwbGl0dGVyKTtcbiAgICAgICAgdGhpcy5kZWxlZ2F0ZShtYXRjaFsxXSwgbWF0Y2hbMl0sIF8uYmluZChtZXRob2QsIHRoaXMpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvLyBBZGQgYSBzaW5nbGUgZXZlbnQgbGlzdGVuZXIgdG8gdGhlIHZpZXcncyBlbGVtZW50IChvciBhIGNoaWxkIGVsZW1lbnRcbiAgICAvLyB1c2luZyBgc2VsZWN0b3JgKS4gVGhpcyBvbmx5IHdvcmtzIGZvciBkZWxlZ2F0ZS1hYmxlIGV2ZW50czogbm90IGBmb2N1c2AsXG4gICAgLy8gYGJsdXJgLCBhbmQgbm90IGBjaGFuZ2VgLCBgc3VibWl0YCwgYW5kIGByZXNldGAgaW4gSW50ZXJuZXQgRXhwbG9yZXIuXG4gICAgZGVsZWdhdGU6IGZ1bmN0aW9uKGV2ZW50TmFtZSwgc2VsZWN0b3IsIGxpc3RlbmVyKSB7XG4gICAgICB0aGlzLiRlbC5vbihldmVudE5hbWUgKyAnLmRlbGVnYXRlRXZlbnRzJyArIHRoaXMuY2lkLCBzZWxlY3RvciwgbGlzdGVuZXIpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8vIENsZWFycyBhbGwgY2FsbGJhY2tzIHByZXZpb3VzbHkgYm91bmQgdG8gdGhlIHZpZXcgYnkgYGRlbGVnYXRlRXZlbnRzYC5cbiAgICAvLyBZb3UgdXN1YWxseSBkb24ndCBuZWVkIHRvIHVzZSB0aGlzLCBidXQgbWF5IHdpc2ggdG8gaWYgeW91IGhhdmUgbXVsdGlwbGVcbiAgICAvLyBCYWNrYm9uZSB2aWV3cyBhdHRhY2hlZCB0byB0aGUgc2FtZSBET00gZWxlbWVudC5cbiAgICB1bmRlbGVnYXRlRXZlbnRzOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLiRlbCkgdGhpcy4kZWwub2ZmKCcuZGVsZWdhdGVFdmVudHMnICsgdGhpcy5jaWQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8vIEEgZmluZXItZ3JhaW5lZCBgdW5kZWxlZ2F0ZUV2ZW50c2AgZm9yIHJlbW92aW5nIGEgc2luZ2xlIGRlbGVnYXRlZCBldmVudC5cbiAgICAvLyBgc2VsZWN0b3JgIGFuZCBgbGlzdGVuZXJgIGFyZSBib3RoIG9wdGlvbmFsLlxuICAgIHVuZGVsZWdhdGU6IGZ1bmN0aW9uKGV2ZW50TmFtZSwgc2VsZWN0b3IsIGxpc3RlbmVyKSB7XG4gICAgICB0aGlzLiRlbC5vZmYoZXZlbnROYW1lICsgJy5kZWxlZ2F0ZUV2ZW50cycgKyB0aGlzLmNpZCwgc2VsZWN0b3IsIGxpc3RlbmVyKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvLyBQcm9kdWNlcyBhIERPTSBlbGVtZW50IHRvIGJlIGFzc2lnbmVkIHRvIHlvdXIgdmlldy4gRXhwb3NlZCBmb3JcbiAgICAvLyBzdWJjbGFzc2VzIHVzaW5nIGFuIGFsdGVybmF0aXZlIERPTSBtYW5pcHVsYXRpb24gQVBJLlxuICAgIF9jcmVhdGVFbGVtZW50OiBmdW5jdGlvbih0YWdOYW1lKSB7XG4gICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKTtcbiAgICB9LFxuXG4gICAgLy8gRW5zdXJlIHRoYXQgdGhlIFZpZXcgaGFzIGEgRE9NIGVsZW1lbnQgdG8gcmVuZGVyIGludG8uXG4gICAgLy8gSWYgYHRoaXMuZWxgIGlzIGEgc3RyaW5nLCBwYXNzIGl0IHRocm91Z2ggYCQoKWAsIHRha2UgdGhlIGZpcnN0XG4gICAgLy8gbWF0Y2hpbmcgZWxlbWVudCwgYW5kIHJlLWFzc2lnbiBpdCB0byBgZWxgLiBPdGhlcndpc2UsIGNyZWF0ZVxuICAgIC8vIGFuIGVsZW1lbnQgZnJvbSB0aGUgYGlkYCwgYGNsYXNzTmFtZWAgYW5kIGB0YWdOYW1lYCBwcm9wZXJ0aWVzLlxuICAgIF9lbnN1cmVFbGVtZW50OiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICghdGhpcy5lbCkge1xuICAgICAgICB2YXIgYXR0cnMgPSBfLmV4dGVuZCh7fSwgXy5yZXN1bHQodGhpcywgJ2F0dHJpYnV0ZXMnKSk7XG4gICAgICAgIGlmICh0aGlzLmlkKSBhdHRycy5pZCA9IF8ucmVzdWx0KHRoaXMsICdpZCcpO1xuICAgICAgICBpZiAodGhpcy5jbGFzc05hbWUpIGF0dHJzWydjbGFzcyddID0gXy5yZXN1bHQodGhpcywgJ2NsYXNzTmFtZScpO1xuICAgICAgICB0aGlzLnNldEVsZW1lbnQodGhpcy5fY3JlYXRlRWxlbWVudChfLnJlc3VsdCh0aGlzLCAndGFnTmFtZScpKSk7XG4gICAgICAgIHRoaXMuX3NldEF0dHJpYnV0ZXMoYXR0cnMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zZXRFbGVtZW50KF8ucmVzdWx0KHRoaXMsICdlbCcpKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gU2V0IGF0dHJpYnV0ZXMgZnJvbSBhIGhhc2ggb24gdGhpcyB2aWV3J3MgZWxlbWVudC4gIEV4cG9zZWQgZm9yXG4gICAgLy8gc3ViY2xhc3NlcyB1c2luZyBhbiBhbHRlcm5hdGl2ZSBET00gbWFuaXB1bGF0aW9uIEFQSS5cbiAgICBfc2V0QXR0cmlidXRlczogZnVuY3Rpb24oYXR0cmlidXRlcykge1xuICAgICAgdGhpcy4kZWwuYXR0cihhdHRyaWJ1dGVzKTtcbiAgICB9XG5cbiAgfSk7XG5cbiAgLy8gQmFja2JvbmUuc3luY1xuICAvLyAtLS0tLS0tLS0tLS0tXG5cbiAgLy8gT3ZlcnJpZGUgdGhpcyBmdW5jdGlvbiB0byBjaGFuZ2UgdGhlIG1hbm5lciBpbiB3aGljaCBCYWNrYm9uZSBwZXJzaXN0c1xuICAvLyBtb2RlbHMgdG8gdGhlIHNlcnZlci4gWW91IHdpbGwgYmUgcGFzc2VkIHRoZSB0eXBlIG9mIHJlcXVlc3QsIGFuZCB0aGVcbiAgLy8gbW9kZWwgaW4gcXVlc3Rpb24uIEJ5IGRlZmF1bHQsIG1ha2VzIGEgUkVTVGZ1bCBBamF4IHJlcXVlc3RcbiAgLy8gdG8gdGhlIG1vZGVsJ3MgYHVybCgpYC4gU29tZSBwb3NzaWJsZSBjdXN0b21pemF0aW9ucyBjb3VsZCBiZTpcbiAgLy9cbiAgLy8gKiBVc2UgYHNldFRpbWVvdXRgIHRvIGJhdGNoIHJhcGlkLWZpcmUgdXBkYXRlcyBpbnRvIGEgc2luZ2xlIHJlcXVlc3QuXG4gIC8vICogU2VuZCB1cCB0aGUgbW9kZWxzIGFzIFhNTCBpbnN0ZWFkIG9mIEpTT04uXG4gIC8vICogUGVyc2lzdCBtb2RlbHMgdmlhIFdlYlNvY2tldHMgaW5zdGVhZCBvZiBBamF4LlxuICAvL1xuICAvLyBUdXJuIG9uIGBCYWNrYm9uZS5lbXVsYXRlSFRUUGAgaW4gb3JkZXIgdG8gc2VuZCBgUFVUYCBhbmQgYERFTEVURWAgcmVxdWVzdHNcbiAgLy8gYXMgYFBPU1RgLCB3aXRoIGEgYF9tZXRob2RgIHBhcmFtZXRlciBjb250YWluaW5nIHRoZSB0cnVlIEhUVFAgbWV0aG9kLFxuICAvLyBhcyB3ZWxsIGFzIGFsbCByZXF1ZXN0cyB3aXRoIHRoZSBib2R5IGFzIGBhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRgXG4gIC8vIGluc3RlYWQgb2YgYGFwcGxpY2F0aW9uL2pzb25gIHdpdGggdGhlIG1vZGVsIGluIGEgcGFyYW0gbmFtZWQgYG1vZGVsYC5cbiAgLy8gVXNlZnVsIHdoZW4gaW50ZXJmYWNpbmcgd2l0aCBzZXJ2ZXItc2lkZSBsYW5ndWFnZXMgbGlrZSAqKlBIUCoqIHRoYXQgbWFrZVxuICAvLyBpdCBkaWZmaWN1bHQgdG8gcmVhZCB0aGUgYm9keSBvZiBgUFVUYCByZXF1ZXN0cy5cbiAgQmFja2JvbmUuc3luYyA9IGZ1bmN0aW9uKG1ldGhvZCwgbW9kZWwsIG9wdGlvbnMpIHtcbiAgICB2YXIgdHlwZSA9IG1ldGhvZE1hcFttZXRob2RdO1xuXG4gICAgLy8gRGVmYXVsdCBvcHRpb25zLCB1bmxlc3Mgc3BlY2lmaWVkLlxuICAgIF8uZGVmYXVsdHMob3B0aW9ucyB8fCAob3B0aW9ucyA9IHt9KSwge1xuICAgICAgZW11bGF0ZUhUVFA6IEJhY2tib25lLmVtdWxhdGVIVFRQLFxuICAgICAgZW11bGF0ZUpTT046IEJhY2tib25lLmVtdWxhdGVKU09OXG4gICAgfSk7XG5cbiAgICAvLyBEZWZhdWx0IEpTT04tcmVxdWVzdCBvcHRpb25zLlxuICAgIHZhciBwYXJhbXMgPSB7dHlwZTogdHlwZSwgZGF0YVR5cGU6ICdqc29uJ307XG5cbiAgICAvLyBFbnN1cmUgdGhhdCB3ZSBoYXZlIGEgVVJMLlxuICAgIGlmICghb3B0aW9ucy51cmwpIHtcbiAgICAgIHBhcmFtcy51cmwgPSBfLnJlc3VsdChtb2RlbCwgJ3VybCcpIHx8IHVybEVycm9yKCk7XG4gICAgfVxuXG4gICAgLy8gRW5zdXJlIHRoYXQgd2UgaGF2ZSB0aGUgYXBwcm9wcmlhdGUgcmVxdWVzdCBkYXRhLlxuICAgIGlmIChvcHRpb25zLmRhdGEgPT0gbnVsbCAmJiBtb2RlbCAmJiAobWV0aG9kID09PSAnY3JlYXRlJyB8fCBtZXRob2QgPT09ICd1cGRhdGUnIHx8IG1ldGhvZCA9PT0gJ3BhdGNoJykpIHtcbiAgICAgIHBhcmFtcy5jb250ZW50VHlwZSA9ICdhcHBsaWNhdGlvbi9qc29uJztcbiAgICAgIHBhcmFtcy5kYXRhID0gSlNPTi5zdHJpbmdpZnkob3B0aW9ucy5hdHRycyB8fCBtb2RlbC50b0pTT04ob3B0aW9ucykpO1xuICAgIH1cblxuICAgIC8vIEZvciBvbGRlciBzZXJ2ZXJzLCBlbXVsYXRlIEpTT04gYnkgZW5jb2RpbmcgdGhlIHJlcXVlc3QgaW50byBhbiBIVE1MLWZvcm0uXG4gICAgaWYgKG9wdGlvbnMuZW11bGF0ZUpTT04pIHtcbiAgICAgIHBhcmFtcy5jb250ZW50VHlwZSA9ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnO1xuICAgICAgcGFyYW1zLmRhdGEgPSBwYXJhbXMuZGF0YSA/IHttb2RlbDogcGFyYW1zLmRhdGF9IDoge307XG4gICAgfVxuXG4gICAgLy8gRm9yIG9sZGVyIHNlcnZlcnMsIGVtdWxhdGUgSFRUUCBieSBtaW1pY2tpbmcgdGhlIEhUVFAgbWV0aG9kIHdpdGggYF9tZXRob2RgXG4gICAgLy8gQW5kIGFuIGBYLUhUVFAtTWV0aG9kLU92ZXJyaWRlYCBoZWFkZXIuXG4gICAgaWYgKG9wdGlvbnMuZW11bGF0ZUhUVFAgJiYgKHR5cGUgPT09ICdQVVQnIHx8IHR5cGUgPT09ICdERUxFVEUnIHx8IHR5cGUgPT09ICdQQVRDSCcpKSB7XG4gICAgICBwYXJhbXMudHlwZSA9ICdQT1NUJztcbiAgICAgIGlmIChvcHRpb25zLmVtdWxhdGVKU09OKSBwYXJhbXMuZGF0YS5fbWV0aG9kID0gdHlwZTtcbiAgICAgIHZhciBiZWZvcmVTZW5kID0gb3B0aW9ucy5iZWZvcmVTZW5kO1xuICAgICAgb3B0aW9ucy5iZWZvcmVTZW5kID0gZnVuY3Rpb24oeGhyKSB7XG4gICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdYLUhUVFAtTWV0aG9kLU92ZXJyaWRlJywgdHlwZSk7XG4gICAgICAgIGlmIChiZWZvcmVTZW5kKSByZXR1cm4gYmVmb3JlU2VuZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBEb24ndCBwcm9jZXNzIGRhdGEgb24gYSBub24tR0VUIHJlcXVlc3QuXG4gICAgaWYgKHBhcmFtcy50eXBlICE9PSAnR0VUJyAmJiAhb3B0aW9ucy5lbXVsYXRlSlNPTikge1xuICAgICAgcGFyYW1zLnByb2Nlc3NEYXRhID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gUGFzcyBhbG9uZyBgdGV4dFN0YXR1c2AgYW5kIGBlcnJvclRocm93bmAgZnJvbSBqUXVlcnkuXG4gICAgdmFyIGVycm9yID0gb3B0aW9ucy5lcnJvcjtcbiAgICBvcHRpb25zLmVycm9yID0gZnVuY3Rpb24oeGhyLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikge1xuICAgICAgb3B0aW9ucy50ZXh0U3RhdHVzID0gdGV4dFN0YXR1cztcbiAgICAgIG9wdGlvbnMuZXJyb3JUaHJvd24gPSBlcnJvclRocm93bjtcbiAgICAgIGlmIChlcnJvcikgZXJyb3IuY2FsbChvcHRpb25zLmNvbnRleHQsIHhociwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pO1xuICAgIH07XG5cbiAgICAvLyBNYWtlIHRoZSByZXF1ZXN0LCBhbGxvd2luZyB0aGUgdXNlciB0byBvdmVycmlkZSBhbnkgQWpheCBvcHRpb25zLlxuICAgIHZhciB4aHIgPSBvcHRpb25zLnhociA9IEJhY2tib25lLmFqYXgoXy5leHRlbmQocGFyYW1zLCBvcHRpb25zKSk7XG4gICAgbW9kZWwudHJpZ2dlcigncmVxdWVzdCcsIG1vZGVsLCB4aHIsIG9wdGlvbnMpO1xuICAgIHJldHVybiB4aHI7XG4gIH07XG5cbiAgLy8gTWFwIGZyb20gQ1JVRCB0byBIVFRQIGZvciBvdXIgZGVmYXVsdCBgQmFja2JvbmUuc3luY2AgaW1wbGVtZW50YXRpb24uXG4gIHZhciBtZXRob2RNYXAgPSB7XG4gICAgJ2NyZWF0ZSc6ICdQT1NUJyxcbiAgICAndXBkYXRlJzogJ1BVVCcsXG4gICAgJ3BhdGNoJzogICdQQVRDSCcsXG4gICAgJ2RlbGV0ZSc6ICdERUxFVEUnLFxuICAgICdyZWFkJzogICAnR0VUJ1xuICB9O1xuXG4gIC8vIFNldCB0aGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBvZiBgQmFja2JvbmUuYWpheGAgdG8gcHJveHkgdGhyb3VnaCB0byBgJGAuXG4gIC8vIE92ZXJyaWRlIHRoaXMgaWYgeW91J2QgbGlrZSB0byB1c2UgYSBkaWZmZXJlbnQgbGlicmFyeS5cbiAgQmFja2JvbmUuYWpheCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBCYWNrYm9uZS4kLmFqYXguYXBwbHkoQmFja2JvbmUuJCwgYXJndW1lbnRzKTtcbiAgfTtcblxuICAvLyBCYWNrYm9uZS5Sb3V0ZXJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gUm91dGVycyBtYXAgZmF1eC1VUkxzIHRvIGFjdGlvbnMsIGFuZCBmaXJlIGV2ZW50cyB3aGVuIHJvdXRlcyBhcmVcbiAgLy8gbWF0Y2hlZC4gQ3JlYXRpbmcgYSBuZXcgb25lIHNldHMgaXRzIGByb3V0ZXNgIGhhc2gsIGlmIG5vdCBzZXQgc3RhdGljYWxseS5cbiAgdmFyIFJvdXRlciA9IEJhY2tib25lLlJvdXRlciA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zIHx8IChvcHRpb25zID0ge30pO1xuICAgIGlmIChvcHRpb25zLnJvdXRlcykgdGhpcy5yb3V0ZXMgPSBvcHRpb25zLnJvdXRlcztcbiAgICB0aGlzLl9iaW5kUm91dGVzKCk7XG4gICAgdGhpcy5pbml0aWFsaXplLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH07XG5cbiAgLy8gQ2FjaGVkIHJlZ3VsYXIgZXhwcmVzc2lvbnMgZm9yIG1hdGNoaW5nIG5hbWVkIHBhcmFtIHBhcnRzIGFuZCBzcGxhdHRlZFxuICAvLyBwYXJ0cyBvZiByb3V0ZSBzdHJpbmdzLlxuICB2YXIgb3B0aW9uYWxQYXJhbSA9IC9cXCgoLio/KVxcKS9nO1xuICB2YXIgbmFtZWRQYXJhbSAgICA9IC8oXFwoXFw/KT86XFx3Ky9nO1xuICB2YXIgc3BsYXRQYXJhbSAgICA9IC9cXCpcXHcrL2c7XG4gIHZhciBlc2NhcGVSZWdFeHAgID0gL1tcXC17fVxcW1xcXSs/LixcXFxcXFxeJHwjXFxzXS9nO1xuXG4gIC8vIFNldCB1cCBhbGwgaW5oZXJpdGFibGUgKipCYWNrYm9uZS5Sb3V0ZXIqKiBwcm9wZXJ0aWVzIGFuZCBtZXRob2RzLlxuICBfLmV4dGVuZChSb3V0ZXIucHJvdG90eXBlLCBFdmVudHMsIHtcblxuICAgIC8vIEluaXRpYWxpemUgaXMgYW4gZW1wdHkgZnVuY3Rpb24gYnkgZGVmYXVsdC4gT3ZlcnJpZGUgaXQgd2l0aCB5b3VyIG93blxuICAgIC8vIGluaXRpYWxpemF0aW9uIGxvZ2ljLlxuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKCl7fSxcblxuICAgIC8vIE1hbnVhbGx5IGJpbmQgYSBzaW5nbGUgbmFtZWQgcm91dGUgdG8gYSBjYWxsYmFjay4gRm9yIGV4YW1wbGU6XG4gICAgLy9cbiAgICAvLyAgICAgdGhpcy5yb3V0ZSgnc2VhcmNoLzpxdWVyeS9wOm51bScsICdzZWFyY2gnLCBmdW5jdGlvbihxdWVyeSwgbnVtKSB7XG4gICAgLy8gICAgICAgLi4uXG4gICAgLy8gICAgIH0pO1xuICAgIC8vXG4gICAgcm91dGU6IGZ1bmN0aW9uKHJvdXRlLCBuYW1lLCBjYWxsYmFjaykge1xuICAgICAgaWYgKCFfLmlzUmVnRXhwKHJvdXRlKSkgcm91dGUgPSB0aGlzLl9yb3V0ZVRvUmVnRXhwKHJvdXRlKTtcbiAgICAgIGlmIChfLmlzRnVuY3Rpb24obmFtZSkpIHtcbiAgICAgICAgY2FsbGJhY2sgPSBuYW1lO1xuICAgICAgICBuYW1lID0gJyc7XG4gICAgICB9XG4gICAgICBpZiAoIWNhbGxiYWNrKSBjYWxsYmFjayA9IHRoaXNbbmFtZV07XG4gICAgICB2YXIgcm91dGVyID0gdGhpcztcbiAgICAgIEJhY2tib25lLmhpc3Rvcnkucm91dGUocm91dGUsIGZ1bmN0aW9uKGZyYWdtZW50KSB7XG4gICAgICAgIHZhciBhcmdzID0gcm91dGVyLl9leHRyYWN0UGFyYW1ldGVycyhyb3V0ZSwgZnJhZ21lbnQpO1xuICAgICAgICBpZiAocm91dGVyLmV4ZWN1dGUoY2FsbGJhY2ssIGFyZ3MsIG5hbWUpICE9PSBmYWxzZSkge1xuICAgICAgICAgIHJvdXRlci50cmlnZ2VyLmFwcGx5KHJvdXRlciwgWydyb3V0ZTonICsgbmFtZV0uY29uY2F0KGFyZ3MpKTtcbiAgICAgICAgICByb3V0ZXIudHJpZ2dlcigncm91dGUnLCBuYW1lLCBhcmdzKTtcbiAgICAgICAgICBCYWNrYm9uZS5oaXN0b3J5LnRyaWdnZXIoJ3JvdXRlJywgcm91dGVyLCBuYW1lLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLy8gRXhlY3V0ZSBhIHJvdXRlIGhhbmRsZXIgd2l0aCB0aGUgcHJvdmlkZWQgcGFyYW1ldGVycy4gIFRoaXMgaXMgYW5cbiAgICAvLyBleGNlbGxlbnQgcGxhY2UgdG8gZG8gcHJlLXJvdXRlIHNldHVwIG9yIHBvc3Qtcm91dGUgY2xlYW51cC5cbiAgICBleGVjdXRlOiBmdW5jdGlvbihjYWxsYmFjaywgYXJncywgbmFtZSkge1xuICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjay5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9LFxuXG4gICAgLy8gU2ltcGxlIHByb3h5IHRvIGBCYWNrYm9uZS5oaXN0b3J5YCB0byBzYXZlIGEgZnJhZ21lbnQgaW50byB0aGUgaGlzdG9yeS5cbiAgICBuYXZpZ2F0ZTogZnVuY3Rpb24oZnJhZ21lbnQsIG9wdGlvbnMpIHtcbiAgICAgIEJhY2tib25lLmhpc3RvcnkubmF2aWdhdGUoZnJhZ21lbnQsIG9wdGlvbnMpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8vIEJpbmQgYWxsIGRlZmluZWQgcm91dGVzIHRvIGBCYWNrYm9uZS5oaXN0b3J5YC4gV2UgaGF2ZSB0byByZXZlcnNlIHRoZVxuICAgIC8vIG9yZGVyIG9mIHRoZSByb3V0ZXMgaGVyZSB0byBzdXBwb3J0IGJlaGF2aW9yIHdoZXJlIHRoZSBtb3N0IGdlbmVyYWxcbiAgICAvLyByb3V0ZXMgY2FuIGJlIGRlZmluZWQgYXQgdGhlIGJvdHRvbSBvZiB0aGUgcm91dGUgbWFwLlxuICAgIF9iaW5kUm91dGVzOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICghdGhpcy5yb3V0ZXMpIHJldHVybjtcbiAgICAgIHRoaXMucm91dGVzID0gXy5yZXN1bHQodGhpcywgJ3JvdXRlcycpO1xuICAgICAgdmFyIHJvdXRlLCByb3V0ZXMgPSBfLmtleXModGhpcy5yb3V0ZXMpO1xuICAgICAgd2hpbGUgKChyb3V0ZSA9IHJvdXRlcy5wb3AoKSkgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLnJvdXRlKHJvdXRlLCB0aGlzLnJvdXRlc1tyb3V0ZV0pO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBDb252ZXJ0IGEgcm91dGUgc3RyaW5nIGludG8gYSByZWd1bGFyIGV4cHJlc3Npb24sIHN1aXRhYmxlIGZvciBtYXRjaGluZ1xuICAgIC8vIGFnYWluc3QgdGhlIGN1cnJlbnQgbG9jYXRpb24gaGFzaC5cbiAgICBfcm91dGVUb1JlZ0V4cDogZnVuY3Rpb24ocm91dGUpIHtcbiAgICAgIHJvdXRlID0gcm91dGUucmVwbGFjZShlc2NhcGVSZWdFeHAsICdcXFxcJCYnKVxuICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKG9wdGlvbmFsUGFyYW0sICcoPzokMSk/JylcbiAgICAgICAgICAgICAgICAgICAucmVwbGFjZShuYW1lZFBhcmFtLCBmdW5jdGlvbihtYXRjaCwgb3B0aW9uYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25hbCA/IG1hdGNoIDogJyhbXi8/XSspJztcbiAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKHNwbGF0UGFyYW0sICcoW14/XSo/KScpO1xuICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoJ14nICsgcm91dGUgKyAnKD86XFxcXD8oW1xcXFxzXFxcXFNdKikpPyQnKTtcbiAgICB9LFxuXG4gICAgLy8gR2l2ZW4gYSByb3V0ZSwgYW5kIGEgVVJMIGZyYWdtZW50IHRoYXQgaXQgbWF0Y2hlcywgcmV0dXJuIHRoZSBhcnJheSBvZlxuICAgIC8vIGV4dHJhY3RlZCBkZWNvZGVkIHBhcmFtZXRlcnMuIEVtcHR5IG9yIHVubWF0Y2hlZCBwYXJhbWV0ZXJzIHdpbGwgYmVcbiAgICAvLyB0cmVhdGVkIGFzIGBudWxsYCB0byBub3JtYWxpemUgY3Jvc3MtYnJvd3NlciBiZWhhdmlvci5cbiAgICBfZXh0cmFjdFBhcmFtZXRlcnM6IGZ1bmN0aW9uKHJvdXRlLCBmcmFnbWVudCkge1xuICAgICAgdmFyIHBhcmFtcyA9IHJvdXRlLmV4ZWMoZnJhZ21lbnQpLnNsaWNlKDEpO1xuICAgICAgcmV0dXJuIF8ubWFwKHBhcmFtcywgZnVuY3Rpb24ocGFyYW0sIGkpIHtcbiAgICAgICAgLy8gRG9uJ3QgZGVjb2RlIHRoZSBzZWFyY2ggcGFyYW1zLlxuICAgICAgICBpZiAoaSA9PT0gcGFyYW1zLmxlbmd0aCAtIDEpIHJldHVybiBwYXJhbSB8fCBudWxsO1xuICAgICAgICByZXR1cm4gcGFyYW0gPyBkZWNvZGVVUklDb21wb25lbnQocGFyYW0pIDogbnVsbDtcbiAgICAgIH0pO1xuICAgIH1cblxuICB9KTtcblxuICAvLyBCYWNrYm9uZS5IaXN0b3J5XG4gIC8vIC0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyBIYW5kbGVzIGNyb3NzLWJyb3dzZXIgaGlzdG9yeSBtYW5hZ2VtZW50LCBiYXNlZCBvbiBlaXRoZXJcbiAgLy8gW3B1c2hTdGF0ZV0oaHR0cDovL2RpdmVpbnRvaHRtbDUuaW5mby9oaXN0b3J5Lmh0bWwpIGFuZCByZWFsIFVSTHMsIG9yXG4gIC8vIFtvbmhhc2hjaGFuZ2VdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvRE9NL3dpbmRvdy5vbmhhc2hjaGFuZ2UpXG4gIC8vIGFuZCBVUkwgZnJhZ21lbnRzLiBJZiB0aGUgYnJvd3NlciBzdXBwb3J0cyBuZWl0aGVyIChvbGQgSUUsIG5hdGNoKSxcbiAgLy8gZmFsbHMgYmFjayB0byBwb2xsaW5nLlxuICB2YXIgSGlzdG9yeSA9IEJhY2tib25lLkhpc3RvcnkgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmhhbmRsZXJzID0gW107XG4gICAgdGhpcy5jaGVja1VybCA9IF8uYmluZCh0aGlzLmNoZWNrVXJsLCB0aGlzKTtcblxuICAgIC8vIEVuc3VyZSB0aGF0IGBIaXN0b3J5YCBjYW4gYmUgdXNlZCBvdXRzaWRlIG9mIHRoZSBicm93c2VyLlxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5sb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbjtcbiAgICAgIHRoaXMuaGlzdG9yeSA9IHdpbmRvdy5oaXN0b3J5O1xuICAgIH1cbiAgfTtcblxuICAvLyBDYWNoZWQgcmVnZXggZm9yIHN0cmlwcGluZyBhIGxlYWRpbmcgaGFzaC9zbGFzaCBhbmQgdHJhaWxpbmcgc3BhY2UuXG4gIHZhciByb3V0ZVN0cmlwcGVyID0gL15bI1xcL118XFxzKyQvZztcblxuICAvLyBDYWNoZWQgcmVnZXggZm9yIHN0cmlwcGluZyBsZWFkaW5nIGFuZCB0cmFpbGluZyBzbGFzaGVzLlxuICB2YXIgcm9vdFN0cmlwcGVyID0gL15cXC8rfFxcLyskL2c7XG5cbiAgLy8gQ2FjaGVkIHJlZ2V4IGZvciBzdHJpcHBpbmcgdXJscyBvZiBoYXNoLlxuICB2YXIgcGF0aFN0cmlwcGVyID0gLyMuKiQvO1xuXG4gIC8vIEhhcyB0aGUgaGlzdG9yeSBoYW5kbGluZyBhbHJlYWR5IGJlZW4gc3RhcnRlZD9cbiAgSGlzdG9yeS5zdGFydGVkID0gZmFsc2U7XG5cbiAgLy8gU2V0IHVwIGFsbCBpbmhlcml0YWJsZSAqKkJhY2tib25lLkhpc3RvcnkqKiBwcm9wZXJ0aWVzIGFuZCBtZXRob2RzLlxuICBfLmV4dGVuZChIaXN0b3J5LnByb3RvdHlwZSwgRXZlbnRzLCB7XG5cbiAgICAvLyBUaGUgZGVmYXVsdCBpbnRlcnZhbCB0byBwb2xsIGZvciBoYXNoIGNoYW5nZXMsIGlmIG5lY2Vzc2FyeSwgaXNcbiAgICAvLyB0d2VudHkgdGltZXMgYSBzZWNvbmQuXG4gICAgaW50ZXJ2YWw6IDUwLFxuXG4gICAgLy8gQXJlIHdlIGF0IHRoZSBhcHAgcm9vdD9cbiAgICBhdFJvb3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHBhdGggPSB0aGlzLmxvY2F0aW9uLnBhdGhuYW1lLnJlcGxhY2UoL1teXFwvXSQvLCAnJCYvJyk7XG4gICAgICByZXR1cm4gcGF0aCA9PT0gdGhpcy5yb290ICYmICF0aGlzLmdldFNlYXJjaCgpO1xuICAgIH0sXG5cbiAgICAvLyBEb2VzIHRoZSBwYXRobmFtZSBtYXRjaCB0aGUgcm9vdD9cbiAgICBtYXRjaFJvb3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHBhdGggPSB0aGlzLmRlY29kZUZyYWdtZW50KHRoaXMubG9jYXRpb24ucGF0aG5hbWUpO1xuICAgICAgdmFyIHJvb3QgPSBwYXRoLnNsaWNlKDAsIHRoaXMucm9vdC5sZW5ndGggLSAxKSArICcvJztcbiAgICAgIHJldHVybiByb290ID09PSB0aGlzLnJvb3Q7XG4gICAgfSxcblxuICAgIC8vIFVuaWNvZGUgY2hhcmFjdGVycyBpbiBgbG9jYXRpb24ucGF0aG5hbWVgIGFyZSBwZXJjZW50IGVuY29kZWQgc28gdGhleSdyZVxuICAgIC8vIGRlY29kZWQgZm9yIGNvbXBhcmlzb24uIGAlMjVgIHNob3VsZCBub3QgYmUgZGVjb2RlZCBzaW5jZSBpdCBtYXkgYmUgcGFydFxuICAgIC8vIG9mIGFuIGVuY29kZWQgcGFyYW1ldGVyLlxuICAgIGRlY29kZUZyYWdtZW50OiBmdW5jdGlvbihmcmFnbWVudCkge1xuICAgICAgcmV0dXJuIGRlY29kZVVSSShmcmFnbWVudC5yZXBsYWNlKC8lMjUvZywgJyUyNTI1JykpO1xuICAgIH0sXG5cbiAgICAvLyBJbiBJRTYsIHRoZSBoYXNoIGZyYWdtZW50IGFuZCBzZWFyY2ggcGFyYW1zIGFyZSBpbmNvcnJlY3QgaWYgdGhlXG4gICAgLy8gZnJhZ21lbnQgY29udGFpbnMgYD9gLlxuICAgIGdldFNlYXJjaDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbWF0Y2ggPSB0aGlzLmxvY2F0aW9uLmhyZWYucmVwbGFjZSgvIy4qLywgJycpLm1hdGNoKC9cXD8uKy8pO1xuICAgICAgcmV0dXJuIG1hdGNoID8gbWF0Y2hbMF0gOiAnJztcbiAgICB9LFxuXG4gICAgLy8gR2V0cyB0aGUgdHJ1ZSBoYXNoIHZhbHVlLiBDYW5ub3QgdXNlIGxvY2F0aW9uLmhhc2ggZGlyZWN0bHkgZHVlIHRvIGJ1Z1xuICAgIC8vIGluIEZpcmVmb3ggd2hlcmUgbG9jYXRpb24uaGFzaCB3aWxsIGFsd2F5cyBiZSBkZWNvZGVkLlxuICAgIGdldEhhc2g6IGZ1bmN0aW9uKHdpbmRvdykge1xuICAgICAgdmFyIG1hdGNoID0gKHdpbmRvdyB8fCB0aGlzKS5sb2NhdGlvbi5ocmVmLm1hdGNoKC8jKC4qKSQvKTtcbiAgICAgIHJldHVybiBtYXRjaCA/IG1hdGNoWzFdIDogJyc7XG4gICAgfSxcblxuICAgIC8vIEdldCB0aGUgcGF0aG5hbWUgYW5kIHNlYXJjaCBwYXJhbXMsIHdpdGhvdXQgdGhlIHJvb3QuXG4gICAgZ2V0UGF0aDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcGF0aCA9IHRoaXMuZGVjb2RlRnJhZ21lbnQoXG4gICAgICAgIHRoaXMubG9jYXRpb24ucGF0aG5hbWUgKyB0aGlzLmdldFNlYXJjaCgpXG4gICAgICApLnNsaWNlKHRoaXMucm9vdC5sZW5ndGggLSAxKTtcbiAgICAgIHJldHVybiBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nID8gcGF0aC5zbGljZSgxKSA6IHBhdGg7XG4gICAgfSxcblxuICAgIC8vIEdldCB0aGUgY3Jvc3MtYnJvd3NlciBub3JtYWxpemVkIFVSTCBmcmFnbWVudCBmcm9tIHRoZSBwYXRoIG9yIGhhc2guXG4gICAgZ2V0RnJhZ21lbnQ6IGZ1bmN0aW9uKGZyYWdtZW50KSB7XG4gICAgICBpZiAoZnJhZ21lbnQgPT0gbnVsbCkge1xuICAgICAgICBpZiAodGhpcy5fdXNlUHVzaFN0YXRlIHx8ICF0aGlzLl93YW50c0hhc2hDaGFuZ2UpIHtcbiAgICAgICAgICBmcmFnbWVudCA9IHRoaXMuZ2V0UGF0aCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZyYWdtZW50ID0gdGhpcy5nZXRIYXNoKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmcmFnbWVudC5yZXBsYWNlKHJvdXRlU3RyaXBwZXIsICcnKTtcbiAgICB9LFxuXG4gICAgLy8gU3RhcnQgdGhlIGhhc2ggY2hhbmdlIGhhbmRsaW5nLCByZXR1cm5pbmcgYHRydWVgIGlmIHRoZSBjdXJyZW50IFVSTCBtYXRjaGVzXG4gICAgLy8gYW4gZXhpc3Rpbmcgcm91dGUsIGFuZCBgZmFsc2VgIG90aGVyd2lzZS5cbiAgICBzdGFydDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgaWYgKEhpc3Rvcnkuc3RhcnRlZCkgdGhyb3cgbmV3IEVycm9yKCdCYWNrYm9uZS5oaXN0b3J5IGhhcyBhbHJlYWR5IGJlZW4gc3RhcnRlZCcpO1xuICAgICAgSGlzdG9yeS5zdGFydGVkID0gdHJ1ZTtcblxuICAgICAgLy8gRmlndXJlIG91dCB0aGUgaW5pdGlhbCBjb25maWd1cmF0aW9uLiBEbyB3ZSBuZWVkIGFuIGlmcmFtZT9cbiAgICAgIC8vIElzIHB1c2hTdGF0ZSBkZXNpcmVkIC4uLiBpcyBpdCBhdmFpbGFibGU/XG4gICAgICB0aGlzLm9wdGlvbnMgICAgICAgICAgPSBfLmV4dGVuZCh7cm9vdDogJy8nfSwgdGhpcy5vcHRpb25zLCBvcHRpb25zKTtcbiAgICAgIHRoaXMucm9vdCAgICAgICAgICAgICA9IHRoaXMub3B0aW9ucy5yb290O1xuICAgICAgdGhpcy5fd2FudHNIYXNoQ2hhbmdlID0gdGhpcy5vcHRpb25zLmhhc2hDaGFuZ2UgIT09IGZhbHNlO1xuICAgICAgdGhpcy5faGFzSGFzaENoYW5nZSAgID0gJ29uaGFzaGNoYW5nZScgaW4gd2luZG93ICYmIChkb2N1bWVudC5kb2N1bWVudE1vZGUgPT09IHZvaWQgMCB8fCBkb2N1bWVudC5kb2N1bWVudE1vZGUgPiA3KTtcbiAgICAgIHRoaXMuX3VzZUhhc2hDaGFuZ2UgICA9IHRoaXMuX3dhbnRzSGFzaENoYW5nZSAmJiB0aGlzLl9oYXNIYXNoQ2hhbmdlO1xuICAgICAgdGhpcy5fd2FudHNQdXNoU3RhdGUgID0gISF0aGlzLm9wdGlvbnMucHVzaFN0YXRlO1xuICAgICAgdGhpcy5faGFzUHVzaFN0YXRlICAgID0gISEodGhpcy5oaXN0b3J5ICYmIHRoaXMuaGlzdG9yeS5wdXNoU3RhdGUpO1xuICAgICAgdGhpcy5fdXNlUHVzaFN0YXRlICAgID0gdGhpcy5fd2FudHNQdXNoU3RhdGUgJiYgdGhpcy5faGFzUHVzaFN0YXRlO1xuICAgICAgdGhpcy5mcmFnbWVudCAgICAgICAgID0gdGhpcy5nZXRGcmFnbWVudCgpO1xuXG4gICAgICAvLyBOb3JtYWxpemUgcm9vdCB0byBhbHdheXMgaW5jbHVkZSBhIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHNsYXNoLlxuICAgICAgdGhpcy5yb290ID0gKCcvJyArIHRoaXMucm9vdCArICcvJykucmVwbGFjZShyb290U3RyaXBwZXIsICcvJyk7XG5cbiAgICAgIC8vIFRyYW5zaXRpb24gZnJvbSBoYXNoQ2hhbmdlIHRvIHB1c2hTdGF0ZSBvciB2aWNlIHZlcnNhIGlmIGJvdGggYXJlXG4gICAgICAvLyByZXF1ZXN0ZWQuXG4gICAgICBpZiAodGhpcy5fd2FudHNIYXNoQ2hhbmdlICYmIHRoaXMuX3dhbnRzUHVzaFN0YXRlKSB7XG5cbiAgICAgICAgLy8gSWYgd2UndmUgc3RhcnRlZCBvZmYgd2l0aCBhIHJvdXRlIGZyb20gYSBgcHVzaFN0YXRlYC1lbmFibGVkXG4gICAgICAgIC8vIGJyb3dzZXIsIGJ1dCB3ZSdyZSBjdXJyZW50bHkgaW4gYSBicm93c2VyIHRoYXQgZG9lc24ndCBzdXBwb3J0IGl0Li4uXG4gICAgICAgIGlmICghdGhpcy5faGFzUHVzaFN0YXRlICYmICF0aGlzLmF0Um9vdCgpKSB7XG4gICAgICAgICAgdmFyIHJvb3QgPSB0aGlzLnJvb3Quc2xpY2UoMCwgLTEpIHx8ICcvJztcbiAgICAgICAgICB0aGlzLmxvY2F0aW9uLnJlcGxhY2Uocm9vdCArICcjJyArIHRoaXMuZ2V0UGF0aCgpKTtcbiAgICAgICAgICAvLyBSZXR1cm4gaW1tZWRpYXRlbHkgYXMgYnJvd3NlciB3aWxsIGRvIHJlZGlyZWN0IHRvIG5ldyB1cmxcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgICAvLyBPciBpZiB3ZSd2ZSBzdGFydGVkIG91dCB3aXRoIGEgaGFzaC1iYXNlZCByb3V0ZSwgYnV0IHdlJ3JlIGN1cnJlbnRseVxuICAgICAgICAvLyBpbiBhIGJyb3dzZXIgd2hlcmUgaXQgY291bGQgYmUgYHB1c2hTdGF0ZWAtYmFzZWQgaW5zdGVhZC4uLlxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2hhc1B1c2hTdGF0ZSAmJiB0aGlzLmF0Um9vdCgpKSB7XG4gICAgICAgICAgdGhpcy5uYXZpZ2F0ZSh0aGlzLmdldEhhc2goKSwge3JlcGxhY2U6IHRydWV9KTtcbiAgICAgICAgfVxuXG4gICAgICB9XG5cbiAgICAgIC8vIFByb3h5IGFuIGlmcmFtZSB0byBoYW5kbGUgbG9jYXRpb24gZXZlbnRzIGlmIHRoZSBicm93c2VyIGRvZXNuJ3RcbiAgICAgIC8vIHN1cHBvcnQgdGhlIGBoYXNoY2hhbmdlYCBldmVudCwgSFRNTDUgaGlzdG9yeSwgb3IgdGhlIHVzZXIgd2FudHNcbiAgICAgIC8vIGBoYXNoQ2hhbmdlYCBidXQgbm90IGBwdXNoU3RhdGVgLlxuICAgICAgaWYgKCF0aGlzLl9oYXNIYXNoQ2hhbmdlICYmIHRoaXMuX3dhbnRzSGFzaENoYW5nZSAmJiAhdGhpcy5fdXNlUHVzaFN0YXRlKSB7XG4gICAgICAgIHRoaXMuaWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7XG4gICAgICAgIHRoaXMuaWZyYW1lLnNyYyA9ICdqYXZhc2NyaXB0OjAnO1xuICAgICAgICB0aGlzLmlmcmFtZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB0aGlzLmlmcmFtZS50YWJJbmRleCA9IC0xO1xuICAgICAgICB2YXIgYm9keSA9IGRvY3VtZW50LmJvZHk7XG4gICAgICAgIC8vIFVzaW5nIGBhcHBlbmRDaGlsZGAgd2lsbCB0aHJvdyBvbiBJRSA8IDkgaWYgdGhlIGRvY3VtZW50IGlzIG5vdCByZWFkeS5cbiAgICAgICAgdmFyIGlXaW5kb3cgPSBib2R5Lmluc2VydEJlZm9yZSh0aGlzLmlmcmFtZSwgYm9keS5maXJzdENoaWxkKS5jb250ZW50V2luZG93O1xuICAgICAgICBpV2luZG93LmRvY3VtZW50Lm9wZW4oKTtcbiAgICAgICAgaVdpbmRvdy5kb2N1bWVudC5jbG9zZSgpO1xuICAgICAgICBpV2luZG93LmxvY2F0aW9uLmhhc2ggPSAnIycgKyB0aGlzLmZyYWdtZW50O1xuICAgICAgfVxuXG4gICAgICAvLyBBZGQgYSBjcm9zcy1wbGF0Zm9ybSBgYWRkRXZlbnRMaXN0ZW5lcmAgc2hpbSBmb3Igb2xkZXIgYnJvd3NlcnMuXG4gICAgICB2YXIgYWRkRXZlbnRMaXN0ZW5lciA9IHdpbmRvdy5hZGRFdmVudExpc3RlbmVyIHx8IGZ1bmN0aW9uIChldmVudE5hbWUsIGxpc3RlbmVyKSB7XG4gICAgICAgIHJldHVybiBhdHRhY2hFdmVudCgnb24nICsgZXZlbnROYW1lLCBsaXN0ZW5lcik7XG4gICAgICB9O1xuXG4gICAgICAvLyBEZXBlbmRpbmcgb24gd2hldGhlciB3ZSdyZSB1c2luZyBwdXNoU3RhdGUgb3IgaGFzaGVzLCBhbmQgd2hldGhlclxuICAgICAgLy8gJ29uaGFzaGNoYW5nZScgaXMgc3VwcG9ydGVkLCBkZXRlcm1pbmUgaG93IHdlIGNoZWNrIHRoZSBVUkwgc3RhdGUuXG4gICAgICBpZiAodGhpcy5fdXNlUHVzaFN0YXRlKSB7XG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywgdGhpcy5jaGVja1VybCwgZmFsc2UpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLl91c2VIYXNoQ2hhbmdlICYmICF0aGlzLmlmcmFtZSkge1xuICAgICAgICBhZGRFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgdGhpcy5jaGVja1VybCwgZmFsc2UpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLl93YW50c0hhc2hDaGFuZ2UpIHtcbiAgICAgICAgdGhpcy5fY2hlY2tVcmxJbnRlcnZhbCA9IHNldEludGVydmFsKHRoaXMuY2hlY2tVcmwsIHRoaXMuaW50ZXJ2YWwpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMub3B0aW9ucy5zaWxlbnQpIHJldHVybiB0aGlzLmxvYWRVcmwoKTtcbiAgICB9LFxuXG4gICAgLy8gRGlzYWJsZSBCYWNrYm9uZS5oaXN0b3J5LCBwZXJoYXBzIHRlbXBvcmFyaWx5LiBOb3QgdXNlZnVsIGluIGEgcmVhbCBhcHAsXG4gICAgLy8gYnV0IHBvc3NpYmx5IHVzZWZ1bCBmb3IgdW5pdCB0ZXN0aW5nIFJvdXRlcnMuXG4gICAgc3RvcDogZnVuY3Rpb24oKSB7XG4gICAgICAvLyBBZGQgYSBjcm9zcy1wbGF0Zm9ybSBgcmVtb3ZlRXZlbnRMaXN0ZW5lcmAgc2hpbSBmb3Igb2xkZXIgYnJvd3NlcnMuXG4gICAgICB2YXIgcmVtb3ZlRXZlbnRMaXN0ZW5lciA9IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyIHx8IGZ1bmN0aW9uIChldmVudE5hbWUsIGxpc3RlbmVyKSB7XG4gICAgICAgIHJldHVybiBkZXRhY2hFdmVudCgnb24nICsgZXZlbnROYW1lLCBsaXN0ZW5lcik7XG4gICAgICB9O1xuXG4gICAgICAvLyBSZW1vdmUgd2luZG93IGxpc3RlbmVycy5cbiAgICAgIGlmICh0aGlzLl91c2VQdXNoU3RhdGUpIHtcbiAgICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9wc3RhdGUnLCB0aGlzLmNoZWNrVXJsLCBmYWxzZSk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX3VzZUhhc2hDaGFuZ2UgJiYgIXRoaXMuaWZyYW1lKSB7XG4gICAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCB0aGlzLmNoZWNrVXJsLCBmYWxzZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIENsZWFuIHVwIHRoZSBpZnJhbWUgaWYgbmVjZXNzYXJ5LlxuICAgICAgaWYgKHRoaXMuaWZyYW1lKSB7XG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5pZnJhbWUpO1xuICAgICAgICB0aGlzLmlmcmFtZSA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIC8vIFNvbWUgZW52aXJvbm1lbnRzIHdpbGwgdGhyb3cgd2hlbiBjbGVhcmluZyBhbiB1bmRlZmluZWQgaW50ZXJ2YWwuXG4gICAgICBpZiAodGhpcy5fY2hlY2tVcmxJbnRlcnZhbCkgY2xlYXJJbnRlcnZhbCh0aGlzLl9jaGVja1VybEludGVydmFsKTtcbiAgICAgIEhpc3Rvcnkuc3RhcnRlZCA9IGZhbHNlO1xuICAgIH0sXG5cbiAgICAvLyBBZGQgYSByb3V0ZSB0byBiZSB0ZXN0ZWQgd2hlbiB0aGUgZnJhZ21lbnQgY2hhbmdlcy4gUm91dGVzIGFkZGVkIGxhdGVyXG4gICAgLy8gbWF5IG92ZXJyaWRlIHByZXZpb3VzIHJvdXRlcy5cbiAgICByb3V0ZTogZnVuY3Rpb24ocm91dGUsIGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLmhhbmRsZXJzLnVuc2hpZnQoe3JvdXRlOiByb3V0ZSwgY2FsbGJhY2s6IGNhbGxiYWNrfSk7XG4gICAgfSxcblxuICAgIC8vIENoZWNrcyB0aGUgY3VycmVudCBVUkwgdG8gc2VlIGlmIGl0IGhhcyBjaGFuZ2VkLCBhbmQgaWYgaXQgaGFzLFxuICAgIC8vIGNhbGxzIGBsb2FkVXJsYCwgbm9ybWFsaXppbmcgYWNyb3NzIHRoZSBoaWRkZW4gaWZyYW1lLlxuICAgIGNoZWNrVXJsOiBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgY3VycmVudCA9IHRoaXMuZ2V0RnJhZ21lbnQoKTtcblxuICAgICAgLy8gSWYgdGhlIHVzZXIgcHJlc3NlZCB0aGUgYmFjayBidXR0b24sIHRoZSBpZnJhbWUncyBoYXNoIHdpbGwgaGF2ZVxuICAgICAgLy8gY2hhbmdlZCBhbmQgd2Ugc2hvdWxkIHVzZSB0aGF0IGZvciBjb21wYXJpc29uLlxuICAgICAgaWYgKGN1cnJlbnQgPT09IHRoaXMuZnJhZ21lbnQgJiYgdGhpcy5pZnJhbWUpIHtcbiAgICAgICAgY3VycmVudCA9IHRoaXMuZ2V0SGFzaCh0aGlzLmlmcmFtZS5jb250ZW50V2luZG93KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGN1cnJlbnQgPT09IHRoaXMuZnJhZ21lbnQpIHJldHVybiBmYWxzZTtcbiAgICAgIGlmICh0aGlzLmlmcmFtZSkgdGhpcy5uYXZpZ2F0ZShjdXJyZW50KTtcbiAgICAgIHRoaXMubG9hZFVybCgpO1xuICAgIH0sXG5cbiAgICAvLyBBdHRlbXB0IHRvIGxvYWQgdGhlIGN1cnJlbnQgVVJMIGZyYWdtZW50LiBJZiBhIHJvdXRlIHN1Y2NlZWRzIHdpdGggYVxuICAgIC8vIG1hdGNoLCByZXR1cm5zIGB0cnVlYC4gSWYgbm8gZGVmaW5lZCByb3V0ZXMgbWF0Y2hlcyB0aGUgZnJhZ21lbnQsXG4gICAgLy8gcmV0dXJucyBgZmFsc2VgLlxuICAgIGxvYWRVcmw6IGZ1bmN0aW9uKGZyYWdtZW50KSB7XG4gICAgICAvLyBJZiB0aGUgcm9vdCBkb2Vzbid0IG1hdGNoLCBubyByb3V0ZXMgY2FuIG1hdGNoIGVpdGhlci5cbiAgICAgIGlmICghdGhpcy5tYXRjaFJvb3QoKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgZnJhZ21lbnQgPSB0aGlzLmZyYWdtZW50ID0gdGhpcy5nZXRGcmFnbWVudChmcmFnbWVudCk7XG4gICAgICByZXR1cm4gXy5zb21lKHRoaXMuaGFuZGxlcnMsIGZ1bmN0aW9uKGhhbmRsZXIpIHtcbiAgICAgICAgaWYgKGhhbmRsZXIucm91dGUudGVzdChmcmFnbWVudCkpIHtcbiAgICAgICAgICBoYW5kbGVyLmNhbGxiYWNrKGZyYWdtZW50KTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8vIFNhdmUgYSBmcmFnbWVudCBpbnRvIHRoZSBoYXNoIGhpc3RvcnksIG9yIHJlcGxhY2UgdGhlIFVSTCBzdGF0ZSBpZiB0aGVcbiAgICAvLyAncmVwbGFjZScgb3B0aW9uIGlzIHBhc3NlZC4gWW91IGFyZSByZXNwb25zaWJsZSBmb3IgcHJvcGVybHkgVVJMLWVuY29kaW5nXG4gICAgLy8gdGhlIGZyYWdtZW50IGluIGFkdmFuY2UuXG4gICAgLy9cbiAgICAvLyBUaGUgb3B0aW9ucyBvYmplY3QgY2FuIGNvbnRhaW4gYHRyaWdnZXI6IHRydWVgIGlmIHlvdSB3aXNoIHRvIGhhdmUgdGhlXG4gICAgLy8gcm91dGUgY2FsbGJhY2sgYmUgZmlyZWQgKG5vdCB1c3VhbGx5IGRlc2lyYWJsZSksIG9yIGByZXBsYWNlOiB0cnVlYCwgaWZcbiAgICAvLyB5b3Ugd2lzaCB0byBtb2RpZnkgdGhlIGN1cnJlbnQgVVJMIHdpdGhvdXQgYWRkaW5nIGFuIGVudHJ5IHRvIHRoZSBoaXN0b3J5LlxuICAgIG5hdmlnYXRlOiBmdW5jdGlvbihmcmFnbWVudCwgb3B0aW9ucykge1xuICAgICAgaWYgKCFIaXN0b3J5LnN0YXJ0ZWQpIHJldHVybiBmYWxzZTtcbiAgICAgIGlmICghb3B0aW9ucyB8fCBvcHRpb25zID09PSB0cnVlKSBvcHRpb25zID0ge3RyaWdnZXI6ICEhb3B0aW9uc307XG5cbiAgICAgIC8vIE5vcm1hbGl6ZSB0aGUgZnJhZ21lbnQuXG4gICAgICBmcmFnbWVudCA9IHRoaXMuZ2V0RnJhZ21lbnQoZnJhZ21lbnQgfHwgJycpO1xuXG4gICAgICAvLyBEb24ndCBpbmNsdWRlIGEgdHJhaWxpbmcgc2xhc2ggb24gdGhlIHJvb3QuXG4gICAgICB2YXIgcm9vdCA9IHRoaXMucm9vdDtcbiAgICAgIGlmIChmcmFnbWVudCA9PT0gJycgfHwgZnJhZ21lbnQuY2hhckF0KDApID09PSAnPycpIHtcbiAgICAgICAgcm9vdCA9IHJvb3Quc2xpY2UoMCwgLTEpIHx8ICcvJztcbiAgICAgIH1cbiAgICAgIHZhciB1cmwgPSByb290ICsgZnJhZ21lbnQ7XG5cbiAgICAgIC8vIFN0cmlwIHRoZSBoYXNoIGFuZCBkZWNvZGUgZm9yIG1hdGNoaW5nLlxuICAgICAgZnJhZ21lbnQgPSB0aGlzLmRlY29kZUZyYWdtZW50KGZyYWdtZW50LnJlcGxhY2UocGF0aFN0cmlwcGVyLCAnJykpO1xuXG4gICAgICBpZiAodGhpcy5mcmFnbWVudCA9PT0gZnJhZ21lbnQpIHJldHVybjtcbiAgICAgIHRoaXMuZnJhZ21lbnQgPSBmcmFnbWVudDtcblxuICAgICAgLy8gSWYgcHVzaFN0YXRlIGlzIGF2YWlsYWJsZSwgd2UgdXNlIGl0IHRvIHNldCB0aGUgZnJhZ21lbnQgYXMgYSByZWFsIFVSTC5cbiAgICAgIGlmICh0aGlzLl91c2VQdXNoU3RhdGUpIHtcbiAgICAgICAgdGhpcy5oaXN0b3J5W29wdGlvbnMucmVwbGFjZSA/ICdyZXBsYWNlU3RhdGUnIDogJ3B1c2hTdGF0ZSddKHt9LCBkb2N1bWVudC50aXRsZSwgdXJsKTtcblxuICAgICAgLy8gSWYgaGFzaCBjaGFuZ2VzIGhhdmVuJ3QgYmVlbiBleHBsaWNpdGx5IGRpc2FibGVkLCB1cGRhdGUgdGhlIGhhc2hcbiAgICAgIC8vIGZyYWdtZW50IHRvIHN0b3JlIGhpc3RvcnkuXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX3dhbnRzSGFzaENoYW5nZSkge1xuICAgICAgICB0aGlzLl91cGRhdGVIYXNoKHRoaXMubG9jYXRpb24sIGZyYWdtZW50LCBvcHRpb25zLnJlcGxhY2UpO1xuICAgICAgICBpZiAodGhpcy5pZnJhbWUgJiYgKGZyYWdtZW50ICE9PSB0aGlzLmdldEhhc2godGhpcy5pZnJhbWUuY29udGVudFdpbmRvdykpKSB7XG4gICAgICAgICAgdmFyIGlXaW5kb3cgPSB0aGlzLmlmcmFtZS5jb250ZW50V2luZG93O1xuXG4gICAgICAgICAgLy8gT3BlbmluZyBhbmQgY2xvc2luZyB0aGUgaWZyYW1lIHRyaWNrcyBJRTcgYW5kIGVhcmxpZXIgdG8gcHVzaCBhXG4gICAgICAgICAgLy8gaGlzdG9yeSBlbnRyeSBvbiBoYXNoLXRhZyBjaGFuZ2UuICBXaGVuIHJlcGxhY2UgaXMgdHJ1ZSwgd2UgZG9uJ3RcbiAgICAgICAgICAvLyB3YW50IHRoaXMuXG4gICAgICAgICAgaWYgKCFvcHRpb25zLnJlcGxhY2UpIHtcbiAgICAgICAgICAgIGlXaW5kb3cuZG9jdW1lbnQub3BlbigpO1xuICAgICAgICAgICAgaVdpbmRvdy5kb2N1bWVudC5jbG9zZSgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMuX3VwZGF0ZUhhc2goaVdpbmRvdy5sb2NhdGlvbiwgZnJhZ21lbnQsIG9wdGlvbnMucmVwbGFjZSk7XG4gICAgICAgIH1cblxuICAgICAgLy8gSWYgeW91J3ZlIHRvbGQgdXMgdGhhdCB5b3UgZXhwbGljaXRseSBkb24ndCB3YW50IGZhbGxiYWNrIGhhc2hjaGFuZ2UtXG4gICAgICAvLyBiYXNlZCBoaXN0b3J5LCB0aGVuIGBuYXZpZ2F0ZWAgYmVjb21lcyBhIHBhZ2UgcmVmcmVzaC5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2F0aW9uLmFzc2lnbih1cmwpO1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMudHJpZ2dlcikgcmV0dXJuIHRoaXMubG9hZFVybChmcmFnbWVudCk7XG4gICAgfSxcblxuICAgIC8vIFVwZGF0ZSB0aGUgaGFzaCBsb2NhdGlvbiwgZWl0aGVyIHJlcGxhY2luZyB0aGUgY3VycmVudCBlbnRyeSwgb3IgYWRkaW5nXG4gICAgLy8gYSBuZXcgb25lIHRvIHRoZSBicm93c2VyIGhpc3RvcnkuXG4gICAgX3VwZGF0ZUhhc2g6IGZ1bmN0aW9uKGxvY2F0aW9uLCBmcmFnbWVudCwgcmVwbGFjZSkge1xuICAgICAgaWYgKHJlcGxhY2UpIHtcbiAgICAgICAgdmFyIGhyZWYgPSBsb2NhdGlvbi5ocmVmLnJlcGxhY2UoLyhqYXZhc2NyaXB0OnwjKS4qJC8sICcnKTtcbiAgICAgICAgbG9jYXRpb24ucmVwbGFjZShocmVmICsgJyMnICsgZnJhZ21lbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gU29tZSBicm93c2VycyByZXF1aXJlIHRoYXQgYGhhc2hgIGNvbnRhaW5zIGEgbGVhZGluZyAjLlxuICAgICAgICBsb2NhdGlvbi5oYXNoID0gJyMnICsgZnJhZ21lbnQ7XG4gICAgICB9XG4gICAgfVxuXG4gIH0pO1xuXG4gIC8vIENyZWF0ZSB0aGUgZGVmYXVsdCBCYWNrYm9uZS5oaXN0b3J5LlxuICBCYWNrYm9uZS5oaXN0b3J5ID0gbmV3IEhpc3Rvcnk7XG5cbiAgLy8gSGVscGVyc1xuICAvLyAtLS0tLS0tXG5cbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGNvcnJlY3RseSBzZXQgdXAgdGhlIHByb3RvdHlwZSBjaGFpbiBmb3Igc3ViY2xhc3Nlcy5cbiAgLy8gU2ltaWxhciB0byBgZ29vZy5pbmhlcml0c2AsIGJ1dCB1c2VzIGEgaGFzaCBvZiBwcm90b3R5cGUgcHJvcGVydGllcyBhbmRcbiAgLy8gY2xhc3MgcHJvcGVydGllcyB0byBiZSBleHRlbmRlZC5cbiAgdmFyIGV4dGVuZCA9IGZ1bmN0aW9uKHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgdmFyIHBhcmVudCA9IHRoaXM7XG4gICAgdmFyIGNoaWxkO1xuXG4gICAgLy8gVGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIGZvciB0aGUgbmV3IHN1YmNsYXNzIGlzIGVpdGhlciBkZWZpbmVkIGJ5IHlvdVxuICAgIC8vICh0aGUgXCJjb25zdHJ1Y3RvclwiIHByb3BlcnR5IGluIHlvdXIgYGV4dGVuZGAgZGVmaW5pdGlvbiksIG9yIGRlZmF1bHRlZFxuICAgIC8vIGJ5IHVzIHRvIHNpbXBseSBjYWxsIHRoZSBwYXJlbnQgY29uc3RydWN0b3IuXG4gICAgaWYgKHByb3RvUHJvcHMgJiYgXy5oYXMocHJvdG9Qcm9wcywgJ2NvbnN0cnVjdG9yJykpIHtcbiAgICAgIGNoaWxkID0gcHJvdG9Qcm9wcy5jb25zdHJ1Y3RvcjtcbiAgICB9IGVsc2Uge1xuICAgICAgY2hpbGQgPSBmdW5jdGlvbigpeyByZXR1cm4gcGFyZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH07XG4gICAgfVxuXG4gICAgLy8gQWRkIHN0YXRpYyBwcm9wZXJ0aWVzIHRvIHRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvbiwgaWYgc3VwcGxpZWQuXG4gICAgXy5leHRlbmQoY2hpbGQsIHBhcmVudCwgc3RhdGljUHJvcHMpO1xuXG4gICAgLy8gU2V0IHRoZSBwcm90b3R5cGUgY2hhaW4gdG8gaW5oZXJpdCBmcm9tIGBwYXJlbnRgLCB3aXRob3V0IGNhbGxpbmdcbiAgICAvLyBgcGFyZW50YCBjb25zdHJ1Y3RvciBmdW5jdGlvbi5cbiAgICB2YXIgU3Vycm9nYXRlID0gZnVuY3Rpb24oKXsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9O1xuICAgIFN1cnJvZ2F0ZS5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlO1xuICAgIGNoaWxkLnByb3RvdHlwZSA9IG5ldyBTdXJyb2dhdGU7XG5cbiAgICAvLyBBZGQgcHJvdG90eXBlIHByb3BlcnRpZXMgKGluc3RhbmNlIHByb3BlcnRpZXMpIHRvIHRoZSBzdWJjbGFzcyxcbiAgICAvLyBpZiBzdXBwbGllZC5cbiAgICBpZiAocHJvdG9Qcm9wcykgXy5leHRlbmQoY2hpbGQucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcblxuICAgIC8vIFNldCBhIGNvbnZlbmllbmNlIHByb3BlcnR5IGluIGNhc2UgdGhlIHBhcmVudCdzIHByb3RvdHlwZSBpcyBuZWVkZWRcbiAgICAvLyBsYXRlci5cbiAgICBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlO1xuXG4gICAgcmV0dXJuIGNoaWxkO1xuICB9O1xuXG4gIC8vIFNldCB1cCBpbmhlcml0YW5jZSBmb3IgdGhlIG1vZGVsLCBjb2xsZWN0aW9uLCByb3V0ZXIsIHZpZXcgYW5kIGhpc3RvcnkuXG4gIE1vZGVsLmV4dGVuZCA9IENvbGxlY3Rpb24uZXh0ZW5kID0gUm91dGVyLmV4dGVuZCA9IFZpZXcuZXh0ZW5kID0gSGlzdG9yeS5leHRlbmQgPSBleHRlbmQ7XG5cbiAgLy8gVGhyb3cgYW4gZXJyb3Igd2hlbiBhIFVSTCBpcyBuZWVkZWQsIGFuZCBub25lIGlzIHN1cHBsaWVkLlxuICB2YXIgdXJsRXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0EgXCJ1cmxcIiBwcm9wZXJ0eSBvciBmdW5jdGlvbiBtdXN0IGJlIHNwZWNpZmllZCcpO1xuICB9O1xuXG4gIC8vIFdyYXAgYW4gb3B0aW9uYWwgZXJyb3IgY2FsbGJhY2sgd2l0aCBhIGZhbGxiYWNrIGVycm9yIGV2ZW50LlxuICB2YXIgd3JhcEVycm9yID0gZnVuY3Rpb24obW9kZWwsIG9wdGlvbnMpIHtcbiAgICB2YXIgZXJyb3IgPSBvcHRpb25zLmVycm9yO1xuICAgIG9wdGlvbnMuZXJyb3IgPSBmdW5jdGlvbihyZXNwKSB7XG4gICAgICBpZiAoZXJyb3IpIGVycm9yLmNhbGwob3B0aW9ucy5jb250ZXh0LCBtb2RlbCwgcmVzcCwgb3B0aW9ucyk7XG4gICAgICBtb2RlbC50cmlnZ2VyKCdlcnJvcicsIG1vZGVsLCByZXNwLCBvcHRpb25zKTtcbiAgICB9O1xuICB9O1xuXG4gIHJldHVybiBCYWNrYm9uZTtcblxufSkpOyIsIi8qIE1vbWVudC5qcyB8IHZlcnNpb24gOiAxLjIuMCB8IGF1dGhvciA6IFRpbSBXb29kIHwgbGljZW5zZSA6IE1JVCAqL1xuKGZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gayhhLGIpe3ZhciBjPWErXCJcIjt3aGlsZShjLmxlbmd0aDxiKWM9XCIwXCIrYztyZXR1cm4gY31mdW5jdGlvbiBsKGIsYyxkLGUpe3ZhciBmPXR5cGVvZiBjPT1cInN0cmluZ1wiLGc9Zj97fTpjLGgsaSxqLGs7cmV0dXJuIGYmJmUmJihnW2NdPWUpLGg9KGcubXN8fGcubWlsbGlzZWNvbmRzfHwwKSsoZy5zfHxnLnNlY29uZHN8fDApKjFlMysoZy5tfHxnLm1pbnV0ZXN8fDApKjZlNCsoZy5ofHxnLmhvdXJzfHwwKSozNmU1LGk9KGcuZHx8Zy5kYXlzfHwwKSsoZy53fHxnLndlZWtzfHwwKSo3LGo9KGcuTXx8Zy5tb250aHN8fDApKyhnLnl8fGcueWVhcnN8fDApKjEyLGgmJmIuc2V0VGltZSgrYitoKmQpLGkmJmIuc2V0RGF0ZShiLmdldERhdGUoKStpKmQpLGomJihrPWIuZ2V0RGF0ZSgpLGIuc2V0RGF0ZSgxKSxiLnNldE1vbnRoKGIuZ2V0TW9udGgoKStqKmQpLGIuc2V0RGF0ZShNYXRoLm1pbigobmV3IGEoYi5nZXRGdWxsWWVhcigpLGIuZ2V0TW9udGgoKSsxLDApKS5nZXREYXRlKCksaykpKSxifWZ1bmN0aW9uIG0oYSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKT09PVwiW29iamVjdCBBcnJheV1cIn1mdW5jdGlvbiBuKGIpe3JldHVybiBuZXcgYShiWzBdLGJbMV18fDAsYlsyXXx8MSxiWzNdfHwwLGJbNF18fDAsYls1XXx8MCxiWzZdfHwwKX1mdW5jdGlvbiBvKGIsZCl7ZnVuY3Rpb24gdChkKXt2YXIgbix1O3N3aXRjaChkKXtjYXNlXCJNXCI6cmV0dXJuIGUrMTtjYXNlXCJNb1wiOnJldHVybiBlKzErcihlKzEpO2Nhc2VcIk1NXCI6cmV0dXJuIGsoZSsxLDIpO2Nhc2VcIk1NTVwiOnJldHVybiBjLm1vbnRoc1Nob3J0W2VdO2Nhc2VcIk1NTU1cIjpyZXR1cm4gYy5tb250aHNbZV07Y2FzZVwiRFwiOnJldHVybiBmO2Nhc2VcIkRvXCI6cmV0dXJuIGYrcihmKTtjYXNlXCJERFwiOnJldHVybiBrKGYsMik7Y2FzZVwiREREXCI6cmV0dXJuIG49bmV3IGEoZyxlLGYpLHU9bmV3IGEoZywwLDEpLH5+KChuLXUpLzg2NGU1KzEuNSk7Y2FzZVwiREREb1wiOnJldHVybiBuPXQoXCJERERcIiksbityKG4pO2Nhc2VcIkRERERcIjpyZXR1cm4gayh0KFwiREREXCIpLDMpO2Nhc2VcImRcIjpyZXR1cm4gaDtjYXNlXCJkb1wiOnJldHVybiBoK3IoaCk7Y2FzZVwiZGRkXCI6cmV0dXJuIGMud2Vla2RheXNTaG9ydFtoXTtjYXNlXCJkZGRkXCI6cmV0dXJuIGMud2Vla2RheXNbaF07Y2FzZVwid1wiOnJldHVybiBuPW5ldyBhKGcsZSxmLWgrNSksdT1uZXcgYShuLmdldEZ1bGxZZWFyKCksMCw0KSx+figobi11KS84NjRlNS83KzEuNSk7Y2FzZVwid29cIjpyZXR1cm4gbj10KFwid1wiKSxuK3Iobik7Y2FzZVwid3dcIjpyZXR1cm4gayh0KFwid1wiKSwyKTtjYXNlXCJZWVwiOnJldHVybiBrKGclMTAwLDIpO2Nhc2VcIllZWVlcIjpyZXR1cm4gZztjYXNlXCJhXCI6cmV0dXJuIGk+MTE/cy5wbTpzLmFtO2Nhc2VcIkFcIjpyZXR1cm4gaT4xMT9zLlBNOnMuQU07Y2FzZVwiSFwiOnJldHVybiBpO2Nhc2VcIkhIXCI6cmV0dXJuIGsoaSwyKTtjYXNlXCJoXCI6cmV0dXJuIGklMTJ8fDEyO2Nhc2VcImhoXCI6cmV0dXJuIGsoaSUxMnx8MTIsMik7Y2FzZVwibVwiOnJldHVybiBqO2Nhc2VcIm1tXCI6cmV0dXJuIGsoaiwyKTtjYXNlXCJzXCI6cmV0dXJuIGw7Y2FzZVwic3NcIjpyZXR1cm4gayhsLDIpO2Nhc2VcInp6XCI6Y2FzZVwielwiOnJldHVybihiLnRvU3RyaW5nKCkubWF0Y2gocSl8fFtcIlwiXSlbMF0ucmVwbGFjZShwLFwiXCIpO2Nhc2VcIlpcIjpyZXR1cm4obT4wP1wiK1wiOlwiLVwiKStrKH5+KG0vNjApLDIpK1wiOlwiK2sofn4obSU2MCksMik7Y2FzZVwiWlpcIjpyZXR1cm4obT4wP1wiK1wiOlwiLVwiKStrKH5+KDEwKm0vNiksNCk7Y2FzZVwiTFwiOmNhc2VcIkxMXCI6Y2FzZVwiTExMXCI6Y2FzZVwiTExMTFwiOnJldHVybiBvKGIsYy5sb25nRGF0ZUZvcm1hdFtkXSk7ZGVmYXVsdDpyZXR1cm4gZC5yZXBsYWNlKFwiXFxcXFwiLFwiXCIpfX12YXIgZT1iLmdldE1vbnRoKCksZj1iLmdldERhdGUoKSxnPWIuZ2V0RnVsbFllYXIoKSxoPWIuZ2V0RGF5KCksaT1iLmdldEhvdXJzKCksaj1iLmdldE1pbnV0ZXMoKSxsPWIuZ2V0U2Vjb25kcygpLG09Yi5nZXRUaW1lem9uZU9mZnNldCgpLG49LyhcXFxcKT8oTW98TU0/TT9NP3xEb3xERERvfEREP0Q/RD98ZGRkZD98ZG8/fHdbb3x3XT98WVlZWXxZWXxhfEF8aGg/fEhIP3xtbT98c3M/fHp6P3xaWj98TEw/TD9MPykvZyxwPS9bXkEtWl0vZyxxPS9cXChbQS1aYS16IF0rXFwpfDpbMC05XXsyfSBbQS1aXXszfSAvZyxyPWMub3JkaW5hbCxzPWMubWVyaWRpZW07cmV0dXJuIGQucmVwbGFjZShuLHQpfWZ1bmN0aW9uIHAoYixjKXtmdW5jdGlvbiBwKGEsYil7dmFyIGM7c3dpdGNoKGEpe2Nhc2VcIk1cIjpjYXNlXCJNTVwiOmRbMV09fn5iLTE7YnJlYWs7Y2FzZVwiRFwiOmNhc2VcIkREXCI6Y2FzZVwiREREXCI6Y2FzZVwiRERERFwiOmRbMl09fn5iO2JyZWFrO2Nhc2VcIllZXCI6Yj1+fmIsZFswXT1iKyhiPjcwPzE5MDA6MmUzKTticmVhaztjYXNlXCJZWVlZXCI6ZFswXT1+fk1hdGguYWJzKGIpO2JyZWFrO2Nhc2VcImFcIjpjYXNlXCJBXCI6bz1iLnRvTG93ZXJDYXNlKCk9PT1cInBtXCI7YnJlYWs7Y2FzZVwiSFwiOmNhc2VcIkhIXCI6Y2FzZVwiaFwiOmNhc2VcImhoXCI6ZFszXT1+fmI7YnJlYWs7Y2FzZVwibVwiOmNhc2VcIm1tXCI6ZFs0XT1+fmI7YnJlYWs7Y2FzZVwic1wiOmNhc2VcInNzXCI6ZFs1XT1+fmI7YnJlYWs7Y2FzZVwiWlwiOmNhc2VcIlpaXCI6Zz0hMCxjPWIubWF0Y2goaiksY1sxXSYmKGU9fn5jWzFdKSxjWzJdJiYoZj1+fmNbMl0pLGNbMF09PT1cIi1cIiYmKGU9LWUsZj0tZil9fXZhciBkPVswLDAsMSwwLDAsMCwwXSxlPTAsZj0wLGc9ITEsaD0vKFxcXFwpPyhNTT98REQ/RD9EP3xZWVlZfFlZfGF8QXxoaD98SEg/fG1tP3xzcz98Wlo/KS9nLGk9LyhcXFxcKT8oWzAtOV0rfGFtfHBtfChbXFwrXFwtXVxcZFxcZDo/XFxkXFxkKSkvZ2ksaj0vKFtcXCtcXC1dfFxcZFxcZCkvZ2ksaz1iLm1hdGNoKGkpLGw9Yy5tYXRjaChoKSxtLG87Zm9yKG09MDttPGwubGVuZ3RoO20rKylwKGxbbV0sa1ttXSk7cmV0dXJuIG8mJmRbM108MTImJihkWzNdKz0xMiksIW8mJmRbM109PT0xMiYmKGRbM109MCksZFszXSs9ZSxkWzRdKz1mLGc/bmV3IGEoYS5VVEMuYXBwbHkoe30sZCkpOm4oZCl9ZnVuY3Rpb24gcShhLGIpe3ZhciBjPU1hdGgubWluKGEubGVuZ3RoLGIubGVuZ3RoKSxkPU1hdGguYWJzKGEubGVuZ3RoLWIubGVuZ3RoKSxlPTAsZjtmb3IoZj0wO2Y8YztmKyspfn5hW2ZdIT09fn5iW2ZdJiZlKys7cmV0dXJuIGUrZH1mdW5jdGlvbiByKGEsYil7dmFyIGMsZD0vKFxcXFwpPyhbMC05XSt8YW18cG18KFtcXCtcXC1dXFxkXFxkOj9cXGRcXGQpKS9naSxlPWEubWF0Y2goZCksZj1bXSxnPTk5LGgsaSxqO2ZvcihoPTA7aDxiLmxlbmd0aDtoKyspaT1wKGEsYltoXSksaj1xKGUsbyhpLGJbaF0pLm1hdGNoKGQpKSxqPGcmJihnPWosYz1pKTtyZXR1cm4gY31mdW5jdGlvbiBzKGEpe3RoaXMuX2Q9YX1mdW5jdGlvbiB0KGEsYixkKXt2YXIgZT1jLnJlbGF0aXZlVGltZVthXTtyZXR1cm4gdHlwZW9mIGU9PVwiZnVuY3Rpb25cIj9lKGJ8fDEsISFkLGEpOmUucmVwbGFjZSgvJWQvaSxifHwxKX1mdW5jdGlvbiB1KGEsYil7dmFyIGM9ZChNYXRoLmFicyhhKS8xZTMpLGU9ZChjLzYwKSxmPWQoZS82MCksZz1kKGYvMjQpLGg9ZChnLzM2NSksaT1jPDQ1JiZbXCJzXCIsY118fGU9PT0xJiZbXCJtXCJdfHxlPDQ1JiZbXCJtbVwiLGVdfHxmPT09MSYmW1wiaFwiXXx8ZjwyMiYmW1wiaGhcIixmXXx8Zz09PTEmJltcImRcIl18fGc8PTI1JiZbXCJkZFwiLGddfHxnPD00NSYmW1wiTVwiXXx8ZzwzNDUmJltcIk1NXCIsZChnLzMwKV18fGg9PT0xJiZbXCJ5XCJdfHxbXCJ5eVwiLGhdO3JldHVybiBpWzJdPWIsdC5hcHBseSh7fSxpKX1mdW5jdGlvbiB2KGEsYil7Yy5mblthXT1mdW5jdGlvbihhKXtyZXR1cm4gYSE9bnVsbD8odGhpcy5fZFtcInNldFwiK2JdKGEpLHRoaXMpOnRoaXMuX2RbXCJnZXRcIitiXSgpfX12YXIgYyxkPU1hdGgucm91bmQsZT17fSxmPXR5cGVvZiBtb2R1bGUhPVwidW5kZWZpbmVkXCIsZz1cIm1vbnRoc3xtb250aHNTaG9ydHx3ZWVrZGF5c3x3ZWVrZGF5c1Nob3J0fGxvbmdEYXRlRm9ybWF0fHJlbGF0aXZlVGltZXxvcmRpbmFsfG1lcmlkaWVtXCIuc3BsaXQoXCJ8XCIpLGgsaT1cIjEuMi4wXCIsaj1cIk1vbnRofERhdGV8SG91cnN8TWludXRlc3xTZWNvbmRzXCIuc3BsaXQoXCJ8XCIpO2M9ZnVuY3Rpb24oYyxkKXtpZihjPT09bnVsbClyZXR1cm4gbnVsbDt2YXIgZTtyZXR1cm4gYyYmYy5fZCBpbnN0YW5jZW9mIGE/ZT1uZXcgYSgrYy5fZCk6ZD9tKGQpP2U9cihjLGQpOmU9cChjLGQpOmU9Yz09PWI/bmV3IGE6YyBpbnN0YW5jZW9mIGE/YzptKGMpP24oYyk6bmV3IGEoYyksbmV3IHMoZSl9LGMudmVyc2lvbj1pLGMubGFuZz1mdW5jdGlvbihhLGIpe3ZhciBkLGgsaTtiJiYoZVthXT1iKTtpZihlW2FdKWZvcihkPTA7ZDxnLmxlbmd0aDtkKyspaD1nW2RdLGNbaF09ZVthXVtoXXx8Y1toXTtlbHNlIGYmJihpPXJlcXVpcmUoXCIuL2xhbmcvXCIrYSksYy5sYW5nKGEsaSkpfSxjLmxhbmcoXCJlblwiLHttb250aHM6XCJKYW51YXJ5X0ZlYnJ1YXJ5X01hcmNoX0FwcmlsX01heV9KdW5lX0p1bHlfQXVndXN0X1NlcHRlbWJlcl9PY3RvYmVyX05vdmVtYmVyX0RlY2VtYmVyXCIuc3BsaXQoXCJfXCIpLG1vbnRoc1Nob3J0OlwiSmFuX0ZlYl9NYXJfQXByX01heV9KdW5fSnVsX0F1Z19TZXBfT2N0X05vdl9EZWNcIi5zcGxpdChcIl9cIiksd2Vla2RheXM6XCJTdW5kYXlfTW9uZGF5X1R1ZXNkYXlfV2VkbmVzZGF5X1RodXJzZGF5X0ZyaWRheV9TYXR1cmRheVwiLnNwbGl0KFwiX1wiKSx3ZWVrZGF5c1Nob3J0OlwiU3VuX01vbl9UdWVfV2VkX1RodV9GcmlfU2F0XCIuc3BsaXQoXCJfXCIpLGxvbmdEYXRlRm9ybWF0OntMOlwiTU0vREQvWVlZWVwiLExMOlwiTU1NTSBEIFlZWVlcIixMTEw6XCJNTU1NIEQgWVlZWSBoOm1tIEFcIixMTExMOlwiZGRkZCwgTU1NTSBEIFlZWVkgaDptbSBBXCJ9LG1lcmlkaWVtOntBTTpcIkFNXCIsYW06XCJhbVwiLFBNOlwiUE1cIixwbTpcInBtXCJ9LHJlbGF0aXZlVGltZTp7ZnV0dXJlOlwiaW4gJXNcIixwYXN0OlwiJXMgYWdvXCIsczpcImEgZmV3IHNlY29uZHNcIixtOlwiYSBtaW51dGVcIixtbTpcIiVkIG1pbnV0ZXNcIixoOlwiYW4gaG91clwiLGhoOlwiJWQgaG91cnNcIixkOlwiYSBkYXlcIixkZDpcIiVkIGRheXNcIixNOlwiYSBtb250aFwiLE1NOlwiJWQgbW9udGhzXCIseTpcImEgeWVhclwiLHl5OlwiJWQgeWVhcnNcIn0sb3JkaW5hbDpmdW5jdGlvbihhKXt2YXIgYj1hJTEwO3JldHVybn5+KGElMTAwLzEwKT09PTE/XCJ0aFwiOmI9PT0xP1wic3RcIjpiPT09Mj9cIm5kXCI6Yj09PTM/XCJyZFwiOlwidGhcIn19KSxjLmZuPXMucHJvdG90eXBlPXtjbG9uZTpmdW5jdGlvbigpe3JldHVybiBjKHRoaXMpfSx2YWx1ZU9mOmZ1bmN0aW9uKCl7cmV0dXJuK3RoaXMuX2R9LFwibmF0aXZlXCI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZH0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZC50b1N0cmluZygpfSx0b0RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZH0sZm9ybWF0OmZ1bmN0aW9uKGEpe3JldHVybiBvKHRoaXMuX2QsYSl9LGFkZDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLl9kPWwodGhpcy5fZCxhLDEsYiksdGhpc30sc3VidHJhY3Q6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5fZD1sKHRoaXMuX2QsYSwtMSxiKSx0aGlzfSxkaWZmOmZ1bmN0aW9uKGEsYixlKXt2YXIgZj1jKGEpLGc9dGhpcy5fZC1mLl9kLGg9dGhpcy55ZWFyKCktZi55ZWFyKCksaT10aGlzLm1vbnRoKCktZi5tb250aCgpLGo9dGhpcy5kYXkoKS1mLmRheSgpLGs7cmV0dXJuIGI9PT1cIm1vbnRoc1wiP2s9aCoxMitpK2ovMzA6Yj09PVwieWVhcnNcIj9rPWgraS8xMjprPWI9PT1cInNlY29uZHNcIj9nLzFlMzpiPT09XCJtaW51dGVzXCI/Zy82ZTQ6Yj09PVwiaG91cnNcIj9nLzM2ZTU6Yj09PVwiZGF5c1wiP2cvODY0ZTU6Yj09PVwid2Vla3NcIj9nLzYwNDhlNTpiPT09XCJkYXlzXCI/Zy8zNjAwOmcsZT9rOmQoayl9LGZyb206ZnVuY3Rpb24oYSxiKXt2YXIgZD10aGlzLmRpZmYoYSksZT1jLnJlbGF0aXZlVGltZSxmPXUoZCxiKTtyZXR1cm4gYj9mOihkPD0wP2UucGFzdDplLmZ1dHVyZSkucmVwbGFjZSgvJXMvaSxmKX0sZnJvbU5vdzpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5mcm9tKGMoKSxhKX0saXNMZWFwWWVhcjpmdW5jdGlvbigpe3ZhciBhPXRoaXMueWVhcigpO3JldHVybiBhJTQ9PT0wJiZhJTEwMCE9PTB8fGElNDAwPT09MH0saXNEU1Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy56b25lKCkhPT1jKFt0aGlzLnllYXIoKV0pLnpvbmUoKX19O2ZvcihoPTA7aDxqLmxlbmd0aDtoKyspdihqW2hdLnRvTG93ZXJDYXNlKCksaltoXSk7dihcInllYXJcIixcIkZ1bGxZZWFyXCIpLGMuZm4uZGF5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2QuZ2V0RGF5KCl9LGMuZm4uem9uZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kLmdldFRpbWV6b25lT2Zmc2V0KCl9LGYmJihtb2R1bGUuZXhwb3J0cz1jKSx0eXBlb2Ygd2luZG93IT1cInVuZGVmaW5lZFwiJiYod2luZG93Lm1vbWVudD1jKX0pKERhdGUpIiwiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjkuM1xuXG4vKlxuKGMpIDIwMTIgSmFuIE1vbnNjaGtlXG52MS4zXG5iYWNrYm9uZS1jb3VjaGRiLmpzIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqL1xudmFyIGNvbixcbiAgZXh0ZW5kID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChoYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9LFxuICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHksXG4gIGJpbmQgPSBmdW5jdGlvbihmbiwgbWUpeyByZXR1cm4gZnVuY3Rpb24oKXsgcmV0dXJuIGZuLmFwcGx5KG1lLCBhcmd1bWVudHMpOyB9OyB9O1xuXG5CYWNrYm9uZS5jb3VjaF9jb25uZWN0b3IgPSBjb24gPSB7XG4gIGNvbmZpZzoge1xuICAgIGRiX25hbWU6IFwiYmFja2JvbmVfY29ubmVjdFwiLFxuICAgIGRkb2NfbmFtZTogXCJiYWNrYm9uZV9leGFtcGxlXCIsXG4gICAgdmlld19uYW1lOiBcImJ5Q29sbGVjdGlvblwiLFxuICAgIGxpc3RfbmFtZTogbnVsbCxcbiAgICBnbG9iYWxfY2hhbmdlczogZmFsc2UsXG4gICAgc2luZ2xlX2ZlZWQ6IGZhbHNlLFxuICAgIGJhc2VfdXJsOiBudWxsXG4gIH0sXG4gIF9nbG9iYWxfZGJfaW5zdDogbnVsbCxcbiAgX2dsb2JhbF9jaGFuZ2VzX2hhbmRsZXI6IG51bGwsXG4gIF9nbG9iYWxfY2hhbmdlc19jYWxsYmFja3M6IFtdLFxuICBoZWxwZXJzOiB7XG4gICAgZXh0cmFjdF9jb2xsZWN0aW9uX25hbWU6IGZ1bmN0aW9uKG1vZGVsKSB7XG4gICAgICB2YXIgX25hbWUsIF9zcGxpdHRlZDtcbiAgICAgIGlmIChtb2RlbCA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIG1vZGVsIGhhcyBiZWVuIHBhc3NlZFwiKTtcbiAgICAgIH1cbiAgICAgIGlmICghKCgobW9kZWwuY29sbGVjdGlvbiAhPSBudWxsKSAmJiAobW9kZWwuY29sbGVjdGlvbi51cmwgIT0gbnVsbCkpIHx8IChtb2RlbC51cmwgIT0gbnVsbCkpKSB7XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgfVxuICAgICAgaWYgKG1vZGVsLnVybCAhPSBudWxsKSB7XG4gICAgICAgIF9uYW1lID0gXy5pc0Z1bmN0aW9uKG1vZGVsLnVybCkgPyBtb2RlbC51cmwoKSA6IG1vZGVsLnVybDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF9uYW1lID0gXy5pc0Z1bmN0aW9uKG1vZGVsLmNvbGxlY3Rpb24udXJsKSA/IG1vZGVsLmNvbGxlY3Rpb24udXJsKCkgOiBtb2RlbC5jb2xsZWN0aW9uLnVybDtcbiAgICAgIH1cbiAgICAgIGlmIChfbmFtZVswXSA9PT0gXCIvXCIpIHtcbiAgICAgICAgX25hbWUgPSBfbmFtZS5zbGljZSgxLCBfbmFtZS5sZW5ndGgpO1xuICAgICAgfVxuICAgICAgX3NwbGl0dGVkID0gX25hbWUuc3BsaXQoXCIvXCIpO1xuICAgICAgaWYgKF9zcGxpdHRlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgIGlmIChtb2RlbC5pZCA9PT0gX3NwbGl0dGVkW19zcGxpdHRlZC5sZW5ndGggLSAxXSkge1xuICAgICAgICAgIF9zcGxpdHRlZC5wb3AoKTtcbiAgICAgICAgfVxuICAgICAgICBfbmFtZSA9IF9zcGxpdHRlZC5qb2luKCcvJyk7XG4gICAgICB9XG4gICAgICBpZiAoX25hbWUuaW5kZXhPZihcIi9cIikgPT09IDApIHtcbiAgICAgICAgX25hbWUgPSBfbmFtZS5yZXBsYWNlKFwiL1wiLCBcIlwiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfbmFtZTtcbiAgICB9LFxuICAgIGZpbHRlcl9jb2xsZWN0aW9uOiBmdW5jdGlvbihyZXN1bHRzLCBjb2xsZWN0aW9uX25hbWUpIHtcbiAgICAgIHZhciBlbnRyeSwgaSwgbGVuLCByZWYsIHJlc3VsdHMxO1xuICAgICAgcmVzdWx0czEgPSBbXTtcbiAgICAgIGZvciAoaSA9IDAsIGxlbiA9IHJlc3VsdHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgZW50cnkgPSByZXN1bHRzW2ldO1xuICAgICAgICBpZiAoKGVudHJ5LmRlbGV0ZWQgPT09IHRydWUpIHx8ICgoKHJlZiA9IGVudHJ5LmRvYykgIT0gbnVsbCA/IHJlZi5jb2xsZWN0aW9uIDogdm9pZCAwKSA9PT0gY29sbGVjdGlvbl9uYW1lKSkge1xuICAgICAgICAgIHJlc3VsdHMxLnB1c2goZW50cnkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0czE7XG4gICAgfSxcbiAgICBtYWtlX2RiOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBkYjtcbiAgICAgIGRiID0gJC5jb3VjaC5kYihjb24uY29uZmlnLmRiX25hbWUpO1xuICAgICAgaWYgKGNvbi5jb25maWcuYmFzZV91cmwgIT0gbnVsbCkge1xuICAgICAgICBkYi51cmkgPSBjb24uY29uZmlnLmJhc2VfdXJsICsgXCIvXCIgKyBjb24uY29uZmlnLmRiX25hbWUgKyBcIi9cIjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkYjtcbiAgICB9XG4gIH0sXG4gIHJlYWQ6IGZ1bmN0aW9uKG1vZGVsLCBvcHRzKSB7XG4gICAgaWYgKG1vZGVsLm1vZGVscykge1xuICAgICAgcmV0dXJuIGNvbi5yZWFkX2NvbGxlY3Rpb24obW9kZWwsIG9wdHMpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY29uLnJlYWRfbW9kZWwobW9kZWwsIG9wdHMpO1xuICAgIH1cbiAgfSxcbiAgcmVhZF9jb2xsZWN0aW9uOiBmdW5jdGlvbihjb2xsLCBvcHRzKSB7XG4gICAgdmFyIF9kZG9jLCBfbGlzdCwgX29wdHMsIF92aWV3LCBpLCBrZXlzLCBsZW4sIG9wdGlvbiwgdmlld19vcHRpb25zO1xuICAgIF92aWV3ID0gdGhpcy5jb25maWcudmlld19uYW1lO1xuICAgIF9kZG9jID0gdGhpcy5jb25maWcuZGRvY19uYW1lO1xuICAgIF9saXN0ID0gdGhpcy5jb25maWcubGlzdF9uYW1lO1xuICAgIGtleXMgPSBbdGhpcy5oZWxwZXJzLmV4dHJhY3RfY29sbGVjdGlvbl9uYW1lKGNvbGwpXTtcbiAgICBpZiAoY29sbC5kYiAhPSBudWxsKSB7XG4gICAgICBpZiAoY29sbC5kYi5jaGFuZ2VzIHx8IHRoaXMuY29uZmlnLmdsb2JhbF9jaGFuZ2VzKSB7XG4gICAgICAgIGNvbGwubGlzdGVuX3RvX2NoYW5nZXMoKTtcbiAgICAgIH1cbiAgICAgIGlmIChjb2xsLmRiLnZpZXcgIT0gbnVsbCkge1xuICAgICAgICBfdmlldyA9IGNvbGwuZGIudmlldztcbiAgICAgIH1cbiAgICAgIGlmIChjb2xsLmRiLmRkb2MgIT0gbnVsbCkge1xuICAgICAgICBfZGRvYyA9IGNvbGwuZGIuZGRvYztcbiAgICAgIH1cbiAgICAgIGlmIChjb2xsLmRiLmtleXMgIT0gbnVsbCkge1xuICAgICAgICBrZXlzID0gY29sbC5kYi5rZXlzO1xuICAgICAgfVxuICAgICAgaWYgKGNvbGwuZGIubGlzdCAhPSBudWxsKSB7XG4gICAgICAgIF9saXN0ID0gY29sbC5kYi5saXN0O1xuICAgICAgfVxuICAgIH1cbiAgICBfb3B0cyA9IHtcbiAgICAgIGtleXM6IGtleXMsXG4gICAgICBzdWNjZXNzOiAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICB2YXIgX3RlbXAsIGRvYywgaSwgbGVuLCByZWY7XG4gICAgICAgICAgX3RlbXAgPSBbXTtcbiAgICAgICAgICByZWYgPSBkYXRhLnJvd3M7XG4gICAgICAgICAgZm9yIChpID0gMCwgbGVuID0gcmVmLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBkb2MgPSByZWZbaV07XG4gICAgICAgICAgICBpZiAoZG9jLmRvYykge1xuICAgICAgICAgICAgICBfdGVtcC5wdXNoKGRvYy5kb2MpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgX3RlbXAucHVzaChkb2MudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBvcHRzLnN1Y2Nlc3MoX3RlbXApO1xuICAgICAgICAgIHJldHVybiBvcHRzLmNvbXBsZXRlKCk7XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbihzdGF0dXMsIGVycm9yLCByZWFzb24pIHtcbiAgICAgICAgdmFyIHJlcztcbiAgICAgICAgcmVzID0ge1xuICAgICAgICAgIHN0YXR1czogc3RhdHVzLFxuICAgICAgICAgIGVycm9yOiBlcnJvcixcbiAgICAgICAgICByZWFzb246IHJlYXNvblxuICAgICAgICB9O1xuICAgICAgICBvcHRzLmVycm9yKHJlcyk7XG4gICAgICAgIHJldHVybiBvcHRzLmNvbXBsZXRlKHJlcyk7XG4gICAgICB9XG4gICAgfTtcbiAgICB2aWV3X29wdGlvbnMgPSBbXCJrZXlcIiwgXCJrZXlzXCIsIFwic3RhcnRrZXlcIiwgXCJzdGFydGtleV9kb2NpZFwiLCBcImVuZGtleVwiLCBcImVuZGtleV9kb2NpZFwiLCBcImxpbWl0XCIsIFwic3RhbGVcIiwgXCJkZXNjZW5kaW5nXCIsIFwic2tpcFwiLCBcImdyb3VwXCIsIFwiZ3JvdXBfbGV2ZWxcIiwgXCJyZWR1Y2VcIiwgXCJpbmNsdWRlX2RvY3NcIiwgXCJpbmNsdXNpdmVfZW5kXCIsIFwidXBkYXRlX3NlcVwiXTtcbiAgICBmb3IgKGkgPSAwLCBsZW4gPSB2aWV3X29wdGlvbnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIG9wdGlvbiA9IHZpZXdfb3B0aW9uc1tpXTtcbiAgICAgIGlmIChvcHRzW29wdGlvbl0gIT0gbnVsbCkge1xuICAgICAgICBfb3B0c1tvcHRpb25dID0gb3B0c1tvcHRpb25dO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoKGNvbGwuZGIgIT0gbnVsbCkgJiYgKGNvbGwuZGIudmlldyAhPSBudWxsKSAmJiAoY29sbC5kYi5rZXlzID09IG51bGwpKSB7XG4gICAgICBkZWxldGUgX29wdHMua2V5cztcbiAgICB9XG4gICAgaWYgKF9saXN0KSB7XG4gICAgICByZXR1cm4gdGhpcy5oZWxwZXJzLm1ha2VfZGIoKS5saXN0KF9kZG9jICsgXCIvXCIgKyBfbGlzdCwgXCJcIiArIF92aWV3LCBfb3B0cyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIF9vcHRzLmluY2x1ZGVfZG9jcyA9IHRydWU7XG4gICAgICByZXR1cm4gdGhpcy5oZWxwZXJzLm1ha2VfZGIoKS52aWV3KF9kZG9jICsgXCIvXCIgKyBfdmlldywgX29wdHMpO1xuICAgIH1cbiAgfSxcbiAgaW5pdF9nbG9iYWxfY2hhbmdlc19oYW5kbGVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgIHRoaXMuX2dsb2JhbF9kYl9pbnN0ID0gY29uLmhlbHBlcnMubWFrZV9kYigpO1xuICAgIHJldHVybiB0aGlzLl9nbG9iYWxfZGJfaW5zdC5pbmZvKHtcbiAgICAgIFwic3VjY2Vzc1wiOiAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICB2YXIgb3B0cztcbiAgICAgICAgICBvcHRzID0gXy5leHRlbmQoe1xuICAgICAgICAgICAgaW5jbHVkZV9kb2NzOiB0cnVlXG4gICAgICAgICAgfSwgY29uLmNvbmZpZy5nbG9iYWxfY2hhbmdlc19vcHRzKTtcbiAgICAgICAgICBfdGhpcy5fZ2xvYmFsX2NoYW5nZXNfaGFuZGxlciA9IF90aGlzLl9nbG9iYWxfZGJfaW5zdC5jaGFuZ2VzKGRhdGEudXBkYXRlX3NlcSB8fCAwLCBvcHRzKTtcbiAgICAgICAgICBfdGhpcy5fZ2xvYmFsX2NoYW5nZXNfaGFuZGxlci5vbkNoYW5nZShmdW5jdGlvbihjaGFuZ2VzKSB7XG4gICAgICAgICAgICB2YXIgY2IsIGksIGxlbiwgcmVmLCByZXN1bHRzMTtcbiAgICAgICAgICAgIHJlZiA9IF90aGlzLl9nbG9iYWxfY2hhbmdlc19jYWxsYmFja3M7XG4gICAgICAgICAgICByZXN1bHRzMSA9IFtdO1xuICAgICAgICAgICAgZm9yIChpID0gMCwgbGVuID0gcmVmLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgIGNiID0gcmVmW2ldO1xuICAgICAgICAgICAgICByZXN1bHRzMS5wdXNoKGNiKGNoYW5nZXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHRzMTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpXG4gICAgfSk7XG4gIH0sXG4gIHJlZ2lzdGVyX2dsb2JhbF9jaGFuZ2VzX2NhbGxiYWNrOiBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgIGlmIChjYWxsYmFjayA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLl9nbG9iYWxfZGJfaW5zdCA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbml0X2dsb2JhbF9jaGFuZ2VzX2hhbmRsZXIoKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuX2dsb2JhbF9jaGFuZ2VzX2NhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuX2dsb2JhbF9jaGFuZ2VzX2NhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICB9XG4gIH0sXG4gIHJlYWRfbW9kZWw6IGZ1bmN0aW9uKG1vZGVsLCBvcHRzKSB7XG4gICAgaWYgKCFtb2RlbC5pZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIG1vZGVsIGhhcyBubyBpZCBwcm9wZXJ0eSwgc28gaXQgY2FuJ3QgZ2V0IGZldGNoZWQgZnJvbSB0aGUgZGF0YWJhc2VcIik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmhlbHBlcnMubWFrZV9kYigpLm9wZW5Eb2MobW9kZWwuaWQsIHtcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRvYykge1xuICAgICAgICBvcHRzLnN1Y2Nlc3MoZG9jKTtcbiAgICAgICAgcmV0dXJuIG9wdHMuY29tcGxldGUoKTtcbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24oc3RhdHVzLCBlcnJvciwgcmVhc29uKSB7XG4gICAgICAgIHZhciByZXM7XG4gICAgICAgIHJlcyA9IHtcbiAgICAgICAgICBzdGF0dXM6IHN0YXR1cyxcbiAgICAgICAgICBlcnJvcjogZXJyb3IsXG4gICAgICAgICAgcmVhc29uOiByZWFzb25cbiAgICAgICAgfTtcbiAgICAgICAgb3B0cy5lcnJvcihyZXMpO1xuICAgICAgICByZXR1cm4gb3B0cy5jb21wbGV0ZShyZXMpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICBjcmVhdGU6IGZ1bmN0aW9uKG1vZGVsLCBvcHRzKSB7XG4gICAgdmFyIGNvbGwsIHZhbHM7XG4gICAgdmFscyA9IG1vZGVsLnRvSlNPTigpO1xuICAgIGNvbGwgPSB0aGlzLmhlbHBlcnMuZXh0cmFjdF9jb2xsZWN0aW9uX25hbWUobW9kZWwpO1xuICAgIGlmIChjb2xsLmxlbmd0aCA+IDApIHtcbiAgICAgIHZhbHMuY29sbGVjdGlvbiA9IGNvbGw7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmhlbHBlcnMubWFrZV9kYigpLnNhdmVEb2ModmFscywge1xuICAgICAgc3VjY2VzczogZnVuY3Rpb24oZG9jKSB7XG4gICAgICAgIG9wdHMuc3VjY2Vzcyh7XG4gICAgICAgICAgX2lkOiBkb2MuaWQsXG4gICAgICAgICAgX3JldjogZG9jLnJldlxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG9wdHMuY29tcGxldGUoKTtcbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24oc3RhdHVzLCBlcnJvciwgcmVhc29uKSB7XG4gICAgICAgIHZhciByZXM7XG4gICAgICAgIHJlcyA9IHtcbiAgICAgICAgICBzdGF0dXM6IHN0YXR1cyxcbiAgICAgICAgICBlcnJvcjogZXJyb3IsXG4gICAgICAgICAgcmVhc29uOiByZWFzb25cbiAgICAgICAgfTtcbiAgICAgICAgb3B0cy5lcnJvcihyZXMpO1xuICAgICAgICByZXR1cm4gb3B0cy5jb21wbGV0ZShyZXMpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICB1cGRhdGU6IGZ1bmN0aW9uKG1vZGVsLCBvcHRzKSB7XG4gICAgcmV0dXJuIHRoaXMuY3JlYXRlKG1vZGVsLCBvcHRzKTtcbiAgfSxcbiAgZGVsOiBmdW5jdGlvbihtb2RlbCwgb3B0cykge1xuICAgIHJldHVybiB0aGlzLmhlbHBlcnMubWFrZV9kYigpLnJlbW92ZURvYyhtb2RlbC50b0pTT04oKSwge1xuICAgICAgc3VjY2VzczogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBvcHRzLnN1Y2Nlc3MoKTtcbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24obnIsIHJlcSwgZXJyb3IpIHtcbiAgICAgICAgdmFyIHJlcztcbiAgICAgICAgaWYgKGVycm9yID09PSBcImRlbGV0ZWRcIikge1xuICAgICAgICAgIG9wdHMuc3VjY2VzcygpO1xuICAgICAgICAgIHJldHVybiBvcHRzLmNvbXBsZXRlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzID0ge1xuICAgICAgICAgICAgZXJyb3I6IGVycm9yXG4gICAgICAgICAgfTtcbiAgICAgICAgICBvcHRzLmVycm9yKHJlcyk7XG4gICAgICAgICAgcmV0dXJuIG9wdHMuY29tcGxldGUocmVzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59O1xuXG5CYWNrYm9uZS5zeW5jID0gZnVuY3Rpb24obWV0aG9kLCBtb2RlbCwgb3B0cykge1xuICBpZiAob3B0cy5zdWNjZXNzID09IG51bGwpIHtcbiAgICBvcHRzLnN1Y2Nlc3MgPSBmdW5jdGlvbigpIHt9O1xuICB9XG4gIGlmIChvcHRzLmVycm9yID09IG51bGwpIHtcbiAgICBvcHRzLmVycm9yID0gZnVuY3Rpb24oKSB7fTtcbiAgfVxuICBpZiAob3B0cy5jb21wbGV0ZSA9PSBudWxsKSB7XG4gICAgb3B0cy5jb21wbGV0ZSA9IGZ1bmN0aW9uKCkge307XG4gIH1cbiAgc3dpdGNoIChtZXRob2QpIHtcbiAgICBjYXNlIFwicmVhZFwiOlxuICAgICAgcmV0dXJuIGNvbi5yZWFkKG1vZGVsLCBvcHRzKTtcbiAgICBjYXNlIFwiY3JlYXRlXCI6XG4gICAgICByZXR1cm4gY29uLmNyZWF0ZShtb2RlbCwgb3B0cyk7XG4gICAgY2FzZSBcInVwZGF0ZVwiOlxuICAgICAgcmV0dXJuIGNvbi51cGRhdGUobW9kZWwsIG9wdHMpO1xuICAgIGNhc2UgXCJkZWxldGVcIjpcbiAgICAgIHJldHVybiBjb24uZGVsKG1vZGVsLCBvcHRzKTtcbiAgfVxufTtcblxuQmFja2JvbmUuTW9kZWwgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICBleHRlbmQoTW9kZWwsIHN1cGVyQ2xhc3MpO1xuXG4gIGZ1bmN0aW9uIE1vZGVsKCkge1xuICAgIHJldHVybiBNb2RlbC5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIE1vZGVsLnByb3RvdHlwZS5pZEF0dHJpYnV0ZSA9IFwiX2lkXCI7XG5cbiAgTW9kZWwucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG5ld19tb2RlbDtcbiAgICBuZXdfbW9kZWwgPSBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLmF0dHJpYnV0ZXMpO1xuICAgIGlmIChuZXdfbW9kZWwuYXR0cmlidXRlcy5faWQpIHtcbiAgICAgIGRlbGV0ZSBuZXdfbW9kZWwuYXR0cmlidXRlcy5faWQ7XG4gICAgfVxuICAgIGlmIChuZXdfbW9kZWwuYXR0cmlidXRlcy5fcmV2KSB7XG4gICAgICBkZWxldGUgbmV3X21vZGVsLmF0dHJpYnV0ZXMuX3JldjtcbiAgICB9XG4gICAgcmV0dXJuIG5ld19tb2RlbDtcbiAgfTtcblxuICByZXR1cm4gTW9kZWw7XG5cbn0pKEJhY2tib25lLk1vZGVsKTtcblxuQmFja2JvbmUuQ29sbGVjdGlvbiA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gIGV4dGVuZChDb2xsZWN0aW9uLCBzdXBlckNsYXNzKTtcblxuICBmdW5jdGlvbiBDb2xsZWN0aW9uKCkge1xuICAgIHRoaXMuX2RiX29uX2NoYW5nZSA9IGJpbmQodGhpcy5fZGJfb25fY2hhbmdlLCB0aGlzKTtcbiAgICB0aGlzLl9kYl9wcmVwYXJlZF9mb3JfZ2xvYmFsX2NoYW5nZXMgPSBiaW5kKHRoaXMuX2RiX3ByZXBhcmVkX2Zvcl9nbG9iYWxfY2hhbmdlcywgdGhpcyk7XG4gICAgdGhpcy5fZGJfcHJlcGFyZWRfZm9yX2NoYW5nZXMgPSBiaW5kKHRoaXMuX2RiX3ByZXBhcmVkX2Zvcl9jaGFuZ2VzLCB0aGlzKTtcbiAgICByZXR1cm4gQ29sbGVjdGlvbi5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIENvbGxlY3Rpb24ucHJvdG90eXBlLm1vZGVsID0gQmFja2JvbmUuTW9kZWw7XG5cbiAgQ29sbGVjdGlvbi5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICghdGhpcy5fZGJfY2hhbmdlc19lbmFibGVkICYmICgodGhpcy5kYiAmJiB0aGlzLmRiLmNoYW5nZXMpIHx8IGNvbi5jb25maWcuZ2xvYmFsX2NoYW5nZXMpKSB7XG4gICAgICByZXR1cm4gdGhpcy5saXN0ZW5fdG9fY2hhbmdlcygpO1xuICAgIH1cbiAgfTtcblxuICBDb2xsZWN0aW9uLnByb3RvdHlwZS5saXN0ZW5fdG9fY2hhbmdlcyA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICghdGhpcy5fZGJfY2hhbmdlc19lbmFibGVkKSB7XG4gICAgICB0aGlzLl9kYl9jaGFuZ2VzX2VuYWJsZWQgPSB0cnVlO1xuICAgICAgaWYgKGNvbi5jb25maWcuc2luZ2xlX2ZlZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RiX3ByZXBhcmVkX2Zvcl9nbG9iYWxfY2hhbmdlcygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCF0aGlzLl9kYl9pbnN0KSB7XG4gICAgICAgICAgdGhpcy5fZGJfaW5zdCA9IGNvbi5oZWxwZXJzLm1ha2VfZGIoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZGJfaW5zdC5pbmZvKHtcbiAgICAgICAgICBcInN1Y2Nlc3NcIjogdGhpcy5fZGJfcHJlcGFyZWRfZm9yX2NoYW5nZXNcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIENvbGxlY3Rpb24ucHJvdG90eXBlLnN0b3BfY2hhbmdlcyA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX2RiX2NoYW5nZXNfZW5hYmxlZCA9IGZhbHNlO1xuICAgIGlmICh0aGlzLl9kYl9jaGFuZ2VzX2hhbmRsZXIgIT0gbnVsbCkge1xuICAgICAgdGhpcy5fZGJfY2hhbmdlc19oYW5kbGVyLnN0b3AoKTtcbiAgICAgIHJldHVybiB0aGlzLl9kYl9jaGFuZ2VzX2hhbmRsZXIgPSBudWxsO1xuICAgIH1cbiAgfTtcblxuICBDb2xsZWN0aW9uLnByb3RvdHlwZS5fZGJfcHJlcGFyZWRfZm9yX2NoYW5nZXMgPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgdmFyIG9wdHM7XG4gICAgdGhpcy5fZGJfdXBkYXRlX3NlcSA9IGRhdGEudXBkYXRlX3NlcSB8fCAwO1xuICAgIG9wdHMgPSB7XG4gICAgICBpbmNsdWRlX2RvY3M6IHRydWUsXG4gICAgICBjb2xsZWN0aW9uOiBjb24uaGVscGVycy5leHRyYWN0X2NvbGxlY3Rpb25fbmFtZSh0aGlzKSxcbiAgICAgIGZpbHRlcjogY29uLmNvbmZpZy5kZG9jX25hbWUgKyBcIi9ieV9jb2xsZWN0aW9uXCJcbiAgICB9O1xuICAgIF8uZXh0ZW5kKG9wdHMsIHRoaXMuZGIpO1xuICAgIHJldHVybiBfLmRlZmVyKChmdW5jdGlvbihfdGhpcykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBfdGhpcy5fZGJfY2hhbmdlc19oYW5kbGVyID0gX3RoaXMuX2RiX2luc3QuY2hhbmdlcyhfdGhpcy5fZGJfdXBkYXRlX3NlcSwgb3B0cyk7XG4gICAgICAgIHJldHVybiBfdGhpcy5fZGJfY2hhbmdlc19oYW5kbGVyLm9uQ2hhbmdlKF90aGlzLl9kYl9vbl9jaGFuZ2UpO1xuICAgICAgfTtcbiAgICB9KSh0aGlzKSk7XG4gIH07XG5cbiAgQ29sbGVjdGlvbi5wcm90b3R5cGUuX2RiX3ByZXBhcmVkX2Zvcl9nbG9iYWxfY2hhbmdlcyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBjb24ucmVnaXN0ZXJfZ2xvYmFsX2NoYW5nZXNfY2FsbGJhY2sodGhpcy5fZGJfb25fY2hhbmdlKTtcbiAgfTtcblxuICBDb2xsZWN0aW9uLnByb3RvdHlwZS5fZGJfb25fY2hhbmdlID0gZnVuY3Rpb24oY2hhbmdlcykge1xuICAgIHZhciBfZG9jLCBpLCBsZW4sIG9iaiwgcmVzdWx0cywgcmVzdWx0czE7XG4gICAgcmVzdWx0cyA9IGNoYW5nZXMucmVzdWx0cztcbiAgICBpZiAodGhpcy5kYiAmJiB0aGlzLmRiLmxvY2FsX2ZpbHRlcikge1xuICAgICAgcmVzdWx0cyA9IHRoaXMuZGIubG9jYWxfZmlsdGVyKHJlc3VsdHMpO1xuICAgIH0gZWxzZSBpZiAoY29uLmNvbmZpZy5zaW5nbGVfZmVlZCkge1xuICAgICAgcmVzdWx0cyA9IGNvbi5oZWxwZXJzLmZpbHRlcl9jb2xsZWN0aW9uKHJlc3VsdHMsIGNvbi5oZWxwZXJzLmV4dHJhY3RfY29sbGVjdGlvbl9uYW1lKHRoaXMpKTtcbiAgICB9XG4gICAgcmVzdWx0czEgPSBbXTtcbiAgICBmb3IgKGkgPSAwLCBsZW4gPSByZXN1bHRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBfZG9jID0gcmVzdWx0c1tpXTtcbiAgICAgIG9iaiA9IHRoaXMuZ2V0KF9kb2MuaWQpO1xuICAgICAgaWYgKG9iaiAhPSBudWxsKSB7XG4gICAgICAgIGlmIChfZG9jLmRlbGV0ZWQpIHtcbiAgICAgICAgICByZXN1bHRzMS5wdXNoKHRoaXMucmVtb3ZlKG9iaikpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChvYmouZ2V0KFwiX3JldlwiKSAhPT0gX2RvYy5kb2MuX3Jldikge1xuICAgICAgICAgICAgcmVzdWx0czEucHVzaChvYmouc2V0KF9kb2MuZG9jKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdHMxLnB1c2godm9pZCAwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghX2RvYy5kZWxldGVkKSB7XG4gICAgICAgICAgcmVzdWx0czEucHVzaCh0aGlzLmFkZChfZG9jLmRvYykpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdHMxLnB1c2godm9pZCAwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0czE7XG4gIH07XG5cbiAgcmV0dXJuIENvbGxlY3Rpb247XG5cbn0pKEJhY2tib25lLkNvbGxlY3Rpb24pO1xuIiwiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjEwLjBcbnZhciBDaGVja0RpZ2l0O1xuXG5DaGVja0RpZ2l0ID0gKGZ1bmN0aW9uKCkge1xuICBDaGVja0RpZ2l0LnByb3RvdHlwZS5hbGxvd2VkID0gXCJBQkNFRkdIS01OUFFSU1RVVldYWVpcIi5zcGxpdChcIlwiKTtcblxuICBDaGVja0RpZ2l0LnByb3RvdHlwZS53ZWlnaHRzID0gWzEsIDIsIDUsIDExLCAxM107XG5cbiAgZnVuY3Rpb24gQ2hlY2tEaWdpdChpZCkge1xuICAgIGlmIChpZCA9PSBudWxsKSB7XG4gICAgICBpZCA9IFwiXCI7XG4gICAgfVxuICAgIHRoaXMuc2V0KGlkKTtcbiAgfVxuXG4gIENoZWNrRGlnaXQucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKGlkKSB7XG4gICAgcmV0dXJuIHRoaXMuaWQgPSBpZC50b1VwcGVyQ2FzZSgpO1xuICB9O1xuXG4gIENoZWNrRGlnaXQucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKGlkKSB7XG4gICAgdmFyIGNoO1xuICAgIGlmIChpZCA9PSBudWxsKSB7XG4gICAgICBpZCA9IHRoaXMuaWQ7XG4gICAgfVxuICAgIGlmICghfigoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgaiwgbGVuLCByZWYsIHJlc3VsdHM7XG4gICAgICByZWYgPSBpZC5zcGxpdChcIlwiKTtcbiAgICAgIHJlc3VsdHMgPSBbXTtcbiAgICAgIGZvciAoaiA9IDAsIGxlbiA9IHJlZi5sZW5ndGg7IGogPCBsZW47IGorKykge1xuICAgICAgICBjaCA9IHJlZltqXTtcbiAgICAgICAgcmVzdWx0cy5wdXNoKCF+dGhpcy5hbGxvd2VkLmluZGV4T2YoY2gpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHRzO1xuICAgIH0pLmNhbGwodGhpcykpLmluZGV4T2YoZmFsc2UpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGlkICsgdGhpcy5nZXREaWdpdChpZCk7XG4gIH07XG5cbiAgQ2hlY2tEaWdpdC5wcm90b3R5cGUuZ2VuZXJhdGUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaTtcbiAgICByZXR1cm4gdGhpcy5nZXQoKChmdW5jdGlvbigpIHtcbiAgICAgIHZhciBqLCBsZW4sIHJlZiwgcmVzdWx0cztcbiAgICAgIHJlZiA9IHRoaXMud2VpZ2h0cztcbiAgICAgIHJlc3VsdHMgPSBbXTtcbiAgICAgIGZvciAoaiA9IDAsIGxlbiA9IHJlZi5sZW5ndGg7IGogPCBsZW47IGorKykge1xuICAgICAgICBpID0gcmVmW2pdO1xuICAgICAgICByZXN1bHRzLnB1c2godGhpcy5hbGxvd2VkW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMuYWxsb3dlZC5sZW5ndGgpXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0cztcbiAgICB9KS5jYWxsKHRoaXMpKS5qb2luKFwiXCIpKTtcbiAgfTtcblxuICBDaGVja0RpZ2l0LnByb3RvdHlwZS5pc1ZhbGlkID0gZnVuY3Rpb24oaWQpIHtcbiAgICBpZiAoaWQgPT0gbnVsbCkge1xuICAgICAgaWQgPSB0aGlzLmlkO1xuICAgIH1cbiAgICBpZiAoaWQubGVuZ3RoICE9PSA2KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiAodGhpcy5nZXQoaWQuc2xpY2UoMCwgaWQubGVuZ3RoIC0gMSkpKSA9PT0gaWQ7XG4gIH07XG5cbiAgQ2hlY2tEaWdpdC5wcm90b3R5cGUuaXNOb3RWYWxpZCA9IGZ1bmN0aW9uKGlkKSB7XG4gICAgaWYgKGlkID09IG51bGwpIHtcbiAgICAgIGlkID0gdGhpcy5pZDtcbiAgICB9XG4gICAgcmV0dXJuICF0aGlzLmlzVmFsaWQoaWQpO1xuICB9O1xuXG4gIENoZWNrRGlnaXQucHJvdG90eXBlLmdldEVycm9ycyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjaCwgZXJyb3JzLCBpLCBqLCBrLCBsZW4sIGxlbjEsIHJlZiwgcmVzdWx0O1xuICAgIGVycm9ycyA9IFtdO1xuICAgIHJlc3VsdCA9IFtdO1xuICAgIHJlZiA9IChmdW5jdGlvbigpIHtcbiAgICAgIHZhciBrLCBsZW4sIHJlZiwgcmVzdWx0cztcbiAgICAgIHJlZiA9IHRoaXMuaWQuc3BsaXQoXCJcIik7XG4gICAgICByZXN1bHRzID0gW107XG4gICAgICBmb3IgKGsgPSAwLCBsZW4gPSByZWYubGVuZ3RoOyBrIDwgbGVuOyBrKyspIHtcbiAgICAgICAgY2ggPSByZWZba107XG4gICAgICAgIHJlc3VsdHMucHVzaCh0aGlzLmFsbG93ZWQuaW5kZXhPZihjaCkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfSkuY2FsbCh0aGlzKTtcbiAgICBmb3IgKGkgPSBqID0gMCwgbGVuID0gcmVmLmxlbmd0aDsgaiA8IGxlbjsgaSA9ICsraikge1xuICAgICAgY2ggPSByZWZbaV07XG4gICAgICBpZiAoY2ggPT09IC0xKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHRoaXMuaWRbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocmVzdWx0Lmxlbmd0aCAhPT0gMCkge1xuICAgICAgZm9yIChrID0gMCwgbGVuMSA9IHJlc3VsdC5sZW5ndGg7IGsgPCBsZW4xOyBrKyspIHtcbiAgICAgICAgaSA9IHJlc3VsdFtrXTtcbiAgICAgICAgZXJyb3JzLnB1c2goXCJFcnJvcjogJ1wiICsgcmVzdWx0ICsgXCInIGlzIG5vdCBhIHZhbGlkIHN0dWRlbnQgaWQgY2hhcmFjdGVyLiBPbmx5IHRoZSBmb2xsb3dpbmcgY2hhcmFjdGVycyBhcmUgYWxsb3dlZDogXCIgKyB0aGlzLmFsbG93ZWQgKyBcIjxici8+KHRoaXMgaGVscHMgcmVkdWNlIGVycm9ycyB3aGlsZSB3cml0aW5nIGRvd24gc3R1ZGVudCBJRHMpXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5pZC5sZW5ndGggIT09IDYpIHtcbiAgICAgIGVycm9ycy5wdXNoKFwiRXJyb3I6IElkZW50aWZpZXIgbXVzdCBiZSA2IGxldHRlcnNcIik7XG4gICAgfVxuICAgIGlmIChlcnJvcnMubGVuZ3RoID09PSAwICYmIHRoaXMuaXNOb3RWYWxpZCgpKSB7XG4gICAgICBlcnJvcnMucHVzaChcIkVycm9yOiBJbnZhbGlkIElELiBNYXliZSBpdCB3YXMgd3JpdHRlbiBkb3duIGluY29ycmVjdGx5LiBHZW5lcmF0ZSBhIG5ldyBvbmUgdGhlbiB3cml0ZSBkb3duIHRoZSBvbGQgSUQgYW5kIHRoZSBuZXcgb25lIGEgcGllY2Ugb2YgcGFwZXIuIEluY2x1ZGUgYm90aCBJRHMgaW4gY29tbWVudHMgc2VjdGlvbiBhdCBlbmQgb2YgYXNzZXNzbWVudC5cIik7XG4gICAgfVxuICAgIHJldHVybiBlcnJvcnM7XG4gIH07XG5cbiAgQ2hlY2tEaWdpdC5wcm90b3R5cGUuZ2V0RGlnaXQgPSBmdW5jdGlvbihpZCkge1xuICAgIHZhciBjaCwgY2hlY2tEaWdpdF8xMCwgaSwgaWRfMTAsIHdlaWdodDtcbiAgICBpZiAoaWQgPT0gbnVsbCkge1xuICAgICAgaWQgPSB0aGlzLmlkO1xuICAgIH1cbiAgICBpZF8xMCA9IChmdW5jdGlvbigpIHtcbiAgICAgIHZhciBqLCBsZW4sIHJlZiwgcmVzdWx0cztcbiAgICAgIHJlZiA9IGlkLnNwbGl0KFwiXCIpO1xuICAgICAgcmVzdWx0cyA9IFtdO1xuICAgICAgZm9yIChqID0gMCwgbGVuID0gcmVmLmxlbmd0aDsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgIGNoID0gcmVmW2pdO1xuICAgICAgICByZXN1bHRzLnB1c2godGhpcy5hbGxvd2VkLmluZGV4T2YoY2gpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHRzO1xuICAgIH0pLmNhbGwodGhpcyk7XG4gICAgY2hlY2tEaWdpdF8xMCA9ICgoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgaiwgbGVuLCByZWYsIHJlc3VsdHM7XG4gICAgICByZWYgPSB0aGlzLndlaWdodHM7XG4gICAgICByZXN1bHRzID0gW107XG4gICAgICBmb3IgKGkgPSBqID0gMCwgbGVuID0gcmVmLmxlbmd0aDsgaiA8IGxlbjsgaSA9ICsraikge1xuICAgICAgICB3ZWlnaHQgPSByZWZbaV07XG4gICAgICAgIHJlc3VsdHMucHVzaChpZF8xMFtpXSAqIHdlaWdodCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0cztcbiAgICB9KS5jYWxsKHRoaXMpKS5yZWR1Y2UoZnVuY3Rpb24oeCwgeSkge1xuICAgICAgcmV0dXJuIHggKyB5O1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLmFsbG93ZWRbY2hlY2tEaWdpdF8xMCAlIHRoaXMuYWxsb3dlZC5sZW5ndGhdO1xuICB9O1xuXG4gIHJldHVybiBDaGVja0RpZ2l0O1xuXG59KSgpO1xuIiwiLyoqXG4qXG4qICBCYXNlNjQgZW5jb2RlIC8gZGVjb2RlXG4qICBodHRwOi8vd3d3LndlYnRvb2xraXQuaW5mby9cbipcbioqL1xuXG52YXIgQmFzZTY0ID0ge1xuXG5cdC8vIHByaXZhdGUgcHJvcGVydHlcblx0X2tleVN0ciA6IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz1cIixcblxuXHQvLyBwdWJsaWMgbWV0aG9kIGZvciBlbmNvZGluZ1xuXHRlbmNvZGUgOiBmdW5jdGlvbiAoaW5wdXQpIHtcblx0XHR2YXIgb3V0cHV0ID0gXCJcIjtcblx0XHR2YXIgY2hyMSwgY2hyMiwgY2hyMywgZW5jMSwgZW5jMiwgZW5jMywgZW5jNDtcblx0XHR2YXIgaSA9IDA7XG5cblx0XHRpbnB1dCA9IEJhc2U2NC5fdXRmOF9lbmNvZGUoaW5wdXQpO1xuXG5cdFx0d2hpbGUgKGkgPCBpbnB1dC5sZW5ndGgpIHtcblxuXHRcdFx0Y2hyMSA9IGlucHV0LmNoYXJDb2RlQXQoaSsrKTtcblx0XHRcdGNocjIgPSBpbnB1dC5jaGFyQ29kZUF0KGkrKyk7XG5cdFx0XHRjaHIzID0gaW5wdXQuY2hhckNvZGVBdChpKyspO1xuXG5cdFx0XHRlbmMxID0gY2hyMSA+PiAyO1xuXHRcdFx0ZW5jMiA9ICgoY2hyMSAmIDMpIDw8IDQpIHwgKGNocjIgPj4gNCk7XG5cdFx0XHRlbmMzID0gKChjaHIyICYgMTUpIDw8IDIpIHwgKGNocjMgPj4gNik7XG5cdFx0XHRlbmM0ID0gY2hyMyAmIDYzO1xuXG5cdFx0XHRpZiAoaXNOYU4oY2hyMikpIHtcblx0XHRcdFx0ZW5jMyA9IGVuYzQgPSA2NDtcblx0XHRcdH0gZWxzZSBpZiAoaXNOYU4oY2hyMykpIHtcblx0XHRcdFx0ZW5jNCA9IDY0O1xuXHRcdFx0fVxuXG5cdFx0XHRvdXRwdXQgPSBvdXRwdXQgK1xuXHRcdFx0dGhpcy5fa2V5U3RyLmNoYXJBdChlbmMxKSArIHRoaXMuX2tleVN0ci5jaGFyQXQoZW5jMikgK1xuXHRcdFx0dGhpcy5fa2V5U3RyLmNoYXJBdChlbmMzKSArIHRoaXMuX2tleVN0ci5jaGFyQXQoZW5jNCk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gb3V0cHV0O1xuXHR9LFxuXG5cdC8vIHB1YmxpYyBtZXRob2QgZm9yIGRlY29kaW5nXG5cdGRlY29kZSA6IGZ1bmN0aW9uIChpbnB1dCkge1xuXHRcdHZhciBvdXRwdXQgPSBcIlwiO1xuXHRcdHZhciBjaHIxLCBjaHIyLCBjaHIzO1xuXHRcdHZhciBlbmMxLCBlbmMyLCBlbmMzLCBlbmM0O1xuXHRcdHZhciBpID0gMDtcblxuXHRcdGlucHV0ID0gaW5wdXQucmVwbGFjZSgvW15BLVphLXowLTlcXCtcXC9cXD1dL2csIFwiXCIpO1xuXG5cdFx0d2hpbGUgKGkgPCBpbnB1dC5sZW5ndGgpIHtcblxuXHRcdFx0ZW5jMSA9IHRoaXMuX2tleVN0ci5pbmRleE9mKGlucHV0LmNoYXJBdChpKyspKTtcblx0XHRcdGVuYzIgPSB0aGlzLl9rZXlTdHIuaW5kZXhPZihpbnB1dC5jaGFyQXQoaSsrKSk7XG5cdFx0XHRlbmMzID0gdGhpcy5fa2V5U3RyLmluZGV4T2YoaW5wdXQuY2hhckF0KGkrKykpO1xuXHRcdFx0ZW5jNCA9IHRoaXMuX2tleVN0ci5pbmRleE9mKGlucHV0LmNoYXJBdChpKyspKTtcblxuXHRcdFx0Y2hyMSA9IChlbmMxIDw8IDIpIHwgKGVuYzIgPj4gNCk7XG5cdFx0XHRjaHIyID0gKChlbmMyICYgMTUpIDw8IDQpIHwgKGVuYzMgPj4gMik7XG5cdFx0XHRjaHIzID0gKChlbmMzICYgMykgPDwgNikgfCBlbmM0O1xuXG5cdFx0XHRvdXRwdXQgPSBvdXRwdXQgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKGNocjEpO1xuXG5cdFx0XHRpZiAoZW5jMyAhPSA2NCkge1xuXHRcdFx0XHRvdXRwdXQgPSBvdXRwdXQgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKGNocjIpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGVuYzQgIT0gNjQpIHtcblx0XHRcdFx0b3V0cHV0ID0gb3V0cHV0ICsgU3RyaW5nLmZyb21DaGFyQ29kZShjaHIzKTtcblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdG91dHB1dCA9IEJhc2U2NC5fdXRmOF9kZWNvZGUob3V0cHV0KTtcblxuXHRcdHJldHVybiBvdXRwdXQ7XG5cblx0fSxcblxuXHQvLyBwcml2YXRlIG1ldGhvZCBmb3IgVVRGLTggZW5jb2Rpbmdcblx0X3V0ZjhfZW5jb2RlIDogZnVuY3Rpb24gKHN0cmluZykge1xuXHRcdHN0cmluZyA9IHN0cmluZy5yZXBsYWNlKC9cXHJcXG4vZyxcIlxcblwiKTtcblx0XHR2YXIgdXRmdGV4dCA9IFwiXCI7XG5cblx0XHRmb3IgKHZhciBuID0gMDsgbiA8IHN0cmluZy5sZW5ndGg7IG4rKykge1xuXG5cdFx0XHR2YXIgYyA9IHN0cmluZy5jaGFyQ29kZUF0KG4pO1xuXG5cdFx0XHRpZiAoYyA8IDEyOCkge1xuXHRcdFx0XHR1dGZ0ZXh0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYyk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmKChjID4gMTI3KSAmJiAoYyA8IDIwNDgpKSB7XG5cdFx0XHRcdHV0ZnRleHQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgoYyA+PiA2KSB8IDE5Mik7XG5cdFx0XHRcdHV0ZnRleHQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgoYyAmIDYzKSB8IDEyOCk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0dXRmdGV4dCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKChjID4+IDEyKSB8IDIyNCk7XG5cdFx0XHRcdHV0ZnRleHQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgoKGMgPj4gNikgJiA2MykgfCAxMjgpO1xuXHRcdFx0XHR1dGZ0ZXh0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoKGMgJiA2MykgfCAxMjgpO1xuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHV0ZnRleHQ7XG5cdH0sXG5cblx0Ly8gcHJpdmF0ZSBtZXRob2QgZm9yIFVURi04IGRlY29kaW5nXG5cdF91dGY4X2RlY29kZSA6IGZ1bmN0aW9uICh1dGZ0ZXh0KSB7XG5cdFx0dmFyIHN0cmluZyA9IFwiXCI7XG5cdFx0dmFyIGkgPSAwO1xuXHRcdHZhciBjID0gYzEgPSBjMiA9IDA7XG5cblx0XHR3aGlsZSAoIGkgPCB1dGZ0ZXh0Lmxlbmd0aCApIHtcblxuXHRcdFx0YyA9IHV0ZnRleHQuY2hhckNvZGVBdChpKTtcblxuXHRcdFx0aWYgKGMgPCAxMjgpIHtcblx0XHRcdFx0c3RyaW5nICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYyk7XG5cdFx0XHRcdGkrKztcblx0XHRcdH1cblx0XHRcdGVsc2UgaWYoKGMgPiAxOTEpICYmIChjIDwgMjI0KSkge1xuXHRcdFx0XHRjMiA9IHV0ZnRleHQuY2hhckNvZGVBdChpKzEpO1xuXHRcdFx0XHRzdHJpbmcgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgoKGMgJiAzMSkgPDwgNikgfCAoYzIgJiA2MykpO1xuXHRcdFx0XHRpICs9IDI7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0YzIgPSB1dGZ0ZXh0LmNoYXJDb2RlQXQoaSsxKTtcblx0XHRcdFx0YzMgPSB1dGZ0ZXh0LmNoYXJDb2RlQXQoaSsyKTtcblx0XHRcdFx0c3RyaW5nICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoKChjICYgMTUpIDw8IDEyKSB8ICgoYzIgJiA2MykgPDwgNikgfCAoYzMgJiA2MykpO1xuXHRcdFx0XHRpICs9IDM7XG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gc3RyaW5nO1xuXHR9XG5cbn07IiwiLyohIGpzdHogLSB2MS4wLjQgLSAyMDEyLTEyLTE4ICovXG4oZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt2YXIgZT1cInNcIixuPWZ1bmN0aW9uKGUpe3ZhciB0PS1lLmdldFRpbWV6b25lT2Zmc2V0KCk7cmV0dXJuIHQhPT1udWxsP3Q6MH0scj1mdW5jdGlvbihlLHQsbil7dmFyIHI9bmV3IERhdGU7cmV0dXJuIGUhPT11bmRlZmluZWQmJnIuc2V0RnVsbFllYXIoZSksci5zZXREYXRlKG4pLHIuc2V0TW9udGgodCkscn0saT1mdW5jdGlvbihlKXtyZXR1cm4gbihyKGUsMCwyKSl9LHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4ocihlLDUsMikpfSxvPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0TW9udGgoKT43P3MoZS5nZXRGdWxsWWVhcigpKTppKGUuZ2V0RnVsbFllYXIoKSkscj1uKGUpO3JldHVybiB0LXIhPT0wfSx1PWZ1bmN0aW9uKCl7dmFyIHQ9aSgpLG49cygpLHI9aSgpLXMoKTtyZXR1cm4gcjwwP3QrXCIsMVwiOnI+MD9uK1wiLDEsXCIrZTp0K1wiLDBcIn0sYT1mdW5jdGlvbigpe3ZhciBlPXUoKTtyZXR1cm4gbmV3IHQuVGltZVpvbmUodC5vbHNvbi50aW1lem9uZXNbZV0pfSxmPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBEYXRlKDIwMTAsNiwxNSwxLDAsMCwwKSxuPXtcIkFtZXJpY2EvRGVudmVyXCI6bmV3IERhdGUoMjAxMSwyLDEzLDMsMCwwLDApLFwiQW1lcmljYS9NYXphdGxhblwiOm5ldyBEYXRlKDIwMTEsMywzLDMsMCwwLDApLFwiQW1lcmljYS9DaGljYWdvXCI6bmV3IERhdGUoMjAxMSwyLDEzLDMsMCwwLDApLFwiQW1lcmljYS9NZXhpY29fQ2l0eVwiOm5ldyBEYXRlKDIwMTEsMywzLDMsMCwwLDApLFwiQW1lcmljYS9Bc3VuY2lvblwiOm5ldyBEYXRlKDIwMTIsOSw3LDMsMCwwLDApLFwiQW1lcmljYS9TYW50aWFnb1wiOm5ldyBEYXRlKDIwMTIsOSwzLDMsMCwwLDApLFwiQW1lcmljYS9DYW1wb19HcmFuZGVcIjpuZXcgRGF0ZSgyMDEyLDksMjEsNSwwLDAsMCksXCJBbWVyaWNhL01vbnRldmlkZW9cIjpuZXcgRGF0ZSgyMDExLDksMiwzLDAsMCwwKSxcIkFtZXJpY2EvU2FvX1BhdWxvXCI6bmV3IERhdGUoMjAxMSw5LDE2LDUsMCwwLDApLFwiQW1lcmljYS9Mb3NfQW5nZWxlc1wiOm5ldyBEYXRlKDIwMTEsMiwxMyw4LDAsMCwwKSxcIkFtZXJpY2EvU2FudGFfSXNhYmVsXCI6bmV3IERhdGUoMjAxMSwzLDUsOCwwLDAsMCksXCJBbWVyaWNhL0hhdmFuYVwiOm5ldyBEYXRlKDIwMTIsMiwxMCwyLDAsMCwwKSxcIkFtZXJpY2EvTmV3X1lvcmtcIjpuZXcgRGF0ZSgyMDEyLDIsMTAsNywwLDAsMCksXCJBc2lhL0JlaXJ1dFwiOm5ldyBEYXRlKDIwMTEsMiwyNywxLDAsMCwwKSxcIkV1cm9wZS9IZWxzaW5raVwiOm5ldyBEYXRlKDIwMTEsMiwyNyw0LDAsMCwwKSxcIkV1cm9wZS9Jc3RhbmJ1bFwiOm5ldyBEYXRlKDIwMTEsMiwyOCw1LDAsMCwwKSxcIkFzaWEvRGFtYXNjdXNcIjpuZXcgRGF0ZSgyMDExLDMsMSwyLDAsMCwwKSxcIkFzaWEvSmVydXNhbGVtXCI6bmV3IERhdGUoMjAxMSwzLDEsNiwwLDAsMCksXCJBc2lhL0dhemFcIjpuZXcgRGF0ZSgyMDA5LDIsMjgsMCwzMCwwLDApLFwiQWZyaWNhL0NhaXJvXCI6bmV3IERhdGUoMjAwOSwzLDI1LDAsMzAsMCwwKSxcIlBhY2lmaWMvQXVja2xhbmRcIjpuZXcgRGF0ZSgyMDExLDgsMjYsNywwLDAsMCksXCJQYWNpZmljL0ZpamlcIjpuZXcgRGF0ZSgyMDEwLDExLDI5LDIzLDAsMCwwKSxcIkFtZXJpY2EvSGFsaWZheFwiOm5ldyBEYXRlKDIwMTEsMiwxMyw2LDAsMCwwKSxcIkFtZXJpY2EvR29vc2VfQmF5XCI6bmV3IERhdGUoMjAxMSwyLDEzLDIsMSwwLDApLFwiQW1lcmljYS9NaXF1ZWxvblwiOm5ldyBEYXRlKDIwMTEsMiwxMyw1LDAsMCwwKSxcIkFtZXJpY2EvR29kdGhhYlwiOm5ldyBEYXRlKDIwMTEsMiwyNywxLDAsMCwwKSxcIkV1cm9wZS9Nb3Njb3dcIjp0LFwiQXNpYS9ZZWthdGVyaW5idXJnXCI6dCxcIkFzaWEvT21za1wiOnQsXCJBc2lhL0tyYXNub3lhcnNrXCI6dCxcIkFzaWEvSXJrdXRza1wiOnQsXCJBc2lhL1lha3V0c2tcIjp0LFwiQXNpYS9WbGFkaXZvc3Rva1wiOnQsXCJBc2lhL0thbWNoYXRrYVwiOnQsXCJFdXJvcGUvTWluc2tcIjp0LFwiQXVzdHJhbGlhL1BlcnRoXCI6bmV3IERhdGUoMjAwOCwxMCwxLDEsMCwwLDApfTtyZXR1cm4gbltlXX07cmV0dXJue2RldGVybWluZTphLGRhdGVfaXNfZHN0Om8sZHN0X3N0YXJ0X2ZvcjpmfX0oKTt0LlRpbWVab25lPWZ1bmN0aW9uKGUpe1widXNlIHN0cmljdFwiO3ZhciBuPXtcIkFtZXJpY2EvRGVudmVyXCI6W1wiQW1lcmljYS9EZW52ZXJcIixcIkFtZXJpY2EvTWF6YXRsYW5cIl0sXCJBbWVyaWNhL0NoaWNhZ29cIjpbXCJBbWVyaWNhL0NoaWNhZ29cIixcIkFtZXJpY2EvTWV4aWNvX0NpdHlcIl0sXCJBbWVyaWNhL1NhbnRpYWdvXCI6W1wiQW1lcmljYS9TYW50aWFnb1wiLFwiQW1lcmljYS9Bc3VuY2lvblwiLFwiQW1lcmljYS9DYW1wb19HcmFuZGVcIl0sXCJBbWVyaWNhL01vbnRldmlkZW9cIjpbXCJBbWVyaWNhL01vbnRldmlkZW9cIixcIkFtZXJpY2EvU2FvX1BhdWxvXCJdLFwiQXNpYS9CZWlydXRcIjpbXCJBc2lhL0JlaXJ1dFwiLFwiRXVyb3BlL0hlbHNpbmtpXCIsXCJFdXJvcGUvSXN0YW5idWxcIixcIkFzaWEvRGFtYXNjdXNcIixcIkFzaWEvSmVydXNhbGVtXCIsXCJBc2lhL0dhemFcIl0sXCJQYWNpZmljL0F1Y2tsYW5kXCI6W1wiUGFjaWZpYy9BdWNrbGFuZFwiLFwiUGFjaWZpYy9GaWppXCJdLFwiQW1lcmljYS9Mb3NfQW5nZWxlc1wiOltcIkFtZXJpY2EvTG9zX0FuZ2VsZXNcIixcIkFtZXJpY2EvU2FudGFfSXNhYmVsXCJdLFwiQW1lcmljYS9OZXdfWW9ya1wiOltcIkFtZXJpY2EvSGF2YW5hXCIsXCJBbWVyaWNhL05ld19Zb3JrXCJdLFwiQW1lcmljYS9IYWxpZmF4XCI6W1wiQW1lcmljYS9Hb29zZV9CYXlcIixcIkFtZXJpY2EvSGFsaWZheFwiXSxcIkFtZXJpY2EvR29kdGhhYlwiOltcIkFtZXJpY2EvTWlxdWVsb25cIixcIkFtZXJpY2EvR29kdGhhYlwiXSxcIkFzaWEvRHViYWlcIjpbXCJFdXJvcGUvTW9zY293XCJdLFwiQXNpYS9EaGFrYVwiOltcIkFzaWEvWWVrYXRlcmluYnVyZ1wiXSxcIkFzaWEvSmFrYXJ0YVwiOltcIkFzaWEvT21za1wiXSxcIkFzaWEvU2hhbmdoYWlcIjpbXCJBc2lhL0tyYXNub3lhcnNrXCIsXCJBdXN0cmFsaWEvUGVydGhcIl0sXCJBc2lhL1Rva3lvXCI6W1wiQXNpYS9Jcmt1dHNrXCJdLFwiQXVzdHJhbGlhL0JyaXNiYW5lXCI6W1wiQXNpYS9ZYWt1dHNrXCJdLFwiUGFjaWZpYy9Ob3VtZWFcIjpbXCJBc2lhL1ZsYWRpdm9zdG9rXCJdLFwiUGFjaWZpYy9UYXJhd2FcIjpbXCJBc2lhL0thbWNoYXRrYVwiXSxcIkFmcmljYS9Kb2hhbm5lc2J1cmdcIjpbXCJBc2lhL0dhemFcIixcIkFmcmljYS9DYWlyb1wiXSxcIkFzaWEvQmFnaGRhZFwiOltcIkV1cm9wZS9NaW5za1wiXX0scj1lLGk9ZnVuY3Rpb24oKXt2YXIgZT1uW3JdLGk9ZS5sZW5ndGgscz0wLG89ZVswXTtmb3IoO3M8aTtzKz0xKXtvPWVbc107aWYodC5kYXRlX2lzX2RzdCh0LmRzdF9zdGFydF9mb3IobykpKXtyPW87cmV0dXJufX19LHM9ZnVuY3Rpb24oKXtyZXR1cm4gdHlwZW9mIG5bcl0hPVwidW5kZWZpbmVkXCJ9O3JldHVybiBzKCkmJmkoKSx7bmFtZTpmdW5jdGlvbigpe3JldHVybiByfX19LHQub2xzb249e30sdC5vbHNvbi50aW1lem9uZXM9e1wiLTcyMCwwXCI6XCJFdGMvR01UKzEyXCIsXCItNjYwLDBcIjpcIlBhY2lmaWMvUGFnb19QYWdvXCIsXCItNjAwLDFcIjpcIkFtZXJpY2EvQWRha1wiLFwiLTYwMCwwXCI6XCJQYWNpZmljL0hvbm9sdWx1XCIsXCItNTcwLDBcIjpcIlBhY2lmaWMvTWFycXVlc2FzXCIsXCItNTQwLDBcIjpcIlBhY2lmaWMvR2FtYmllclwiLFwiLTU0MCwxXCI6XCJBbWVyaWNhL0FuY2hvcmFnZVwiLFwiLTQ4MCwxXCI6XCJBbWVyaWNhL0xvc19BbmdlbGVzXCIsXCItNDgwLDBcIjpcIlBhY2lmaWMvUGl0Y2Fpcm5cIixcIi00MjAsMFwiOlwiQW1lcmljYS9QaG9lbml4XCIsXCItNDIwLDFcIjpcIkFtZXJpY2EvRGVudmVyXCIsXCItMzYwLDBcIjpcIkFtZXJpY2EvR3VhdGVtYWxhXCIsXCItMzYwLDFcIjpcIkFtZXJpY2EvQ2hpY2Fnb1wiLFwiLTM2MCwxLHNcIjpcIlBhY2lmaWMvRWFzdGVyXCIsXCItMzAwLDBcIjpcIkFtZXJpY2EvQm9nb3RhXCIsXCItMzAwLDFcIjpcIkFtZXJpY2EvTmV3X1lvcmtcIixcIi0yNzAsMFwiOlwiQW1lcmljYS9DYXJhY2FzXCIsXCItMjQwLDFcIjpcIkFtZXJpY2EvSGFsaWZheFwiLFwiLTI0MCwwXCI6XCJBbWVyaWNhL1NhbnRvX0RvbWluZ29cIixcIi0yNDAsMSxzXCI6XCJBbWVyaWNhL1NhbnRpYWdvXCIsXCItMjEwLDFcIjpcIkFtZXJpY2EvU3RfSm9obnNcIixcIi0xODAsMVwiOlwiQW1lcmljYS9Hb2R0aGFiXCIsXCItMTgwLDBcIjpcIkFtZXJpY2EvQXJnZW50aW5hL0J1ZW5vc19BaXJlc1wiLFwiLTE4MCwxLHNcIjpcIkFtZXJpY2EvTW9udGV2aWRlb1wiLFwiLTEyMCwwXCI6XCJFdGMvR01UKzJcIixcIi0xMjAsMVwiOlwiRXRjL0dNVCsyXCIsXCItNjAsMVwiOlwiQXRsYW50aWMvQXpvcmVzXCIsXCItNjAsMFwiOlwiQXRsYW50aWMvQ2FwZV9WZXJkZVwiLFwiMCwwXCI6XCJFdGMvVVRDXCIsXCIwLDFcIjpcIkV1cm9wZS9Mb25kb25cIixcIjYwLDFcIjpcIkV1cm9wZS9CZXJsaW5cIixcIjYwLDBcIjpcIkFmcmljYS9MYWdvc1wiLFwiNjAsMSxzXCI6XCJBZnJpY2EvV2luZGhvZWtcIixcIjEyMCwxXCI6XCJBc2lhL0JlaXJ1dFwiLFwiMTIwLDBcIjpcIkFmcmljYS9Kb2hhbm5lc2J1cmdcIixcIjE4MCwwXCI6XCJBc2lhL0JhZ2hkYWRcIixcIjE4MCwxXCI6XCJFdXJvcGUvTW9zY293XCIsXCIyMTAsMVwiOlwiQXNpYS9UZWhyYW5cIixcIjI0MCwwXCI6XCJBc2lhL0R1YmFpXCIsXCIyNDAsMVwiOlwiQXNpYS9CYWt1XCIsXCIyNzAsMFwiOlwiQXNpYS9LYWJ1bFwiLFwiMzAwLDFcIjpcIkFzaWEvWWVrYXRlcmluYnVyZ1wiLFwiMzAwLDBcIjpcIkFzaWEvS2FyYWNoaVwiLFwiMzMwLDBcIjpcIkFzaWEvS29sa2F0YVwiLFwiMzQ1LDBcIjpcIkFzaWEvS2F0aG1hbmR1XCIsXCIzNjAsMFwiOlwiQXNpYS9EaGFrYVwiLFwiMzYwLDFcIjpcIkFzaWEvT21za1wiLFwiMzkwLDBcIjpcIkFzaWEvUmFuZ29vblwiLFwiNDIwLDFcIjpcIkFzaWEvS3Jhc25veWFyc2tcIixcIjQyMCwwXCI6XCJBc2lhL0pha2FydGFcIixcIjQ4MCwwXCI6XCJBc2lhL1NoYW5naGFpXCIsXCI0ODAsMVwiOlwiQXNpYS9Jcmt1dHNrXCIsXCI1MjUsMFwiOlwiQXVzdHJhbGlhL0V1Y2xhXCIsXCI1MjUsMSxzXCI6XCJBdXN0cmFsaWEvRXVjbGFcIixcIjU0MCwxXCI6XCJBc2lhL1lha3V0c2tcIixcIjU0MCwwXCI6XCJBc2lhL1Rva3lvXCIsXCI1NzAsMFwiOlwiQXVzdHJhbGlhL0RhcndpblwiLFwiNTcwLDEsc1wiOlwiQXVzdHJhbGlhL0FkZWxhaWRlXCIsXCI2MDAsMFwiOlwiQXVzdHJhbGlhL0JyaXNiYW5lXCIsXCI2MDAsMVwiOlwiQXNpYS9WbGFkaXZvc3Rva1wiLFwiNjAwLDEsc1wiOlwiQXVzdHJhbGlhL1N5ZG5leVwiLFwiNjMwLDEsc1wiOlwiQXVzdHJhbGlhL0xvcmRfSG93ZVwiLFwiNjYwLDFcIjpcIkFzaWEvS2FtY2hhdGthXCIsXCI2NjAsMFwiOlwiUGFjaWZpYy9Ob3VtZWFcIixcIjY5MCwwXCI6XCJQYWNpZmljL05vcmZvbGtcIixcIjcyMCwxLHNcIjpcIlBhY2lmaWMvQXVja2xhbmRcIixcIjcyMCwwXCI6XCJQYWNpZmljL1RhcmF3YVwiLFwiNzY1LDEsc1wiOlwiUGFjaWZpYy9DaGF0aGFtXCIsXCI3ODAsMFwiOlwiUGFjaWZpYy9Ub25nYXRhcHVcIixcIjc4MCwxLHNcIjpcIlBhY2lmaWMvQXBpYVwiLFwiODQwLDBcIjpcIlBhY2lmaWMvS2lyaXRpbWF0aVwifSx0eXBlb2YgZXhwb3J0cyE9XCJ1bmRlZmluZWRcIj9leHBvcnRzLmpzdHo9dDplLmpzdHo9dH0pKHRoaXMpOyIsIi8qXG5Db3B5cmlnaHQgKGMpIDIwMDMtMjAxMywgQ0tTb3VyY2UgLSBGcmVkZXJpY28gS25hYmJlbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbkZvciBsaWNlbnNpbmcsIHNlZSBMSUNFTlNFLmh0bWwgb3IgaHR0cDovL2NrZWRpdG9yLmNvbS9saWNlbnNlXG4qL1xuXG50YW5nZXJpbmVMaWJQYXRoID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLnNwbGl0KFwiL1wiKTtcbnRhbmdlcmluZUxpYlBhdGgucG9wKCk7XG50YW5nZXJpbmVMaWJQYXRoLnB1c2goXCJqc1wiLFwibGliXCIsIFwiXCIpO1xudGFuZ2VyaW5lTGliUGF0aCA9IHRhbmdlcmluZUxpYlBhdGguam9pbihcIi9cIik7XG53aW5kb3cuQ0tFRElUT1JfQkFTRVBBVEggPSB0YW5nZXJpbmVMaWJQYXRoO1xuXG4oZnVuY3Rpb24oKXtpZih3aW5kb3cuQ0tFRElUT1ImJndpbmRvdy5DS0VESVRPUi5kb20pcmV0dXJuO3dpbmRvdy5DS0VESVRPUnx8KHdpbmRvdy5DS0VESVRPUj1mdW5jdGlvbigpe3ZhciBiPXt0aW1lc3RhbXA6XCJEMDhFXCIsdmVyc2lvbjpcIjQuMC4xXCIscmV2aXNpb246XCJkMDI3MzliZTRiXCIscm5kOk1hdGguZmxvb3IoOTAwKk1hdGgucmFuZG9tKCkpKzEwMCxfOntwZW5kaW5nOltdfSxzdGF0dXM6XCJ1bmxvYWRlZFwiLGJhc2VQYXRoOmZ1bmN0aW9uKCl7dmFyIGE9d2luZG93LkNLRURJVE9SX0JBU0VQQVRIfHxcIlwiO2lmKCFhKWZvcih2YXIgYj1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKSxkPTA7ZDxiLmxlbmd0aDtkKyspe3ZhciBjPWJbZF0uc3JjLm1hdGNoKC8oXnwuKltcXFxcXFwvXSlja2VkaXRvcig/Ol9iYXNpYyk/KD86X3NvdXJjZSk/LmpzKD86XFw/LiopPyQvaSk7aWYoYyl7YT1jWzFdO2JyZWFrfX0tMT09YS5pbmRleE9mKFwiOi9cIikmJihhPTA9PT1hLmluZGV4T2YoXCIvXCIpP2xvY2F0aW9uLmhyZWYubWF0Y2goL14uKj86XFwvXFwvW15cXC9dKi8pWzBdK2E6bG9jYXRpb24uaHJlZi5tYXRjaCgvXlteXFw/XSpcXC8oPzopLylbMF0rXG5hKTtpZighYSl0aHJvdydUaGUgQ0tFZGl0b3IgaW5zdGFsbGF0aW9uIHBhdGggY291bGQgbm90IGJlIGF1dG9tYXRpY2FsbHkgZGV0ZWN0ZWQuIFBsZWFzZSBzZXQgdGhlIGdsb2JhbCB2YXJpYWJsZSBcIkNLRURJVE9SX0JBU0VQQVRIXCIgYmVmb3JlIGNyZWF0aW5nIGVkaXRvciBpbnN0YW5jZXMuJztyZXR1cm4gYX0oKSxnZXRVcmw6ZnVuY3Rpb24oYSl7LTE9PWEuaW5kZXhPZihcIjovXCIpJiYwIT09YS5pbmRleE9mKFwiL1wiKSYmKGE9dGhpcy5iYXNlUGF0aCthKTt0aGlzLnRpbWVzdGFtcCYmKFwiL1wiIT1hLmNoYXJBdChhLmxlbmd0aC0xKSYmIS9bJj9ddD0vLnRlc3QoYSkpJiYoYSs9KDA8PWEuaW5kZXhPZihcIj9cIik/XCImXCI6XCI/XCIpK1widD1cIit0aGlzLnRpbWVzdGFtcCk7cmV0dXJuIGF9LGRvbVJlYWR5OmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe3RyeXtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyPyhkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLGEsXG4hMSksYigpKTpkb2N1bWVudC5hdHRhY2hFdmVudCYmXCJjb21wbGV0ZVwiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZSYmKGRvY3VtZW50LmRldGFjaEV2ZW50KFwib25yZWFkeXN0YXRlY2hhbmdlXCIsYSksYigpKX1jYXRjaChkKXt9fWZ1bmN0aW9uIGIoKXtmb3IodmFyIGE7YT1kLnNoaWZ0KCk7KWEoKX12YXIgZD1bXTtyZXR1cm4gZnVuY3Rpb24oYil7ZC5wdXNoKGIpO1wiY29tcGxldGVcIj09PWRvY3VtZW50LnJlYWR5U3RhdGUmJnNldFRpbWVvdXQoYSwxKTtpZigxPT1kLmxlbmd0aClpZihkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKWRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsYSwhMSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsYSwhMSk7ZWxzZSBpZihkb2N1bWVudC5hdHRhY2hFdmVudCl7ZG9jdW1lbnQuYXR0YWNoRXZlbnQoXCJvbnJlYWR5c3RhdGVjaGFuZ2VcIixhKTt3aW5kb3cuYXR0YWNoRXZlbnQoXCJvbmxvYWRcIixhKTtiPSExO3RyeXtiPVxuIXdpbmRvdy5mcmFtZUVsZW1lbnR9Y2F0Y2goZSl7fWlmKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbCYmYil7dmFyIGM9ZnVuY3Rpb24oKXt0cnl7ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsKFwibGVmdFwiKX1jYXRjaChiKXtzZXRUaW1lb3V0KGMsMSk7cmV0dXJufWEoKX07YygpfX19fSgpfSxjPXdpbmRvdy5DS0VESVRPUl9HRVRVUkw7aWYoYyl7dmFyIGE9Yi51cmw7Yi51cmw9ZnVuY3Rpb24oZil7cmV0dXJuIGMuY2FsbChiLGYpfHxhLmNhbGwoYixmKX19cmV0dXJuIGJ9KCkpO1xuQ0tFRElUT1IuZXZlbnR8fChDS0VESVRPUi5ldmVudD1mdW5jdGlvbigpe30sQ0tFRElUT1IuZXZlbnQuaW1wbGVtZW50T249ZnVuY3Rpb24oYil7dmFyIGM9Q0tFRElUT1IuZXZlbnQucHJvdG90eXBlLGE7Zm9yKGEgaW4gYyliW2FdPT12b2lkIDAmJihiW2FdPWNbYV0pfSxDS0VESVRPUi5ldmVudC5wcm90b3R5cGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGYpe3ZhciBiPWModGhpcyk7cmV0dXJuIGJbZl18fChiW2ZdPW5ldyBhKGYpKX12YXIgYz1mdW5jdGlvbihhKXthPWEuZ2V0UHJpdmF0ZSYmYS5nZXRQcml2YXRlKCl8fGEuX3x8KGEuXz17fSk7cmV0dXJuIGEuZXZlbnRzfHwoYS5ldmVudHM9e30pfSxhPWZ1bmN0aW9uKGEpe3RoaXMubmFtZT1hO3RoaXMubGlzdGVuZXJzPVtdfTthLnByb3RvdHlwZT17Z2V0TGlzdGVuZXJJbmRleDpmdW5jdGlvbihhKXtmb3IodmFyIGI9MCxkPXRoaXMubGlzdGVuZXJzO2I8ZC5sZW5ndGg7YisrKWlmKGRbYl0uZm49PWEpcmV0dXJuIGI7cmV0dXJuLTF9fTtcbnJldHVybntkZWZpbmU6ZnVuY3Rpb24oYSxlKXt2YXIgZD1iLmNhbGwodGhpcyxhKTtDS0VESVRPUi50b29scy5leHRlbmQoZCxlLHRydWUpfSxvbjpmdW5jdGlvbihhLGUsZCxjLGspe2Z1bmN0aW9uIGgoYixsLG8sbil7Yj17bmFtZTphLHNlbmRlcjp0aGlzLGVkaXRvcjpiLGRhdGE6bCxsaXN0ZW5lckRhdGE6YyxzdG9wOm8sY2FuY2VsOm4scmVtb3ZlTGlzdGVuZXI6bX07cmV0dXJuIGUuY2FsbChkLGIpPT09ZmFsc2U/ZmFsc2U6Yi5kYXRhfWZ1bmN0aW9uIG0oKXtvLnJlbW92ZUxpc3RlbmVyKGEsZSl9dmFyIG49Yi5jYWxsKHRoaXMsYSk7aWYobi5nZXRMaXN0ZW5lckluZGV4KGUpPDApe249bi5saXN0ZW5lcnM7ZHx8KGQ9dGhpcyk7aXNOYU4oaykmJihrPTEwKTt2YXIgbz10aGlzO2guZm49ZTtoLnByaW9yaXR5PWs7Zm9yKHZhciBsPW4ubGVuZ3RoLTE7bD49MDtsLS0paWYobltsXS5wcmlvcml0eTw9ayl7bi5zcGxpY2UobCsxLDAsaCk7cmV0dXJue3JlbW92ZUxpc3RlbmVyOm19fW4udW5zaGlmdChoKX1yZXR1cm57cmVtb3ZlTGlzdGVuZXI6bX19LFxub25jZTpmdW5jdGlvbigpe3ZhciBhPWFyZ3VtZW50c1sxXTthcmd1bWVudHNbMV09ZnVuY3Rpb24oYil7Yi5yZW1vdmVMaXN0ZW5lcigpO3JldHVybiBhLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07cmV0dXJuIHRoaXMub24uYXBwbHkodGhpcyxhcmd1bWVudHMpfSxjYXB0dXJlOmZ1bmN0aW9uKCl7Q0tFRElUT1IuZXZlbnQudXNlQ2FwdHVyZT0xO3ZhciBhPXRoaXMub24uYXBwbHkodGhpcyxhcmd1bWVudHMpO0NLRURJVE9SLmV2ZW50LnVzZUNhcHR1cmU9MDtyZXR1cm4gYX0sZmlyZTpmdW5jdGlvbigpe3ZhciBhPTAsYj1mdW5jdGlvbigpe2E9MX0sZD0wLGc9ZnVuY3Rpb24oKXtkPTF9O3JldHVybiBmdW5jdGlvbihrLGgsbSl7dmFyIG49Yyh0aGlzKVtrXSxrPWEsbz1kO2E9ZD0wO2lmKG4pe3ZhciBsPW4ubGlzdGVuZXJzO2lmKGwubGVuZ3RoKWZvcih2YXIgbD1sLnNsaWNlKDApLGoscT0wO3E8bC5sZW5ndGg7cSsrKXtpZihuLmVycm9yUHJvb2YpdHJ5e2o9bFtxXS5jYWxsKHRoaXMsXG5tLGgsYixnKX1jYXRjaCh5KXt9ZWxzZSBqPWxbcV0uY2FsbCh0aGlzLG0saCxiLGcpO2o9PT1mYWxzZT9kPTE6dHlwZW9mIGohPVwidW5kZWZpbmVkXCImJihoPWopO2lmKGF8fGQpYnJlYWt9fWg9ZD9mYWxzZTp0eXBlb2YgaD09XCJ1bmRlZmluZWRcIj90cnVlOmg7YT1rO2Q9bztyZXR1cm4gaH19KCksZmlyZU9uY2U6ZnVuY3Rpb24oYSxiLGQpe2I9dGhpcy5maXJlKGEsYixkKTtkZWxldGUgYyh0aGlzKVthXTtyZXR1cm4gYn0scmVtb3ZlTGlzdGVuZXI6ZnVuY3Rpb24oYSxiKXt2YXIgZD1jKHRoaXMpW2FdO2lmKGQpe3ZhciBnPWQuZ2V0TGlzdGVuZXJJbmRleChiKTtnPj0wJiZkLmxpc3RlbmVycy5zcGxpY2UoZywxKX19LHJlbW92ZUFsbExpc3RlbmVyczpmdW5jdGlvbigpe3ZhciBhPWModGhpcyksYjtmb3IoYiBpbiBhKWRlbGV0ZSBhW2JdfSxoYXNMaXN0ZW5lcnM6ZnVuY3Rpb24oYSl7cmV0dXJuKGE9Yyh0aGlzKVthXSkmJmEubGlzdGVuZXJzLmxlbmd0aD4wfX19KCkpO1xuQ0tFRElUT1IuZWRpdG9yfHwoQ0tFRElUT1IuZWRpdG9yPWZ1bmN0aW9uKCl7Q0tFRElUT1IuXy5wZW5kaW5nLnB1c2goW3RoaXMsYXJndW1lbnRzXSk7Q0tFRElUT1IuZXZlbnQuY2FsbCh0aGlzKX0sQ0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5maXJlPWZ1bmN0aW9uKGIsYyl7YiBpbntpbnN0YW5jZVJlYWR5OjEsbG9hZGVkOjF9JiYodGhpc1tiXT10cnVlKTtyZXR1cm4gQ0tFRElUT1IuZXZlbnQucHJvdG90eXBlLmZpcmUuY2FsbCh0aGlzLGIsYyx0aGlzKX0sQ0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5maXJlT25jZT1mdW5jdGlvbihiLGMpe2IgaW57aW5zdGFuY2VSZWFkeToxLGxvYWRlZDoxfSYmKHRoaXNbYl09dHJ1ZSk7cmV0dXJuIENLRURJVE9SLmV2ZW50LnByb3RvdHlwZS5maXJlT25jZS5jYWxsKHRoaXMsYixjLHRoaXMpfSxDS0VESVRPUi5ldmVudC5pbXBsZW1lbnRPbihDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlKSk7XG5DS0VESVRPUi5lbnZ8fChDS0VESVRPUi5lbnY9ZnVuY3Rpb24oKXt2YXIgYj1uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCksYz13aW5kb3cub3BlcmEsYT17aWU6ZXZhbChcIi8qQGNjX29uIUAqL2ZhbHNlXCIpLG9wZXJhOiEhYyYmYy52ZXJzaW9uLHdlYmtpdDpiLmluZGV4T2YoXCIgYXBwbGV3ZWJraXQvXCIpPi0xLGFpcjpiLmluZGV4T2YoXCIgYWRvYmVhaXIvXCIpPi0xLG1hYzpiLmluZGV4T2YoXCJtYWNpbnRvc2hcIik+LTEscXVpcmtzOmRvY3VtZW50LmNvbXBhdE1vZGU9PVwiQmFja0NvbXBhdFwiLG1vYmlsZTpiLmluZGV4T2YoXCJtb2JpbGVcIik+LTEsaU9TOi8oaXBhZHxpcGhvbmV8aXBvZCkvLnRlc3QoYiksaXNDdXN0b21Eb21haW46ZnVuY3Rpb24oKXtpZighdGhpcy5pZSlyZXR1cm4gZmFsc2U7dmFyIGE9ZG9jdW1lbnQuZG9tYWluLGI9d2luZG93LmxvY2F0aW9uLmhvc3RuYW1lO3JldHVybiBhIT1iJiZhIT1cIltcIitiK1wiXVwifSxzZWN1cmU6bG9jYXRpb24ucHJvdG9jb2w9PVxuXCJodHRwczpcIn07YS5nZWNrbz1uYXZpZ2F0b3IucHJvZHVjdD09XCJHZWNrb1wiJiYhYS53ZWJraXQmJiFhLm9wZXJhO2lmKGEud2Via2l0KWIuaW5kZXhPZihcImNocm9tZVwiKT4tMT9hLmNocm9tZT10cnVlOmEuc2FmYXJpPXRydWU7dmFyIGY9MDtpZihhLmllKXtmPWEucXVpcmtzfHwhZG9jdW1lbnQuZG9jdW1lbnRNb2RlP3BhcnNlRmxvYXQoYi5tYXRjaCgvbXNpZSAoXFxkKykvKVsxXSk6ZG9jdW1lbnQuZG9jdW1lbnRNb2RlO2EuaWU5Q29tcGF0PWY9PTk7YS5pZThDb21wYXQ9Zj09ODthLmllN0NvbXBhdD1mPT03O2EuaWU2Q29tcGF0PWY8N3x8YS5xdWlya3N9aWYoYS5nZWNrbyl7dmFyIGU9Yi5tYXRjaCgvcnY6KFtcXGRcXC5dKykvKTtpZihlKXtlPWVbMV0uc3BsaXQoXCIuXCIpO2Y9ZVswXSoxRTQrKGVbMV18fDApKjEwMCsoZVsyXXx8MCkqMX19YS5vcGVyYSYmKGY9cGFyc2VGbG9hdChjLnZlcnNpb24oKSkpO2EuYWlyJiYoZj1wYXJzZUZsb2F0KGIubWF0Y2goLyBhZG9iZWFpclxcLyhcXGQrKS8pWzFdKSk7XG5hLndlYmtpdCYmKGY9cGFyc2VGbG9hdChiLm1hdGNoKC8gYXBwbGV3ZWJraXRcXC8oXFxkKykvKVsxXSkpO2EudmVyc2lvbj1mO2EuaXNDb21wYXRpYmxlPWEuaU9TJiZmPj01MzR8fCFhLm1vYmlsZSYmKGEuaWUmJmY+Nnx8YS5nZWNrbyYmZj49MTA4MDF8fGEub3BlcmEmJmY+PTkuNXx8YS5haXImJmY+PTF8fGEud2Via2l0JiZmPj01MjJ8fGZhbHNlKTthLmNzc0NsYXNzPVwiY2tlX2Jyb3dzZXJfXCIrKGEuaWU/XCJpZVwiOmEuZ2Vja28/XCJnZWNrb1wiOmEub3BlcmE/XCJvcGVyYVwiOmEud2Via2l0P1wid2Via2l0XCI6XCJ1bmtub3duXCIpO2lmKGEucXVpcmtzKWEuY3NzQ2xhc3M9YS5jc3NDbGFzcytcIiBja2VfYnJvd3Nlcl9xdWlya3NcIjtpZihhLmllKXthLmNzc0NsYXNzPWEuY3NzQ2xhc3MrKFwiIGNrZV9icm93c2VyX2llXCIrKGEucXVpcmtzfHxhLnZlcnNpb248Nz9cIjZcIjphLnZlcnNpb24pKTtpZihhLnF1aXJrcylhLmNzc0NsYXNzPWEuY3NzQ2xhc3MrXCIgY2tlX2Jyb3dzZXJfaWVxdWlya3NcIn1pZihhLmdlY2tvKWlmKGY8XG4xMDkwMClhLmNzc0NsYXNzPWEuY3NzQ2xhc3MrXCIgY2tlX2Jyb3dzZXJfZ2Vja28xOFwiO2Vsc2UgaWYoZjw9MTFFMylhLmNzc0NsYXNzPWEuY3NzQ2xhc3MrXCIgY2tlX2Jyb3dzZXJfZ2Vja28xOVwiO2lmKGEuYWlyKWEuY3NzQ2xhc3M9YS5jc3NDbGFzcytcIiBja2VfYnJvd3Nlcl9haXJcIjtyZXR1cm4gYX0oKSk7XG5cInVubG9hZGVkXCI9PUNLRURJVE9SLnN0YXR1cyYmZnVuY3Rpb24oKXtDS0VESVRPUi5ldmVudC5pbXBsZW1lbnRPbihDS0VESVRPUik7Q0tFRElUT1IubG9hZEZ1bGxDb3JlPWZ1bmN0aW9uKCl7aWYoQ0tFRElUT1Iuc3RhdHVzIT1cImJhc2ljX3JlYWR5XCIpQ0tFRElUT1IubG9hZEZ1bGxDb3JlLl9sb2FkPTE7ZWxzZXtkZWxldGUgQ0tFRElUT1IubG9hZEZ1bGxDb3JlO3ZhciBiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7Yi50eXBlPVwidGV4dC9qYXZhc2NyaXB0XCI7Yi5zcmM9Q0tFRElUT1IuYmFzZVBhdGgrXCJja2VkaXRvci5qc1wiO2RvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXS5hcHBlbmRDaGlsZChiKX19O0NLRURJVE9SLmxvYWRGdWxsQ29yZVRpbWVvdXQ9MDtDS0VESVRPUi5hZGQ9ZnVuY3Rpb24oYil7KHRoaXMuXy5wZW5kaW5nfHwodGhpcy5fLnBlbmRpbmc9W10pKS5wdXNoKGIpfTsoZnVuY3Rpb24oKXtDS0VESVRPUi5kb21SZWFkeShmdW5jdGlvbigpe3ZhciBiPVxuQ0tFRElUT1IubG9hZEZ1bGxDb3JlLGM9Q0tFRElUT1IubG9hZEZ1bGxDb3JlVGltZW91dDtpZihiKXtDS0VESVRPUi5zdGF0dXM9XCJiYXNpY19yZWFkeVwiO2ImJmIuX2xvYWQ/YigpOmMmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtDS0VESVRPUi5sb2FkRnVsbENvcmUmJkNLRURJVE9SLmxvYWRGdWxsQ29yZSgpfSxjKjFFMyl9fSl9KSgpO0NLRURJVE9SLnN0YXR1cz1cImJhc2ljX2xvYWRlZFwifSgpO0NLRURJVE9SLmRvbT17fTtcbihmdW5jdGlvbigpe3ZhciBiPVtdLGM9Q0tFRElUT1IuZW52LmdlY2tvP1wiLW1vei1cIjpDS0VESVRPUi5lbnYud2Via2l0P1wiLXdlYmtpdC1cIjpDS0VESVRPUi5lbnYub3BlcmE/XCItby1cIjpDS0VESVRPUi5lbnYuaWU/XCItbXMtXCI6XCJcIjtDS0VESVRPUi5vbihcInJlc2V0XCIsZnVuY3Rpb24oKXtiPVtdfSk7Q0tFRElUT1IudG9vbHM9e2FycmF5Q29tcGFyZTpmdW5jdGlvbihhLGIpe2lmKCFhJiYhYilyZXR1cm4gdHJ1ZTtpZighYXx8IWJ8fGEubGVuZ3RoIT1iLmxlbmd0aClyZXR1cm4gZmFsc2U7Zm9yKHZhciBlPTA7ZTxhLmxlbmd0aDtlKyspaWYoYVtlXSE9YltlXSlyZXR1cm4gZmFsc2U7cmV0dXJuIHRydWV9LGNsb25lOmZ1bmN0aW9uKGEpe3ZhciBiO2lmKGEmJmEgaW5zdGFuY2VvZiBBcnJheSl7Yj1bXTtmb3IodmFyIGU9MDtlPGEubGVuZ3RoO2UrKyliW2VdPXRoaXMuY2xvbmUoYVtlXSk7cmV0dXJuIGJ9aWYoYT09PW51bGx8fHR5cGVvZiBhIT1cIm9iamVjdFwifHxhIGluc3RhbmNlb2ZcblN0cmluZ3x8YSBpbnN0YW5jZW9mIE51bWJlcnx8YSBpbnN0YW5jZW9mIEJvb2xlYW58fGEgaW5zdGFuY2VvZiBEYXRlfHxhIGluc3RhbmNlb2YgUmVnRXhwKXJldHVybiBhO2I9bmV3IGEuY29uc3RydWN0b3I7Zm9yKGUgaW4gYSliW2VdPXRoaXMuY2xvbmUoYVtlXSk7cmV0dXJuIGJ9LGNhcGl0YWxpemU6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYS5zdWJzdHJpbmcoMSkudG9Mb3dlckNhc2UoKX0sZXh0ZW5kOmZ1bmN0aW9uKGEpe3ZhciBiPWFyZ3VtZW50cy5sZW5ndGgsZSxkO2lmKHR5cGVvZihlPWFyZ3VtZW50c1tiLTFdKT09XCJib29sZWFuXCIpYi0tO2Vsc2UgaWYodHlwZW9mKGU9YXJndW1lbnRzW2ItMl0pPT1cImJvb2xlYW5cIil7ZD1hcmd1bWVudHNbYi0xXTtiPWItMn1mb3IodmFyIGM9MTtjPGI7YysrKXt2YXIgaz1hcmd1bWVudHNbY10saDtmb3IoaCBpbiBrKWlmKGU9PT10cnVlfHxhW2hdPT12b2lkIDApaWYoIWR8fGggaW4gZClhW2hdPVxua1toXX1yZXR1cm4gYX0scHJvdG90eXBlZENvcHk6ZnVuY3Rpb24oYSl7dmFyIGI9ZnVuY3Rpb24oKXt9O2IucHJvdG90eXBlPWE7cmV0dXJuIG5ldyBifSxpc0FycmF5OmZ1bmN0aW9uKGEpe3JldHVybiEhYSYmYSBpbnN0YW5jZW9mIEFycmF5fSxpc0VtcHR5OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYiBpbiBhKWlmKGEuaGFzT3duUHJvcGVydHkoYikpcmV0dXJuIGZhbHNlO3JldHVybiB0cnVlfSxjc3NWZW5kb3JQcmVmaXg6ZnVuY3Rpb24oYSxiLGUpe2lmKGUpcmV0dXJuIGMrYStcIjpcIitiK1wiO1wiK2ErXCI6XCIrYjtlPXt9O2VbYV09YjtlW2MrYV09YjtyZXR1cm4gZX0sY3NzU3R5bGVUb0RvbVN0eWxlOmZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKS5zdHlsZSxiPXR5cGVvZiBhLmNzc0Zsb2F0IT1cInVuZGVmaW5lZFwiP1wiY3NzRmxvYXRcIjp0eXBlb2YgYS5zdHlsZUZsb2F0IT1cInVuZGVmaW5lZFwiP1wic3R5bGVGbG9hdFwiOlwiZmxvYXRcIjtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIGE9PVxuXCJmbG9hdFwiP2I6YS5yZXBsYWNlKC8tLi9nLGZ1bmN0aW9uKGEpe3JldHVybiBhLnN1YnN0cigxKS50b1VwcGVyQ2FzZSgpfSl9fSgpLGJ1aWxkU3R5bGVIdG1sOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYT1bXS5jb25jYXQoYSksYixlPVtdLGM9MDtjPGEubGVuZ3RoO2MrKylpZihiPWFbY10pL0BpbXBvcnR8W3t9XS8udGVzdChiKT9lLnB1c2goXCI8c3R5bGU+XCIrYitcIjwvc3R5bGU+XCIpOmUucHVzaCgnPGxpbmsgdHlwZT1cInRleHQvY3NzXCIgcmVsPXN0eWxlc2hlZXQgaHJlZj1cIicrYisnXCI+Jyk7cmV0dXJuIGUuam9pbihcIlwiKX0saHRtbEVuY29kZTpmdW5jdGlvbihhKXtyZXR1cm4oXCJcIithKS5yZXBsYWNlKC8mL2csXCImYW1wO1wiKS5yZXBsYWNlKC8+L2csXCImZ3Q7XCIpLnJlcGxhY2UoLzwvZyxcIiZsdDtcIil9LGh0bWxFbmNvZGVBdHRyOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoL1wiL2csXCImcXVvdDtcIikucmVwbGFjZSgvPC9nLFwiJmx0O1wiKS5yZXBsYWNlKC8+L2csXCImZ3Q7XCIpfSxnZXROZXh0TnVtYmVyOmZ1bmN0aW9uKCl7dmFyIGE9XG4wO3JldHVybiBmdW5jdGlvbigpe3JldHVybisrYX19KCksZ2V0TmV4dElkOmZ1bmN0aW9uKCl7cmV0dXJuXCJja2VfXCIrdGhpcy5nZXROZXh0TnVtYmVyKCl9LG92ZXJyaWRlOmZ1bmN0aW9uKGEsYil7dmFyIGU9YihhKTtlLnByb3RvdHlwZT1hLnByb3RvdHlwZTtyZXR1cm4gZX0sc2V0VGltZW91dDpmdW5jdGlvbihhLGIsZSxjLGcpe2d8fChnPXdpbmRvdyk7ZXx8KGU9Zyk7cmV0dXJuIGcuc2V0VGltZW91dChmdW5jdGlvbigpe2M/YS5hcHBseShlLFtdLmNvbmNhdChjKSk6YS5hcHBseShlKX0sYnx8MCl9LHRyaW06ZnVuY3Rpb24oKXt2YXIgYT0vKD86XlsgXFx0XFxuXFxyXSspfCg/OlsgXFx0XFxuXFxyXSskKS9nO3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gYi5yZXBsYWNlKGEsXCJcIil9fSgpLGx0cmltOmZ1bmN0aW9uKCl7dmFyIGE9L15bIFxcdFxcblxccl0rL2c7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBiLnJlcGxhY2UoYSxcIlwiKX19KCkscnRyaW06ZnVuY3Rpb24oKXt2YXIgYT0vWyBcXHRcXG5cXHJdKyQvZztcbnJldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gYi5yZXBsYWNlKGEsXCJcIil9fSgpLGluZGV4T2Y6ZnVuY3Rpb24oYSxiKXtpZih0eXBlb2YgYj09XCJmdW5jdGlvblwiKWZvcih2YXIgYz0wLGQ9YS5sZW5ndGg7YzxkO2MrKyl7aWYoYihhW2NdKSlyZXR1cm4gY31lbHNle2lmKGEuaW5kZXhPZilyZXR1cm4gYS5pbmRleE9mKGIpO2M9MDtmb3IoZD1hLmxlbmd0aDtjPGQ7YysrKWlmKGFbY109PT1iKXJldHVybiBjfXJldHVybi0xfSxzZWFyY2g6ZnVuY3Rpb24oYSxiKXt2YXIgYz1DS0VESVRPUi50b29scy5pbmRleE9mKGEsYik7cmV0dXJuIGM+PTA/YVtjXTpudWxsfSxiaW5kOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkoYixhcmd1bWVudHMpfX0sY3JlYXRlQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGI9YS4kLGM9YS5iYXNlLGQ9YS5wcml2YXRlc3x8YS5fLGc9YS5wcm90byxhPWEuc3RhdGljczshYiYmKGI9ZnVuY3Rpb24oKXtjJiZ0aGlzLmJhc2UuYXBwbHkodGhpcyxcbmFyZ3VtZW50cyl9KTtpZihkKXZhciBrPWIsYj1mdW5jdGlvbigpe3ZhciBhPXRoaXMuX3x8KHRoaXMuXz17fSksYjtmb3IoYiBpbiBkKXt2YXIgZj1kW2JdO2FbYl09dHlwZW9mIGY9PVwiZnVuY3Rpb25cIj9DS0VESVRPUi50b29scy5iaW5kKGYsdGhpcyk6Zn1rLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07aWYoYyl7Yi5wcm90b3R5cGU9dGhpcy5wcm90b3R5cGVkQ29weShjLnByb3RvdHlwZSk7Yi5wcm90b3R5cGUuY29uc3RydWN0b3I9YjtiLmJhc2U9YztiLmJhc2VQcm90bz1jLnByb3RvdHlwZTtiLnByb3RvdHlwZS5iYXNlPWZ1bmN0aW9uKCl7dGhpcy5iYXNlPWMucHJvdG90eXBlLmJhc2U7Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5iYXNlPWFyZ3VtZW50cy5jYWxsZWV9fWcmJnRoaXMuZXh0ZW5kKGIucHJvdG90eXBlLGcsdHJ1ZSk7YSYmdGhpcy5leHRlbmQoYixhLHRydWUpO3JldHVybiBifSxhZGRGdW5jdGlvbjpmdW5jdGlvbihhLGYpe3JldHVybiBiLnB1c2goZnVuY3Rpb24oKXtyZXR1cm4gYS5hcHBseShmfHxcbnRoaXMsYXJndW1lbnRzKX0pLTF9LHJlbW92ZUZ1bmN0aW9uOmZ1bmN0aW9uKGEpe2JbYV09bnVsbH0sY2FsbEZ1bmN0aW9uOmZ1bmN0aW9uKGEpe3ZhciBmPWJbYV07cmV0dXJuIGYmJmYuYXBwbHkod2luZG93LEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSl9LGNzc0xlbmd0aDpmdW5jdGlvbigpe3ZhciBhPS9eLT9cXGQrXFwuP1xcZCpweCQvLGI7cmV0dXJuIGZ1bmN0aW9uKGMpe2I9Q0tFRElUT1IudG9vbHMudHJpbShjK1wiXCIpK1wicHhcIjtyZXR1cm4gYS50ZXN0KGIpP2I6Y3x8XCJcIn19KCksY29udmVydFRvUHg6ZnVuY3Rpb24oKXt2YXIgYTtyZXR1cm4gZnVuY3Rpb24oYil7aWYoIWEpe2E9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoJzxkaXYgc3R5bGU9XCJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi05OTk5cHg7dG9wOi05OTk5cHg7bWFyZ2luOjBweDtwYWRkaW5nOjBweDtib3JkZXI6MHB4O1wiPjwvZGl2PicsQ0tFRElUT1IuZG9jdW1lbnQpO1xuQ0tFRElUT1IuZG9jdW1lbnQuZ2V0Qm9keSgpLmFwcGVuZChhKX1pZighLyUkLy50ZXN0KGIpKXthLnNldFN0eWxlKFwid2lkdGhcIixiKTtyZXR1cm4gYS4kLmNsaWVudFdpZHRofXJldHVybiBifX0oKSxyZXBlYXQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gQXJyYXkoYisxKS5qb2luKGEpfSx0cnlUaGVzZTpmdW5jdGlvbigpe2Zvcih2YXIgYSxiPTAsYz1hcmd1bWVudHMubGVuZ3RoO2I8YztiKyspe3ZhciBkPWFyZ3VtZW50c1tiXTt0cnl7YT1kKCk7YnJlYWt9Y2F0Y2goZyl7fX1yZXR1cm4gYX0sZ2VuS2V5OmZ1bmN0aW9uKCl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykuam9pbihcIi1cIil9LGRlZmVyOmZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe3ZhciBiPWFyZ3VtZW50cyxjPXRoaXM7d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXthLmFwcGx5KGMsYil9LDApfX0sbm9ybWFsaXplQ3NzVGV4dDpmdW5jdGlvbihhLGIpe3ZhciBjPVtdLFxuZCxnPUNLRURJVE9SLnRvb2xzLnBhcnNlQ3NzVGV4dChhLHRydWUsYik7Zm9yKGQgaW4gZyljLnB1c2goZCtcIjpcIitnW2RdKTtjLnNvcnQoKTtyZXR1cm4gYy5sZW5ndGg/Yy5qb2luKFwiO1wiKStcIjtcIjpcIlwifSxjb252ZXJ0UmdiVG9IZXg6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvKD86cmdiXFwoXFxzKihcXGQrKVxccyosXFxzKihcXGQrKVxccyosXFxzKihcXGQrKVxccypcXCkpL2dpLGZ1bmN0aW9uKGEsYixjLGcpe2E9W2IsYyxnXTtmb3IoYj0wO2I8MztiKyspYVtiXT0oXCIwXCIrcGFyc2VJbnQoYVtiXSwxMCkudG9TdHJpbmcoMTYpKS5zbGljZSgtMik7cmV0dXJuXCIjXCIrYS5qb2luKFwiXCIpfSl9LHBhcnNlQ3NzVGV4dDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9e307aWYoYyl7Yz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJzcGFuXCIpO2Muc2V0QXR0cmlidXRlKFwic3R5bGVcIixhKTthPUNLRURJVE9SLnRvb2xzLmNvbnZlcnRSZ2JUb0hleChjLmdldEF0dHJpYnV0ZShcInN0eWxlXCIpfHxcIlwiKX1pZighYXx8XG5hPT1cIjtcIilyZXR1cm4gZDthLnJlcGxhY2UoLyZxdW90Oy9nLCdcIicpLnJlcGxhY2UoL1xccyooW146O1xcc10rKVxccyo6XFxzKihbXjtdKylcXHMqKD89O3wkKS9nLGZ1bmN0aW9uKGEsYyxlKXtpZihiKXtjPWMudG9Mb3dlckNhc2UoKTtjPT1cImZvbnQtZmFtaWx5XCImJihlPWUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9bXCInXS9nLFwiXCIpLnJlcGxhY2UoL1xccyosXFxzKi9nLFwiLFwiKSk7ZT1DS0VESVRPUi50b29scy50cmltKGUpfWRbY109ZX0pO3JldHVybiBkfX19KSgpO1xuQ0tFRElUT1IuZHRkPWZ1bmN0aW9uKCl7dmFyIGI9Q0tFRElUT1IudG9vbHMuZXh0ZW5kLGM9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGY9Q0tFRElUT1IudG9vbHMuY2xvbmUoYSksbD0xO2w8YXJndW1lbnRzLmxlbmd0aDtsKyspe3ZhciBiPWFyZ3VtZW50c1tsXSxqO2ZvcihqIGluIGIpZGVsZXRlIGZbal19cmV0dXJuIGZ9LGE9e30sZj17fSxlPXthZGRyZXNzOjEsYXJ0aWNsZToxLGFzaWRlOjEsYmxvY2txdW90ZToxLGRldGFpbHM6MSxkaXY6MSxkbDoxLGZpZWxkc2V0OjEsZmlndXJlOjEsZm9vdGVyOjEsZm9ybToxLGgxOjEsaDI6MSxoMzoxLGg0OjEsaDU6MSxoNjoxLGhlYWRlcjoxLGhncm91cDoxLGhyOjEsbWVudToxLG5hdjoxLG9sOjEscDoxLHByZToxLHNlY3Rpb246MSx0YWJsZToxLHVsOjF9LGQ9e2NvbW1hbmQ6MSxsaW5rOjEsbWV0YToxLG5vc2NyaXB0OjEsc2NyaXB0OjEsc3R5bGU6MX0sZz17fSxrPXtcIiNcIjoxfSxoPXtjZW50ZXI6MSxkaXI6MSxub2ZyYW1lczoxfTtcbmIoYSx7YToxLGFiYnI6MSxhcmVhOjEsYXVkaW86MSxiOjEsYmRpOjEsYmRvOjEsYnI6MSxidXR0b246MSxjYW52YXM6MSxjaXRlOjEsY29kZToxLGNvbW1hbmQ6MSxkYXRhbGlzdDoxLGRlbDoxLGRmbjoxLGVtOjEsZW1iZWQ6MSxpOjEsaWZyYW1lOjEsaW1nOjEsaW5wdXQ6MSxpbnM6MSxrYmQ6MSxrZXlnZW46MSxsYWJlbDoxLG1hcDoxLG1hcms6MSxtZXRlcjoxLG5vc2NyaXB0OjEsb2JqZWN0OjEsb3V0cHV0OjEscHJvZ3Jlc3M6MSxxOjEscnVieToxLHM6MSxzYW1wOjEsc2NyaXB0OjEsc2VsZWN0OjEsc21hbGw6MSxzcGFuOjEsc3Ryb25nOjEsc3ViOjEsc3VwOjEsdGV4dGFyZWE6MSx0aW1lOjEsdToxLFwidmFyXCI6MSx2aWRlbzoxLHdicjoxfSxrLHthY3JvbnltOjEsYXBwbGV0OjEsYmFzZWZvbnQ6MSxiaWc6MSxmb250OjEsaXNpbmRleDoxLHN0cmlrZToxLHN0eWxlOjEsdHQ6MX0pO2IoZixlLGEsaCk7Yz17YTpjKGEse2E6MSxidXR0b246MX0pLGFiYnI6YSxhZGRyZXNzOmYsXG5hcmVhOmcsYXJ0aWNsZTpiKHtzdHlsZToxfSxmKSxhc2lkZTpiKHtzdHlsZToxfSxmKSxhdWRpbzpiKHtzb3VyY2U6MSx0cmFjazoxfSxmKSxiOmEsYmFzZTpnLGJkaTphLGJkbzphLGJsb2NrcXVvdGU6Zixib2R5OmYsYnI6ZyxidXR0b246YyhhLHthOjEsYnV0dG9uOjF9KSxjYW52YXM6YSxjYXB0aW9uOmYsY2l0ZTphLGNvZGU6YSxjb2w6Zyxjb2xncm91cDp7Y29sOjF9LGNvbW1hbmQ6ZyxkYXRhbGlzdDpiKHtvcHRpb246MX0sYSksZGQ6ZixkZWw6YSxkZXRhaWxzOmIoe3N1bW1hcnk6MX0sZiksZGZuOmEsZGl2OmIoe3N0eWxlOjF9LGYpLGRsOntkdDoxLGRkOjF9LGR0OmYsZW06YSxlbWJlZDpnLGZpZWxkc2V0OmIoe2xlZ2VuZDoxfSxmKSxmaWdjYXB0aW9uOmYsZmlndXJlOmIoe2ZpZ2NhcHRpb246MX0sZiksZm9vdGVyOmYsZm9ybTpmLGgxOmEsaDI6YSxoMzphLGg0OmEsaDU6YSxoNjphLGhlYWQ6Yih7dGl0bGU6MSxiYXNlOjF9LGQpLGhlYWRlcjpmLGhncm91cDp7aDE6MSxcbmgyOjEsaDM6MSxoNDoxLGg1OjEsaDY6MX0saHI6ZyxodG1sOmIoe2hlYWQ6MSxib2R5OjF9LGYsZCksaTphLGlmcmFtZTprLGltZzpnLGlucHV0OmcsaW5zOmEsa2JkOmEsa2V5Z2VuOmcsbGFiZWw6YSxsZWdlbmQ6YSxsaTpmLGxpbms6ZyxtYXA6ZixtYXJrOmEsbWVudTpiKHtsaToxfSxmKSxtZXRhOmcsbWV0ZXI6YyhhLHttZXRlcjoxfSksbmF2OmYsbm9zY3JpcHQ6Yih7bGluazoxLG1ldGE6MSxzdHlsZToxfSxhKSxvYmplY3Q6Yih7cGFyYW06MX0sYSksb2w6e2xpOjF9LG9wdGdyb3VwOntvcHRpb246MX0sb3B0aW9uOmssb3V0cHV0OmEscDphLHBhcmFtOmcscHJlOmEscHJvZ3Jlc3M6YyhhLHtwcm9ncmVzczoxfSkscTphLHJwOmEscnQ6YSxydWJ5OmIoe3JwOjEscnQ6MX0sYSksczphLHNhbXA6YSxzY3JpcHQ6ayxzZWN0aW9uOmIoe3N0eWxlOjF9LGYpLHNlbGVjdDp7b3B0Z3JvdXA6MSxvcHRpb246MX0sc21hbGw6YSxzb3VyY2U6ZyxzcGFuOmEsc3Ryb25nOmEsc3R5bGU6ayxcbnN1YjphLHN1bW1hcnk6YSxzdXA6YSx0YWJsZTp7Y2FwdGlvbjoxLGNvbGdyb3VwOjEsdGhlYWQ6MSx0Zm9vdDoxLHRib2R5OjEsdHI6MX0sdGJvZHk6e3RyOjF9LHRkOmYsdGV4dGFyZWE6ayx0Zm9vdDp7dHI6MX0sdGg6Zix0aGVhZDp7dHI6MX0sdGltZTpjKGEse3RpbWU6MX0pLHRpdGxlOmssdHI6e3RoOjEsdGQ6MX0sdHJhY2s6Zyx1OmEsdWw6e2xpOjF9LFwidmFyXCI6YSx2aWRlbzpiKHtzb3VyY2U6MSx0cmFjazoxfSxmKSx3YnI6ZyxhY3JvbnltOmEsYXBwbGV0OmIoe3BhcmFtOjF9LGYpLGJhc2Vmb250OmcsYmlnOmEsY2VudGVyOmYsZGlhbG9nOmcsZGlyOntsaToxfSxmb250OmEsaXNpbmRleDpnLG5vZnJhbWVzOmYsc3RyaWtlOmEsdHQ6YX07YihjLHskYmxvY2s6Yih7YXVkaW86MSxkZDoxLGR0OjEsbGk6MSx2aWRlbzoxfSxlLGgpLCRibG9ja0xpbWl0OnthcnRpY2xlOjEsYXNpZGU6MSxhdWRpbzoxLGJvZHk6MSxjYXB0aW9uOjEsZGV0YWlsczoxLGRpcjoxLGRpdjoxLGRsOjEsXG5maWVsZHNldDoxLGZpZ3VyZToxLGZvb3RlcjoxLGZvcm06MSxoZWFkZXI6MSxoZ3JvdXA6MSxtZW51OjEsbmF2OjEsb2w6MSxzZWN0aW9uOjEsdGFibGU6MSx0ZDoxLHRoOjEsdHI6MSx1bDoxLHZpZGVvOjF9LCRjZGF0YTp7c2NyaXB0OjEsc3R5bGU6MX0sJGVkaXRhYmxlOnthZGRyZXNzOjEsYXJ0aWNsZToxLGFzaWRlOjEsYmxvY2txdW90ZToxLGJvZHk6MSxkZXRhaWxzOjEsZGl2OjEsZmllbGRzZXQ6MSxmb290ZXI6MSxmb3JtOjEsaDE6MSxoMjoxLGgzOjEsaDQ6MSxoNToxLGg2OjEsaGVhZGVyOjEsaGdyb3VwOjEsbmF2OjEscDoxLHByZToxLHNlY3Rpb246MX0sJGVtcHR5OnthcmVhOjEsYmFzZToxLGJhc2Vmb250OjEsYnI6MSxjb2w6MSxjb21tYW5kOjEsZGlhbG9nOjEsZW1iZWQ6MSxocjoxLGltZzoxLGlucHV0OjEsaXNpbmRleDoxLGtleWdlbjoxLGxpbms6MSxtZXRhOjEscGFyYW06MSxzb3VyY2U6MSx0cmFjazoxLHdicjoxfSwkaW5saW5lOmEsJGxpc3Q6e2RsOjEsb2w6MSxcbnVsOjF9LCRsaXN0SXRlbTp7ZGQ6MSxkdDoxLGxpOjF9LCRub25Cb2R5Q29udGVudDpiKHtib2R5OjEsaGVhZDoxLGh0bWw6MX0sYy5oZWFkKSwkbm9uRWRpdGFibGU6e2FwcGxldDoxLGF1ZGlvOjEsYnV0dG9uOjEsZW1iZWQ6MSxpZnJhbWU6MSxtYXA6MSxvYmplY3Q6MSxvcHRpb246MSxwYXJhbToxLHNjcmlwdDoxLHRleHRhcmVhOjEsdmlkZW86MX0sJG9iamVjdDp7YXBwbGV0OjEsYXVkaW86MSxidXR0b246MSxocjoxLGlmcmFtZToxLGltZzoxLGlucHV0OjEsb2JqZWN0OjEsc2VsZWN0OjEsdGFibGU6MSx0ZXh0YXJlYToxLHZpZGVvOjF9LCRyZW1vdmVFbXB0eTp7YWJicjoxLGFjcm9ueW06MSxiOjEsYmRpOjEsYmRvOjEsYmlnOjEsY2l0ZToxLGNvZGU6MSxkZWw6MSxkZm46MSxlbToxLGZvbnQ6MSxpOjEsaW5zOjEsbGFiZWw6MSxrYmQ6MSxtYXJrOjEsbWV0ZXI6MSxvdXRwdXQ6MSxxOjEscnVieToxLHM6MSxzYW1wOjEsc21hbGw6MSxzcGFuOjEsc3RyaWtlOjEsc3Ryb25nOjEsXG5zdWI6MSxzdXA6MSx0aW1lOjEsdHQ6MSx1OjEsXCJ2YXJcIjoxfSwkdGFiSW5kZXg6e2E6MSxhcmVhOjEsYnV0dG9uOjEsaW5wdXQ6MSxvYmplY3Q6MSxzZWxlY3Q6MSx0ZXh0YXJlYToxfSwkdGFibGVDb250ZW50OntjYXB0aW9uOjEsY29sOjEsY29sZ3JvdXA6MSx0Ym9keToxLHRkOjEsdGZvb3Q6MSx0aDoxLHRoZWFkOjEsdHI6MX0sJHRyYW5zcGFyZW50OnthOjEsYXVkaW86MSxjYW52YXM6MSxkZWw6MSxpbnM6MSxtYXA6MSxub3NjcmlwdDoxLG9iamVjdDoxLHZpZGVvOjF9LCRpbnRlcm1lZGlhdGU6e2NhcHRpb246MSxjb2xncm91cDoxLGRkOjEsZHQ6MSxmaWdjYXB0aW9uOjEsbGVnZW5kOjEsbGk6MSxvcHRncm91cDoxLG9wdGlvbjoxLHJwOjEscnQ6MSxzdW1tYXJ5OjEsdGJvZHk6MSx0ZDoxLHRmb290OjEsdGg6MSx0aGVhZDoxLHRyOjF9fSk7cmV0dXJuIGN9KCk7Q0tFRElUT1IuZG9tLmV2ZW50PWZ1bmN0aW9uKGIpe3RoaXMuJD1ifTtcbkNLRURJVE9SLmRvbS5ldmVudC5wcm90b3R5cGU9e2dldEtleTpmdW5jdGlvbigpe3JldHVybiB0aGlzLiQua2V5Q29kZXx8dGhpcy4kLndoaWNofSxnZXRLZXlzdHJva2U6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmdldEtleSgpO2lmKHRoaXMuJC5jdHJsS2V5fHx0aGlzLiQubWV0YUtleSliPWIrQ0tFRElUT1IuQ1RSTDt0aGlzLiQuc2hpZnRLZXkmJihiPWIrQ0tFRElUT1IuU0hJRlQpO3RoaXMuJC5hbHRLZXkmJihiPWIrQ0tFRElUT1IuQUxUKTtyZXR1cm4gYn0scHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy4kO2MucHJldmVudERlZmF1bHQ/Yy5wcmV2ZW50RGVmYXVsdCgpOmMucmV0dXJuVmFsdWU9ZmFsc2U7YiYmdGhpcy5zdG9wUHJvcGFnYXRpb24oKX0sc3RvcFByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy4kO2Iuc3RvcFByb3BhZ2F0aW9uP2Iuc3RvcFByb3BhZ2F0aW9uKCk6Yi5jYW5jZWxCdWJibGU9dHJ1ZX0sZ2V0VGFyZ2V0OmZ1bmN0aW9uKCl7dmFyIGI9XG50aGlzLiQudGFyZ2V0fHx0aGlzLiQuc3JjRWxlbWVudDtyZXR1cm4gYj9uZXcgQ0tFRElUT1IuZG9tLm5vZGUoYik6bnVsbH0sZ2V0UGhhc2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kLmV2ZW50UGhhc2V8fDJ9LGdldFBhZ2VPZmZzZXQ6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmdldFRhcmdldCgpLmdldERvY3VtZW50KCkuJDtyZXR1cm57eDp0aGlzLiQucGFnZVh8fHRoaXMuJC5jbGllbnRYKyhiLmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0fHxiLmJvZHkuc2Nyb2xsTGVmdCkseTp0aGlzLiQucGFnZVl8fHRoaXMuJC5jbGllbnRZKyhiLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3B8fGIuYm9keS5zY3JvbGxUb3ApfX19O0NLRURJVE9SLkNUUkw9MTExNDExMjtDS0VESVRPUi5TSElGVD0yMjI4MjI0O0NLRURJVE9SLkFMVD00NDU2NDQ4O0NLRURJVE9SLkVWRU5UX1BIQVNFX0NBUFRVUklORz0xO0NLRURJVE9SLkVWRU5UX1BIQVNFX0FUX1RBUkdFVD0yO1xuQ0tFRElUT1IuRVZFTlRfUEhBU0VfQlVCQkxJTkc9MztDS0VESVRPUi5kb20uZG9tT2JqZWN0PWZ1bmN0aW9uKGIpe2lmKGIpdGhpcy4kPWJ9O1xuQ0tFRElUT1IuZG9tLmRvbU9iamVjdC5wcm90b3R5cGU9ZnVuY3Rpb24oKXt2YXIgYj1mdW5jdGlvbihiLGEpe3JldHVybiBmdW5jdGlvbihmKXt0eXBlb2YgQ0tFRElUT1IhPVwidW5kZWZpbmVkXCImJmIuZmlyZShhLG5ldyBDS0VESVRPUi5kb20uZXZlbnQoZikpfX07cmV0dXJue2dldFByaXZhdGU6ZnVuY3Rpb24oKXt2YXIgYjtpZighKGI9dGhpcy5nZXRDdXN0b21EYXRhKFwiX1wiKSkpdGhpcy5zZXRDdXN0b21EYXRhKFwiX1wiLGI9e30pO3JldHVybiBifSxvbjpmdW5jdGlvbihjKXt2YXIgYT10aGlzLmdldEN1c3RvbURhdGEoXCJfY2tlX25hdGl2ZUxpc3RlbmVyc1wiKTtpZighYSl7YT17fTt0aGlzLnNldEN1c3RvbURhdGEoXCJfY2tlX25hdGl2ZUxpc3RlbmVyc1wiLGEpfWlmKCFhW2NdKXthPWFbY109Yih0aGlzLGMpO3RoaXMuJC5hZGRFdmVudExpc3RlbmVyP3RoaXMuJC5hZGRFdmVudExpc3RlbmVyKGMsYSwhIUNLRURJVE9SLmV2ZW50LnVzZUNhcHR1cmUpOnRoaXMuJC5hdHRhY2hFdmVudCYmXG50aGlzLiQuYXR0YWNoRXZlbnQoXCJvblwiK2MsYSl9cmV0dXJuIENLRURJVE9SLmV2ZW50LnByb3RvdHlwZS5vbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHJlbW92ZUxpc3RlbmVyOmZ1bmN0aW9uKGIpe0NLRURJVE9SLmV2ZW50LnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYoIXRoaXMuaGFzTGlzdGVuZXJzKGIpKXt2YXIgYT10aGlzLmdldEN1c3RvbURhdGEoXCJfY2tlX25hdGl2ZUxpc3RlbmVyc1wiKSxmPWEmJmFbYl07aWYoZil7dGhpcy4kLnJlbW92ZUV2ZW50TGlzdGVuZXI/dGhpcy4kLnJlbW92ZUV2ZW50TGlzdGVuZXIoYixmLGZhbHNlKTp0aGlzLiQuZGV0YWNoRXZlbnQmJnRoaXMuJC5kZXRhY2hFdmVudChcIm9uXCIrYixmKTtkZWxldGUgYVtiXX19fSxyZW1vdmVBbGxMaXN0ZW5lcnM6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmdldEN1c3RvbURhdGEoXCJfY2tlX25hdGl2ZUxpc3RlbmVyc1wiKSxhO2ZvcihhIGluIGIpe3ZhciBmPWJbYV07dGhpcy4kLmRldGFjaEV2ZW50P1xudGhpcy4kLmRldGFjaEV2ZW50KFwib25cIithLGYpOnRoaXMuJC5yZW1vdmVFdmVudExpc3RlbmVyJiZ0aGlzLiQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLGYsZmFsc2UpO2RlbGV0ZSBiW2FdfX19fSgpO1xuKGZ1bmN0aW9uKGIpe3ZhciBjPXt9O0NLRURJVE9SLm9uKFwicmVzZXRcIixmdW5jdGlvbigpe2M9e319KTtiLmVxdWFscz1mdW5jdGlvbihhKXt0cnl7cmV0dXJuIGEmJmEuJD09PXRoaXMuJH1jYXRjaChiKXtyZXR1cm4gZmFsc2V9fTtiLnNldEN1c3RvbURhdGE9ZnVuY3Rpb24oYSxiKXt2YXIgZT10aGlzLmdldFVuaXF1ZUlkKCk7KGNbZV18fChjW2VdPXt9KSlbYV09YjtyZXR1cm4gdGhpc307Yi5nZXRDdXN0b21EYXRhPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuJFtcImRhdGEtY2tlLWV4cGFuZG9cIl07cmV0dXJuKGI9YiYmY1tiXSkmJmEgaW4gYj9iW2FdOm51bGx9O2IucmVtb3ZlQ3VzdG9tRGF0YT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLiRbXCJkYXRhLWNrZS1leHBhbmRvXCJdLGI9YiYmY1tiXSxlLGQ7aWYoYil7ZT1iW2FdO2Q9YSBpbiBiO2RlbGV0ZSBiW2FdfXJldHVybiBkP2U6bnVsbH07Yi5jbGVhckN1c3RvbURhdGE9ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xudmFyIGE9dGhpcy4kW1wiZGF0YS1ja2UtZXhwYW5kb1wiXTthJiZkZWxldGUgY1thXX07Yi5nZXRVbmlxdWVJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRbXCJkYXRhLWNrZS1leHBhbmRvXCJdfHwodGhpcy4kW1wiZGF0YS1ja2UtZXhwYW5kb1wiXT1DS0VESVRPUi50b29scy5nZXROZXh0TnVtYmVyKCkpfTtDS0VESVRPUi5ldmVudC5pbXBsZW1lbnRPbihiKX0pKENLRURJVE9SLmRvbS5kb21PYmplY3QucHJvdG90eXBlKTtcbkNLRURJVE9SLmRvbS5ub2RlPWZ1bmN0aW9uKGIpe3JldHVybiBiP25ldyBDS0VESVRPUi5kb21bYi5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9ET0NVTUVOVD9cImRvY3VtZW50XCI6Yi5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UP1wiZWxlbWVudFwiOmIubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfVEVYVD9cInRleHRcIjpiLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX0NPTU1FTlQ/XCJjb21tZW50XCI6Yi5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVD9cImRvY3VtZW50RnJhZ21lbnRcIjpcImRvbU9iamVjdFwiXShiKTp0aGlzfTtDS0VESVRPUi5kb20ubm9kZS5wcm90b3R5cGU9bmV3IENLRURJVE9SLmRvbS5kb21PYmplY3Q7Q0tFRElUT1IuTk9ERV9FTEVNRU5UPTE7Q0tFRElUT1IuTk9ERV9ET0NVTUVOVD05O0NLRURJVE9SLk5PREVfVEVYVD0zO0NLRURJVE9SLk5PREVfQ09NTUVOVD04O0NLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQ9MTE7XG5DS0VESVRPUi5QT1NJVElPTl9JREVOVElDQUw9MDtDS0VESVRPUi5QT1NJVElPTl9ESVNDT05ORUNURUQ9MTtDS0VESVRPUi5QT1NJVElPTl9GT0xMT1dJTkc9MjtDS0VESVRPUi5QT1NJVElPTl9QUkVDRURJTkc9NDtDS0VESVRPUi5QT1NJVElPTl9JU19DT05UQUlORUQ9ODtDS0VESVRPUi5QT1NJVElPTl9DT05UQUlOUz0xNjtcbkNLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5kb20ubm9kZS5wcm90b3R5cGUse2FwcGVuZFRvOmZ1bmN0aW9uKGIsYyl7Yi5hcHBlbmQodGhpcyxjKTtyZXR1cm4gYn0sY2xvbmU6ZnVuY3Rpb24oYixjKXt2YXIgYT10aGlzLiQuY2xvbmVOb2RlKGIpLGY9ZnVuY3Rpb24oYSl7YVtcImRhdGEtY2tlLWV4cGFuZG9cIl0mJihhW1wiZGF0YS1ja2UtZXhwYW5kb1wiXT1mYWxzZSk7aWYoYS5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKXtjfHxhLnJlbW92ZUF0dHJpYnV0ZShcImlkXCIsZmFsc2UpO2lmKGIpZm9yKHZhciBhPWEuY2hpbGROb2RlcyxkPTA7ZDxhLmxlbmd0aDtkKyspZihhW2RdKX19O2YoYSk7cmV0dXJuIG5ldyBDS0VESVRPUi5kb20ubm9kZShhKX0saGFzUHJldmlvdXM6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuJC5wcmV2aW91c1NpYmxpbmd9LGhhc05leHQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuJC5uZXh0U2libGluZ30saW5zZXJ0QWZ0ZXI6ZnVuY3Rpb24oYil7Yi4kLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXMuJCxcbmIuJC5uZXh0U2libGluZyk7cmV0dXJuIGJ9LGluc2VydEJlZm9yZTpmdW5jdGlvbihiKXtiLiQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy4kLGIuJCk7cmV0dXJuIGJ9LGluc2VydEJlZm9yZU1lOmZ1bmN0aW9uKGIpe3RoaXMuJC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShiLiQsdGhpcy4kKTtyZXR1cm4gYn0sZ2V0QWRkcmVzczpmdW5jdGlvbihiKXtmb3IodmFyIGM9W10sYT10aGlzLmdldERvY3VtZW50KCkuJC5kb2N1bWVudEVsZW1lbnQsZj10aGlzLiQ7ZiYmZiE9YTspe3ZhciBlPWYucGFyZW50Tm9kZTtlJiZjLnVuc2hpZnQodGhpcy5nZXRJbmRleC5jYWxsKHskOmZ9LGIpKTtmPWV9cmV0dXJuIGN9LGdldERvY3VtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnQodGhpcy4kLm93bmVyRG9jdW1lbnR8fHRoaXMuJC5wYXJlbnROb2RlLm93bmVyRG9jdW1lbnQpfSxnZXRJbmRleDpmdW5jdGlvbihiKXt2YXIgYz10aGlzLiQsYT0tMSxcbmY7aWYoIXRoaXMuJC5wYXJlbnROb2RlKXJldHVybiBhO2RvIGlmKCFifHwhKGMhPXRoaXMuJCYmYy5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYoZnx8IWMubm9kZVZhbHVlKSkpe2ErKztmPWMubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfVEVYVH13aGlsZShjPWMucHJldmlvdXNTaWJsaW5nKTtyZXR1cm4gYX0sZ2V0TmV4dFNvdXJjZU5vZGU6ZnVuY3Rpb24oYixjLGEpe2lmKGEmJiFhLmNhbGwpdmFyIGY9YSxhPWZ1bmN0aW9uKGEpe3JldHVybiFhLmVxdWFscyhmKX07dmFyIGI9IWImJnRoaXMuZ2V0Rmlyc3QmJnRoaXMuZ2V0Rmlyc3QoKSxlO2lmKCFiKXtpZih0aGlzLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYSYmYSh0aGlzLHRydWUpPT09ZmFsc2UpcmV0dXJuIG51bGw7Yj10aGlzLmdldE5leHQoKX1mb3IoOyFiJiYoZT0oZXx8dGhpcykuZ2V0UGFyZW50KCkpOyl7aWYoYSYmYShlLHRydWUpPT09ZmFsc2UpcmV0dXJuIG51bGw7Yj1lLmdldE5leHQoKX1yZXR1cm4hYnx8XG5hJiZhKGIpPT09ZmFsc2U/bnVsbDpjJiZjIT1iLnR5cGU/Yi5nZXROZXh0U291cmNlTm9kZShmYWxzZSxjLGEpOmJ9LGdldFByZXZpb3VzU291cmNlTm9kZTpmdW5jdGlvbihiLGMsYSl7aWYoYSYmIWEuY2FsbCl2YXIgZj1hLGE9ZnVuY3Rpb24oYSl7cmV0dXJuIWEuZXF1YWxzKGYpfTt2YXIgYj0hYiYmdGhpcy5nZXRMYXN0JiZ0aGlzLmdldExhc3QoKSxlO2lmKCFiKXtpZih0aGlzLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYSYmYSh0aGlzLHRydWUpPT09ZmFsc2UpcmV0dXJuIG51bGw7Yj10aGlzLmdldFByZXZpb3VzKCl9Zm9yKDshYiYmKGU9KGV8fHRoaXMpLmdldFBhcmVudCgpKTspe2lmKGEmJmEoZSx0cnVlKT09PWZhbHNlKXJldHVybiBudWxsO2I9ZS5nZXRQcmV2aW91cygpfXJldHVybiFifHxhJiZhKGIpPT09ZmFsc2U/bnVsbDpjJiZiLnR5cGUhPWM/Yi5nZXRQcmV2aW91c1NvdXJjZU5vZGUoZmFsc2UsYyxhKTpifSxnZXRQcmV2aW91czpmdW5jdGlvbihiKXt2YXIgYz1cbnRoaXMuJCxhO2RvIGE9KGM9Yy5wcmV2aW91c1NpYmxpbmcpJiZjLm5vZGVUeXBlIT0xMCYmbmV3IENLRURJVE9SLmRvbS5ub2RlKGMpO3doaWxlKGEmJmImJiFiKGEpKTtyZXR1cm4gYX0sZ2V0TmV4dDpmdW5jdGlvbihiKXt2YXIgYz10aGlzLiQsYTtkbyBhPShjPWMubmV4dFNpYmxpbmcpJiZuZXcgQ0tFRElUT1IuZG9tLm5vZGUoYyk7d2hpbGUoYSYmYiYmIWIoYSkpO3JldHVybiBhfSxnZXRQYXJlbnQ6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy4kLnBhcmVudE5vZGU7cmV0dXJuIGMmJihjLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fGImJmMubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQpP25ldyBDS0VESVRPUi5kb20ubm9kZShjKTpudWxsfSxnZXRQYXJlbnRzOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMsYT1bXTtkbyBhW2I/XCJwdXNoXCI6XCJ1bnNoaWZ0XCJdKGMpO3doaWxlKGM9Yy5nZXRQYXJlbnQoKSk7cmV0dXJuIGF9LGdldENvbW1vbkFuY2VzdG9yOmZ1bmN0aW9uKGIpe2lmKGIuZXF1YWxzKHRoaXMpKXJldHVybiB0aGlzO1xuaWYoYi5jb250YWlucyYmYi5jb250YWlucyh0aGlzKSlyZXR1cm4gYjt2YXIgYz10aGlzLmNvbnRhaW5zP3RoaXM6dGhpcy5nZXRQYXJlbnQoKTtkbyBpZihjLmNvbnRhaW5zKGIpKXJldHVybiBjO3doaWxlKGM9Yy5nZXRQYXJlbnQoKSk7cmV0dXJuIG51bGx9LGdldFBvc2l0aW9uOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuJCxhPWIuJDtpZihjLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKXJldHVybiBjLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGEpO2lmKGM9PWEpcmV0dXJuIENLRURJVE9SLlBPU0lUSU9OX0lERU5USUNBTDtpZih0aGlzLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpe2lmKGMuY29udGFpbnMpe2lmKGMuY29udGFpbnMoYSkpcmV0dXJuIENLRURJVE9SLlBPU0lUSU9OX0NPTlRBSU5TK0NLRURJVE9SLlBPU0lUSU9OX1BSRUNFRElORztpZihhLmNvbnRhaW5zKGMpKXJldHVybiBDS0VESVRPUi5QT1NJVElPTl9JU19DT05UQUlORUQrXG5DS0VESVRPUi5QT1NJVElPTl9GT0xMT1dJTkd9aWYoXCJzb3VyY2VJbmRleFwiaW4gYylyZXR1cm4gYy5zb3VyY2VJbmRleDwwfHxhLnNvdXJjZUluZGV4PDA/Q0tFRElUT1IuUE9TSVRJT05fRElTQ09OTkVDVEVEOmMuc291cmNlSW5kZXg8YS5zb3VyY2VJbmRleD9DS0VESVRPUi5QT1NJVElPTl9QUkVDRURJTkc6Q0tFRElUT1IuUE9TSVRJT05fRk9MTE9XSU5HfWZvcih2YXIgYz10aGlzLmdldEFkZHJlc3MoKSxiPWIuZ2V0QWRkcmVzcygpLGE9TWF0aC5taW4oYy5sZW5ndGgsYi5sZW5ndGgpLGY9MDtmPD1hLTE7ZisrKWlmKGNbZl0hPWJbZl0pe2lmKGY8YSlyZXR1cm4gY1tmXTxiW2ZdP0NLRURJVE9SLlBPU0lUSU9OX1BSRUNFRElORzpDS0VESVRPUi5QT1NJVElPTl9GT0xMT1dJTkc7YnJlYWt9cmV0dXJuIGMubGVuZ3RoPGIubGVuZ3RoP0NLRURJVE9SLlBPU0lUSU9OX0NPTlRBSU5TK0NLRURJVE9SLlBPU0lUSU9OX1BSRUNFRElORzpDS0VESVRPUi5QT1NJVElPTl9JU19DT05UQUlORUQrXG5DS0VESVRPUi5QT1NJVElPTl9GT0xMT1dJTkd9LGdldEFzY2VuZGFudDpmdW5jdGlvbihiLGMpe3ZhciBhPXRoaXMuJCxmO2lmKCFjKWE9YS5wYXJlbnROb2RlO2Zvcig7YTspe2lmKGEubm9kZU5hbWUmJihmPWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKSx0eXBlb2YgYj09XCJzdHJpbmdcIj9mPT1iOmYgaW4gYikpcmV0dXJuIG5ldyBDS0VESVRPUi5kb20ubm9kZShhKTthPWEucGFyZW50Tm9kZX1yZXR1cm4gbnVsbH0saGFzQXNjZW5kYW50OmZ1bmN0aW9uKGIsYyl7dmFyIGE9dGhpcy4kO2lmKCFjKWE9YS5wYXJlbnROb2RlO2Zvcig7YTspe2lmKGEubm9kZU5hbWUmJmEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09YilyZXR1cm4gdHJ1ZTthPWEucGFyZW50Tm9kZX1yZXR1cm4gZmFsc2V9LG1vdmU6ZnVuY3Rpb24oYixjKXtiLmFwcGVuZCh0aGlzLnJlbW92ZSgpLGMpfSxyZW1vdmU6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy4kLGE9Yy5wYXJlbnROb2RlO2lmKGEpe2lmKGIpZm9yKDtiPVxuYy5maXJzdENoaWxkOylhLmluc2VydEJlZm9yZShjLnJlbW92ZUNoaWxkKGIpLGMpO2EucmVtb3ZlQ2hpbGQoYyl9cmV0dXJuIHRoaXN9LHJlcGxhY2U6ZnVuY3Rpb24oYil7dGhpcy5pbnNlcnRCZWZvcmUoYik7Yi5yZW1vdmUoKX0sdHJpbTpmdW5jdGlvbigpe3RoaXMubHRyaW0oKTt0aGlzLnJ0cmltKCl9LGx0cmltOmZ1bmN0aW9uKCl7Zm9yKHZhciBiO3RoaXMuZ2V0Rmlyc3QmJihiPXRoaXMuZ2V0Rmlyc3QoKSk7KXtpZihiLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCl7dmFyIGM9Q0tFRElUT1IudG9vbHMubHRyaW0oYi5nZXRUZXh0KCkpLGE9Yi5nZXRMZW5ndGgoKTtpZihjKXtpZihjLmxlbmd0aDxhKXtiLnNwbGl0KGEtYy5sZW5ndGgpO3RoaXMuJC5yZW1vdmVDaGlsZCh0aGlzLiQuZmlyc3RDaGlsZCl9fWVsc2V7Yi5yZW1vdmUoKTtjb250aW51ZX19YnJlYWt9fSxydHJpbTpmdW5jdGlvbigpe2Zvcih2YXIgYjt0aGlzLmdldExhc3QmJihiPXRoaXMuZ2V0TGFzdCgpKTspe2lmKGIudHlwZT09XG5DS0VESVRPUi5OT0RFX1RFWFQpe3ZhciBjPUNLRURJVE9SLnRvb2xzLnJ0cmltKGIuZ2V0VGV4dCgpKSxhPWIuZ2V0TGVuZ3RoKCk7aWYoYyl7aWYoYy5sZW5ndGg8YSl7Yi5zcGxpdChjLmxlbmd0aCk7dGhpcy4kLmxhc3RDaGlsZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuJC5sYXN0Q2hpbGQpfX1lbHNle2IucmVtb3ZlKCk7Y29udGludWV9fWJyZWFrfWlmKCFDS0VESVRPUi5lbnYuaWUmJiFDS0VESVRPUi5lbnYub3BlcmEpKGI9dGhpcy4kLmxhc3RDaGlsZCkmJihiLnR5cGU9PTEmJmIubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09XCJiclwiKSYmYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpfSxpc1JlYWRPbmx5OmZ1bmN0aW9uKCl7dmFyIGI9dGhpczt0aGlzLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGI9dGhpcy5nZXRQYXJlbnQoKSk7aWYoYiYmdHlwZW9mIGIuJC5pc0NvbnRlbnRFZGl0YWJsZSE9XCJ1bmRlZmluZWRcIilyZXR1cm4hKGIuJC5pc0NvbnRlbnRFZGl0YWJsZXx8XG5iLmRhdGEoXCJja2UtZWRpdGFibGVcIikpO2Zvcig7Yjspe2lmKGIuZGF0YShcImNrZS1lZGl0YWJsZVwiKSlicmVhaztpZihiLmdldEF0dHJpYnV0ZShcImNvbnRlbnRFZGl0YWJsZVwiKT09XCJmYWxzZVwiKXJldHVybiB0cnVlO2lmKGIuZ2V0QXR0cmlidXRlKFwiY29udGVudEVkaXRhYmxlXCIpPT1cInRydWVcIilicmVhaztiPWIuZ2V0UGFyZW50KCl9cmV0dXJuIWJ9fSk7Q0tFRElUT1IuZG9tLndpbmRvdz1mdW5jdGlvbihiKXtDS0VESVRPUi5kb20uZG9tT2JqZWN0LmNhbGwodGhpcyxiKX07Q0tFRElUT1IuZG9tLndpbmRvdy5wcm90b3R5cGU9bmV3IENLRURJVE9SLmRvbS5kb21PYmplY3Q7XG5DS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZG9tLndpbmRvdy5wcm90b3R5cGUse2ZvY3VzOmZ1bmN0aW9uKCl7dGhpcy4kLmZvY3VzKCl9LGdldFZpZXdQYW5lU2l6ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuJC5kb2N1bWVudCxjPWIuY29tcGF0TW9kZT09XCJDU1MxQ29tcGF0XCI7cmV0dXJue3dpZHRoOihjP2IuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoOmIuYm9keS5jbGllbnRXaWR0aCl8fDAsaGVpZ2h0OihjP2IuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDpiLmJvZHkuY2xpZW50SGVpZ2h0KXx8MH19LGdldFNjcm9sbFBvc2l0aW9uOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy4kO2lmKFwicGFnZVhPZmZzZXRcImluIGIpcmV0dXJue3g6Yi5wYWdlWE9mZnNldHx8MCx5OmIucGFnZVlPZmZzZXR8fDB9O2I9Yi5kb2N1bWVudDtyZXR1cm57eDpiLmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0fHxiLmJvZHkuc2Nyb2xsTGVmdHx8MCx5OmIuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcHx8XG5iLmJvZHkuc2Nyb2xsVG9wfHwwfX0sZ2V0RnJhbWU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLiQuZnJhbWVFbGVtZW50O3JldHVybiBiP25ldyBDS0VESVRPUi5kb20uZWxlbWVudC5nZXQoYik6bnVsbH19KTtDS0VESVRPUi5kb20uZG9jdW1lbnQ9ZnVuY3Rpb24oYil7Q0tFRElUT1IuZG9tLmRvbU9iamVjdC5jYWxsKHRoaXMsYil9O0NLRURJVE9SLmRvbS5kb2N1bWVudC5wcm90b3R5cGU9bmV3IENLRURJVE9SLmRvbS5kb21PYmplY3Q7XG5DS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZG9tLmRvY3VtZW50LnByb3RvdHlwZSx7dHlwZTpDS0VESVRPUi5OT0RFX0RPQ1VNRU5ULGFwcGVuZFN0eWxlU2hlZXQ6ZnVuY3Rpb24oYil7aWYodGhpcy4kLmNyZWF0ZVN0eWxlU2hlZXQpdGhpcy4kLmNyZWF0ZVN0eWxlU2hlZXQoYik7ZWxzZXt2YXIgYz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJsaW5rXCIpO2Muc2V0QXR0cmlidXRlcyh7cmVsOlwic3R5bGVzaGVldFwiLHR5cGU6XCJ0ZXh0L2Nzc1wiLGhyZWY6Yn0pO3RoaXMuZ2V0SGVhZCgpLmFwcGVuZChjKX19LGFwcGVuZFN0eWxlVGV4dDpmdW5jdGlvbihiKXtpZih0aGlzLiQuY3JlYXRlU3R5bGVTaGVldCl7dmFyIGM9dGhpcy4kLmNyZWF0ZVN0eWxlU2hlZXQoXCJcIik7Yy5jc3NUZXh0PWJ9ZWxzZXt2YXIgYT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJzdHlsZVwiLHRoaXMpO2EuYXBwZW5kKG5ldyBDS0VESVRPUi5kb20udGV4dChiLHRoaXMpKTt0aGlzLmdldEhlYWQoKS5hcHBlbmQoYSl9cmV0dXJuIGN8fFxuYS4kLnNoZWV0fSxjcmVhdGVFbGVtZW50OmZ1bmN0aW9uKGIsYyl7dmFyIGE9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGIsdGhpcyk7aWYoYyl7Yy5hdHRyaWJ1dGVzJiZhLnNldEF0dHJpYnV0ZXMoYy5hdHRyaWJ1dGVzKTtjLnN0eWxlcyYmYS5zZXRTdHlsZXMoYy5zdHlsZXMpfXJldHVybiBhfSxjcmVhdGVUZXh0OmZ1bmN0aW9uKGIpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLnRleHQoYix0aGlzKX0sZm9jdXM6ZnVuY3Rpb24oKXt0aGlzLmdldFdpbmRvdygpLmZvY3VzKCl9LGdldEFjdGl2ZTpmdW5jdGlvbigpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQodGhpcy4kLmFjdGl2ZUVsZW1lbnQpfSxnZXRCeUlkOmZ1bmN0aW9uKGIpe3JldHVybihiPXRoaXMuJC5nZXRFbGVtZW50QnlJZChiKSk/bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGIpOm51bGx9LGdldEJ5QWRkcmVzczpmdW5jdGlvbihiLGMpe2Zvcih2YXIgYT10aGlzLiQuZG9jdW1lbnRFbGVtZW50LGY9XG4wO2EmJmY8Yi5sZW5ndGg7ZisrKXt2YXIgZT1iW2ZdO2lmKGMpZm9yKHZhciBkPS0xLGc9MDtnPGEuY2hpbGROb2Rlcy5sZW5ndGg7ZysrKXt2YXIgaz1hLmNoaWxkTm9kZXNbZ107aWYoIShjPT09dHJ1ZSYmay5ub2RlVHlwZT09MyYmay5wcmV2aW91c1NpYmxpbmcmJmsucHJldmlvdXNTaWJsaW5nLm5vZGVUeXBlPT0zKSl7ZCsrO2lmKGQ9PWUpe2E9azticmVha319fWVsc2UgYT1hLmNoaWxkTm9kZXNbZV19cmV0dXJuIGE/bmV3IENLRURJVE9SLmRvbS5ub2RlKGEpOm51bGx9LGdldEVsZW1lbnRzQnlUYWc6ZnVuY3Rpb24oYixjKXtpZigoIUNLRURJVE9SLmVudi5pZXx8ZG9jdW1lbnQuZG9jdW1lbnRNb2RlPjgpJiZjKWI9YytcIjpcIitiO3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLm5vZGVMaXN0KHRoaXMuJC5nZXRFbGVtZW50c0J5VGFnTmFtZShiKSl9LGdldEhlYWQ6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLiQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdO3JldHVybiBiPVxuYj9uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYik6dGhpcy5nZXREb2N1bWVudEVsZW1lbnQoKS5hcHBlbmQobmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwiaGVhZFwiKSx0cnVlKX0sZ2V0Qm9keTpmdW5jdGlvbigpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQodGhpcy4kLmJvZHkpfSxnZXREb2N1bWVudEVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KHRoaXMuJC5kb2N1bWVudEVsZW1lbnQpfSxnZXRXaW5kb3c6ZnVuY3Rpb24oKXt2YXIgYj1uZXcgQ0tFRElUT1IuZG9tLndpbmRvdyh0aGlzLiQucGFyZW50V2luZG93fHx0aGlzLiQuZGVmYXVsdFZpZXcpO3JldHVybih0aGlzLmdldFdpbmRvdz1mdW5jdGlvbigpe3JldHVybiBifSkoKX0sd3JpdGU6ZnVuY3Rpb24oYil7dGhpcy4kLm9wZW4oXCJ0ZXh0L2h0bWxcIixcInJlcGxhY2VcIik7Q0tFRElUT1IuZW52LmlzQ3VzdG9tRG9tYWluKCkmJih0aGlzLiQuZG9tYWluPWRvY3VtZW50LmRvbWFpbik7XG50aGlzLiQud3JpdGUoYik7dGhpcy4kLmNsb3NlKCl9fSk7Q0tFRElUT1IuZG9tLm5vZGVMaXN0PWZ1bmN0aW9uKGIpe3RoaXMuJD1ifTtDS0VESVRPUi5kb20ubm9kZUxpc3QucHJvdG90eXBlPXtjb3VudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLiQubGVuZ3RofSxnZXRJdGVtOmZ1bmN0aW9uKGIpe2lmKGI8MHx8Yj49dGhpcy4kLmxlbmd0aClyZXR1cm4gbnVsbDtyZXR1cm4oYj10aGlzLiRbYl0pP25ldyBDS0VESVRPUi5kb20ubm9kZShiKTpudWxsfX07Q0tFRElUT1IuZG9tLmVsZW1lbnQ9ZnVuY3Rpb24oYixjKXt0eXBlb2YgYj09XCJzdHJpbmdcIiYmKGI9KGM/Yy4kOmRvY3VtZW50KS5jcmVhdGVFbGVtZW50KGIpKTtDS0VESVRPUi5kb20uZG9tT2JqZWN0LmNhbGwodGhpcyxiKX07XG5DS0VESVRPUi5kb20uZWxlbWVudC5nZXQ9ZnVuY3Rpb24oYil7cmV0dXJuKGI9dHlwZW9mIGI9PVwic3RyaW5nXCI/ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYil8fGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKGIpWzBdOmIpJiYoYi4kP2I6bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGIpKX07Q0tFRElUT1IuZG9tLmVsZW1lbnQucHJvdG90eXBlPW5ldyBDS0VESVRPUi5kb20ubm9kZTtDS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbD1mdW5jdGlvbihiLGMpe3ZhciBhPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImRpdlwiLGMpO2Euc2V0SHRtbChiKTtyZXR1cm4gYS5nZXRGaXJzdCgpLnJlbW92ZSgpfTtcbkNLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcj1mdW5jdGlvbihiLGMsYSxmKXt2YXIgZT1jLmdldEN1c3RvbURhdGEoXCJsaXN0X21hcmtlcl9pZFwiKXx8Yy5zZXRDdXN0b21EYXRhKFwibGlzdF9tYXJrZXJfaWRcIixDS0VESVRPUi50b29scy5nZXROZXh0TnVtYmVyKCkpLmdldEN1c3RvbURhdGEoXCJsaXN0X21hcmtlcl9pZFwiKSxkPWMuZ2V0Q3VzdG9tRGF0YShcImxpc3RfbWFya2VyX25hbWVzXCIpfHxjLnNldEN1c3RvbURhdGEoXCJsaXN0X21hcmtlcl9uYW1lc1wiLHt9KS5nZXRDdXN0b21EYXRhKFwibGlzdF9tYXJrZXJfbmFtZXNcIik7YltlXT1jO2RbYV09MTtyZXR1cm4gYy5zZXRDdXN0b21EYXRhKGEsZil9O0NLRURJVE9SLmRvbS5lbGVtZW50LmNsZWFyQWxsTWFya2Vycz1mdW5jdGlvbihiKXtmb3IodmFyIGMgaW4gYilDS0VESVRPUi5kb20uZWxlbWVudC5jbGVhck1hcmtlcnMoYixiW2NdLDEpfTtcbkNLRURJVE9SLmRvbS5lbGVtZW50LmNsZWFyTWFya2Vycz1mdW5jdGlvbihiLGMsYSl7dmFyIGY9Yy5nZXRDdXN0b21EYXRhKFwibGlzdF9tYXJrZXJfbmFtZXNcIiksZT1jLmdldEN1c3RvbURhdGEoXCJsaXN0X21hcmtlcl9pZFwiKSxkO2ZvcihkIGluIGYpYy5yZW1vdmVDdXN0b21EYXRhKGQpO2MucmVtb3ZlQ3VzdG9tRGF0YShcImxpc3RfbWFya2VyX25hbWVzXCIpO2lmKGEpe2MucmVtb3ZlQ3VzdG9tRGF0YShcImxpc3RfbWFya2VyX2lkXCIpO2RlbGV0ZSBiW2VdfX07XG4oZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGEpe2Zvcih2YXIgYj0wLGU9MCxkPWNbYV0ubGVuZ3RoO2U8ZDtlKyspYj1iKyhwYXJzZUludCh0aGlzLmdldENvbXB1dGVkU3R5bGUoY1thXVtlXSl8fDAsMTApfHwwKTtyZXR1cm4gYn1DS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZG9tLmVsZW1lbnQucHJvdG90eXBlLHt0eXBlOkNLRURJVE9SLk5PREVfRUxFTUVOVCxhZGRDbGFzczpmdW5jdGlvbihhKXt2YXIgYj10aGlzLiQuY2xhc3NOYW1lO2ImJihSZWdFeHAoXCIoPzpefFxcXFxzKVwiK2ErXCIoPzpcXFxcc3wkKVwiLFwiXCIpLnRlc3QoYil8fChiPWIrKFwiIFwiK2EpKSk7dGhpcy4kLmNsYXNzTmFtZT1ifHxhfSxyZW1vdmVDbGFzczpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpO2lmKGIpe2E9UmVnRXhwKFwiKD86XnxcXFxccyspXCIrYStcIig/PVxcXFxzfCQpXCIsXCJpXCIpO2lmKGEudGVzdChiKSkoYj1iLnJlcGxhY2UoYSxcIlwiKS5yZXBsYWNlKC9eXFxzKy8sXCJcIikpP3RoaXMuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcbmIpOnRoaXMucmVtb3ZlQXR0cmlidXRlKFwiY2xhc3NcIil9cmV0dXJuIHRoaXN9LGhhc0NsYXNzOmZ1bmN0aW9uKGEpe3JldHVybiBSZWdFeHAoXCIoPzpefFxcXFxzKylcIithK1wiKD89XFxcXHN8JClcIixcIlwiKS50ZXN0KHRoaXMuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikpfSxhcHBlbmQ6ZnVuY3Rpb24oYSxiKXt0eXBlb2YgYT09XCJzdHJpbmdcIiYmKGE9dGhpcy5nZXREb2N1bWVudCgpLmNyZWF0ZUVsZW1lbnQoYSkpO2I/dGhpcy4kLmluc2VydEJlZm9yZShhLiQsdGhpcy4kLmZpcnN0Q2hpbGQpOnRoaXMuJC5hcHBlbmRDaGlsZChhLiQpO3JldHVybiBhfSxhcHBlbmRIdG1sOmZ1bmN0aW9uKGEpe2lmKHRoaXMuJC5jaGlsZE5vZGVzLmxlbmd0aCl7dmFyIGI9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwiZGl2XCIsdGhpcy5nZXREb2N1bWVudCgpKTtiLnNldEh0bWwoYSk7Yi5tb3ZlQ2hpbGRyZW4odGhpcyl9ZWxzZSB0aGlzLnNldEh0bWwoYSl9LGFwcGVuZFRleHQ6ZnVuY3Rpb24oYSl7dGhpcy4kLnRleHQhPVxudm9pZCAwP3RoaXMuJC50ZXh0PXRoaXMuJC50ZXh0K2E6dGhpcy5hcHBlbmQobmV3IENLRURJVE9SLmRvbS50ZXh0KGEpKX0sYXBwZW5kQm9ndXM6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5nZXRMYXN0KCk7YSYmYS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJiFDS0VESVRPUi50b29scy5ydHJpbShhLmdldFRleHQoKSk7KWE9YS5nZXRQcmV2aW91cygpO2lmKCFhfHwhYS5pc3x8IWEuaXMoXCJiclwiKSl7YT1DS0VESVRPUi5lbnYub3BlcmE/dGhpcy5nZXREb2N1bWVudCgpLmNyZWF0ZVRleHQoXCJcIik6dGhpcy5nZXREb2N1bWVudCgpLmNyZWF0ZUVsZW1lbnQoXCJiclwiKTtDS0VESVRPUi5lbnYuZ2Vja28mJmEuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwiX21velwiKTt0aGlzLmFwcGVuZChhKX19LGJyZWFrUGFyZW50OmZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UodGhpcy5nZXREb2N1bWVudCgpKTtiLnNldFN0YXJ0QWZ0ZXIodGhpcyk7Yi5zZXRFbmRBZnRlcihhKTtcbmE9Yi5leHRyYWN0Q29udGVudHMoKTtiLmluc2VydE5vZGUodGhpcy5yZW1vdmUoKSk7YS5pbnNlcnRBZnRlck5vZGUodGhpcyl9LGNvbnRhaW5zOkNLRURJVE9SLmVudi5pZXx8Q0tFRElUT1IuZW52LndlYmtpdD9mdW5jdGlvbihhKXt2YXIgYj10aGlzLiQ7cmV0dXJuIGEudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UP2IuY29udGFpbnMoYS5nZXRQYXJlbnQoKS4kKTpiIT1hLiQmJmIuY29udGFpbnMoYS4kKX06ZnVuY3Rpb24oYSl7cmV0dXJuISEodGhpcy4kLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGEuJCkmMTYpfSxmb2N1czpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXt0cnl7dGhpcy4kLmZvY3VzKCl9Y2F0Y2goYSl7fX1yZXR1cm4gZnVuY3Rpb24oYil7Yj9DS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGEsMTAwLHRoaXMpOmEuY2FsbCh0aGlzKX19KCksZ2V0SHRtbDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuJC5pbm5lckhUTUw7cmV0dXJuIENLRURJVE9SLmVudi5pZT9hLnJlcGxhY2UoLzxcXD9bXj5dKj4vZyxcblwiXCIpOmF9LGdldE91dGVySHRtbDpmdW5jdGlvbigpe2lmKHRoaXMuJC5vdXRlckhUTUwpcmV0dXJuIHRoaXMuJC5vdXRlckhUTUwucmVwbGFjZSgvPFxcP1tePl0qPi8sXCJcIik7dmFyIGE9dGhpcy4kLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTthLmFwcGVuZENoaWxkKHRoaXMuJC5jbG9uZU5vZGUodHJ1ZSkpO3JldHVybiBhLmlubmVySFRNTH0sZ2V0Q2xpZW50UmVjdDpmdW5jdGlvbigpe3ZhciBhPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSx0aGlzLiQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpOyFhLndpZHRoJiYoYS53aWR0aD1hLnJpZ2h0LWEubGVmdCk7IWEuaGVpZ2h0JiYoYS5oZWlnaHQ9YS5ib3R0b20tYS50b3ApO3JldHVybiBhfSxzZXRIdG1sOmZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuJC5pbm5lckhUTUw9YX07cmV0dXJuIENLRURJVE9SLmVudi5pZSYmQ0tFRElUT1IuZW52LnZlcnNpb248OT9mdW5jdGlvbihhKXt0cnl7cmV0dXJuIHRoaXMuJC5pbm5lckhUTUw9XG5hfWNhdGNoKGIpe3RoaXMuJC5pbm5lckhUTUw9XCJcIjt2YXIgYz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJib2R5XCIsdGhpcy5nZXREb2N1bWVudCgpKTtjLiQuaW5uZXJIVE1MPWE7Zm9yKGM9Yy5nZXRDaGlsZHJlbigpO2MuY291bnQoKTspdGhpcy5hcHBlbmQoYy5nZXRJdGVtKDApKTtyZXR1cm4gYX19OmF9KCksc2V0VGV4dDpmdW5jdGlvbihhKXtDS0VESVRPUi5kb20uZWxlbWVudC5wcm90b3R5cGUuc2V0VGV4dD10aGlzLiQuaW5uZXJUZXh0IT12b2lkIDA/ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuJC5pbm5lclRleHQ9YX06ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuJC50ZXh0Q29udGVudD1hfTtyZXR1cm4gdGhpcy5zZXRUZXh0KGEpfSxnZXRBdHRyaWJ1dGU6ZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy4kLmdldEF0dHJpYnV0ZShhLDIpfTtyZXR1cm4gQ0tFRElUT1IuZW52LmllJiYoQ0tFRElUT1IuZW52LmllN0NvbXBhdHx8Q0tFRElUT1IuZW52LmllNkNvbXBhdCk/XG5mdW5jdGlvbihhKXtzd2l0Y2goYSl7Y2FzZSBcImNsYXNzXCI6YT1cImNsYXNzTmFtZVwiO2JyZWFrO2Nhc2UgXCJodHRwLWVxdWl2XCI6YT1cImh0dHBFcXVpdlwiO2JyZWFrO2Nhc2UgXCJuYW1lXCI6cmV0dXJuIHRoaXMuJC5uYW1lO2Nhc2UgXCJ0YWJpbmRleFwiOmE9dGhpcy4kLmdldEF0dHJpYnV0ZShhLDIpO2EhPT0wJiZ0aGlzLiQudGFiSW5kZXg9PT0wJiYoYT1udWxsKTtyZXR1cm4gYTtjYXNlIFwiY2hlY2tlZFwiOmE9dGhpcy4kLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKGEpO3JldHVybihhLnNwZWNpZmllZD9hLm5vZGVWYWx1ZTp0aGlzLiQuY2hlY2tlZCk/XCJjaGVja2VkXCI6bnVsbDtjYXNlIFwiaHNwYWNlXCI6Y2FzZSBcInZhbHVlXCI6cmV0dXJuIHRoaXMuJFthXTtjYXNlIFwic3R5bGVcIjpyZXR1cm4gdGhpcy4kLnN0eWxlLmNzc1RleHQ7Y2FzZSBcImNvbnRlbnRlZGl0YWJsZVwiOmNhc2UgXCJjb250ZW50RWRpdGFibGVcIjpyZXR1cm4gdGhpcy4kLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKFwiY29udGVudEVkaXRhYmxlXCIpLnNwZWNpZmllZD9cbnRoaXMuJC5nZXRBdHRyaWJ1dGUoXCJjb250ZW50RWRpdGFibGVcIik6bnVsbH1yZXR1cm4gdGhpcy4kLmdldEF0dHJpYnV0ZShhLDIpfTphfSgpLGdldENoaWxkcmVuOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBDS0VESVRPUi5kb20ubm9kZUxpc3QodGhpcy4kLmNoaWxkTm9kZXMpfSxnZXRDb21wdXRlZFN0eWxlOkNLRURJVE9SLmVudi5pZT9mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy4kLmN1cnJlbnRTdHlsZVtDS0VESVRPUi50b29scy5jc3NTdHlsZVRvRG9tU3R5bGUoYSldfTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldFdpbmRvdygpLiQuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLiQsbnVsbCk7cmV0dXJuIGI/Yi5nZXRQcm9wZXJ0eVZhbHVlKGEpOlwiXCJ9LGdldER0ZDpmdW5jdGlvbigpe3ZhciBhPUNLRURJVE9SLmR0ZFt0aGlzLmdldE5hbWUoKV07dGhpcy5nZXREdGQ9ZnVuY3Rpb24oKXtyZXR1cm4gYX07cmV0dXJuIGF9LGdldEVsZW1lbnRzQnlUYWc6Q0tFRElUT1IuZG9tLmRvY3VtZW50LnByb3RvdHlwZS5nZXRFbGVtZW50c0J5VGFnLFxuZ2V0VGFiSW5kZXg6Q0tFRElUT1IuZW52LmllP2Z1bmN0aW9uKCl7dmFyIGE9dGhpcy4kLnRhYkluZGV4O2E9PT0wJiYoIUNLRURJVE9SLmR0ZC4kdGFiSW5kZXhbdGhpcy5nZXROYW1lKCldJiZwYXJzZUludCh0aGlzLmdldEF0dHJpYnV0ZShcInRhYmluZGV4XCIpLDEwKSE9PTApJiYoYT0tMSk7cmV0dXJuIGF9OkNLRURJVE9SLmVudi53ZWJraXQ/ZnVuY3Rpb24oKXt2YXIgYT10aGlzLiQudGFiSW5kZXg7aWYoYT09dm9pZCAwKXthPXBhcnNlSW50KHRoaXMuZ2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIiksMTApO2lzTmFOKGEpJiYoYT0tMSl9cmV0dXJuIGF9OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC50YWJJbmRleH0sZ2V0VGV4dDpmdW5jdGlvbigpe3JldHVybiB0aGlzLiQudGV4dENvbnRlbnR8fHRoaXMuJC5pbm5lclRleHR8fFwiXCJ9LGdldFdpbmRvdzpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldERvY3VtZW50KCkuZ2V0V2luZG93KCl9LGdldElkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC5pZHx8XG5udWxsfSxnZXROYW1lQXR0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC5uYW1lfHxudWxsfSxnZXROYW1lOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7aWYoQ0tFRElUT1IuZW52LmllJiYhKGRvY3VtZW50LmRvY3VtZW50TW9kZT44KSl7dmFyIGI9dGhpcy4kLnNjb3BlTmFtZTtiIT1cIkhUTUxcIiYmKGE9Yi50b0xvd2VyQ2FzZSgpK1wiOlwiK2EpfXJldHVybih0aGlzLmdldE5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gYX0pKCl9LGdldFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC52YWx1ZX0sZ2V0Rmlyc3Q6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy4kLmZpcnN0Q2hpbGQ7KGI9YiYmbmV3IENLRURJVE9SLmRvbS5ub2RlKGIpKSYmKGEmJiFhKGIpKSYmKGI9Yi5nZXROZXh0KGEpKTtyZXR1cm4gYn0sZ2V0TGFzdDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLiQubGFzdENoaWxkOyhiPWImJm5ldyBDS0VESVRPUi5kb20ubm9kZShiKSkmJihhJiYhYShiKSkmJlxuKGI9Yi5nZXRQcmV2aW91cyhhKSk7cmV0dXJuIGJ9LGdldFN0eWxlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLiQuc3R5bGVbQ0tFRElUT1IudG9vbHMuY3NzU3R5bGVUb0RvbVN0eWxlKGEpXX0saXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldE5hbWUoKTtpZih0eXBlb2YgYXJndW1lbnRzWzBdPT1cIm9iamVjdFwiKXJldHVybiEhYXJndW1lbnRzWzBdW2FdO2Zvcih2YXIgYj0wO2I8YXJndW1lbnRzLmxlbmd0aDtiKyspaWYoYXJndW1lbnRzW2JdPT1hKXJldHVybiB0cnVlO3JldHVybiBmYWxzZX0saXNFZGl0YWJsZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldE5hbWUoKTtpZih0aGlzLmlzUmVhZE9ubHkoKXx8dGhpcy5nZXRDb21wdXRlZFN0eWxlKFwiZGlzcGxheVwiKT09XCJub25lXCJ8fHRoaXMuZ2V0Q29tcHV0ZWRTdHlsZShcInZpc2liaWxpdHlcIik9PVwiaGlkZGVuXCJ8fENLRURJVE9SLmR0ZC4kbm9uRWRpdGFibGVbYl18fENLRURJVE9SLmR0ZC4kZW1wdHlbYl18fHRoaXMuaXMoXCJhXCIpJiZcbih0aGlzLmRhdGEoXCJja2Utc2F2ZWQtbmFtZVwiKXx8dGhpcy5oYXNBdHRyaWJ1dGUoXCJuYW1lXCIpKSYmIXRoaXMuZ2V0Q2hpbGRDb3VudCgpKXJldHVybiBmYWxzZTtpZihhIT09ZmFsc2Upe2E9Q0tFRElUT1IuZHRkW2JdfHxDS0VESVRPUi5kdGQuc3BhbjtyZXR1cm4hKCFhfHwhYVtcIiNcIl0pfXJldHVybiB0cnVlfSxpc0lkZW50aWNhbDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNsb25lKDAsMSksYT1hLmNsb25lKDAsMSk7Yi5yZW1vdmVBdHRyaWJ1dGVzKFtcIl9tb3pfZGlydHlcIixcImRhdGEtY2tlLWV4cGFuZG9cIixcImRhdGEtY2tlLXNhdmVkLWhyZWZcIixcImRhdGEtY2tlLXNhdmVkLW5hbWVcIl0pO2EucmVtb3ZlQXR0cmlidXRlcyhbXCJfbW96X2RpcnR5XCIsXCJkYXRhLWNrZS1leHBhbmRvXCIsXCJkYXRhLWNrZS1zYXZlZC1ocmVmXCIsXCJkYXRhLWNrZS1zYXZlZC1uYW1lXCJdKTtpZihiLiQuaXNFcXVhbE5vZGUpe2IuJC5zdHlsZS5jc3NUZXh0PUNLRURJVE9SLnRvb2xzLm5vcm1hbGl6ZUNzc1RleHQoYi4kLnN0eWxlLmNzc1RleHQpO1xuYS4kLnN0eWxlLmNzc1RleHQ9Q0tFRElUT1IudG9vbHMubm9ybWFsaXplQ3NzVGV4dChhLiQuc3R5bGUuY3NzVGV4dCk7cmV0dXJuIGIuJC5pc0VxdWFsTm9kZShhLiQpfWI9Yi5nZXRPdXRlckh0bWwoKTthPWEuZ2V0T3V0ZXJIdG1sKCk7aWYoQ0tFRElUT1IuZW52LmllJiZDS0VESVRPUi5lbnYudmVyc2lvbjw5JiZ0aGlzLmlzKFwiYVwiKSl7dmFyIGM9dGhpcy5nZXRQYXJlbnQoKTtpZihjLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCl7Yz1jLmNsb25lKCk7Yy5zZXRIdG1sKGIpO2I9Yy5nZXRIdG1sKCk7Yy5zZXRIdG1sKGEpO2E9Yy5nZXRIdG1sKCl9fXJldHVybiBiPT1hfSxpc1Zpc2libGU6ZnVuY3Rpb24oKXt2YXIgYT0odGhpcy4kLm9mZnNldEhlaWdodHx8dGhpcy4kLm9mZnNldFdpZHRoKSYmdGhpcy5nZXRDb21wdXRlZFN0eWxlKFwidmlzaWJpbGl0eVwiKSE9XCJoaWRkZW5cIixiLGM7aWYoYSYmKENLRURJVE9SLmVudi53ZWJraXR8fENLRURJVE9SLmVudi5vcGVyYSkpe2I9XG50aGlzLmdldFdpbmRvdygpO2lmKCFiLmVxdWFscyhDS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKSkmJihjPWIuJC5mcmFtZUVsZW1lbnQpKWE9KG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChjKSkuaXNWaXNpYmxlKCl9cmV0dXJuISFhfSxpc0VtcHR5SW5saW5lUmVtb3ZlYWJsZTpmdW5jdGlvbigpe2lmKCFDS0VESVRPUi5kdGQuJHJlbW92ZUVtcHR5W3RoaXMuZ2V0TmFtZSgpXSlyZXR1cm4gZmFsc2U7Zm9yKHZhciBhPXRoaXMuZ2V0Q2hpbGRyZW4oKSxiPTAsYz1hLmNvdW50KCk7YjxjO2IrKyl7dmFyIGQ9YS5nZXRJdGVtKGIpO2lmKCEoZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmQuZGF0YShcImNrZS1ib29rbWFya1wiKSkmJihkLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmIWQuaXNFbXB0eUlubGluZVJlbW92ZWFibGUoKXx8ZC50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJkNLRURJVE9SLnRvb2xzLnRyaW0oZC5nZXRUZXh0KCkpKSlyZXR1cm4gZmFsc2V9cmV0dXJuIHRydWV9LFxuaGFzQXR0cmlidXRlczpDS0VESVRPUi5lbnYuaWUmJihDS0VESVRPUi5lbnYuaWU3Q29tcGF0fHxDS0VESVRPUi5lbnYuaWU2Q29tcGF0KT9mdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLiQuYXR0cmlidXRlcyxiPTA7YjxhLmxlbmd0aDtiKyspe3ZhciBjPWFbYl07c3dpdGNoKGMubm9kZU5hbWUpe2Nhc2UgXCJjbGFzc1wiOmlmKHRoaXMuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikpcmV0dXJuIHRydWU7Y2FzZSBcImRhdGEtY2tlLWV4cGFuZG9cIjpjb250aW51ZTtkZWZhdWx0OmlmKGMuc3BlY2lmaWVkKXJldHVybiB0cnVlfX1yZXR1cm4gZmFsc2V9OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kLmF0dHJpYnV0ZXMsYj1hLmxlbmd0aCxjPXtcImRhdGEtY2tlLWV4cGFuZG9cIjoxLF9tb3pfZGlydHk6MX07cmV0dXJuIGI+MCYmKGI+Mnx8IWNbYVswXS5ub2RlTmFtZV18fGI9PTImJiFjW2FbMV0ubm9kZU5hbWVdKX0saGFzQXR0cmlidXRlOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXthPXRoaXMuJC5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbShhKTtcbnJldHVybiEoIWF8fCFhLnNwZWNpZmllZCl9cmV0dXJuIENLRURJVE9SLmVudi5pZSYmQ0tFRElUT1IuZW52LnZlcnNpb248OD9mdW5jdGlvbihiKXtyZXR1cm4gYj09XCJuYW1lXCI/ISF0aGlzLiQubmFtZTphLmNhbGwodGhpcyxiKX06YX0oKSxoaWRlOmZ1bmN0aW9uKCl7dGhpcy5zZXRTdHlsZShcImRpc3BsYXlcIixcIm5vbmVcIil9LG1vdmVDaGlsZHJlbjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuJCxhPWEuJDtpZihjIT1hKXt2YXIgZDtpZihiKWZvcig7ZD1jLmxhc3RDaGlsZDspYS5pbnNlcnRCZWZvcmUoYy5yZW1vdmVDaGlsZChkKSxhLmZpcnN0Q2hpbGQpO2Vsc2UgZm9yKDtkPWMuZmlyc3RDaGlsZDspYS5hcHBlbmRDaGlsZChjLnJlbW92ZUNoaWxkKGQpKX19LG1lcmdlU2libGluZ3M6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYixjKXtpZihiJiZiLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCl7Zm9yKHZhciBnPVtdO2IuZGF0YShcImNrZS1ib29rbWFya1wiKXx8Yi5pc0VtcHR5SW5saW5lUmVtb3ZlYWJsZSgpOyl7Zy5wdXNoKGIpO1xuYj1jP2IuZ2V0TmV4dCgpOmIuZ2V0UHJldmlvdXMoKTtpZighYnx8Yi50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpcmV0dXJufWlmKGEuaXNJZGVudGljYWwoYikpe2Zvcih2YXIgaz1jP2EuZ2V0TGFzdCgpOmEuZ2V0Rmlyc3QoKTtnLmxlbmd0aDspZy5zaGlmdCgpLm1vdmUoYSwhYyk7Yi5tb3ZlQ2hpbGRyZW4oYSwhYyk7Yi5yZW1vdmUoKTtrJiZrLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmay5tZXJnZVNpYmxpbmdzKCl9fX1yZXR1cm4gZnVuY3Rpb24oYil7aWYoYj09PWZhbHNlfHxDS0VESVRPUi5kdGQuJHJlbW92ZUVtcHR5W3RoaXMuZ2V0TmFtZSgpXXx8dGhpcy5pcyhcImFcIikpe2EodGhpcyx0aGlzLmdldE5leHQoKSx0cnVlKTthKHRoaXMsdGhpcy5nZXRQcmV2aW91cygpKX19fSgpLHNob3c6ZnVuY3Rpb24oKXt0aGlzLnNldFN0eWxlcyh7ZGlzcGxheTpcIlwiLHZpc2liaWxpdHk6XCJcIn0pfSxzZXRBdHRyaWJ1dGU6ZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbihhLFxuYil7dGhpcy4kLnNldEF0dHJpYnV0ZShhLGIpO3JldHVybiB0aGlzfTtyZXR1cm4gQ0tFRElUT1IuZW52LmllJiYoQ0tFRElUT1IuZW52LmllN0NvbXBhdHx8Q0tFRElUT1IuZW52LmllNkNvbXBhdCk/ZnVuY3Rpb24oYixjKXtiPT1cImNsYXNzXCI/dGhpcy4kLmNsYXNzTmFtZT1jOmI9PVwic3R5bGVcIj90aGlzLiQuc3R5bGUuY3NzVGV4dD1jOmI9PVwidGFiaW5kZXhcIj90aGlzLiQudGFiSW5kZXg9YzpiPT1cImNoZWNrZWRcIj90aGlzLiQuY2hlY2tlZD1jOmI9PVwiY29udGVudGVkaXRhYmxlXCI/YS5jYWxsKHRoaXMsXCJjb250ZW50RWRpdGFibGVcIixjKTphLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdGhpc306Q0tFRElUT1IuZW52LmllOENvbXBhdCYmQ0tFRElUT1IuZW52LnNlY3VyZT9mdW5jdGlvbihiLGMpe2lmKGI9PVwic3JjXCImJmMubWF0Y2goL15odHRwOlxcL1xcLy8pKXRyeXthLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1jYXRjaChkKXt9ZWxzZSBhLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcbnJldHVybiB0aGlzfTphfSgpLHNldEF0dHJpYnV0ZXM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiIGluIGEpdGhpcy5zZXRBdHRyaWJ1dGUoYixhW2JdKTtyZXR1cm4gdGhpc30sc2V0VmFsdWU6ZnVuY3Rpb24oYSl7dGhpcy4kLnZhbHVlPWE7cmV0dXJuIHRoaXN9LHJlbW92ZUF0dHJpYnV0ZTpmdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKGEpe3RoaXMuJC5yZW1vdmVBdHRyaWJ1dGUoYSl9O3JldHVybiBDS0VESVRPUi5lbnYuaWUmJihDS0VESVRPUi5lbnYuaWU3Q29tcGF0fHxDS0VESVRPUi5lbnYuaWU2Q29tcGF0KT9mdW5jdGlvbihhKXthPT1cImNsYXNzXCI/YT1cImNsYXNzTmFtZVwiOmE9PVwidGFiaW5kZXhcIj9hPVwidGFiSW5kZXhcIjphPT1cImNvbnRlbnRlZGl0YWJsZVwiJiYoYT1cImNvbnRlbnRFZGl0YWJsZVwiKTt0aGlzLiQucmVtb3ZlQXR0cmlidXRlKGEpfTphfSgpLHJlbW92ZUF0dHJpYnV0ZXM6ZnVuY3Rpb24oYSl7aWYoQ0tFRElUT1IudG9vbHMuaXNBcnJheShhKSlmb3IodmFyIGI9MDtiPFxuYS5sZW5ndGg7YisrKXRoaXMucmVtb3ZlQXR0cmlidXRlKGFbYl0pO2Vsc2UgZm9yKGIgaW4gYSlhLmhhc093blByb3BlcnR5KGIpJiZ0aGlzLnJlbW92ZUF0dHJpYnV0ZShiKX0scmVtb3ZlU3R5bGU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy4kLnN0eWxlO2lmKCFiLnJlbW92ZVByb3BlcnR5JiYoYT09XCJib3JkZXJcInx8YT09XCJtYXJnaW5cInx8YT09XCJwYWRkaW5nXCIpKXt2YXIgYz1bXCJ0b3BcIixcImxlZnRcIixcInJpZ2h0XCIsXCJib3R0b21cIl0sZDthPT1cImJvcmRlclwiJiYoZD1bXCJjb2xvclwiLFwic3R5bGVcIixcIndpZHRoXCJdKTtmb3IodmFyIGI9W10sZz0wO2c8Yy5sZW5ndGg7ZysrKWlmKGQpZm9yKHZhciBrPTA7azxkLmxlbmd0aDtrKyspYi5wdXNoKFthLGNbZ10sZFtrXV0uam9pbihcIi1cIikpO2Vsc2UgYi5wdXNoKFthLGNbZ11dLmpvaW4oXCItXCIpKTtmb3IoYT0wO2E8Yi5sZW5ndGg7YSsrKXRoaXMucmVtb3ZlU3R5bGUoYlthXSl9ZWxzZXtiLnJlbW92ZVByb3BlcnR5P2IucmVtb3ZlUHJvcGVydHkoYSk6XG5iLnJlbW92ZUF0dHJpYnV0ZShDS0VESVRPUi50b29scy5jc3NTdHlsZVRvRG9tU3R5bGUoYSkpO3RoaXMuJC5zdHlsZS5jc3NUZXh0fHx0aGlzLnJlbW92ZUF0dHJpYnV0ZShcInN0eWxlXCIpfX0sc2V0U3R5bGU6ZnVuY3Rpb24oYSxiKXt0aGlzLiQuc3R5bGVbQ0tFRElUT1IudG9vbHMuY3NzU3R5bGVUb0RvbVN0eWxlKGEpXT1iO3JldHVybiB0aGlzfSxzZXRTdHlsZXM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiIGluIGEpdGhpcy5zZXRTdHlsZShiLGFbYl0pO3JldHVybiB0aGlzfSxzZXRPcGFjaXR5OmZ1bmN0aW9uKGEpe2lmKENLRURJVE9SLmVudi5pZSYmQ0tFRElUT1IuZW52LnZlcnNpb248OSl7YT1NYXRoLnJvdW5kKGEqMTAwKTt0aGlzLnNldFN0eWxlKFwiZmlsdGVyXCIsYT49MTAwP1wiXCI6XCJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuQWxwaGEob3BhY2l0eT1cIithK1wiKVwiKX1lbHNlIHRoaXMuc2V0U3R5bGUoXCJvcGFjaXR5XCIsYSl9LHVuc2VsZWN0YWJsZTpmdW5jdGlvbigpe3RoaXMuc2V0U3R5bGVzKENLRURJVE9SLnRvb2xzLmNzc1ZlbmRvclByZWZpeChcInVzZXItc2VsZWN0XCIsXG5cIm5vbmVcIikpO2lmKENLRURJVE9SLmVudi5pZXx8Q0tFRElUT1IuZW52Lm9wZXJhKXt0aGlzLnNldEF0dHJpYnV0ZShcInVuc2VsZWN0YWJsZVwiLFwib25cIik7Zm9yKHZhciBhLGI9dGhpcy5nZXRFbGVtZW50c0J5VGFnKFwiKlwiKSxjPTAsZD1iLmNvdW50KCk7YzxkO2MrKyl7YT1iLmdldEl0ZW0oYyk7YS5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIixcIm9uXCIpfX19LGdldFBvc2l0aW9uZWRBbmNlc3RvcjpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzO2EuZ2V0TmFtZSgpIT1cImh0bWxcIjspe2lmKGEuZ2V0Q29tcHV0ZWRTdHlsZShcInBvc2l0aW9uXCIpIT1cInN0YXRpY1wiKXJldHVybiBhO2E9YS5nZXRQYXJlbnQoKX1yZXR1cm4gbnVsbH0sZ2V0RG9jdW1lbnRQb3NpdGlvbjpmdW5jdGlvbihhKXt2YXIgYj0wLGM9MCxkPXRoaXMuZ2V0RG9jdW1lbnQoKSxnPWQuZ2V0Qm9keSgpLGs9ZC4kLmNvbXBhdE1vZGU9PVwiQmFja0NvbXBhdFwiO2lmKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3Qpe3ZhciBoPVxudGhpcy4kLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG09ZC4kLmRvY3VtZW50RWxlbWVudCxuPW0uY2xpZW50VG9wfHxnLiQuY2xpZW50VG9wfHwwLG89bS5jbGllbnRMZWZ0fHxnLiQuY2xpZW50TGVmdHx8MCxsPXRydWU7aWYoQ0tFRElUT1IuZW52LmllKXtsPWQuZ2V0RG9jdW1lbnRFbGVtZW50KCkuY29udGFpbnModGhpcyk7ZD1kLmdldEJvZHkoKS5jb250YWlucyh0aGlzKTtsPWsmJmR8fCFrJiZsfWlmKGwpe2I9aC5sZWZ0KyghayYmbS5zY3JvbGxMZWZ0fHxnLiQuc2Nyb2xsTGVmdCk7Yj1iLW87Yz1oLnRvcCsoIWsmJm0uc2Nyb2xsVG9wfHxnLiQuc2Nyb2xsVG9wKTtjPWMtbn19ZWxzZXtnPXRoaXM7Zm9yKGQ9bnVsbDtnJiYhKGcuZ2V0TmFtZSgpPT1cImJvZHlcInx8Zy5nZXROYW1lKCk9PVwiaHRtbFwiKTspe2I9YisoZy4kLm9mZnNldExlZnQtZy4kLnNjcm9sbExlZnQpO2M9YysoZy4kLm9mZnNldFRvcC1nLiQuc2Nyb2xsVG9wKTtpZighZy5lcXVhbHModGhpcykpe2I9YisoZy4kLmNsaWVudExlZnR8fFxuMCk7Yz1jKyhnLiQuY2xpZW50VG9wfHwwKX1mb3IoO2QmJiFkLmVxdWFscyhnKTspe2I9Yi1kLiQuc2Nyb2xsTGVmdDtjPWMtZC4kLnNjcm9sbFRvcDtkPWQuZ2V0UGFyZW50KCl9ZD1nO2c9KGg9Zy4kLm9mZnNldFBhcmVudCk/bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGgpOm51bGx9fWlmKGEpe2c9dGhpcy5nZXRXaW5kb3coKTtkPWEuZ2V0V2luZG93KCk7aWYoIWcuZXF1YWxzKGQpJiZnLiQuZnJhbWVFbGVtZW50KXthPShuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZy4kLmZyYW1lRWxlbWVudCkpLmdldERvY3VtZW50UG9zaXRpb24oYSk7Yj1iK2EueDtjPWMrYS55fX1pZighZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCYmQ0tFRElUT1IuZW52LmdlY2tvJiYhayl7Yj1iKyh0aGlzLiQuY2xpZW50TGVmdD8xOjApO2M9YysodGhpcy4kLmNsaWVudFRvcD8xOjApfXJldHVybnt4OmIseTpjfX0sc2Nyb2xsSW50b1ZpZXc6ZnVuY3Rpb24oYSl7dmFyIGI9XG50aGlzLmdldFBhcmVudCgpO2lmKGIpe2RveyhiLiQuY2xpZW50V2lkdGgmJmIuJC5jbGllbnRXaWR0aDxiLiQuc2Nyb2xsV2lkdGh8fGIuJC5jbGllbnRIZWlnaHQmJmIuJC5jbGllbnRIZWlnaHQ8Yi4kLnNjcm9sbEhlaWdodCkmJiFiLmlzKFwiYm9keVwiKSYmdGhpcy5zY3JvbGxJbnRvUGFyZW50KGIsYSwxKTtpZihiLmlzKFwiaHRtbFwiKSl7dmFyIGM9Yi5nZXRXaW5kb3coKTt0cnl7dmFyIGQ9Yy4kLmZyYW1lRWxlbWVudDtkJiYoYj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZCkpfWNhdGNoKGcpe319fXdoaWxlKGI9Yi5nZXRQYXJlbnQoKSl9fSxzY3JvbGxJbnRvUGFyZW50OmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxnLGssaDtmdW5jdGlvbiBtKGIsbCl7aWYoL2JvZHl8aHRtbC8udGVzdChhLmdldE5hbWUoKSkpYS5nZXRXaW5kb3coKS4kLnNjcm9sbEJ5KGIsbCk7ZWxzZXthLiQuc2Nyb2xsTGVmdD1hLiQuc2Nyb2xsTGVmdCtiO2EuJC5zY3JvbGxUb3A9YS4kLnNjcm9sbFRvcCtsfX1cbmZ1bmN0aW9uIG4oYSxiKXt2YXIgbz17eDowLHk6MH07aWYoIWEuaXMobD9cImJvZHlcIjpcImh0bWxcIikpe3ZhciBqPWEuJC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtvLng9ai5sZWZ0O28ueT1qLnRvcH1qPWEuZ2V0V2luZG93KCk7aWYoIWouZXF1YWxzKGIpKXtqPW4oQ0tFRElUT1IuZG9tLmVsZW1lbnQuZ2V0KGouJC5mcmFtZUVsZW1lbnQpLGIpO28ueD1vLngrai54O28ueT1vLnkrai55fXJldHVybiBvfWZ1bmN0aW9uIG8oYSxiKXtyZXR1cm4gcGFyc2VJbnQoYS5nZXRDb21wdXRlZFN0eWxlKFwibWFyZ2luLVwiK2IpfHwwLDEwKXx8MH0hYSYmKGE9dGhpcy5nZXRXaW5kb3coKSk7az1hLmdldERvY3VtZW50KCk7dmFyIGw9ay4kLmNvbXBhdE1vZGU9PVwiQmFja0NvbXBhdFwiO2EgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20ud2luZG93JiYoYT1sP2suZ2V0Qm9keSgpOmsuZ2V0RG9jdW1lbnRFbGVtZW50KCkpO2s9YS5nZXRXaW5kb3coKTtnPW4odGhpcyxrKTt2YXIgaj1uKGEsaykscT10aGlzLiQub2Zmc2V0SGVpZ2h0O1xuZD10aGlzLiQub2Zmc2V0V2lkdGg7dmFyIHk9YS4kLmNsaWVudEhlaWdodCx6PWEuJC5jbGllbnRXaWR0aDtrPWcueC1vKHRoaXMsXCJsZWZ0XCIpLWoueHx8MDtoPWcueS1vKHRoaXMsXCJ0b3BcIiktai55fHwwO2Q9Zy54K2Qrbyh0aGlzLFwicmlnaHRcIiktKGoueCt6KXx8MDtnPWcueStxK28odGhpcyxcImJvdHRvbVwiKS0oai55K3kpfHwwO2lmKGg8MHx8Zz4wKW0oMCxiPT09dHJ1ZT9oOmI9PT1mYWxzZT9nOmg8MD9oOmcpO2lmKGMmJihrPDB8fGQ+MCkpbShrPDA/azpkLDApfSxzZXRTdGF0ZTpmdW5jdGlvbihhLGIsYyl7Yj1ifHxcImNrZVwiO3N3aXRjaChhKXtjYXNlIENLRURJVE9SLlRSSVNUQVRFX09OOnRoaXMuYWRkQ2xhc3MoYitcIl9vblwiKTt0aGlzLnJlbW92ZUNsYXNzKGIrXCJfb2ZmXCIpO3RoaXMucmVtb3ZlQ2xhc3MoYitcIl9kaXNhYmxlZFwiKTtjJiZ0aGlzLnNldEF0dHJpYnV0ZShcImFyaWEtcHJlc3NlZFwiLHRydWUpO2MmJnRoaXMucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1kaXNhYmxlZFwiKTtcbmJyZWFrO2Nhc2UgQ0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQ6dGhpcy5hZGRDbGFzcyhiK1wiX2Rpc2FibGVkXCIpO3RoaXMucmVtb3ZlQ2xhc3MoYitcIl9vZmZcIik7dGhpcy5yZW1vdmVDbGFzcyhiK1wiX29uXCIpO2MmJnRoaXMuc2V0QXR0cmlidXRlKFwiYXJpYS1kaXNhYmxlZFwiLHRydWUpO2MmJnRoaXMucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1wcmVzc2VkXCIpO2JyZWFrO2RlZmF1bHQ6dGhpcy5hZGRDbGFzcyhiK1wiX29mZlwiKTt0aGlzLnJlbW92ZUNsYXNzKGIrXCJfb25cIik7dGhpcy5yZW1vdmVDbGFzcyhiK1wiX2Rpc2FibGVkXCIpO2MmJnRoaXMucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1wcmVzc2VkXCIpO2MmJnRoaXMucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1kaXNhYmxlZFwiKX19LGdldEZyYW1lRG9jdW1lbnQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLiQ7dHJ5e2EuY29udGVudFdpbmRvdy5kb2N1bWVudH1jYXRjaChiKXthLnNyYz1hLnNyY31yZXR1cm4gYSYmbmV3IENLRURJVE9SLmRvbS5kb2N1bWVudChhLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQpfSxcbmNvcHlBdHRyaWJ1dGVzOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMuJC5hdHRyaWJ1dGVzLGI9Ynx8e30sZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZz1jW2RdLGs9Zy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLGg7aWYoIShrIGluIGIpKWlmKGs9PVwiY2hlY2tlZFwiJiYoaD10aGlzLmdldEF0dHJpYnV0ZShrKSkpYS5zZXRBdHRyaWJ1dGUoayxoKTtlbHNlIGlmKGcuc3BlY2lmaWVkfHxDS0VESVRPUi5lbnYuaWUmJmcubm9kZVZhbHVlJiZrPT1cInZhbHVlXCIpe2g9dGhpcy5nZXRBdHRyaWJ1dGUoayk7aWYoaD09PW51bGwpaD1nLm5vZGVWYWx1ZTthLnNldEF0dHJpYnV0ZShrLGgpfX1pZih0aGlzLiQuc3R5bGUuY3NzVGV4dCE9PVwiXCIpYS4kLnN0eWxlLmNzc1RleHQ9dGhpcy4kLnN0eWxlLmNzc1RleHR9LHJlbmFtZU5vZGU6ZnVuY3Rpb24oYSl7aWYodGhpcy5nZXROYW1lKCkhPWEpe3ZhciBiPXRoaXMuZ2V0RG9jdW1lbnQoKSxhPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChhLFxuYik7dGhpcy5jb3B5QXR0cmlidXRlcyhhKTt0aGlzLm1vdmVDaGlsZHJlbihhKTt0aGlzLmdldFBhcmVudCgpJiZ0aGlzLiQucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoYS4kLHRoaXMuJCk7YS4kW1wiZGF0YS1ja2UtZXhwYW5kb1wiXT10aGlzLiRbXCJkYXRhLWNrZS1leHBhbmRvXCJdO3RoaXMuJD1hLiR9fSxnZXRDaGlsZDpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiKXt2YXIgYz1hLmNoaWxkTm9kZXM7aWYoYj49MCYmYjxjLmxlbmd0aClyZXR1cm4gY1tiXX1yZXR1cm4gZnVuY3Rpb24oYil7dmFyIGM9dGhpcy4kO2lmKGIuc2xpY2UpZm9yKDtiLmxlbmd0aD4wJiZjOyljPWEoYyxiLnNoaWZ0KCkpO2Vsc2UgYz1hKGMsYik7cmV0dXJuIGM/bmV3IENLRURJVE9SLmRvbS5ub2RlKGMpOm51bGx9fSgpLGdldENoaWxkQ291bnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kLmNoaWxkTm9kZXMubGVuZ3RofSxkaXNhYmxlQ29udGV4dE1lbnU6ZnVuY3Rpb24oKXt0aGlzLm9uKFwiY29udGV4dG1lbnVcIixcbmZ1bmN0aW9uKGEpe2EuZGF0YS5nZXRUYXJnZXQoKS5oYXNDbGFzcyhcImNrZV9lbmFibGVfY29udGV4dF9tZW51XCIpfHxhLmRhdGEucHJldmVudERlZmF1bHQoKX0pfSxnZXREaXJlY3Rpb246ZnVuY3Rpb24oYSl7cmV0dXJuIGE/dGhpcy5nZXRDb21wdXRlZFN0eWxlKFwiZGlyZWN0aW9uXCIpfHx0aGlzLmdldERpcmVjdGlvbigpfHx0aGlzLmdldFBhcmVudCgpJiZ0aGlzLmdldFBhcmVudCgpLmdldERpcmVjdGlvbigxKXx8dGhpcy5nZXREb2N1bWVudCgpLiQuZGlyfHxcImx0clwiOnRoaXMuZ2V0U3R5bGUoXCJkaXJlY3Rpb25cIil8fHRoaXMuZ2V0QXR0cmlidXRlKFwiZGlyXCIpfSxkYXRhOmZ1bmN0aW9uKGEsYil7YT1cImRhdGEtXCIrYTtpZihiPT09dm9pZCAwKXJldHVybiB0aGlzLmdldEF0dHJpYnV0ZShhKTtiPT09ZmFsc2U/dGhpcy5yZW1vdmVBdHRyaWJ1dGUoYSk6dGhpcy5zZXRBdHRyaWJ1dGUoYSxiKTtyZXR1cm4gbnVsbH0sZ2V0RWRpdG9yOmZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IuaW5zdGFuY2VzLFxuYixjO2ZvcihiIGluIGEpe2M9YVtiXTtpZihjLmVsZW1lbnQuZXF1YWxzKHRoaXMpJiZjLmVsZW1lbnRNb2RlIT1DS0VESVRPUi5FTEVNRU5UX01PREVfQVBQRU5EVE8pcmV0dXJuIGN9cmV0dXJuIG51bGx9fSk7dmFyIGM9e3dpZHRoOltcImJvcmRlci1sZWZ0LXdpZHRoXCIsXCJib3JkZXItcmlnaHQtd2lkdGhcIixcInBhZGRpbmctbGVmdFwiLFwicGFkZGluZy1yaWdodFwiXSxoZWlnaHQ6W1wiYm9yZGVyLXRvcC13aWR0aFwiLFwiYm9yZGVyLWJvdHRvbS13aWR0aFwiLFwicGFkZGluZy10b3BcIixcInBhZGRpbmctYm90dG9tXCJdfTtDS0VESVRPUi5kb20uZWxlbWVudC5wcm90b3R5cGUuc2V0U2l6ZT1mdW5jdGlvbihhLGMsZSl7aWYodHlwZW9mIGM9PVwibnVtYmVyXCIpe2lmKGUmJighQ0tFRElUT1IuZW52LmllfHwhQ0tFRElUT1IuZW52LnF1aXJrcykpYz1jLWIuY2FsbCh0aGlzLGEpO3RoaXMuc2V0U3R5bGUoYSxjK1wicHhcIil9fTtDS0VESVRPUi5kb20uZWxlbWVudC5wcm90b3R5cGUuZ2V0U2l6ZT1mdW5jdGlvbihhLFxuYyl7dmFyIGU9TWF0aC5tYXgodGhpcy4kW1wib2Zmc2V0XCIrQ0tFRElUT1IudG9vbHMuY2FwaXRhbGl6ZShhKV0sdGhpcy4kW1wiY2xpZW50XCIrQ0tFRElUT1IudG9vbHMuY2FwaXRhbGl6ZShhKV0pfHwwO2MmJihlPWUtYi5jYWxsKHRoaXMsYSkpO3JldHVybiBlfX0pKCk7Q0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQ9ZnVuY3Rpb24oYil7Yj1ifHxDS0VESVRPUi5kb2N1bWVudDt0aGlzLiQ9Yi50eXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UP2IuJC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk6Yn07XG5DS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQucHJvdG90eXBlLENLRURJVE9SLmRvbS5lbGVtZW50LnByb3RvdHlwZSx7dHlwZTpDS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5ULGluc2VydEFmdGVyTm9kZTpmdW5jdGlvbihiKXtiPWIuJDtiLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXMuJCxiLm5leHRTaWJsaW5nKX19LCEwLHthcHBlbmQ6MSxhcHBlbmRCb2d1czoxLGdldEZpcnN0OjEsZ2V0TGFzdDoxLGdldFBhcmVudDoxLGdldE5leHQ6MSxnZXRQcmV2aW91czoxLGFwcGVuZFRvOjEsbW92ZUNoaWxkcmVuOjEsaW5zZXJ0QmVmb3JlOjEsaW5zZXJ0QWZ0ZXJOb2RlOjEscmVwbGFjZToxLHRyaW06MSx0eXBlOjEsbHRyaW06MSxydHJpbToxLGdldERvY3VtZW50OjEsZ2V0Q2hpbGRDb3VudDoxLGdldENoaWxkOjEsZ2V0Q2hpbGRyZW46MX0pO1xuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihhLGIpe3ZhciBjPXRoaXMucmFuZ2U7aWYodGhpcy5fLmVuZClyZXR1cm4gbnVsbDtpZighdGhpcy5fLnN0YXJ0KXt0aGlzLl8uc3RhcnQ9MTtpZihjLmNvbGxhcHNlZCl7dGhpcy5lbmQoKTtyZXR1cm4gbnVsbH1jLm9wdGltaXplKCl9dmFyIGQsbj1jLnN0YXJ0Q29udGFpbmVyO2Q9Yy5lbmRDb250YWluZXI7dmFyIG89Yy5zdGFydE9mZnNldCxsPWMuZW5kT2Zmc2V0LGoscT10aGlzLmd1YXJkLGY9dGhpcy50eXBlLGU9YT9cImdldFByZXZpb3VzU291cmNlTm9kZVwiOlwiZ2V0TmV4dFNvdXJjZU5vZGVcIjtpZighYSYmIXRoaXMuXy5ndWFyZExUUil7dmFyIGk9ZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ/ZDpkLmdldFBhcmVudCgpLHM9ZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ/ZC5nZXRDaGlsZChsKTpkLmdldE5leHQoKTt0aGlzLl8uZ3VhcmRMVFI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4oIWJ8fCFpLmVxdWFscyhhKSkmJighc3x8XG4hYS5lcXVhbHMocykpJiYoYS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fCFifHwhYS5lcXVhbHMoYy5yb290KSl9fWlmKGEmJiF0aGlzLl8uZ3VhcmRSVEwpe3ZhciBBPW4udHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UP246bi5nZXRQYXJlbnQoKSxCPW4udHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UP28/bi5nZXRDaGlsZChvLTEpOm51bGw6bi5nZXRQcmV2aW91cygpO3RoaXMuXy5ndWFyZFJUTD1mdW5jdGlvbihhLGIpe3JldHVybighYnx8IUEuZXF1YWxzKGEpKSYmKCFCfHwhYS5lcXVhbHMoQikpJiYoYS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fCFifHwhYS5lcXVhbHMoYy5yb290KSl9fXZhciBwPWE/dGhpcy5fLmd1YXJkUlRMOnRoaXMuXy5ndWFyZExUUjtqPXE/ZnVuY3Rpb24oYSxiKXtyZXR1cm4gcChhLGIpPT09ZmFsc2U/ZmFsc2U6cShhLGIpfTpwO2lmKHRoaXMuY3VycmVudClkPXRoaXMuY3VycmVudFtlXShmYWxzZSxmLGopO2Vsc2V7aWYoYSlkLnR5cGU9PVxuQ0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoZD1sPjA/ZC5nZXRDaGlsZChsLTEpOmooZCx0cnVlKT09PWZhbHNlP251bGw6ZC5nZXRQcmV2aW91c1NvdXJjZU5vZGUodHJ1ZSxmLGopKTtlbHNle2Q9bjtpZihkLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmIShkPWQuZ2V0Q2hpbGQobykpKWQ9aihuLHRydWUpPT09ZmFsc2U/bnVsbDpuLmdldE5leHRTb3VyY2VOb2RlKHRydWUsZixqKX1kJiZqKGQpPT09ZmFsc2UmJihkPW51bGwpfWZvcig7ZCYmIXRoaXMuXy5lbmQ7KXt0aGlzLmN1cnJlbnQ9ZDtpZighdGhpcy5ldmFsdWF0b3J8fHRoaXMuZXZhbHVhdG9yKGQpIT09ZmFsc2Upe2lmKCFiKXJldHVybiBkfWVsc2UgaWYoYiYmdGhpcy5ldmFsdWF0b3IpcmV0dXJuIGZhbHNlO2Q9ZFtlXShmYWxzZSxmLGopfXRoaXMuZW5kKCk7cmV0dXJuIHRoaXMuY3VycmVudD1udWxsfWZ1bmN0aW9uIGMoYSl7Zm9yKHZhciBjLGQ9bnVsbDtjPWIuY2FsbCh0aGlzLGEpOylkPWM7cmV0dXJuIGR9XG5DS0VESVRPUi5kb20ud2Fsa2VyPUNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHskOmZ1bmN0aW9uKGEpe3RoaXMucmFuZ2U9YTt0aGlzLl89e319LHByb3RvOntlbmQ6ZnVuY3Rpb24oKXt0aGlzLl8uZW5kPTF9LG5leHQ6ZnVuY3Rpb24oKXtyZXR1cm4gYi5jYWxsKHRoaXMpfSxwcmV2aW91czpmdW5jdGlvbigpe3JldHVybiBiLmNhbGwodGhpcywxKX0sY2hlY2tGb3J3YXJkOmZ1bmN0aW9uKCl7cmV0dXJuIGIuY2FsbCh0aGlzLDAsMSkhPT1mYWxzZX0sY2hlY2tCYWNrd2FyZDpmdW5jdGlvbigpe3JldHVybiBiLmNhbGwodGhpcywxLDEpIT09ZmFsc2V9LGxhc3RGb3J3YXJkOmZ1bmN0aW9uKCl7cmV0dXJuIGMuY2FsbCh0aGlzKX0sbGFzdEJhY2t3YXJkOmZ1bmN0aW9uKCl7cmV0dXJuIGMuY2FsbCh0aGlzLDEpfSxyZXNldDpmdW5jdGlvbigpe2RlbGV0ZSB0aGlzLmN1cnJlbnQ7dGhpcy5fPXt9fX19KTt2YXIgYT17YmxvY2s6MSxcImxpc3QtaXRlbVwiOjEsdGFibGU6MSxcInRhYmxlLXJvdy1ncm91cFwiOjEsXG5cInRhYmxlLWhlYWRlci1ncm91cFwiOjEsXCJ0YWJsZS1mb290ZXItZ3JvdXBcIjoxLFwidGFibGUtcm93XCI6MSxcInRhYmxlLWNvbHVtbi1ncm91cFwiOjEsXCJ0YWJsZS1jb2x1bW5cIjoxLFwidGFibGUtY2VsbFwiOjEsXCJ0YWJsZS1jYXB0aW9uXCI6MX07Q0tFRElUT1IuZG9tLmVsZW1lbnQucHJvdG90eXBlLmlzQmxvY2tCb3VuZGFyeT1mdW5jdGlvbihiKXtiPWI/Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LENLRURJVE9SLmR0ZC4kYmxvY2ssYnx8e30pOkNLRURJVE9SLmR0ZC4kYmxvY2s7cmV0dXJuIHRoaXMuZ2V0Q29tcHV0ZWRTdHlsZShcImZsb2F0XCIpPT1cIm5vbmVcIiYmYVt0aGlzLmdldENvbXB1dGVkU3R5bGUoXCJkaXNwbGF5XCIpXXx8Ylt0aGlzLmdldE5hbWUoKV19O0NLRURJVE9SLmRvbS53YWxrZXIuYmxvY2tCb3VuZGFyeT1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIShiLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYi5pc0Jsb2NrQm91bmRhcnkoYSkpfX07Q0tFRElUT1IuZG9tLndhbGtlci5saXN0SXRlbUJvdW5kYXJ5PVxuZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ibG9ja0JvdW5kYXJ5KHticjoxfSl9O0NLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcms9ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEpe3JldHVybiBhJiZhLmdldE5hbWUmJmEuZ2V0TmFtZSgpPT1cInNwYW5cIiYmYS5kYXRhKFwiY2tlLWJvb2ttYXJrXCIpfXJldHVybiBmdW5jdGlvbihkKXt2YXIgbixvO249ZCYmZC50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihvPWQuZ2V0UGFyZW50KCkpJiZjKG8pO249YT9uOm58fGMoZCk7cmV0dXJuISEoYl5uKX19O0NLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjO2ImJmIudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYoYz0hQ0tFRElUT1IudG9vbHMudHJpbShiLmdldFRleHQoKSl8fENLRURJVE9SLmVudi53ZWJraXQmJmIuZ2V0VGV4dCgpPT1cIuKAi1wiKTtyZXR1cm4hIShhXmMpfX07Q0tFRElUT1IuZG9tLndhbGtlci5pbnZpc2libGU9XG5mdW5jdGlvbihhKXt2YXIgYj1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCk7cmV0dXJuIGZ1bmN0aW9uKGMpe2lmKGIoYykpYz0xO2Vsc2V7Yy50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihjPWMuZ2V0UGFyZW50KCkpO2M9IWMuJC5vZmZzZXRIZWlnaHR9cmV0dXJuISEoYV5jKX19O0NLRURJVE9SLmRvbS53YWxrZXIubm9kZVR5cGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZnVuY3Rpb24oYyl7cmV0dXJuISEoYl5jLnR5cGU9PWEpfX07Q0tFRElUT1IuZG9tLndhbGtlci5ib2d1cz1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3JldHVybiFlKGEpJiYhZChhKX1yZXR1cm4gZnVuY3Rpb24oYyl7dmFyIGQ9IUNLRURJVE9SLmVudi5pZT9jLmlzJiZjLmlzKFwiYnJcIik6Yy5nZXRUZXh0JiZmLnRlc3QoYy5nZXRUZXh0KCkpO2lmKGQpe2Q9Yy5nZXRQYXJlbnQoKTtjPWMuZ2V0TmV4dChiKTtkPWQuaXNCbG9ja0JvdW5kYXJ5KCkmJighY3x8Yy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJlxuYy5pc0Jsb2NrQm91bmRhcnkoKSl9cmV0dXJuISEoYV5kKX19O3ZhciBmPS9eW1xcdFxcclxcbiBdKig/OiZuYnNwO3xcXHhhMCkkLyxlPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoKSxkPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoKTtDS0VESVRPUi5kb20uZWxlbWVudC5wcm90b3R5cGUuZ2V0Qm9ndXM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2RvIGE9YS5nZXRQcmV2aW91c1NvdXJjZU5vZGUoKTt3aGlsZShkKGEpfHxlKGEpfHxhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5nZXROYW1lKClpbiBDS0VESVRPUi5kdGQuJGlubGluZSYmIShhLmdldE5hbWUoKWluIENLRURJVE9SLmR0ZC4kZW1wdHkpKTtyZXR1cm4gYSYmKCFDS0VESVRPUi5lbnYuaWU/YS5pcyYmYS5pcyhcImJyXCIpOmEuZ2V0VGV4dCYmZi50ZXN0KGEuZ2V0VGV4dCgpKSk/YTpmYWxzZX19KSgpO1xuQ0tFRElUT1IuZG9tLnJhbmdlPWZ1bmN0aW9uKGIpe3RoaXMuZW5kT2Zmc2V0PXRoaXMuZW5kQ29udGFpbmVyPXRoaXMuc3RhcnRPZmZzZXQ9dGhpcy5zdGFydENvbnRhaW5lcj1udWxsO3RoaXMuY29sbGFwc2VkPXRydWU7dmFyIGM9YiBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5kb2N1bWVudDt0aGlzLmRvY3VtZW50PWM/YjpiLmdldERvY3VtZW50KCk7dGhpcy5yb290PWM/Yi5nZXRCb2R5KCk6Yn07XG4oZnVuY3Rpb24oKXtmdW5jdGlvbiBiKCl7dmFyIGE9ZmFsc2UsYj1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCksbD1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKHRydWUpLGM9Q0tFRElUT1IuZG9tLndhbGtlci5ib2d1cygpO3JldHVybiBmdW5jdGlvbihxKXtpZihsKHEpfHxiKHEpKXJldHVybiB0cnVlO2lmKGMocSkmJiFhKXJldHVybiBhPXRydWU7cmV0dXJuIHEudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYocS5oYXNBc2NlbmRhbnQoXCJwcmVcIil8fENLRURJVE9SLnRvb2xzLnRyaW0ocS5nZXRUZXh0KCkpLmxlbmd0aCl8fHEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYhcS5pcyhkKT9mYWxzZTp0cnVlfX1mdW5jdGlvbiBjKGEpe3ZhciBiPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoKSxsPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoMSk7cmV0dXJuIGZ1bmN0aW9uKGMpe3JldHVybiBsKGMpfHxiKGMpP3RydWU6IWEmJmcoYyl8fFxuYy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmMuaXMoQ0tFRElUT1IuZHRkLiRyZW1vdmVFbXB0eSl9fWZ1bmN0aW9uIGEoYSl7cmV0dXJuIWsoYSkmJiFoKGEpfXZhciBmPWZ1bmN0aW9uKGEpe2EuY29sbGFwc2VkPWEuc3RhcnRDb250YWluZXImJmEuZW5kQ29udGFpbmVyJiZhLnN0YXJ0Q29udGFpbmVyLmVxdWFscyhhLmVuZENvbnRhaW5lcikmJmEuc3RhcnRPZmZzZXQ9PWEuZW5kT2Zmc2V0fSxlPWZ1bmN0aW9uKGEsYixsLGMpe2Eub3B0aW1pemVCb29rbWFyaygpO3ZhciBkPWEuc3RhcnRDb250YWluZXIsZz1hLmVuZENvbnRhaW5lcixmPWEuc3RhcnRPZmZzZXQsaT1hLmVuZE9mZnNldCxlLGs7aWYoZy50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQpZz1nLnNwbGl0KGkpO2Vsc2UgaWYoZy5nZXRDaGlsZENvdW50KCk+MClpZihpPj1nLmdldENoaWxkQ291bnQoKSl7Zz1nLmFwcGVuZChhLmRvY3VtZW50LmNyZWF0ZVRleHQoXCJcIikpO2s9dHJ1ZX1lbHNlIGc9Zy5nZXRDaGlsZChpKTtcbmlmKGQudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUKXtkLnNwbGl0KGYpO2QuZXF1YWxzKGcpJiYoZz1kLmdldE5leHQoKSl9ZWxzZSBpZihmKWlmKGY+PWQuZ2V0Q2hpbGRDb3VudCgpKXtkPWQuYXBwZW5kKGEuZG9jdW1lbnQuY3JlYXRlVGV4dChcIlwiKSk7ZT10cnVlfWVsc2UgZD1kLmdldENoaWxkKGYpLmdldFByZXZpb3VzKCk7ZWxzZXtkPWQuYXBwZW5kKGEuZG9jdW1lbnQuY3JlYXRlVGV4dChcIlwiKSwxKTtlPXRydWV9dmFyIGY9ZC5nZXRQYXJlbnRzKCksaT1nLmdldFBhcmVudHMoKSxoLHAsbTtmb3IoaD0wO2g8Zi5sZW5ndGg7aCsrKXtwPWZbaF07bT1pW2hdO2lmKCFwLmVxdWFscyhtKSlicmVha31mb3IodmFyIHU9bCxyLEQsdix0PWg7dDxmLmxlbmd0aDt0Kyspe3I9Zlt0XTt1JiYhci5lcXVhbHMoZCkmJihEPXUuYXBwZW5kKHIuY2xvbmUoKSkpO2ZvcihyPXIuZ2V0TmV4dCgpO3I7KXtpZihyLmVxdWFscyhpW3RdKXx8ci5lcXVhbHMoZykpYnJlYWs7dj1yLmdldE5leHQoKTtcbmlmKGI9PTIpdS5hcHBlbmQoci5jbG9uZSh0cnVlKSk7ZWxzZXtyLnJlbW92ZSgpO2I9PTEmJnUuYXBwZW5kKHIpfXI9dn11JiYodT1EKX11PWw7Zm9yKGw9aDtsPGkubGVuZ3RoO2wrKyl7cj1pW2xdO2I+MCYmIXIuZXF1YWxzKGcpJiYoRD11LmFwcGVuZChyLmNsb25lKCkpKTtpZighZltsXXx8ci4kLnBhcmVudE5vZGUhPWZbbF0uJC5wYXJlbnROb2RlKWZvcihyPXIuZ2V0UHJldmlvdXMoKTtyOyl7aWYoci5lcXVhbHMoZltsXSl8fHIuZXF1YWxzKGQpKWJyZWFrO3Y9ci5nZXRQcmV2aW91cygpO2lmKGI9PTIpdS4kLmluc2VydEJlZm9yZShyLiQuY2xvbmVOb2RlKHRydWUpLHUuJC5maXJzdENoaWxkKTtlbHNle3IucmVtb3ZlKCk7Yj09MSYmdS4kLmluc2VydEJlZm9yZShyLiQsdS4kLmZpcnN0Q2hpbGQpfXI9dn11JiYodT1EKX1pZihiPT0yKXtwPWEuc3RhcnRDb250YWluZXI7aWYocC50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQpe3AuJC5kYXRhPXAuJC5kYXRhK3AuJC5uZXh0U2libGluZy5kYXRhO1xucC4kLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocC4kLm5leHRTaWJsaW5nKX1hPWEuZW5kQ29udGFpbmVyO2lmKGEudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiZhLiQubmV4dFNpYmxpbmcpe2EuJC5kYXRhPWEuJC5kYXRhK2EuJC5uZXh0U2libGluZy5kYXRhO2EuJC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEuJC5uZXh0U2libGluZyl9fWVsc2V7aWYocCYmbSYmKGQuJC5wYXJlbnROb2RlIT1wLiQucGFyZW50Tm9kZXx8Zy4kLnBhcmVudE5vZGUhPW0uJC5wYXJlbnROb2RlKSl7Yj1tLmdldEluZGV4KCk7ZSYmbS4kLnBhcmVudE5vZGU9PWQuJC5wYXJlbnROb2RlJiZiLS07aWYoYyYmcC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpe2M9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoJzxzcGFuIGRhdGEtY2tlLWJvb2ttYXJrPVwiMVwiIHN0eWxlPVwiZGlzcGxheTpub25lXCI+Jm5ic3A7PC9zcGFuPicsYS5kb2N1bWVudCk7Yy5pbnNlcnRBZnRlcihwKTtwLm1lcmdlU2libGluZ3MoZmFsc2UpO1xuYS5tb3ZlVG9Cb29rbWFyayh7c3RhcnROb2RlOmN9KX1lbHNlIGEuc2V0U3RhcnQobS5nZXRQYXJlbnQoKSxiKX1hLmNvbGxhcHNlKHRydWUpfWUmJmQucmVtb3ZlKCk7ayYmZy4kLnBhcmVudE5vZGUmJmcucmVtb3ZlKCl9LGQ9e2FiYnI6MSxhY3JvbnltOjEsYjoxLGJkbzoxLGJpZzoxLGNpdGU6MSxjb2RlOjEsZGVsOjEsZGZuOjEsZW06MSxmb250OjEsaToxLGluczoxLGxhYmVsOjEsa2JkOjEscToxLHNhbXA6MSxzbWFsbDoxLHNwYW46MSxzdHJpa2U6MSxzdHJvbmc6MSxzdWI6MSxzdXA6MSx0dDoxLHU6MSxcInZhclwiOjF9LGc9Q0tFRElUT1IuZG9tLndhbGtlci5ib2d1cygpLGs9bmV3IENLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMsaD1uZXcgQ0tFRElUT1IuZG9tLndhbGtlci5ib29rbWFyayxtPS9eW1xcdFxcclxcbiBdKig/OiZuYnNwO3xcXHhhMCkkLztDS0VESVRPUi5kb20ucmFuZ2UucHJvdG90eXBlPXtjbG9uZTpmdW5jdGlvbigpe3ZhciBhPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UodGhpcy5yb290KTtcbmEuc3RhcnRDb250YWluZXI9dGhpcy5zdGFydENvbnRhaW5lcjthLnN0YXJ0T2Zmc2V0PXRoaXMuc3RhcnRPZmZzZXQ7YS5lbmRDb250YWluZXI9dGhpcy5lbmRDb250YWluZXI7YS5lbmRPZmZzZXQ9dGhpcy5lbmRPZmZzZXQ7YS5jb2xsYXBzZWQ9dGhpcy5jb2xsYXBzZWQ7cmV0dXJuIGF9LGNvbGxhcHNlOmZ1bmN0aW9uKGEpe2lmKGEpe3RoaXMuZW5kQ29udGFpbmVyPXRoaXMuc3RhcnRDb250YWluZXI7dGhpcy5lbmRPZmZzZXQ9dGhpcy5zdGFydE9mZnNldH1lbHNle3RoaXMuc3RhcnRDb250YWluZXI9dGhpcy5lbmRDb250YWluZXI7dGhpcy5zdGFydE9mZnNldD10aGlzLmVuZE9mZnNldH10aGlzLmNvbGxhcHNlZD10cnVlfSxjbG9uZUNvbnRlbnRzOmZ1bmN0aW9uKCl7dmFyIGE9bmV3IENLRURJVE9SLmRvbS5kb2N1bWVudEZyYWdtZW50KHRoaXMuZG9jdW1lbnQpO3RoaXMuY29sbGFwc2VkfHxlKHRoaXMsMixhKTtyZXR1cm4gYX0sZGVsZXRlQ29udGVudHM6ZnVuY3Rpb24oYSl7dGhpcy5jb2xsYXBzZWR8fFxuZSh0aGlzLDAsbnVsbCxhKX0sZXh0cmFjdENvbnRlbnRzOmZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudCh0aGlzLmRvY3VtZW50KTt0aGlzLmNvbGxhcHNlZHx8ZSh0aGlzLDEsYixhKTtyZXR1cm4gYn0sY3JlYXRlQm9va21hcms6ZnVuY3Rpb24oYSl7dmFyIGIsbCxjLGQsZz10aGlzLmNvbGxhcHNlZDtiPXRoaXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7Yi5kYXRhKFwiY2tlLWJvb2ttYXJrXCIsMSk7Yi5zZXRTdHlsZShcImRpc3BsYXlcIixcIm5vbmVcIik7Yi5zZXRIdG1sKFwiJm5ic3A7XCIpO2lmKGEpe2M9XCJja2VfYm1fXCIrQ0tFRElUT1IudG9vbHMuZ2V0TmV4dE51bWJlcigpO2Iuc2V0QXR0cmlidXRlKFwiaWRcIixjKyhnP1wiQ1wiOlwiU1wiKSl9aWYoIWcpe2w9Yi5jbG9uZSgpO2wuc2V0SHRtbChcIiZuYnNwO1wiKTthJiZsLnNldEF0dHJpYnV0ZShcImlkXCIsYytcIkVcIik7ZD10aGlzLmNsb25lKCk7ZC5jb2xsYXBzZSgpO2QuaW5zZXJ0Tm9kZShsKX1kPVxudGhpcy5jbG9uZSgpO2QuY29sbGFwc2UodHJ1ZSk7ZC5pbnNlcnROb2RlKGIpO2lmKGwpe3RoaXMuc2V0U3RhcnRBZnRlcihiKTt0aGlzLnNldEVuZEJlZm9yZShsKX1lbHNlIHRoaXMubW92ZVRvUG9zaXRpb24oYixDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpO3JldHVybntzdGFydE5vZGU6YT9jKyhnP1wiQ1wiOlwiU1wiKTpiLGVuZE5vZGU6YT9jK1wiRVwiOmwsc2VyaWFsaXphYmxlOmEsY29sbGFwc2VkOmd9fSxjcmVhdGVCb29rbWFyazI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5zdGFydENvbnRhaW5lcixsPXRoaXMuZW5kQ29udGFpbmVyLGM9dGhpcy5zdGFydE9mZnNldCxkPXRoaXMuZW5kT2Zmc2V0LGc9dGhpcy5jb2xsYXBzZWQsZixpO2lmKCFifHwhbClyZXR1cm57c3RhcnQ6MCxlbmQ6MH07aWYoYSl7aWYoYi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpe2lmKChmPWIuZ2V0Q2hpbGQoYykpJiZmLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmYz4wJiZmLmdldFByZXZpb3VzKCkudHlwZT09XG5DS0VESVRPUi5OT0RFX1RFWFQpe2I9ZjtjPTB9ZiYmZi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihjPWYuZ2V0SW5kZXgoMSkpfWZvcig7Yi50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihpPWIuZ2V0UHJldmlvdXMoKSkmJmkudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUOyl7Yj1pO2M9YytpLmdldExlbmd0aCgpfWlmKCFnKXtpZihsLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCl7aWYoKGY9bC5nZXRDaGlsZChkKSkmJmYudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiZkPjAmJmYuZ2V0UHJldmlvdXMoKS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQpe2w9ZjtkPTB9ZiYmZi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihkPWYuZ2V0SW5kZXgoMSkpfWZvcig7bC50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihpPWwuZ2V0UHJldmlvdXMoKSkmJmkudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUOyl7bD1pO2Q9ZCtpLmdldExlbmd0aCgpfX19cmV0dXJue3N0YXJ0OmIuZ2V0QWRkcmVzcyhhKSxcbmVuZDpnP251bGw6bC5nZXRBZGRyZXNzKGEpLHN0YXJ0T2Zmc2V0OmMsZW5kT2Zmc2V0OmQsbm9ybWFsaXplZDphLGNvbGxhcHNlZDpnLGlzMjp0cnVlfX0sbW92ZVRvQm9va21hcms6ZnVuY3Rpb24oYSl7aWYoYS5pczIpe3ZhciBiPXRoaXMuZG9jdW1lbnQuZ2V0QnlBZGRyZXNzKGEuc3RhcnQsYS5ub3JtYWxpemVkKSxsPWEuc3RhcnRPZmZzZXQsYz1hLmVuZCYmdGhpcy5kb2N1bWVudC5nZXRCeUFkZHJlc3MoYS5lbmQsYS5ub3JtYWxpemVkKSxhPWEuZW5kT2Zmc2V0O3RoaXMuc2V0U3RhcnQoYixsKTtjP3RoaXMuc2V0RW5kKGMsYSk6dGhpcy5jb2xsYXBzZSh0cnVlKX1lbHNle2I9KGw9YS5zZXJpYWxpemFibGUpP3RoaXMuZG9jdW1lbnQuZ2V0QnlJZChhLnN0YXJ0Tm9kZSk6YS5zdGFydE5vZGU7YT1sP3RoaXMuZG9jdW1lbnQuZ2V0QnlJZChhLmVuZE5vZGUpOmEuZW5kTm9kZTt0aGlzLnNldFN0YXJ0QmVmb3JlKGIpO2IucmVtb3ZlKCk7aWYoYSl7dGhpcy5zZXRFbmRCZWZvcmUoYSk7XG5hLnJlbW92ZSgpfWVsc2UgdGhpcy5jb2xsYXBzZSh0cnVlKX19LGdldEJvdW5kYXJ5Tm9kZXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnN0YXJ0Q29udGFpbmVyLGI9dGhpcy5lbmRDb250YWluZXIsbD10aGlzLnN0YXJ0T2Zmc2V0LGM9dGhpcy5lbmRPZmZzZXQsZDtpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCl7ZD1hLmdldENoaWxkQ291bnQoKTtpZihkPmwpYT1hLmdldENoaWxkKGwpO2Vsc2UgaWYoZDwxKWE9YS5nZXRQcmV2aW91c1NvdXJjZU5vZGUoKTtlbHNle2ZvcihhPWEuJDthLmxhc3RDaGlsZDspYT1hLmxhc3RDaGlsZDthPW5ldyBDS0VESVRPUi5kb20ubm9kZShhKTthPWEuZ2V0TmV4dFNvdXJjZU5vZGUoKXx8YX19aWYoYi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpe2Q9Yi5nZXRDaGlsZENvdW50KCk7aWYoZD5jKWI9Yi5nZXRDaGlsZChjKS5nZXRQcmV2aW91c1NvdXJjZU5vZGUodHJ1ZSk7ZWxzZSBpZihkPDEpYj1iLmdldFByZXZpb3VzU291cmNlTm9kZSgpO1xuZWxzZXtmb3IoYj1iLiQ7Yi5sYXN0Q2hpbGQ7KWI9Yi5sYXN0Q2hpbGQ7Yj1uZXcgQ0tFRElUT1IuZG9tLm5vZGUoYil9fWEuZ2V0UG9zaXRpb24oYikmQ0tFRElUT1IuUE9TSVRJT05fRk9MTE9XSU5HJiYoYT1iKTtyZXR1cm57c3RhcnROb2RlOmEsZW5kTm9kZTpifX0sZ2V0Q29tbW9uQW5jZXN0b3I6ZnVuY3Rpb24oYSxiKXt2YXIgbD10aGlzLnN0YXJ0Q29udGFpbmVyLGM9dGhpcy5lbmRDb250YWluZXIsbD1sLmVxdWFscyhjKT9hJiZsLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmdGhpcy5zdGFydE9mZnNldD09dGhpcy5lbmRPZmZzZXQtMT9sLmdldENoaWxkKHRoaXMuc3RhcnRPZmZzZXQpOmw6bC5nZXRDb21tb25BbmNlc3RvcihjKTtyZXR1cm4gYiYmIWwuaXM/bC5nZXRQYXJlbnQoKTpsfSxvcHRpbWl6ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuc3RhcnRDb250YWluZXIsYj10aGlzLnN0YXJ0T2Zmc2V0O2EudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoYj9iPj1cbmEuZ2V0TGVuZ3RoKCkmJnRoaXMuc2V0U3RhcnRBZnRlcihhKTp0aGlzLnNldFN0YXJ0QmVmb3JlKGEpKTthPXRoaXMuZW5kQ29udGFpbmVyO2I9dGhpcy5lbmRPZmZzZXQ7YS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihiP2I+PWEuZ2V0TGVuZ3RoKCkmJnRoaXMuc2V0RW5kQWZ0ZXIoYSk6dGhpcy5zZXRFbmRCZWZvcmUoYSkpfSxvcHRpbWl6ZUJvb2ttYXJrOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zdGFydENvbnRhaW5lcixiPXRoaXMuZW5kQ29udGFpbmVyO2EuaXMmJihhLmlzKFwic3BhblwiKSYmYS5kYXRhKFwiY2tlLWJvb2ttYXJrXCIpKSYmdGhpcy5zZXRTdGFydEF0KGEsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKTtiJiYoYi5pcyYmYi5pcyhcInNwYW5cIikmJmIuZGF0YShcImNrZS1ib29rbWFya1wiKSkmJnRoaXMuc2V0RW5kQXQoYixDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpfSx0cmltOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5zdGFydENvbnRhaW5lcixcbmo9dGhpcy5zdGFydE9mZnNldCxkPXRoaXMuY29sbGFwc2VkO2lmKCghYXx8ZCkmJmMmJmMudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUKXtpZihqKWlmKGo+PWMuZ2V0TGVuZ3RoKCkpe2o9Yy5nZXRJbmRleCgpKzE7Yz1jLmdldFBhcmVudCgpfWVsc2V7dmFyIGc9Yy5zcGxpdChqKSxqPWMuZ2V0SW5kZXgoKSsxLGM9Yy5nZXRQYXJlbnQoKTtpZih0aGlzLnN0YXJ0Q29udGFpbmVyLmVxdWFscyh0aGlzLmVuZENvbnRhaW5lcikpdGhpcy5zZXRFbmQoZyx0aGlzLmVuZE9mZnNldC10aGlzLnN0YXJ0T2Zmc2V0KTtlbHNlIGlmKGMuZXF1YWxzKHRoaXMuZW5kQ29udGFpbmVyKSl0aGlzLmVuZE9mZnNldD10aGlzLmVuZE9mZnNldCsxfWVsc2V7aj1jLmdldEluZGV4KCk7Yz1jLmdldFBhcmVudCgpfXRoaXMuc2V0U3RhcnQoYyxqKTtpZihkKXt0aGlzLmNvbGxhcHNlKHRydWUpO3JldHVybn19Yz10aGlzLmVuZENvbnRhaW5lcjtqPXRoaXMuZW5kT2Zmc2V0O2lmKCFiJiYhZCYmYyYmYy50eXBlPT1cbkNLRURJVE9SLk5PREVfVEVYVCl7aWYoail7aj49Yy5nZXRMZW5ndGgoKXx8Yy5zcGxpdChqKTtqPWMuZ2V0SW5kZXgoKSsxfWVsc2Ugaj1jLmdldEluZGV4KCk7Yz1jLmdldFBhcmVudCgpO3RoaXMuc2V0RW5kKGMsail9fSxlbmxhcmdlOmZ1bmN0aW9uKGEsYil7c3dpdGNoKGEpe2Nhc2UgQ0tFRElUT1IuRU5MQVJHRV9JTkxJTkU6dmFyIGM9MTtjYXNlIENLRURJVE9SLkVOTEFSR0VfRUxFTUVOVDppZih0aGlzLmNvbGxhcHNlZClicmVhazt2YXIgaj10aGlzLmdldENvbW1vbkFuY2VzdG9yKCksZD10aGlzLnJvb3QsZyxmLGksZSxoLGs9ZmFsc2UscCxtO3A9dGhpcy5zdGFydENvbnRhaW5lcjttPXRoaXMuc3RhcnRPZmZzZXQ7aWYocC50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQpe2lmKG0pe3A9IUNLRURJVE9SLnRvb2xzLnRyaW0ocC5zdWJzdHJpbmcoMCxtKSkubGVuZ3RoJiZwO2s9ISFwfWlmKHAmJiEoZT1wLmdldFByZXZpb3VzKCkpKWk9cC5nZXRQYXJlbnQoKX1lbHNle20mJlxuKGU9cC5nZXRDaGlsZChtLTEpfHxwLmdldExhc3QoKSk7ZXx8KGk9cCl9Zm9yKDtpfHxlOyl7aWYoaSYmIWUpeyFoJiZpLmVxdWFscyhqKSYmKGg9dHJ1ZSk7aWYoYz9pLmlzQmxvY2tCb3VuZGFyeSgpOiFkLmNvbnRhaW5zKGkpKWJyZWFrO2lmKCFrfHxpLmdldENvbXB1dGVkU3R5bGUoXCJkaXNwbGF5XCIpIT1cImlubGluZVwiKXtrPWZhbHNlO2g/Zz1pOnRoaXMuc2V0U3RhcnRCZWZvcmUoaSl9ZT1pLmdldFByZXZpb3VzKCl9Zm9yKDtlOyl7cD1mYWxzZTtpZihlLnR5cGU9PUNLRURJVE9SLk5PREVfQ09NTUVOVCllPWUuZ2V0UHJldmlvdXMoKTtlbHNle2lmKGUudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUKXttPWUuZ2V0VGV4dCgpOy9bXlxcc1xcdWZlZmZdLy50ZXN0KG0pJiYoZT1udWxsKTtwPS9bXFxzXFx1ZmVmZl0kLy50ZXN0KG0pfWVsc2UgaWYoKGUuJC5vZmZzZXRXaWR0aD4wfHxiJiZlLmlzKFwiYnJcIikpJiYhZS5kYXRhKFwiY2tlLWJvb2ttYXJrXCIpKWlmKGsmJkNLRURJVE9SLmR0ZC4kcmVtb3ZlRW1wdHlbZS5nZXROYW1lKCldKXttPVxuZS5nZXRUZXh0KCk7aWYoL1teXFxzXFx1ZmVmZl0vLnRlc3QobSkpZT1udWxsO2Vsc2UgZm9yKHZhciB1PWUuJC5nZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIikscj0wLEQ7RD11W3IrK107KWlmKCFDS0VESVRPUi5kdGQuJHJlbW92ZUVtcHR5W0Qubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pe2U9bnVsbDticmVha31lJiYocD0hIW0ubGVuZ3RoKX1lbHNlIGU9bnVsbDtwJiYoaz9oP2c9aTppJiZ0aGlzLnNldFN0YXJ0QmVmb3JlKGkpOms9dHJ1ZSk7aWYoZSl7cD1lLmdldFByZXZpb3VzKCk7aWYoIWkmJiFwKXtpPWU7ZT1udWxsO2JyZWFrfWU9cH1lbHNlIGk9bnVsbH19aSYmKGk9aS5nZXRQYXJlbnQoKSl9cD10aGlzLmVuZENvbnRhaW5lcjttPXRoaXMuZW5kT2Zmc2V0O2k9ZT1udWxsO2g9az1mYWxzZTtpZihwLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCl7cD0hQ0tFRElUT1IudG9vbHMudHJpbShwLnN1YnN0cmluZyhtKSkubGVuZ3RoJiZwO2s9IShwJiZwLmdldExlbmd0aCgpKTtpZihwJiZcbiEoZT1wLmdldE5leHQoKSkpaT1wLmdldFBhcmVudCgpfWVsc2UoZT1wLmdldENoaWxkKG0pKXx8KGk9cCk7Zm9yKDtpfHxlOyl7aWYoaSYmIWUpeyFoJiZpLmVxdWFscyhqKSYmKGg9dHJ1ZSk7aWYoYz9pLmlzQmxvY2tCb3VuZGFyeSgpOiFkLmNvbnRhaW5zKGkpKWJyZWFrO2lmKCFrfHxpLmdldENvbXB1dGVkU3R5bGUoXCJkaXNwbGF5XCIpIT1cImlubGluZVwiKXtrPWZhbHNlO2g/Zj1pOmkmJnRoaXMuc2V0RW5kQWZ0ZXIoaSl9ZT1pLmdldE5leHQoKX1mb3IoO2U7KXtwPWZhbHNlO2lmKGUudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUKXttPWUuZ2V0VGV4dCgpOy9bXlxcc1xcdWZlZmZdLy50ZXN0KG0pJiYoZT1udWxsKTtwPS9eW1xcc1xcdWZlZmZdLy50ZXN0KG0pfWVsc2UgaWYoZS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpe2lmKChlLiQub2Zmc2V0V2lkdGg+MHx8YiYmZS5pcyhcImJyXCIpKSYmIWUuZGF0YShcImNrZS1ib29rbWFya1wiKSlpZihrJiZDS0VESVRPUi5kdGQuJHJlbW92ZUVtcHR5W2UuZ2V0TmFtZSgpXSl7bT1cbmUuZ2V0VGV4dCgpO2lmKC9bXlxcc1xcdWZlZmZdLy50ZXN0KG0pKWU9bnVsbDtlbHNle3U9ZS4kLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiKlwiKTtmb3Iocj0wO0Q9dVtyKytdOylpZighQ0tFRElUT1IuZHRkLiRyZW1vdmVFbXB0eVtELm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKXtlPW51bGw7YnJlYWt9fWUmJihwPSEhbS5sZW5ndGgpfWVsc2UgZT1udWxsfWVsc2UgcD0xO3AmJmsmJihoP2Y9aTp0aGlzLnNldEVuZEFmdGVyKGkpKTtpZihlKXtwPWUuZ2V0TmV4dCgpO2lmKCFpJiYhcCl7aT1lO2U9bnVsbDticmVha31lPXB9ZWxzZSBpPW51bGx9aSYmKGk9aS5nZXRQYXJlbnQoKSl9aWYoZyYmZil7aj1nLmNvbnRhaW5zKGYpP2Y6Zzt0aGlzLnNldFN0YXJ0QmVmb3JlKGopO3RoaXMuc2V0RW5kQWZ0ZXIoail9YnJlYWs7Y2FzZSBDS0VESVRPUi5FTkxBUkdFX0JMT0NLX0NPTlRFTlRTOmNhc2UgQ0tFRElUT1IuRU5MQVJHRV9MSVNUX0lURU1fQ09OVEVOVFM6aT1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKHRoaXMucm9vdCk7XG5kPXRoaXMucm9vdDtpLnNldFN0YXJ0QXQoZCxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCk7aS5zZXRFbmQodGhpcy5zdGFydENvbnRhaW5lcix0aGlzLnN0YXJ0T2Zmc2V0KTtpPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGkpO3ZhciB2LHQsdz1DS0VESVRPUi5kb20ud2Fsa2VyLmJsb2NrQm91bmRhcnkoYT09Q0tFRElUT1IuRU5MQVJHRV9MSVNUX0lURU1fQ09OVEVOVFM/e2JyOjF9Om51bGwpLEk9ZnVuY3Rpb24oYSl7dmFyIGI9dyhhKTtifHwodj1hKTtyZXR1cm4gYn0sYz1mdW5jdGlvbihhKXt2YXIgYj1JKGEpOyFiJiYoYS5pcyYmYS5pcyhcImJyXCIpKSYmKHQ9YSk7cmV0dXJuIGJ9O2kuZ3VhcmQ9STtpPWkubGFzdEJhY2t3YXJkKCk7dj12fHxkO3RoaXMuc2V0U3RhcnRBdCh2LCF2LmlzKFwiYnJcIikmJighaSYmdGhpcy5jaGVja1N0YXJ0T2ZCbG9jaygpfHxpJiZ2LmNvbnRhaW5zKGkpKT9DS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVDpDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpO1xuaWYoYT09Q0tFRElUT1IuRU5MQVJHRV9MSVNUX0lURU1fQ09OVEVOVFMpe2k9dGhpcy5jbG9uZSgpO2k9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoaSk7dmFyIEc9Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcygpLEM9Q0tFRElUT1IuZG9tLndhbGtlci5ib29rbWFyaygpO2kuZXZhbHVhdG9yPWZ1bmN0aW9uKGEpe3JldHVybiFHKGEpJiYhQyhhKX07aWYoKGk9aS5wcmV2aW91cygpKSYmaS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmkuaXMoXCJiclwiKSlicmVha31pPXRoaXMuY2xvbmUoKTtpLmNvbGxhcHNlKCk7aS5zZXRFbmRBdChkLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO2k9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoaSk7aS5ndWFyZD1hPT1DS0VESVRPUi5FTkxBUkdFX0xJU1RfSVRFTV9DT05URU5UUz9jOkk7dj1udWxsO2k9aS5sYXN0Rm9yd2FyZCgpO3Y9dnx8ZDt0aGlzLnNldEVuZEF0KHYsIWkmJnRoaXMuY2hlY2tFbmRPZkJsb2NrKCl8fGkmJlxudi5jb250YWlucyhpKT9DS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EOkNLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCk7dCYmdGhpcy5zZXRFbmRBZnRlcih0KX19LHNocmluazpmdW5jdGlvbihhLGIsYyl7aWYoIXRoaXMuY29sbGFwc2VkKXt2YXIgYT1hfHxDS0VESVRPUi5TSFJJTktfVEVYVCxqPXRoaXMuY2xvbmUoKSxkPXRoaXMuc3RhcnRDb250YWluZXIsZz10aGlzLmVuZENvbnRhaW5lcixmPXRoaXMuc3RhcnRPZmZzZXQsZT10aGlzLmVuZE9mZnNldCxrPTEsaD0xO2lmKGQmJmQudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUKWlmKGYpaWYoZj49ZC5nZXRMZW5ndGgoKSlqLnNldFN0YXJ0QWZ0ZXIoZCk7ZWxzZXtqLnNldFN0YXJ0QmVmb3JlKGQpO2s9MH1lbHNlIGouc2V0U3RhcnRCZWZvcmUoZCk7aWYoZyYmZy50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQpaWYoZSlpZihlPj1nLmdldExlbmd0aCgpKWouc2V0RW5kQWZ0ZXIoZyk7ZWxzZXtqLnNldEVuZEFmdGVyKGcpO1xuaD0wfWVsc2Ugai5zZXRFbmRCZWZvcmUoZyk7dmFyIGo9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoaiksbT1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKCk7ai5ldmFsdWF0b3I9ZnVuY3Rpb24oYil7cmV0dXJuIGIudHlwZT09KGE9PUNLRURJVE9SLlNIUklOS19FTEVNRU5UP0NLRURJVE9SLk5PREVfRUxFTUVOVDpDS0VESVRPUi5OT0RFX1RFWFQpfTt2YXIgcDtqLmd1YXJkPWZ1bmN0aW9uKGIsail7aWYobShiKSlyZXR1cm4gdHJ1ZTtpZihhPT1DS0VESVRPUi5TSFJJTktfRUxFTUVOVCYmYi50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFR8fGomJmIuZXF1YWxzKHApfHxjPT09ZmFsc2UmJmIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZiLmlzQmxvY2tCb3VuZGFyeSgpKXJldHVybiBmYWxzZTshaiYmYi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihwPWIpO3JldHVybiB0cnVlfTtpZihrKShkPWpbYT09Q0tFRElUT1IuU0hSSU5LX0VMRU1FTlQ/XCJsYXN0Rm9yd2FyZFwiOlxuXCJuZXh0XCJdKCkpJiZ0aGlzLnNldFN0YXJ0QXQoZCxiP0NLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUOkNLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCk7aWYoaCl7ai5yZXNldCgpOyhqPWpbYT09Q0tFRElUT1IuU0hSSU5LX0VMRU1FTlQ/XCJsYXN0QmFja3dhcmRcIjpcInByZXZpb3VzXCJdKCkpJiZ0aGlzLnNldEVuZEF0KGosYj9DS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EOkNLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCl9cmV0dXJuISghayYmIWgpfX0saW5zZXJ0Tm9kZTpmdW5jdGlvbihhKXt0aGlzLm9wdGltaXplQm9va21hcmsoKTt0aGlzLnRyaW0oZmFsc2UsdHJ1ZSk7dmFyIGI9dGhpcy5zdGFydENvbnRhaW5lcixjPWIuZ2V0Q2hpbGQodGhpcy5zdGFydE9mZnNldCk7Yz9hLmluc2VydEJlZm9yZShjKTpiLmFwcGVuZChhKTthLmdldFBhcmVudCgpJiZhLmdldFBhcmVudCgpLmVxdWFscyh0aGlzLmVuZENvbnRhaW5lcikmJnRoaXMuZW5kT2Zmc2V0Kys7dGhpcy5zZXRTdGFydEJlZm9yZShhKX0sXG5tb3ZlVG9Qb3NpdGlvbjpmdW5jdGlvbihhLGIpe3RoaXMuc2V0U3RhcnRBdChhLGIpO3RoaXMuY29sbGFwc2UodHJ1ZSl9LG1vdmVUb1JhbmdlOmZ1bmN0aW9uKGEpe3RoaXMuc2V0U3RhcnQoYS5zdGFydENvbnRhaW5lcixhLnN0YXJ0T2Zmc2V0KTt0aGlzLnNldEVuZChhLmVuZENvbnRhaW5lcixhLmVuZE9mZnNldCl9LHNlbGVjdE5vZGVDb250ZW50czpmdW5jdGlvbihhKXt0aGlzLnNldFN0YXJ0KGEsMCk7dGhpcy5zZXRFbmQoYSxhLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVD9hLmdldExlbmd0aCgpOmEuZ2V0Q2hpbGRDb3VudCgpKX0sc2V0U3RhcnQ6ZnVuY3Rpb24oYSxiKXtpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmQ0tFRElUT1IuZHRkLiRlbXB0eVthLmdldE5hbWUoKV0pe2I9YS5nZXRJbmRleCgpO2E9YS5nZXRQYXJlbnQoKX10aGlzLnN0YXJ0Q29udGFpbmVyPWE7dGhpcy5zdGFydE9mZnNldD1iO2lmKCF0aGlzLmVuZENvbnRhaW5lcil7dGhpcy5lbmRDb250YWluZXI9XG5hO3RoaXMuZW5kT2Zmc2V0PWJ9Zih0aGlzKX0sc2V0RW5kOmZ1bmN0aW9uKGEsYil7aWYoYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJkNLRURJVE9SLmR0ZC4kZW1wdHlbYS5nZXROYW1lKCldKXtiPWEuZ2V0SW5kZXgoKSsxO2E9YS5nZXRQYXJlbnQoKX10aGlzLmVuZENvbnRhaW5lcj1hO3RoaXMuZW5kT2Zmc2V0PWI7aWYoIXRoaXMuc3RhcnRDb250YWluZXIpe3RoaXMuc3RhcnRDb250YWluZXI9YTt0aGlzLnN0YXJ0T2Zmc2V0PWJ9Zih0aGlzKX0sc2V0U3RhcnRBZnRlcjpmdW5jdGlvbihhKXt0aGlzLnNldFN0YXJ0KGEuZ2V0UGFyZW50KCksYS5nZXRJbmRleCgpKzEpfSxzZXRTdGFydEJlZm9yZTpmdW5jdGlvbihhKXt0aGlzLnNldFN0YXJ0KGEuZ2V0UGFyZW50KCksYS5nZXRJbmRleCgpKX0sc2V0RW5kQWZ0ZXI6ZnVuY3Rpb24oYSl7dGhpcy5zZXRFbmQoYS5nZXRQYXJlbnQoKSxhLmdldEluZGV4KCkrMSl9LHNldEVuZEJlZm9yZTpmdW5jdGlvbihhKXt0aGlzLnNldEVuZChhLmdldFBhcmVudCgpLFxuYS5nZXRJbmRleCgpKX0sc2V0U3RhcnRBdDpmdW5jdGlvbihhLGIpe3N3aXRjaChiKXtjYXNlIENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUOnRoaXMuc2V0U3RhcnQoYSwwKTticmVhaztjYXNlIENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQ6YS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQ/dGhpcy5zZXRTdGFydChhLGEuZ2V0TGVuZ3RoKCkpOnRoaXMuc2V0U3RhcnQoYSxhLmdldENoaWxkQ291bnQoKSk7YnJlYWs7Y2FzZSBDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQ6dGhpcy5zZXRTdGFydEJlZm9yZShhKTticmVhaztjYXNlIENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORDp0aGlzLnNldFN0YXJ0QWZ0ZXIoYSl9Zih0aGlzKX0sc2V0RW5kQXQ6ZnVuY3Rpb24oYSxiKXtzd2l0Y2goYil7Y2FzZSBDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVDp0aGlzLnNldEVuZChhLDApO2JyZWFrO2Nhc2UgQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORDphLnR5cGU9PVxuQ0tFRElUT1IuTk9ERV9URVhUP3RoaXMuc2V0RW5kKGEsYS5nZXRMZW5ndGgoKSk6dGhpcy5zZXRFbmQoYSxhLmdldENoaWxkQ291bnQoKSk7YnJlYWs7Y2FzZSBDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQ6dGhpcy5zZXRFbmRCZWZvcmUoYSk7YnJlYWs7Y2FzZSBDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQ6dGhpcy5zZXRFbmRBZnRlcihhKX1mKHRoaXMpfSxmaXhCbG9jazpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuY3JlYXRlQm9va21hcmsoKSxqPXRoaXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChiKTt0aGlzLmNvbGxhcHNlKGEpO3RoaXMuZW5sYXJnZShDS0VESVRPUi5FTkxBUkdFX0JMT0NLX0NPTlRFTlRTKTt0aGlzLmV4dHJhY3RDb250ZW50cygpLmFwcGVuZFRvKGopO2oudHJpbSgpO0NLRURJVE9SLmVudi5pZXx8ai5hcHBlbmRCb2d1cygpO3RoaXMuaW5zZXJ0Tm9kZShqKTt0aGlzLm1vdmVUb0Jvb2ttYXJrKGMpO3JldHVybiBqfSxzcGxpdEJsb2NrOmZ1bmN0aW9uKGEpe3ZhciBiPVxubmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aCh0aGlzLnN0YXJ0Q29udGFpbmVyLHRoaXMucm9vdCksYz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHRoaXMuZW5kQ29udGFpbmVyLHRoaXMucm9vdCksaj1iLmJsb2NrLGQ9Yy5ibG9jayxnPW51bGw7aWYoIWIuYmxvY2tMaW1pdC5lcXVhbHMoYy5ibG9ja0xpbWl0KSlyZXR1cm4gbnVsbDtpZihhIT1cImJyXCIpe2lmKCFqKXtqPXRoaXMuZml4QmxvY2sodHJ1ZSxhKTtkPShuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHRoaXMuZW5kQ29udGFpbmVyLHRoaXMucm9vdCkpLmJsb2NrfWR8fChkPXRoaXMuZml4QmxvY2soZmFsc2UsYSkpfWE9aiYmdGhpcy5jaGVja1N0YXJ0T2ZCbG9jaygpO2I9ZCYmdGhpcy5jaGVja0VuZE9mQmxvY2soKTt0aGlzLmRlbGV0ZUNvbnRlbnRzKCk7aWYoaiYmai5lcXVhbHMoZCkpaWYoYil7Zz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHRoaXMuc3RhcnRDb250YWluZXIsdGhpcy5yb290KTtcbnRoaXMubW92ZVRvUG9zaXRpb24oZCxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpO2Q9bnVsbH1lbHNlIGlmKGEpe2c9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aCh0aGlzLnN0YXJ0Q29udGFpbmVyLHRoaXMucm9vdCk7dGhpcy5tb3ZlVG9Qb3NpdGlvbihqLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCk7aj1udWxsfWVsc2V7ZD10aGlzLnNwbGl0RWxlbWVudChqKTshQ0tFRElUT1IuZW52LmllJiYhai5pcyhcInVsXCIsXCJvbFwiKSYmai5hcHBlbmRCb2d1cygpfXJldHVybntwcmV2aW91c0Jsb2NrOmosbmV4dEJsb2NrOmQsd2FzU3RhcnRPZkJsb2NrOmEsd2FzRW5kT2ZCbG9jazpiLGVsZW1lbnRQYXRoOmd9fSxzcGxpdEVsZW1lbnQ6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuY29sbGFwc2VkKXJldHVybiBudWxsO3RoaXMuc2V0RW5kQXQoYSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTt2YXIgYj10aGlzLmV4dHJhY3RDb250ZW50cygpLGM9YS5jbG9uZShmYWxzZSk7XG5iLmFwcGVuZFRvKGMpO2MuaW5zZXJ0QWZ0ZXIoYSk7dGhpcy5tb3ZlVG9Qb3NpdGlvbihhLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCk7cmV0dXJuIGN9LHJlbW92ZUVtcHR5QmxvY2tzQXRFbmQ6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGope3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gYihhKXx8KGMoYSl8fGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmlzRW1wdHlJbmxpbmVSZW1vdmVhYmxlKCkpfHxqLmlzKFwidGFibGVcIikmJmEuaXMoXCJjYXB0aW9uXCIpP2ZhbHNlOnRydWV9fXZhciBiPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoKSxjPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoZmFsc2UpO3JldHVybiBmdW5jdGlvbihiKXtmb3IodmFyIGM9dGhpcy5jcmVhdGVCb29rbWFyaygpLGw9dGhpc1tiP1wiZW5kUGF0aFwiOlwic3RhcnRQYXRoXCJdKCksZD1sLmJsb2NrfHxsLmJsb2NrTGltaXQsbztkJiYhZC5lcXVhbHMobC5yb290KSYmIWQuZ2V0Rmlyc3QoYShkKSk7KXtvPVxuZC5nZXRQYXJlbnQoKTt0aGlzW2I/XCJzZXRFbmRBdFwiOlwic2V0U3RhcnRBdFwiXShkLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCk7ZC5yZW1vdmUoMSk7ZD1vfXRoaXMubW92ZVRvQm9va21hcmsoYyl9fSgpLHN0YXJ0UGF0aDpmdW5jdGlvbigpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHRoaXMuc3RhcnRDb250YWluZXIsdGhpcy5yb290KX0sZW5kUGF0aDpmdW5jdGlvbigpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHRoaXMuZW5kQ29udGFpbmVyLHRoaXMucm9vdCl9LGNoZWNrQm91bmRhcnlPZkVsZW1lbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgbD1iPT1DS0VESVRPUi5TVEFSVCxkPXRoaXMuY2xvbmUoKTtkLmNvbGxhcHNlKGwpO2RbbD9cInNldFN0YXJ0QXRcIjpcInNldEVuZEF0XCJdKGEsbD9DS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVDpDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtkPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGQpO1xuZC5ldmFsdWF0b3I9YyhsKTtyZXR1cm4gZFtsP1wiY2hlY2tCYWNrd2FyZFwiOlwiY2hlY2tGb3J3YXJkXCJdKCl9LGNoZWNrU3RhcnRPZkJsb2NrOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zdGFydENvbnRhaW5lcixjPXRoaXMuc3RhcnRPZmZzZXQ7aWYoQ0tFRElUT1IuZW52LmllJiZjJiZhLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCl7YT1DS0VESVRPUi50b29scy5sdHJpbShhLnN1YnN0cmluZygwLGMpKTttLnRlc3QoYSkmJnRoaXMudHJpbSgwLDEpfXRoaXMudHJpbSgpO2E9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aCh0aGlzLnN0YXJ0Q29udGFpbmVyLHRoaXMucm9vdCk7Yz10aGlzLmNsb25lKCk7Yy5jb2xsYXBzZSh0cnVlKTtjLnNldFN0YXJ0QXQoYS5ibG9ja3x8YS5ibG9ja0xpbWl0LENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKTthPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGMpO2EuZXZhbHVhdG9yPWIoKTtyZXR1cm4gYS5jaGVja0JhY2t3YXJkKCl9LGNoZWNrRW5kT2ZCbG9jazpmdW5jdGlvbigpe3ZhciBhPVxudGhpcy5lbmRDb250YWluZXIsYz10aGlzLmVuZE9mZnNldDtpZihDS0VESVRPUi5lbnYuaWUmJmEudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUKXthPUNLRURJVE9SLnRvb2xzLnJ0cmltKGEuc3Vic3RyaW5nKGMpKTttLnRlc3QoYSkmJnRoaXMudHJpbSgxLDApfXRoaXMudHJpbSgpO2E9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aCh0aGlzLmVuZENvbnRhaW5lcix0aGlzLnJvb3QpO2M9dGhpcy5jbG9uZSgpO2MuY29sbGFwc2UoZmFsc2UpO2Muc2V0RW5kQXQoYS5ibG9ja3x8YS5ibG9ja0xpbWl0LENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO2E9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoYyk7YS5ldmFsdWF0b3I9YigpO3JldHVybiBhLmNoZWNrRm9yd2FyZCgpfSxnZXRQcmV2aW91c05vZGU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuY2xvbmUoKTtkLmNvbGxhcHNlKDEpO2Quc2V0U3RhcnRBdChjfHx0aGlzLnJvb3QsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpO1xuYz1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihkKTtjLmV2YWx1YXRvcj1hO2MuZ3VhcmQ9YjtyZXR1cm4gYy5wcmV2aW91cygpfSxnZXROZXh0Tm9kZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5jbG9uZSgpO2QuY29sbGFwc2UoKTtkLnNldEVuZEF0KGN8fHRoaXMucm9vdCxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtjPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGQpO2MuZXZhbHVhdG9yPWE7Yy5ndWFyZD1iO3JldHVybiBjLm5leHQoKX0sY2hlY2tSZWFkT25seTpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYixjKXtmb3IoO2I7KXtpZihiLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCl7aWYoYi5nZXRBdHRyaWJ1dGUoXCJjb250ZW50RWRpdGFibGVcIik9PVwiZmFsc2VcIiYmIWIuZGF0YShcImNrZS1lZGl0YWJsZVwiKSlyZXR1cm4gMDtpZihiLmlzKFwiaHRtbFwiKXx8Yi5nZXRBdHRyaWJ1dGUoXCJjb250ZW50RWRpdGFibGVcIik9PVwidHJ1ZVwiJiYoYi5jb250YWlucyhjKXx8Yi5lcXVhbHMoYykpKWJyZWFrfWI9XG5iLmdldFBhcmVudCgpfXJldHVybiAxfXJldHVybiBmdW5jdGlvbigpe3ZhciBiPXRoaXMuc3RhcnRDb250YWluZXIsYz10aGlzLmVuZENvbnRhaW5lcjtyZXR1cm4hKGEoYixjKSYmYShjLGIpKX19KCksbW92ZVRvRWxlbWVudEVkaXRhYmxlUG9zaXRpb246ZnVuY3Rpb24oYixjKXtpZihiLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmIWIuaXNFZGl0YWJsZShmYWxzZSkpe3RoaXMubW92ZVRvUG9zaXRpb24oYixjP0NLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORDpDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpO3JldHVybiB0cnVlfWZvcih2YXIgbD0wO2I7KXtpZihiLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCl7YyYmdGhpcy5jaGVja0VuZE9mQmxvY2soKSYmbS50ZXN0KGIuZ2V0VGV4dCgpKT90aGlzLm1vdmVUb1Bvc2l0aW9uKGIsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKTp0aGlzLm1vdmVUb1Bvc2l0aW9uKGIsYz9DS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQ6XG5DS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpO2w9MTticmVha31pZihiLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVClpZihiLmlzRWRpdGFibGUoKSl7dGhpcy5tb3ZlVG9Qb3NpdGlvbihiLGM/Q0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORDpDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCk7bD0xfWVsc2UgYyYmKGIuaXMoXCJiclwiKSYmdGhpcy5jaGVja0VuZE9mQmxvY2soKSkmJnRoaXMubW92ZVRvUG9zaXRpb24oYixDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpO3ZhciBkPWIsZz1sLGY9dm9pZCAwO2QudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZkLmlzRWRpdGFibGUoZmFsc2UpJiYoZj1kW2M/XCJnZXRMYXN0XCI6XCJnZXRGaXJzdFwiXShhKSk7IWcmJiFmJiYoZj1kW2M/XCJnZXRQcmV2aW91c1wiOlwiZ2V0TmV4dFwiXShhKSk7Yj1mfXJldHVybiEhbH0sbW92ZVRvRWxlbWVudEVkaXRTdGFydDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5tb3ZlVG9FbGVtZW50RWRpdGFibGVQb3NpdGlvbihhKX0sXG5tb3ZlVG9FbGVtZW50RWRpdEVuZDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5tb3ZlVG9FbGVtZW50RWRpdGFibGVQb3NpdGlvbihhLHRydWUpfSxnZXRFbmNsb3NlZE5vZGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNsb25lKCk7YS5vcHRpbWl6ZSgpO2lmKGEuc3RhcnRDb250YWluZXIudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHxhLmVuZENvbnRhaW5lci50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpcmV0dXJuIG51bGw7dmFyIGE9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoYSksYj1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKGZhbHNlLHRydWUpLGM9Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcyh0cnVlKTthLmV2YWx1YXRvcj1mdW5jdGlvbihhKXtyZXR1cm4gYyhhKSYmYihhKX07dmFyIGQ9YS5uZXh0KCk7YS5yZXNldCgpO3JldHVybiBkJiZkLmVxdWFscyhhLnByZXZpb3VzKCkpP2Q6bnVsbH0sZ2V0VG91Y2hlZFN0YXJ0Tm9kZTpmdW5jdGlvbigpe3ZhciBhPVxudGhpcy5zdGFydENvbnRhaW5lcjtyZXR1cm4gdGhpcy5jb2xsYXBzZWR8fGEudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UP2E6YS5nZXRDaGlsZCh0aGlzLnN0YXJ0T2Zmc2V0KXx8YX0sZ2V0VG91Y2hlZEVuZE5vZGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVuZENvbnRhaW5lcjtyZXR1cm4gdGhpcy5jb2xsYXBzZWR8fGEudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UP2E6YS5nZXRDaGlsZCh0aGlzLmVuZE9mZnNldC0xKXx8YX0sc2Nyb2xsSW50b1ZpZXc6ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoXCI8c3Bhbj4mbmJzcDs8L3NwYW4+XCIsdGhpcy5kb2N1bWVudCksYixjLGQsZz10aGlzLmNsb25lKCk7Zy5vcHRpbWl6ZSgpO2lmKGQ9Zy5zdGFydENvbnRhaW5lci50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQpe2M9Zy5zdGFydENvbnRhaW5lci5nZXRUZXh0KCk7Yj1nLnN0YXJ0Q29udGFpbmVyLnNwbGl0KGcuc3RhcnRPZmZzZXQpO1xuYS5pbnNlcnRBZnRlcihnLnN0YXJ0Q29udGFpbmVyKX1lbHNlIGcuaW5zZXJ0Tm9kZShhKTthLnNjcm9sbEludG9WaWV3KCk7aWYoZCl7Zy5zdGFydENvbnRhaW5lci5zZXRUZXh0KGMpO2IucmVtb3ZlKCl9YS5yZW1vdmUoKX19fSkoKTtDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVD0xO0NLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQ9MjtDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQ9MztDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQ9NDtDS0VESVRPUi5FTkxBUkdFX0VMRU1FTlQ9MTtDS0VESVRPUi5FTkxBUkdFX0JMT0NLX0NPTlRFTlRTPTI7Q0tFRElUT1IuRU5MQVJHRV9MSVNUX0lURU1fQ09OVEVOVFM9MztDS0VESVRPUi5FTkxBUkdFX0lOTElORT00O0NLRURJVE9SLlNUQVJUPTE7Q0tFRElUT1IuRU5EPTI7Q0tFRElUT1IuU0hSSU5LX0VMRU1FTlQ9MTtDS0VESVRPUi5TSFJJTktfVEVYVD0yO1xuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihhKXtpZighKGFyZ3VtZW50cy5sZW5ndGg8MSkpe3RoaXMucmFuZ2U9YTt0aGlzLmZvcmNlQnJCcmVhaz0wO3RoaXMuZW5sYXJnZUJyPTE7dGhpcy5lbmZvcmNlUmVhbEJsb2Nrcz0wO3RoaXMuX3x8KHRoaXMuXz17fSl9fWZ1bmN0aW9uIGMoYSxiLGMpe2ZvcihhPWEuZ2V0TmV4dFNvdXJjZU5vZGUoYixudWxsLGMpOyFmKGEpOylhPWEuZ2V0TmV4dFNvdXJjZU5vZGUoYixudWxsLGMpO3JldHVybiBhfXZhciBhPS9eW1xcclxcblxcdCBdKyQvLGY9Q0tFRElUT1IuZG9tLndhbGtlci5ib29rbWFyayhmYWxzZSx0cnVlKSxlPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXModHJ1ZSksZD1mdW5jdGlvbihhKXtyZXR1cm4gZihhKSYmZShhKX07Yi5wcm90b3R5cGU9e2dldE5leHRQYXJhZ3JhcGg6ZnVuY3Rpb24oYil7Yj1ifHxcInBcIjtpZighQ0tFRElUT1IuZHRkW3RoaXMucmFuZ2Uucm9vdC5nZXROYW1lKCldW2JdKXJldHVybiBudWxsO3ZhciBlLFxuaCxtLG4sbyxsO2lmKCF0aGlzLl8uc3RhcnRlZCl7aD10aGlzLnJhbmdlLmNsb25lKCk7aC5zaHJpbmsoQ0tFRElUT1IuTk9ERV9FTEVNRU5ULHRydWUpO249aC5lbmRDb250YWluZXIuaGFzQXNjZW5kYW50KFwicHJlXCIsdHJ1ZSl8fGguc3RhcnRDb250YWluZXIuaGFzQXNjZW5kYW50KFwicHJlXCIsdHJ1ZSk7aC5lbmxhcmdlKHRoaXMuZm9yY2VCckJyZWFrJiYhbnx8IXRoaXMuZW5sYXJnZUJyP0NLRURJVE9SLkVOTEFSR0VfTElTVF9JVEVNX0NPTlRFTlRTOkNLRURJVE9SLkVOTEFSR0VfQkxPQ0tfQ09OVEVOVFMpO2lmKCFoLmNvbGxhcHNlZCl7bj1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihoLmNsb25lKCkpO3ZhciBqPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsodHJ1ZSx0cnVlKTtuLmV2YWx1YXRvcj1qO3RoaXMuXy5uZXh0Tm9kZT1uLm5leHQoKTtuPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGguY2xvbmUoKSk7bi5ldmFsdWF0b3I9ajtuPW4ucHJldmlvdXMoKTt0aGlzLl8ubGFzdE5vZGU9XG5uLmdldE5leHRTb3VyY2VOb2RlKHRydWUpO2lmKHRoaXMuXy5sYXN0Tm9kZSYmdGhpcy5fLmxhc3ROb2RlLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmIUNLRURJVE9SLnRvb2xzLnRyaW0odGhpcy5fLmxhc3ROb2RlLmdldFRleHQoKSkmJnRoaXMuXy5sYXN0Tm9kZS5nZXRQYXJlbnQoKS5pc0Jsb2NrQm91bmRhcnkoKSl7aj10aGlzLnJhbmdlLmNsb25lKCk7ai5tb3ZlVG9Qb3NpdGlvbih0aGlzLl8ubGFzdE5vZGUsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKTtpZihqLmNoZWNrRW5kT2ZCbG9jaygpKXtqPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoai5lbmRDb250YWluZXIsai5yb290KTt0aGlzLl8ubGFzdE5vZGU9KGouYmxvY2t8fGouYmxvY2tMaW1pdCkuZ2V0TmV4dFNvdXJjZU5vZGUodHJ1ZSl9fWlmKCF0aGlzLl8ubGFzdE5vZGUpe3RoaXMuXy5sYXN0Tm9kZT10aGlzLl8uZG9jRW5kTWFya2VyPWguZG9jdW1lbnQuY3JlYXRlVGV4dChcIlwiKTt0aGlzLl8ubGFzdE5vZGUuaW5zZXJ0QWZ0ZXIobil9aD1cbm51bGx9dGhpcy5fLnN0YXJ0ZWQ9MX1qPXRoaXMuXy5uZXh0Tm9kZTtuPXRoaXMuXy5sYXN0Tm9kZTtmb3IodGhpcy5fLm5leHROb2RlPW51bGw7ajspe3ZhciBxPTAseT1qLmhhc0FzY2VuZGFudChcInByZVwiKSx6PWoudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5ULGk9MDtpZih6KWoudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiZhLnRlc3Qoai5nZXRUZXh0KCkpJiYoej0wKTtlbHNle3ZhciBzPWouZ2V0TmFtZSgpO2lmKGouaXNCbG9ja0JvdW5kYXJ5KHRoaXMuZm9yY2VCckJyZWFrJiYheSYme2JyOjF9KSl7aWYocz09XCJiclwiKXo9MTtlbHNlIGlmKCFoJiYhai5nZXRDaGlsZENvdW50KCkmJnMhPVwiaHJcIil7ZT1qO209ai5lcXVhbHMobik7YnJlYWt9aWYoaCl7aC5zZXRFbmRBdChqLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCk7aWYocyE9XCJiclwiKXRoaXMuXy5uZXh0Tm9kZT1qfXE9MX1lbHNle2lmKGouZ2V0Rmlyc3QoKSl7aWYoIWgpe2g9dGhpcy5yYW5nZS5jbG9uZSgpO1xuaC5zZXRTdGFydEF0KGosQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKX1qPWouZ2V0Rmlyc3QoKTtjb250aW51ZX16PTF9fWlmKHomJiFoKXtoPXRoaXMucmFuZ2UuY2xvbmUoKTtoLnNldFN0YXJ0QXQoaixDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpfW09KCFxfHx6KSYmai5lcXVhbHMobik7aWYoaCYmIXEpZm9yKDshai5nZXROZXh0KGQpJiYhbTspe3M9ai5nZXRQYXJlbnQoKTtpZihzLmlzQmxvY2tCb3VuZGFyeSh0aGlzLmZvcmNlQnJCcmVhayYmIXkmJnticjoxfSkpe3E9MTt6PTA7bXx8cy5lcXVhbHMobik7aC5zZXRFbmRBdChzLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO2JyZWFrfWo9czt6PTE7bT1qLmVxdWFscyhuKTtpPTF9eiYmaC5zZXRFbmRBdChqLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCk7aj1jKGosaSxuKTtpZigobT0hail8fHEmJmgpYnJlYWt9aWYoIWUpe2lmKCFoKXt0aGlzLl8uZG9jRW5kTWFya2VyJiZ0aGlzLl8uZG9jRW5kTWFya2VyLnJlbW92ZSgpO1xucmV0dXJuIHRoaXMuXy5uZXh0Tm9kZT1udWxsfWU9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChoLnN0YXJ0Q29udGFpbmVyLGgucm9vdCk7aj1lLmJsb2NrTGltaXQ7cT17ZGl2OjEsdGg6MSx0ZDoxfTtlPWUuYmxvY2s7aWYoIWUmJmomJiF0aGlzLmVuZm9yY2VSZWFsQmxvY2tzJiZxW2ouZ2V0TmFtZSgpXSYmaC5jaGVja1N0YXJ0T2ZCbG9jaygpJiZoLmNoZWNrRW5kT2ZCbG9jaygpJiYhai5lcXVhbHMoaC5yb290KSllPWo7ZWxzZSBpZighZXx8dGhpcy5lbmZvcmNlUmVhbEJsb2NrcyYmZS5nZXROYW1lKCk9PVwibGlcIil7ZT10aGlzLnJhbmdlLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYik7aC5leHRyYWN0Q29udGVudHMoKS5hcHBlbmRUbyhlKTtlLnRyaW0oKTtoLmluc2VydE5vZGUoZSk7bz1sPXRydWV9ZWxzZSBpZihlLmdldE5hbWUoKSE9XCJsaVwiKXtpZighaC5jaGVja1N0YXJ0T2ZCbG9jaygpfHwhaC5jaGVja0VuZE9mQmxvY2soKSl7ZT1lLmNsb25lKGZhbHNlKTtoLmV4dHJhY3RDb250ZW50cygpLmFwcGVuZFRvKGUpO1xuZS50cmltKCk7bD1oLnNwbGl0QmxvY2soKTtvPSFsLndhc1N0YXJ0T2ZCbG9jaztsPSFsLndhc0VuZE9mQmxvY2s7aC5pbnNlcnROb2RlKGUpfX1lbHNlIGlmKCFtKXRoaXMuXy5uZXh0Tm9kZT1lLmVxdWFscyhuKT9udWxsOmMoaC5nZXRCb3VuZGFyeU5vZGVzKCkuZW5kTm9kZSwxLG4pfWlmKG8pKGg9ZS5nZXRQcmV2aW91cygpKSYmaC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihoLmdldE5hbWUoKT09XCJiclwiP2gucmVtb3ZlKCk6aC5nZXRMYXN0KCkmJmguZ2V0TGFzdCgpLiQubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09XCJiclwiJiZoLmdldExhc3QoKS5yZW1vdmUoKSk7aWYobCkoaD1lLmdldExhc3QoKSkmJmgudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZoLmdldE5hbWUoKT09XCJiclwiJiYoQ0tFRElUT1IuZW52LmllfHxoLmdldFByZXZpb3VzKGYpfHxoLmdldE5leHQoZikpJiZoLnJlbW92ZSgpO2lmKCF0aGlzLl8ubmV4dE5vZGUpdGhpcy5fLm5leHROb2RlPW18fFxuZS5lcXVhbHMobil8fCFuP251bGw6YyhlLDEsbik7cmV0dXJuIGV9fTtDS0VESVRPUi5kb20ucmFuZ2UucHJvdG90eXBlLmNyZWF0ZUl0ZXJhdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBiKHRoaXMpfX0pKCk7XG5DS0VESVRPUi5jb21tYW5kPWZ1bmN0aW9uKGIsYyl7dGhpcy51aUl0ZW1zPVtdO3RoaXMuZXhlYz1mdW5jdGlvbihhKXtpZih0aGlzLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRClyZXR1cm4gZmFsc2U7dGhpcy5lZGl0b3JGb2N1cyYmYi5mb2N1cygpO3JldHVybiB0aGlzLmZpcmUoXCJleGVjXCIpPT09ZmFsc2U/dHJ1ZTpjLmV4ZWMuY2FsbCh0aGlzLGIsYSkhPT1mYWxzZX07dGhpcy5yZWZyZXNoPWZ1bmN0aW9uKGEsYil7aWYoIXRoaXMucmVhZE9ubHkmJmEucmVhZE9ubHkpcmV0dXJuIHRydWU7aWYodGhpcy5jb250ZXh0JiYhYi5pc0NvbnRleHRGb3IodGhpcy5jb250ZXh0KSl7dGhpcy5kaXNhYmxlKCk7cmV0dXJuIHRydWV9dGhpcy5lbmFibGUoKTtyZXR1cm4gdGhpcy5maXJlKFwicmVmcmVzaFwiLHtlZGl0b3I6YSxwYXRoOmJ9KT09PWZhbHNlP3RydWU6Yy5yZWZyZXNoJiZjLnJlZnJlc2guYXBwbHkodGhpcyxhcmd1bWVudHMpIT09ZmFsc2V9O0NLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLFxuYyx7bW9kZXM6e3d5c2l3eWc6MX0sZWRpdG9yRm9jdXM6MSxjb250ZXh0U2Vuc2l0aXZlOiEhYy5jb250ZXh0LHN0YXRlOkNLRURJVE9SLlRSSVNUQVRFX09GRn0pO0NLRURJVE9SLmV2ZW50LmNhbGwodGhpcyl9O1xuQ0tFRElUT1IuY29tbWFuZC5wcm90b3R5cGU9e2VuYWJsZTpmdW5jdGlvbigpe3RoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEJiZ0aGlzLnNldFN0YXRlKCF0aGlzLnByZXNlcnZlU3RhdGV8fHR5cGVvZiB0aGlzLnByZXZpb3VzU3RhdGU9PVwidW5kZWZpbmVkXCI/Q0tFRElUT1IuVFJJU1RBVEVfT0ZGOnRoaXMucHJldmlvdXNTdGF0ZSl9LGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKX0sc2V0U3RhdGU6ZnVuY3Rpb24oYil7aWYodGhpcy5zdGF0ZT09YilyZXR1cm4gZmFsc2U7dGhpcy5wcmV2aW91c1N0YXRlPXRoaXMuc3RhdGU7dGhpcy5zdGF0ZT1iO3RoaXMuZmlyZShcInN0YXRlXCIpO3JldHVybiB0cnVlfSx0b2dnbGVTdGF0ZTpmdW5jdGlvbigpe3RoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX09GRj90aGlzLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX09OKTp0aGlzLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9PTiYmXG50aGlzLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX09GRil9fTtDS0VESVRPUi5ldmVudC5pbXBsZW1lbnRPbihDS0VESVRPUi5jb21tYW5kLnByb3RvdHlwZSk7Q0tFRElUT1IuRU5URVJfUD0xO0NLRURJVE9SLkVOVEVSX0JSPTI7Q0tFRElUT1IuRU5URVJfRElWPTM7XG5cbkNLRURJVE9SLmNvbmZpZz17Y3VzdG9tQ29uZmlnOkNLRURJVE9SLmJhc2VQYXRoK1wiL2NrZWRpdG9yLWNvbmZpZy5qc1wiLGF1dG9VcGRhdGVFbGVtZW50OiEwLGxhbmd1YWdlOlwiXCIsZGVmYXVsdExhbmd1YWdlOlwiZW5cIixjb250ZW50c0xhbmdEaXJlY3Rpb246XCJcIixlbnRlck1vZGU6Q0tFRElUT1IuRU5URVJfUCxmb3JjZUVudGVyTW9kZTohMSxzaGlmdEVudGVyTW9kZTpDS0VESVRPUi5FTlRFUl9CUixkb2NUeXBlOlwiPCFET0NUWVBFIGh0bWw+XCIsYm9keUlkOlwiXCIsYm9keUNsYXNzOlwiXCIsZnVsbFBhZ2U6ITEsaGVpZ2h0OjIwMCxleHRyYVBsdWdpbnM6XCJcIixyZW1vdmVQbHVnaW5zOlwiXCIscHJvdGVjdGVkU291cmNlOltdLHRhYkluZGV4OjAsd2lkdGg6XCJcIixiYXNlRmxvYXRaSW5kZXg6MUU0LGJsb2NrZWRLZXlzdHJva2VzOltDS0VESVRPUi5DVFJMKzY2LENLRURJVE9SLkNUUkwrNzMsQ0tFRElUT1IuQ1RSTCs4NV19O1xuKGZ1bmN0aW9uKCl7Q0tFRElUT1IuZm9jdXNNYW5hZ2VyPWZ1bmN0aW9uKGIpe2lmKGIuZm9jdXNNYW5hZ2VyKXJldHVybiBiLmZvY3VzTWFuYWdlcjt0aGlzLmhhc0ZvY3VzPWZhbHNlO3RoaXMuY3VycmVudEFjdGl2ZT1udWxsO3RoaXMuXz17ZWRpdG9yOmJ9O3JldHVybiB0aGlzfTtDS0VESVRPUi5mb2N1c01hbmFnZXIuXz17Ymx1ckRlbGF5OjIwMH07Q0tFRElUT1IuZm9jdXNNYW5hZ2VyLnByb3RvdHlwZT17Zm9jdXM6ZnVuY3Rpb24oKXt0aGlzLl8udGltZXImJmNsZWFyVGltZW91dCh0aGlzLl8udGltZXIpO2lmKCF0aGlzLmhhc0ZvY3VzJiYhdGhpcy5fLmxvY2tlZCl7dmFyIGI9Q0tFRElUT1IuY3VycmVudEluc3RhbmNlO2ImJmIuZm9jdXNNYW5hZ2VyLmJsdXIoMSk7dGhpcy5oYXNGb2N1cz10cnVlOyhiPXRoaXMuXy5lZGl0b3IuY29udGFpbmVyKSYmYi5hZGRDbGFzcyhcImNrZV9mb2N1c1wiKTt0aGlzLl8uZWRpdG9yLmZpcmUoXCJmb2N1c1wiKX19LGxvY2s6ZnVuY3Rpb24oKXt0aGlzLl8ubG9ja2VkPVxuMX0sdW5sb2NrOmZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuXy5sb2NrZWR9LGJsdXI6ZnVuY3Rpb24oYil7ZnVuY3Rpb24gYygpe2lmKHRoaXMuaGFzRm9jdXMpe3RoaXMuaGFzRm9jdXM9ZmFsc2U7dmFyIGE9dGhpcy5fLmVkaXRvci5jb250YWluZXI7YSYmYS5yZW1vdmVDbGFzcyhcImNrZV9mb2N1c1wiKTt0aGlzLl8uZWRpdG9yLmZpcmUoXCJibHVyXCIpfX1pZighdGhpcy5fLmxvY2tlZCl7dGhpcy5fLnRpbWVyJiZjbGVhclRpbWVvdXQodGhpcy5fLnRpbWVyKTt2YXIgYT1DS0VESVRPUi5mb2N1c01hbmFnZXIuXy5ibHVyRGVsYXk7Ynx8IWE/Yy5jYWxsKHRoaXMpOnRoaXMuXy50aW1lcj1DS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuXy50aW1lcjtjLmNhbGwodGhpcyl9LGEsdGhpcyl9fSxhZGQ6ZnVuY3Rpb24oYixjKXt2YXIgYT1iLmdldEN1c3RvbURhdGEoXCJmb2N1c21hbmFnZXJcIik7aWYoIWF8fGEhPXRoaXMpe2EmJmEucmVtb3ZlKGIpO3ZhciBhPVxuXCJmb2N1c1wiLGY9XCJibHVyXCI7aWYoYylpZihDS0VESVRPUi5lbnYuaWUpe2E9XCJmb2N1c2luXCI7Zj1cImZvY3Vzb3V0XCJ9ZWxzZSBDS0VESVRPUi5ldmVudC51c2VDYXB0dXJlPTE7dmFyIGU9e2JsdXI6ZnVuY3Rpb24oKXtiLmVxdWFscyh0aGlzLmN1cnJlbnRBY3RpdmUpJiZ0aGlzLmJsdXIoKX0sZm9jdXM6ZnVuY3Rpb24oKXt0aGlzLmN1cnJlbnRBY3RpdmU9Yjt0aGlzLmZvY3VzKCl9fTtiLm9uKGEsZS5mb2N1cyx0aGlzKTtiLm9uKGYsZS5ibHVyLHRoaXMpO2lmKGMpQ0tFRElUT1IuZXZlbnQudXNlQ2FwdHVyZT0wO2Iuc2V0Q3VzdG9tRGF0YShcImZvY3VzbWFuYWdlclwiLHRoaXMpO2Iuc2V0Q3VzdG9tRGF0YShcImZvY3VzbWFuYWdlcl9oYW5kbGVyc1wiLGUpfX0scmVtb3ZlOmZ1bmN0aW9uKGIpe2IucmVtb3ZlQ3VzdG9tRGF0YShcImZvY3VzbWFuYWdlclwiKTt2YXIgYz1iLnJlbW92ZUN1c3RvbURhdGEoXCJmb2N1c21hbmFnZXJfaGFuZGxlcnNcIik7Yi5yZW1vdmVMaXN0ZW5lcihcImJsdXJcIixcbmMuYmx1cik7Yi5yZW1vdmVMaXN0ZW5lcihcImZvY3VzXCIsYy5mb2N1cyl9fX0pKCk7Q0tFRElUT1Iua2V5c3Ryb2tlSGFuZGxlcj1mdW5jdGlvbihiKXtpZihiLmtleXN0cm9rZUhhbmRsZXIpcmV0dXJuIGIua2V5c3Ryb2tlSGFuZGxlcjt0aGlzLmtleXN0cm9rZXM9e307dGhpcy5ibG9ja2VkS2V5c3Ryb2tlcz17fTt0aGlzLl89e2VkaXRvcjpifTtyZXR1cm4gdGhpc307XG4oZnVuY3Rpb24oKXt2YXIgYixjPWZ1bmN0aW9uKGEpe3ZhciBhPWEuZGF0YSxjPWEuZ2V0S2V5c3Ryb2tlKCksZD10aGlzLmtleXN0cm9rZXNbY10sZz10aGlzLl8uZWRpdG9yO2I9Zy5maXJlKFwia2V5XCIse2tleUNvZGU6Y30pPT09ZmFsc2U7aWYoIWIpe2QmJihiPWcuZXhlY0NvbW1hbmQoZCx7ZnJvbTpcImtleXN0cm9rZUhhbmRsZXJcIn0pIT09ZmFsc2UpO2J8fChiPSEhdGhpcy5ibG9ja2VkS2V5c3Ryb2tlc1tjXSl9YiYmYS5wcmV2ZW50RGVmYXVsdCh0cnVlKTtyZXR1cm4hYn0sYT1mdW5jdGlvbihhKXtpZihiKXtiPWZhbHNlO2EuZGF0YS5wcmV2ZW50RGVmYXVsdCh0cnVlKX19O0NLRURJVE9SLmtleXN0cm9rZUhhbmRsZXIucHJvdG90eXBlPXthdHRhY2g6ZnVuY3Rpb24oYil7Yi5vbihcImtleWRvd25cIixjLHRoaXMpO2lmKENLRURJVE9SLmVudi5vcGVyYXx8Q0tFRElUT1IuZW52LmdlY2tvJiZDS0VESVRPUi5lbnYubWFjKWIub24oXCJrZXlwcmVzc1wiLGEsdGhpcyl9fX0pKCk7XG4oZnVuY3Rpb24oKXtDS0VESVRPUi5sYW5nPXtsYW5ndWFnZXM6e2FmOjEsYXI6MSxiZzoxLGJuOjEsYnM6MSxjYToxLGNzOjEsY3k6MSxkYToxLGRlOjEsZWw6MSxcImVuLWF1XCI6MSxcImVuLWNhXCI6MSxcImVuLWdiXCI6MSxlbjoxLGVvOjEsZXM6MSxldDoxLGV1OjEsZmE6MSxmaToxLGZvOjEsXCJmci1jYVwiOjEsZnI6MSxnbDoxLGd1OjEsaGU6MSxoaToxLGhyOjEsaHU6MSxpczoxLGl0OjEsamE6MSxrYToxLGttOjEsa286MSxrdToxLGx0OjEsbHY6MSxtbjoxLG1zOjEsbmI6MSxubDoxLG5vOjEscGw6MSxcInB0LWJyXCI6MSxwdDoxLHJvOjEscnU6MSxzazoxLHNsOjEsXCJzci1sYXRuXCI6MSxzcjoxLHN2OjEsdGg6MSx0cjoxLHVrOjEsdmk6MSxcInpoLWNuXCI6MSx6aDoxfSxsb2FkOmZ1bmN0aW9uKGIsYyxhKXtpZighYnx8IUNLRURJVE9SLmxhbmcubGFuZ3VhZ2VzW2JdKWI9dGhpcy5kZXRlY3QoYyxiKTt0aGlzW2JdP2EoYix0aGlzW2JdKTpDS0VESVRPUi5zY3JpcHRMb2FkZXIubG9hZChDS0VESVRPUi5nZXRVcmwoXCJsYW5nL1wiK1xuYitcIi5qc1wiKSxmdW5jdGlvbigpe2EoYix0aGlzW2JdKX0sdGhpcyl9LGRldGVjdDpmdW5jdGlvbihiLGMpe3ZhciBhPXRoaXMubGFuZ3VhZ2VzLGM9Y3x8bmF2aWdhdG9yLnVzZXJMYW5ndWFnZXx8bmF2aWdhdG9yLmxhbmd1YWdlfHxiLGY9Yy50b0xvd2VyQ2FzZSgpLm1hdGNoKC8oW2Etel0rKSg/Oi0oW2Etel0rKSk/LyksZT1mWzFdLGY9ZlsyXTthW2UrXCItXCIrZl0/ZT1lK1wiLVwiK2Y6YVtlXXx8KGU9bnVsbCk7Q0tFRElUT1IubGFuZy5kZXRlY3Q9ZT9mdW5jdGlvbigpe3JldHVybiBlfTpmdW5jdGlvbihhKXtyZXR1cm4gYX07cmV0dXJuIGV8fGJ9fX0pKCk7XG5DS0VESVRPUi5zY3JpcHRMb2FkZXI9ZnVuY3Rpb24oKXt2YXIgYj17fSxjPXt9O3JldHVybntsb2FkOmZ1bmN0aW9uKGEsZixlLGQpe3ZhciBnPXR5cGVvZiBhPT1cInN0cmluZ1wiO2cmJihhPVthXSk7ZXx8KGU9Q0tFRElUT1IpO3ZhciBrPWEubGVuZ3RoLGg9W10sbT1bXSxuPWZ1bmN0aW9uKGEpe2YmJihnP2YuY2FsbChlLGEpOmYuY2FsbChlLGgsbSkpfTtpZihrPT09MCluKHRydWUpO2Vsc2V7dmFyIG89ZnVuY3Rpb24oYSxiKXsoYj9oOm0pLnB1c2goYSk7aWYoLS1rPD0wKXtkJiZDS0VESVRPUi5kb2N1bWVudC5nZXREb2N1bWVudEVsZW1lbnQoKS5yZW1vdmVTdHlsZShcImN1cnNvclwiKTtuKGIpfX0sbD1mdW5jdGlvbihhLGwpe2JbYV09MTt2YXIgZD1jW2FdO2RlbGV0ZSBjW2FdO2Zvcih2YXIgaj0wO2o8ZC5sZW5ndGg7aisrKWRbal0oYSxsKX0saj1mdW5jdGlvbihhKXtpZihiW2FdKW8oYSx0cnVlKTtlbHNle3ZhciBkPWNbYV18fChjW2FdPVtdKTtkLnB1c2gobyk7aWYoIShkLmxlbmd0aD5cbjEpKXt2YXIgaj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJzY3JpcHRcIik7ai5zZXRBdHRyaWJ1dGVzKHt0eXBlOlwidGV4dC9qYXZhc2NyaXB0XCIsc3JjOmF9KTtpZihmKWlmKENLRURJVE9SLmVudi5pZSlqLiQub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoai4kLnJlYWR5U3RhdGU9PVwibG9hZGVkXCJ8fGouJC5yZWFkeVN0YXRlPT1cImNvbXBsZXRlXCIpe2ouJC5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbDtsKGEsdHJ1ZSl9fTtlbHNle2ouJC5vbmxvYWQ9ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bChhLHRydWUpfSwwKX07ai4kLm9uZXJyb3I9ZnVuY3Rpb24oKXtsKGEsZmFsc2UpfX1qLmFwcGVuZFRvKENLRURJVE9SLmRvY3VtZW50LmdldEhlYWQoKSl9fX07ZCYmQ0tFRElUT1IuZG9jdW1lbnQuZ2V0RG9jdW1lbnRFbGVtZW50KCkuc2V0U3R5bGUoXCJjdXJzb3JcIixcIndhaXRcIik7Zm9yKHZhciBxPTA7cTxrO3ErKylqKGFbcV0pfX19fSgpO1xuQ0tFRElUT1IucmVzb3VyY2VNYW5hZ2VyPWZ1bmN0aW9uKGIsYyl7dGhpcy5iYXNlUGF0aD1iO3RoaXMuZmlsZU5hbWU9Yzt0aGlzLnJlZ2lzdGVyZWQ9e307dGhpcy5sb2FkZWQ9e307dGhpcy5leHRlcm5hbHM9e307dGhpcy5fPXt3YWl0aW5nTGlzdDp7fX19O1xuQ0tFRElUT1IucmVzb3VyY2VNYW5hZ2VyLnByb3RvdHlwZT17YWRkOmZ1bmN0aW9uKGIsYyl7aWYodGhpcy5yZWdpc3RlcmVkW2JdKXRocm93J1tDS0VESVRPUi5yZXNvdXJjZU1hbmFnZXIuYWRkXSBUaGUgcmVzb3VyY2UgbmFtZSBcIicrYisnXCIgaXMgYWxyZWFkeSByZWdpc3RlcmVkLic7dmFyIGE9dGhpcy5yZWdpc3RlcmVkW2JdPWN8fHt9O2EubmFtZT1iO2EucGF0aD10aGlzLmdldFBhdGgoYik7Q0tFRElUT1IuZmlyZShiK0NLRURJVE9SLnRvb2xzLmNhcGl0YWxpemUodGhpcy5maWxlTmFtZSkrXCJSZWFkeVwiLGEpO3JldHVybiB0aGlzLmdldChiKX0sZ2V0OmZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLnJlZ2lzdGVyZWRbYl18fG51bGx9LGdldFBhdGg6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5leHRlcm5hbHNbYl07cmV0dXJuIENLRURJVE9SLmdldFVybChjJiZjLmRpcnx8dGhpcy5iYXNlUGF0aCtiK1wiL1wiKX0sZ2V0RmlsZVBhdGg6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5leHRlcm5hbHNbYl07XG5yZXR1cm4gQ0tFRElUT1IuZ2V0VXJsKHRoaXMuZ2V0UGF0aChiKSsoYyYmdHlwZW9mIGMuZmlsZT09XCJzdHJpbmdcIj9jLmZpbGU6dGhpcy5maWxlTmFtZStcIi5qc1wiKSl9LGFkZEV4dGVybmFsOmZ1bmN0aW9uKGIsYyxhKXtmb3IodmFyIGI9Yi5zcGxpdChcIixcIiksZj0wO2Y8Yi5sZW5ndGg7ZisrKXRoaXMuZXh0ZXJuYWxzW2JbZl1dPXtkaXI6YyxmaWxlOmF9fSxsb2FkOmZ1bmN0aW9uKGIsYyxhKXtDS0VESVRPUi50b29scy5pc0FycmF5KGIpfHwoYj1iP1tiXTpbXSk7Zm9yKHZhciBmPXRoaXMubG9hZGVkLGU9dGhpcy5yZWdpc3RlcmVkLGQ9W10sZz17fSxrPXt9LGg9MDtoPGIubGVuZ3RoO2grKyl7dmFyIG09YltoXTtpZihtKWlmKCFmW21dJiYhZVttXSl7dmFyIG49dGhpcy5nZXRGaWxlUGF0aChtKTtkLnB1c2gobik7biBpbiBnfHwoZ1tuXT1bXSk7Z1tuXS5wdXNoKG0pfWVsc2Uga1ttXT10aGlzLmdldChtKX1DS0VESVRPUi5zY3JpcHRMb2FkZXIubG9hZChkLGZ1bmN0aW9uKGIsXG5sKXtpZihsLmxlbmd0aCl0aHJvdydbQ0tFRElUT1IucmVzb3VyY2VNYW5hZ2VyLmxvYWRdIFJlc291cmNlIG5hbWUgXCInK2dbbFswXV0uam9pbihcIixcIikrJ1wiIHdhcyBub3QgZm91bmQgYXQgXCInK2xbMF0rJ1wiLic7Zm9yKHZhciBkPTA7ZDxiLmxlbmd0aDtkKyspZm9yKHZhciBlPWdbYltkXV0saD0wO2g8ZS5sZW5ndGg7aCsrKXt2YXIgbT1lW2hdO2tbbV09dGhpcy5nZXQobSk7ZlttXT0xfWMuY2FsbChhLGspfSx0aGlzKX19O0NLRURJVE9SLnBsdWdpbnM9bmV3IENLRURJVE9SLnJlc291cmNlTWFuYWdlcihcInBsdWdpbnMvXCIsXCJwbHVnaW5cIik7XG5DS0VESVRPUi5wbHVnaW5zLmxvYWQ9Q0tFRElUT1IudG9vbHMub3ZlcnJpZGUoQ0tFRElUT1IucGx1Z2lucy5sb2FkLGZ1bmN0aW9uKGIpe3ZhciBjPXt9O3JldHVybiBmdW5jdGlvbihhLGYsZSl7dmFyIGQ9e30sZz1mdW5jdGlvbihhKXtiLmNhbGwodGhpcyxhLGZ1bmN0aW9uKGEpe0NLRURJVE9SLnRvb2xzLmV4dGVuZChkLGEpO3ZhciBiPVtdLGs7Zm9yKGsgaW4gYSl7dmFyIG89YVtrXSxsPW8mJm8ucmVxdWlyZXM7aWYoIWNba10pe2lmKG8uaWNvbnMpZm9yKHZhciBqPW8uaWNvbnMuc3BsaXQoXCIsXCIpLHE9MDtxPGoubGVuZ3RoO3ErKylDS0VESVRPUi5za2luLmFkZEljb24oaltxXSxvLnBhdGgrXCJpY29ucy9cIitqW3FdK1wiLnBuZ1wiKTtjW2tdPTF9aWYobCl7bC5zcGxpdCYmKGw9bC5zcGxpdChcIixcIikpO2ZvcihvPTA7bzxsLmxlbmd0aDtvKyspZFtsW29dXXx8Yi5wdXNoKGxbb10pfX1pZihiLmxlbmd0aClnLmNhbGwodGhpcyxiKTtlbHNle2ZvcihrIGluIGQpe289ZFtrXTtpZihvLm9uTG9hZCYmXG4hby5vbkxvYWQuX2NhbGxlZCl7by5vbkxvYWQoKT09PWZhbHNlJiZkZWxldGUgZFtrXTtvLm9uTG9hZC5fY2FsbGVkPTF9fWYmJmYuY2FsbChlfHx3aW5kb3csZCl9fSx0aGlzKX07Zy5jYWxsKHRoaXMsYSl9fSk7Q0tFRElUT1IucGx1Z2lucy5zZXRMYW5nPWZ1bmN0aW9uKGIsYyxhKXt2YXIgZj10aGlzLmdldChiKSxiPWYubGFuZ0VudHJpZXN8fChmLmxhbmdFbnRyaWVzPXt9KSxmPWYubGFuZ3x8KGYubGFuZz1bXSk7Zi5zcGxpdCYmKGY9Zi5zcGxpdChcIixcIikpO0NLRURJVE9SLnRvb2xzLmluZGV4T2YoZixjKT09LTEmJmYucHVzaChjKTtiW2NdPWF9O0NLRURJVE9SLnVpPWZ1bmN0aW9uKGIpe2lmKGIudWkpcmV0dXJuIGIudWk7dGhpcy5pdGVtcz17fTt0aGlzLmluc3RhbmNlcz17fTt0aGlzLmVkaXRvcj1iO3RoaXMuXz17aGFuZGxlcnM6e319O3JldHVybiB0aGlzfTtcbkNLRURJVE9SLnVpLnByb3RvdHlwZT17YWRkOmZ1bmN0aW9uKGIsYyxhKXthLm5hbWU9Yi50b0xvd2VyQ2FzZSgpO3ZhciBmPXRoaXMuaXRlbXNbYl09e3R5cGU6Yyxjb21tYW5kOmEuY29tbWFuZHx8bnVsbCxhcmdzOkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKX07Q0tFRElUT1IudG9vbHMuZXh0ZW5kKGYsYSl9LGdldDpmdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5pbnN0YW5jZXNbYl19LGNyZWF0ZTpmdW5jdGlvbihiKXt2YXIgYz10aGlzLml0ZW1zW2JdLGE9YyYmdGhpcy5fLmhhbmRsZXJzW2MudHlwZV0sZj1jJiZjLmNvbW1hbmQmJnRoaXMuZWRpdG9yLmdldENvbW1hbmQoYy5jb21tYW5kKSxhPWEmJmEuY3JlYXRlLmFwcGx5KHRoaXMsYy5hcmdzKTt0aGlzLmluc3RhbmNlc1tiXT1hO2YmJmYudWlJdGVtcy5wdXNoKGEpO2lmKGEmJiFhLnR5cGUpYS50eXBlPWMudHlwZTtyZXR1cm4gYX0sYWRkSGFuZGxlcjpmdW5jdGlvbihiLGMpe3RoaXMuXy5oYW5kbGVyc1tiXT1cbmN9LHNwYWNlOmZ1bmN0aW9uKGIpe3JldHVybiBDS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKHRoaXMuc3BhY2VJZChiKSl9LHNwYWNlSWQ6ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMuZWRpdG9yLmlkK1wiX1wiK2J9fTtDS0VESVRPUi5ldmVudC5pbXBsZW1lbnRPbihDS0VESVRPUi51aSk7XG4oZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGIsaixvKXtDS0VESVRPUi5ldmVudC5jYWxsKHRoaXMpO2I9YiYmQ0tFRElUT1IudG9vbHMuY2xvbmUoYik7aWYoaiE9PXZvaWQgMCl7aWYoaiBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5lbGVtZW50KXtpZighbyl0aHJvdyBFcnJvcihcIk9uZSBvZiB0aGUgZWxlbWVudCBtb2RlIG11c3QgYmUgc3BlY2lmaWVkLlwiKTt9ZWxzZSB0aHJvdyBFcnJvcihcIkV4cGVjdCBlbGVtZW50IG9mIHR5cGUgQ0tFRElUT1IuZG9tLmVsZW1lbnQuXCIpO2lmKENLRURJVE9SLmVudi5pZSYmQ0tFRElUT1IuZW52LnF1aXJrcyYmbz09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORSl0aHJvdyBFcnJvcihcIklubGluZSBlbGVtZW50IG1vZGUgaXMgbm90IHN1cHBvcnRlZCBvbiBJRSBxdWlya3MuXCIpO2lmKG89PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkUmJiFqLmlzKENLRURJVE9SLmR0ZC4kZWRpdGFibGUpfHxvPT1DS0VESVRPUi5FTEVNRU5UX01PREVfUkVQTEFDRSYmXG5qLmlzKENLRURJVE9SLmR0ZC4kbm9uQm9keUNvbnRlbnQpKXRocm93IEVycm9yKCdUaGUgc3BlY2lmaWVkIGVsZW1lbnQgbW9kZSBpcyBub3Qgc3VwcG9ydGVkIG9uIGVsZW1lbnQ6IFwiJytqLmdldE5hbWUoKSsnXCIuJyk7dGhpcy5lbGVtZW50PWo7dGhpcy5lbGVtZW50TW9kZT1vO3RoaXMubmFtZT10aGlzLmVsZW1lbnRNb2RlIT1DS0VESVRPUi5FTEVNRU5UX01PREVfQVBQRU5EVE8mJihqLmdldElkKCl8fGouZ2V0TmFtZUF0dCgpKX1lbHNlIHRoaXMuZWxlbWVudE1vZGU9Q0tFRElUT1IuRUxFTUVOVF9NT0RFX05PTkU7dGhpcy5fPXt9O3RoaXMuY29tbWFuZHM9e307dGhpcy50ZW1wbGF0ZXM9e307dGhpcy5uYW1lPXRoaXMubmFtZXx8YygpO3RoaXMuaWQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCk7dGhpcy5jb25maWc9Q0tFRElUT1IudG9vbHMucHJvdG90eXBlZENvcHkoQ0tFRElUT1IuY29uZmlnKTt0aGlzLnVpPW5ldyBDS0VESVRPUi51aSh0aGlzKTt0aGlzLmZvY3VzTWFuYWdlcj1cbm5ldyBDS0VESVRPUi5mb2N1c01hbmFnZXIodGhpcyk7dGhpcy5rZXlzdHJva2VIYW5kbGVyPW5ldyBDS0VESVRPUi5rZXlzdHJva2VIYW5kbGVyKHRoaXMpO3RoaXMub24oXCJtb2RlXCIsYSk7dGhpcy5vbihcInJlYWRPbmx5XCIsYSk7dGhpcy5vbihcInNlbGVjdGlvbkNoYW5nZVwiLGYpO3RoaXMub24oXCJpbnN0YW5jZVJlYWR5XCIsZnVuY3Rpb24oKXt0aGlzLmNvbmZpZy5zdGFydHVwRm9jdXMmJnRoaXMuZm9jdXMoKX0pO0NLRURJVE9SLmZpcmUoXCJpbnN0YW5jZUNyZWF0ZWRcIixudWxsLHRoaXMpO0NLRURJVE9SLmFkZCh0aGlzKTtDS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZCh0aGlzLGIpfSwwLHRoaXMpfWZ1bmN0aW9uIGMoKXtkbyB2YXIgYT1cImVkaXRvclwiKyArK247d2hpbGUoQ0tFRElUT1IuaW5zdGFuY2VzW2FdKTtyZXR1cm4gYX1mdW5jdGlvbiBhKCl7dmFyIGEsYj10aGlzLmNvbW1hbmRzLGM9dGhpcy5tb2RlO2lmKGMpZm9yKHZhciBkIGluIGIpe2E9YltkXTtcbmFbYS5zdGFydERpc2FibGVkP1wiZGlzYWJsZVwiOnRoaXMucmVhZE9ubHkmJiFhLnJlYWRPbmx5P1wiZGlzYWJsZVwiOmEubW9kZXNbY10/XCJlbmFibGVcIjpcImRpc2FibGVcIl0oKX19ZnVuY3Rpb24gZihhKXt2YXIgYj10aGlzLmNvbW1hbmRzLGM9YS5lZGl0b3IsZD1hLmRhdGEucGF0aCxvO2ZvcihvIGluIGIpe2E9YltvXTthLmNvbnRleHRTZW5zaXRpdmUmJmEucmVmcmVzaChjLGQpfX1mdW5jdGlvbiBlKGEpe3ZhciBiPWEuY29uZmlnLmN1c3RvbUNvbmZpZztpZighYilyZXR1cm4gZmFsc2U7dmFyIGI9Q0tFRElUT1IuZ2V0VXJsKGIpLGM9b1tiXXx8KG9bYl09e30pO2lmKGMuZm4pe2MuZm4uY2FsbChhLGEuY29uZmlnKTsoQ0tFRElUT1IuZ2V0VXJsKGEuY29uZmlnLmN1c3RvbUNvbmZpZyk9PWJ8fCFlKGEpKSYmYS5maXJlT25jZShcImN1c3RvbUNvbmZpZ0xvYWRlZFwiKX1lbHNlIENLRURJVE9SLnNjcmlwdExvYWRlci5sb2FkKGIsZnVuY3Rpb24oKXtjLmZuPUNLRURJVE9SLmVkaXRvckNvbmZpZz9cbkNLRURJVE9SLmVkaXRvckNvbmZpZzpmdW5jdGlvbigpe307ZShhKX0pO3JldHVybiB0cnVlfWZ1bmN0aW9uIGQoYSxiKXthLm9uKFwiY3VzdG9tQ29uZmlnTG9hZGVkXCIsZnVuY3Rpb24oKXtpZihiKXtpZihiLm9uKWZvcih2YXIgYyBpbiBiLm9uKWEub24oYyxiLm9uW2NdKTtDS0VESVRPUi50b29scy5leHRlbmQoYS5jb25maWcsYix0cnVlKTtkZWxldGUgYS5jb25maWcub259YS5yZWFkT25seT0hKCFhLmNvbmZpZy5yZWFkT25seSYmIShhLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FP2EuZWxlbWVudC5pc1JlYWRPbmx5KCk6YS5lbGVtZW50TW9kZT09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX1JFUExBQ0UmJmEuZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKSkpO2EuYmxvY2tsZXNzPWEuZWxlbWVudE1vZGU9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkUmJiFDS0VESVRPUi5kdGRbYS5lbGVtZW50LmdldE5hbWUoKV0ucDthLnRhYkluZGV4PVxuYS5jb25maWcudGFiSW5kZXh8fGEuZWxlbWVudCYmYS5lbGVtZW50LmdldEF0dHJpYnV0ZShcInRhYmluZGV4XCIpfHwwO2lmKGEuY29uZmlnLnNraW4pQ0tFRElUT1Iuc2tpbk5hbWU9YS5jb25maWcuc2tpbjthLmZpcmVPbmNlKFwiY29uZmlnTG9hZGVkXCIpO2EuZGF0YVByb2Nlc3Nvcj1uZXcgQ0tFRElUT1IuaHRtbERhdGFQcm9jZXNzb3IoYSk7ZyhhKX0pO2lmKGImJmIuY3VzdG9tQ29uZmlnIT12b2lkIDApYS5jb25maWcuY3VzdG9tQ29uZmlnPWIuY3VzdG9tQ29uZmlnO2UoYSl8fGEuZmlyZU9uY2UoXCJjdXN0b21Db25maWdMb2FkZWRcIil9ZnVuY3Rpb24gZyhhKXtDS0VESVRPUi5za2luLmxvYWRQYXJ0KFwiZWRpdG9yXCIsZnVuY3Rpb24oKXtrKGEpfSl9ZnVuY3Rpb24gayhhKXtDS0VESVRPUi5sYW5nLmxvYWQoYS5jb25maWcubGFuZ3VhZ2UsYS5jb25maWcuZGVmYXVsdExhbmd1YWdlLGZ1bmN0aW9uKGIsYyl7YS5sYW5nQ29kZT1iO2EubGFuZz1DS0VESVRPUi50b29scy5wcm90b3R5cGVkQ29weShjKTtcbmlmKENLRURJVE9SLmVudi5nZWNrbyYmQ0tFRElUT1IuZW52LnZlcnNpb248MTA5MDAmJmEubGFuZy5kaXI9PVwicnRsXCIpYS5sYW5nLmRpcj1cImx0clwiO2lmKCFhLmNvbmZpZy5jb250ZW50c0xhbmdEaXJlY3Rpb24pYS5jb25maWcuY29udGVudHNMYW5nRGlyZWN0aW9uPWEuZWxlbWVudE1vZGU9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkU/YS5lbGVtZW50LmdldERpcmVjdGlvbigxKTphLmxhbmcuZGlyO2EuZmlyZShcImxhbmdMb2FkZWRcIik7aChhKX0pfWZ1bmN0aW9uIGgoYSl7dmFyIGI9YS5jb25maWcsYz1iLnBsdWdpbnMsZD1iLmV4dHJhUGx1Z2lucyxvPWIucmVtb3ZlUGx1Z2lucztpZihkKXZhciBlPVJlZ0V4cChcIig/Ol58LCkoPzpcIitkLnJlcGxhY2UoL1xccyosXFxzKi9nLFwifFwiKStcIikoPz0sfCQpXCIsXCJnXCIpLGM9Yy5yZXBsYWNlKGUsXCJcIiksYz1jKyhcIixcIitkKTtpZihvKXZhciBnPVJlZ0V4cChcIig/Ol58LCkoPzpcIitvLnJlcGxhY2UoL1xccyosXFxzKi9nLFwifFwiKStcIikoPz0sfCQpXCIsXG5cImdcIiksYz1jLnJlcGxhY2UoZyxcIlwiKTtDS0VESVRPUi5lbnYuYWlyJiYoYz1jK1wiLGFkb2JlYWlyXCIpO0NLRURJVE9SLnBsdWdpbnMubG9hZChjLnNwbGl0KFwiLFwiKSxmdW5jdGlvbihjKXt2YXIgZD1bXSxvPVtdLGU9W107YS5wbHVnaW5zPWM7Zm9yKHZhciBmIGluIGMpe3ZhciBpPWNbZl0saD1pLmxhbmcscT1udWxsLHQ9aS5yZXF1aXJlcyxrO0NLRURJVE9SLnRvb2xzLmlzQXJyYXkodCkmJih0PXQuam9pbihcIixcIikpO2lmKHQmJihrPXQubWF0Y2goZykpKWZvcig7dD1rLnBvcCgpOylDS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGZ1bmN0aW9uKGEsYil7dGhyb3cgRXJyb3IoJ1BsdWdpbiBcIicrYS5yZXBsYWNlKFwiLFwiLFwiXCIpKydcIiBjYW5ub3QgYmUgcmVtb3ZlZCBmcm9tIHRoZSBwbHVnaW5zIGxpc3QsIGJlY2F1c2UgaXRcXCdzIHJlcXVpcmVkIGJ5IFwiJytiKydcIiBwbHVnaW4uJyk7fSwwLG51bGwsW3QsZl0pO2lmKGgmJiFhLmxhbmdbZl0pe2guc3BsaXQmJihoPWguc3BsaXQoXCIsXCIpKTtcbmlmKENLRURJVE9SLnRvb2xzLmluZGV4T2YoaCxhLmxhbmdDb2RlKT49MClxPWEubGFuZ0NvZGU7ZWxzZXtxPWEubGFuZ0NvZGUucmVwbGFjZSgvLS4qLyxcIlwiKTtxPXEhPWEubGFuZ0NvZGUmJkNLRURJVE9SLnRvb2xzLmluZGV4T2YoaCxxKT49MD9xOkNLRURJVE9SLnRvb2xzLmluZGV4T2YoaCxcImVuXCIpPj0wP1wiZW5cIjpoWzBdfWlmKCFpLmxhbmdFbnRyaWVzfHwhaS5sYW5nRW50cmllc1txXSllLnB1c2goQ0tFRElUT1IuZ2V0VXJsKGkucGF0aCtcImxhbmcvXCIrcStcIi5qc1wiKSk7ZWxzZXthLmxhbmdbZl09aS5sYW5nRW50cmllc1txXTtxPW51bGx9fW8ucHVzaChxKTtkLnB1c2goaSl9Q0tFRElUT1Iuc2NyaXB0TG9hZGVyLmxvYWQoZSxmdW5jdGlvbigpe2Zvcih2YXIgYz1bXCJiZWZvcmVJbml0XCIsXCJpbml0XCIsXCJhZnRlckluaXRcIl0sZT0wO2U8Yy5sZW5ndGg7ZSsrKWZvcih2YXIgZz0wO2c8ZC5sZW5ndGg7ZysrKXt2YXIgZj1kW2ddO2U9PT0wJiYob1tnXSYmZi5sYW5nJiZmLmxhbmdFbnRyaWVzKSYmXG4oYS5sYW5nW2YubmFtZV09Zi5sYW5nRW50cmllc1tvW2ddXSk7aWYoZltjW2VdXSlmW2NbZV1dKGEpfWEuZmlyZU9uY2UoXCJwbHVnaW5zTG9hZGVkXCIpO2Iua2V5c3Ryb2tlcyYmYS5zZXRLZXlzdHJva2UoYS5jb25maWcua2V5c3Ryb2tlcyk7Zm9yKGc9MDtnPGEuY29uZmlnLmJsb2NrZWRLZXlzdHJva2VzLmxlbmd0aDtnKyspYS5rZXlzdHJva2VIYW5kbGVyLmJsb2NrZWRLZXlzdHJva2VzW2EuY29uZmlnLmJsb2NrZWRLZXlzdHJva2VzW2ddXT0xO2EuZmlyZU9uY2UoXCJsb2FkZWRcIik7Q0tFRElUT1IuZmlyZShcImluc3RhbmNlTG9hZGVkXCIsbnVsbCxhKX0pfSl9ZnVuY3Rpb24gbSgpe3ZhciBhPXRoaXMuZWxlbWVudDtpZihhJiZ0aGlzLmVsZW1lbnRNb2RlIT1DS0VESVRPUi5FTEVNRU5UX01PREVfQVBQRU5EVE8pe3ZhciBiPXRoaXMuZ2V0RGF0YSgpO3RoaXMuY29uZmlnLmh0bWxFbmNvZGVPdXRwdXQmJihiPUNLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoYikpO2EuaXMoXCJ0ZXh0YXJlYVwiKT9cbmEuc2V0VmFsdWUoYik6YS5zZXRIdG1sKGIpO3JldHVybiB0cnVlfXJldHVybiBmYWxzZX1iLnByb3RvdHlwZT1DS0VESVRPUi5lZGl0b3IucHJvdG90eXBlO0NLRURJVE9SLmVkaXRvcj1iO3ZhciBuPTAsbz17fTtDS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZSx7YWRkQ29tbWFuZDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmNvbW1hbmRzW2FdPW5ldyBDS0VESVRPUi5jb21tYW5kKHRoaXMsYil9LGRlc3Ryb3k6ZnVuY3Rpb24oYSl7dGhpcy5maXJlKFwiYmVmb3JlRGVzdHJveVwiKTshYSYmbS5jYWxsKHRoaXMpO3RoaXMuZWRpdGFibGUobnVsbCk7dGhpcy5maXJlKFwiZGVzdHJveVwiKTt0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO0NLRURJVE9SLnJlbW92ZSh0aGlzKTtDS0VESVRPUi5maXJlKFwiaW5zdGFuY2VEZXN0cm95ZWRcIixudWxsLHRoaXMpfSxlbGVtZW50UGF0aDpmdW5jdGlvbihhKXtyZXR1cm4oYT1hfHx0aGlzLmdldFNlbGVjdGlvbigpLmdldFN0YXJ0RWxlbWVudCgpKT9cbm5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoYSx0aGlzLmVkaXRhYmxlKCkpOm51bGx9LGNyZWF0ZVJhbmdlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lZGl0YWJsZSgpO3JldHVybiBhP25ldyBDS0VESVRPUi5kb20ucmFuZ2UoYSk6bnVsbH0sZXhlY0NvbW1hbmQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldENvbW1hbmQoYSksZD17bmFtZTphLGNvbW1hbmREYXRhOmIsY29tbWFuZDpjfTtpZihjJiZjLnN0YXRlIT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCYmdGhpcy5maXJlKFwiYmVmb3JlQ29tbWFuZEV4ZWNcIixkKSE9PXRydWUpe2QucmV0dXJuVmFsdWU9Yy5leGVjKGQuY29tbWFuZERhdGEpO2lmKCFjLmFzeW5jJiZ0aGlzLmZpcmUoXCJhZnRlckNvbW1hbmRFeGVjXCIsZCkhPT10cnVlKXJldHVybiBkLnJldHVyblZhbHVlfXJldHVybiBmYWxzZX0sZ2V0Q29tbWFuZDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jb21tYW5kc1thXX0sZ2V0RGF0YTpmdW5jdGlvbihhKXshYSYmXG50aGlzLmZpcmUoXCJiZWZvcmVHZXREYXRhXCIpO3ZhciBiPXRoaXMuXy5kYXRhO2lmKHR5cGVvZiBiIT1cInN0cmluZ1wiKWI9KGI9dGhpcy5lbGVtZW50KSYmdGhpcy5lbGVtZW50TW9kZT09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX1JFUExBQ0U/Yi5pcyhcInRleHRhcmVhXCIpP2IuZ2V0VmFsdWUoKTpiLmdldEh0bWwoKTpcIlwiO2I9e2RhdGFWYWx1ZTpifTshYSYmdGhpcy5maXJlKFwiZ2V0RGF0YVwiLGIpO3JldHVybiBiLmRhdGFWYWx1ZX0sZ2V0U25hcHNob3Q6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmZpcmUoXCJnZXRTbmFwc2hvdFwiKTtpZih0eXBlb2YgYSE9XCJzdHJpbmdcIil7dmFyIGI9dGhpcy5lbGVtZW50O2ImJnRoaXMuZWxlbWVudE1vZGU9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9SRVBMQUNFJiYoYT1iLmlzKFwidGV4dGFyZWFcIik/Yi5nZXRWYWx1ZSgpOmIuZ2V0SHRtbCgpKX1yZXR1cm4gYX0sbG9hZFNuYXBzaG90OmZ1bmN0aW9uKGEpe3RoaXMuZmlyZShcImxvYWRTbmFwc2hvdFwiLGEpfSxcbnNldERhdGE6ZnVuY3Rpb24oYSxiLGMpe2lmKGIpdGhpcy5vbihcImRhdGFSZWFkeVwiLGZ1bmN0aW9uKGEpe2EucmVtb3ZlTGlzdGVuZXIoKTtiLmNhbGwoYS5lZGl0b3IpfSk7YT17ZGF0YVZhbHVlOmF9OyFjJiZ0aGlzLmZpcmUoXCJzZXREYXRhXCIsYSk7dGhpcy5fLmRhdGE9YS5kYXRhVmFsdWU7IWMmJnRoaXMuZmlyZShcImFmdGVyU2V0RGF0YVwiLGEpfSxzZXRSZWFkT25seTpmdW5jdGlvbihhKXthPWE9PXZvaWQgMHx8YTtpZih0aGlzLnJlYWRPbmx5IT1hKXt0aGlzLnJlYWRPbmx5PWE7dGhpcy5lZGl0YWJsZSgpLnNldFJlYWRPbmx5KGEpO3RoaXMuZmlyZShcInJlYWRPbmx5XCIpfX0saW5zZXJ0SHRtbDpmdW5jdGlvbihhLGIpe3RoaXMuZmlyZShcImluc2VydEh0bWxcIix7ZGF0YVZhbHVlOmEsbW9kZTpifSl9LGluc2VydFRleHQ6ZnVuY3Rpb24oYSl7dGhpcy5maXJlKFwiaW5zZXJ0VGV4dFwiLGEpfSxpbnNlcnRFbGVtZW50OmZ1bmN0aW9uKGEpe3RoaXMuZmlyZShcImluc2VydEVsZW1lbnRcIixcbmEpfSxmb2N1czpmdW5jdGlvbigpe3RoaXMuZmlyZShcImJlZm9yZUZvY3VzXCIpfSxjaGVja0RpcnR5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5wcmV2aW91c1ZhbHVlIT09dGhpcy5nZXRTbmFwc2hvdCgpfSxyZXNldERpcnR5OmZ1bmN0aW9uKCl7dGhpcy5fLnByZXZpb3VzVmFsdWU9dGhpcy5nZXRTbmFwc2hvdCgpfSx1cGRhdGVFbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIG0uY2FsbCh0aGlzKX0sc2V0S2V5c3Ryb2tlOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMua2V5c3Ryb2tlSGFuZGxlci5rZXlzdHJva2VzLGI9Q0tFRElUT1IudG9vbHMuaXNBcnJheShhcmd1bWVudHNbMF0pP2FyZ3VtZW50c1swXTpbW10uc2xpY2UuY2FsbChhcmd1bWVudHMsMCldLGMsZCxvPWIubGVuZ3RoO28tLTspe2M9YltvXTtkPTA7aWYoQ0tFRElUT1IudG9vbHMuaXNBcnJheShjKSl7ZD1jWzFdO2M9Y1swXX1kP2FbY109ZDpkZWxldGUgYVtjXX19fSl9KSgpO1xuQ0tFRElUT1IuRUxFTUVOVF9NT0RFX05PTkU9MDtDS0VESVRPUi5FTEVNRU5UX01PREVfUkVQTEFDRT0xO0NLRURJVE9SLkVMRU1FTlRfTU9ERV9BUFBFTkRUTz0yO0NLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkU9MztDS0VESVRPUi5odG1sUGFyc2VyPWZ1bmN0aW9uKCl7dGhpcy5fPXtodG1sUGFydHNSZWdleDpSZWdFeHAoXCI8KD86KD86XFxcXC8oW14+XSspPil8KD86IS0tKFtcXFxcU3xcXFxcc10qPyktLVxcPil8KD86KFteXFxcXHM+XSspXFxcXHMqKCg/Oig/OlxcXCJbXlxcXCJdKlxcXCIpfCg/OidbXiddKicpfFteXFxcIic+XSkqKVxcXFwvPz4pKVwiLFwiZ1wiKX19O1xuKGZ1bmN0aW9uKCl7dmFyIGI9LyhbXFx3XFwtOi5dKykoPzooPzpcXHMqPVxccyooPzooPzpcIihbXlwiXSopXCIpfCg/OicoW14nXSopJyl8KFteXFxzPl0rKSkpfCg/PVxcc3wkKSkvZyxjPXtjaGVja2VkOjEsY29tcGFjdDoxLGRlY2xhcmU6MSxkZWZlcjoxLGRpc2FibGVkOjEsaXNtYXA6MSxtdWx0aXBsZToxLG5vaHJlZjoxLG5vcmVzaXplOjEsbm9zaGFkZToxLG5vd3JhcDoxLHJlYWRvbmx5OjEsc2VsZWN0ZWQ6MX07Q0tFRElUT1IuaHRtbFBhcnNlci5wcm90b3R5cGU9e29uVGFnT3BlbjpmdW5jdGlvbigpe30sb25UYWdDbG9zZTpmdW5jdGlvbigpe30sb25UZXh0OmZ1bmN0aW9uKCl7fSxvbkNEQVRBOmZ1bmN0aW9uKCl7fSxvbkNvbW1lbnQ6ZnVuY3Rpb24oKXt9LHBhcnNlOmZ1bmN0aW9uKGEpe2Zvcih2YXIgZixlLGQ9MCxnO2Y9dGhpcy5fLmh0bWxQYXJ0c1JlZ2V4LmV4ZWMoYSk7KXtlPWYuaW5kZXg7aWYoZT5kKXtkPWEuc3Vic3RyaW5nKGQsZSk7aWYoZylnLnB1c2goZCk7ZWxzZSB0aGlzLm9uVGV4dChkKX1kPVxudGhpcy5fLmh0bWxQYXJ0c1JlZ2V4Lmxhc3RJbmRleDtpZihlPWZbMV0pe2U9ZS50b0xvd2VyQ2FzZSgpO2lmKGcmJkNLRURJVE9SLmR0ZC4kY2RhdGFbZV0pe3RoaXMub25DREFUQShnLmpvaW4oXCJcIikpO2c9bnVsbH1pZighZyl7dGhpcy5vblRhZ0Nsb3NlKGUpO2NvbnRpbnVlfX1pZihnKWcucHVzaChmWzBdKTtlbHNlIGlmKGU9ZlszXSl7ZT1lLnRvTG93ZXJDYXNlKCk7aWYoIS89XCIvLnRlc3QoZSkpe3ZhciBrPXt9LGg7Zj1mWzRdO3ZhciBtPSEhKGYmJmYuY2hhckF0KGYubGVuZ3RoLTEpPT1cIi9cIik7aWYoZilmb3IoO2g9Yi5leGVjKGYpOyl7dmFyIG49aFsxXS50b0xvd2VyQ2FzZSgpO2g9aFsyXXx8aFszXXx8aFs0XXx8XCJcIjtrW25dPSFoJiZjW25dP246aH10aGlzLm9uVGFnT3BlbihlLGssbSk7IWcmJkNLRURJVE9SLmR0ZC4kY2RhdGFbZV0mJihnPVtdKX19ZWxzZSBpZihlPWZbMl0pdGhpcy5vbkNvbW1lbnQoZSl9aWYoYS5sZW5ndGg+ZCl0aGlzLm9uVGV4dChhLnN1YnN0cmluZyhkLFxuYS5sZW5ndGgpKX19fSkoKTtcbkNLRURJVE9SLmh0bWxQYXJzZXIuYmFzaWNXcml0ZXI9Q0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3MoeyQ6ZnVuY3Rpb24oKXt0aGlzLl89e291dHB1dDpbXX19LHByb3RvOntvcGVuVGFnOmZ1bmN0aW9uKGIpe3RoaXMuXy5vdXRwdXQucHVzaChcIjxcIixiKX0sb3BlblRhZ0Nsb3NlOmZ1bmN0aW9uKGIsYyl7Yz90aGlzLl8ub3V0cHV0LnB1c2goXCIgLz5cIik6dGhpcy5fLm91dHB1dC5wdXNoKFwiPlwiKX0sYXR0cmlidXRlOmZ1bmN0aW9uKGIsYyl7dHlwZW9mIGM9PVwic3RyaW5nXCImJihjPUNLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGVBdHRyKGMpKTt0aGlzLl8ub3V0cHV0LnB1c2goXCIgXCIsYiwnPVwiJyxjLCdcIicpfSxjbG9zZVRhZzpmdW5jdGlvbihiKXt0aGlzLl8ub3V0cHV0LnB1c2goXCI8L1wiLGIsXCI+XCIpfSx0ZXh0OmZ1bmN0aW9uKGIpe3RoaXMuXy5vdXRwdXQucHVzaChiKX0sY29tbWVudDpmdW5jdGlvbihiKXt0aGlzLl8ub3V0cHV0LnB1c2goXCI8XFwhLS1cIixiLFwiLS1cXD5cIil9LHdyaXRlOmZ1bmN0aW9uKGIpe3RoaXMuXy5vdXRwdXQucHVzaChiKX0sXG5yZXNldDpmdW5jdGlvbigpe3RoaXMuXy5vdXRwdXQ9W107dGhpcy5fLmluZGVudD1mYWxzZX0sZ2V0SHRtbDpmdW5jdGlvbihiKXt2YXIgYz10aGlzLl8ub3V0cHV0LmpvaW4oXCJcIik7YiYmdGhpcy5yZXNldCgpO3JldHVybiBjfX19KTtDS0VESVRPUi5odG1sUGFyc2VyLmNvbW1lbnQ9ZnVuY3Rpb24oYil7dGhpcy52YWx1ZT1iO3RoaXMuXz17aXNCbG9ja0xpa2U6ZmFsc2V9fTtDS0VESVRPUi5odG1sUGFyc2VyLmNvbW1lbnQucHJvdG90eXBlPXt0eXBlOkNLRURJVE9SLk5PREVfQ09NTUVOVCx3cml0ZUh0bWw6ZnVuY3Rpb24oYixjKXt2YXIgYT10aGlzLnZhbHVlO2lmKGMpe2lmKCEoYT1jLm9uQ29tbWVudChhLHRoaXMpKSlyZXR1cm47aWYodHlwZW9mIGEhPVwic3RyaW5nXCIpe2EucGFyZW50PXRoaXMucGFyZW50O2Eud3JpdGVIdG1sKGIsYyk7cmV0dXJufX1iLmNvbW1lbnQoYSl9fTtcbihmdW5jdGlvbigpe0NLRURJVE9SLmh0bWxQYXJzZXIudGV4dD1mdW5jdGlvbihiKXt0aGlzLnZhbHVlPWI7dGhpcy5fPXtpc0Jsb2NrTGlrZTpmYWxzZX19O0NLRURJVE9SLmh0bWxQYXJzZXIudGV4dC5wcm90b3R5cGU9e3R5cGU6Q0tFRElUT1IuTk9ERV9URVhULHdyaXRlSHRtbDpmdW5jdGlvbihiLGMpe3ZhciBhPXRoaXMudmFsdWU7KCFjfHwoYT1jLm9uVGV4dChhLHRoaXMpKSkmJmIudGV4dChhKX19fSkoKTsoZnVuY3Rpb24oKXtDS0VESVRPUi5odG1sUGFyc2VyLmNkYXRhPWZ1bmN0aW9uKGIpe3RoaXMudmFsdWU9Yn07Q0tFRElUT1IuaHRtbFBhcnNlci5jZGF0YS5wcm90b3R5cGU9e3R5cGU6Q0tFRElUT1IuTk9ERV9URVhULHdyaXRlSHRtbDpmdW5jdGlvbihiKXtiLndyaXRlKHRoaXMudmFsdWUpfX19KSgpO1xuQ0tFRElUT1IuaHRtbFBhcnNlci5mcmFnbWVudD1mdW5jdGlvbigpe3RoaXMuY2hpbGRyZW49W107dGhpcy5wYXJlbnQ9bnVsbDt0aGlzLl89e2lzQmxvY2tMaWtlOnRydWUsaGFzSW5saW5lU3RhcnRlZDpmYWxzZX19O1xuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihhKXtyZXR1cm4gYS5uYW1lPT1cImFcIiYmYS5hdHRyaWJ1dGVzLmhyZWZ8fENLRURJVE9SLmR0ZC4kcmVtb3ZlRW1wdHlbYS5uYW1lXX12YXIgYz1DS0VESVRPUi50b29scy5leHRlbmQoe3RhYmxlOjEsdWw6MSxvbDoxLGRsOjF9LENLRURJVE9SLmR0ZC50YWJsZSxDS0VESVRPUi5kdGQudWwsQ0tFRElUT1IuZHRkLm9sLENLRURJVE9SLmR0ZC5kbCksYT17b2w6MSx1bDoxfSxmPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSx7aHRtbDoxfSxDS0VESVRPUi5kdGQuaHRtbCxDS0VESVRPUi5kdGQuYm9keSxDS0VESVRPUi5kdGQuaGVhZCx7c3R5bGU6MSxzY3JpcHQ6MX0pO0NLRURJVE9SLmh0bWxQYXJzZXIuZnJhZ21lbnQuZnJvbUh0bWw9ZnVuY3Rpb24oZSxkLGcpe2Z1bmN0aW9uIGsoYSl7dmFyIGI7aWYoeS5sZW5ndGg+MClmb3IodmFyIGM9MDtjPHkubGVuZ3RoO2MrKyl7dmFyIGQ9eVtjXSxsPWQubmFtZSxvPUNLRURJVE9SLmR0ZFtsXSxqPWkubmFtZSYmXG5DS0VESVRPUi5kdGRbaS5uYW1lXTtpZigoIWp8fGpbbF0pJiYoIWF8fCFvfHxvW2FdfHwhQ0tFRElUT1IuZHRkW2FdKSl7aWYoIWIpe2goKTtiPTF9ZD1kLmNsb25lKCk7ZC5wYXJlbnQ9aTtpPWQ7eS5zcGxpY2UoYywxKTtjLS19ZWxzZSBpZihsPT1pLm5hbWUpe24oaSxpLnBhcmVudCwxKTtjLS19fX1mdW5jdGlvbiBoKCl7Zm9yKDt6Lmxlbmd0aDspbih6LnNoaWZ0KCksaSl9ZnVuY3Rpb24gbShhKXtpZihhLl8uaXNCbG9ja0xpa2UmJmEubmFtZSE9XCJwcmVcIiYmYS5uYW1lIT1cInRleHRhcmVhXCIpe3ZhciBiPWEuY2hpbGRyZW4ubGVuZ3RoLGM9YS5jaGlsZHJlbltiLTFdLGQ7aWYoYyYmYy50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQpKGQ9Q0tFRElUT1IudG9vbHMucnRyaW0oYy52YWx1ZSkpP2MudmFsdWU9ZDphLmNoaWxkcmVuLmxlbmd0aD1iLTF9fWZ1bmN0aW9uIG4oYSxjLGQpe3ZhciBjPWN8fGl8fHEsbD1pO2lmKGEucHJldmlvdXM9PT12b2lkIDApe2lmKG8oYyxhKSl7aT1jO1xuai5vblRhZ09wZW4oZyx7fSk7YS5yZXR1cm5Qb2ludD1jPWl9bShhKTsoIWIoYSl8fGEuY2hpbGRyZW4ubGVuZ3RoKSYmYy5hZGQoYSk7YS5uYW1lPT1cInByZVwiJiYoQT1mYWxzZSk7YS5uYW1lPT1cInRleHRhcmVhXCImJihzPWZhbHNlKX1pZihhLnJldHVyblBvaW50KXtpPWEucmV0dXJuUG9pbnQ7ZGVsZXRlIGEucmV0dXJuUG9pbnR9ZWxzZSBpPWQ/YzpsfWZ1bmN0aW9uIG8oYSxiKXtpZigoYT09cXx8YS5uYW1lPT1cImJvZHlcIikmJmcmJighYS5uYW1lfHxDS0VESVRPUi5kdGRbYS5uYW1lXVtnXSkpe3ZhciBjLGQ7cmV0dXJuKGM9Yi5hdHRyaWJ1dGVzJiYoZD1iLmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS1yZWFsLWVsZW1lbnQtdHlwZVwiXSk/ZDpiLm5hbWUpJiZjIGluIENLRURJVE9SLmR0ZC4kaW5saW5lJiYhKGMgaW4gQ0tFRElUT1IuZHRkLmhlYWQpJiYhYi5pc09ycGhhbnx8Yi50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFR9fWZ1bmN0aW9uIGwoYSxiKXtyZXR1cm4gYSBpbiBDS0VESVRPUi5kdGQuJGxpc3RJdGVtfHxcbmEgaW4gQ0tFRElUT1IuZHRkLiR0YWJsZUNvbnRlbnQ/YT09Ynx8YT09XCJkdFwiJiZiPT1cImRkXCJ8fGE9PVwiZGRcIiYmYj09XCJkdFwiOmZhbHNlfXZhciBqPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLHE9ZCBpbnN0YW5jZW9mIENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudD9kOnR5cGVvZiBkPT1cInN0cmluZ1wiP25ldyBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQoZCk6bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZnJhZ21lbnQseT1bXSx6PVtdLGk9cSxzPXEubmFtZT09XCJ0ZXh0YXJlYVwiLEE9cS5uYW1lPT1cInByZVwiO2oub25UYWdPcGVuPWZ1bmN0aW9uKGQsbyxnLGUpe289bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudChkLG8pO2lmKG8uaXNVbmtub3duJiZnKW8uaXNFbXB0eT10cnVlO28uaXNPcHRpb25hbENsb3NlPWU7aWYoYihvKSl5LnB1c2gobyk7ZWxzZXtpZihkPT1cInByZVwiKUE9dHJ1ZTtlbHNle2lmKGQ9PVwiYnJcIiYmQSl7aS5hZGQobmV3IENLRURJVE9SLmh0bWxQYXJzZXIudGV4dChcIlxcblwiKSk7XG5yZXR1cm59ZD09XCJ0ZXh0YXJlYVwiJiYocz10cnVlKX1pZihkPT1cImJyXCIpei5wdXNoKG8pO2Vsc2V7Zm9yKDs7KXtlPShnPWkubmFtZSk/Q0tFRElUT1IuZHRkW2ddfHwoaS5fLmlzQmxvY2tMaWtlP0NLRURJVE9SLmR0ZC5kaXY6Q0tFRElUT1IuZHRkLnNwYW4pOmY7aWYoIW8uaXNVbmtub3duJiYhaS5pc1Vua25vd24mJiFlW2RdKWlmKGkuaXNPcHRpb25hbENsb3NlKWoub25UYWdDbG9zZShnKTtlbHNlIGlmKGQgaW4gYSYmZyBpbiBhKXtnPWkuY2hpbGRyZW47KGc9Z1tnLmxlbmd0aC0xXSkmJmcubmFtZT09XCJsaVwifHxuKGc9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudChcImxpXCIpLGkpOyFvLnJldHVyblBvaW50JiYoby5yZXR1cm5Qb2ludD1pKTtpPWd9ZWxzZSBpZihkIGluIENLRURJVE9SLmR0ZC4kbGlzdEl0ZW0mJiFsKGQsZykpai5vblRhZ09wZW4oZD09XCJsaVwiP1widWxcIjpcImRsXCIse30sMCwxKTtlbHNlIGlmKGcgaW4gYyYmIWwoZCxnKSl7IW8ucmV0dXJuUG9pbnQmJlxuKG8ucmV0dXJuUG9pbnQ9aSk7aT1pLnBhcmVudH1lbHNle2cgaW4gQ0tFRElUT1IuZHRkLiRpbmxpbmUmJnkudW5zaGlmdChpKTtpZihpLnBhcmVudCluKGksaS5wYXJlbnQsMSk7ZWxzZXtvLmlzT3JwaGFuPTE7YnJlYWt9fWVsc2UgYnJlYWt9ayhkKTtoKCk7by5wYXJlbnQ9aTtvLmlzRW1wdHk/bihvKTppPW99fX07ai5vblRhZ0Nsb3NlPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj15Lmxlbmd0aC0xO2I+PTA7Yi0tKWlmKGE9PXlbYl0ubmFtZSl7eS5zcGxpY2UoYiwxKTtyZXR1cm59Zm9yKHZhciBjPVtdLGQ9W10sbz1pO28hPXEmJm8ubmFtZSE9YTspe28uXy5pc0Jsb2NrTGlrZXx8ZC51bnNoaWZ0KG8pO2MucHVzaChvKTtvPW8ucmV0dXJuUG9pbnR8fG8ucGFyZW50fWlmKG8hPXEpe2ZvcihiPTA7YjxjLmxlbmd0aDtiKyspe3ZhciBsPWNbYl07bihsLGwucGFyZW50KX1pPW87by5fLmlzQmxvY2tMaWtlJiZoKCk7bihvLG8ucGFyZW50KTtpZihvPT1pKWk9aS5wYXJlbnQ7eT15LmNvbmNhdChkKX1hPT1cblwiYm9keVwiJiYoZz1mYWxzZSl9O2oub25UZXh0PWZ1bmN0aW9uKGIpe2lmKCghaS5fLmhhc0lubGluZVN0YXJ0ZWR8fHoubGVuZ3RoKSYmIUEmJiFzKXtiPUNLRURJVE9SLnRvb2xzLmx0cmltKGIpO2lmKGIubGVuZ3RoPT09MClyZXR1cm59dmFyIGQ9aS5uYW1lLGw9ZD9DS0VESVRPUi5kdGRbZF18fChpLl8uaXNCbG9ja0xpa2U/Q0tFRElUT1IuZHRkLmRpdjpDS0VESVRPUi5kdGQuc3Bhbik6ZjtpZighcyYmIWxbXCIjXCJdJiZkIGluIGMpe2oub25UYWdPcGVuKGQgaW4gYT9cImxpXCI6ZD09XCJkbFwiP1wiZGRcIjpkPT1cInRhYmxlXCI/XCJ0clwiOmQ9PVwidHJcIj9cInRkXCI6XCJcIik7ai5vblRleHQoYil9ZWxzZXtoKCk7aygpOyFBJiYhcyYmKGI9Yi5yZXBsYWNlKC9bXFx0XFxyXFxuIF17Mix9fFtcXHRcXHJcXG5dL2csXCIgXCIpKTtiPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLnRleHQoYik7aWYobyhpLGIpKXRoaXMub25UYWdPcGVuKGcse30sMCwxKTtpLmFkZChiKX19O2oub25DREFUQT1mdW5jdGlvbihhKXtpLmFkZChuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5jZGF0YShhKSl9O1xuai5vbkNvbW1lbnQ9ZnVuY3Rpb24oYSl7aCgpO2soKTtpLmFkZChuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5jb21tZW50KGEpKX07ai5wYXJzZShlKTtmb3IoaCghQ0tFRElUT1IuZW52LmllJiYxKTtpIT1xOyluKGksaS5wYXJlbnQsMSk7bShxKTtyZXR1cm4gcX07Q0tFRElUT1IuaHRtbFBhcnNlci5mcmFnbWVudC5wcm90b3R5cGU9e3R5cGU6Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVCxhZGQ6ZnVuY3Rpb24oYSxiKXtpc05hTihiKSYmKGI9dGhpcy5jaGlsZHJlbi5sZW5ndGgpO3ZhciBjPWI+MD90aGlzLmNoaWxkcmVuW2ItMV06bnVsbDtpZihjKXtpZihhLl8uaXNCbG9ja0xpa2UmJmMudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUKXtjLnZhbHVlPUNLRURJVE9SLnRvb2xzLnJ0cmltKGMudmFsdWUpO2lmKGMudmFsdWUubGVuZ3RoPT09MCl7dGhpcy5jaGlsZHJlbi5wb3AoKTt0aGlzLmFkZChhKTtyZXR1cm59fWMubmV4dD1hfWEucHJldmlvdXM9YzthLnBhcmVudD10aGlzO1xudGhpcy5jaGlsZHJlbi5zcGxpY2UoYiwwLGEpO2lmKCF0aGlzLl8uaGFzSW5saW5lU3RhcnRlZCl0aGlzLl8uaGFzSW5saW5lU3RhcnRlZD1hLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVHx8YS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJiFhLl8uaXNCbG9ja0xpa2V9LHdyaXRlSHRtbDpmdW5jdGlvbihhLGIpe3ZhciBjO3RoaXMuZmlsdGVyQ2hpbGRyZW49ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5iYXNpY1dyaXRlcjt0aGlzLndyaXRlQ2hpbGRyZW5IdG1sLmNhbGwodGhpcyxhLGIpO2E9YS5nZXRIdG1sKCk7dGhpcy5jaGlsZHJlbj0obmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZnJhZ21lbnQuZnJvbUh0bWwoYSkpLmNoaWxkcmVuO2M9MX07YiYmYi5vblJvb3QodGhpcyk7dGhpcy53cml0ZUNoaWxkcmVuSHRtbChhLGM/bnVsbDpiKX0sd3JpdGVDaGlsZHJlbkh0bWw6ZnVuY3Rpb24oYSxiLGMpe2lmKGMmJiF0aGlzLnBhcmVudCYmYiliLm9uUm9vdCh0aGlzKTtcbmZvcihjPTA7Yzx0aGlzLmNoaWxkcmVuLmxlbmd0aDtjKyspdGhpcy5jaGlsZHJlbltjXS53cml0ZUh0bWwoYSxiKX19fSkoKTtcbihmdW5jdGlvbigpe2Z1bmN0aW9uIGIoYSxiKXtmb3IodmFyIGM9MDthJiZjPGIubGVuZ3RoO2MrKyl2YXIgZT1iW2NdLGE9YS5yZXBsYWNlKGVbMF0sZVsxXSk7cmV0dXJuIGF9ZnVuY3Rpb24gYyhhLGIsYyl7dHlwZW9mIGI9PVwiZnVuY3Rpb25cIiYmKGI9W2JdKTt2YXIgZSxmO2Y9YS5sZW5ndGg7dmFyIG49YiYmYi5sZW5ndGg7aWYobil7Zm9yKGU9MDtlPGYmJmFbZV0ucHJpPGM7ZSsrKTtmb3IoZj1uLTE7Zj49MDtmLS0paWYobj1iW2ZdKXtuLnByaT1jO2Euc3BsaWNlKGUsMCxuKX19fWZ1bmN0aW9uIGEoYSxiLGMpe2lmKGIpZm9yKHZhciBlIGluIGIpe3ZhciBtPWFbZV07YVtlXT1mKG0sYltlXSxjKTttfHxhLiRsZW5ndGgrK319ZnVuY3Rpb24gZihhLGIsZil7aWYoYil7Yi5wcmk9ZjtpZihhKXtpZihhLnNwbGljZSljKGEsYixmKTtlbHNle2E9YS5wcmk+Zj9bYixhXTpbYSxiXTthLmZpbHRlcj1lfXJldHVybiBhfXJldHVybiBiLmZpbHRlcj1ifX1mdW5jdGlvbiBlKGEpe2Zvcih2YXIgYj1cbmEudHlwZXx8YSBpbnN0YW5jZW9mIENLRURJVE9SLmh0bWxQYXJzZXIuZnJhZ21lbnQsYz0wO2M8dGhpcy5sZW5ndGg7YysrKXtpZihiKXZhciBlPWEudHlwZSxmPWEubmFtZTt2YXIgbj10aGlzW2NdLmFwcGx5KHdpbmRvdyxhcmd1bWVudHMpO2lmKG49PT1mYWxzZSlyZXR1cm4gbjtpZihiKXtpZihuJiYobi5uYW1lIT1mfHxuLnR5cGUhPWUpKXJldHVybiBufWVsc2UgaWYodHlwZW9mIG4hPVwic3RyaW5nXCIpcmV0dXJuIG47biE9dm9pZCAwJiYoYT1uKX1yZXR1cm4gYX1DS0VESVRPUi5odG1sUGFyc2VyLmZpbHRlcj1DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7JDpmdW5jdGlvbihhKXt0aGlzLl89e2VsZW1lbnROYW1lczpbXSxhdHRyaWJ1dGVOYW1lczpbXSxlbGVtZW50czp7JGxlbmd0aDowfSxhdHRyaWJ1dGVzOnskbGVuZ3RoOjB9fTthJiZ0aGlzLmFkZFJ1bGVzKGEsMTApfSxwcm90bzp7YWRkUnVsZXM6ZnVuY3Rpb24oYixlKXt0eXBlb2YgZSE9XCJudW1iZXJcIiYmKGU9MTApO1xuYyh0aGlzLl8uZWxlbWVudE5hbWVzLGIuZWxlbWVudE5hbWVzLGUpO2ModGhpcy5fLmF0dHJpYnV0ZU5hbWVzLGIuYXR0cmlidXRlTmFtZXMsZSk7YSh0aGlzLl8uZWxlbWVudHMsYi5lbGVtZW50cyxlKTthKHRoaXMuXy5hdHRyaWJ1dGVzLGIuYXR0cmlidXRlcyxlKTt0aGlzLl8udGV4dD1mKHRoaXMuXy50ZXh0LGIudGV4dCxlKXx8dGhpcy5fLnRleHQ7dGhpcy5fLmNvbW1lbnQ9Zih0aGlzLl8uY29tbWVudCxiLmNvbW1lbnQsZSl8fHRoaXMuXy5jb21tZW50O3RoaXMuXy5yb290PWYodGhpcy5fLnJvb3QsYi5yb290LGUpfHx0aGlzLl8ucm9vdH0sb25FbGVtZW50TmFtZTpmdW5jdGlvbihhKXtyZXR1cm4gYihhLHRoaXMuXy5lbGVtZW50TmFtZXMpfSxvbkF0dHJpYnV0ZU5hbWU6ZnVuY3Rpb24oYSl7cmV0dXJuIGIoYSx0aGlzLl8uYXR0cmlidXRlTmFtZXMpfSxvblRleHQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fLnRleHQ7cmV0dXJuIGI/Yi5maWx0ZXIoYSk6YX0sb25Db21tZW50OmZ1bmN0aW9uKGEsXG5iKXt2YXIgYz10aGlzLl8uY29tbWVudDtyZXR1cm4gYz9jLmZpbHRlcihhLGIpOmF9LG9uUm9vdDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLl8ucm9vdDtyZXR1cm4gYj9iLmZpbHRlcihhKTphfSxvbkVsZW1lbnQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVt0aGlzLl8uZWxlbWVudHNbXCJeXCJdLHRoaXMuXy5lbGVtZW50c1thLm5hbWVdLHRoaXMuXy5lbGVtZW50cy4kXSxjLGU9MDtlPDM7ZSsrKWlmKGM9YltlXSl7Yz1jLmZpbHRlcihhLHRoaXMpO2lmKGM9PT1mYWxzZSlyZXR1cm4gbnVsbDtpZihjJiZjIT1hKXJldHVybiB0aGlzLm9uTm9kZShjKTtpZihhLnBhcmVudCYmIWEubmFtZSlicmVha31yZXR1cm4gYX0sb25Ob2RlOmZ1bmN0aW9uKGEpe3ZhciBiPWEudHlwZTtyZXR1cm4gYj09Q0tFRElUT1IuTk9ERV9FTEVNRU5UP3RoaXMub25FbGVtZW50KGEpOmI9PUNLRURJVE9SLk5PREVfVEVYVD9uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci50ZXh0KHRoaXMub25UZXh0KGEudmFsdWUpKTpcbmI9PUNLRURJVE9SLk5PREVfQ09NTUVOVD9uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5jb21tZW50KHRoaXMub25Db21tZW50KGEudmFsdWUpKTpudWxsfSxvbkF0dHJpYnV0ZTpmdW5jdGlvbihhLGIsYyl7aWYoYj10aGlzLl8uYXR0cmlidXRlc1tiXSl7YT1iLmZpbHRlcihjLGEsdGhpcyk7aWYoYT09PWZhbHNlKXJldHVybiBmYWxzZTtpZih0eXBlb2YgYSE9XCJ1bmRlZmluZWRcIilyZXR1cm4gYX1yZXR1cm4gY319fSl9KSgpO1xuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihiLGMpe2Z1bmN0aW9uIG8oYSl7cmV0dXJuIGF8fENLRURJVE9SLmVudi5pZT9uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci50ZXh0KFwiwqBcIik6bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudChcImJyXCIse1wiZGF0YS1ja2UtYm9ndXNcIjoxfSl9ZnVuY3Rpb24gbChiLGMpe3JldHVybiBmdW5jdGlvbihsKXtpZihsLnR5cGUhPUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQpe3ZhciBlPVtdLGc9YShsKSxpLEs7aWYoZylmb3IoaihnLDEpJiZlLnB1c2goZyk7Zzspe2lmKGQoZykmJihpPWYoZykpJiZqKGkpKWlmKChLPWYoaSkpJiYhZChLKSllLnB1c2goaSk7ZWxzZXt2YXIgaD1pLHE9byh0KSxtPWgucGFyZW50LmNoaWxkcmVuLHk9Q0tFRElUT1IudG9vbHMuaW5kZXhPZihtLGgpO20uc3BsaWNlKHkrMSwwLHEpO209aC5uZXh0O2gubmV4dD1xO3EucHJldmlvdXM9aDtxLnBhcmVudD1oLnBhcmVudDtxLm5leHQ9bTtrKGkpfWc9Zy5wcmV2aW91c31mb3IoZz1cbjA7ZzxlLmxlbmd0aDtnKyspayhlW2ddKTtpZihlPUNLRURJVE9SLmVudi5vcGVyYSYmIWJ8fCh0eXBlb2YgYz09XCJmdW5jdGlvblwiP2MobCkhPT1mYWxzZTpjKSlpZighdCYmQ0tFRElUT1IuZW52LmllJiZsLnR5cGU9PUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQpZT1mYWxzZTtlbHNlIGlmKCF0JiZDS0VESVRPUi5lbnYuaWUmJihkb2N1bWVudC5kb2N1bWVudE1vZGU+N3x8bC5uYW1lIGluIENLRURJVE9SLmR0ZC50cnx8bC5uYW1lIGluIENLRURJVE9SLmR0ZC4kbGlzdEl0ZW0pKWU9ZmFsc2U7ZWxzZXtlPWEobCk7ZT0hZXx8bC5uYW1lPT1cImZvcm1cIiYmZS5uYW1lPT1cImlucHV0XCJ9ZSYmbC5hZGQobyhiKSl9fX1mdW5jdGlvbiBqKGEsYil7aWYoKCF0fHwhQ0tFRElUT1IuZW52LmllKSYmYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEubmFtZT09XCJiclwiJiYhYS5hdHRyaWJ1dGVzW1wiZGF0YS1ja2UtZW9sXCJdKXJldHVybiB0cnVlO3ZhciBjO2lmKGEudHlwZT09XG5DS0VESVRPUi5OT0RFX1RFWFQmJihjPWEudmFsdWUubWF0Y2gocykpKXtpZihjLmluZGV4KXtnKGEsbmV3IENLRURJVE9SLmh0bWxQYXJzZXIudGV4dChhLnZhbHVlLnN1YnN0cmluZygwLGMuaW5kZXgpKSk7YS52YWx1ZT1jWzBdfWlmKENLRURJVE9SLmVudi5pZSYmdCYmKCFifHxhLnBhcmVudC5uYW1lIGluIGgpKXJldHVybiB0cnVlO2lmKCF0KWlmKChjPWEucHJldmlvdXMpJiZjLm5hbWU9PVwiYnJcInx8IWN8fGQoYykpcmV0dXJuIHRydWV9cmV0dXJuIGZhbHNlfXZhciBpPXtlbGVtZW50czp7fX0sdD1jPT1cImh0bWxcIixoPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxFKSxxO2ZvcihxIGluIGgpXCIjXCJpbiBCW3FdfHxkZWxldGUgaFtxXTtmb3IocSBpbiBoKWkuZWxlbWVudHNbcV09bCh0LGIuY29uZmlnLmZpbGxFbXB0eUJsb2NrcyE9PWZhbHNlKTtpLnJvb3Q9bCh0KTtpLmVsZW1lbnRzLmJyPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtpZihiLnBhcmVudC50eXBlIT1cbkNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQpe3ZhciBjPWIuYXR0cmlidXRlcztpZihcImRhdGEtY2tlLWJvZ3VzXCJpbiBjfHxcImRhdGEtY2tlLWVvbFwiaW4gYylkZWxldGUgY1tcImRhdGEtY2tlLWJvZ3VzXCJdO2Vsc2V7Zm9yKGM9Yi5uZXh0O2MmJmUoYyk7KWM9Yy5uZXh0O3ZhciBsPWYoYik7aWYoIWMmJmQoYi5wYXJlbnQpKXtiPWIucGFyZW50O2M9byhhKTtsPWIuY2hpbGRyZW5bYi5jaGlsZHJlbi5sZW5ndGgtMV07Yi5jaGlsZHJlbi5wdXNoKGMpO2MucGFyZW50PWI7aWYobCl7bC5uZXh0PWM7Yy5wcmV2aW91cz1sfX1lbHNlIGQoYykmJihsJiYhZChsKSkmJmcoYyxvKGEpKX19fX0odCk7cmV0dXJuIGl9ZnVuY3Rpb24gYyhhKXtyZXR1cm4gYS5lbnRlck1vZGUhPUNLRURJVE9SLkVOVEVSX0JSJiZhLmF1dG9QYXJhZ3JhcGghPT1mYWxzZT9hLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfRElWP1wiZGl2XCI6XCJwXCI6ZmFsc2V9ZnVuY3Rpb24gYShhKXtmb3IoYT1hLmNoaWxkcmVuW2EuY2hpbGRyZW4ubGVuZ3RoLVxuMV07YSYmZShhKTspYT1hLnByZXZpb3VzO3JldHVybiBhfWZ1bmN0aW9uIGYoYSl7Zm9yKGE9YS5wcmV2aW91czthJiZlKGEpOylhPWEucHJldmlvdXM7cmV0dXJuIGF9ZnVuY3Rpb24gZShhKXtyZXR1cm4gYS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJiFDS0VESVRPUi50b29scy50cmltKGEudmFsdWUpfHxhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5hdHRyaWJ1dGVzW1wiZGF0YS1ja2UtYm9va21hcmtcIl19ZnVuY3Rpb24gZChhKXtyZXR1cm4gYSYmKGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLm5hbWUgaW4gRXx8YS50eXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UKX1mdW5jdGlvbiBnKGEsYil7dmFyIGM9YS5wYXJlbnQuY2hpbGRyZW4sZD1DS0VESVRPUi50b29scy5pbmRleE9mKGMsYSk7Yy5zcGxpY2UoZCwwLGIpO2M9YS5wcmV2aW91czthLnByZXZpb3VzPWI7Yi5uZXh0PWE7Yi5wYXJlbnQ9YS5wYXJlbnQ7aWYoYyl7Yi5wcmV2aW91cz1cbmM7Yy5uZXh0PWJ9fWZ1bmN0aW9uIGsoYSl7dmFyIGI9YS5wYXJlbnQuY2hpbGRyZW4sYz1DS0VESVRPUi50b29scy5pbmRleE9mKGIsYSksZD1hLnByZXZpb3VzLGE9YS5uZXh0O2QmJihkLm5leHQ9YSk7YSYmKGEucHJldmlvdXM9ZCk7Yi5zcGxpY2UoYywxKX1mdW5jdGlvbiBoKGEpe3ZhciBiPWEucGFyZW50O3JldHVybiBiP0NLRURJVE9SLnRvb2xzLmluZGV4T2YoYi5jaGlsZHJlbixhKTotMX1mdW5jdGlvbiBtKGEpe2E9YS5hdHRyaWJ1dGVzO2EuY29udGVudGVkaXRhYmxlIT1cImZhbHNlXCImJihhW1wiZGF0YS1ja2UtZWRpdGFibGVcIl09YS5jb250ZW50ZWRpdGFibGU/XCJ0cnVlXCI6MSk7YS5jb250ZW50ZWRpdGFibGU9XCJmYWxzZVwifWZ1bmN0aW9uIG4oYSl7YT1hLmF0dHJpYnV0ZXM7c3dpdGNoKGFbXCJkYXRhLWNrZS1lZGl0YWJsZVwiXSl7Y2FzZSBcInRydWVcIjphLmNvbnRlbnRlZGl0YWJsZT1cInRydWVcIjticmVhaztjYXNlIFwiMVwiOmRlbGV0ZSBhLmNvbnRlbnRlZGl0YWJsZX19ZnVuY3Rpb24gbyhhKXtyZXR1cm4gYS5yZXBsYWNlKHYsXG5mdW5jdGlvbihhLGIsYyl7cmV0dXJuXCI8XCIrYitjLnJlcGxhY2UodCxmdW5jdGlvbihhLGIpe3JldHVybiEvXm9uLy50ZXN0KGIpJiZjLmluZGV4T2YoXCJkYXRhLWNrZS1zYXZlZC1cIitiKT09LTE/XCIgZGF0YS1ja2Utc2F2ZWQtXCIrYStcIiBkYXRhLWNrZS1cIitDS0VESVRPUi5ybmQrXCItXCIrYTphfSkrXCI+XCJ9KX1mdW5jdGlvbiBsKGEpe3JldHVybiBhLnJlcGxhY2UodyxmdW5jdGlvbihhKXtyZXR1cm5cIjxja2U6ZW5jb2RlZD5cIitlbmNvZGVVUklDb21wb25lbnQoYSkrXCI8L2NrZTplbmNvZGVkPlwifSl9ZnVuY3Rpb24gaihhKXtyZXR1cm4gYS5yZXBsYWNlKEksZnVuY3Rpb24oYSxiKXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGIpfSl9ZnVuY3Rpb24gcShhKXtyZXR1cm4gYS5yZXBsYWNlKC88XFwhLS0oPyF7Y2tlX3Byb3RlY3RlZH0pW1xcc1xcU10rPy0tXFw+L2csZnVuY3Rpb24oYSl7cmV0dXJuXCI8XFwhLS1cIitBK1wie0N9XCIrZW5jb2RlVVJJQ29tcG9uZW50KGEpLnJlcGxhY2UoLy0tL2csXG5cIiUyRCUyRFwiKStcIi0tXFw+XCJ9KX1mdW5jdGlvbiB5KGEpe3JldHVybiBhLnJlcGxhY2UoLzxcXCEtLVxce2NrZV9wcm90ZWN0ZWRcXH1cXHtDXFx9KFtcXHNcXFNdKz8pLS1cXD4vZyxmdW5jdGlvbihhLGIpe3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoYil9KX1mdW5jdGlvbiB6KGEsYil7dmFyIGM9Yi5fLmRhdGFTdG9yZTtyZXR1cm4gYS5yZXBsYWNlKC88XFwhLS1cXHtja2VfcHJvdGVjdGVkXFx9KFtcXHNcXFNdKz8pLS1cXD4vZyxmdW5jdGlvbihhLGIpe3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoYil9KS5yZXBsYWNlKC9cXHtja2VfcHJvdGVjdGVkXyhcXGQrKVxcfS9nLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGMmJmNbYl18fFwiXCJ9KX1mdW5jdGlvbiBpKGEsYil7Zm9yKHZhciBjPVtdLGQ9Yi5jb25maWcucHJvdGVjdGVkU291cmNlLG89Yi5fLmRhdGFTdG9yZXx8KGIuXy5kYXRhU3RvcmU9e2lkOjF9KSxsPS88XFwhLS1cXHtja2VfdGVtcChjb21tZW50KT9cXH0oXFxkKj8pLS1cXD4vZyxkPVsvPHNjcmlwdFtcXHNcXFNdKj88XFwvc2NyaXB0Pi9naSxcbi88bm9zY3JpcHRbXFxzXFxTXSo/PFxcL25vc2NyaXB0Pi9naV0uY29uY2F0KGQpLGE9YS5yZXBsYWNlKC88XFwhLS1bXFxzXFxTXSo/LS1cXD4vZyxmdW5jdGlvbihhKXtyZXR1cm5cIjxcXCEtLXtja2VfdGVtcGNvbW1lbnR9XCIrKGMucHVzaChhKS0xKStcIi0tXFw+XCJ9KSxqPTA7ajxkLmxlbmd0aDtqKyspYT1hLnJlcGxhY2UoZFtqXSxmdW5jdGlvbihhKXthPWEucmVwbGFjZShsLGZ1bmN0aW9uKGEsYixkKXtyZXR1cm4gY1tkXX0pO3JldHVybi9ja2VfdGVtcChjb21tZW50KT8vLnRlc3QoYSk/YTpcIjxcXCEtLXtja2VfdGVtcH1cIisoYy5wdXNoKGEpLTEpK1wiLS1cXD5cIn0pO2E9YS5yZXBsYWNlKGwsZnVuY3Rpb24oYSxiLGQpe3JldHVyblwiPFxcIS0tXCIrQSsoYj9cIntDfVwiOlwiXCIpK2VuY29kZVVSSUNvbXBvbmVudChjW2RdKS5yZXBsYWNlKC8tLS9nLFwiJTJEJTJEXCIpK1wiLS1cXD5cIn0pO3JldHVybiBhLnJlcGxhY2UoLyhbJ1wiXSkuKj9cXDEvZyxmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC88XFwhLS1cXHtja2VfcHJvdGVjdGVkXFx9KFtcXHNcXFNdKz8pLS1cXD4vZyxcbmZ1bmN0aW9uKGEsYil7b1tvLmlkXT1kZWNvZGVVUklDb21wb25lbnQoYik7cmV0dXJuXCJ7Y2tlX3Byb3RlY3RlZF9cIitvLmlkKysgK1wifVwifSl9KX1DS0VESVRPUi5odG1sRGF0YVByb2Nlc3Nvcj1mdW5jdGlvbihhKXt2YXIgYyxkO3RoaXMuZWRpdG9yPWE7dGhpcy5kYXRhRmlsdGVyPWM9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZmlsdGVyO3RoaXMuaHRtbEZpbHRlcj1kPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmZpbHRlcjt0aGlzLndyaXRlcj1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5iYXNpY1dyaXRlcjtjLmFkZFJ1bGVzKHUpO2MuYWRkUnVsZXMoYihhLFwiZGF0YVwiKSk7ZC5hZGRSdWxlcyhyKTtkLmFkZFJ1bGVzKGIoYSxcImh0bWxcIikpfTtDS0VESVRPUi5odG1sRGF0YVByb2Nlc3Nvci5wcm90b3R5cGU9e3RvSHRtbDpmdW5jdGlvbihhLGIsZCl7dmFyIGE9aShhLHRoaXMuZWRpdG9yKSxhPW8oYSksYT1sKGEpLGE9YS5yZXBsYWNlKEcsXCIkMWNrZTokMlwiKSxhPWEucmVwbGFjZShRLFxuXCI8Y2tlOiQxJDI+PC9ja2U6JDE+XCIpLGE9Q0tFRElUT1IuZW52Lm9wZXJhP2E6YS5yZXBsYWNlKC8oPHByZVxcYltePl0qPikoXFxyXFxufFxcbikvZyxcIiQxJDIkMlwiKSxlPXRoaXMuZWRpdG9yLmVkaXRhYmxlKCksZjshYiYmYiE9PW51bGwmJihiPWUuZ2V0TmFtZSgpKTtlPWJ8fGUuZ2V0TmFtZSgpO2lmKENLRURJVE9SLmVudi5pZSYmQ0tFRElUT1IuZW52LnZlcnNpb248OSYmZT09XCJwcmVcIil7ZT1cImRpdlwiO2E9XCI8cHJlPlwiK2ErXCI8L3ByZT5cIjtmPTF9ZT10aGlzLmVkaXRvci5kb2N1bWVudC5jcmVhdGVFbGVtZW50KGUpO2Uuc2V0SHRtbChcImFcIithKTthPWUuZ2V0SHRtbCgpLnN1YnN0cigxKTthPWEucmVwbGFjZShSZWdFeHAoXCIgZGF0YS1ja2UtXCIrQ0tFRElUT1Iucm5kK1wiLVwiLFwiaWdcIiksXCIgXCIpO2YmJihhPWEucmVwbGFjZSgvXjxwcmU+fDxcXC9wcmU+JC9naSxcIlwiKSk7YT1hLnJlcGxhY2UoQyxcIiQxJDJcIik7YT1qKGEpO2E9eShhKTthPUNLRURJVE9SLmh0bWxQYXJzZXIuZnJhZ21lbnQuZnJvbUh0bWwoYSxcbmIsZD09PWZhbHNlP2ZhbHNlOmModGhpcy5lZGl0b3IuY29uZmlnKSk7Yj1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5iYXNpY1dyaXRlcjthLndyaXRlQ2hpbGRyZW5IdG1sKGIsdGhpcy5kYXRhRmlsdGVyLDEpO2E9Yi5nZXRIdG1sKHRydWUpO3JldHVybiBhPXEoYSl9LHRvRGF0YUZvcm1hdDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmVkaXRvci5lZGl0YWJsZSgpLGQ9dGhpcy53cml0ZXIsYT1DS0VESVRPUi5odG1sUGFyc2VyLmZyYWdtZW50LmZyb21IdG1sKGEsYi5nZXROYW1lKCksYyh0aGlzLmVkaXRvci5jb25maWcpKTtkLnJlc2V0KCk7YS53cml0ZUNoaWxkcmVuSHRtbChkLHRoaXMuaHRtbEZpbHRlciwxKTtkPWQuZ2V0SHRtbCh0cnVlKTtkPXkoZCk7cmV0dXJuIGQ9eihkLHRoaXMuZWRpdG9yKX19O3ZhciBzPS8oPzombmJzcDt8XFx4YTApJC8sQT1cIntja2VfcHJvdGVjdGVkfVwiLEI9Q0tFRElUT1IuZHRkLHA9W1wiY2FwdGlvblwiLFwiY29sZ3JvdXBcIixcImNvbFwiLFwidGhlYWRcIixcInRmb290XCIsXG5cInRib2R5XCJdLEU9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LEIuJGJsb2NrTGltaXQsQi4kYmxvY2spLHU9e2VsZW1lbnRzOnt9LGF0dHJpYnV0ZU5hbWVzOltbL15vbi8sXCJkYXRhLWNrZS1wYS1vblwiXV19LHI9e2VsZW1lbnROYW1lczpbWy9eY2tlOi8sXCJcIl0sWy9eXFw/eG1sOm5hbWVzcGFjZSQvLFwiXCJdXSxhdHRyaWJ1dGVOYW1lczpbWy9eZGF0YS1ja2UtKHNhdmVkfHBhKS0vLFwiXCJdLFsvXmRhdGEtY2tlLS4qLyxcIlwiXSxbXCJoaWRlZm9jdXNcIixcIlwiXV0sZWxlbWVudHM6eyQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5hdHRyaWJ1dGVzO2lmKGIpe2lmKGJbXCJkYXRhLWNrZS10ZW1wXCJdKXJldHVybiBmYWxzZTtmb3IodmFyIGM9W1wibmFtZVwiLFwiaHJlZlwiLFwic3JjXCJdLGQsbz0wO288Yy5sZW5ndGg7bysrKXtkPVwiZGF0YS1ja2Utc2F2ZWQtXCIrY1tvXTtkIGluIGImJmRlbGV0ZSBiW2Nbb11dfX1yZXR1cm4gYX0sdGFibGU6ZnVuY3Rpb24oYSl7YS5jaGlsZHJlbi5zbGljZSgwKS5zb3J0KGZ1bmN0aW9uKGEsXG5iKXt2YXIgYyxkO2lmKGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZiLnR5cGU9PWEudHlwZSl7Yz1DS0VESVRPUi50b29scy5pbmRleE9mKHAsYS5uYW1lKTtkPUNLRURJVE9SLnRvb2xzLmluZGV4T2YocCxiLm5hbWUpfWlmKCEoYz4tMSYmZD4tMSYmYyE9ZCkpe2M9aChhKTtkPWgoYil9cmV0dXJuIGM+ZD8xOi0xfSl9LGVtYmVkOmZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50O2lmKGImJmIubmFtZT09XCJvYmplY3RcIil7dmFyIGM9Yi5hdHRyaWJ1dGVzLndpZHRoLGI9Yi5hdHRyaWJ1dGVzLmhlaWdodDtjJiYoYS5hdHRyaWJ1dGVzLndpZHRoPWMpO2ImJihhLmF0dHJpYnV0ZXMuaGVpZ2h0PWIpfX0scGFyYW06ZnVuY3Rpb24oYSl7YS5jaGlsZHJlbj1bXTthLmlzRW1wdHk9dHJ1ZTtyZXR1cm4gYX0sYTpmdW5jdGlvbihhKXtpZighYS5jaGlsZHJlbi5sZW5ndGgmJiFhLmF0dHJpYnV0ZXMubmFtZSYmIWEuYXR0cmlidXRlc1tcImRhdGEtY2tlLXNhdmVkLW5hbWVcIl0pcmV0dXJuIGZhbHNlfSxcbnNwYW46ZnVuY3Rpb24oYSl7YS5hdHRyaWJ1dGVzW1wiY2xhc3NcIl09PVwiQXBwbGUtc3R5bGUtc3BhblwiJiZkZWxldGUgYS5uYW1lfSxodG1sOmZ1bmN0aW9uKGEpe2RlbGV0ZSBhLmF0dHJpYnV0ZXMuY29udGVudGVkaXRhYmxlO2RlbGV0ZSBhLmF0dHJpYnV0ZXNbXCJjbGFzc1wiXX0sYm9keTpmdW5jdGlvbihhKXtkZWxldGUgYS5hdHRyaWJ1dGVzLnNwZWxsY2hlY2s7ZGVsZXRlIGEuYXR0cmlidXRlcy5jb250ZW50ZWRpdGFibGV9LHN0eWxlOmZ1bmN0aW9uKGEpe3ZhciBiPWEuY2hpbGRyZW5bMF07YiYmYi52YWx1ZSYmKGIudmFsdWU9Q0tFRElUT1IudG9vbHMudHJpbShiLnZhbHVlKSk7aWYoIWEuYXR0cmlidXRlcy50eXBlKWEuYXR0cmlidXRlcy50eXBlPVwidGV4dC9jc3NcIn0sdGl0bGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5jaGlsZHJlblswXTtiJiYoYi52YWx1ZT1hLmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS10aXRsZVwiXXx8XCJcIil9fSxhdHRyaWJ1dGVzOntcImNsYXNzXCI6ZnVuY3Rpb24oYSl7cmV0dXJuIENLRURJVE9SLnRvb2xzLmx0cmltKGEucmVwbGFjZSgvKD86XnxcXHMrKWNrZV9bXlxcc10qL2csXG5cIlwiKSl8fGZhbHNlfX19O2lmKENLRURJVE9SLmVudi5pZSlyLmF0dHJpYnV0ZXMuc3R5bGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvKF58OykoW15cXDpdKykvZyxmdW5jdGlvbihhKXtyZXR1cm4gYS50b0xvd2VyQ2FzZSgpfSl9O2Zvcih2YXIgRCBpbntpbnB1dDoxLHRleHRhcmVhOjF9KXt1LmVsZW1lbnRzW0RdPW07ci5lbGVtZW50c1tEXT1ufXZhciB2PS88KGF8YXJlYXxpbWd8aW5wdXR8c291cmNlKVxcYihbXj5dKik+L2dpLHQ9L1xcYihvblxcdyt8aHJlZnxzcmN8bmFtZSlcXHMqPVxccyooPzooPzpcIlteXCJdKlwiKXwoPzonW14nXSonKXwoPzpbXiBcIic+XSspKS9naSx3PS8oPzo8c3R5bGUoPz1bID5dKVtePl0qPltcXHNcXFNdKjxcXC9zdHlsZT4pfCg/OjwoOj9saW5rfG1ldGF8YmFzZSlbXj5dKj4pL2dpLEk9Lzxja2U6ZW5jb2RlZD4oW148XSopPFxcL2NrZTplbmNvZGVkPi9naSxHPS8oPFxcLz8pKCg/Om9iamVjdHxlbWJlZHxwYXJhbXxodG1sfGJvZHl8aGVhZHx0aXRsZSlbXj5dKj4pL2dpLFxuQz0vKDxcXC8/KWNrZTooKD86aHRtbHxib2R5fGhlYWR8dGl0bGUpW14+XSo+KS9naSxRPS88Y2tlOihwYXJhbXxlbWJlZCkoW14+XSo/KVxcLz8+KD8hXFxzKjxcXC9ja2U6XFwxKS9naX0pKCk7XG5DS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQ9ZnVuY3Rpb24oYixjKXt0aGlzLm5hbWU9Yjt0aGlzLmF0dHJpYnV0ZXM9Y3x8e307dGhpcy5jaGlsZHJlbj1bXTt2YXIgYT1ifHxcIlwiLGY9YS5tYXRjaCgvXmNrZTooLiopLyk7ZiYmKGE9ZlsxXSk7YT0hKCFDS0VESVRPUi5kdGQuJG5vbkJvZHlDb250ZW50W2FdJiYhQ0tFRElUT1IuZHRkLiRibG9ja1thXSYmIUNLRURJVE9SLmR0ZC4kbGlzdEl0ZW1bYV0mJiFDS0VESVRPUi5kdGQuJHRhYmxlQ29udGVudFthXSYmIShDS0VESVRPUi5kdGQuJG5vbkVkaXRhYmxlW2FdfHxhPT1cImJyXCIpKTt0aGlzLmlzRW1wdHk9ISFDS0VESVRPUi5kdGQuJGVtcHR5W2JdO3RoaXMuaXNVbmtub3duPSFDS0VESVRPUi5kdGRbYl07dGhpcy5fPXtpc0Jsb2NrTGlrZTphLGhhc0lubGluZVN0YXJ0ZWQ6dGhpcy5pc0VtcHR5fHwhYX19O1xuQ0tFRElUT1IuaHRtbFBhcnNlci5jc3NTdHlsZT1mdW5jdGlvbihiKXt2YXIgYz17fTsoKGIgaW5zdGFuY2VvZiBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQ/Yi5hdHRyaWJ1dGVzLnN0eWxlOmIpfHxcIlwiKS5yZXBsYWNlKC8mcXVvdDsvZywnXCInKS5yZXBsYWNlKC9cXHMqKFteIDo7XSspXFxzKjpcXHMqKFteO10rKVxccyooPz07fCQpL2csZnVuY3Rpb24oYSxiLGUpe2I9PVwiZm9udC1mYW1pbHlcIiYmKGU9ZS5yZXBsYWNlKC9bXCInXS9nLFwiXCIpKTtjW2IudG9Mb3dlckNhc2UoKV09ZX0pO3JldHVybntydWxlczpjLHBvcHVsYXRlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMudG9TdHJpbmcoKTtpZihiKWEgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20uZWxlbWVudD9hLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsYik6YSBpbnN0YW5jZW9mIENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudD9hLmF0dHJpYnV0ZXMuc3R5bGU9YjphLnN0eWxlPWJ9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7dmFyIGE9W10sYjtcbmZvcihiIGluIGMpY1tiXSYmYS5wdXNoKGIsXCI6XCIsY1tiXSxcIjtcIik7cmV0dXJuIGEuam9pbihcIlwiKX19fTtcbihmdW5jdGlvbigpe3ZhciBiPWZ1bmN0aW9uKGIsYSl7Yj1iWzBdO2E9YVswXTtyZXR1cm4gYjxhPy0xOmI+YT8xOjB9O0NLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudC5wcm90b3R5cGU9e3R5cGU6Q0tFRElUT1IuTk9ERV9FTEVNRU5ULGFkZDpDS0VESVRPUi5odG1sUGFyc2VyLmZyYWdtZW50LnByb3RvdHlwZS5hZGQsY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudCh0aGlzLm5hbWUsdGhpcy5hdHRyaWJ1dGVzKX0sd3JpdGVIdG1sOmZ1bmN0aW9uKGMsYSl7dmFyIGY9dGhpcy5hdHRyaWJ1dGVzLGU9dGhpcyxkPWUubmFtZSxnLGssaCxtO2UuZmlsdGVyQ2hpbGRyZW49ZnVuY3Rpb24oKXtpZighbSl7dmFyIGI9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuYmFzaWNXcml0ZXI7Q0tFRElUT1IuaHRtbFBhcnNlci5mcmFnbWVudC5wcm90b3R5cGUud3JpdGVDaGlsZHJlbkh0bWwuY2FsbChlLGIsYSk7ZS5jaGlsZHJlbj0obmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZnJhZ21lbnQuZnJvbUh0bWwoYi5nZXRIdG1sKCksXG5lLmNsb25lKCksMCkpLmNoaWxkcmVuO209MX19O2lmKGEpe2lmKCF0aGlzLnBhcmVudClhLm9uUm9vdCh0aGlzKTtmb3IoOzspe2lmKCEoZD1hLm9uRWxlbWVudE5hbWUoZCkpKXJldHVybjtlLm5hbWU9ZDtpZighKGU9YS5vbkVsZW1lbnQoZSkpKXJldHVybjtlLnBhcmVudD10aGlzLnBhcmVudDtpZihlLm5hbWU9PWQpYnJlYWs7aWYoZS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpe2Uud3JpdGVIdG1sKGMsYSk7cmV0dXJufWQ9ZS5uYW1lO2lmKCFkKXtmb3IodmFyIGQ9MCxuPXRoaXMuY2hpbGRyZW4ubGVuZ3RoO2Q8bjtkKyspdGhpcy5jaGlsZHJlbltkXS5wYXJlbnQ9ZS5wYXJlbnQ7dGhpcy53cml0ZUNoaWxkcmVuSHRtbC5jYWxsKGUsYyxtP251bGw6YSk7cmV0dXJufX1mPWUuYXR0cmlidXRlc31jLm9wZW5UYWcoZCxmKTtmb3IodmFyIG49W10sbz0wO288MjtvKyspZm9yKGcgaW4gZil7az1nO2g9ZltnXTtpZihvPT0xKW4ucHVzaChbZyxoXSk7ZWxzZSBpZihhKXtmb3IoOzspaWYoaz1cbmEub25BdHRyaWJ1dGVOYW1lKGcpKWlmKGshPWcpe2RlbGV0ZSBmW2ddO2c9a31lbHNlIGJyZWFrO2Vsc2V7ZGVsZXRlIGZbZ107YnJlYWt9ayYmKChoPWEub25BdHRyaWJ1dGUoZSxrLGgpKT09PWZhbHNlP2RlbGV0ZSBmW2tdOmZba109aCl9fWMuc29ydEF0dHJpYnV0ZXMmJm4uc29ydChiKTtmPW4ubGVuZ3RoO2ZvcihvPTA7bzxmO28rKyl7Zz1uW29dO2MuYXR0cmlidXRlKGdbMF0sZ1sxXSl9Yy5vcGVuVGFnQ2xvc2UoZCxlLmlzRW1wdHkpO2lmKCFlLmlzRW1wdHkpe3RoaXMud3JpdGVDaGlsZHJlbkh0bWwuY2FsbChlLGMsbT9udWxsOmEpO2MuY2xvc2VUYWcoZCl9fSx3cml0ZUNoaWxkcmVuSHRtbDpmdW5jdGlvbihiLGEpe0NLRURJVE9SLmh0bWxQYXJzZXIuZnJhZ21lbnQucHJvdG90eXBlLndyaXRlQ2hpbGRyZW5IdG1sLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19fSkoKTtcbihmdW5jdGlvbigpe3ZhciBiPXt9O0NLRURJVE9SLnRlbXBsYXRlPWZ1bmN0aW9uKGMpe2lmKGJbY10pdGhpcy5vdXRwdXQ9YltjXTtlbHNle3ZhciBhPWMucmVwbGFjZSgvJy9nLFwiXFxcXCdcIikucmVwbGFjZSgveyhbXn1dKyl9L2csZnVuY3Rpb24oYSxiKXtyZXR1cm5cIicsZGF0YVsnXCIrYitcIiddPT11bmRlZmluZWQ/J3tcIitiK1wifSc6ZGF0YVsnXCIrYitcIiddLCdcIn0pO3RoaXMub3V0cHV0PWJbY109RnVuY3Rpb24oXCJkYXRhXCIsXCJidWZmZXJcIixcInJldHVybiBidWZmZXI/YnVmZmVyLnB1c2goJ1wiK2ErXCInKTpbJ1wiK2ErXCInXS5qb2luKCcnKTtcIil9fX0pKCk7ZGVsZXRlIENLRURJVE9SLmxvYWRGdWxsQ29yZTtDS0VESVRPUi5pbnN0YW5jZXM9e307Q0tFRElUT1IuZG9jdW1lbnQ9bmV3IENLRURJVE9SLmRvbS5kb2N1bWVudChkb2N1bWVudCk7XG5DS0VESVRPUi5hZGQ9ZnVuY3Rpb24oYil7Q0tFRElUT1IuaW5zdGFuY2VzW2IubmFtZV09YjtiLm9uKFwiZm9jdXNcIixmdW5jdGlvbigpe2lmKENLRURJVE9SLmN1cnJlbnRJbnN0YW5jZSE9Yil7Q0tFRElUT1IuY3VycmVudEluc3RhbmNlPWI7Q0tFRElUT1IuZmlyZShcImN1cnJlbnRJbnN0YW5jZVwiKX19KTtiLm9uKFwiYmx1clwiLGZ1bmN0aW9uKCl7aWYoQ0tFRElUT1IuY3VycmVudEluc3RhbmNlPT1iKXtDS0VESVRPUi5jdXJyZW50SW5zdGFuY2U9bnVsbDtDS0VESVRPUi5maXJlKFwiY3VycmVudEluc3RhbmNlXCIpfX0pO0NLRURJVE9SLmZpcmUoXCJpbnN0YW5jZVwiLG51bGwsYil9O0NLRURJVE9SLnJlbW92ZT1mdW5jdGlvbihiKXtkZWxldGUgQ0tFRElUT1IuaW5zdGFuY2VzW2IubmFtZV19O1xuKGZ1bmN0aW9uKCl7dmFyIGI9e307Q0tFRElUT1IuYWRkVGVtcGxhdGU9ZnVuY3Rpb24oYyxhKXt2YXIgZj1iW2NdO2lmKGYpcmV0dXJuIGY7Zj17bmFtZTpjLHNvdXJjZTphfTtDS0VESVRPUi5maXJlKFwidGVtcGxhdGVcIixmKTtyZXR1cm4gYltjXT1uZXcgQ0tFRElUT1IudGVtcGxhdGUoZi5zb3VyY2UpfTtDS0VESVRPUi5nZXRUZW1wbGF0ZT1mdW5jdGlvbihjKXtyZXR1cm4gYltjXX19KSgpOyhmdW5jdGlvbigpe3ZhciBiPVtdO0NLRURJVE9SLmFkZENzcz1mdW5jdGlvbihjKXtiLnB1c2goYyl9O0NLRURJVE9SLmdldENzcz1mdW5jdGlvbigpe3JldHVybiBiLmpvaW4oXCJcXG5cIil9fSkoKTtDS0VESVRPUi5vbihcImluc3RhbmNlRGVzdHJveWVkXCIsZnVuY3Rpb24oKXtDS0VESVRPUi50b29scy5pc0VtcHR5KHRoaXMuaW5zdGFuY2VzKSYmQ0tFRElUT1IuZmlyZShcInJlc2V0XCIpfSk7Q0tFRElUT1IuVFJJU1RBVEVfT049MTtDS0VESVRPUi5UUklTVEFURV9PRkY9MjtcbkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEPTA7XG4oZnVuY3Rpb24oKXtDS0VESVRPUi5pbmxpbmU9ZnVuY3Rpb24oYixjKXtpZighQ0tFRElUT1IuZW52LmlzQ29tcGF0aWJsZSlyZXR1cm4gbnVsbDtiPUNLRURJVE9SLmRvbS5lbGVtZW50LmdldChiKTtpZihiLmdldEVkaXRvcigpKXRocm93J1RoZSBlZGl0b3IgaW5zdGFuY2UgXCInK2IuZ2V0RWRpdG9yKCkubmFtZSsnXCIgaXMgYWxyZWFkeSBhdHRhY2hlZCB0byB0aGUgcHJvdmlkZWQgZWxlbWVudC4nO3ZhciBhPW5ldyBDS0VESVRPUi5lZGl0b3IoYyxiLENLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkUpO2Euc2V0RGF0YShiLmdldEh0bWwoKSxudWxsLHRydWUpO2Eub24oXCJsb2FkZWRcIixmdW5jdGlvbigpe2EuZmlyZShcInVpUmVhZHlcIik7YS5lZGl0YWJsZShiKTthLmNvbnRhaW5lcj1iO2Euc2V0RGF0YShhLmdldERhdGEoMSkpO2EuZmlyZShcImNvbnRlbnREb21cIik7YS5tb2RlPVwid3lzaXd5Z1wiO2EuZmlyZShcIm1vZGVcIik7YS5maXJlT25jZShcImluc3RhbmNlUmVhZHlcIik7Q0tFRElUT1IuZmlyZShcImluc3RhbmNlUmVhZHlcIixcbm51bGwsYSk7YS5yZXNldERpcnR5KCl9LG51bGwsbnVsbCwxRTQpO2Eub24oXCJkZXN0cm95XCIsZnVuY3Rpb24oKXthLmVsZW1lbnQuY2xlYXJDdXN0b21EYXRhKCk7ZGVsZXRlIGEuZWxlbWVudH0pO3JldHVybiBhfTtDS0VESVRPUi5pbmxpbmVBbGw9ZnVuY3Rpb24oKXt2YXIgYixjLGE7Zm9yKGEgaW4gQ0tFRElUT1IuZHRkLiRlZGl0YWJsZSlmb3IodmFyIGY9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZyhhKSxlPTAsZD1mLmNvdW50KCk7ZTxkO2UrKyl7Yj1mLmdldEl0ZW0oZSk7aWYoYi5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIik9PVwidHJ1ZVwiKXtjPXtlbGVtZW50OmIsY29uZmlnOnt9fTtDS0VESVRPUi5maXJlKFwiaW5saW5lXCIsYykhPT1mYWxzZSYmQ0tFRElUT1IuaW5saW5lKGIsYy5jb25maWcpfX19O0NLRURJVE9SLmRvbVJlYWR5KGZ1bmN0aW9uKCl7IUNLRURJVE9SLmRpc2FibGVBdXRvSW5saW5lJiZDS0VESVRPUi5pbmxpbmVBbGwoKX0pfSkoKTtcbkNLRURJVE9SLnJlcGxhY2VDbGFzcz1cImNrZWRpdG9yXCI7XG4oZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGIsZSxrLGgpe2lmKCFDS0VESVRPUi5lbnYuaXNDb21wYXRpYmxlKXJldHVybiBudWxsO2I9Q0tFRElUT1IuZG9tLmVsZW1lbnQuZ2V0KGIpO2lmKGIuZ2V0RWRpdG9yKCkpdGhyb3cnVGhlIGVkaXRvciBpbnN0YW5jZSBcIicrYi5nZXRFZGl0b3IoKS5uYW1lKydcIiBpcyBhbHJlYWR5IGF0dGFjaGVkIHRvIHRoZSBwcm92aWRlZCBlbGVtZW50Lic7dmFyIG09bmV3IENLRURJVE9SLmVkaXRvcihlLGIsaCk7aD09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX1JFUExBQ0UmJmIuc2V0U3R5bGUoXCJ2aXNpYmlsaXR5XCIsXCJoaWRkZW5cIik7ayYmbS5zZXREYXRhKGssbnVsbCx0cnVlKTttLm9uKFwibG9hZGVkXCIsZnVuY3Rpb24oKXthKG0pO2g9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9SRVBMQUNFJiZtLmNvbmZpZy5hdXRvVXBkYXRlRWxlbWVudCYmZihtKTttLnNldE1vZGUobS5jb25maWcuc3RhcnR1cE1vZGUsZnVuY3Rpb24oKXttLmZpcmVPbmNlKFwiaW5zdGFuY2VSZWFkeVwiKTtcbkNLRURJVE9SLmZpcmUoXCJpbnN0YW5jZVJlYWR5XCIsbnVsbCxtKTttLnJlc2V0RGlydHkoKX0pfSk7bS5vbihcImRlc3Ryb3lcIixjKTtyZXR1cm4gbX1mdW5jdGlvbiBjKCl7dmFyIGE9dGhpcy5jb250YWluZXIsYj10aGlzLmVsZW1lbnQ7aWYoYSl7YS5jbGVhckN1c3RvbURhdGEoKTthLnJlbW92ZSgpfWlmKGIpe2IuY2xlYXJDdXN0b21EYXRhKCk7dGhpcy5lbGVtZW50TW9kZT09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX1JFUExBQ0UmJmIuc2hvdygpO2RlbGV0ZSB0aGlzLmVsZW1lbnR9fWZ1bmN0aW9uIGEoYSl7dmFyIGI9YS5uYW1lLGM9YS5lbGVtZW50LGY9YS5lbGVtZW50TW9kZSxtPWEuZmlyZShcInVpU3BhY2VcIix7c3BhY2U6XCJ0b3BcIixodG1sOlwiXCJ9KS5odG1sLG49YS5maXJlT25jZShcInVpU3BhY2VcIix7c3BhY2U6XCJib3R0b21cIixodG1sOlwiXCJ9KS5odG1sO2V8fChlPUNLRURJVE9SLmFkZFRlbXBsYXRlKFwibWFpbmNvbnRhaW5lclwiLCc8e291dGVyRWx9IGlkPVwiY2tlX3tuYW1lfVwiIGNsYXNzPVwie2lkfSBja2UgY2tlX3Jlc2V0IGNrZV9jaHJvbWUgY2tlX2VkaXRvcl97bmFtZX0gY2tlX3tsYW5nRGlyfSAnK1xuQ0tFRElUT1IuZW52LmNzc0NsYXNzKydcIiAgZGlyPVwie2xhbmdEaXJ9XCIgbGFuZz1cIntsYW5nQ29kZX1cIiByb2xlPVwiYXBwbGljYXRpb25cIiBhcmlhLWxhYmVsbGVkYnk9XCJja2Vfe25hbWV9X2FyaWFsYmxcIj48c3BhbiBpZD1cImNrZV97bmFtZX1fYXJpYWxibFwiIGNsYXNzPVwiY2tlX3ZvaWNlX2xhYmVsXCI+e3ZvaWNlTGFiZWx9PC9zcGFuPjx7b3V0ZXJFbH0gY2xhc3M9XCJja2VfaW5uZXIgY2tlX3Jlc2V0XCIgcm9sZT1cInByZXNlbnRhdGlvblwiPnt0b3BIdG1sfTx7b3V0ZXJFbH0gaWQ9XCJ7Y29udGVudElkfVwiIGNsYXNzPVwiY2tlX2NvbnRlbnRzIGNrZV9yZXNldFwiIHJvbGU9XCJwcmVzZW50YXRpb25cIj48L3tvdXRlckVsfT57Ym90dG9tSHRtbH08L3tvdXRlckVsfT48L3tvdXRlckVsfT4nKSk7Yj1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbChlLm91dHB1dCh7aWQ6YS5pZCxuYW1lOmIsbGFuZ0RpcjphLmxhbmcuZGlyLGxhbmdDb2RlOmEubGFuZ0NvZGUsdm9pY2VMYWJlbDphLmxhbmcuZWRpdG9yLFxudG9wSHRtbDptPyc8c3BhbiBpZD1cIicrYS51aS5zcGFjZUlkKFwidG9wXCIpKydcIiBjbGFzcz1cImNrZV90b3AgY2tlX3Jlc2V0X2FsbFwiIHJvbGU9XCJwcmVzZW50YXRpb25cIiBzdHlsZT1cImhlaWdodDphdXRvXCI+JyttK1wiPC9zcGFuPlwiOlwiXCIsY29udGVudElkOmEudWkuc3BhY2VJZChcImNvbnRlbnRzXCIpLGJvdHRvbUh0bWw6bj8nPHNwYW4gaWQ9XCInK2EudWkuc3BhY2VJZChcImJvdHRvbVwiKSsnXCIgY2xhc3M9XCJja2VfYm90dG9tIGNrZV9yZXNldF9hbGxcIiByb2xlPVwicHJlc2VudGF0aW9uXCI+JytuK1wiPC9zcGFuPlwiOlwiXCIsb3V0ZXJFbDpDS0VESVRPUi5lbnYuaWU/XCJzcGFuXCI6XCJkaXZcIn0pKTtpZihmPT1DS0VESVRPUi5FTEVNRU5UX01PREVfUkVQTEFDRSl7Yy5oaWRlKCk7Yi5pbnNlcnRBZnRlcihjKX1lbHNlIGMuYXBwZW5kKGIpO2EuY29udGFpbmVyPWI7bSYmYS51aS5zcGFjZShcInRvcFwiKS51bnNlbGVjdGFibGUoKTtuJiZhLnVpLnNwYWNlKFwiYm90dG9tXCIpLnVuc2VsZWN0YWJsZSgpO2M9XG5hLmNvbmZpZy53aWR0aDtmPWEuY29uZmlnLmhlaWdodDtjJiZiLnNldFN0eWxlKFwid2lkdGhcIixDS0VESVRPUi50b29scy5jc3NMZW5ndGgoYykpO2YmJmEudWkuc3BhY2UoXCJjb250ZW50c1wiKS5zZXRTdHlsZShcImhlaWdodFwiLENLRURJVE9SLnRvb2xzLmNzc0xlbmd0aChmKSk7Yi5kaXNhYmxlQ29udGV4dE1lbnUoKTtDS0VESVRPUi5lbnYud2Via2l0JiZiLm9uKFwiZm9jdXNcIixmdW5jdGlvbigpe2EuZm9jdXMoKX0pO2EuZmlyZU9uY2UoXCJ1aVJlYWR5XCIpfWZ1bmN0aW9uIGYoYSl7dmFyIGI9YS5lbGVtZW50O2lmKGEuZWxlbWVudE1vZGU9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9SRVBMQUNFJiZiLmlzKFwidGV4dGFyZWFcIikpe3ZhciBjPWIuJC5mb3JtJiZuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYi4kLmZvcm0pO2lmKGMpe3ZhciBlPWZ1bmN0aW9uKCl7YS51cGRhdGVFbGVtZW50KCl9O2Mub24oXCJzdWJtaXRcIixlKTtpZighYy4kLnN1Ym1pdC5ub2RlTmFtZSYmIWMuJC5zdWJtaXQubGVuZ3RoKWMuJC5zdWJtaXQ9XG5DS0VESVRPUi50b29scy5vdmVycmlkZShjLiQuc3VibWl0LGZ1bmN0aW9uKGIpe3JldHVybiBmdW5jdGlvbigpe2EudXBkYXRlRWxlbWVudCgpO2IuYXBwbHk/Yi5hcHBseSh0aGlzLGFyZ3VtZW50cyk6YigpfX0pO2Eub24oXCJkZXN0cm95XCIsZnVuY3Rpb24oKXtjLnJlbW92ZUxpc3RlbmVyKFwic3VibWl0XCIsZSl9KX19fUNLRURJVE9SLnJlcGxhY2U9ZnVuY3Rpb24oYSxjKXtyZXR1cm4gYihhLGMsbnVsbCxDS0VESVRPUi5FTEVNRU5UX01PREVfUkVQTEFDRSl9O0NLRURJVE9SLmFwcGVuZFRvPWZ1bmN0aW9uKGEsYyxlKXtyZXR1cm4gYihhLGMsZSxDS0VESVRPUi5FTEVNRU5UX01PREVfQVBQRU5EVE8pfTtDS0VESVRPUi5yZXBsYWNlQWxsPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidGV4dGFyZWFcIiksYj0wO2I8YS5sZW5ndGg7YisrKXt2YXIgYz1udWxsLGU9YVtiXTtpZihlLm5hbWV8fGUuaWQpe2lmKHR5cGVvZiBhcmd1bWVudHNbMF09PVxuXCJzdHJpbmdcIil7aWYoIVJlZ0V4cChcIig/Ol58XFxcXHMpXCIrYXJndW1lbnRzWzBdK1wiKD86JHxcXFxccylcIikudGVzdChlLmNsYXNzTmFtZSkpY29udGludWV9ZWxzZSBpZih0eXBlb2YgYXJndW1lbnRzWzBdPT1cImZ1bmN0aW9uXCIpe2M9e307aWYoYXJndW1lbnRzWzBdKGUsYyk9PT1mYWxzZSljb250aW51ZX10aGlzLnJlcGxhY2UoZSxjKX19fTtDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLmFkZE1vZGU9ZnVuY3Rpb24oYSxiKXsodGhpcy5fLm1vZGVzfHwodGhpcy5fLm1vZGVzPXt9KSlbYV09Yn07Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5zZXRNb2RlPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxlPXRoaXMuXy5tb2RlcztpZighKGE9PWMubW9kZXx8IWV8fCFlW2FdKSl7Yy5maXJlKFwiYmVmb3JlU2V0TW9kZVwiLGEpO2lmKGMubW9kZSl7dmFyIGY9Yy5jaGVja0RpcnR5KCk7Yy5fLnByZXZpb3VzTW9kZT1jLm1vZGU7Yy5maXJlKFwiYmVmb3JlTW9kZVVubG9hZFwiKTtjLmVkaXRhYmxlKDApO1xuYy51aS5zcGFjZShcImNvbnRlbnRzXCIpLnNldEh0bWwoXCJcIik7Yy5tb2RlPVwiXCJ9dGhpcy5fLm1vZGVzW2FdKGZ1bmN0aW9uKCl7Yy5tb2RlPWE7aWYoZiE9PXZvaWQgMCl7Yy5tYXlCZURpcnR5PXRydWU7IWYmJmMucmVzZXREaXJ0eSgpfXNldFRpbWVvdXQoZnVuY3Rpb24oKXtjLmZpcmUoXCJtb2RlXCIpO2ImJmIuY2FsbChjKX0sMCl9KX19O0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKGEsYixjLGUpe3ZhciBmPXRoaXMuY29udGFpbmVyLG49dGhpcy51aS5zcGFjZShcImNvbnRlbnRzXCIpLG89Q0tFRElUT1IuZW52LndlYmtpdCYmdGhpcy5kb2N1bWVudCYmdGhpcy5kb2N1bWVudC5nZXRXaW5kb3coKS4kLmZyYW1lRWxlbWVudCxlPWU/Zi5nZXRDaGlsZCgxKTpmO2Uuc2V0U2l6ZShcIndpZHRoXCIsYSx0cnVlKTtvJiYoby5zdHlsZS53aWR0aD1cIjElXCIpO24uc2V0U3R5bGUoXCJoZWlnaHRcIixNYXRoLm1heChiLShjPzA6KGUuJC5vZmZzZXRIZWlnaHR8fDApLShuLiQuY2xpZW50SGVpZ2h0fHxcbjApKSwwKStcInB4XCIpO28mJihvLnN0eWxlLndpZHRoPVwiMTAwJVwiKTt0aGlzLmZpcmUoXCJyZXNpemVcIil9O0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuZ2V0UmVzaXphYmxlPWZ1bmN0aW9uKGEpe3JldHVybiBhP3RoaXMudWkuc3BhY2UoXCJjb250ZW50c1wiKTp0aGlzLmNvbnRhaW5lcn07dmFyIGU7Q0tFRElUT1IuZG9tUmVhZHkoZnVuY3Rpb24oKXtDS0VESVRPUi5yZXBsYWNlQ2xhc3MmJkNLRURJVE9SLnJlcGxhY2VBbGwoQ0tFRElUT1IucmVwbGFjZUNsYXNzKX0pfSkoKTtDS0VESVRPUi5jb25maWcuc3RhcnR1cE1vZGU9XCJ3eXNpd3lnXCI7XG4oZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGIpe3ZhciBjPWIuZWRpdG9yLGQ9Yy5lZGl0YWJsZSgpLGU9Yi5kYXRhLnBhdGgsZj1lLmJsb2NrTGltaXQsZz1iLmRhdGEuc2VsZWN0aW9uLmdldFJhbmdlcygpWzBdLGk9Yy5jb25maWcuZW50ZXJNb2RlO2lmKENLRURJVE9SLmVudi5nZWNrbyl7dmFyIGg9ZS5ibG9ja3x8ZS5ibG9ja0xpbWl0fHxlLnJvb3QsbT1oJiZoLmdldExhc3QoYSk7aCYmKGguaXNCbG9ja0JvdW5kYXJ5KCkmJighbXx8IShtLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmbS5pc0Jsb2NrQm91bmRhcnkoKSkpJiYhaC5pcyhcInByZVwiKSYmIWguZ2V0Qm9ndXMoKSkmJmguYXBwZW5kQm9ndXMoKX1pZihjLmNvbmZpZy5hdXRvUGFyYWdyYXBoIT09ZmFsc2UmJmkhPUNLRURJVE9SLkVOVEVSX0JSJiZnLmNvbGxhcHNlZCYmZC5lcXVhbHMoZikmJiFlLmJsb2NrKXtkPWcuY2xvbmUoKTtkLmVubGFyZ2UoQ0tFRElUT1IuRU5MQVJHRV9CTE9DS19DT05URU5UUyk7ZT1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihkKTtcbmUuZ3VhcmQ9ZnVuY3Rpb24oYil7cmV0dXJuIWEoYil8fGIudHlwZT09Q0tFRElUT1IuTk9ERV9DT01NRU5UfHxiLmlzUmVhZE9ubHkoKX07aWYoIWUuY2hlY2tGb3J3YXJkKCl8fGQuY2hlY2tTdGFydE9mQmxvY2soKSYmZC5jaGVja0VuZE9mQmxvY2soKSl7Yz1nLmZpeEJsb2NrKHRydWUsYy5jb25maWcuZW50ZXJNb2RlPT1DS0VESVRPUi5FTlRFUl9ESVY/XCJkaXZcIjpcInBcIik7aWYoQ0tFRElUT1IuZW52LmllKShjPWMuZ2V0Rmlyc3QoYSkpJiYoYy50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJkNLRURJVE9SLnRvb2xzLnRyaW0oYy5nZXRUZXh0KCkpLm1hdGNoKC9eKD86Jm5ic3A7fFxceGEwKSQvKSkmJmMucmVtb3ZlKCk7Zy5zZWxlY3QoKTtiLmNhbmNlbCgpfX19ZnVuY3Rpb24gYyhhKXt2YXIgYj1hLmRhdGEuZ2V0VGFyZ2V0KCk7aWYoYi5pcyhcImlucHV0XCIpKXtiPWIuZ2V0QXR0cmlidXRlKFwidHlwZVwiKTsoYj09XCJzdWJtaXRcInx8Yj09XCJyZXNldFwiKSYmYS5kYXRhLnByZXZlbnREZWZhdWx0KCl9fVxuZnVuY3Rpb24gYShhKXtyZXR1cm4gaChhKSYmbShhKX1mdW5jdGlvbiBmKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGMpe3ZhciBkPUNLRURJVE9SLmRvbS5lbGVtZW50LmdldChjLmRhdGEuJC50b0VsZW1lbnR8fGMuZGF0YS4kLmZyb21FbGVtZW50fHxjLmRhdGEuJC5yZWxhdGVkVGFyZ2V0KTsoIWR8fCFiLmVxdWFscyhkKSYmIWIuY29udGFpbnMoZCkpJiZhLmNhbGwodGhpcyxjKX19ZnVuY3Rpb24gZShiKXt2YXIgYyxkPWIuZ2V0UmFuZ2VzKClbMF0sYj1iLnJvb3QsZT1kLnN0YXJ0UGF0aCgpLGY9e3RhYmxlOjEsdWw6MSxvbDoxLGRsOjF9LGc9Q0tFRElUT1IuZG9tLndhbGtlci5ib2d1cygpO2lmKGUuY29udGFpbnMoZikpe3ZhciBpPWQuY2xvbmUoKTtpLmNvbGxhcHNlKDEpO2kuc2V0U3RhcnRBdChiLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKTtpPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGkpO2U9ZnVuY3Rpb24oYixkKXtyZXR1cm4gZnVuY3Rpb24oYixvKXtvJiYoYi50eXBlPT1cbkNLRURJVE9SLk5PREVfRUxFTUVOVCYmYi5pcyhmKSkmJihjPWIpO2lmKGEoYikmJiFvJiYoIWR8fCFnKGIpKSlyZXR1cm4gZmFsc2V9fTtpLmd1YXJkPWUoaSk7aS5jaGVja0JhY2t3YXJkKCk7aWYoYyl7aT1kLmNsb25lKCk7aS5jb2xsYXBzZSgpO2kuc2V0RW5kQXQoYixDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtpPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGkpO2kuZ3VhcmQ9ZShpLDEpO2M9MDtpLmNoZWNrRm9yd2FyZCgpO3JldHVybiBjfX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBkKGEpe2EuZWRpdG9yLmZvY3VzKCk7YS5lZGl0b3IuZmlyZShcInNhdmVTbmFwc2hvdFwiKX1mdW5jdGlvbiBnKGEsYil7dmFyIGM9YS5lZGl0b3I7IWImJmMuZ2V0U2VsZWN0aW9uKCkuc2Nyb2xsSW50b1ZpZXcoKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5maXJlKFwic2F2ZVNuYXBzaG90XCIpfSwwKX1DS0VESVRPUi5lZGl0YWJsZT1DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7YmFzZTpDS0VESVRPUi5kb20uZWxlbWVudCxcbiQ6ZnVuY3Rpb24oYSxiKXt0aGlzLmJhc2UoYi4kfHxiKTt0aGlzLmVkaXRvcj1hO3RoaXMuaGFzRm9jdXM9ZmFsc2U7dGhpcy5zZXR1cCgpfSxwcm90bzp7Zm9jdXM6ZnVuY3Rpb24oKXt0aGlzLiRbQ0tFRElUT1IuZW52LmllJiZ0aGlzLmdldERvY3VtZW50KCkuZXF1YWxzKENLRURJVE9SLmRvY3VtZW50KT9cInNldEFjdGl2ZVwiOlwiZm9jdXNcIl0oKTtDS0VESVRPUi5lbnYuc2FmYXJpJiYhdGhpcy5pc0lubGluZSgpJiYoQ0tFRElUT1IuZG9jdW1lbnQuZ2V0QWN0aXZlKCkuZXF1YWxzKHRoaXMuZ2V0V2luZG93KCkuZ2V0RnJhbWUoKSl8fHRoaXMuZ2V0V2luZG93KCkuZm9jdXMoKSl9LG9uOmZ1bmN0aW9uKGEsYil7dmFyIGM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApO2lmKENLRURJVE9SLmVudi5pZSYmL15mb2N1c3xibHVyJC8uZXhlYyhhKSl7YT1hPT1cImZvY3VzXCI/XCJmb2N1c2luXCI6XCJmb2N1c291dFwiO2I9ZihiLHRoaXMpO2NbMF09YTtjWzFdPWJ9cmV0dXJuIENLRURJVE9SLmRvbS5lbGVtZW50LnByb3RvdHlwZS5vbi5hcHBseSh0aGlzLFxuYyl9LGF0dGFjaExpc3RlbmVyOmZ1bmN0aW9uKGEsYixjLGQsZSxmKXshdGhpcy5fLmxpc3RlbmVycyYmKHRoaXMuXy5saXN0ZW5lcnM9W10pO3ZhciBnPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTt0aGlzLl8ubGlzdGVuZXJzLnB1c2goYS5vbi5hcHBseShhLGcpKX0sY2xlYXJMaXN0ZW5lcnM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8ubGlzdGVuZXJzO3RyeXtmb3IoO2EubGVuZ3RoOylhLnBvcCgpLnJlbW92ZUxpc3RlbmVyKCl9Y2F0Y2goYil7fX0scmVzdG9yZUF0dHJzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fLmF0dHJDaGFuZ2VzLGIsYztmb3IoYyBpbiBhKWlmKGEuaGFzT3duUHJvcGVydHkoYykpe2I9YVtjXTtiIT09bnVsbD90aGlzLnNldEF0dHJpYnV0ZShjLGIpOnRoaXMucmVtb3ZlQXR0cmlidXRlKGMpfX0sYXR0YWNoQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRDdXN0b21EYXRhKFwiY2xhc3Nlc1wiKTtpZighdGhpcy5oYXNDbGFzcyhhKSl7IWImJlxuKGI9W10pO2IucHVzaChhKTt0aGlzLnNldEN1c3RvbURhdGEoXCJjbGFzc2VzXCIsYik7dGhpcy5hZGRDbGFzcyhhKX19LGNoYW5nZUF0dHI6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldEF0dHJpYnV0ZShhKTtpZihiIT09Yyl7IXRoaXMuXy5hdHRyQ2hhbmdlcyYmKHRoaXMuXy5hdHRyQ2hhbmdlcz17fSk7YSBpbiB0aGlzLl8uYXR0ckNoYW5nZXN8fCh0aGlzLl8uYXR0ckNoYW5nZXNbYV09Yyk7dGhpcy5zZXRBdHRyaWJ1dGUoYSxiKX19LGluc2VydEh0bWw6ZnVuY3Rpb24oYSxiKXtkKHRoaXMpO24odGhpcyxiPT1cInRleHRcIj9cInRleHRcIjpcImh0bWxcIixhKX0saW5zZXJ0VGV4dDpmdW5jdGlvbihhKXtkKHRoaXMpO3ZhciBiPXRoaXMuZWRpdG9yLGM9Yi5nZXRTZWxlY3Rpb24oKS5nZXRTdGFydEVsZW1lbnQoKS5oYXNBc2NlbmRhbnQoXCJwcmVcIix0cnVlKT9DS0VESVRPUi5FTlRFUl9CUjpiLmNvbmZpZy5lbnRlck1vZGUsYj1jPT1DS0VESVRPUi5FTlRFUl9CUixlPUNLRURJVE9SLnRvb2xzLFxuYT1lLmh0bWxFbmNvZGUoYS5yZXBsYWNlKC9cXHJcXG4vZyxcIlxcblwiKSksYT1hLnJlcGxhY2UoL1xcdC9nLFwiJm5ic3A7Jm5ic3A7ICZuYnNwO1wiKSxjPWM9PUNLRURJVE9SLkVOVEVSX1A/XCJwXCI6XCJkaXZcIjtpZighYil7dmFyIGY9L1xcbnsyfS9nO2lmKGYudGVzdChhKSl2YXIgZz1cIjxcIitjK1wiPlwiLGk9XCI8L1wiK2MrXCI+XCIsYT1nK2EucmVwbGFjZShmLGZ1bmN0aW9uKCl7cmV0dXJuIGkrZ30pK2l9YT1hLnJlcGxhY2UoL1xcbi9nLFwiPGJyPlwiKTtifHwoYT1hLnJlcGxhY2UoUmVnRXhwKFwiPGJyPig/PTwvXCIrYytcIj4pXCIpLGZ1bmN0aW9uKGEpe3JldHVybiBlLnJlcGVhdChhLDIpfSkpO2E9YS5yZXBsYWNlKC9eIHwgJC9nLFwiJm5ic3A7XCIpO2E9YS5yZXBsYWNlKC8oPnxcXHMpIC9nLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIrXCImbmJzcDtcIn0pLnJlcGxhY2UoLyAoPz08KS9nLFwiJm5ic3A7XCIpO24odGhpcyxcInRleHRcIixhKX0saW5zZXJ0RWxlbWVudDpmdW5jdGlvbihiKXtkKHRoaXMpO2Zvcih2YXIgYz1cbnRoaXMuZWRpdG9yLGU9Yy5jb25maWcuZW50ZXJNb2RlLGY9Yy5nZXRTZWxlY3Rpb24oKSxoPWYuZ2V0UmFuZ2VzKCksbT1iLmdldE5hbWUoKSxpPUNLRURJVE9SLmR0ZC4kYmxvY2tbbV0sbixrLEIscD1oLmxlbmd0aC0xO3A+PTA7cC0tKXtuPWhbcF07aWYoIW4uY2hlY2tSZWFkT25seSgpKXtuLmRlbGV0ZUNvbnRlbnRzKDEpO2s9IXAmJmJ8fGIuY2xvbmUoMSk7dmFyIEUsdTtpZihpKWZvcig7KEU9bi5nZXRDb21tb25BbmNlc3RvcigwLDEpKSYmKHU9Q0tFRElUT1IuZHRkW0UuZ2V0TmFtZSgpXSkmJighdXx8IXVbbV0pOylpZihFLmdldE5hbWUoKWluIENLRURJVE9SLmR0ZC5zcGFuKW4uc3BsaXRFbGVtZW50KEUpO2Vsc2UgaWYobi5jaGVja1N0YXJ0T2ZCbG9jaygpJiZuLmNoZWNrRW5kT2ZCbG9jaygpKXtuLnNldFN0YXJ0QmVmb3JlKEUpO24uY29sbGFwc2UodHJ1ZSk7RS5yZW1vdmUoKX1lbHNlIG4uc3BsaXRCbG9jayhlPT1DS0VESVRPUi5FTlRFUl9ESVY/XCJkaXZcIjpcInBcIixcbmMuZWRpdGFibGUoKSk7bi5pbnNlcnROb2RlKGspO0J8fChCPWspfX1pZihCKXtuLm1vdmVUb1Bvc2l0aW9uKEIsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKTtpZihpKWlmKChiPUIuZ2V0TmV4dChhKSkmJmIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZiLmlzKENLRURJVE9SLmR0ZC4kYmxvY2spKWIuZ2V0RHRkKClbXCIjXCJdP24ubW92ZVRvRWxlbWVudEVkaXRTdGFydChiKTpuLm1vdmVUb0VsZW1lbnRFZGl0RW5kKEIpO2Vsc2UgaWYoIWImJmUhPUNLRURJVE9SLkVOVEVSX0JSKXtiPW4uZml4QmxvY2sodHJ1ZSxlPT1DS0VESVRPUi5FTlRFUl9ESVY/XCJkaXZcIjpcInBcIik7bi5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGIpfX1mLnNlbGVjdFJhbmdlcyhbbl0pO2codGhpcyxDS0VESVRPUi5lbnYub3BlcmEpfSxzZXREYXRhOmZ1bmN0aW9uKGEsYil7IWImJnRoaXMuZWRpdG9yLmRhdGFQcm9jZXNzb3ImJihhPXRoaXMuZWRpdG9yLmRhdGFQcm9jZXNzb3IudG9IdG1sKGEpKTtcbnRoaXMuc2V0SHRtbChhKTt0aGlzLmVkaXRvci5maXJlKFwiZGF0YVJlYWR5XCIpfSxnZXREYXRhOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0SHRtbCgpOyFhJiZ0aGlzLmVkaXRvci5kYXRhUHJvY2Vzc29yJiYoYj10aGlzLmVkaXRvci5kYXRhUHJvY2Vzc29yLnRvRGF0YUZvcm1hdChiKSk7cmV0dXJuIGJ9LHNldFJlYWRPbmx5OmZ1bmN0aW9uKGEpe3RoaXMuc2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIsIWEpfSxkZXRhY2g6ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZUNsYXNzKFwiY2tlX2VkaXRhYmxlXCIpO3ZhciBhPXRoaXMuZWRpdG9yO3RoaXMuXy5kZXRhY2goKTtkZWxldGUgYS5kb2N1bWVudDtkZWxldGUgYS53aW5kb3d9LGlzSW5saW5lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RG9jdW1lbnQoKS5lcXVhbHMoQ0tFRElUT1IuZG9jdW1lbnQpfSxzZXR1cDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWRpdG9yO3RoaXMuYXR0YWNoTGlzdGVuZXIoYSxcImJlZm9yZUdldERhdGFcIixcbmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5nZXREYXRhKCk7dGhpcy5pcyhcInRleHRhcmVhXCIpfHxhLmNvbmZpZy5pZ25vcmVFbXB0eVBhcmFncmFwaCE9PWZhbHNlJiYoYj1iLnJlcGxhY2UoayxmdW5jdGlvbihhLGIpe3JldHVybiBifSkpO2Euc2V0RGF0YShiLG51bGwsMSl9LHRoaXMpO3RoaXMuYXR0YWNoTGlzdGVuZXIoYSxcImdldFNuYXBzaG90XCIsZnVuY3Rpb24oYSl7YS5kYXRhPXRoaXMuZ2V0RGF0YSgxKX0sdGhpcyk7dGhpcy5hdHRhY2hMaXN0ZW5lcihhLFwiYWZ0ZXJTZXREYXRhXCIsZnVuY3Rpb24oKXt0aGlzLnNldERhdGEoYS5nZXREYXRhKDEpKX0sdGhpcyk7dGhpcy5hdHRhY2hMaXN0ZW5lcihhLFwibG9hZFNuYXBzaG90XCIsZnVuY3Rpb24oYSl7dGhpcy5zZXREYXRhKGEuZGF0YSwxKX0sdGhpcyk7dGhpcy5hdHRhY2hMaXN0ZW5lcihhLFwiYmVmb3JlRm9jdXNcIixmdW5jdGlvbigpe3ZhciBiPWEuZ2V0U2VsZWN0aW9uKCk7KGI9YiYmYi5nZXROYXRpdmUoKSkmJmIudHlwZT09XCJDb250cm9sXCJ8fFxudGhpcy5mb2N1cygpfSx0aGlzKTt0aGlzLmF0dGFjaExpc3RlbmVyKGEsXCJpbnNlcnRIdG1sXCIsZnVuY3Rpb24oYSl7dGhpcy5pbnNlcnRIdG1sKGEuZGF0YS5kYXRhVmFsdWUsYS5kYXRhLm1vZGUpfSx0aGlzKTt0aGlzLmF0dGFjaExpc3RlbmVyKGEsXCJpbnNlcnRFbGVtZW50XCIsZnVuY3Rpb24oYSl7dGhpcy5pbnNlcnRFbGVtZW50KGEuZGF0YSl9LHRoaXMpO3RoaXMuYXR0YWNoTGlzdGVuZXIoYSxcImluc2VydFRleHRcIixmdW5jdGlvbihhKXt0aGlzLmluc2VydFRleHQoYS5kYXRhKX0sdGhpcyk7dGhpcy5zZXRSZWFkT25seShhLnJlYWRPbmx5KTt0aGlzLmF0dGFjaENsYXNzKFwiY2tlX2VkaXRhYmxlXCIpO3RoaXMuYXR0YWNoQ2xhc3MoYS5lbGVtZW50TW9kZT09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORT9cImNrZV9lZGl0YWJsZV9pbmxpbmVcIjphLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfUkVQTEFDRXx8YS5lbGVtZW50TW9kZT09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0FQUEVORFRPP1xuXCJja2VfZWRpdGFibGVfdGhlbWVkXCI6XCJcIik7dGhpcy5hdHRhY2hDbGFzcyhcImNrZV9jb250ZW50c19cIithLmNvbmZpZy5jb250ZW50c0xhbmdEaXJlY3Rpb24pO2Eua2V5c3Ryb2tlSGFuZGxlci5ibG9ja2VkS2V5c3Ryb2tlc1s4XT1hLnJlYWRPbmx5O2Eua2V5c3Ryb2tlSGFuZGxlci5hdHRhY2godGhpcyk7dGhpcy5vbihcImJsdXJcIixmdW5jdGlvbihhKXtDS0VESVRPUi5lbnYub3BlcmEmJkNLRURJVE9SLmRvY3VtZW50LmdldEFjdGl2ZSgpLmVxdWFscyh0aGlzLmlzSW5saW5lKCk/dGhpczp0aGlzLmdldFdpbmRvdygpLmdldEZyYW1lKCkpP2EuY2FuY2VsKCk6dGhpcy5oYXNGb2N1cz1mYWxzZX0sbnVsbCxudWxsLC0xKTt0aGlzLm9uKFwiZm9jdXNcIixmdW5jdGlvbigpe3RoaXMuaGFzRm9jdXM9dHJ1ZX0sbnVsbCxudWxsLC0xKTthLmZvY3VzTWFuYWdlci5hZGQodGhpcyk7aWYodGhpcy5lcXVhbHMoQ0tFRElUT1IuZG9jdW1lbnQuZ2V0QWN0aXZlKCkpKXt0aGlzLmhhc0ZvY3VzPVxudHJ1ZTthLm9uY2UoXCJjb250ZW50RG9tXCIsZnVuY3Rpb24oKXthLmZvY3VzTWFuYWdlci5mb2N1cygpfSl9dGhpcy5pc0lubGluZSgpJiZ0aGlzLmNoYW5nZUF0dHIoXCJ0YWJpbmRleFwiLGEudGFiSW5kZXgpO2lmKCF0aGlzLmlzKFwidGV4dGFyZWFcIikpe2EuZG9jdW1lbnQ9dGhpcy5nZXREb2N1bWVudCgpO2Eud2luZG93PXRoaXMuZ2V0V2luZG93KCk7dmFyIGI9YS5kb2N1bWVudDt0aGlzLmNoYW5nZUF0dHIoXCJzcGVsbGNoZWNrXCIsIWEuY29uZmlnLmRpc2FibGVOYXRpdmVTcGVsbENoZWNrZXIpO3ZhciBkPWEuY29uZmlnLmNvbnRlbnRzTGFuZ0RpcmVjdGlvbjt0aGlzLmdldERpcmVjdGlvbigxKSE9ZCYmdGhpcy5jaGFuZ2VBdHRyKFwiZGlyXCIsZCk7dmFyIGY9Q0tFRElUT1IuZ2V0Q3NzKCk7aWYoZil7ZD1iLmdldEhlYWQoKTtpZighZC5nZXRDdXN0b21EYXRhKFwic3R5bGVzaGVldFwiKSl7Zj1iLmFwcGVuZFN0eWxlVGV4dChmKTtmPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChmLm93bmVyTm9kZXx8XG5mLm93bmluZ0VsZW1lbnQpO2Quc2V0Q3VzdG9tRGF0YShcInN0eWxlc2hlZXRcIixmKTtmLmRhdGEoXCJja2UtdGVtcFwiLDEpfX1kPWIuZ2V0Q3VzdG9tRGF0YShcInN0eWxlc2hlZXRfcmVmXCIpfHwwO2Iuc2V0Q3VzdG9tRGF0YShcInN0eWxlc2hlZXRfcmVmXCIsZCsxKTt0aGlzLnNldEN1c3RvbURhdGEoXCJja2VfaW5jbHVkZVJlYWRvbmx5XCIsIWEuY29uZmlnLmRpc2FibGVSZWFkb25seVN0eWxpbmcpO3RoaXMuYXR0YWNoTGlzdGVuZXIodGhpcyxcImNsaWNrXCIsZnVuY3Rpb24oYSl7dmFyIGE9YS5kYXRhLGI9YS5nZXRUYXJnZXQoKTtiLmlzKFwiYVwiKSYmKGEuJC5idXR0b24hPTImJmIuaXNSZWFkT25seSgpKSYmYS5wcmV2ZW50RGVmYXVsdCgpfSk7dGhpcy5hdHRhY2hMaXN0ZW5lcihhLFwia2V5XCIsZnVuY3Rpb24oYil7aWYoYS5yZWFkT25seSlyZXR1cm4gdHJ1ZTt2YXIgYz1iLmRhdGEua2V5Q29kZSxkO2lmKGMgaW57ODoxLDQ2OjF9KXt2YXIgbD1hLmdldFNlbGVjdGlvbigpLGI9bC5nZXRSYW5nZXMoKVswXSxcbmY9Yi5zdGFydFBhdGgoKSxqLGcsbSxjPWM9PTg7aWYobD1lKGwpKXthLmZpcmUoXCJzYXZlU25hcHNob3RcIik7Yi5tb3ZlVG9Qb3NpdGlvbihsLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCk7bC5yZW1vdmUoKTtiLnNlbGVjdCgpO2EuZmlyZShcInNhdmVTbmFwc2hvdFwiKTtkPTF9ZWxzZSBpZihiLmNvbGxhcHNlZClpZigoaj1mLmJsb2NrKSYmYltjP1wiY2hlY2tTdGFydE9mQmxvY2tcIjpcImNoZWNrRW5kT2ZCbG9ja1wiXSgpJiYobT1qW2M/XCJnZXRQcmV2aW91c1wiOlwiZ2V0TmV4dFwiXShoKSkmJm0uaXMoXCJ0YWJsZVwiKSl7YS5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2JbYz9cImNoZWNrRW5kT2ZCbG9ja1wiOlwiY2hlY2tTdGFydE9mQmxvY2tcIl0oKSYmai5yZW1vdmUoKTtiW1wibW92ZVRvRWxlbWVudEVkaXRcIisoYz9cIkVuZFwiOlwiU3RhcnRcIildKG0pO2Iuc2VsZWN0KCk7YS5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2Q9MX1lbHNlIGlmKGYuYmxvY2tMaW1pdCYmZi5ibG9ja0xpbWl0LmlzKFwidGRcIikmJlxuKGc9Zi5ibG9ja0xpbWl0LmdldEFzY2VuZGFudChcInRhYmxlXCIpKSYmYi5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KGcsYz9DS0VESVRPUi5TVEFSVDpDS0VESVRPUi5FTkQpJiYobT1nW2M/XCJnZXRQcmV2aW91c1wiOlwiZ2V0TmV4dFwiXShoKSkpe2EuZmlyZShcInNhdmVTbmFwc2hvdFwiKTtiW1wibW92ZVRvRWxlbWVudEVkaXRcIisoYz9cIkVuZFwiOlwiU3RhcnRcIildKG0pO2IuY2hlY2tTdGFydE9mQmxvY2soKSYmYi5jaGVja0VuZE9mQmxvY2soKT9tLnJlbW92ZSgpOmIuc2VsZWN0KCk7YS5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2Q9MX1lbHNlIGlmKChnPWYuY29udGFpbnMoW1widGRcIixcInRoXCIsXCJjYXB0aW9uXCJdKSkmJmIuY2hlY2tCb3VuZGFyeU9mRWxlbWVudChnLGM/Q0tFRElUT1IuU1RBUlQ6Q0tFRElUT1IuRU5EKSlpZigobT1nW2M/XCJnZXRQcmV2aW91c1NvdXJjZU5vZGVcIjpcImdldE5leHRTb3VyY2VOb2RlXCJdKDEsQ0tFRElUT1IuTk9ERV9FTEVNRU5UKSkmJiFtLmlzUmVhZE9ubHkoKSYmYi5yb290LmNvbnRhaW5zKG0pKXtiW2M/XG5cIm1vdmVUb0VsZW1lbnRFZGl0RW5kXCI6XCJtb3ZlVG9FbGVtZW50RWRpdFN0YXJ0XCJdKG0pO2Iuc2VsZWN0KCk7ZD0xfX1yZXR1cm4hZH0pO0NLRURJVE9SLmVudi5pZSYmdGhpcy5hdHRhY2hMaXN0ZW5lcih0aGlzLFwiY2xpY2tcIixjKTshQ0tFRElUT1IuZW52LmllJiYhQ0tFRElUT1IuZW52Lm9wZXJhJiZ0aGlzLmF0dGFjaExpc3RlbmVyKHRoaXMsXCJtb3VzZWRvd25cIixmdW5jdGlvbihiKXt2YXIgYz1iLmRhdGEuZ2V0VGFyZ2V0KCk7aWYoYy5pcyhcImltZ1wiLFwiaHJcIixcImlucHV0XCIsXCJ0ZXh0YXJlYVwiLFwic2VsZWN0XCIpKXthLmdldFNlbGVjdGlvbigpLnNlbGVjdEVsZW1lbnQoYyk7Yy5pcyhcImlucHV0XCIsXCJ0ZXh0YXJlYVwiLFwic2VsZWN0XCIpJiZiLmRhdGEucHJldmVudERlZmF1bHQoKX19KTtDS0VESVRPUi5lbnYuZ2Vja28mJnRoaXMuYXR0YWNoTGlzdGVuZXIodGhpcyxcIm1vdXNldXBcIixmdW5jdGlvbihiKXtpZihiLmRhdGEuJC5idXR0b249PTIpe2I9Yi5kYXRhLmdldFRhcmdldCgpO1xuaWYoIWIuZ2V0T3V0ZXJIdG1sKCkucmVwbGFjZShrLFwiXCIpKXt2YXIgYz1hLmNyZWF0ZVJhbmdlKCk7Yy5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGIpO2Muc2VsZWN0KHRydWUpfX19KTtpZihDS0VESVRPUi5lbnYud2Via2l0KXt0aGlzLmF0dGFjaExpc3RlbmVyKHRoaXMsXCJjbGlja1wiLGZ1bmN0aW9uKGEpe2EuZGF0YS5nZXRUYXJnZXQoKS5pcyhcImlucHV0XCIsXCJzZWxlY3RcIikmJmEuZGF0YS5wcmV2ZW50RGVmYXVsdCgpfSk7dGhpcy5hdHRhY2hMaXN0ZW5lcih0aGlzLFwibW91c2V1cFwiLGZ1bmN0aW9uKGEpe2EuZGF0YS5nZXRUYXJnZXQoKS5pcyhcImlucHV0XCIsXCJ0ZXh0YXJlYVwiKSYmYS5kYXRhLnByZXZlbnREZWZhdWx0KCl9KX19fX0sXzp7ZGV0YWNoOmZ1bmN0aW9uKCl7dGhpcy5lZGl0b3Iuc2V0RGF0YSh0aGlzLmVkaXRvci5nZXREYXRhKCksMCwxKTt0aGlzLmNsZWFyTGlzdGVuZXJzKCk7dGhpcy5yZXN0b3JlQXR0cnMoKTt2YXIgYTtpZihhPXRoaXMucmVtb3ZlQ3VzdG9tRGF0YShcImNsYXNzZXNcIikpZm9yKDthLmxlbmd0aDspdGhpcy5yZW1vdmVDbGFzcyhhLnBvcCgpKTtcbmE9dGhpcy5nZXREb2N1bWVudCgpO3ZhciBiPWEuZ2V0SGVhZCgpO2lmKGIuZ2V0Q3VzdG9tRGF0YShcInN0eWxlc2hlZXRcIikpe3ZhciBjPWEuZ2V0Q3VzdG9tRGF0YShcInN0eWxlc2hlZXRfcmVmXCIpO2lmKC0tYylhLnNldEN1c3RvbURhdGEoXCJzdHlsZXNoZWV0X3JlZlwiLGMpO2Vsc2V7YS5yZW1vdmVDdXN0b21EYXRhKFwic3R5bGVzaGVldF9yZWZcIik7Yi5yZW1vdmVDdXN0b21EYXRhKFwic3R5bGVzaGVldFwiKS5yZW1vdmUoKX19ZGVsZXRlIHRoaXMuZWRpdG9yfX19KTtDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLmVkaXRhYmxlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuXy5lZGl0YWJsZTtpZihiJiZhKXJldHVybiAwO2lmKGFyZ3VtZW50cy5sZW5ndGgpYj10aGlzLl8uZWRpdGFibGU9YT9hIGluc3RhbmNlb2YgQ0tFRElUT1IuZWRpdGFibGU/YTpuZXcgQ0tFRElUT1IuZWRpdGFibGUodGhpcyxhKTooYiYmYi5kZXRhY2goKSxudWxsKTtyZXR1cm4gYn07dmFyIGs9LyhefDxib2R5XFxiW14+XSo+KVxccyo8KHB8ZGl2fGFkZHJlc3N8aFxcZHxjZW50ZXJ8cHJlKVtePl0qPlxccyooPzo8YnJbXj5dKj58Jm5ic3A7fFxcdTAwQTB8JiMxNjA7KT9cXHMqKDo/PFxcL1xcMj4pP1xccyooPz0kfDxcXC9ib2R5PikvZ2ksXG5oPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXModHJ1ZSksbT1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKGZhbHNlLHRydWUpO0NLRURJVE9SLm9uKFwiaW5zdGFuY2VMb2FkZWRcIixmdW5jdGlvbihhKXt2YXIgYz1hLmVkaXRvcjtjLm9uKFwiaW5zZXJ0RWxlbWVudFwiLGZ1bmN0aW9uKGEpe2E9YS5kYXRhO2lmKGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoYS5pcyhcImlucHV0XCIpfHxhLmlzKFwidGV4dGFyZWFcIikpKXthLmdldEF0dHJpYnV0ZShcImNvbnRlbnRFZGl0YWJsZVwiKSE9XCJmYWxzZVwiJiZhLmRhdGEoXCJja2UtZWRpdGFibGVcIixhLmhhc0F0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKT9cInRydWVcIjpcIjFcIik7YS5zZXRBdHRyaWJ1dGUoXCJjb250ZW50RWRpdGFibGVcIixmYWxzZSl9fSk7Yy5vbihcInNlbGVjdGlvbkNoYW5nZVwiLGZ1bmN0aW9uKGEpe2lmKCFjLnJlYWRPbmx5KXt2YXIgZD1jLmdldFNlbGVjdGlvbigpO2lmKGQmJiFkLmlzTG9ja2VkKXtkPWMuY2hlY2tEaXJ0eSgpO1xuYy5maXJlKFwibG9ja1NuYXBzaG90XCIpO2IoYSk7Yy5maXJlKFwidW5sb2NrU25hcHNob3RcIik7IWQmJmMucmVzZXREaXJ0eSgpfX19KX0pO0NLRURJVE9SLm9uKFwiaW5zdGFuY2VDcmVhdGVkXCIsZnVuY3Rpb24oYSl7dmFyIGI9YS5lZGl0b3I7Yi5vbihcIm1vZGVcIixmdW5jdGlvbigpe3ZhciBhPWIuZWRpdGFibGUoKTtpZihhJiZhLmlzSW5saW5lKCkpe3ZhciBjPXRoaXMubGFuZy5lZGl0b3IrXCIsIFwiK3RoaXMubmFtZTthLmNoYW5nZUF0dHIoXCJyb2xlXCIsXCJ0ZXh0Ym94XCIpO2EuY2hhbmdlQXR0cihcImFyaWEtbGFiZWxcIixjKTthLmNoYW5nZUF0dHIoXCJ0aXRsZVwiLGMpO2lmKGM9dGhpcy51aS5zcGFjZSh0aGlzLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FP1widG9wXCI6XCJjb250ZW50c1wiKSl7dmFyIGQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCksZT1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCgnPHNwYW4gaWQ9XCInK2QrJ1wiIGNsYXNzPVwiY2tlX3ZvaWNlX2xhYmVsXCI+JytcbnRoaXMubGFuZy5jb21tb24uZWRpdG9ySGVscCtcIjwvc3Bhbj5cIik7Yy5hcHBlbmQoZSk7YS5jaGFuZ2VBdHRyKFwiYXJpYS1kZXNjcmliZWRieVwiLGQpfX19KX0pO0NLRURJVE9SLmFkZENzcyhcIi5ja2VfZWRpdGFibGV7Y3Vyc29yOnRleHR9LmNrZV9lZGl0YWJsZSBpbWcsLmNrZV9lZGl0YWJsZSBpbnB1dCwuY2tlX2VkaXRhYmxlIHRleHRhcmVhe2N1cnNvcjpkZWZhdWx0fVwiKTt2YXIgbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGIoYSl7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UfWZ1bmN0aW9uIGMoYSxkKXt2YXIgZSxmLGosZyx0PVtdLGg9ZC5yYW5nZS5zdGFydENvbnRhaW5lcjtlPWQucmFuZ2Uuc3RhcnRQYXRoKCk7Zm9yKHZhciBoPWlbaC5nZXROYW1lKCldLG09MCxuPWEuZ2V0Q2hpbGRyZW4oKSxxPW4uY291bnQoKSxrPS0xLHo9LTEseT0wLHM9ZS5jb250YWlucyhpLiRsaXN0KTttPHE7KyttKXtlPW4uZ2V0SXRlbShtKTtpZihiKGUpKXtqPWUuZ2V0TmFtZSgpO1xuaWYocyYmaiBpbiBDS0VESVRPUi5kdGQuJGxpc3QpdD10LmNvbmNhdChjKGUsZCkpO2Vsc2V7Zz0hIWhbal07aWYoaj09XCJiclwiJiZlLmRhdGEoXCJja2UtZW9sXCIpJiYoIW18fG09PXEtMSkpe3k9KGY9bT90W20tMV0ubm9kZTpuLmdldEl0ZW0obSsxKSkmJighYihmKXx8IWYuaXMoXCJiclwiKSk7Zj1mJiZiKGYpJiZpLiRibG9ja1tmLmdldE5hbWUoKV19az09LTEmJiFnJiYoaz1tKTtnfHwoej1tKTt0LnB1c2goe2lzRWxlbWVudDoxLGlzTGluZUJyZWFrOnksaXNCbG9jazplLmlzQmxvY2tCb3VuZGFyeSgpLGhhc0Jsb2NrU2libGluZzpmLG5vZGU6ZSxuYW1lOmosYWxsb3dlZDpnfSk7Zj15PTB9fWVsc2UgdC5wdXNoKHtpc0VsZW1lbnQ6MCxub2RlOmUsYWxsb3dlZDoxfSl9aWYoaz4tMSl0W2tdLmZpcnN0Tm90QWxsb3dlZD0xO2lmKHo+LTEpdFt6XS5sYXN0Tm90QWxsb3dlZD0xO3JldHVybiB0fWZ1bmN0aW9uIGQoYSxjKXt2YXIgZT1bXSxmPWEuZ2V0Q2hpbGRyZW4oKSxsPWYuY291bnQoKSxcbmcsdD0wLGg9aVtjXSxtPSFhLmlzKGkuJGlubGluZSl8fGEuaXMoXCJiclwiKTtmb3IobSYmZS5wdXNoKFwiIFwiKTt0PGw7dCsrKXtnPWYuZ2V0SXRlbSh0KTtiKGcpJiYhZy5pcyhoKT9lPWUuY29uY2F0KGQoZyxjKSk6ZS5wdXNoKGcpfW0mJmUucHVzaChcIiBcIik7cmV0dXJuIGV9ZnVuY3Rpb24gZShhKXtyZXR1cm4gYSYmYihhKSYmKGEuaXMoaS4kcmVtb3ZlRW1wdHkpfHxhLmlzKFwiYVwiKSYmIWEuaXNCbG9ja0JvdW5kYXJ5KCkpfWZ1bmN0aW9uIGYoYSxjLGQsZSl7dmFyIGw9YS5jbG9uZSgpLGosZztsLnNldEVuZEF0KGMsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7aWYoKGo9KG5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGwpKS5uZXh0KCkpJiZiKGopJiZtW2ouZ2V0TmFtZSgpXSYmKGc9ai5nZXRQcmV2aW91cygpKSYmYihnKSYmIWcuZ2V0UGFyZW50KCkuZXF1YWxzKGEuc3RhcnRDb250YWluZXIpJiZkLmNvbnRhaW5zKGcpJiZlLmNvbnRhaW5zKGopJiZqLmlzSWRlbnRpY2FsKGcpKXtqLm1vdmVDaGlsZHJlbihnKTtcbmoucmVtb3ZlKCk7ZihhLGMsZCxlKX19ZnVuY3Rpb24gaChhLGMpe2Z1bmN0aW9uIGQoYSxjKXtpZihjLmlzQmxvY2smJmMuaXNFbGVtZW50JiYhYy5ub2RlLmlzKFwiYnJcIikmJmIoYSkmJmEuaXMoXCJiclwiKSl7YS5yZW1vdmUoKTtyZXR1cm4gMX19dmFyIGU9Yy5lbmRDb250YWluZXIuZ2V0Q2hpbGQoYy5lbmRPZmZzZXQpLGY9Yy5lbmRDb250YWluZXIuZ2V0Q2hpbGQoYy5lbmRPZmZzZXQtMSk7ZSYmZChlLGFbYS5sZW5ndGgtMV0pO2lmKGYmJmQoZixhWzBdKSl7Yy5zZXRFbmQoYy5lbmRDb250YWluZXIsYy5lbmRPZmZzZXQtMSk7Yy5jb2xsYXBzZSgpfX12YXIgaT1DS0VESVRPUi5kdGQsbT17cDoxLGRpdjoxLGgxOjEsaDI6MSxoMzoxLGg0OjEsaDU6MSxoNjoxLHVsOjEsb2w6MSxsaToxLHByZToxLGRsOjEsYmxvY2txdW90ZToxfSxuPXtwOjEsZGl2OjEsaDE6MSxoMjoxLGgzOjEsaDQ6MSxoNToxLGg2OjF9LGs9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LGkuJGlubGluZSk7ZGVsZXRlIGsuYnI7XG5yZXR1cm4gZnVuY3Rpb24obSxzLHUpe3ZhciByPW0uZWRpdG9yO20uZ2V0RG9jdW1lbnQoKTt2YXIgRD1yLmdldFNlbGVjdGlvbigpLmdldFJhbmdlcygpWzBdO2lmKCFELmNoZWNrUmVhZE9ubHkoKSl7dmFyIHY9KG5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoRC5zdGFydENvbnRhaW5lcixELnJvb3QpKS5ibG9ja0xpbWl0fHxELnJvb3Qscz17dHlwZTpzLGVkaXRhYmxlOm0sZWRpdG9yOnIscmFuZ2U6RCxibG9ja0xpbWl0OnYsbWVyZ2VDYW5kaWRhdGVzOltdLHpvbWJpZXM6W119LHI9cy5yYW5nZSx2PXMubWVyZ2VDYW5kaWRhdGVzLHQsdyxJLEcsQztpZihzLnR5cGU9PVwidGV4dFwiJiZyLnNocmluayhDS0VESVRPUi5TSFJJTktfRUxFTUVOVCx0cnVlLGZhbHNlKSl7dz1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbChcIjxzcGFuPiZuYnNwOzwvc3Bhbj5cIixyLmRvY3VtZW50KTtyLmluc2VydE5vZGUodyk7ci5zZXRTdGFydEFmdGVyKHcpfUk9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChyLnN0YXJ0Q29udGFpbmVyKTtcbnMuZW5kUGF0aD1HPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoci5lbmRDb250YWluZXIpO2lmKCFyLmNvbGxhcHNlZCl7dD1HLmJsb2NrfHxHLmJsb2NrTGltaXQ7dmFyIFE9ci5nZXRDb21tb25BbmNlc3RvcigpO3QmJighdC5lcXVhbHMoUSkmJiF0LmNvbnRhaW5zKFEpJiZyLmNoZWNrRW5kT2ZCbG9jaygpKSYmcy56b21iaWVzLnB1c2godCk7ci5kZWxldGVDb250ZW50cygpfWZvcig7KEM9YihyLnN0YXJ0Q29udGFpbmVyKSYmci5zdGFydENvbnRhaW5lci5nZXRDaGlsZChyLnN0YXJ0T2Zmc2V0LTEpKSYmYihDKSYmQy5pc0Jsb2NrQm91bmRhcnkoKSYmSS5jb250YWlucyhDKTspci5tb3ZlVG9Qb3NpdGlvbihDLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO2YocixzLmJsb2NrTGltaXQsSSxHKTtpZih3KXtyLnNldEVuZEJlZm9yZSh3KTtyLmNvbGxhcHNlKCk7dy5yZW1vdmUoKX13PXIuc3RhcnRQYXRoKCk7aWYodD13LmNvbnRhaW5zKGUsZmFsc2UsMSkpe3Iuc3BsaXRFbGVtZW50KHQpO1xucy5pbmxpbmVTdHlsZXNSb290PXQ7cy5pbmxpbmVTdHlsZXNQZWFrPXcubGFzdEVsZW1lbnR9dz1yLmNyZWF0ZUJvb2ttYXJrKCk7KHQ9dy5zdGFydE5vZGUuZ2V0UHJldmlvdXMoYSkpJiZiKHQpJiZlKHQpJiZ2LnB1c2godCk7KHQ9dy5zdGFydE5vZGUuZ2V0TmV4dChhKSkmJmIodCkmJmUodCkmJnYucHVzaCh0KTtmb3IodD13LnN0YXJ0Tm9kZTsodD10LmdldFBhcmVudCgpKSYmZSh0KTspdi5wdXNoKHQpO3IubW92ZVRvQm9va21hcmsodyk7aWYodSl7Qz11O3U9cy5yYW5nZTtpZihzLnR5cGU9PVwidGV4dFwiJiZzLmlubGluZVN0eWxlc1Jvb3Qpe3c9QztDPXMuaW5saW5lU3R5bGVzUGVhaztyPUMuZ2V0RG9jdW1lbnQoKS5jcmVhdGVUZXh0KFwie2NrZS1wZWFrfVwiKTtmb3Iodj1zLmlubGluZVN0eWxlc1Jvb3QuZ2V0UGFyZW50KCk7IUMuZXF1YWxzKHYpOyl7cj1yLmFwcGVuZFRvKEMuY2xvbmUoKSk7Qz1DLmdldFBhcmVudCgpfUM9ci5nZXRPdXRlckh0bWwoKS5yZXBsYWNlKFwie2NrZS1wZWFrfVwiLFxudyl9dz1zLmJsb2NrTGltaXQuZ2V0TmFtZSgpO2lmKC9eXFxzK3xcXHMrJC8udGVzdChDKSYmXCJzcGFuXCJpbiBDS0VESVRPUi5kdGRbd10pe3ZhciBLPSc8c3BhbiBkYXRhLWNrZS1tYXJrZXI9XCIxXCI+Jm5ic3A7PC9zcGFuPic7Qz1LK0MrS31DPXMuZWRpdG9yLmRhdGFQcm9jZXNzb3IudG9IdG1sKEMsbnVsbCxmYWxzZSk7dz11LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJib2R5XCIpO3cuc2V0SHRtbChDKTtpZihLKXt3LmdldEZpcnN0KCkucmVtb3ZlKCk7dy5nZXRMYXN0KCkucmVtb3ZlKCl9aWYoKEs9dS5zdGFydFBhdGgoKS5ibG9jaykmJiEoSy5nZXRDaGlsZENvdW50KCk9PTEmJksuZ2V0Qm9ndXMoKSkpYTp7dmFyIEY7aWYody5nZXRDaGlsZENvdW50KCk9PTEmJmIoRj13LmdldEZpcnN0KCkpJiZGLmlzKG4pKXtLPUYuZ2V0RWxlbWVudHNCeVRhZyhcIipcIik7dT0wO2ZvcihyPUsuY291bnQoKTt1PHI7dSsrKXtDPUsuZ2V0SXRlbSh1KTtpZighQy5pcyhrKSlicmVhayBhfUYubW92ZUNoaWxkcmVuKEYuZ2V0UGFyZW50KDEpKTtcbkYucmVtb3ZlKCl9fXMuZGF0YVdyYXBwZXI9dztGPXMucmFuZ2U7dmFyIEs9Ri5kb2N1bWVudCx4LHU9cy5ibG9ja0xpbWl0O3c9MDt2YXIgSjtDPVtdO3ZhciBILE4sdj1yPTAsTCxPO0k9Ri5zdGFydENvbnRhaW5lcjt0PXMuZW5kUGF0aC5lbGVtZW50c1swXTt2YXIgUDtHPXQuZ2V0UG9zaXRpb24oSSk7UT0hIXQuZ2V0Q29tbW9uQW5jZXN0b3IoSSkmJkchPUNLRURJVE9SLlBPU0lUSU9OX0lERU5USUNBTCYmIShHJkNLRURJVE9SLlBPU0lUSU9OX0NPTlRBSU5TK0NLRURJVE9SLlBPU0lUSU9OX0lTX0NPTlRBSU5FRCk7ST1jKHMuZGF0YVdyYXBwZXIscyk7Zm9yKGgoSSxGKTt3PEkubGVuZ3RoO3crKyl7Rz1JW3ddO2lmKHg9Ry5pc0xpbmVCcmVhayl7eD1GO0w9dTt2YXIgTT12b2lkIDAsUj12b2lkIDA7aWYoRy5oYXNCbG9ja1NpYmxpbmcpeD0xO2Vsc2V7TT14LnN0YXJ0Q29udGFpbmVyLmdldEFzY2VuZGFudChpLiRibG9jaywxKTtpZighTXx8IU0uaXMoe2RpdjoxLHA6MX0pKXg9XG4wO2Vsc2V7Uj1NLmdldFBvc2l0aW9uKEwpO2lmKFI9PUNLRURJVE9SLlBPU0lUSU9OX0lERU5USUNBTHx8Uj09Q0tFRElUT1IuUE9TSVRJT05fQ09OVEFJTlMpeD0wO2Vsc2V7TD14LnNwbGl0RWxlbWVudChNKTt4Lm1vdmVUb1Bvc2l0aW9uKEwsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpO3g9MX19fX1pZih4KXY9dz4wO2Vsc2V7eD1GLnN0YXJ0UGF0aCgpO2lmKCFHLmlzQmxvY2smJihOPXMuZWRpdG9yLmNvbmZpZy5lbnRlck1vZGUhPUNLRURJVE9SLkVOVEVSX0JSJiZzLmVkaXRvci5jb25maWcuYXV0b1BhcmFncmFwaCE9PWZhbHNlP3MuZWRpdG9yLmNvbmZpZy5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX0RJVj9cImRpdlwiOlwicFwiOmZhbHNlKSYmIXguYmxvY2smJnguYmxvY2tMaW1pdCYmeC5ibG9ja0xpbWl0LmVxdWFscyhGLnJvb3QpKXtOPUsuY3JlYXRlRWxlbWVudChOKTshQ0tFRElUT1IuZW52LmllJiZOLmFwcGVuZEJvZ3VzKCk7Ri5pbnNlcnROb2RlKE4pOyFDS0VESVRPUi5lbnYuaWUmJlxuKEo9Ti5nZXRCb2d1cygpKSYmSi5yZW1vdmUoKTtGLm1vdmVUb1Bvc2l0aW9uKE4sQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCl9aWYoKHg9Ri5zdGFydFBhdGgoKS5ibG9jaykmJiF4LmVxdWFscyhIKSl7aWYoSj14LmdldEJvZ3VzKCkpe0oucmVtb3ZlKCk7Qy5wdXNoKHgpfUg9eH1HLmZpcnN0Tm90QWxsb3dlZCYmKHI9MSk7aWYociYmRy5pc0VsZW1lbnQpe3g9Ri5zdGFydENvbnRhaW5lcjtmb3IoTD1udWxsO3gmJiFpW3guZ2V0TmFtZSgpXVtHLm5hbWVdOyl7aWYoeC5lcXVhbHModSkpe3g9bnVsbDticmVha31MPXg7eD14LmdldFBhcmVudCgpfWlmKHgpe2lmKEwpe089Ri5zcGxpdEVsZW1lbnQoTCk7cy56b21iaWVzLnB1c2goTyk7cy56b21iaWVzLnB1c2goTCl9fWVsc2V7TD11LmdldE5hbWUoKTtQPSF3O3g9dz09SS5sZW5ndGgtMTtMPWQoRy5ub2RlLEwpO2Zvcih2YXIgTT1bXSxSPUwubGVuZ3RoLFQ9MCxVPXZvaWQgMCxWPTAsVz0tMTtUPFI7VCsrKXtVPUxbVF07XG5pZihVPT1cIiBcIil7aWYoIVYmJighUHx8VCkpe00ucHVzaChuZXcgQ0tFRElUT1IuZG9tLnRleHQoXCIgXCIpKTtXPU0ubGVuZ3RofVY9MX1lbHNle00ucHVzaChVKTtWPTB9fXgmJlc9PU0ubGVuZ3RoJiZNLnBvcCgpO1A9TX19aWYoUCl7Zm9yKDt4PVAucG9wKCk7KUYuaW5zZXJ0Tm9kZSh4KTtQPTB9ZWxzZSBGLmluc2VydE5vZGUoRy5ub2RlKTtpZihHLmxhc3ROb3RBbGxvd2VkJiZ3PEkubGVuZ3RoLTEpeyhPPVE/dDpPKSYmRi5zZXRFbmRBdChPLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKTtyPTB9Ri5jb2xsYXBzZSgpfX1zLmRvbnRNb3ZlQ2FyZXQ9djtzLmJvZ3VzTmVlZGVkQmxvY2tzPUN9Sj1zLnJhbmdlO3ZhciBTO089cy5ib2d1c05lZWRlZEJsb2Nrcztmb3IoUD1KLmNyZWF0ZUJvb2ttYXJrKCk7SD1zLnpvbWJpZXMucG9wKCk7KWlmKEguZ2V0UGFyZW50KCkpe049Si5jbG9uZSgpO04ubW92ZVRvRWxlbWVudEVkaXRTdGFydChIKTtOLnJlbW92ZUVtcHR5QmxvY2tzQXRFbmQoKX1pZihPKWZvcig7SD1cbk8ucG9wKCk7KUguYXBwZW5kKENLRURJVE9SLmVudi5pZT9KLmRvY3VtZW50LmNyZWF0ZVRleHQoXCLCoFwiKTpKLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJiclwiKSk7Zm9yKDtIPXMubWVyZ2VDYW5kaWRhdGVzLnBvcCgpOylILm1lcmdlU2libGluZ3MoKTtKLm1vdmVUb0Jvb2ttYXJrKFApO2lmKCFzLmRvbnRNb3ZlQ2FyZXQpe2ZvcihIPWIoSi5zdGFydENvbnRhaW5lcikmJkouc3RhcnRDb250YWluZXIuZ2V0Q2hpbGQoSi5zdGFydE9mZnNldC0xKTtIJiZiKEgpJiYhSC5pcyhpLiRlbXB0eSk7KXtpZihILmlzQmxvY2tCb3VuZGFyeSgpKUoubW92ZVRvUG9zaXRpb24oSCxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtlbHNle2lmKGUoSCkmJkguZ2V0SHRtbCgpLm1hdGNoKC8oXFxzfCZuYnNwOykkL2cpKXtTPW51bGw7YnJlYWt9Uz1KLmNsb25lKCk7Uy5tb3ZlVG9Qb3NpdGlvbihILENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpfUg9SC5nZXRMYXN0KGEpfVMmJkoubW92ZVRvUmFuZ2UoUyl9RC5zZWxlY3QoKTtcbmcobSl9fX0oKX0pKCk7XG4oZnVuY3Rpb24oKXtmdW5jdGlvbiBiKCl7dmFyIGE9dGhpcy5nZXRTZWxlY3Rpb24oMSk7aWYoYS5nZXRUeXBlKCkhPUNLRURJVE9SLlNFTEVDVElPTl9OT05FKXt0aGlzLmZpcmUoXCJzZWxlY3Rpb25DaGVja1wiLGEpO3ZhciBiPXRoaXMuZWxlbWVudFBhdGgoKTtpZighYi5jb21wYXJlKHRoaXMuXy5zZWxlY3Rpb25QcmV2aW91c1BhdGgpKXt0aGlzLl8uc2VsZWN0aW9uUHJldmlvdXNQYXRoPWI7dGhpcy5maXJlKFwic2VsZWN0aW9uQ2hhbmdlXCIse3NlbGVjdGlvbjphLHBhdGg6Yn0pfX19ZnVuY3Rpb24gYygpe2s9dHJ1ZTtpZighZyl7YS5jYWxsKHRoaXMpO2c9Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChhLDIwMCx0aGlzKX19ZnVuY3Rpb24gYSgpe2c9bnVsbDtpZihrKXtDS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGIsMCx0aGlzKTtrPWZhbHNlfX1mdW5jdGlvbiBmKGEpe2Z1bmN0aW9uIGIoYyxkKXtyZXR1cm4hY3x8Yy50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQ/ZmFsc2U6XG5hLmNsb25lKClbXCJtb3ZlVG9FbGVtZW50RWRpdFwiKyhkP1wiRW5kXCI6XCJTdGFydFwiKV0oYyl9aWYoIShhLnJvb3QgaW5zdGFuY2VvZiBDS0VESVRPUi5lZGl0YWJsZSkpcmV0dXJuIGZhbHNlO3ZhciBjPWEuc3RhcnRDb250YWluZXIsZD1hLmdldFByZXZpb3VzTm9kZShoLG51bGwsYyksZT1hLmdldE5leHROb2RlKGgsbnVsbCxjKTtyZXR1cm4gYihkKXx8YihlLDEpfHwhZCYmIWUmJiEoYy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmMuaXNCbG9ja0JvdW5kYXJ5KCkmJmMuZ2V0Qm9ndXMoKSk/dHJ1ZTpmYWxzZX1mdW5jdGlvbiBlKGEpe3JldHVybiBhLmdldEN1c3RvbURhdGEoXCJja2UtZmlsbGluZ0NoYXJcIil9ZnVuY3Rpb24gZChhLGIpe3ZhciBjPWEmJmEucmVtb3ZlQ3VzdG9tRGF0YShcImNrZS1maWxsaW5nQ2hhclwiKTtpZihjKXtpZihiIT09ZmFsc2Upe3ZhciBkLGU9YS5nZXREb2N1bWVudCgpLmdldFNlbGVjdGlvbigpLmdldE5hdGl2ZSgpLGY9ZSYmZS50eXBlIT1cIk5vbmVcIiYmXG5lLmdldFJhbmdlQXQoMCk7aWYoYy5nZXRMZW5ndGgoKT4xJiZmJiZmLmludGVyc2VjdHNOb2RlKGMuJCkpe2Q9W2UuYW5jaG9yT2Zmc2V0LGUuZm9jdXNPZmZzZXRdO2Y9ZS5mb2N1c05vZGU9PWMuJCYmZS5mb2N1c09mZnNldD4wO2UuYW5jaG9yTm9kZT09Yy4kJiZlLmFuY2hvck9mZnNldD4wJiZkWzBdLS07ZiYmZFsxXS0tO3ZhciBnO2Y9ZTtpZighZi5pc0NvbGxhcHNlZCl7Zz1mLmdldFJhbmdlQXQoMCk7Zy5zZXRTdGFydChmLmFuY2hvck5vZGUsZi5hbmNob3JPZmZzZXQpO2cuc2V0RW5kKGYuZm9jdXNOb2RlLGYuZm9jdXNPZmZzZXQpO2c9Zy5jb2xsYXBzZWR9ZyYmZC51bnNoaWZ0KGQucG9wKCkpfX1jLnNldFRleHQoYy5nZXRUZXh0KCkucmVwbGFjZSgvXFx1MjAwQi9nLFwiXCIpKTtpZihkKXtjPWUuZ2V0UmFuZ2VBdCgwKTtjLnNldFN0YXJ0KGMuc3RhcnRDb250YWluZXIsZFswXSk7Yy5zZXRFbmQoYy5zdGFydENvbnRhaW5lcixkWzFdKTtlLnJlbW92ZUFsbFJhbmdlcygpO2UuYWRkUmFuZ2UoYyl9fX1cbnZhciBnLGssaD1DS0VESVRPUi5kb20ud2Fsa2VyLmludmlzaWJsZSgxKTtDS0VESVRPUi5vbihcImluc3RhbmNlQ3JlYXRlZFwiLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGUoKXt2YXIgYT1mLmdldFNlbGVjdGlvbigpO2EmJmEucmVtb3ZlQWxsUmFuZ2VzKCl9dmFyIGY9YS5lZGl0b3I7Zi5kZWZpbmUoXCJzZWxlY3Rpb25DaGFuZ2VcIix7ZXJyb3JQcm9vZjoxfSk7Zi5vbihcImNvbnRlbnREb21cIixmdW5jdGlvbigpe3ZhciBhPWYuZG9jdW1lbnQsZT1DS0VESVRPUi5kb2N1bWVudCxsPWYuZWRpdGFibGUoKSxnPWEuZ2V0Qm9keSgpLG89YS5nZXREb2N1bWVudEVsZW1lbnQoKSxoPWwuaXNJbmxpbmUoKTtpZihDS0VESVRPUi5lbnYuaWV8fENLRURJVE9SLmVudi5vcGVyYXx8aCl7dmFyIG47bC5hdHRhY2hMaXN0ZW5lcihsLFwiZm9jdXNcIixmdW5jdGlvbigpe2YudW5sb2NrU2VsZWN0aW9uKG4pO249MH0sbnVsbCxudWxsLC0xKTt2YXIgayxFPWZ1bmN0aW9uKCl7az1mLmdldFNlbGVjdGlvbigxKTtcbmsubG9jaygpfTttP2wuYXR0YWNoTGlzdGVuZXIobCxcImJlZm9yZWRlYWN0aXZhdGVcIixFLG51bGwsbnVsbCwtMSk6bC5hdHRhY2hMaXN0ZW5lcihmLFwic2VsZWN0aW9uQ2hlY2tcIixFLG51bGwsbnVsbCwtMSk7bC5hdHRhY2hMaXN0ZW5lcihsLFwiYmx1clwiLGZ1bmN0aW9uKCl7Zi5sb2NrU2VsZWN0aW9uKGspO249MX0sbnVsbCxudWxsLC0xKTtsLmF0dGFjaExpc3RlbmVyKGwsXCJtb3VzZWRvd25cIixmdW5jdGlvbigpe249MH0pfWlmKENLRURJVE9SLmVudi5pZSYmIWgpe3ZhciB1O2wuYXR0YWNoTGlzdGVuZXIobCxcIm1vdXNlZG93blwiLGZ1bmN0aW9uKGEpe2EuZGF0YS4kLmJ1dHRvbj09MiYmZi5kb2N1bWVudC4kLnNlbGVjdGlvbi50eXBlPT1cIk5vbmVcIiYmKHU9Zi53aW5kb3cuZ2V0U2Nyb2xsUG9zaXRpb24oKSl9KTtsLmF0dGFjaExpc3RlbmVyKGwsXCJtb3VzZXVwXCIsZnVuY3Rpb24oYSl7aWYoYS5kYXRhLiQuYnV0dG9uPT0yJiZ1KXtmLmRvY3VtZW50LiQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQ9XG51Lng7Zi5kb2N1bWVudC4kLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A9dS55fXU9bnVsbH0pO2lmKGEuJC5jb21wYXRNb2RlIT1cIkJhY2tDb21wYXRcIil7aWYoQ0tFRElUT1IuZW52LmllN0NvbXBhdHx8Q0tFRElUT1IuZW52LmllNkNvbXBhdClvLm9uKFwibW91c2Vkb3duXCIsZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXthPWEuZGF0YS4kO2lmKGQpe3ZhciBjPWcuJC5jcmVhdGVUZXh0UmFuZ2UoKTt0cnl7Yy5tb3ZlVG9Qb2ludChhLngsYS55KX1jYXRjaChlKXt9ZC5zZXRFbmRQb2ludChsLmNvbXBhcmVFbmRQb2ludHMoXCJTdGFydFRvU3RhcnRcIixjKTwwP1wiRW5kVG9FbmRcIjpcIlN0YXJ0VG9TdGFydFwiLGMpO2Quc2VsZWN0KCl9fWZ1bmN0aW9uIGMoKXtvLnJlbW92ZUxpc3RlbmVyKFwibW91c2Vtb3ZlXCIsYik7ZS5yZW1vdmVMaXN0ZW5lcihcIm1vdXNldXBcIixjKTtvLnJlbW92ZUxpc3RlbmVyKFwibW91c2V1cFwiLGMpO2Quc2VsZWN0KCl9YT1hLmRhdGE7aWYoYS5nZXRUYXJnZXQoKS5pcyhcImh0bWxcIikmJlxuYS4kLnk8by4kLmNsaWVudEhlaWdodCYmYS4kLng8by4kLmNsaWVudFdpZHRoKXt2YXIgZD1nLiQuY3JlYXRlVGV4dFJhbmdlKCk7dHJ5e2QubW92ZVRvUG9pbnQoYS4kLngsYS4kLnkpfWNhdGNoKGYpe312YXIgbD1kLmR1cGxpY2F0ZSgpO28ub24oXCJtb3VzZW1vdmVcIixiKTtlLm9uKFwibW91c2V1cFwiLGMpO28ub24oXCJtb3VzZXVwXCIsYyl9fSk7aWYoQ0tFRElUT1IuZW52LnZlcnNpb24+Nyl7by5vbihcIm1vdXNlZG93blwiLGZ1bmN0aW9uKGEpe2lmKGEuZGF0YS5nZXRUYXJnZXQoKS5pcyhcImh0bWxcIikpe2Uub24oXCJtb3VzZXVwXCIscik7by5vbihcIm1vdXNldXBcIixyKX19KTt2YXIgcj1mdW5jdGlvbigpe2UucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZXVwXCIscik7by5yZW1vdmVMaXN0ZW5lcihcIm1vdXNldXBcIixyKTt2YXIgYj1DS0VESVRPUi5kb2N1bWVudC4kLnNlbGVjdGlvbixjPWIuY3JlYXRlUmFuZ2UoKTtiLnR5cGUhPVwiTm9uZVwiJiZjLnBhcmVudEVsZW1lbnQoKS5vd25lckRvY3VtZW50PT1cbmEuJCYmYy5zZWxlY3QoKX19fX1sLmF0dGFjaExpc3RlbmVyKGwsXCJzZWxlY3Rpb25jaGFuZ2VcIixiLGYpO2wuYXR0YWNoTGlzdGVuZXIobCxcImtleXVwXCIsYyxmKTtsLmF0dGFjaExpc3RlbmVyKGwsXCJmb2N1c1wiLGZ1bmN0aW9uKCl7Zi5mb3JjZU5leHRTZWxlY3Rpb25DaGVjaygpO2Yuc2VsZWN0aW9uQ2hhbmdlKDEpfSk7aWYobC5pc0lubGluZSgpP0NLRURJVE9SLmVudi53ZWJraXR8fENLRURJVE9SLmVudi5nZWNrbzpDS0VESVRPUi5lbnYub3BlcmEpe3ZhciBEO2wuYXR0YWNoTGlzdGVuZXIobCxcIm1vdXNlZG93blwiLGZ1bmN0aW9uKCl7RD0xfSk7bC5hdHRhY2hMaXN0ZW5lcihhLmdldERvY3VtZW50RWxlbWVudCgpLFwibW91c2V1cFwiLGZ1bmN0aW9uKCl7RCYmYy5jYWxsKGYpO0Q9MH0pfWVsc2UgbC5hdHRhY2hMaXN0ZW5lcihsLFwibW91c2V1cFwiLGMsZik7aWYoQ0tFRElUT1IuZW52LndlYmtpdClhLm9uKFwia2V5ZG93blwiLGZ1bmN0aW9uKGEpe3N3aXRjaChhLmRhdGEuZ2V0S2V5KCkpe2Nhc2UgMTM6Y2FzZSAzMzpjYXNlIDM0OmNhc2UgMzU6Y2FzZSAzNjpjYXNlIDM3OmNhc2UgMzk6Y2FzZSA4OmNhc2UgNDU6Y2FzZSA0NjpkKGYuZWRpdGFibGUoKSl9fSxcbm51bGwsbnVsbCwtMSl9KTtmLm9uKFwiY29udGVudERvbVVubG9hZFwiLGYuZm9yY2VOZXh0U2VsZWN0aW9uQ2hlY2ssZik7Zi5vbihcImRhdGFSZWFkeVwiLGZ1bmN0aW9uKCl7Zi5zZWxlY3Rpb25DaGFuZ2UoMSl9KTtDS0VESVRPUi5lbnYuaWU5Q29tcGF0JiZmLm9uKFwiYmVmb3JlRGVzdHJveVwiLGUsbnVsbCxudWxsLDkpO0NLRURJVE9SLmVudi53ZWJraXQmJmYub24oXCJzZXREYXRhXCIsZSk7Zi5vbihcImNvbnRlbnREb21VbmxvYWRcIixmdW5jdGlvbigpe2YudW5sb2NrU2VsZWN0aW9uKCl9KX0pO0NLRURJVE9SLm9uKFwiaW5zdGFuY2VSZWFkeVwiLGZ1bmN0aW9uKGEpe3ZhciBiPWEuZWRpdG9yLGM9Yi5lZGl0YWJsZSgpO2lmKENLRURJVE9SLmVudi53ZWJraXQpe2Iub24oXCJzZWxlY3Rpb25DaGFuZ2VcIixmdW5jdGlvbigpe3ZhciBhPWUoYyk7YSYmKGEuZ2V0Q3VzdG9tRGF0YShcInJlYWR5XCIpP2QoYyk6YS5zZXRDdXN0b21EYXRhKFwicmVhZHlcIiwxKSl9LG51bGwsbnVsbCwtMSk7Yi5vbihcImJlZm9yZVNldE1vZGVcIixcbmZ1bmN0aW9uKCl7ZChjKX0sbnVsbCxudWxsLC0xKTt2YXIgZixnLGE9ZnVuY3Rpb24oKXt2YXIgYT1iLmRvY3VtZW50LGQ9ZShjKTtpZihkKXthPWEuJC5kZWZhdWx0Vmlldy5nZXRTZWxlY3Rpb24oKTthLnR5cGU9PVwiQ2FyZXRcIiYmYS5hbmNob3JOb2RlPT1kLiQmJihnPTEpO2Y9ZC5nZXRUZXh0KCk7ZC5zZXRUZXh0KGYucmVwbGFjZSgvXFx1MjAwQi9nLFwiXCIpKX19LGg9ZnVuY3Rpb24oKXt2YXIgYT1iLmRvY3VtZW50LGQ9ZShjKTtpZihkKXtkLnNldFRleHQoZik7aWYoZyl7YS4kLmRlZmF1bHRWaWV3LmdldFNlbGVjdGlvbigpLnNldFBvc2l0aW9uKGQuJCxkLmdldExlbmd0aCgpKTtnPTB9fX07Yi5vbihcImJlZm9yZVVuZG9JbWFnZVwiLGEpO2Iub24oXCJhZnRlclVuZG9JbWFnZVwiLGgpO2Iub24oXCJiZWZvcmVHZXREYXRhXCIsYSxudWxsLG51bGwsMCk7Yi5vbihcImdldERhdGFcIixoKX19KTtDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLnNlbGVjdGlvbkNoYW5nZT1mdW5jdGlvbihhKXsoYT9cbmI6YykuY2FsbCh0aGlzKX07Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5nZXRTZWxlY3Rpb249ZnVuY3Rpb24oYSl7aWYodGhpcy5fLnNhdmVkU2VsZWN0aW9uJiYhYSlyZXR1cm4gdGhpcy5fLnNhdmVkU2VsZWN0aW9uO3JldHVybihhPXRoaXMuZWRpdGFibGUoKSk/bmV3IENLRURJVE9SLmRvbS5zZWxlY3Rpb24oYSk6bnVsbH07Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5sb2NrU2VsZWN0aW9uPWZ1bmN0aW9uKGEpe2E9YXx8dGhpcy5nZXRTZWxlY3Rpb24oMSk7aWYoYS5nZXRUeXBlKCkhPUNLRURJVE9SLlNFTEVDVElPTl9OT05FKXshYS5pc0xvY2tlZCYmYS5sb2NrKCk7dGhpcy5fLnNhdmVkU2VsZWN0aW9uPWE7cmV0dXJuIHRydWV9cmV0dXJuIGZhbHNlfTtDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLnVubG9ja1NlbGVjdGlvbj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLl8uc2F2ZWRTZWxlY3Rpb247aWYoYil7Yi51bmxvY2soYSk7ZGVsZXRlIHRoaXMuXy5zYXZlZFNlbGVjdGlvbjtcbnJldHVybiB0cnVlfXJldHVybiBmYWxzZX07Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5mb3JjZU5leHRTZWxlY3Rpb25DaGVjaz1mdW5jdGlvbigpe2RlbGV0ZSB0aGlzLl8uc2VsZWN0aW9uUHJldmlvdXNQYXRofTtDS0VESVRPUi5kb20uZG9jdW1lbnQucHJvdG90eXBlLmdldFNlbGVjdGlvbj1mdW5jdGlvbigpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLnNlbGVjdGlvbih0aGlzKX07Q0tFRElUT1IuZG9tLnJhbmdlLnByb3RvdHlwZS5zZWxlY3Q9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnJvb3QgaW5zdGFuY2VvZiBDS0VESVRPUi5lZGl0YWJsZT90aGlzLnJvb3QuZWRpdG9yLmdldFNlbGVjdGlvbigpOm5ldyBDS0VESVRPUi5kb20uc2VsZWN0aW9uKHRoaXMucm9vdCk7YS5zZWxlY3RSYW5nZXMoW3RoaXNdKTtyZXR1cm4gYX07Q0tFRElUT1IuU0VMRUNUSU9OX05PTkU9MTtDS0VESVRPUi5TRUxFQ1RJT05fVEVYVD0yO0NLRURJVE9SLlNFTEVDVElPTl9FTEVNRU5UPTM7dmFyIG09XG50eXBlb2Ygd2luZG93LmdldFNlbGVjdGlvbiE9XCJmdW5jdGlvblwiO0NLRURJVE9SLmRvbS5zZWxlY3Rpb249ZnVuY3Rpb24oYSl7dmFyIGI9YSBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5lbGVtZW50O3RoaXMuZG9jdW1lbnQ9YSBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5kb2N1bWVudD9hOmEuZ2V0RG9jdW1lbnQoKTt0aGlzLnJvb3Q9Yj9hOnRoaXMuZG9jdW1lbnQuZ2V0Qm9keSgpO3RoaXMuaXNMb2NrZWQ9MDt0aGlzLl89e2NhY2hlOnt9fTtpZihDS0VESVRPUi5lbnYud2Via2l0KXthPXRoaXMuZG9jdW1lbnQuZ2V0V2luZG93KCkuJC5nZXRTZWxlY3Rpb24oKTtpZihhLnR5cGU9PVwiTm9uZVwiJiZ0aGlzLmRvY3VtZW50LmdldEFjdGl2ZSgpLmVxdWFscyh0aGlzLnJvb3QpfHxhLnR5cGU9PVwiQ2FyZXRcIiYmYS5hbmNob3JOb2RlLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UKXt2YXIgYz1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKHRoaXMucm9vdCk7Yy5tb3ZlVG9Qb3NpdGlvbih0aGlzLnJvb3QsXG5DS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCk7Yj10aGlzLmRvY3VtZW50LiQuY3JlYXRlUmFuZ2UoKTtiLnNldFN0YXJ0KGMuc3RhcnRDb250YWluZXIuJCxjLnN0YXJ0T2Zmc2V0KTtiLmNvbGxhcHNlKDEpO2EuYWRkUmFuZ2UoYil9fXZhciBhPXRoaXMuZ2V0TmF0aXZlKCksZDtpZihhKWlmKGEuZ2V0UmFuZ2VBdClkPShjPWEucmFuZ2VDb3VudCYmYS5nZXRSYW5nZUF0KDApKSYmbmV3IENLRURJVE9SLmRvbS5ub2RlKGMuY29tbW9uQW5jZXN0b3JDb250YWluZXIpO2Vsc2V7dHJ5e2M9YS5jcmVhdGVSYW5nZSgpfWNhdGNoKGUpe31kPWMmJkNLRURJVE9SLmRvbS5lbGVtZW50LmdldChjLml0ZW0mJmMuaXRlbSgwKXx8Yy5wYXJlbnRFbGVtZW50KCkpfWlmKCFkfHwhdGhpcy5yb290LmVxdWFscyhkKSYmIXRoaXMucm9vdC5jb250YWlucyhkKSl7dGhpcy5fLmNhY2hlLnR5cGU9Q0tFRElUT1IuU0VMRUNUSU9OX05PTkU7dGhpcy5fLmNhY2hlLnN0YXJ0RWxlbWVudD1udWxsO3RoaXMuXy5jYWNoZS5zZWxlY3RlZEVsZW1lbnQ9XG5udWxsO3RoaXMuXy5jYWNoZS5zZWxlY3RlZFRleHQ9XCJcIjt0aGlzLl8uY2FjaGUucmFuZ2VzPW5ldyBDS0VESVRPUi5kb20ucmFuZ2VMaXN0fXJldHVybiB0aGlzfTt2YXIgbj17aW1nOjEsaHI6MSxsaToxLHRhYmxlOjEsdHI6MSx0ZDoxLHRoOjEsZW1iZWQ6MSxvYmplY3Q6MSxvbDoxLHVsOjEsYToxLGlucHV0OjEsZm9ybToxLHNlbGVjdDoxLHRleHRhcmVhOjEsYnV0dG9uOjEsZmllbGRzZXQ6MSx0aGVhZDoxLHRmb290OjF9O0NLRURJVE9SLmRvbS5zZWxlY3Rpb24ucHJvdG90eXBlPXtnZXROYXRpdmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLmNhY2hlLm5hdGl2ZVNlbCE9PXZvaWQgMD90aGlzLl8uY2FjaGUubmF0aXZlU2VsOnRoaXMuXy5jYWNoZS5uYXRpdmVTZWw9bT90aGlzLmRvY3VtZW50LiQuc2VsZWN0aW9uOnRoaXMuZG9jdW1lbnQuZ2V0V2luZG93KCkuJC5nZXRTZWxlY3Rpb24oKX0sZ2V0VHlwZTptP2Z1bmN0aW9uKCl7dmFyIGE9dGhpcy5fLmNhY2hlO2lmKGEudHlwZSlyZXR1cm4gYS50eXBlO1xudmFyIGI9Q0tFRElUT1IuU0VMRUNUSU9OX05PTkU7dHJ5e3ZhciBjPXRoaXMuZ2V0TmF0aXZlKCksZD1jLnR5cGU7aWYoZD09XCJUZXh0XCIpYj1DS0VESVRPUi5TRUxFQ1RJT05fVEVYVDtpZihkPT1cIkNvbnRyb2xcIiliPUNLRURJVE9SLlNFTEVDVElPTl9FTEVNRU5UO2lmKGMuY3JlYXRlUmFuZ2UoKS5wYXJlbnRFbGVtZW50KCkpYj1DS0VESVRPUi5TRUxFQ1RJT05fVEVYVH1jYXRjaChlKXt9cmV0dXJuIGEudHlwZT1ifTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5jYWNoZTtpZihhLnR5cGUpcmV0dXJuIGEudHlwZTt2YXIgYj1DS0VESVRPUi5TRUxFQ1RJT05fVEVYVCxjPXRoaXMuZ2V0TmF0aXZlKCk7aWYoIWN8fCFjLnJhbmdlQ291bnQpYj1DS0VESVRPUi5TRUxFQ1RJT05fTk9ORTtlbHNlIGlmKGMucmFuZ2VDb3VudD09MSl7dmFyIGM9Yy5nZXRSYW5nZUF0KDApLGQ9Yy5zdGFydENvbnRhaW5lcjtpZihkPT1jLmVuZENvbnRhaW5lciYmZC5ub2RlVHlwZT09MSYmYy5lbmRPZmZzZXQtXG5jLnN0YXJ0T2Zmc2V0PT0xJiZuW2QuY2hpbGROb2Rlc1tjLnN0YXJ0T2Zmc2V0XS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSliPUNLRURJVE9SLlNFTEVDVElPTl9FTEVNRU5UfXJldHVybiBhLnR5cGU9Yn0sZ2V0UmFuZ2VzOmZ1bmN0aW9uKCl7dmFyIGE9bT9mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYil7cmV0dXJuKG5ldyBDS0VESVRPUi5kb20ubm9kZShiKSkuZ2V0SW5kZXgoKX12YXIgYj1mdW5jdGlvbihiLGMpe2I9Yi5kdXBsaWNhdGUoKTtiLmNvbGxhcHNlKGMpO3ZhciBkPWIucGFyZW50RWxlbWVudCgpLGU9ZC5vd25lckRvY3VtZW50O2lmKCFkLmhhc0NoaWxkTm9kZXMoKSlyZXR1cm57Y29udGFpbmVyOmQsb2Zmc2V0OjB9O2Zvcih2YXIgZj1kLmNoaWxkcmVuLGcsaixoPWIuZHVwbGljYXRlKCksbz0wLG09Zi5sZW5ndGgtMSxuPS0xLGssdjtvPD1tOyl7bj1NYXRoLmZsb29yKChvK20pLzIpO2c9ZltuXTtoLm1vdmVUb0VsZW1lbnRUZXh0KGcpO2s9aC5jb21wYXJlRW5kUG9pbnRzKFwiU3RhcnRUb1N0YXJ0XCIsXG5iKTtpZihrPjApbT1uLTE7ZWxzZSBpZihrPDApbz1uKzE7ZWxzZXtpZihDS0VESVRPUi5lbnYuaWU5Q29tcGF0JiZnLnRhZ05hbWU9PVwiQlJcIil7Zj1lLmRlZmF1bHRWaWV3LmdldFNlbGVjdGlvbigpO3JldHVybntjb250YWluZXI6ZltjP1wiYW5jaG9yTm9kZVwiOlwiZm9jdXNOb2RlXCJdLG9mZnNldDpmW2M/XCJhbmNob3JPZmZzZXRcIjpcImZvY3VzT2Zmc2V0XCJdfX1yZXR1cm57Y29udGFpbmVyOmQsb2Zmc2V0OmEoZyl9fX1pZihuPT0tMXx8bj09Zi5sZW5ndGgtMSYmazwwKXtoLm1vdmVUb0VsZW1lbnRUZXh0KGQpO2guc2V0RW5kUG9pbnQoXCJTdGFydFRvU3RhcnRcIixiKTtlPWgudGV4dC5yZXBsYWNlKC8oXFxyXFxufFxccikvZyxcIlxcblwiKS5sZW5ndGg7Zj1kLmNoaWxkTm9kZXM7aWYoIWUpe2c9ZltmLmxlbmd0aC0xXTtyZXR1cm4gZy5ub2RlVHlwZSE9Q0tFRElUT1IuTk9ERV9URVhUP3tjb250YWluZXI6ZCxvZmZzZXQ6Zi5sZW5ndGh9Ontjb250YWluZXI6ZyxvZmZzZXQ6Zy5ub2RlVmFsdWUubGVuZ3RofX1mb3IoZD1cbmYubGVuZ3RoO2U+MCYmZD4wOyl7aj1mWy0tZF07aWYoai5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9URVhUKXt2PWo7ZT1lLWoubm9kZVZhbHVlLmxlbmd0aH19cmV0dXJue2NvbnRhaW5lcjp2LG9mZnNldDotZX19aC5jb2xsYXBzZShrPjA/dHJ1ZTpmYWxzZSk7aC5zZXRFbmRQb2ludChrPjA/XCJTdGFydFRvU3RhcnRcIjpcIkVuZFRvU3RhcnRcIixiKTtlPWgudGV4dC5yZXBsYWNlKC8oXFxyXFxufFxccikvZyxcIlxcblwiKS5sZW5ndGg7aWYoIWUpcmV0dXJue2NvbnRhaW5lcjpkLG9mZnNldDphKGcpKyhrPjA/MDoxKX07Zm9yKDtlPjA7KXRyeXtqPWdbaz4wP1wicHJldmlvdXNTaWJsaW5nXCI6XCJuZXh0U2libGluZ1wiXTtpZihqLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX1RFWFQpe2U9ZS1qLm5vZGVWYWx1ZS5sZW5ndGg7dj1qfWc9an1jYXRjaCh0KXtyZXR1cm57Y29udGFpbmVyOmQsb2Zmc2V0OmEoZyl9fXJldHVybntjb250YWluZXI6dixvZmZzZXQ6az4wPy1lOnYubm9kZVZhbHVlLmxlbmd0aCtcbmV9fTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldE5hdGl2ZSgpLGM9YSYmYS5jcmVhdGVSYW5nZSgpLGQ9dGhpcy5nZXRUeXBlKCk7aWYoIWEpcmV0dXJuW107aWYoZD09Q0tFRElUT1IuU0VMRUNUSU9OX1RFWFQpe2E9bmV3IENLRURJVE9SLmRvbS5yYW5nZSh0aGlzLnJvb3QpO2Q9YihjLHRydWUpO2Euc2V0U3RhcnQobmV3IENLRURJVE9SLmRvbS5ub2RlKGQuY29udGFpbmVyKSxkLm9mZnNldCk7ZD1iKGMpO2Euc2V0RW5kKG5ldyBDS0VESVRPUi5kb20ubm9kZShkLmNvbnRhaW5lciksZC5vZmZzZXQpO2EuZW5kQ29udGFpbmVyLmdldFBvc2l0aW9uKGEuc3RhcnRDb250YWluZXIpJkNLRURJVE9SLlBPU0lUSU9OX1BSRUNFRElORyYmYS5lbmRPZmZzZXQ8PWEuc3RhcnRDb250YWluZXIuZ2V0SW5kZXgoKSYmYS5jb2xsYXBzZSgpO3JldHVyblthXX1pZihkPT1DS0VESVRPUi5TRUxFQ1RJT05fRUxFTUVOVCl7Zm9yKHZhciBkPVtdLGU9MDtlPGMubGVuZ3RoO2UrKyl7Zm9yKHZhciBmPVxuYy5pdGVtKGUpLGc9Zi5wYXJlbnROb2RlLGw9MCxhPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UodGhpcy5yb290KTtsPGcuY2hpbGROb2Rlcy5sZW5ndGgmJmcuY2hpbGROb2Rlc1tsXSE9ZjtsKyspO2Euc2V0U3RhcnQobmV3IENLRURJVE9SLmRvbS5ub2RlKGcpLGwpO2Euc2V0RW5kKG5ldyBDS0VESVRPUi5kb20ubm9kZShnKSxsKzEpO2QucHVzaChhKX1yZXR1cm4gZH1yZXR1cm5bXX19KCk6ZnVuY3Rpb24oKXt2YXIgYT1bXSxiLGM9dGhpcy5nZXROYXRpdmUoKTtpZighYylyZXR1cm4gYTtmb3IodmFyIGQ9MDtkPGMucmFuZ2VDb3VudDtkKyspe3ZhciBlPWMuZ2V0UmFuZ2VBdChkKTtiPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UodGhpcy5yb290KTtiLnNldFN0YXJ0KG5ldyBDS0VESVRPUi5kb20ubm9kZShlLnN0YXJ0Q29udGFpbmVyKSxlLnN0YXJ0T2Zmc2V0KTtiLnNldEVuZChuZXcgQ0tFRElUT1IuZG9tLm5vZGUoZS5lbmRDb250YWluZXIpLGUuZW5kT2Zmc2V0KTthLnB1c2goYil9cmV0dXJuIGF9O1xucmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuXy5jYWNoZTtpZihjLnJhbmdlcyYmIWIpcmV0dXJuIGMucmFuZ2VzO2lmKCFjLnJhbmdlcyljLnJhbmdlcz1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlTGlzdChhLmNhbGwodGhpcykpO2lmKGIpZm9yKHZhciBkPWMucmFuZ2VzLGU9MDtlPGQubGVuZ3RoO2UrKyl7dmFyIGY9ZFtlXTtmLmdldENvbW1vbkFuY2VzdG9yKCkuaXNSZWFkT25seSgpJiZkLnNwbGljZShlLDEpO2lmKCFmLmNvbGxhcHNlZCl7aWYoZi5zdGFydENvbnRhaW5lci5pc1JlYWRPbmx5KCkpZm9yKHZhciBiPWYuc3RhcnRDb250YWluZXIsZztiOyl7aWYoKGc9Yi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpJiZiLmlzKFwiYm9keVwiKXx8IWIuaXNSZWFkT25seSgpKWJyZWFrO2cmJmIuZ2V0QXR0cmlidXRlKFwiY29udGVudEVkaXRhYmxlXCIpPT1cImZhbHNlXCImJmYuc2V0U3RhcnRBZnRlcihiKTtiPWIuZ2V0UGFyZW50KCl9Yj1mLnN0YXJ0Q29udGFpbmVyO2c9Zi5lbmRDb250YWluZXI7XG52YXIgaD1mLnN0YXJ0T2Zmc2V0LG09Zi5lbmRPZmZzZXQsbj1mLmNsb25lKCk7YiYmYi50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihoPj1iLmdldExlbmd0aCgpP24uc2V0U3RhcnRBZnRlcihiKTpuLnNldFN0YXJ0QmVmb3JlKGIpKTtnJiZnLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKG0/bi5zZXRFbmRBZnRlcihnKTpuLnNldEVuZEJlZm9yZShnKSk7Yj1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihuKTtiLmV2YWx1YXRvcj1mdW5jdGlvbihhKXtpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5pc1JlYWRPbmx5KCkpe3ZhciBiPWYuY2xvbmUoKTtmLnNldEVuZEJlZm9yZShhKTtmLmNvbGxhcHNlZCYmZC5zcGxpY2UoZS0tLDEpO2lmKCEoYS5nZXRQb3NpdGlvbihuLmVuZENvbnRhaW5lcikmQ0tFRElUT1IuUE9TSVRJT05fQ09OVEFJTlMpKXtiLnNldFN0YXJ0QWZ0ZXIoYSk7Yi5jb2xsYXBzZWR8fGQuc3BsaWNlKGUrMSwwLGIpfXJldHVybiB0cnVlfXJldHVybiBmYWxzZX07XG5iLm5leHQoKX19cmV0dXJuIGMucmFuZ2VzfX0oKSxnZXRTdGFydEVsZW1lbnQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8uY2FjaGU7aWYoYS5zdGFydEVsZW1lbnQhPT12b2lkIDApcmV0dXJuIGEuc3RhcnRFbGVtZW50O3ZhciBiO3N3aXRjaCh0aGlzLmdldFR5cGUoKSl7Y2FzZSBDS0VESVRPUi5TRUxFQ1RJT05fRUxFTUVOVDpyZXR1cm4gdGhpcy5nZXRTZWxlY3RlZEVsZW1lbnQoKTtjYXNlIENLRURJVE9SLlNFTEVDVElPTl9URVhUOnZhciBjPXRoaXMuZ2V0UmFuZ2VzKClbMF07aWYoYyl7aWYoYy5jb2xsYXBzZWQpe2I9Yy5zdGFydENvbnRhaW5lcjtiLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGI9Yi5nZXRQYXJlbnQoKSl9ZWxzZXtmb3IoYy5vcHRpbWl6ZSgpOzspe2I9Yy5zdGFydENvbnRhaW5lcjtpZihjLnN0YXJ0T2Zmc2V0PT0oYi5nZXRDaGlsZENvdW50P2IuZ2V0Q2hpbGRDb3VudCgpOmIuZ2V0TGVuZ3RoKCkpJiYhYi5pc0Jsb2NrQm91bmRhcnkoKSljLnNldFN0YXJ0QWZ0ZXIoYik7XG5lbHNlIGJyZWFrfWI9Yy5zdGFydENvbnRhaW5lcjtpZihiLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVClyZXR1cm4gYi5nZXRQYXJlbnQoKTtiPWIuZ2V0Q2hpbGQoYy5zdGFydE9mZnNldCk7aWYoIWJ8fGIudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UKWI9Yy5zdGFydENvbnRhaW5lcjtlbHNlIGZvcihjPWIuZ2V0Rmlyc3QoKTtjJiZjLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVDspe2I9YztjPWMuZ2V0Rmlyc3QoKX19Yj1iLiR9fXJldHVybiBhLnN0YXJ0RWxlbWVudD1iP25ldyBDS0VESVRPUi5kb20uZWxlbWVudChiKTpudWxsfSxnZXRTZWxlY3RlZEVsZW1lbnQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8uY2FjaGU7aWYoYS5zZWxlY3RlZEVsZW1lbnQhPT12b2lkIDApcmV0dXJuIGEuc2VsZWN0ZWRFbGVtZW50O3ZhciBiPXRoaXMsYz1DS0VESVRPUi50b29scy50cnlUaGVzZShmdW5jdGlvbigpe3JldHVybiBiLmdldE5hdGl2ZSgpLmNyZWF0ZVJhbmdlKCkuaXRlbSgwKX0sXG5mdW5jdGlvbigpe2Zvcih2YXIgYT1iLmdldFJhbmdlcygpWzBdLGMsZCxlPTI7ZSYmKCEoYz1hLmdldEVuY2xvc2VkTm9kZSgpKXx8IShjLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmbltjLmdldE5hbWUoKV0mJihkPWMpKSk7ZS0tKWEuc2hyaW5rKENLRURJVE9SLlNIUklOS19FTEVNRU5UKTtyZXR1cm4gZC4kfSk7cmV0dXJuIGEuc2VsZWN0ZWRFbGVtZW50PWM/bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGMpOm51bGx9LGdldFNlbGVjdGVkVGV4dDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5jYWNoZTtpZihhLnNlbGVjdGVkVGV4dCE9PXZvaWQgMClyZXR1cm4gYS5zZWxlY3RlZFRleHQ7dmFyIGI9dGhpcy5nZXROYXRpdmUoKSxiPW0/Yi50eXBlPT1cIkNvbnRyb2xcIj9cIlwiOmIuY3JlYXRlUmFuZ2UoKS50ZXh0OmIudG9TdHJpbmcoKTtyZXR1cm4gYS5zZWxlY3RlZFRleHQ9Yn0sbG9jazpmdW5jdGlvbigpe3RoaXMuZ2V0UmFuZ2VzKCk7dGhpcy5nZXRTdGFydEVsZW1lbnQoKTtcbnRoaXMuZ2V0U2VsZWN0ZWRFbGVtZW50KCk7dGhpcy5nZXRTZWxlY3RlZFRleHQoKTt0aGlzLl8uY2FjaGUubmF0aXZlU2VsPW51bGw7dGhpcy5pc0xvY2tlZD0xfSx1bmxvY2s6ZnVuY3Rpb24oYSl7aWYodGhpcy5pc0xvY2tlZCl7aWYoYSl2YXIgYj10aGlzLmdldFNlbGVjdGVkRWxlbWVudCgpLGM9IWImJnRoaXMuZ2V0UmFuZ2VzKCk7dGhpcy5pc0xvY2tlZD0wO3RoaXMucmVzZXQoKTtpZihhKShhPWJ8fGNbMF0uZ2V0Q29tbW9uQW5jZXN0b3IoKSkmJmEuZ2V0QXNjZW5kYW50KFwiYm9keVwiLDEpJiYoYj90aGlzLnNlbGVjdEVsZW1lbnQoYik6dGhpcy5zZWxlY3RSYW5nZXMoYykpfX0scmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl8uY2FjaGU9e319LHNlbGVjdEVsZW1lbnQ6ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IENLRURJVE9SLmRvbS5yYW5nZSh0aGlzLnJvb3QpO2Iuc2V0U3RhcnRCZWZvcmUoYSk7Yi5zZXRFbmRBZnRlcihhKTt0aGlzLnNlbGVjdFJhbmdlcyhbYl0pfSxzZWxlY3RSYW5nZXM6ZnVuY3Rpb24oYSl7aWYoYS5sZW5ndGgpaWYodGhpcy5pc0xvY2tlZCl7dmFyIGI9XG5DS0VESVRPUi5kb2N1bWVudC5nZXRBY3RpdmUoKTt0aGlzLnVubG9jaygpO3RoaXMuc2VsZWN0UmFuZ2VzKGEpO3RoaXMubG9jaygpOyFiLmVxdWFscyh0aGlzLnJvb3QpJiZiLmZvY3VzKCl9ZWxzZXtpZihtKXt2YXIgYz1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKHRydWUpLGU9L1xcdWZlZmZ8XFx1MDBhMC8sZz17dGFibGU6MSx0Ym9keToxLHRyOjF9O2lmKGEubGVuZ3RoPjEpe2I9YVthLmxlbmd0aC0xXTthWzBdLnNldEVuZChiLmVuZENvbnRhaW5lcixiLmVuZE9mZnNldCl9dmFyIGI9YVswXSxhPWIuY29sbGFwc2VkLGgsaSxrLEE9Yi5nZXRFbmNsb3NlZE5vZGUoKTtpZihBJiZBLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmQS5nZXROYW1lKClpbiBuJiYoIUEuaXMoXCJhXCIpfHwhQS5nZXRUZXh0KCkpKXRyeXtrPUEuJC5jcmVhdGVDb250cm9sUmFuZ2UoKTtrLmFkZEVsZW1lbnQoQS4kKTtrLnNlbGVjdCgpO3JldHVybn1jYXRjaChCKXt9KGIuc3RhcnRDb250YWluZXIudHlwZT09XG5DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmIuc3RhcnRDb250YWluZXIuZ2V0TmFtZSgpaW4gZ3x8Yi5lbmRDb250YWluZXIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZiLmVuZENvbnRhaW5lci5nZXROYW1lKClpbiBnKSYmYi5zaHJpbmsoQ0tFRElUT1IuTk9ERV9FTEVNRU5ULHRydWUpO2s9Yi5jcmVhdGVCb29rbWFyaygpO3ZhciBnPWsuc3RhcnROb2RlLHA7aWYoIWEpcD1rLmVuZE5vZGU7az1iLmRvY3VtZW50LiQuYm9keS5jcmVhdGVUZXh0UmFuZ2UoKTtrLm1vdmVUb0VsZW1lbnRUZXh0KGcuJCk7ay5tb3ZlU3RhcnQoXCJjaGFyYWN0ZXJcIiwxKTtpZihwKXtlPWIuZG9jdW1lbnQuJC5ib2R5LmNyZWF0ZVRleHRSYW5nZSgpO2UubW92ZVRvRWxlbWVudFRleHQocC4kKTtrLnNldEVuZFBvaW50KFwiRW5kVG9FbmRcIixlKTtrLm1vdmVFbmQoXCJjaGFyYWN0ZXJcIiwtMSl9ZWxzZXtoPWcuZ2V0TmV4dChjKTtpPWcuaGFzQXNjZW5kYW50KFwicHJlXCIpO2g9IShoJiZoLmdldFRleHQmJlxuaC5nZXRUZXh0KCkubWF0Y2goZSkpJiYoaXx8IWcuaGFzUHJldmlvdXMoKXx8Zy5nZXRQcmV2aW91cygpLmlzJiZnLmdldFByZXZpb3VzKCkuaXMoXCJiclwiKSk7aT1iLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO2kuc2V0SHRtbChcIiYjNjUyNzk7XCIpO2kuaW5zZXJ0QmVmb3JlKGcpO2gmJmIuZG9jdW1lbnQuY3JlYXRlVGV4dChcIu+7v1wiKS5pbnNlcnRCZWZvcmUoZyl9Yi5zZXRTdGFydEJlZm9yZShnKTtnLnJlbW92ZSgpO2lmKGEpe2lmKGgpe2subW92ZVN0YXJ0KFwiY2hhcmFjdGVyXCIsLTEpO2suc2VsZWN0KCk7Yi5kb2N1bWVudC4kLnNlbGVjdGlvbi5jbGVhcigpfWVsc2Ugay5zZWxlY3QoKTtiLm1vdmVUb1Bvc2l0aW9uKGksQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKTtpLnJlbW92ZSgpfWVsc2V7Yi5zZXRFbmRCZWZvcmUocCk7cC5yZW1vdmUoKTtrLnNlbGVjdCgpfX1lbHNle3A9dGhpcy5nZXROYXRpdmUoKTtpZighcClyZXR1cm47aWYoQ0tFRElUT1IuZW52Lm9wZXJhKXtiPVxudGhpcy5kb2N1bWVudC4kLmNyZWF0ZVJhbmdlKCk7Yi5zZWxlY3ROb2RlQ29udGVudHModGhpcy5yb290LiQpO3AuYWRkUmFuZ2UoYil9dGhpcy5yZW1vdmVBbGxSYW5nZXMoKTtmb3IoZT0wO2U8YS5sZW5ndGg7ZSsrKXtpZihlPGEubGVuZ3RoLTEpe2I9YVtlXTtrPWFbZSsxXTtpPWIuY2xvbmUoKTtpLnNldFN0YXJ0KGIuZW5kQ29udGFpbmVyLGIuZW5kT2Zmc2V0KTtpLnNldEVuZChrLnN0YXJ0Q29udGFpbmVyLGsuc3RhcnRPZmZzZXQpO2lmKCFpLmNvbGxhcHNlZCl7aS5zaHJpbmsoQ0tFRElUT1IuTk9ERV9FTEVNRU5ULHRydWUpO2g9aS5nZXRDb21tb25BbmNlc3RvcigpO2k9aS5nZXRFbmNsb3NlZE5vZGUoKTtpZihoLmlzUmVhZE9ubHkoKXx8aSYmaS5pc1JlYWRPbmx5KCkpe2suc2V0U3RhcnQoYi5zdGFydENvbnRhaW5lcixiLnN0YXJ0T2Zmc2V0KTthLnNwbGljZShlLS0sMSk7Y29udGludWV9fX1iPWFbZV07az10aGlzLmRvY3VtZW50LiQuY3JlYXRlUmFuZ2UoKTtoPWIuc3RhcnRDb250YWluZXI7XG5pZihDS0VESVRPUi5lbnYub3BlcmEmJmIuY29sbGFwc2VkJiZoLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCl7aT1oLmdldENoaWxkKGIuc3RhcnRPZmZzZXQtMSk7Yz1oLmdldENoaWxkKGIuc3RhcnRPZmZzZXQpO2lmKCFpJiYhYyYmaC5pcyhDS0VESVRPUi5kdGQuJHJlbW92ZUVtcHR5KXx8aSYmaS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fGMmJmMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKXtiLmluc2VydE5vZGUodGhpcy5kb2N1bWVudC5jcmVhdGVUZXh0KFwiXCIpKTtiLmNvbGxhcHNlKDEpfX1pZihiLmNvbGxhcHNlZCYmQ0tFRElUT1IuZW52LndlYmtpdCYmZihiKSl7aD10aGlzLnJvb3Q7ZChoLGZhbHNlKTtpPWguZ2V0RG9jdW1lbnQoKS5jcmVhdGVUZXh0KFwi4oCLXCIpO2guc2V0Q3VzdG9tRGF0YShcImNrZS1maWxsaW5nQ2hhclwiLGkpO2IuaW5zZXJ0Tm9kZShpKTtpZigoaD1pLmdldE5leHQoKSkmJiFpLmdldFByZXZpb3VzKCkmJmgudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcbmguZ2V0TmFtZSgpPT1cImJyXCIpe2QodGhpcy5yb290KTtiLm1vdmVUb1Bvc2l0aW9uKGgsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKX1lbHNlIGIubW92ZVRvUG9zaXRpb24oaSxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpfWsuc2V0U3RhcnQoYi5zdGFydENvbnRhaW5lci4kLGIuc3RhcnRPZmZzZXQpO3RyeXtrLnNldEVuZChiLmVuZENvbnRhaW5lci4kLGIuZW5kT2Zmc2V0KX1jYXRjaChFKXtpZihFLnRvU3RyaW5nKCkuaW5kZXhPZihcIk5TX0VSUk9SX0lMTEVHQUxfVkFMVUVcIik+PTApe2IuY29sbGFwc2UoMSk7ay5zZXRFbmQoYi5lbmRDb250YWluZXIuJCxiLmVuZE9mZnNldCl9ZWxzZSB0aHJvdyBFO31wLmFkZFJhbmdlKGspfX10aGlzLnJlc2V0KCk7dGhpcy5yb290LmZpcmUoXCJzZWxlY3Rpb25jaGFuZ2VcIil9fSxjcmVhdGVCb29rbWFya3M6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ2V0UmFuZ2VzKCkuY3JlYXRlQm9va21hcmtzKGEpfSxjcmVhdGVCb29rbWFya3MyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdldFJhbmdlcygpLmNyZWF0ZUJvb2ttYXJrczIoYSl9LFxuc2VsZWN0Qm9va21hcmtzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bXSxjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciBkPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UodGhpcy5yb290KTtkLm1vdmVUb0Jvb2ttYXJrKGFbY10pO2IucHVzaChkKX10aGlzLnNlbGVjdFJhbmdlcyhiKTtyZXR1cm4gdGhpc30sZ2V0Q29tbW9uQW5jZXN0b3I6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldFJhbmdlcygpO3JldHVybiBhWzBdLnN0YXJ0Q29udGFpbmVyLmdldENvbW1vbkFuY2VzdG9yKGFbYS5sZW5ndGgtMV0uZW5kQ29udGFpbmVyKX0sc2Nyb2xsSW50b1ZpZXc6ZnVuY3Rpb24oKXt0aGlzLnR5cGUhPUNLRURJVE9SLlNFTEVDVElPTl9OT05FJiZ0aGlzLmdldFJhbmdlcygpWzBdLnNjcm9sbEludG9WaWV3KCl9LHJlbW92ZUFsbFJhbmdlczpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0TmF0aXZlKCk7dHJ5e2EmJmFbbT9cImVtcHR5XCI6XCJyZW1vdmVBbGxSYW5nZXNcIl0oKX1jYXRjaChiKXt9dGhpcy5yZXNldCgpfX19KSgpO1xuQ0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5hdHRhY2hTdHlsZVN0YXRlQ2hhbmdlPWZ1bmN0aW9uKGIsYyl7dmFyIGE9dGhpcy5fLnN0eWxlU3RhdGVDaGFuZ2VDYWxsYmFja3M7aWYoIWEpe2E9dGhpcy5fLnN0eWxlU3RhdGVDaGFuZ2VDYWxsYmFja3M9W107dGhpcy5vbihcInNlbGVjdGlvbkNoYW5nZVwiLGZ1bmN0aW9uKGIpe2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgZD1hW2NdLGc9ZC5zdHlsZS5jaGVja0FjdGl2ZShiLmRhdGEucGF0aCk/Q0tFRElUT1IuVFJJU1RBVEVfT046Q0tFRElUT1IuVFJJU1RBVEVfT0ZGO2QuZm4uY2FsbCh0aGlzLGcpfX0pfWEucHVzaCh7c3R5bGU6YixmbjpjfSl9O0NLRURJVE9SLlNUWUxFX0JMT0NLPTE7Q0tFRElUT1IuU1RZTEVfSU5MSU5FPTI7Q0tFRElUT1IuU1RZTEVfT0JKRUNUPTM7XG4oZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGEsYil7Zm9yKHZhciBjLGQ7YT1hLmdldFBhcmVudCgpOyl7aWYoYS5lcXVhbHMoYikpYnJlYWs7aWYoYS5nZXRBdHRyaWJ1dGUoXCJkYXRhLW5vc3R5bGVcIikpYz1hO2Vsc2UgaWYoIWQpe3ZhciBlPWEuZ2V0QXR0cmlidXRlKFwiY29udGVudEVkaXRhYmxlXCIpO2U9PVwiZmFsc2VcIj9jPWE6ZT09XCJ0cnVlXCImJihkPTEpfX1yZXR1cm4gY31mdW5jdGlvbiBjKGEpe3ZhciBjPWEuZG9jdW1lbnQ7aWYoYS5jb2xsYXBzZWQpe2M9eSh0aGlzLGMpO2EuaW5zZXJ0Tm9kZShjKTthLm1vdmVUb1Bvc2l0aW9uKGMsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCl9ZWxzZXt2YXIgZD10aGlzLmVsZW1lbnQsZT10aGlzLl8uZGVmaW5pdGlvbixmLGc9ZS5pZ25vcmVSZWFkb25seSxoPWd8fGUuaW5jbHVkZVJlYWRvbmx5O2g9PXZvaWQgMCYmKGg9YS5yb290LmdldEN1c3RvbURhdGEoXCJja2VfaW5jbHVkZVJlYWRvbmx5XCIpKTt2YXIgaj1DS0VESVRPUi5kdGRbZF18fFxuKGY9dHJ1ZSxDS0VESVRPUi5kdGQuc3Bhbik7YS5lbmxhcmdlKENLRURJVE9SLkVOTEFSR0VfSU5MSU5FLDEpO2EudHJpbSgpO3ZhciBtPWEuY3JlYXRlQm9va21hcmsoKSxpPW0uc3RhcnROb2RlLG49bS5lbmROb2RlLGs9aSxvO2lmKCFnKXt2YXIgcT1hLmdldENvbW1vbkFuY2VzdG9yKCksZz1iKGkscSkscT1iKG4scSk7ZyYmKGs9Zy5nZXROZXh0U291cmNlTm9kZSh0cnVlKSk7cSYmKG49cSl9Zm9yKGsuZ2V0UG9zaXRpb24obik9PUNLRURJVE9SLlBPU0lUSU9OX0ZPTExPV0lORyYmKGs9MCk7azspe2c9ZmFsc2U7aWYoay5lcXVhbHMobikpe2s9bnVsbDtnPXRydWV9ZWxzZXt2YXIgcD1rLnR5cGUscj1wPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ/ay5nZXROYW1lKCk6bnVsbCxxPXImJmsuZ2V0QXR0cmlidXRlKFwiY29udGVudEVkaXRhYmxlXCIpPT1cImZhbHNlXCIscz1yJiZrLmdldEF0dHJpYnV0ZShcImRhdGEtbm9zdHlsZVwiKTtpZihyJiZrLmRhdGEoXCJja2UtYm9va21hcmtcIikpe2s9XG5rLmdldE5leHRTb3VyY2VOb2RlKHRydWUpO2NvbnRpbnVlfWlmKCFyfHxqW3JdJiYhcyYmKCFxfHxoKSYmKGsuZ2V0UG9zaXRpb24obil8Q0tFRElUT1IuUE9TSVRJT05fUFJFQ0VESU5HfENLRURJVE9SLlBPU0lUSU9OX0lERU5USUNBTHxDS0VESVRPUi5QT1NJVElPTl9JU19DT05UQUlORUQpPT1DS0VESVRPUi5QT1NJVElPTl9QUkVDRURJTkcrQ0tFRElUT1IuUE9TSVRJT05fSURFTlRJQ0FMK0NLRURJVE9SLlBPU0lUSU9OX0lTX0NPTlRBSU5FRCYmKCFlLmNoaWxkUnVsZXx8ZS5jaGlsZFJ1bGUoaykpKXt2YXIgdT1rLmdldFBhcmVudCgpO2lmKHUmJigodS5nZXREdGQoKXx8Q0tFRElUT1IuZHRkLnNwYW4pW2RdfHxmKSYmKCFlLnBhcmVudFJ1bGV8fGUucGFyZW50UnVsZSh1KSkpe2lmKCFvJiYoIXJ8fCFDS0VESVRPUi5kdGQuJHJlbW92ZUVtcHR5W3JdfHwoay5nZXRQb3NpdGlvbihuKXxDS0VESVRPUi5QT1NJVElPTl9QUkVDRURJTkd8Q0tFRElUT1IuUE9TSVRJT05fSURFTlRJQ0FMfFxuQ0tFRElUT1IuUE9TSVRJT05fSVNfQ09OVEFJTkVEKT09Q0tFRElUT1IuUE9TSVRJT05fUFJFQ0VESU5HK0NLRURJVE9SLlBPU0lUSU9OX0lERU5USUNBTCtDS0VESVRPUi5QT1NJVElPTl9JU19DT05UQUlORUQpKXtvPWEuY2xvbmUoKTtvLnNldFN0YXJ0QmVmb3JlKGspfWlmKHA9PUNLRURJVE9SLk5PREVfVEVYVHx8cXx8cD09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYhay5nZXRDaGlsZENvdW50KCkpe2Zvcih2YXIgcD1rLHY7KGc9IXAuZ2V0TmV4dChEKSkmJih2PXAuZ2V0UGFyZW50KCksalt2LmdldE5hbWUoKV0pJiYodi5nZXRQb3NpdGlvbihpKXxDS0VESVRPUi5QT1NJVElPTl9GT0xMT1dJTkd8Q0tFRElUT1IuUE9TSVRJT05fSURFTlRJQ0FMfENLRURJVE9SLlBPU0lUSU9OX0lTX0NPTlRBSU5FRCk9PUNLRURJVE9SLlBPU0lUSU9OX0ZPTExPV0lORytDS0VESVRPUi5QT1NJVElPTl9JREVOVElDQUwrQ0tFRElUT1IuUE9TSVRJT05fSVNfQ09OVEFJTkVEJiYoIWUuY2hpbGRSdWxlfHxcbmUuY2hpbGRSdWxlKHYpKTspcD12O28uc2V0RW5kQWZ0ZXIocCl9fWVsc2UgZz10cnVlfWVsc2UgZz10cnVlO2s9ay5nZXROZXh0U291cmNlTm9kZShzfHxxJiYhaCl9aWYoZyYmbyYmIW8uY29sbGFwc2VkKXtmb3IodmFyIGc9eSh0aGlzLGMpLHE9Zy5oYXNBdHRyaWJ1dGVzKCkscz1vLmdldENvbW1vbkFuY2VzdG9yKCkscD17fSxyPXt9LHU9e30sej17fSxBLEIsRTtnJiZzOyl7aWYocy5nZXROYW1lKCk9PWQpe2ZvcihBIGluIGUuYXR0cmlidXRlcylpZigheltBXSYmKEU9cy5nZXRBdHRyaWJ1dGUoQikpKWcuZ2V0QXR0cmlidXRlKEEpPT1FP3JbQV09MTp6W0FdPTE7Zm9yKEIgaW4gZS5zdHlsZXMpaWYoIXVbQl0mJihFPXMuZ2V0U3R5bGUoQikpKWcuZ2V0U3R5bGUoQik9PUU/cFtCXT0xOnVbQl09MX1zPXMuZ2V0UGFyZW50KCl9Zm9yKEEgaW4gcilnLnJlbW92ZUF0dHJpYnV0ZShBKTtmb3IoQiBpbiBwKWcucmVtb3ZlU3R5bGUoQik7cSYmIWcuaGFzQXR0cmlidXRlcygpJiYoZz1cbm51bGwpO2lmKGcpe28uZXh0cmFjdENvbnRlbnRzKCkuYXBwZW5kVG8oZyk7bC5jYWxsKHRoaXMsZyk7by5pbnNlcnROb2RlKGcpO2cubWVyZ2VTaWJsaW5ncygpO0NLRURJVE9SLmVudi5pZXx8Zy4kLm5vcm1hbGl6ZSgpfWVsc2V7Zz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJzcGFuXCIpO28uZXh0cmFjdENvbnRlbnRzKCkuYXBwZW5kVG8oZyk7by5pbnNlcnROb2RlKGcpO2wuY2FsbCh0aGlzLGcpO2cucmVtb3ZlKHRydWUpfW89bnVsbH19YS5tb3ZlVG9Cb29rbWFyayhtKTthLnNocmluayhDS0VESVRPUi5TSFJJTktfVEVYVCl9fWZ1bmN0aW9uIGEoYSl7YS5lbmxhcmdlKENLRURJVE9SLkVOTEFSR0VfSU5MSU5FLDEpO3ZhciBiPWEuY3JlYXRlQm9va21hcmsoKSxjPWIuc3RhcnROb2RlO2lmKGEuY29sbGFwc2VkKXtmb3IodmFyIGQ9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChjLmdldFBhcmVudCgpLGEucm9vdCksZSxmPTAsZztmPGQuZWxlbWVudHMubGVuZ3RoJiYoZz1cbmQuZWxlbWVudHNbZl0pO2YrKyl7aWYoZz09ZC5ibG9ja3x8Zz09ZC5ibG9ja0xpbWl0KWJyZWFrO2lmKHRoaXMuY2hlY2tFbGVtZW50UmVtb3ZhYmxlKGcpKXt2YXIgaDtpZihhLmNvbGxhcHNlZCYmKGEuY2hlY2tCb3VuZGFyeU9mRWxlbWVudChnLENLRURJVE9SLkVORCl8fChoPWEuY2hlY2tCb3VuZGFyeU9mRWxlbWVudChnLENLRURJVE9SLlNUQVJUKSkpKXtlPWc7ZS5tYXRjaD1oP1wic3RhcnRcIjpcImVuZFwifWVsc2V7Zy5tZXJnZVNpYmxpbmdzKCk7Zy5nZXROYW1lKCk9PXRoaXMuZWxlbWVudD9vLmNhbGwodGhpcyxnKTpqKGcscyh0aGlzKVtnLmdldE5hbWUoKV0pfX19aWYoZSl7Zz1jO2ZvcihmPTA7O2YrKyl7aD1kLmVsZW1lbnRzW2ZdO2lmKGguZXF1YWxzKGUpKWJyZWFrO2Vsc2UgaWYoaC5tYXRjaCljb250aW51ZTtlbHNlIGg9aC5jbG9uZSgpO2guYXBwZW5kKGcpO2c9aH1nW2UubWF0Y2g9PVwic3RhcnRcIj9cImluc2VydEJlZm9yZVwiOlwiaW5zZXJ0QWZ0ZXJcIl0oZSl9fWVsc2V7dmFyIG09XG5iLmVuZE5vZGUsbD10aGlzLGQ9ZnVuY3Rpb24oKXtmb3IodmFyIGE9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChjLmdldFBhcmVudCgpKSxiPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgobS5nZXRQYXJlbnQoKSksZD1udWxsLGU9bnVsbCxmPTA7ZjxhLmVsZW1lbnRzLmxlbmd0aDtmKyspe3ZhciBnPWEuZWxlbWVudHNbZl07aWYoZz09YS5ibG9ja3x8Zz09YS5ibG9ja0xpbWl0KWJyZWFrO2wuY2hlY2tFbGVtZW50UmVtb3ZhYmxlKGcpJiYoZD1nKX1mb3IoZj0wO2Y8Yi5lbGVtZW50cy5sZW5ndGg7ZisrKXtnPWIuZWxlbWVudHNbZl07aWYoZz09Yi5ibG9ja3x8Zz09Yi5ibG9ja0xpbWl0KWJyZWFrO2wuY2hlY2tFbGVtZW50UmVtb3ZhYmxlKGcpJiYoZT1nKX1lJiZtLmJyZWFrUGFyZW50KGUpO2QmJmMuYnJlYWtQYXJlbnQoZCl9O2QoKTtmb3IoZT1jOyFlLmVxdWFscyhtKTspe2Y9ZS5nZXROZXh0U291cmNlTm9kZSgpO2lmKGUudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcbnRoaXMuY2hlY2tFbGVtZW50UmVtb3ZhYmxlKGUpKXtlLmdldE5hbWUoKT09dGhpcy5lbGVtZW50P28uY2FsbCh0aGlzLGUpOmooZSxzKHRoaXMpW2UuZ2V0TmFtZSgpXSk7aWYoZi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmYuY29udGFpbnMoYykpe2QoKTtmPWMuZ2V0TmV4dCgpfX1lPWZ9fWEubW92ZVRvQm9va21hcmsoYil9ZnVuY3Rpb24gZihhKXt2YXIgYj1hLmdldEVuY2xvc2VkTm9kZSgpfHxhLmdldENvbW1vbkFuY2VzdG9yKGZhbHNlLHRydWUpOyhhPShuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGIsYS5yb290KSkuY29udGFpbnModGhpcy5lbGVtZW50LDEpKSYmIWEuaXNSZWFkT25seSgpJiZ6KGEsdGhpcyl9ZnVuY3Rpb24gZShhKXt2YXIgYj1hLmdldENvbW1vbkFuY2VzdG9yKHRydWUsdHJ1ZSk7aWYoYT0obmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChiLGEucm9vdCkpLmNvbnRhaW5zKHRoaXMuZWxlbWVudCwxKSl7dmFyIGI9dGhpcy5fLmRlZmluaXRpb24sXG5jPWIuYXR0cmlidXRlcztpZihjKWZvcih2YXIgZCBpbiBjKWEucmVtb3ZlQXR0cmlidXRlKGQsY1tkXSk7aWYoYi5zdHlsZXMpZm9yKHZhciBlIGluIGIuc3R5bGVzKWIuc3R5bGVzLmhhc093blByb3BlcnR5KGUpJiZhLnJlbW92ZVN0eWxlKGUpfX1mdW5jdGlvbiBkKGEpe3ZhciBiPWEuY3JlYXRlQm9va21hcmsodHJ1ZSksYz1hLmNyZWF0ZUl0ZXJhdG9yKCk7Yy5lbmZvcmNlUmVhbEJsb2Nrcz10cnVlO2lmKHRoaXMuXy5lbnRlck1vZGUpYy5lbmxhcmdlQnI9dGhpcy5fLmVudGVyTW9kZSE9Q0tFRElUT1IuRU5URVJfQlI7Zm9yKHZhciBkLGU9YS5kb2N1bWVudDtkPWMuZ2V0TmV4dFBhcmFncmFwaCgpOylpZighZC5pc1JlYWRPbmx5KCkpe3ZhciBmPXkodGhpcyxlLGQpO2soZCxmKX1hLm1vdmVUb0Jvb2ttYXJrKGIpfWZ1bmN0aW9uIGcoYSl7dmFyIGI9YS5jcmVhdGVCb29rbWFyaygxKSxjPWEuY3JlYXRlSXRlcmF0b3IoKTtjLmVuZm9yY2VSZWFsQmxvY2tzPXRydWU7Yy5lbmxhcmdlQnI9XG50aGlzLl8uZW50ZXJNb2RlIT1DS0VESVRPUi5FTlRFUl9CUjtmb3IodmFyIGQ7ZD1jLmdldE5leHRQYXJhZ3JhcGgoKTspaWYodGhpcy5jaGVja0VsZW1lbnRSZW1vdmFibGUoZCkpaWYoZC5pcyhcInByZVwiKSl7dmFyIGU9dGhpcy5fLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfQlI/bnVsbDphLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGhpcy5fLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfUD9cInBcIjpcImRpdlwiKTtlJiZkLmNvcHlBdHRyaWJ1dGVzKGUpO2soZCxlKX1lbHNlIG8uY2FsbCh0aGlzLGQpO2EubW92ZVRvQm9va21hcmsoYil9ZnVuY3Rpb24gayhhLGIpe3ZhciBjPSFiO2lmKGMpe2I9YS5nZXREb2N1bWVudCgpLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YS5jb3B5QXR0cmlidXRlcyhiKX12YXIgZD1iJiZiLmlzKFwicHJlXCIpLGU9YS5pcyhcInByZVwiKSxmPSFkJiZlO2lmKGQmJiFlKXtlPWI7KGY9YS5nZXRCb2d1cygpKSYmZi5yZW1vdmUoKTtmPWEuZ2V0SHRtbCgpO2Y9bShmLFxuLyg/Ol5bIFxcdFxcblxccl0rKXwoPzpbIFxcdFxcblxccl0rJCkvZyxcIlwiKTtmPWYucmVwbGFjZSgvWyBcXHRcXHJcXG5dKig8YnJbXj5dKj4pWyBcXHRcXHJcXG5dKi9naSxcIiQxXCIpO2Y9Zi5yZXBsYWNlKC8oWyBcXHRcXG5cXHJdK3wmbmJzcDspL2csXCIgXCIpO2Y9Zi5yZXBsYWNlKC88YnJcXGJbXj5dKj4vZ2ksXCJcXG5cIik7aWYoQ0tFRElUT1IuZW52LmllKXt2YXIgZz1hLmdldERvY3VtZW50KCkuY3JlYXRlRWxlbWVudChcImRpdlwiKTtnLmFwcGVuZChlKTtlLiQub3V0ZXJIVE1MPVwiPHByZT5cIitmK1wiPC9wcmU+XCI7ZS5jb3B5QXR0cmlidXRlcyhnLmdldEZpcnN0KCkpO2U9Zy5nZXRGaXJzdCgpLnJlbW92ZSgpfWVsc2UgZS5zZXRIdG1sKGYpO2I9ZX1lbHNlIGY/Yj1uKGM/W2EuZ2V0SHRtbCgpXTpoKGEpLGIpOmEubW92ZUNoaWxkcmVuKGIpO2IucmVwbGFjZShhKTtpZihkKXt2YXIgYz1iLGo7aWYoKGo9Yy5nZXRQcmV2aW91cyh2KSkmJmouaXMmJmouaXMoXCJwcmVcIikpe2Q9bShqLmdldEh0bWwoKSwvXFxuJC8sXCJcIikrXG5cIlxcblxcblwiK20oYy5nZXRIdG1sKCksL15cXG4vLFwiXCIpO0NLRURJVE9SLmVudi5pZT9jLiQub3V0ZXJIVE1MPVwiPHByZT5cIitkK1wiPC9wcmU+XCI6Yy5zZXRIdG1sKGQpO2oucmVtb3ZlKCl9fWVsc2UgYyYmcShiKX1mdW5jdGlvbiBoKGEpe2EuZ2V0TmFtZSgpO3ZhciBiPVtdO20oYS5nZXRPdXRlckh0bWwoKSwvKFxcU1xccyopXFxuKD86XFxzfCg8c3BhbltePl0rZGF0YS1ja2UtYm9va21hcmsuKj9cXC9zcGFuPikpKlxcbig/ISQpL2dpLGZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYitcIjwvcHJlPlwiK2MrXCI8cHJlPlwifSkucmVwbGFjZSgvPHByZVxcYi4qPz4oW1xcc1xcU10qPyk8XFwvcHJlPi9naSxmdW5jdGlvbihhLGMpe2IucHVzaChjKX0pO3JldHVybiBifWZ1bmN0aW9uIG0oYSxiLGMpe3ZhciBkPVwiXCIsZT1cIlwiLGE9YS5yZXBsYWNlKC8oXjxzcGFuW14+XStkYXRhLWNrZS1ib29rbWFyay4qP1xcL3NwYW4+KXwoPHNwYW5bXj5dK2RhdGEtY2tlLWJvb2ttYXJrLio/XFwvc3Bhbj4kKS9naSxmdW5jdGlvbihhLFxuYixjKXtiJiYoZD1iKTtjJiYoZT1jKTtyZXR1cm5cIlwifSk7cmV0dXJuIGQrYS5yZXBsYWNlKGIsYykrZX1mdW5jdGlvbiBuKGEsYil7dmFyIGM7YS5sZW5ndGg+MSYmKGM9bmV3IENLRURJVE9SLmRvbS5kb2N1bWVudEZyYWdtZW50KGIuZ2V0RG9jdW1lbnQoKSkpO2Zvcih2YXIgZD0wO2Q8YS5sZW5ndGg7ZCsrKXt2YXIgZT1hW2RdLGU9ZS5yZXBsYWNlKC8oXFxyXFxufFxccikvZyxcIlxcblwiKSxlPW0oZSwvXlsgXFx0XSpcXG4vLFwiXCIpLGU9bShlLC9cXG4kLyxcIlwiKSxlPW0oZSwvXlsgXFx0XSt8WyBcXHRdKyQvZyxmdW5jdGlvbihhLGIpe3JldHVybiBhLmxlbmd0aD09MT9cIiZuYnNwO1wiOmI/XCIgXCIrQ0tFRElUT1IudG9vbHMucmVwZWF0KFwiJm5ic3A7XCIsYS5sZW5ndGgtMSk6Q0tFRElUT1IudG9vbHMucmVwZWF0KFwiJm5ic3A7XCIsYS5sZW5ndGgtMSkrXCIgXCJ9KSxlPWUucmVwbGFjZSgvXFxuL2csXCI8YnI+XCIpLGU9ZS5yZXBsYWNlKC9bIFxcdF17Mix9L2csZnVuY3Rpb24oYSl7cmV0dXJuIENLRURJVE9SLnRvb2xzLnJlcGVhdChcIiZuYnNwO1wiLFxuYS5sZW5ndGgtMSkrXCIgXCJ9KTtpZihjKXt2YXIgZj1iLmNsb25lKCk7Zi5zZXRIdG1sKGUpO2MuYXBwZW5kKGYpfWVsc2UgYi5zZXRIdG1sKGUpfXJldHVybiBjfHxifWZ1bmN0aW9uIG8oYSl7dmFyIGI9dGhpcy5fLmRlZmluaXRpb24sYz1iLmF0dHJpYnV0ZXMsYj1iLnN0eWxlcyxkPXModGhpcylbYS5nZXROYW1lKCldLGU9Q0tFRElUT1IudG9vbHMuaXNFbXB0eShjKSYmQ0tFRElUT1IudG9vbHMuaXNFbXB0eShiKSxmO2ZvcihmIGluIGMpaWYoISgoZj09XCJjbGFzc1wifHx0aGlzLl8uZGVmaW5pdGlvbi5mdWxsTWF0Y2gpJiZhLmdldEF0dHJpYnV0ZShmKSE9QShmLGNbZl0pKSl7ZT1hLmhhc0F0dHJpYnV0ZShmKTthLnJlbW92ZUF0dHJpYnV0ZShmKX1mb3IodmFyIGcgaW4gYilpZighKHRoaXMuXy5kZWZpbml0aW9uLmZ1bGxNYXRjaCYmYS5nZXRTdHlsZShnKSE9QShnLGJbZ10sdHJ1ZSkpKXtlPWV8fCEhYS5nZXRTdHlsZShnKTthLnJlbW92ZVN0eWxlKGcpfWooYSxkLHBbYS5nZXROYW1lKCldKTtcbmUmJih0aGlzLl8uZGVmaW5pdGlvbi5hbHdheXNSZW1vdmVFbGVtZW50P3EoYSwxKTohQ0tFRElUT1IuZHRkLiRibG9ja1thLmdldE5hbWUoKV18fHRoaXMuXy5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX0JSJiYhYS5oYXNBdHRyaWJ1dGVzKCk/cShhKTphLnJlbmFtZU5vZGUodGhpcy5fLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfUD9cInBcIjpcImRpdlwiKSl9ZnVuY3Rpb24gbChhKXtmb3IodmFyIGI9cyh0aGlzKSxjPWEuZ2V0RWxlbWVudHNCeVRhZyh0aGlzLmVsZW1lbnQpLGQ9Yy5jb3VudCgpOy0tZD49MDspby5jYWxsKHRoaXMsYy5nZXRJdGVtKGQpKTtmb3IodmFyIGUgaW4gYilpZihlIT10aGlzLmVsZW1lbnQpe2M9YS5nZXRFbGVtZW50c0J5VGFnKGUpO2ZvcihkPWMuY291bnQoKS0xO2Q+PTA7ZC0tKXt2YXIgZj1jLmdldEl0ZW0oZCk7aihmLGJbZV0pfX19ZnVuY3Rpb24gaihhLGIsYyl7aWYoYj1iJiZiLmF0dHJpYnV0ZXMpZm9yKHZhciBkPTA7ZDxiLmxlbmd0aDtkKyspe3ZhciBlPVxuYltkXVswXSxmO2lmKGY9YS5nZXRBdHRyaWJ1dGUoZSkpe3ZhciBnPWJbZF1bMV07KGc9PT1udWxsfHxnLnRlc3QmJmcudGVzdChmKXx8dHlwZW9mIGc9PVwic3RyaW5nXCImJmY9PWcpJiZhLnJlbW92ZUF0dHJpYnV0ZShlKX19Y3x8cShhKX1mdW5jdGlvbiBxKGEsYil7aWYoIWEuaGFzQXR0cmlidXRlcygpfHxiKWlmKENLRURJVE9SLmR0ZC4kYmxvY2tbYS5nZXROYW1lKCldKXt2YXIgYz1hLmdldFByZXZpb3VzKHYpLGQ9YS5nZXROZXh0KHYpO2MmJihjLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVHx8IWMuaXNCbG9ja0JvdW5kYXJ5KHticjoxfSkpJiZhLmFwcGVuZChcImJyXCIsMSk7ZCYmKGQudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUfHwhZC5pc0Jsb2NrQm91bmRhcnkoe2JyOjF9KSkmJmEuYXBwZW5kKFwiYnJcIik7YS5yZW1vdmUodHJ1ZSl9ZWxzZXtjPWEuZ2V0Rmlyc3QoKTtkPWEuZ2V0TGFzdCgpO2EucmVtb3ZlKHRydWUpO2lmKGMpe2MudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcbmMubWVyZ2VTaWJsaW5ncygpO2QmJighYy5lcXVhbHMoZCkmJmQudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKSYmZC5tZXJnZVNpYmxpbmdzKCl9fX1mdW5jdGlvbiB5KGEsYixjKXt2YXIgZDtkPWEuZWxlbWVudDtkPT1cIipcIiYmKGQ9XCJzcGFuXCIpO2Q9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGQsYik7YyYmYy5jb3B5QXR0cmlidXRlcyhkKTtkPXooZCxhKTtiLmdldEN1c3RvbURhdGEoXCJkb2NfcHJvY2Vzc2luZ19zdHlsZVwiKSYmZC5oYXNBdHRyaWJ1dGUoXCJpZFwiKT9kLnJlbW92ZUF0dHJpYnV0ZShcImlkXCIpOmIuc2V0Q3VzdG9tRGF0YShcImRvY19wcm9jZXNzaW5nX3N0eWxlXCIsMSk7cmV0dXJuIGR9ZnVuY3Rpb24geihhLGIpe3ZhciBjPWIuXy5kZWZpbml0aW9uLGQ9Yy5hdHRyaWJ1dGVzLGM9Q0tFRElUT1Iuc3R5bGUuZ2V0U3R5bGVUZXh0KGMpO2lmKGQpZm9yKHZhciBlIGluIGQpYS5zZXRBdHRyaWJ1dGUoZSxkW2VdKTtjJiZhLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsYyk7XG5yZXR1cm4gYX1mdW5jdGlvbiBpKGEsYil7Zm9yKHZhciBjIGluIGEpYVtjXT1hW2NdLnJlcGxhY2UocixmdW5jdGlvbihhLGMpe3JldHVybiBiW2NdfSl9ZnVuY3Rpb24gcyhhKXtpZihhLl8ub3ZlcnJpZGVzKXJldHVybiBhLl8ub3ZlcnJpZGVzO3ZhciBiPWEuXy5vdmVycmlkZXM9e30sYz1hLl8uZGVmaW5pdGlvbi5vdmVycmlkZXM7aWYoYyl7Q0tFRElUT1IudG9vbHMuaXNBcnJheShjKXx8KGM9W2NdKTtmb3IodmFyIGQ9MDtkPGMubGVuZ3RoO2QrKyl7dmFyIGU9Y1tkXSxmLGc7aWYodHlwZW9mIGU9PVwic3RyaW5nXCIpZj1lLnRvTG93ZXJDYXNlKCk7ZWxzZXtmPWUuZWxlbWVudD9lLmVsZW1lbnQudG9Mb3dlckNhc2UoKTphLmVsZW1lbnQ7Zz1lLmF0dHJpYnV0ZXN9ZT1iW2ZdfHwoYltmXT17fSk7aWYoZyl7dmFyIGU9ZS5hdHRyaWJ1dGVzPWUuYXR0cmlidXRlc3x8W10saDtmb3IoaCBpbiBnKWUucHVzaChbaC50b0xvd2VyQ2FzZSgpLGdbaF1dKX19fXJldHVybiBifWZ1bmN0aW9uIEEoYSxcbmIsYyl7dmFyIGQ9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwic3BhblwiKTtkW2M/XCJzZXRTdHlsZVwiOlwic2V0QXR0cmlidXRlXCJdKGEsYik7cmV0dXJuIGRbYz9cImdldFN0eWxlXCI6XCJnZXRBdHRyaWJ1dGVcIl0oYSl9ZnVuY3Rpb24gQihhLGIpe2Zvcih2YXIgYz1hLmRvY3VtZW50LGQ9YS5nZXRSYW5nZXMoKSxlPWI/dGhpcy5yZW1vdmVGcm9tUmFuZ2U6dGhpcy5hcHBseVRvUmFuZ2UsZixnPWQuY3JlYXRlSXRlcmF0b3IoKTtmPWcuZ2V0TmV4dFJhbmdlKCk7KWUuY2FsbCh0aGlzLGYpO2Euc2VsZWN0UmFuZ2VzKGQpO2MucmVtb3ZlQ3VzdG9tRGF0YShcImRvY19wcm9jZXNzaW5nX3N0eWxlXCIpfXZhciBwPXthZGRyZXNzOjEsZGl2OjEsaDE6MSxoMjoxLGgzOjEsaDQ6MSxoNToxLGg2OjEscDoxLHByZToxLHNlY3Rpb246MSxoZWFkZXI6MSxmb290ZXI6MSxuYXY6MSxhcnRpY2xlOjEsYXNpZGU6MSxmaWd1cmU6MSxkaWFsb2c6MSxoZ3JvdXA6MSx0aW1lOjEsbWV0ZXI6MSxtZW51OjEsY29tbWFuZDoxLFxua2V5Z2VuOjEsb3V0cHV0OjEscHJvZ3Jlc3M6MSxkZXRhaWxzOjEsZGF0YWdyaWQ6MSxkYXRhbGlzdDoxfSxFPXthOjEsZW1iZWQ6MSxocjoxLGltZzoxLGxpOjEsb2JqZWN0OjEsb2w6MSx0YWJsZToxLHRkOjEsdHI6MSx0aDoxLHVsOjEsZGw6MSxkdDoxLGRkOjEsZm9ybToxLGF1ZGlvOjEsdmlkZW86MX0sdT0vXFxzKig/OjtcXHMqfCQpLyxyPS8jXFwoKC4rPylcXCkvZyxEPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoMCwxKSx2PUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoMSk7Q0tFRElUT1Iuc3R5bGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmF0dHJpYnV0ZXM7aWYoYyYmYy5zdHlsZSl7YS5zdHlsZXM9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LGEuc3R5bGVzLENLRURJVE9SLnRvb2xzLnBhcnNlQ3NzVGV4dChjLnN0eWxlKSk7ZGVsZXRlIGMuc3R5bGV9aWYoYil7YT1DS0VESVRPUi50b29scy5jbG9uZShhKTtpKGEuYXR0cmlidXRlcyxiKTtpKGEuc3R5bGVzLFxuYil9Yz10aGlzLmVsZW1lbnQ9YS5lbGVtZW50P3R5cGVvZiBhLmVsZW1lbnQ9PVwic3RyaW5nXCI/YS5lbGVtZW50LnRvTG93ZXJDYXNlKCk6YS5lbGVtZW50OlwiKlwiO3RoaXMudHlwZT1hLnR5cGV8fChwW2NdP0NLRURJVE9SLlNUWUxFX0JMT0NLOkVbY10/Q0tFRElUT1IuU1RZTEVfT0JKRUNUOkNLRURJVE9SLlNUWUxFX0lOTElORSk7aWYodHlwZW9mIHRoaXMuZWxlbWVudD09XCJvYmplY3RcIil0aGlzLnR5cGU9Q0tFRElUT1IuU1RZTEVfT0JKRUNUO3RoaXMuXz17ZGVmaW5pdGlvbjphfX07Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5hcHBseVN0eWxlPWZ1bmN0aW9uKGEpe0IuY2FsbChhLHRoaXMuZ2V0U2VsZWN0aW9uKCkpfTtDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLnJlbW92ZVN0eWxlPWZ1bmN0aW9uKGEpe0IuY2FsbChhLHRoaXMuZ2V0U2VsZWN0aW9uKCksMSl9O0NLRURJVE9SLnN0eWxlLnByb3RvdHlwZT17YXBwbHk6ZnVuY3Rpb24oYSl7Qi5jYWxsKHRoaXMsYS5nZXRTZWxlY3Rpb24oKSl9LFxucmVtb3ZlOmZ1bmN0aW9uKGEpe0IuY2FsbCh0aGlzLGEuZ2V0U2VsZWN0aW9uKCksMSl9LGFwcGx5VG9SYW5nZTpmdW5jdGlvbihhKXtyZXR1cm4odGhpcy5hcHBseVRvUmFuZ2U9dGhpcy50eXBlPT1DS0VESVRPUi5TVFlMRV9JTkxJTkU/Yzp0aGlzLnR5cGU9PUNLRURJVE9SLlNUWUxFX0JMT0NLP2Q6dGhpcy50eXBlPT1DS0VESVRPUi5TVFlMRV9PQkpFQ1Q/ZjpudWxsKS5jYWxsKHRoaXMsYSl9LHJlbW92ZUZyb21SYW5nZTpmdW5jdGlvbihiKXtyZXR1cm4odGhpcy5yZW1vdmVGcm9tUmFuZ2U9dGhpcy50eXBlPT1DS0VESVRPUi5TVFlMRV9JTkxJTkU/YTp0aGlzLnR5cGU9PUNLRURJVE9SLlNUWUxFX0JMT0NLP2c6dGhpcy50eXBlPT1DS0VESVRPUi5TVFlMRV9PQkpFQ1Q/ZTpudWxsKS5jYWxsKHRoaXMsYil9LGFwcGx5VG9PYmplY3Q6ZnVuY3Rpb24oYSl7eihhLHRoaXMpfSxjaGVja0FjdGl2ZTpmdW5jdGlvbihhKXtzd2l0Y2godGhpcy50eXBlKXtjYXNlIENLRURJVE9SLlNUWUxFX0JMT0NLOnJldHVybiB0aGlzLmNoZWNrRWxlbWVudFJlbW92YWJsZShhLmJsb2NrfHxcbmEuYmxvY2tMaW1pdCx0cnVlKTtjYXNlIENLRURJVE9SLlNUWUxFX09CSkVDVDpjYXNlIENLRURJVE9SLlNUWUxFX0lOTElORTpmb3IodmFyIGI9YS5lbGVtZW50cyxjPTAsZDtjPGIubGVuZ3RoO2MrKyl7ZD1iW2NdO2lmKCEodGhpcy50eXBlPT1DS0VESVRPUi5TVFlMRV9JTkxJTkUmJihkPT1hLmJsb2NrfHxkPT1hLmJsb2NrTGltaXQpKSl7aWYodGhpcy50eXBlPT1DS0VESVRPUi5TVFlMRV9PQkpFQ1Qpe3ZhciBlPWQuZ2V0TmFtZSgpO2lmKCEodHlwZW9mIHRoaXMuZWxlbWVudD09XCJzdHJpbmdcIj9lPT10aGlzLmVsZW1lbnQ6ZSBpbiB0aGlzLmVsZW1lbnQpKWNvbnRpbnVlfWlmKHRoaXMuY2hlY2tFbGVtZW50UmVtb3ZhYmxlKGQsdHJ1ZSkpcmV0dXJuIHRydWV9fX1yZXR1cm4gZmFsc2V9LGNoZWNrQXBwbGljYWJsZTpmdW5jdGlvbihhKXtzd2l0Y2godGhpcy50eXBlKXtjYXNlIENLRURJVE9SLlNUWUxFX09CSkVDVDpyZXR1cm4gYS5jb250YWlucyh0aGlzLmVsZW1lbnQpfXJldHVybiB0cnVlfSxcbmNoZWNrRWxlbWVudE1hdGNoOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5fLmRlZmluaXRpb247aWYoIWF8fCFjLmlnbm9yZVJlYWRvbmx5JiZhLmlzUmVhZE9ubHkoKSlyZXR1cm4gZmFsc2U7dmFyIGQ9YS5nZXROYW1lKCk7aWYodHlwZW9mIHRoaXMuZWxlbWVudD09XCJzdHJpbmdcIj9kPT10aGlzLmVsZW1lbnQ6ZCBpbiB0aGlzLmVsZW1lbnQpe2lmKCFiJiYhYS5oYXNBdHRyaWJ1dGVzKCkpcmV0dXJuIHRydWU7aWYoZD1jLl9BQyljPWQ7ZWxzZXt2YXIgZD17fSxlPTAsZj1jLmF0dHJpYnV0ZXM7aWYoZilmb3IodmFyIGcgaW4gZil7ZSsrO2RbZ109ZltnXX1pZihnPUNLRURJVE9SLnN0eWxlLmdldFN0eWxlVGV4dChjKSl7ZC5zdHlsZXx8ZSsrO2Quc3R5bGU9Z31kLl9sZW5ndGg9ZTtjPWMuX0FDPWR9aWYoYy5fbGVuZ3RoKXtmb3IodmFyIGggaW4gYylpZihoIT1cIl9sZW5ndGhcIil7ZT1hLmdldEF0dHJpYnV0ZShoKXx8XCJcIjtpZihoPT1cInN0eWxlXCIpYTp7ZD1jW2hdO3R5cGVvZiBkPT1cblwic3RyaW5nXCImJihkPUNLRURJVE9SLnRvb2xzLnBhcnNlQ3NzVGV4dChkKSk7dHlwZW9mIGU9PVwic3RyaW5nXCImJihlPUNLRURJVE9SLnRvb2xzLnBhcnNlQ3NzVGV4dChlLHRydWUpKTtnPXZvaWQgMDtmb3IoZyBpbiBkKWlmKCEoZyBpbiBlJiYoZVtnXT09ZFtnXXx8ZFtnXT09XCJpbmhlcml0XCJ8fGVbZ109PVwiaW5oZXJpdFwiKSkpe2Q9ZmFsc2U7YnJlYWsgYX1kPXRydWV9ZWxzZSBkPWNbaF09PWU7aWYoZCl7aWYoIWIpcmV0dXJuIHRydWV9ZWxzZSBpZihiKXJldHVybiBmYWxzZX1pZihiKXJldHVybiB0cnVlfWVsc2UgcmV0dXJuIHRydWV9cmV0dXJuIGZhbHNlfSxjaGVja0VsZW1lbnRSZW1vdmFibGU6ZnVuY3Rpb24oYSxiKXtpZih0aGlzLmNoZWNrRWxlbWVudE1hdGNoKGEsYikpcmV0dXJuIHRydWU7dmFyIGM9cyh0aGlzKVthLmdldE5hbWUoKV07aWYoYyl7dmFyIGQ7aWYoIShjPWMuYXR0cmlidXRlcykpcmV0dXJuIHRydWU7Zm9yKHZhciBlPTA7ZTxjLmxlbmd0aDtlKyspe2Q9XG5jW2VdWzBdO2lmKGQ9YS5nZXRBdHRyaWJ1dGUoZCkpe3ZhciBmPWNbZV1bMV07aWYoZj09PW51bGx8fHR5cGVvZiBmPT1cInN0cmluZ1wiJiZkPT1mfHxmLnRlc3QoZCkpcmV0dXJuIHRydWV9fX1yZXR1cm4gZmFsc2V9LGJ1aWxkUHJldmlldzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLl8uZGVmaW5pdGlvbixjPVtdLGQ9Yi5lbGVtZW50O2Q9PVwiYmRvXCImJihkPVwic3BhblwiKTt2YXIgYz1bXCI8XCIsZF0sZT1iLmF0dHJpYnV0ZXM7aWYoZSlmb3IodmFyIGYgaW4gZSljLnB1c2goXCIgXCIsZiwnPVwiJyxlW2ZdLCdcIicpOyhlPUNLRURJVE9SLnN0eWxlLmdldFN0eWxlVGV4dChiKSkmJmMucHVzaCgnIHN0eWxlPVwiJyxlLCdcIicpO2MucHVzaChcIj5cIixhfHxiLm5hbWUsXCI8L1wiLGQsXCI+XCIpO3JldHVybiBjLmpvaW4oXCJcIil9fTtDS0VESVRPUi5zdHlsZS5nZXRTdHlsZVRleHQ9ZnVuY3Rpb24oYSl7dmFyIGI9YS5fU1Q7aWYoYilyZXR1cm4gYjt2YXIgYj1hLnN0eWxlcyxjPWEuYXR0cmlidXRlcyYmYS5hdHRyaWJ1dGVzLnN0eWxlfHxcblwiXCIsZD1cIlwiO2MubGVuZ3RoJiYoYz1jLnJlcGxhY2UodSxcIjtcIikpO2Zvcih2YXIgZSBpbiBiKXt2YXIgZj1iW2VdLGc9KGUrXCI6XCIrZikucmVwbGFjZSh1LFwiO1wiKTtmPT1cImluaGVyaXRcIj9kPWQrZzpjPWMrZ31jLmxlbmd0aCYmKGM9Q0tFRElUT1IudG9vbHMubm9ybWFsaXplQ3NzVGV4dChjLHRydWUpKTtyZXR1cm4gYS5fU1Q9YytkfX0pKCk7Q0tFRElUT1Iuc3R5bGVDb21tYW5kPWZ1bmN0aW9uKGIpe3RoaXMuc3R5bGU9Yn07Q0tFRElUT1Iuc3R5bGVDb21tYW5kLnByb3RvdHlwZS5leGVjPWZ1bmN0aW9uKGIpe2IuZm9jdXMoKTt0aGlzLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9PRkY/Yi5hcHBseVN0eWxlKHRoaXMuc3R5bGUpOnRoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX09OJiZiLnJlbW92ZVN0eWxlKHRoaXMuc3R5bGUpfTtDS0VESVRPUi5zdHlsZXNTZXQ9bmV3IENLRURJVE9SLnJlc291cmNlTWFuYWdlcihcIlwiLFwic3R5bGVzU2V0XCIpO1xuQ0tFRElUT1IuYWRkU3R5bGVzU2V0PUNLRURJVE9SLnRvb2xzLmJpbmQoQ0tFRElUT1Iuc3R5bGVzU2V0LmFkZCxDS0VESVRPUi5zdHlsZXNTZXQpO0NLRURJVE9SLmxvYWRTdHlsZXNTZXQ9ZnVuY3Rpb24oYixjLGEpe0NLRURJVE9SLnN0eWxlc1NldC5hZGRFeHRlcm5hbChiLGMsXCJcIik7Q0tFRElUT1Iuc3R5bGVzU2V0LmxvYWQoYixhKX07XG5DS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLmdldFN0eWxlc1NldD1mdW5jdGlvbihiKXtpZih0aGlzLl8uc3R5bGVzRGVmaW5pdGlvbnMpYih0aGlzLl8uc3R5bGVzRGVmaW5pdGlvbnMpO2Vsc2V7dmFyIGM9dGhpcyxhPWMuY29uZmlnLnN0eWxlc0NvbWJvX3N0eWxlc1NldHx8Yy5jb25maWcuc3R5bGVzU2V0fHxcImRlZmF1bHRcIjtpZihhIGluc3RhbmNlb2YgQXJyYXkpe2MuXy5zdHlsZXNEZWZpbml0aW9ucz1hO2IoYSl9ZWxzZXt2YXIgYT1hLnNwbGl0KFwiOlwiKSxmPWFbMF07Q0tFRElUT1Iuc3R5bGVzU2V0LmFkZEV4dGVybmFsKGYsYVsxXT9hLnNsaWNlKDEpLmpvaW4oXCI6XCIpOkNLRURJVE9SLmdldFVybChcInN0eWxlcy5qc1wiKSxcIlwiKTtDS0VESVRPUi5zdHlsZXNTZXQubG9hZChmLGZ1bmN0aW9uKGEpe2MuXy5zdHlsZXNEZWZpbml0aW9ucz1hW2ZdO2IoYy5fLnN0eWxlc0RlZmluaXRpb25zKX0pfX19O1xuQ0tFRElUT1IuZG9tLmNvbW1lbnQ9ZnVuY3Rpb24oYixjKXt0eXBlb2YgYj09XCJzdHJpbmdcIiYmKGI9KGM/Yy4kOmRvY3VtZW50KS5jcmVhdGVDb21tZW50KGIpKTtDS0VESVRPUi5kb20uZG9tT2JqZWN0LmNhbGwodGhpcyxiKX07Q0tFRElUT1IuZG9tLmNvbW1lbnQucHJvdG90eXBlPW5ldyBDS0VESVRPUi5kb20ubm9kZTtDS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZG9tLmNvbW1lbnQucHJvdG90eXBlLHt0eXBlOkNLRURJVE9SLk5PREVfQ09NTUVOVCxnZXRPdXRlckh0bWw6ZnVuY3Rpb24oKXtyZXR1cm5cIjxcXCEtLVwiK3RoaXMuJC5ub2RlVmFsdWUrXCItLVxcPlwifX0pO1xuKGZ1bmN0aW9uKCl7dmFyIGI9e30sYztmb3IoYyBpbiBDS0VESVRPUi5kdGQuJGJsb2NrTGltaXQpYyBpbiBDS0VESVRPUi5kdGQuJGxpc3R8fChiW2NdPTEpO3ZhciBhPXt9O2ZvcihjIGluIENLRURJVE9SLmR0ZC4kYmxvY2spYyBpbiBDS0VESVRPUi5kdGQuJGJsb2NrTGltaXR8fGMgaW4gQ0tFRElUT1IuZHRkLiRlbXB0eXx8KGFbY109MSk7Q0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoPWZ1bmN0aW9uKGMsZSl7dmFyIGQ9bnVsbCxnPW51bGwsaz1bXSxlPWV8fGMuZ2V0RG9jdW1lbnQoKS5nZXRCb2R5KCksaD1jO2RvIGlmKGgudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKXtrLnB1c2goaCk7aWYoIXRoaXMubGFzdEVsZW1lbnQpe3RoaXMubGFzdEVsZW1lbnQ9aDtpZihoLmlzKENLRURJVE9SLmR0ZC4kb2JqZWN0KSljb250aW51ZX12YXIgbT1oLmdldE5hbWUoKTtpZighZyl7IWQmJmFbbV0mJihkPWgpO2lmKGJbbV0pe3ZhciBuO2lmKG49IWQpe2lmKG09bT09XCJkaXZcIil7YTp7bT1cbmguZ2V0Q2hpbGRyZW4oKTtuPTA7Zm9yKHZhciBvPW0uY291bnQoKTtuPG87bisrKXt2YXIgbD1tLmdldEl0ZW0obik7aWYobC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJkNLRURJVE9SLmR0ZC4kYmxvY2tbbC5nZXROYW1lKCldKXttPXRydWU7YnJlYWsgYX19bT1mYWxzZX1tPSFtJiYhaC5lcXVhbHMoZSl9bj1tfW4/ZD1oOmc9aH19aWYoaC5lcXVhbHMoZSkpYnJlYWt9d2hpbGUoaD1oLmdldFBhcmVudCgpKTt0aGlzLmJsb2NrPWQ7dGhpcy5ibG9ja0xpbWl0PWc7dGhpcy5yb290PWU7dGhpcy5lbGVtZW50cz1rfX0pKCk7XG5DS0VESVRPUi5kb20uZWxlbWVudFBhdGgucHJvdG90eXBlPXtjb21wYXJlOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuZWxlbWVudHMsYj1iJiZiLmVsZW1lbnRzO2lmKCFifHxjLmxlbmd0aCE9Yi5sZW5ndGgpcmV0dXJuIGZhbHNlO2Zvcih2YXIgYT0wO2E8Yy5sZW5ndGg7YSsrKWlmKCFjW2FdLmVxdWFscyhiW2FdKSlyZXR1cm4gZmFsc2U7cmV0dXJuIHRydWV9LGNvbnRhaW5zOmZ1bmN0aW9uKGIsYyxhKXt2YXIgZjt0eXBlb2YgYj09XCJzdHJpbmdcIiYmKGY9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0TmFtZSgpPT1ifSk7YiBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5lbGVtZW50P2Y9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZXF1YWxzKGIpfTpDS0VESVRPUi50b29scy5pc0FycmF5KGIpP2Y9ZnVuY3Rpb24oYSl7cmV0dXJuIENLRURJVE9SLnRvb2xzLmluZGV4T2YoYixhLmdldE5hbWUoKSk+LTF9OnR5cGVvZiBiPT1cImZ1bmN0aW9uXCI/Zj1iOnR5cGVvZiBiPT1cIm9iamVjdFwiJiYoZj1cbmZ1bmN0aW9uKGEpe3JldHVybiBhLmdldE5hbWUoKWluIGJ9KTt2YXIgZT10aGlzLmVsZW1lbnRzLGQ9ZS5sZW5ndGg7YyYmZC0tO2lmKGEpe2U9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSwwKTtlLnJldmVyc2UoKX1mb3IoYz0wO2M8ZDtjKyspaWYoZihlW2NdKSlyZXR1cm4gZVtjXTtyZXR1cm4gbnVsbH0saXNDb250ZXh0Rm9yOmZ1bmN0aW9uKGIpe3ZhciBjO2lmKGIgaW4gQ0tFRElUT1IuZHRkLiRibG9jayl7Yz10aGlzLmNvbnRhaW5zKENLRURJVE9SLmR0ZC4kaW50ZXJtZWRpYXRlKXx8dGhpcy5yb290LmVxdWFscyh0aGlzLmJsb2NrKSYmdGhpcy5ibG9ja3x8dGhpcy5ibG9ja0xpbWl0O3JldHVybiEhYy5nZXREdGQoKVtiXX1yZXR1cm4gdHJ1ZX0sZGlyZWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMuYmxvY2t8fHRoaXMuYmxvY2tMaW1pdHx8dGhpcy5yb290KS5nZXREaXJlY3Rpb24oMSl9fTtcbkNLRURJVE9SLmRvbS50ZXh0PWZ1bmN0aW9uKGIsYyl7dHlwZW9mIGI9PVwic3RyaW5nXCImJihiPShjP2MuJDpkb2N1bWVudCkuY3JlYXRlVGV4dE5vZGUoYikpO3RoaXMuJD1ifTtDS0VESVRPUi5kb20udGV4dC5wcm90b3R5cGU9bmV3IENLRURJVE9SLmRvbS5ub2RlO1xuQ0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLmRvbS50ZXh0LnByb3RvdHlwZSx7dHlwZTpDS0VESVRPUi5OT0RFX1RFWFQsZ2V0TGVuZ3RoOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC5ub2RlVmFsdWUubGVuZ3RofSxnZXRUZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC5ub2RlVmFsdWV9LHNldFRleHQ6ZnVuY3Rpb24oYil7dGhpcy4kLm5vZGVWYWx1ZT1ifSxzcGxpdDpmdW5jdGlvbihiKXt2YXIgYz10aGlzLiQucGFyZW50Tm9kZSxhPWMuY2hpbGROb2Rlcy5sZW5ndGgsZj10aGlzLmdldExlbmd0aCgpLGU9dGhpcy5nZXREb2N1bWVudCgpLGQ9bmV3IENLRURJVE9SLmRvbS50ZXh0KHRoaXMuJC5zcGxpdFRleHQoYiksZSk7aWYoYy5jaGlsZE5vZGVzLmxlbmd0aD09YSlpZihiPj1mKXtkPWUuY3JlYXRlVGV4dChcIlwiKTtkLmluc2VydEFmdGVyKHRoaXMpfWVsc2V7Yj1lLmNyZWF0ZVRleHQoXCJcIik7Yi5pbnNlcnRBZnRlcihkKTtiLnJlbW92ZSgpfXJldHVybiBkfSxzdWJzdHJpbmc6ZnVuY3Rpb24oYixcbmMpe3JldHVybiB0eXBlb2YgYyE9XCJudW1iZXJcIj90aGlzLiQubm9kZVZhbHVlLnN1YnN0cihiKTp0aGlzLiQubm9kZVZhbHVlLnN1YnN0cmluZyhiLGMpfX0pO1xuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihhLGIsYyl7dmFyIGQ9YS5zZXJpYWxpemFibGUsZz1iW2M/XCJlbmRDb250YWluZXJcIjpcInN0YXJ0Q29udGFpbmVyXCJdLGs9Yz9cImVuZE9mZnNldFwiOlwic3RhcnRPZmZzZXRcIixoPWQ/Yi5kb2N1bWVudC5nZXRCeUlkKGEuc3RhcnROb2RlKTphLnN0YXJ0Tm9kZSxhPWQ/Yi5kb2N1bWVudC5nZXRCeUlkKGEuZW5kTm9kZSk6YS5lbmROb2RlO2lmKGcuZXF1YWxzKGguZ2V0UHJldmlvdXMoKSkpe2Iuc3RhcnRPZmZzZXQ9Yi5zdGFydE9mZnNldC1nLmdldExlbmd0aCgpLWEuZ2V0UHJldmlvdXMoKS5nZXRMZW5ndGgoKTtnPWEuZ2V0TmV4dCgpfWVsc2UgaWYoZy5lcXVhbHMoYS5nZXRQcmV2aW91cygpKSl7Yi5zdGFydE9mZnNldD1iLnN0YXJ0T2Zmc2V0LWcuZ2V0TGVuZ3RoKCk7Zz1hLmdldE5leHQoKX1nLmVxdWFscyhoLmdldFBhcmVudCgpKSYmYltrXSsrO2cuZXF1YWxzKGEuZ2V0UGFyZW50KCkpJiZiW2tdKys7YltjP1wiZW5kQ29udGFpbmVyXCI6XCJzdGFydENvbnRhaW5lclwiXT1cbmc7cmV0dXJuIGJ9Q0tFRElUT1IuZG9tLnJhbmdlTGlzdD1mdW5jdGlvbihhKXtpZihhIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLnJhbmdlTGlzdClyZXR1cm4gYTthP2EgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20ucmFuZ2UmJihhPVthXSk6YT1bXTtyZXR1cm4gQ0tFRElUT1IudG9vbHMuZXh0ZW5kKGEsYyl9O3ZhciBjPXtjcmVhdGVJdGVyYXRvcjpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKCksYz1bXSxkO3JldHVybntnZXROZXh0UmFuZ2U6ZnVuY3Rpb24oZyl7ZD1kPT12b2lkIDA/MDpkKzE7dmFyIGs9YVtkXTtpZihrJiZhLmxlbmd0aD4xKXtpZighZClmb3IodmFyIGg9YS5sZW5ndGgtMTtoPj0wO2gtLSljLnVuc2hpZnQoYVtoXS5jcmVhdGVCb29rbWFyayh0cnVlKSk7aWYoZylmb3IodmFyIG09MDthW2QrbSsxXTspe2Zvcih2YXIgbj1rLmRvY3VtZW50LGc9MCxoPW4uZ2V0QnlJZChjW21dLmVuZE5vZGUpLG49bi5nZXRCeUlkKGNbbStcbjFdLnN0YXJ0Tm9kZSk7Oyl7aD1oLmdldE5leHRTb3VyY2VOb2RlKGZhbHNlKTtpZihuLmVxdWFscyhoKSlnPTE7ZWxzZSBpZihiKGgpfHxoLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmaC5pc0Jsb2NrQm91bmRhcnkoKSljb250aW51ZTticmVha31pZighZylicmVhazttKyt9Zm9yKGsubW92ZVRvQm9va21hcmsoYy5zaGlmdCgpKTttLS07KXtoPWFbKytkXTtoLm1vdmVUb0Jvb2ttYXJrKGMuc2hpZnQoKSk7ay5zZXRFbmQoaC5lbmRDb250YWluZXIsaC5lbmRPZmZzZXQpfX1yZXR1cm4ga319fSxjcmVhdGVCb29rbWFya3M6ZnVuY3Rpb24oYSl7Zm9yKHZhciBjPVtdLGUsZD0wO2Q8dGhpcy5sZW5ndGg7ZCsrKXtjLnB1c2goZT10aGlzW2RdLmNyZWF0ZUJvb2ttYXJrKGEsdHJ1ZSkpO2Zvcih2YXIgZz1kKzE7Zzx0aGlzLmxlbmd0aDtnKyspe3RoaXNbZ109YihlLHRoaXNbZ10pO3RoaXNbZ109YihlLHRoaXNbZ10sdHJ1ZSl9fXJldHVybiBjfSxjcmVhdGVCb29rbWFya3MyOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1cbltdLGM9MDtjPHRoaXMubGVuZ3RoO2MrKyliLnB1c2godGhpc1tjXS5jcmVhdGVCb29rbWFyazIoYSkpO3JldHVybiBifSxtb3ZlVG9Cb29rbWFya3M6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7Yjx0aGlzLmxlbmd0aDtiKyspdGhpc1tiXS5tb3ZlVG9Cb29rbWFyayhhW2JdKX19fSkoKTtcbihmdW5jdGlvbigpe2Z1bmN0aW9uIGIoKXtyZXR1cm4gQ0tFRElUT1IuZ2V0VXJsKENLRURJVE9SLnNraW5OYW1lLnNwbGl0KFwiLFwiKVsxXXx8XCJza2lucy9cIitDS0VESVRPUi5za2luTmFtZS5zcGxpdChcIixcIilbMF0rXCIvXCIpfWZ1bmN0aW9uIGMoYSl7dmFyIGM9Q0tFRElUT1Iuc2tpbltcInVhX1wiK2FdLGQ9Q0tFRElUT1IuZW52O2lmKGMpZm9yKHZhciBjPWMuc3BsaXQoXCIsXCIpLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT5iPy0xOjF9KSxlPTAsZjtlPGMubGVuZ3RoO2UrKyl7Zj1jW2VdO2lmKGQuaWUmJihmLnJlcGxhY2UoL15pZS8sXCJcIik9PWQudmVyc2lvbnx8ZC5xdWlya3MmJmY9PVwiaWVxdWlya3NcIikpZj1cImllXCI7aWYoZFtmXSl7YT1hKyhcIl9cIitjW2VdKTticmVha319cmV0dXJuIENLRURJVE9SLmdldFVybChiKCkrYStcIi5jc3NcIil9ZnVuY3Rpb24gYShhLGIpe2lmKCFkW2FdKXtDS0VESVRPUi5kb2N1bWVudC5hcHBlbmRTdHlsZVNoZWV0KGMoYSkpO2RbYV09MX1iJiZiKCl9XG5mdW5jdGlvbiBmKGEpe3ZhciBiPWEuZ2V0QnlJZChnKTtpZighYil7Yj1hLmdldEhlYWQoKS5hcHBlbmQoXCJzdHlsZVwiKTtiLnNldEF0dHJpYnV0ZShcImlkXCIsZyk7Yi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJ0ZXh0L2Nzc1wiKX1yZXR1cm4gYn1mdW5jdGlvbiBlKGEsYixjKXt2YXIgZCxlLGY7aWYoQ0tFRElUT1IuZW52LndlYmtpdCl7Yj1iLnNwbGl0KFwifVwiKS5zbGljZSgwLC0xKTtmb3IoZT0wO2U8Yi5sZW5ndGg7ZSsrKWJbZV09YltlXS5zcGxpdChcIntcIil9Zm9yKHZhciBnPTA7ZzxhLmxlbmd0aDtnKyspaWYoQ0tFRElUT1IuZW52LndlYmtpdClmb3IoZT0wO2U8Yi5sZW5ndGg7ZSsrKXtmPWJbZV1bMV07Zm9yKGQ9MDtkPGMubGVuZ3RoO2QrKylmPWYucmVwbGFjZShjW2RdWzBdLGNbZF1bMV0pO2FbZ10uJC5zaGVldC5hZGRSdWxlKGJbZV1bMF0sZil9ZWxzZXtmPWI7Zm9yKGQ9MDtkPGMubGVuZ3RoO2QrKylmPWYucmVwbGFjZShjW2RdWzBdLGNbZF1bMV0pO0NLRURJVE9SLmVudi5pZT9cbmFbZ10uJC5zdHlsZVNoZWV0LmNzc1RleHQ9YVtnXS4kLnN0eWxlU2hlZXQuY3NzVGV4dCtmOmFbZ10uJC5pbm5lckhUTUw9YVtnXS4kLmlubmVySFRNTCtmfX12YXIgZD17fTtDS0VESVRPUi5za2luPXtwYXRoOmIsbG9hZFBhcnQ6ZnVuY3Rpb24oYyxkKXtDS0VESVRPUi5za2luLm5hbWUhPUNLRURJVE9SLnNraW5OYW1lLnNwbGl0KFwiLFwiKVswXT9DS0VESVRPUi5zY3JpcHRMb2FkZXIubG9hZChDS0VESVRPUi5nZXRVcmwoYigpK1wic2tpbi5qc1wiKSxmdW5jdGlvbigpe2EoYyxkKX0pOmEoYyxkKX0sZ2V0UGF0aDpmdW5jdGlvbihhKXtyZXR1cm4gQ0tFRElUT1IuZ2V0VXJsKGMoYSkpfSxpY29uczp7fSxhZGRJY29uOmZ1bmN0aW9uKGEsYixjKXthPWEudG9Mb3dlckNhc2UoKTt0aGlzLmljb25zW2FdfHwodGhpcy5pY29uc1thXT17cGF0aDpiLG9mZnNldDpjfHwwfSl9LGdldEljb25TdHlsZTpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZTtpZihhKXthPWEudG9Mb3dlckNhc2UoKTtiJiZcbihlPXRoaXMuaWNvbnNbYStcIi1ydGxcIl0pO2V8fChlPXRoaXMuaWNvbnNbYV0pfWE9Y3x8ZSYmZS5wYXRofHxcIlwiO2Q9ZHx8ZSYmZS5vZmZzZXQ7cmV0dXJuIGEmJlwiYmFja2dyb3VuZC1pbWFnZTp1cmwoXCIrQ0tFRElUT1IuZ2V0VXJsKGEpK1wiKTtiYWNrZ3JvdW5kLXBvc2l0aW9uOjAgXCIrZCtcInB4O1wifX07Q0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLmVkaXRvci5wcm90b3R5cGUse2dldFVpQ29sb3I6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51aUNvbG9yfSxzZXRVaUNvbG9yOmZ1bmN0aW9uKGEpe3ZhciBiPWYoQ0tFRElUT1IuZG9jdW1lbnQpO3JldHVybih0aGlzLnNldFVpQ29sb3I9ZnVuY3Rpb24oYSl7dmFyIGM9Q0tFRElUT1Iuc2tpbi5jaGFtZWxlb24sZD1bW2gsYV1dO3RoaXMudWlDb2xvcj1hO2UoW2JdLGModGhpcyxcImVkaXRvclwiKSxkKTtlKGssYyh0aGlzLFwicGFuZWxcIiksZCl9KS5jYWxsKHRoaXMsYSl9fSk7dmFyIGc9XCJja2VfdWlfY29sb3JcIixrPVtdLGg9L1xcJGNvbG9yL2c7XG5DS0VESVRPUi5vbihcImluc3RhbmNlTG9hZGVkXCIsZnVuY3Rpb24oYSl7aWYoIUNLRURJVE9SLmVudi5pZXx8IUNLRURJVE9SLmVudi5xdWlya3Mpe3ZhciBiPWEuZWRpdG9yLGE9ZnVuY3Rpb24oYSl7YT0oYS5kYXRhWzBdfHxhLmRhdGEpLmVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZyhcImlmcmFtZVwiKS5nZXRJdGVtKDApLmdldEZyYW1lRG9jdW1lbnQoKTtpZighYS5nZXRCeUlkKFwiY2tlX3VpX2NvbG9yXCIpKXthPWYoYSk7ay5wdXNoKGEpO3ZhciBjPWIuZ2V0VWlDb2xvcigpO2MmJmUoW2FdLENLRURJVE9SLnNraW4uY2hhbWVsZW9uKGIsXCJwYW5lbFwiKSxbW2gsY11dKX19O2Iub24oXCJwYW5lbFNob3dcIixhKTtiLm9uKFwibWVudVNob3dcIixhKTtiLmNvbmZpZy51aUNvbG9yJiZiLnNldFVpQ29sb3IoYi5jb25maWcudWlDb2xvcil9fSl9KSgpO1xuKGZ1bmN0aW9uKCl7aWYoQ0tFRElUT1IuZW52LndlYmtpdClDS0VESVRPUi5lbnYuaGM9ZmFsc2U7ZWxzZXt2YXIgYj1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCgnPGRpdiBzdHlsZT1cIndpZHRoOjBweDtoZWlnaHQ6MHB4O3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTEwMDAwcHg7Ym9yZGVyOiAxcHggc29saWQ7Ym9yZGVyLWNvbG9yOiByZWQgYmx1ZTtcIj48L2Rpdj4nLENLRURJVE9SLmRvY3VtZW50KTtiLmFwcGVuZFRvKENLRURJVE9SLmRvY3VtZW50LmdldEhlYWQoKSk7dHJ5e0NLRURJVE9SLmVudi5oYz1iLmdldENvbXB1dGVkU3R5bGUoXCJib3JkZXItdG9wLWNvbG9yXCIpPT1iLmdldENvbXB1dGVkU3R5bGUoXCJib3JkZXItcmlnaHQtY29sb3JcIil9Y2F0Y2goYyl7Q0tFRElUT1IuZW52LmhjPWZhbHNlfWIucmVtb3ZlKCl9aWYoQ0tFRElUT1IuZW52LmhjKUNLRURJVE9SLmVudi5jc3NDbGFzcz1DS0VESVRPUi5lbnYuY3NzQ2xhc3MrXCIgY2tlX2hjXCI7Q0tFRElUT1IuZG9jdW1lbnQuYXBwZW5kU3R5bGVUZXh0KFwiLmNrZXt2aXNpYmlsaXR5OmhpZGRlbjt9XCIpO1xuQ0tFRElUT1Iuc3RhdHVzPVwibG9hZGVkXCI7Q0tFRElUT1IuZmlyZU9uY2UoXCJsb2FkZWRcIik7aWYoYj1DS0VESVRPUi5fLnBlbmRpbmcpe2RlbGV0ZSBDS0VESVRPUi5fLnBlbmRpbmc7Zm9yKHZhciBhPTA7YTxiLmxlbmd0aDthKyspe0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuY29uc3RydWN0b3IuYXBwbHkoYlthXVswXSxiW2FdWzFdKTtDS0VESVRPUi5hZGQoYlthXVswXSl9fX0pKCk7LypcbiBDb3B5cmlnaHQgKGMpIDIwMDMtMjAxMywgQ0tTb3VyY2UgLSBGcmVkZXJpY28gS25hYmJlbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiBGb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5odG1sIG9yIGh0dHA6Ly9ja2VkaXRvci5jb20vbGljZW5zZVxuKi9cbkNLRURJVE9SLnNraW4ubmFtZT1cIm1vb25vXCI7Q0tFRElUT1Iuc2tpbi51YV9lZGl0b3I9XCJpZSxpZXF1aXJrcyxpZTcsaWU4LGdlY2tvXCI7Q0tFRElUT1Iuc2tpbi51YV9kaWFsb2c9XCJpZSxpZXF1aXJrcyxpZTcsaWU4LG9wZXJhXCI7XG5DS0VESVRPUi5za2luLmNoYW1lbGVvbj1mdW5jdGlvbigpe3ZhciBiPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGIsZSl7Zm9yKHZhciBhPWIubWF0Y2goL1teI10uL2cpLGM9MDszPmM7YysrKXt2YXIgZj1hLGg9YyxkO2Q9cGFyc2VJbnQoYVtjXSwxNik7ZD0oXCIwXCIrKDA+ZT8wfGQqKDErZSk6MHxkKygyNTUtZCkqZSkudG9TdHJpbmcoMTYpKS5zbGljZSgtMik7ZltoXT1kfXJldHVyblwiI1wiK2Euam9pbihcIlwiKX19KCksYz1mdW5jdGlvbigpe3ZhciBiPW5ldyBDS0VESVRPUi50ZW1wbGF0ZShcImJhY2tncm91bmQ6I3t0b307YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWdyYWRpZW50KGxpbmVhcixsZWZ0dG9wLGxlZnRib3R0b20sZnJvbSh7ZnJvbX0pLHRvKHt0b30pKTtiYWNrZ3JvdW5kLWltYWdlOi1tb3otbGluZWFyLWdyYWRpZW50KHRvcCx7ZnJvbX0se3RvfSk7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3Ase2Zyb219LHt0b30pO2JhY2tncm91bmQtaW1hZ2U6LW8tbGluZWFyLWdyYWRpZW50KHRvcCx7ZnJvbX0se3RvfSk7YmFja2dyb3VuZC1pbWFnZTotbXMtbGluZWFyLWdyYWRpZW50KHRvcCx7ZnJvbX0se3RvfSk7YmFja2dyb3VuZC1pbWFnZTpsaW5lYXItZ3JhZGllbnQodG9wLHtmcm9tfSx7dG99KTtmaWx0ZXI6cHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LmdyYWRpZW50KGdyYWRpZW50VHlwZT0wLHN0YXJ0Q29sb3JzdHI9J3tmcm9tfScsZW5kQ29sb3JzdHI9J3t0b30nKTtcIik7cmV0dXJuIGZ1bmN0aW9uKGMsXG5hKXtyZXR1cm4gYi5vdXRwdXQoe2Zyb206Yyx0bzphfSl9fSgpLGY9e2VkaXRvcjpuZXcgQ0tFRElUT1IudGVtcGxhdGUoXCJ7aWR9LmNrZV9jaHJvbWUgW2JvcmRlci1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07XSB7aWR9IC5ja2VfdG9wIFsge2RlZmF1bHRHcmFkaWVudH1ib3JkZXItYm90dG9tLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtdIHtpZH0gLmNrZV9ib3R0b20gW3tkZWZhdWx0R3JhZGllbnR9Ym9yZGVyLXRvcC1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07XSB7aWR9IC5ja2VfcmVzaXplciBbYm9yZGVyLXJpZ2h0LWNvbG9yOntja2VSZXNpemVyfV0ge2lkfSAuY2tlX2RpYWxvZ190aXRsZSBbe2RlZmF1bHRHcmFkaWVudH1ib3JkZXItYm90dG9tLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtdIHtpZH0gLmNrZV9kaWFsb2dfZm9vdGVyIFt7ZGVmYXVsdEdyYWRpZW50fW91dGxpbmUtY29sb3I6e2RlZmF1bHRCb3JkZXJ9O2JvcmRlci10b3AtY29sb3I6e2RlZmF1bHRCb3JkZXJ9O10ge2lkfSAuY2tlX2RpYWxvZ190YWIgW3tsaWdodEdyYWRpZW50fWJvcmRlci1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07XSB7aWR9IC5ja2VfZGlhbG9nX3RhYjpob3ZlciBbe21lZGl1bUdyYWRpZW50fV0ge2lkfSAuY2tlX2RpYWxvZ19jb250ZW50cyBbYm9yZGVyLXRvcC1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07XSB7aWR9IC5ja2VfZGlhbG9nX3RhYl9zZWxlY3RlZCwge2lkfSAuY2tlX2RpYWxvZ190YWJfc2VsZWN0ZWQ6aG92ZXIgW2JhY2tncm91bmQ6e2RpYWxvZ1RhYlNlbGVjdGVkfTtib3JkZXItYm90dG9tLWNvbG9yOntkaWFsb2dUYWJTZWxlY3RlZEJvcmRlcn07XSB7aWR9IC5ja2VfZGlhbG9nX2JvZHkgW2JhY2tncm91bmQ6e2RpYWxvZ0JvZHl9O2JvcmRlci1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07XSB7aWR9IC5ja2VfdG9vbGdyb3VwIFt7bGlnaHRHcmFkaWVudH1ib3JkZXItY29sb3I6e2RlZmF1bHRCb3JkZXJ9O10ge2lkfSBhLmNrZV9idXR0b25fb2ZmOmhvdmVyLCB7aWR9IGEuY2tlX2J1dHRvbl9vZmY6Zm9jdXMsIHtpZH0gYS5ja2VfYnV0dG9uX29mZjphY3RpdmUgW3ttZWRpdW1HcmFkaWVudH1dIHtpZH0gLmNrZV9idXR0b25fb24gW3tja2VCdXR0b25Pbn1dIHtpZH0gLmNrZV90b29sYmFyX3NlcGFyYXRvciBbYmFja2dyb3VuZC1jb2xvcjoge2NrZVRvb2xiYXJTZXBhcmF0b3J9O10ge2lkfSAuY2tlX2NvbWJvX2J1dHRvbiBbYm9yZGVyLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTt7bGlnaHRHcmFkaWVudH1dIHtpZH0gYS5ja2VfY29tYm9fYnV0dG9uOmhvdmVyLCB7aWR9IGEuY2tlX2NvbWJvX2J1dHRvbjpmb2N1cywge2lkfSAuY2tlX2NvbWJvX29uIGEuY2tlX2NvbWJvX2J1dHRvbiBbYm9yZGVyLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTt7bWVkaXVtR3JhZGllbnR9XSB7aWR9IC5ja2VfcGF0aF9pdGVtIFtjb2xvcjp7ZWxlbWVudHNQYXRoQ29sb3J9O10ge2lkfSBhLmNrZV9wYXRoX2l0ZW06aG92ZXIsIHtpZH0gYS5ja2VfcGF0aF9pdGVtOmZvY3VzLCB7aWR9IGEuY2tlX3BhdGhfaXRlbTphY3RpdmUgW2JhY2tncm91bmQtY29sb3I6e2VsZW1lbnRzUGF0aEJnfTtdIHtpZH0uY2tlX3BhbmVsIFtib3JkZXItY29sb3I6e2RlZmF1bHRCb3JkZXJ9O10gXCIpLFxucGFuZWw6bmV3IENLRURJVE9SLnRlbXBsYXRlKFwiLmNrZV9wYW5lbF9ncm91cHRpdGxlIFt7bGlnaHRHcmFkaWVudH1ib3JkZXItY29sb3I6e2RlZmF1bHRCb3JkZXJ9O10gLmNrZV9tZW51YnV0dG9uX2ljb24gW2JhY2tncm91bmQtY29sb3I6e21lbnVidXR0b25JY29ufTtdIC5ja2VfbWVudWJ1dHRvbjpob3ZlciAuY2tlX21lbnVidXR0b25faWNvbiwgLmNrZV9tZW51YnV0dG9uOmZvY3VzIC5ja2VfbWVudWJ1dHRvbl9pY29uLCAuY2tlX21lbnVidXR0b246YWN0aXZlIC5ja2VfbWVudWJ1dHRvbl9pY29uIFtiYWNrZ3JvdW5kLWNvbG9yOnttZW51YnV0dG9uSWNvbkhvdmVyfTtdIC5ja2VfbWVudXNlcGFyYXRvciBbYmFja2dyb3VuZC1jb2xvcjp7bWVudWJ1dHRvbkljb259O10gYTpob3Zlci5ja2VfY29sb3Jib3gsIGE6Zm9jdXMuY2tlX2NvbG9yYm94LCBhOmFjdGl2ZS5ja2VfY29sb3Jib3ggW2JvcmRlci1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07XSBhOmhvdmVyLmNrZV9jb2xvcmF1dG8sIGE6aG92ZXIuY2tlX2NvbG9ybW9yZSwgYTpmb2N1cy5ja2VfY29sb3JhdXRvLCBhOmZvY3VzLmNrZV9jb2xvcm1vcmUsIGE6YWN0aXZlLmNrZV9jb2xvcmF1dG8sIGE6YWN0aXZlLmNrZV9jb2xvcm1vcmUgW2JhY2tncm91bmQtY29sb3I6e2NrZUNvbG9yYXV0b307Ym9yZGVyLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtdIFwiKX07XG5yZXR1cm4gZnVuY3Rpb24oZyxlKXt2YXIgYT1nLnVpQ29sb3IsYT17aWQ6XCIuXCIrZy5pZCxkZWZhdWx0Qm9yZGVyOmIoYSwtMC4xKSxkZWZhdWx0R3JhZGllbnQ6YyhiKGEsMC45KSxhKSxsaWdodEdyYWRpZW50OmMoYihhLDEpLGIoYSwwLjcpKSxtZWRpdW1HcmFkaWVudDpjKGIoYSwwLjgpLGIoYSwwLjUpKSxja2VCdXR0b25PbjpjKGIoYSwwLjYpLGIoYSwwLjcpKSxja2VSZXNpemVyOmIoYSwtMC40KSxja2VUb29sYmFyU2VwYXJhdG9yOmIoYSwwLjUpLGNrZUNvbG9yYXV0bzpiKGEsMC44KSxkaWFsb2dCb2R5OmIoYSwwLjcpLGRpYWxvZ1RhYlNlbGVjdGVkOmMoXCIjRkZGRkZGXCIsXCIjRkZGRkZGXCIpLGRpYWxvZ1RhYlNlbGVjdGVkQm9yZGVyOlwiI0ZGRlwiLGVsZW1lbnRzUGF0aENvbG9yOmIoYSwtMC42KSxlbGVtZW50c1BhdGhCZzphLG1lbnVidXR0b25JY29uOmIoYSwwLjUpLG1lbnVidXR0b25JY29uSG92ZXI6YihhLDAuMyl9O3JldHVybiBmW2VdLm91dHB1dChhKS5yZXBsYWNlKC9cXFsvZyxcblwie1wiKS5yZXBsYWNlKC9cXF0vZyxcIn1cIil9fSgpO0NLRURJVE9SLnBsdWdpbnMuYWRkKFwiZGlhbG9ndWlcIix7b25Mb2FkOmZ1bmN0aW9uKCl7dmFyIGg9ZnVuY3Rpb24oYil7dGhpcy5ffHwodGhpcy5fPXt9KTt0aGlzLl9bXCJkZWZhdWx0XCJdPXRoaXMuXy5pbml0VmFsdWU9YltcImRlZmF1bHRcIl18fFwiXCI7dGhpcy5fLnJlcXVpcmVkPWIucmVxdWlyZWR8fCExO2Zvcih2YXIgYT1bdGhpcy5fXSxkPTE7ZDxhcmd1bWVudHMubGVuZ3RoO2QrKylhLnB1c2goYXJndW1lbnRzW2RdKTthLnB1c2goITApO0NLRURJVE9SLnRvb2xzLmV4dGVuZC5hcHBseShDS0VESVRPUi50b29scyxhKTtyZXR1cm4gdGhpcy5ffSxyPXtidWlsZDpmdW5jdGlvbihiLGEsZCl7cmV0dXJuIG5ldyBDS0VESVRPUi51aS5kaWFsb2cudGV4dElucHV0KGIsYSxkKX19LGw9e2J1aWxkOmZ1bmN0aW9uKGIsYSxkKXtyZXR1cm4gbmV3IENLRURJVE9SLnVpLmRpYWxvZ1thLnR5cGVdKGIsYSxkKX19LG49e2lzQ2hhbmdlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFZhbHVlKCkhPVxudGhpcy5nZXRJbml0VmFsdWUoKX0scmVzZXQ6ZnVuY3Rpb24oYil7dGhpcy5zZXRWYWx1ZSh0aGlzLmdldEluaXRWYWx1ZSgpLGIpfSxzZXRJbml0VmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl8uaW5pdFZhbHVlPXRoaXMuZ2V0VmFsdWUoKX0scmVzZXRJbml0VmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl8uaW5pdFZhbHVlPXRoaXMuX1tcImRlZmF1bHRcIl19LGdldEluaXRWYWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uaW5pdFZhbHVlfX0sbz1DS0VESVRPUi50b29scy5leHRlbmQoe30sQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudC5wcm90b3R5cGUuZXZlbnRQcm9jZXNzb3JzLHtvbkNoYW5nZTpmdW5jdGlvbihiLGEpe3RoaXMuXy5kb21PbkNoYW5nZVJlZ2lzdGVyZWR8fChiLm9uKFwibG9hZFwiLGZ1bmN0aW9uKCl7dGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5vbihcImNoYW5nZVwiLGZ1bmN0aW9uKCl7Yi5wYXJ0cy5kaWFsb2cuaXNWaXNpYmxlKCkmJnRoaXMuZmlyZShcImNoYW5nZVwiLHt2YWx1ZTp0aGlzLmdldFZhbHVlKCl9KX0sXG50aGlzKX0sdGhpcyksdGhpcy5fLmRvbU9uQ2hhbmdlUmVnaXN0ZXJlZD0hMCk7dGhpcy5vbihcImNoYW5nZVwiLGEpfX0sITApLHM9L15vbihbQS1aXVxcdyspLyxwPWZ1bmN0aW9uKGIpe2Zvcih2YXIgYSBpbiBiKShzLnRlc3QoYSl8fFwidGl0bGVcIj09YXx8XCJ0eXBlXCI9PWEpJiZkZWxldGUgYlthXTtyZXR1cm4gYn07Q0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLnVpLmRpYWxvZyx7bGFiZWxlZEVsZW1lbnQ6ZnVuY3Rpb24oYixhLGQsZSl7aWYoISg0PmFyZ3VtZW50cy5sZW5ndGgpKXt2YXIgYz1oLmNhbGwodGhpcyxhKTtjLmxhYmVsSWQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCkrXCJfbGFiZWxcIjt0aGlzLl8uY2hpbGRyZW49W107Q0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudC5jYWxsKHRoaXMsYixhLGQsXCJkaXZcIixudWxsLHtyb2xlOlwicHJlc2VudGF0aW9uXCJ9LGZ1bmN0aW9uKCl7dmFyIGY9W10sZD1hLnJlcXVpcmVkP1wiIGNrZV9yZXF1aXJlZFwiOlwiXCI7XCJob3Jpem9udGFsXCIhPVxuYS5sYWJlbExheW91dD9mLnB1c2goJzxsYWJlbCBjbGFzcz1cImNrZV9kaWFsb2dfdWlfbGFiZWxlZF9sYWJlbCcrZCsnXCIgJywnIGlkPVwiJytjLmxhYmVsSWQrJ1wiJyxjLmlucHV0SWQ/JyBmb3I9XCInK2MuaW5wdXRJZCsnXCInOlwiXCIsKGEubGFiZWxTdHlsZT8nIHN0eWxlPVwiJythLmxhYmVsU3R5bGUrJ1wiJzpcIlwiKStcIj5cIixhLmxhYmVsLFwiPC9sYWJlbD5cIiwnPGRpdiBjbGFzcz1cImNrZV9kaWFsb2dfdWlfbGFiZWxlZF9jb250ZW50XCInKyhhLmNvbnRyb2xTdHlsZT8nIHN0eWxlPVwiJythLmNvbnRyb2xTdHlsZSsnXCInOlwiXCIpKycgcm9sZT1cInByZXNlbnRhdGlvblwiPicsZS5jYWxsKHRoaXMsYixhKSxcIjwvZGl2PlwiKTooZD17dHlwZTpcImhib3hcIix3aWR0aHM6YS53aWR0aHMscGFkZGluZzowLGNoaWxkcmVuOlt7dHlwZTpcImh0bWxcIixodG1sOic8bGFiZWwgY2xhc3M9XCJja2VfZGlhbG9nX3VpX2xhYmVsZWRfbGFiZWwnK2QrJ1wiIGlkPVwiJytjLmxhYmVsSWQrJ1wiIGZvcj1cIicrYy5pbnB1dElkKydcIicrXG4oYS5sYWJlbFN0eWxlPycgc3R5bGU9XCInK2EubGFiZWxTdHlsZSsnXCInOlwiXCIpK1wiPlwiK0NLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoYS5sYWJlbCkrXCI8L3NwYW4+XCJ9LHt0eXBlOlwiaHRtbFwiLGh0bWw6JzxzcGFuIGNsYXNzPVwiY2tlX2RpYWxvZ191aV9sYWJlbGVkX2NvbnRlbnRcIicrKGEuY29udHJvbFN0eWxlPycgc3R5bGU9XCInK2EuY29udHJvbFN0eWxlKydcIic6XCJcIikrXCI+XCIrZS5jYWxsKHRoaXMsYixhKStcIjwvc3Bhbj5cIn1dfSxDS0VESVRPUi5kaWFsb2cuXy51aUVsZW1lbnRCdWlsZGVycy5oYm94LmJ1aWxkKGIsZCxmKSk7cmV0dXJuIGYuam9pbihcIlwiKX0pfX0sdGV4dElucHV0OmZ1bmN0aW9uKGIsYSxkKXtpZighKDM+YXJndW1lbnRzLmxlbmd0aCkpe2guY2FsbCh0aGlzLGEpO3ZhciBlPXRoaXMuXy5pbnB1dElkPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpK1wiX3RleHRJbnB1dFwiLGM9e1wiY2xhc3NcIjpcImNrZV9kaWFsb2dfdWlfaW5wdXRfXCIrYS50eXBlLGlkOmUsdHlwZTphLnR5cGV9O1xuYS52YWxpZGF0ZSYmKHRoaXMudmFsaWRhdGU9YS52YWxpZGF0ZSk7YS5tYXhMZW5ndGgmJihjLm1heGxlbmd0aD1hLm1heExlbmd0aCk7YS5zaXplJiYoYy5zaXplPWEuc2l6ZSk7YS5pbnB1dFN0eWxlJiYoYy5zdHlsZT1hLmlucHV0U3R5bGUpO3ZhciBmPXRoaXMsaT0hMTtiLm9uKFwibG9hZFwiLGZ1bmN0aW9uKCl7Zi5nZXRJbnB1dEVsZW1lbnQoKS5vbihcImtleWRvd25cIixmdW5jdGlvbihhKXthLmRhdGEuZ2V0S2V5c3Ryb2tlKCk9PTEzJiYoaT10cnVlKX0pO2YuZ2V0SW5wdXRFbGVtZW50KCkub24oXCJrZXl1cFwiLGZ1bmN0aW9uKGEpe2lmKGEuZGF0YS5nZXRLZXlzdHJva2UoKT09MTMmJmkpe2IuZ2V0QnV0dG9uKFwib2tcIikmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLmdldEJ1dHRvbihcIm9rXCIpLmNsaWNrKCl9LDApO2k9ZmFsc2V9fSxudWxsLG51bGwsMUUzKX0pO0NLRURJVE9SLnVpLmRpYWxvZy5sYWJlbGVkRWxlbWVudC5jYWxsKHRoaXMsYixhLGQsZnVuY3Rpb24oKXt2YXIgYj1cblsnPGRpdiBjbGFzcz1cImNrZV9kaWFsb2dfdWlfaW5wdXRfJyxhLnR5cGUsJ1wiIHJvbGU9XCJwcmVzZW50YXRpb25cIiddO2Eud2lkdGgmJmIucHVzaCgnc3R5bGU9XCJ3aWR0aDonK2Eud2lkdGgrJ1wiICcpO2IucHVzaChcIj48aW5wdXQgXCIpO2NbXCJhcmlhLWxhYmVsbGVkYnlcIl09dGhpcy5fLmxhYmVsSWQ7dGhpcy5fLnJlcXVpcmVkJiYoY1tcImFyaWEtcmVxdWlyZWRcIl09dGhpcy5fLnJlcXVpcmVkKTtmb3IodmFyIGYgaW4gYyliLnB1c2goZisnPVwiJytjW2ZdKydcIiAnKTtiLnB1c2goXCIgLz48L2Rpdj5cIik7cmV0dXJuIGIuam9pbihcIlwiKX0pfX0sdGV4dGFyZWE6ZnVuY3Rpb24oYixhLGQpe2lmKCEoMz5hcmd1bWVudHMubGVuZ3RoKSl7aC5jYWxsKHRoaXMsYSk7dmFyIGU9dGhpcyxjPXRoaXMuXy5pbnB1dElkPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpK1wiX3RleHRhcmVhXCIsZj17fTthLnZhbGlkYXRlJiYodGhpcy52YWxpZGF0ZT1hLnZhbGlkYXRlKTtmLnJvd3M9YS5yb3dzfHw1O2YuY29scz1cbmEuY29sc3x8MjA7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuaW5wdXRTdHlsZSYmKGYuc3R5bGU9YS5pbnB1dFN0eWxlKTtDS0VESVRPUi51aS5kaWFsb2cubGFiZWxlZEVsZW1lbnQuY2FsbCh0aGlzLGIsYSxkLGZ1bmN0aW9uKCl7ZltcImFyaWEtbGFiZWxsZWRieVwiXT10aGlzLl8ubGFiZWxJZDt0aGlzLl8ucmVxdWlyZWQmJihmW1wiYXJpYS1yZXF1aXJlZFwiXT10aGlzLl8ucmVxdWlyZWQpO3ZhciBhPVsnPGRpdiBjbGFzcz1cImNrZV9kaWFsb2dfdWlfaW5wdXRfdGV4dGFyZWFcIiByb2xlPVwicHJlc2VudGF0aW9uXCI+PHRleHRhcmVhIGNsYXNzPVwiY2tlX2RpYWxvZ191aV9pbnB1dF90ZXh0YXJlYVwiIGlkPVwiJyxjLCdcIiAnXSxiO2ZvcihiIGluIGYpYS5wdXNoKGIrJz1cIicrQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShmW2JdKSsnXCIgJyk7YS5wdXNoKFwiPlwiLENLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoZS5fW1wiZGVmYXVsdFwiXSksXCI8L3RleHRhcmVhPjwvZGl2PlwiKTtyZXR1cm4gYS5qb2luKFwiXCIpfSl9fSxcbmNoZWNrYm94OmZ1bmN0aW9uKGIsYSxkKXtpZighKDM+YXJndW1lbnRzLmxlbmd0aCkpe3ZhciBlPWguY2FsbCh0aGlzLGEse1wiZGVmYXVsdFwiOiEhYVtcImRlZmF1bHRcIl19KTthLnZhbGlkYXRlJiYodGhpcy52YWxpZGF0ZT1hLnZhbGlkYXRlKTtDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LmNhbGwodGhpcyxiLGEsZCxcInNwYW5cIixudWxsLG51bGwsZnVuY3Rpb24oKXt2YXIgYz1DS0VESVRPUi50b29scy5leHRlbmQoe30sYSx7aWQ6YS5pZD9hLmlkK1wiX2NoZWNrYm94XCI6Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCkrXCJfY2hlY2tib3hcIn0sdHJ1ZSksZj1bXSxkPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpK1wiX2xhYmVsXCIsZz17XCJjbGFzc1wiOlwiY2tlX2RpYWxvZ191aV9jaGVja2JveF9pbnB1dFwiLHR5cGU6XCJjaGVja2JveFwiLFwiYXJpYS1sYWJlbGxlZGJ5XCI6ZH07cChjKTtpZihhW1wiZGVmYXVsdFwiXSlnLmNoZWNrZWQ9XCJjaGVja2VkXCI7aWYodHlwZW9mIGMuaW5wdXRTdHlsZSE9XG5cInVuZGVmaW5lZFwiKWMuc3R5bGU9Yy5pbnB1dFN0eWxlO2UuY2hlY2tib3g9bmV3IENLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQoYixjLGYsXCJpbnB1dFwiLG51bGwsZyk7Zi5wdXNoKCcgPGxhYmVsIGlkPVwiJyxkLCdcIiBmb3I9XCInLGcuaWQsJ1wiJysoYS5sYWJlbFN0eWxlPycgc3R5bGU9XCInK2EubGFiZWxTdHlsZSsnXCInOlwiXCIpK1wiPlwiLENLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoYS5sYWJlbCksXCI8L2xhYmVsPlwiKTtyZXR1cm4gZi5qb2luKFwiXCIpfSl9fSxyYWRpbzpmdW5jdGlvbihiLGEsZCl7aWYoISgzPmFyZ3VtZW50cy5sZW5ndGgpKXtoLmNhbGwodGhpcyxhKTt0aGlzLl9bXCJkZWZhdWx0XCJdfHwodGhpcy5fW1wiZGVmYXVsdFwiXT10aGlzLl8uaW5pdFZhbHVlPWEuaXRlbXNbMF1bMV0pO2EudmFsaWRhdGUmJih0aGlzLnZhbGlkYXRlPWEudmFsZGlhdGUpO3ZhciBlPVtdLGM9dGhpcztDS0VESVRPUi51aS5kaWFsb2cubGFiZWxlZEVsZW1lbnQuY2FsbCh0aGlzLGIsYSxkLGZ1bmN0aW9uKCl7Zm9yKHZhciBmPVxuW10sZD1bXSxnPWEuaWQ/YS5pZCtcIl9yYWRpb1wiOkNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpK1wiX3JhZGlvXCIsaj0wO2o8YS5pdGVtcy5sZW5ndGg7aisrKXt2YXIgaz1hLml0ZW1zW2pdLGg9a1syXSE9PXZvaWQgMD9rWzJdOmtbMF0sbD1rWzFdIT09dm9pZCAwP2tbMV06a1swXSxtPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpK1wiX3JhZGlvX2lucHV0XCIsbj1tK1wiX2xhYmVsXCIsbT1DS0VESVRPUi50b29scy5leHRlbmQoe30sYSx7aWQ6bSx0aXRsZTpudWxsLHR5cGU6bnVsbH0sdHJ1ZSksaD1DS0VESVRPUi50b29scy5leHRlbmQoe30sbSx7dGl0bGU6aH0sdHJ1ZSksbz17dHlwZTpcInJhZGlvXCIsXCJjbGFzc1wiOlwiY2tlX2RpYWxvZ191aV9yYWRpb19pbnB1dFwiLG5hbWU6Zyx2YWx1ZTpsLFwiYXJpYS1sYWJlbGxlZGJ5XCI6bn0scT1bXTtpZihjLl9bXCJkZWZhdWx0XCJdPT1sKW8uY2hlY2tlZD1cImNoZWNrZWRcIjtwKG0pO3AoaCk7aWYodHlwZW9mIG0uaW5wdXRTdHlsZSE9XCJ1bmRlZmluZWRcIiltLnN0eWxlPVxubS5pbnB1dFN0eWxlO2UucHVzaChuZXcgQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudChiLG0scSxcImlucHV0XCIsbnVsbCxvKSk7cS5wdXNoKFwiIFwiKTtuZXcgQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudChiLGgscSxcImxhYmVsXCIsbnVsbCx7aWQ6bixcImZvclwiOm8uaWR9LGtbMF0pO2YucHVzaChxLmpvaW4oXCJcIikpfW5ldyBDS0VESVRPUi51aS5kaWFsb2cuaGJveChiLGUsZixkKTtyZXR1cm4gZC5qb2luKFwiXCIpfSk7dGhpcy5fLmNoaWxkcmVuPWV9fSxidXR0b246ZnVuY3Rpb24oYixhLGQpe2lmKGFyZ3VtZW50cy5sZW5ndGgpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGEmJihhPWEoYi5nZXRQYXJlbnRFZGl0b3IoKSkpO2guY2FsbCh0aGlzLGEse2Rpc2FibGVkOmEuZGlzYWJsZWR8fCExfSk7Q0tFRElUT1IuZXZlbnQuaW1wbGVtZW50T24odGhpcyk7dmFyIGU9dGhpcztiLm9uKFwibG9hZFwiLGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRFbGVtZW50KCk7KGZ1bmN0aW9uKCl7YS5vbihcImNsaWNrXCIsXG5lLmNsaWNrLGUpO2Eub24oXCJrZXlkb3duXCIsZnVuY3Rpb24oYSl7YS5kYXRhLmdldEtleXN0cm9rZSgpaW57MzI6MX0mJihlLmNsaWNrKCksYS5kYXRhLnByZXZlbnREZWZhdWx0KCkpfSl9KSgpO2EudW5zZWxlY3RhYmxlKCl9LHRoaXMpO3ZhciBjPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxhKTtkZWxldGUgYy5zdHlsZTt2YXIgZj1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKStcIl9sYWJlbFwiO0NLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQuY2FsbCh0aGlzLGIsYyxkLFwiYVwiLG51bGwse3N0eWxlOmEuc3R5bGUsaHJlZjpcImphdmFzY3JpcHQ6dm9pZCgwKVwiLHRpdGxlOmEubGFiZWwsaGlkZWZvY3VzOlwidHJ1ZVwiLFwiY2xhc3NcIjphW1wiY2xhc3NcIl0scm9sZTpcImJ1dHRvblwiLFwiYXJpYS1sYWJlbGxlZGJ5XCI6Zn0sJzxzcGFuIGlkPVwiJytmKydcIiBjbGFzcz1cImNrZV9kaWFsb2dfdWlfYnV0dG9uXCI+JytDS0VESVRPUi50b29scy5odG1sRW5jb2RlKGEubGFiZWwpK1wiPC9zcGFuPlwiKX19LFxuc2VsZWN0OmZ1bmN0aW9uKGIsYSxkKXtpZighKDM+YXJndW1lbnRzLmxlbmd0aCkpe3ZhciBlPWguY2FsbCh0aGlzLGEpO2EudmFsaWRhdGUmJih0aGlzLnZhbGlkYXRlPWEudmFsaWRhdGUpO2UuaW5wdXRJZD1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKStcIl9zZWxlY3RcIjtDS0VESVRPUi51aS5kaWFsb2cubGFiZWxlZEVsZW1lbnQuY2FsbCh0aGlzLGIsYSxkLGZ1bmN0aW9uKCl7dmFyIGM9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LGEse2lkOmEuaWQ/YS5pZCtcIl9zZWxlY3RcIjpDS0VESVRPUi50b29scy5nZXROZXh0SWQoKStcIl9zZWxlY3RcIn0sdHJ1ZSksZD1bXSxpPVtdLGc9e2lkOmUuaW5wdXRJZCxcImNsYXNzXCI6XCJja2VfZGlhbG9nX3VpX2lucHV0X3NlbGVjdFwiLFwiYXJpYS1sYWJlbGxlZGJ5XCI6dGhpcy5fLmxhYmVsSWR9O2QucHVzaCgnPGRpdiBjbGFzcz1cImNrZV9kaWFsb2dfdWlfaW5wdXRfJyxhLnR5cGUsJ1wiIHJvbGU9XCJwcmVzZW50YXRpb25cIicpO2Eud2lkdGgmJmQucHVzaCgnc3R5bGU9XCJ3aWR0aDonK1xuYS53aWR0aCsnXCIgJyk7ZC5wdXNoKFwiPlwiKTtpZihhLnNpemUhPXZvaWQgMClnLnNpemU9YS5zaXplO2lmKGEubXVsdGlwbGUhPXZvaWQgMClnLm11bHRpcGxlPWEubXVsdGlwbGU7cChjKTtmb3IodmFyIGo9MCxrO2o8YS5pdGVtcy5sZW5ndGgmJihrPWEuaXRlbXNbal0pO2orKylpLnB1c2goJzxvcHRpb24gdmFsdWU9XCInLENLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoa1sxXSE9PXZvaWQgMD9rWzFdOmtbMF0pLnJlcGxhY2UoL1wiL2csXCImcXVvdDtcIiksJ1wiIC8+ICcsQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShrWzBdKSk7aWYodHlwZW9mIGMuaW5wdXRTdHlsZSE9XCJ1bmRlZmluZWRcIiljLnN0eWxlPWMuaW5wdXRTdHlsZTtlLnNlbGVjdD1uZXcgQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudChiLGMsZCxcInNlbGVjdFwiLG51bGwsZyxpLmpvaW4oXCJcIikpO2QucHVzaChcIjwvZGl2PlwiKTtyZXR1cm4gZC5qb2luKFwiXCIpfSl9fSxmaWxlOmZ1bmN0aW9uKGIsYSxkKXtpZighKDM+YXJndW1lbnRzLmxlbmd0aCkpe3ZvaWQgMD09PVxuYVtcImRlZmF1bHRcIl0mJihhW1wiZGVmYXVsdFwiXT1cIlwiKTt2YXIgZT1DS0VESVRPUi50b29scy5leHRlbmQoaC5jYWxsKHRoaXMsYSkse2RlZmluaXRpb246YSxidXR0b25zOltdfSk7YS52YWxpZGF0ZSYmKHRoaXMudmFsaWRhdGU9YS52YWxpZGF0ZSk7Yi5vbihcImxvYWRcIixmdW5jdGlvbigpe0NLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQoZS5mcmFtZUlkKS5nZXRQYXJlbnQoKS5hZGRDbGFzcyhcImNrZV9kaWFsb2dfdWlfaW5wdXRfZmlsZVwiKX0pO0NLRURJVE9SLnVpLmRpYWxvZy5sYWJlbGVkRWxlbWVudC5jYWxsKHRoaXMsYixhLGQsZnVuY3Rpb24oKXtlLmZyYW1lSWQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCkrXCJfZmlsZUlucHV0XCI7dmFyIGI9Q0tFRElUT1IuZW52LmlzQ3VzdG9tRG9tYWluKCksZD1bJzxpZnJhbWUgZnJhbWVib3JkZXI9XCIwXCIgYWxsb3d0cmFuc3BhcmVuY3k9XCIwXCIgY2xhc3M9XCJja2VfZGlhbG9nX3VpX2lucHV0X2ZpbGVcIiByb2xlPVwicHJlc2VudGF0aW9uXCIgaWQ9XCInLFxuZS5mcmFtZUlkLCdcIiB0aXRsZT1cIicsYS5sYWJlbCwnXCIgc3JjPVwiamF2YXNjcmlwdDp2b2lkKCddO2QucHVzaChiP1wiKGZ1bmN0aW9uKCl7ZG9jdW1lbnQub3BlbigpO2RvY3VtZW50LmRvbWFpbj0nXCIrZG9jdW1lbnQuZG9tYWluK1wiJztkb2N1bWVudC5jbG9zZSgpO30pKClcIjpcIjBcIik7ZC5wdXNoKCcpXCI+PC9pZnJhbWU+Jyk7cmV0dXJuIGQuam9pbihcIlwiKX0pfX0sZmlsZUJ1dHRvbjpmdW5jdGlvbihiLGEsZCl7aWYoISgzPmFyZ3VtZW50cy5sZW5ndGgpKXtoLmNhbGwodGhpcyxhKTt2YXIgZT10aGlzO2EudmFsaWRhdGUmJih0aGlzLnZhbGlkYXRlPWEudmFsaWRhdGUpO3ZhciBjPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxhKSxmPWMub25DbGljaztjLmNsYXNzTmFtZT0oYy5jbGFzc05hbWU/Yy5jbGFzc05hbWUrXCIgXCI6XCJcIikrXCJja2VfZGlhbG9nX3VpX2J1dHRvblwiO2Mub25DbGljaz1mdW5jdGlvbihjKXt2YXIgZD1hW1wiZm9yXCJdO2lmKCFmfHxmLmNhbGwodGhpcyxjKSE9PWZhbHNlKXtiLmdldENvbnRlbnRFbGVtZW50KGRbMF0sXG5kWzFdKS5zdWJtaXQoKTt0aGlzLmRpc2FibGUoKX19O2Iub24oXCJsb2FkXCIsZnVuY3Rpb24oKXtiLmdldENvbnRlbnRFbGVtZW50KGFbXCJmb3JcIl1bMF0sYVtcImZvclwiXVsxXSkuXy5idXR0b25zLnB1c2goZSl9KTtDS0VESVRPUi51aS5kaWFsb2cuYnV0dG9uLmNhbGwodGhpcyxiLGMsZCl9fSxodG1sOmZ1bmN0aW9uKCl7dmFyIGI9L15cXHMqPFtcXHc6XStcXHMrKFtePl0qKT8+LyxhPS9eKFxccyo8W1xcdzpdKyg/OlxccytbXj5dKik/KSgoPzoufFxccnxcXG4pKykkLyxkPS9cXC8kLztyZXR1cm4gZnVuY3Rpb24oZSxjLGYpe2lmKCEoMz5hcmd1bWVudHMubGVuZ3RoKSl7dmFyIGk9W10sZz1jLmh0bWw7XCI8XCIhPWcuY2hhckF0KDApJiYoZz1cIjxzcGFuPlwiK2crXCI8L3NwYW4+XCIpO3ZhciBqPWMuZm9jdXM7aiYmKHRoaXMuZm9jdXM9ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdFBhcmVudFRhYigpO1wiZnVuY3Rpb25cIj09dHlwZW9mIGomJmouY2FsbCh0aGlzKTt0aGlzLmZpcmUoXCJmb2N1c1wiKX0sYy5pc0ZvY3VzYWJsZSYmXG4odGhpcy5pc0ZvY3VzYWJsZT10aGlzLmlzRm9jdXNhYmxlKSx0aGlzLmtleWJvYXJkRm9jdXNhYmxlPSEwKTtDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LmNhbGwodGhpcyxlLGMsaSxcInNwYW5cIixudWxsLG51bGwsXCJcIik7aT1pLmpvaW4oXCJcIikubWF0Y2goYik7Zz1nLm1hdGNoKGEpfHxbXCJcIixcIlwiLFwiXCJdO2QudGVzdChnWzFdKSYmKGdbMV09Z1sxXS5zbGljZSgwLC0xKSxnWzJdPVwiL1wiK2dbMl0pO2YucHVzaChbZ1sxXSxcIiBcIixpWzFdfHxcIlwiLGdbMl1dLmpvaW4oXCJcIikpfX19KCksZmllbGRzZXQ6ZnVuY3Rpb24oYixhLGQsZSxjKXt2YXIgZj1jLmxhYmVsO3RoaXMuXz17Y2hpbGRyZW46YX07Q0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudC5jYWxsKHRoaXMsYixjLGUsXCJmaWVsZHNldFwiLG51bGwsbnVsbCxmdW5jdGlvbigpe3ZhciBhPVtdO2YmJmEucHVzaChcIjxsZWdlbmRcIisoYy5sYWJlbFN0eWxlPycgc3R5bGU9XCInK2MubGFiZWxTdHlsZSsnXCInOlwiXCIpK1wiPlwiK2YrXCI8L2xlZ2VuZD5cIik7XG5mb3IodmFyIGI9MDtiPGQubGVuZ3RoO2IrKylhLnB1c2goZFtiXSk7cmV0dXJuIGEuam9pbihcIlwiKX0pfX0sITApO0NLRURJVE9SLnVpLmRpYWxvZy5odG1sLnByb3RvdHlwZT1uZXcgQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudDtDS0VESVRPUi51aS5kaWFsb2cubGFiZWxlZEVsZW1lbnQucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChuZXcgQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudCx7c2V0TGFiZWw6ZnVuY3Rpb24oYil7dmFyIGE9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZCh0aGlzLl8ubGFiZWxJZCk7MT5hLmdldENoaWxkQ291bnQoKT8obmV3IENLRURJVE9SLmRvbS50ZXh0KGIsQ0tFRElUT1IuZG9jdW1lbnQpKS5hcHBlbmRUbyhhKTphLmdldENoaWxkKDApLiQubm9kZVZhbHVlPWI7cmV0dXJuIHRoaXN9LGdldExhYmVsOmZ1bmN0aW9uKCl7dmFyIGI9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZCh0aGlzLl8ubGFiZWxJZCk7cmV0dXJuIWJ8fDE+Yi5nZXRDaGlsZENvdW50KCk/XG5cIlwiOmIuZ2V0Q2hpbGQoMCkuZ2V0VGV4dCgpfSxldmVudFByb2Nlc3NvcnM6b30sITApO0NLRURJVE9SLnVpLmRpYWxvZy5idXR0b24ucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChuZXcgQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudCx7Y2xpY2s6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5fLmRpc2FibGVkP3RoaXMuZmlyZShcImNsaWNrXCIse2RpYWxvZzp0aGlzLl8uZGlhbG9nfSk6ITF9LGVuYWJsZTpmdW5jdGlvbigpe3RoaXMuXy5kaXNhYmxlZD0hMTt2YXIgYj10aGlzLmdldEVsZW1lbnQoKTtiJiZiLnJlbW92ZUNsYXNzKFwiY2tlX2Rpc2FibGVkXCIpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5fLmRpc2FibGVkPSEwO3RoaXMuZ2V0RWxlbWVudCgpLmFkZENsYXNzKFwiY2tlX2Rpc2FibGVkXCIpfSxpc1Zpc2libGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRFbGVtZW50KCkuZ2V0Rmlyc3QoKS5pc1Zpc2libGUoKX0saXNFbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuXy5kaXNhYmxlZH0sXG5ldmVudFByb2Nlc3NvcnM6Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LENLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQucHJvdG90eXBlLmV2ZW50UHJvY2Vzc29ycyx7b25DbGljazpmdW5jdGlvbihiLGEpe3RoaXMub24oXCJjbGlja1wiLGZ1bmN0aW9uKCl7YS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX19LCEwKSxhY2Nlc3NLZXlVcDpmdW5jdGlvbigpe3RoaXMuY2xpY2soKX0sYWNjZXNzS2V5RG93bjpmdW5jdGlvbigpe3RoaXMuZm9jdXMoKX0sa2V5Ym9hcmRGb2N1c2FibGU6ITB9LCEwKTtDS0VESVRPUi51aS5kaWFsb2cudGV4dElucHV0LnByb3RvdHlwZT1DS0VESVRPUi50b29scy5leHRlbmQobmV3IENLRURJVE9SLnVpLmRpYWxvZy5sYWJlbGVkRWxlbWVudCx7Z2V0SW5wdXRFbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIENLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQodGhpcy5fLmlucHV0SWQpfSxmb2N1czpmdW5jdGlvbigpe3ZhciBiPXRoaXMuc2VsZWN0UGFyZW50VGFiKCk7XG5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIGE9Yi5nZXRJbnB1dEVsZW1lbnQoKTthJiZhLiQuZm9jdXMoKX0sMCl9LHNlbGVjdDpmdW5jdGlvbigpe3ZhciBiPXRoaXMuc2VsZWN0UGFyZW50VGFiKCk7c2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBhPWIuZ2V0SW5wdXRFbGVtZW50KCk7YSYmKGEuJC5mb2N1cygpLGEuJC5zZWxlY3QoKSl9LDApfSxhY2Nlc3NLZXlVcDpmdW5jdGlvbigpe3RoaXMuc2VsZWN0KCl9LHNldFZhbHVlOmZ1bmN0aW9uKGIpeyFiJiYoYj1cIlwiKTtyZXR1cm4gQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudC5wcm90b3R5cGUuc2V0VmFsdWUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxrZXlib2FyZEZvY3VzYWJsZTohMH0sbiwhMCk7Q0tFRElUT1IudWkuZGlhbG9nLnRleHRhcmVhLnByb3RvdHlwZT1uZXcgQ0tFRElUT1IudWkuZGlhbG9nLnRleHRJbnB1dDtDS0VESVRPUi51aS5kaWFsb2cuc2VsZWN0LnByb3RvdHlwZT1DS0VESVRPUi50b29scy5leHRlbmQobmV3IENLRURJVE9SLnVpLmRpYWxvZy5sYWJlbGVkRWxlbWVudCxcbntnZXRJbnB1dEVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLnNlbGVjdC5nZXRFbGVtZW50KCl9LGFkZDpmdW5jdGlvbihiLGEsZCl7dmFyIGU9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwib3B0aW9uXCIsdGhpcy5nZXREaWFsb2coKS5nZXRQYXJlbnRFZGl0b3IoKS5kb2N1bWVudCksYz10aGlzLmdldElucHV0RWxlbWVudCgpLiQ7ZS4kLnRleHQ9YjtlLiQudmFsdWU9dm9pZCAwPT09YXx8bnVsbD09PWE/YjphO3ZvaWQgMD09PWR8fG51bGw9PT1kP0NLRURJVE9SLmVudi5pZT9jLmFkZChlLiQpOmMuYWRkKGUuJCxudWxsKTpjLmFkZChlLiQsZCk7cmV0dXJuIHRoaXN9LHJlbW92ZTpmdW5jdGlvbihiKXt0aGlzLmdldElucHV0RWxlbWVudCgpLiQucmVtb3ZlKGIpO3JldHVybiB0aGlzfSxjbGVhcjpmdW5jdGlvbigpe2Zvcih2YXIgYj10aGlzLmdldElucHV0RWxlbWVudCgpLiQ7MDxiLmxlbmd0aDspYi5yZW1vdmUoMCk7cmV0dXJuIHRoaXN9LGtleWJvYXJkRm9jdXNhYmxlOiEwfSxcbm4sITApO0NLRURJVE9SLnVpLmRpYWxvZy5jaGVja2JveC5wcm90b3R5cGU9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKG5ldyBDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LHtnZXRJbnB1dEVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLmNoZWNrYm94LmdldEVsZW1lbnQoKX0sc2V0VmFsdWU6ZnVuY3Rpb24oYixhKXt0aGlzLmdldElucHV0RWxlbWVudCgpLiQuY2hlY2tlZD1iOyFhJiZ0aGlzLmZpcmUoXCJjaGFuZ2VcIix7dmFsdWU6Yn0pfSxnZXRWYWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldElucHV0RWxlbWVudCgpLiQuY2hlY2tlZH0sYWNjZXNzS2V5VXA6ZnVuY3Rpb24oKXt0aGlzLnNldFZhbHVlKCF0aGlzLmdldFZhbHVlKCkpfSxldmVudFByb2Nlc3NvcnM6e29uQ2hhbmdlOmZ1bmN0aW9uKGIsYSl7aWYoIUNLRURJVE9SLmVudi5pZXx8ODxDS0VESVRPUi5lbnYudmVyc2lvbilyZXR1cm4gby5vbkNoYW5nZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7Yi5vbihcImxvYWRcIixcbmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fLmNoZWNrYm94LmdldEVsZW1lbnQoKTthLm9uKFwicHJvcGVydHljaGFuZ2VcIixmdW5jdGlvbihiKXtiPWIuZGF0YS4kO1wiY2hlY2tlZFwiPT1iLnByb3BlcnR5TmFtZSYmdGhpcy5maXJlKFwiY2hhbmdlXCIse3ZhbHVlOmEuJC5jaGVja2VkfSl9LHRoaXMpfSx0aGlzKTt0aGlzLm9uKFwiY2hhbmdlXCIsYSk7cmV0dXJuIG51bGx9fSxrZXlib2FyZEZvY3VzYWJsZTohMH0sbiwhMCk7Q0tFRElUT1IudWkuZGlhbG9nLnJhZGlvLnByb3RvdHlwZT1DS0VESVRPUi50b29scy5leHRlbmQobmV3IENLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQse3NldFZhbHVlOmZ1bmN0aW9uKGIsYSl7Zm9yKHZhciBkPXRoaXMuXy5jaGlsZHJlbixlLGM9MDtjPGQubGVuZ3RoJiYoZT1kW2NdKTtjKyspZS5nZXRFbGVtZW50KCkuJC5jaGVja2VkPWUuZ2V0VmFsdWUoKT09YjshYSYmdGhpcy5maXJlKFwiY2hhbmdlXCIse3ZhbHVlOmJ9KX0sZ2V0VmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIGI9XG50aGlzLl8uY2hpbGRyZW4sYT0wO2E8Yi5sZW5ndGg7YSsrKWlmKGJbYV0uZ2V0RWxlbWVudCgpLiQuY2hlY2tlZClyZXR1cm4gYlthXS5nZXRWYWx1ZSgpO3JldHVybiBudWxsfSxhY2Nlc3NLZXlVcDpmdW5jdGlvbigpe3ZhciBiPXRoaXMuXy5jaGlsZHJlbixhO2ZvcihhPTA7YTxiLmxlbmd0aDthKyspaWYoYlthXS5nZXRFbGVtZW50KCkuJC5jaGVja2VkKXtiW2FdLmdldEVsZW1lbnQoKS5mb2N1cygpO3JldHVybn1iWzBdLmdldEVsZW1lbnQoKS5mb2N1cygpfSxldmVudFByb2Nlc3NvcnM6e29uQ2hhbmdlOmZ1bmN0aW9uKGIsYSl7aWYoQ0tFRElUT1IuZW52LmllKWIub24oXCJsb2FkXCIsZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5fLmNoaWxkcmVuLGI9dGhpcyxjPTA7YzxhLmxlbmd0aDtjKyspYVtjXS5nZXRFbGVtZW50KCkub24oXCJwcm9wZXJ0eWNoYW5nZVwiLGZ1bmN0aW9uKGEpe2E9YS5kYXRhLiQ7XCJjaGVja2VkXCI9PWEucHJvcGVydHlOYW1lJiZ0aGlzLiQuY2hlY2tlZCYmXG5iLmZpcmUoXCJjaGFuZ2VcIix7dmFsdWU6dGhpcy5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKX0pfSl9LHRoaXMpLHRoaXMub24oXCJjaGFuZ2VcIixhKTtlbHNlIHJldHVybiBvLm9uQ2hhbmdlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gbnVsbH19LGtleWJvYXJkRm9jdXNhYmxlOiEwfSxuLCEwKTtDS0VESVRPUi51aS5kaWFsb2cuZmlsZS5wcm90b3R5cGU9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKG5ldyBDS0VESVRPUi51aS5kaWFsb2cubGFiZWxlZEVsZW1lbnQsbix7Z2V0SW5wdXRFbGVtZW50OmZ1bmN0aW9uKCl7dmFyIGI9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZCh0aGlzLl8uZnJhbWVJZCkuZ2V0RnJhbWVEb2N1bWVudCgpO3JldHVybiAwPGIuJC5mb3Jtcy5sZW5ndGg/bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGIuJC5mb3Jtc1swXS5lbGVtZW50c1swXSk6dGhpcy5nZXRFbGVtZW50KCl9LHN1Ym1pdDpmdW5jdGlvbigpe3RoaXMuZ2V0SW5wdXRFbGVtZW50KCkuZ2V0UGFyZW50KCkuJC5zdWJtaXQoKTtcbnJldHVybiB0aGlzfSxnZXRBY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5nZXRQYXJlbnQoKS4kLmFjdGlvbn0scmVnaXN0ZXJFdmVudHM6ZnVuY3Rpb24oYil7dmFyIGE9L15vbihbQS1aXVxcdyspLyxkLGU9ZnVuY3Rpb24oYSxiLGMsZCl7YS5vbihcImZvcm1Mb2FkZWRcIixmdW5jdGlvbigpe2EuZ2V0SW5wdXRFbGVtZW50KCkub24oYyxkLGEpfSl9LGM7Zm9yKGMgaW4gYilpZihkPWMubWF0Y2goYSkpdGhpcy5ldmVudFByb2Nlc3NvcnNbY10/dGhpcy5ldmVudFByb2Nlc3NvcnNbY10uY2FsbCh0aGlzLHRoaXMuXy5kaWFsb2csYltjXSk6ZSh0aGlzLHRoaXMuXy5kaWFsb2csZFsxXS50b0xvd2VyQ2FzZSgpLGJbY10pO3JldHVybiB0aGlzfSxyZXNldDpmdW5jdGlvbigpe2Z1bmN0aW9uIGIoKXtkLiQub3BlbigpO0NLRURJVE9SLmVudi5pc0N1c3RvbURvbWFpbigpJiYoZC4kLmRvbWFpbj1kb2N1bWVudC5kb21haW4pO3ZhciBiPVwiXCI7ZS5zaXplJiZcbihiPWUuc2l6ZS0oQ0tFRElUT1IuZW52LmllPzc6MCkpO3ZhciBoPWEuZnJhbWVJZCtcIl9pbnB1dFwiO2QuJC53cml0ZShbJzxodG1sIGRpcj1cIicrZysnXCIgbGFuZz1cIicraisnXCI+PGhlYWQ+PHRpdGxlPjwvdGl0bGU+PC9oZWFkPjxib2R5IHN0eWxlPVwibWFyZ2luOiAwOyBvdmVyZmxvdzogaGlkZGVuOyBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcIj4nLCc8Zm9ybSBlbmN0eXBlPVwibXVsdGlwYXJ0L2Zvcm0tZGF0YVwiIG1ldGhvZD1cIlBPU1RcIiBkaXI9XCInK2crJ1wiIGxhbmc9XCInK2orJ1wiIGFjdGlvbj1cIicsQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShlLmFjdGlvbiksJ1wiPjxsYWJlbCBpZD1cIicsYS5sYWJlbElkLCdcIiBmb3I9XCInLGgsJ1wiIHN0eWxlPVwiZGlzcGxheTpub25lXCI+JyxDS0VESVRPUi50b29scy5odG1sRW5jb2RlKGUubGFiZWwpLCc8L2xhYmVsPjxpbnB1dCBpZD1cIicsaCwnXCIgYXJpYS1sYWJlbGxlZGJ5PVwiJyxhLmxhYmVsSWQsJ1wiIHR5cGU9XCJmaWxlXCIgbmFtZT1cIicsQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShlLmlkfHxcblwiY2tlX3VwbG9hZFwiKSwnXCIgc2l6ZT1cIicsQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZSgwPGI/YjpcIlwiKSwnXCIgLz48L2Zvcm0+PC9ib2R5PjwvaHRtbD4nLFwiPHNjcmlwdD53aW5kb3cucGFyZW50LkNLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbihcIitmK1wiKTtcIixcIndpbmRvdy5vbmJlZm9yZXVubG9hZCA9IGZ1bmN0aW9uKCkge3dpbmRvdy5wYXJlbnQuQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKFwiK2krXCIpfTxcXC9zY3JpcHQ+XCJdLmpvaW4oXCJcIikpO2QuJC5jbG9zZSgpO2ZvcihiPTA7YjxjLmxlbmd0aDtiKyspY1tiXS5lbmFibGUoKX12YXIgYT10aGlzLl8sZD1DS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKGEuZnJhbWVJZCkuZ2V0RnJhbWVEb2N1bWVudCgpLGU9YS5kZWZpbml0aW9uLGM9YS5idXR0b25zLGY9dGhpcy5mb3JtTG9hZGVkTnVtYmVyLGk9dGhpcy5mb3JtVW5sb2FkTnVtYmVyLGc9YS5kaWFsb2cuXy5lZGl0b3IubGFuZy5kaXIsaj1hLmRpYWxvZy5fLmVkaXRvci5sYW5nQ29kZTtcbmZ8fChmPXRoaXMuZm9ybUxvYWRlZE51bWJlcj1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbigpe3RoaXMuZmlyZShcImZvcm1Mb2FkZWRcIil9LHRoaXMpLGk9dGhpcy5mb3JtVW5sb2FkTnVtYmVyPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKCl7dGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5jbGVhckN1c3RvbURhdGEoKX0sdGhpcyksdGhpcy5nZXREaWFsb2coKS5fLmVkaXRvci5vbihcImRlc3Ryb3lcIixmdW5jdGlvbigpe0NLRURJVE9SLnRvb2xzLnJlbW92ZUZ1bmN0aW9uKGYpO0NLRURJVE9SLnRvb2xzLnJlbW92ZUZ1bmN0aW9uKGkpfSkpO0NLRURJVE9SLmVudi5nZWNrbz9zZXRUaW1lb3V0KGIsNTAwKTpiKCl9LGdldFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SW5wdXRFbGVtZW50KCkuJC52YWx1ZXx8XCJcIn0sc2V0SW5pdFZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fLmluaXRWYWx1ZT1cIlwifSxldmVudFByb2Nlc3NvcnM6e29uQ2hhbmdlOmZ1bmN0aW9uKGIsXG5hKXt0aGlzLl8uZG9tT25DaGFuZ2VSZWdpc3RlcmVkfHwodGhpcy5vbihcImZvcm1Mb2FkZWRcIixmdW5jdGlvbigpe3RoaXMuZ2V0SW5wdXRFbGVtZW50KCkub24oXCJjaGFuZ2VcIixmdW5jdGlvbigpe3RoaXMuZmlyZShcImNoYW5nZVwiLHt2YWx1ZTp0aGlzLmdldFZhbHVlKCl9KX0sdGhpcyl9LHRoaXMpLHRoaXMuXy5kb21PbkNoYW5nZVJlZ2lzdGVyZWQ9ITApO3RoaXMub24oXCJjaGFuZ2VcIixhKX19LGtleWJvYXJkRm9jdXNhYmxlOiEwfSwhMCk7Q0tFRElUT1IudWkuZGlhbG9nLmZpbGVCdXR0b24ucHJvdG90eXBlPW5ldyBDS0VESVRPUi51aS5kaWFsb2cuYnV0dG9uO0NLRURJVE9SLnVpLmRpYWxvZy5maWVsZHNldC5wcm90b3R5cGU9Q0tFRElUT1IudG9vbHMuY2xvbmUoQ0tFRElUT1IudWkuZGlhbG9nLmhib3gucHJvdG90eXBlKTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KFwidGV4dFwiLHIpO0NLRURJVE9SLmRpYWxvZy5hZGRVSUVsZW1lbnQoXCJwYXNzd29yZFwiLHIpO0NLRURJVE9SLmRpYWxvZy5hZGRVSUVsZW1lbnQoXCJ0ZXh0YXJlYVwiLFxubCk7Q0tFRElUT1IuZGlhbG9nLmFkZFVJRWxlbWVudChcImNoZWNrYm94XCIsbCk7Q0tFRElUT1IuZGlhbG9nLmFkZFVJRWxlbWVudChcInJhZGlvXCIsbCk7Q0tFRElUT1IuZGlhbG9nLmFkZFVJRWxlbWVudChcImJ1dHRvblwiLGwpO0NLRURJVE9SLmRpYWxvZy5hZGRVSUVsZW1lbnQoXCJzZWxlY3RcIixsKTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KFwiZmlsZVwiLGwpO0NLRURJVE9SLmRpYWxvZy5hZGRVSUVsZW1lbnQoXCJmaWxlQnV0dG9uXCIsbCk7Q0tFRElUT1IuZGlhbG9nLmFkZFVJRWxlbWVudChcImh0bWxcIixsKTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KFwiZmllbGRzZXRcIix7YnVpbGQ6ZnVuY3Rpb24oYixhLGQpe2Zvcih2YXIgZT1hLmNoaWxkcmVuLGMsZj1bXSxpPVtdLGc9MDtnPGUubGVuZ3RoJiYoYz1lW2ddKTtnKyspe3ZhciBoPVtdO2YucHVzaChoKTtpLnB1c2goQ0tFRElUT1IuZGlhbG9nLl8udWlFbGVtZW50QnVpbGRlcnNbYy50eXBlXS5idWlsZChiLGMsaCkpfXJldHVybiBuZXcgQ0tFRElUT1IudWkuZGlhbG9nW2EudHlwZV0oYixcbmksZixkLGEpfX0pfX0pO0NLRURJVE9SLkRJQUxPR19SRVNJWkVfTk9ORT0wO0NLRURJVE9SLkRJQUxPR19SRVNJWkVfV0lEVEg9MTtDS0VESVRPUi5ESUFMT0dfUkVTSVpFX0hFSUdIVD0yO0NLRURJVE9SLkRJQUxPR19SRVNJWkVfQk9USD0zO1xuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcCgpe2Zvcih2YXIgYT10aGlzLl8udGFiSWRMaXN0Lmxlbmd0aCxiPUNLRURJVE9SLnRvb2xzLmluZGV4T2YodGhpcy5fLnRhYklkTGlzdCx0aGlzLl8uY3VycmVudFRhYklkKSthLGM9Yi0xO2M+Yi1hO2MtLSlpZih0aGlzLl8udGFic1t0aGlzLl8udGFiSWRMaXN0W2MlYV1dWzBdLiQub2Zmc2V0SGVpZ2h0KXJldHVybiB0aGlzLl8udGFiSWRMaXN0W2MlYV07cmV0dXJuIG51bGx9ZnVuY3Rpb24gdSgpe2Zvcih2YXIgYT10aGlzLl8udGFiSWRMaXN0Lmxlbmd0aCxiPUNLRURJVE9SLnRvb2xzLmluZGV4T2YodGhpcy5fLnRhYklkTGlzdCx0aGlzLl8uY3VycmVudFRhYklkKSxjPWIrMTtjPGIrYTtjKyspaWYodGhpcy5fLnRhYnNbdGhpcy5fLnRhYklkTGlzdFtjJWFdXVswXS4kLm9mZnNldEhlaWdodClyZXR1cm4gdGhpcy5fLnRhYklkTGlzdFtjJWFdO3JldHVybiBudWxsfWZ1bmN0aW9uIHEoYSxiKXtmb3IodmFyIGM9YS4kLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaW5wdXRcIiksXG5lPTAsZD1jLmxlbmd0aDtlPGQ7ZSsrKXt2YXIgZz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoY1tlXSk7XCJ0ZXh0XCI9PWcuZ2V0QXR0cmlidXRlKFwidHlwZVwiKS50b0xvd2VyQ2FzZSgpJiYoYj8oZy5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLGcuZ2V0Q3VzdG9tRGF0YShcImZha2VfdmFsdWVcIil8fFwiXCIpLGcucmVtb3ZlQ3VzdG9tRGF0YShcImZha2VfdmFsdWVcIikpOihnLnNldEN1c3RvbURhdGEoXCJmYWtlX3ZhbHVlXCIsZy5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKSksZy5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLFwiXCIpKSl9fWZ1bmN0aW9uIFAoYSxiKXt2YXIgYz10aGlzLmdldElucHV0RWxlbWVudCgpO2MmJihhP2MucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1pbnZhbGlkXCIpOmMuc2V0QXR0cmlidXRlKFwiYXJpYS1pbnZhbGlkXCIsITApKTthfHwodGhpcy5zZWxlY3Q/dGhpcy5zZWxlY3QoKTp0aGlzLmZvY3VzKCkpO2ImJmFsZXJ0KGIpO3RoaXMuZmlyZShcInZhbGlkYXRlZFwiLHt2YWxpZDphLG1zZzpifSl9XG5mdW5jdGlvbiBRKCl7dmFyIGE9dGhpcy5nZXRJbnB1dEVsZW1lbnQoKTthJiZhLnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtaW52YWxpZFwiKX1mdW5jdGlvbiBSKGEpe3ZhciBhPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKENLRURJVE9SLmFkZFRlbXBsYXRlKFwiZGlhbG9nXCIsUykub3V0cHV0KHtpZDpDS0VESVRPUi50b29scy5nZXROZXh0TnVtYmVyKCksZWRpdG9ySWQ6YS5pZCxsYW5nRGlyOmEubGFuZy5kaXIsbGFuZ0NvZGU6YS5sYW5nQ29kZSxlZGl0b3JEaWFsb2dDbGFzczpcImNrZV9lZGl0b3JfXCIrYS5uYW1lLnJlcGxhY2UoL1xcLi9nLFwiXFxcXC5cIikrXCJfZGlhbG9nXCIsY2xvc2VUaXRsZTphLmxhbmcuY29tbW9uLmNsb3NlfSkpLGI9YS5nZXRDaGlsZChbMCwwLDAsMCwwXSksYz1iLmdldENoaWxkKDApLGU9Yi5nZXRDaGlsZCgxKTtpZihDS0VESVRPUi5lbnYuaWUmJiFDS0VESVRPUi5lbnYuaWU2Q29tcGF0KXt2YXIgZD1DS0VESVRPUi5lbnYuaXNDdXN0b21Eb21haW4oKSxcbmQ9XCJqYXZhc2NyaXB0OnZvaWQoZnVuY3Rpb24oKXtcIitlbmNvZGVVUklDb21wb25lbnQoXCJkb2N1bWVudC5vcGVuKCk7XCIrKGQ/J2RvY3VtZW50LmRvbWFpbj1cIicrZG9jdW1lbnQuZG9tYWluKydcIjsnOlwiXCIpK1wiZG9jdW1lbnQuY2xvc2UoKTtcIikrXCJ9KCkpXCI7Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoJzxpZnJhbWUgZnJhbWVCb3JkZXI9XCIwXCIgY2xhc3M9XCJja2VfaWZyYW1lX3NoaW1cIiBzcmM9XCInK2QrJ1wiIHRhYkluZGV4PVwiLTFcIj48L2lmcmFtZT4nKS5hcHBlbmRUbyhiLmdldFBhcmVudCgpKX1jLnVuc2VsZWN0YWJsZSgpO2UudW5zZWxlY3RhYmxlKCk7cmV0dXJue2VsZW1lbnQ6YSxwYXJ0czp7ZGlhbG9nOmEuZ2V0Q2hpbGQoMCksdGl0bGU6YyxjbG9zZTplLHRhYnM6Yi5nZXRDaGlsZCgyKSxjb250ZW50czpiLmdldENoaWxkKFszLDAsMCwwXSksZm9vdGVyOmIuZ2V0Q2hpbGQoWzMsMCwxLDBdKX19fWZ1bmN0aW9uIEgoYSxiLGMpe3RoaXMuZWxlbWVudD1iO1xudGhpcy5mb2N1c0luZGV4PWM7dGhpcy50YWJJbmRleD0wO3RoaXMuaXNGb2N1c2FibGU9ZnVuY3Rpb24oKXtyZXR1cm4hYi5nZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKSYmYi5pc1Zpc2libGUoKX07dGhpcy5mb2N1cz1mdW5jdGlvbigpe2EuXy5jdXJyZW50Rm9jdXNJbmRleD10aGlzLmZvY3VzSW5kZXg7dGhpcy5lbGVtZW50LmZvY3VzKCl9O2Iub24oXCJrZXlkb3duXCIsZnVuY3Rpb24oYSl7YS5kYXRhLmdldEtleXN0cm9rZSgpaW57MzI6MSwxMzoxfSYmdGhpcy5maXJlKFwiY2xpY2tcIil9KTtiLm9uKFwiZm9jdXNcIixmdW5jdGlvbigpe3RoaXMuZmlyZShcIm1vdXNlb3ZlclwiKX0pO2Iub24oXCJibHVyXCIsZnVuY3Rpb24oKXt0aGlzLmZpcmUoXCJtb3VzZW91dFwiKX0pfWZ1bmN0aW9uIFQoYSl7ZnVuY3Rpb24gYigpe2EubGF5b3V0KCl9dmFyIGM9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCk7Yy5vbihcInJlc2l6ZVwiLGIpO2Eub24oXCJoaWRlXCIsZnVuY3Rpb24oKXtjLnJlbW92ZUxpc3RlbmVyKFwicmVzaXplXCIsXG5iKX0pfWZ1bmN0aW9uIEkoYSxiKXt0aGlzLl89e2RpYWxvZzphfTtDS0VESVRPUi50b29scy5leHRlbmQodGhpcyxiKX1mdW5jdGlvbiBVKGEpe2Z1bmN0aW9uIGIoYil7dmFyIGM9YS5nZXRTaXplKCksaD1DS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKS5nZXRWaWV3UGFuZVNpemUoKSxvPWIuZGF0YS4kLnNjcmVlblgsaT1iLmRhdGEuJC5zY3JlZW5ZLG49by1lLngsbD1pLWUueTtlPXt4Om8seTppfTtkLngrPW47ZC55Kz1sO2EubW92ZShkLngra1szXTxmPy1rWzNdOmQueC1rWzFdPmgud2lkdGgtYy53aWR0aC1mP2gud2lkdGgtYy53aWR0aCsoXCJydGxcIj09Zy5sYW5nLmRpcj8wOmtbMV0pOmQueCxkLnkra1swXTxmPy1rWzBdOmQueS1rWzJdPmguaGVpZ2h0LWMuaGVpZ2h0LWY/aC5oZWlnaHQtYy5oZWlnaHQra1syXTpkLnksMSk7Yi5kYXRhLnByZXZlbnREZWZhdWx0KCl9ZnVuY3Rpb24gYygpe0NLRURJVE9SLmRvY3VtZW50LnJlbW92ZUxpc3RlbmVyKFwibW91c2Vtb3ZlXCIsXG5iKTtDS0VESVRPUi5kb2N1bWVudC5yZW1vdmVMaXN0ZW5lcihcIm1vdXNldXBcIixjKTtpZihDS0VESVRPUi5lbnYuaWU2Q29tcGF0KXt2YXIgYT1yLmdldENoaWxkKDApLmdldEZyYW1lRG9jdW1lbnQoKTthLnJlbW92ZUxpc3RlbmVyKFwibW91c2Vtb3ZlXCIsYik7YS5yZW1vdmVMaXN0ZW5lcihcIm1vdXNldXBcIixjKX19dmFyIGU9bnVsbCxkPW51bGw7YS5nZXRFbGVtZW50KCkuZ2V0Rmlyc3QoKTt2YXIgZz1hLmdldFBhcmVudEVkaXRvcigpLGY9Zy5jb25maWcuZGlhbG9nX21hZ25ldERpc3RhbmNlLGs9Q0tFRElUT1Iuc2tpbi5tYXJnaW5zfHxbMCwwLDAsMF07XCJ1bmRlZmluZWRcIj09dHlwZW9mIGYmJihmPTIwKTthLnBhcnRzLnRpdGxlLm9uKFwibW91c2Vkb3duXCIsZnVuY3Rpb24oZil7ZT17eDpmLmRhdGEuJC5zY3JlZW5YLHk6Zi5kYXRhLiQuc2NyZWVuWX07Q0tFRElUT1IuZG9jdW1lbnQub24oXCJtb3VzZW1vdmVcIixiKTtDS0VESVRPUi5kb2N1bWVudC5vbihcIm1vdXNldXBcIixjKTtkPVxuYS5nZXRQb3NpdGlvbigpO2lmKENLRURJVE9SLmVudi5pZTZDb21wYXQpe3ZhciBnPXIuZ2V0Q2hpbGQoMCkuZ2V0RnJhbWVEb2N1bWVudCgpO2cub24oXCJtb3VzZW1vdmVcIixiKTtnLm9uKFwibW91c2V1cFwiLGMpfWYuZGF0YS5wcmV2ZW50RGVmYXVsdCgpfSxhKX1mdW5jdGlvbiBWKGEpe3ZhciBiLGM7ZnVuY3Rpb24gZShkKXt2YXIgZT1cInJ0bFwiPT1rLmxhbmcuZGlyLGk9by53aWR0aCxEPW8uaGVpZ2h0LEU9aSsoZC5kYXRhLiQuc2NyZWVuWC1iKSooZT8tMToxKSooYS5fLm1vdmVkPzE6Miksbj1EKyhkLmRhdGEuJC5zY3JlZW5ZLWMpKihhLl8ubW92ZWQ/MToyKSx4PWEuXy5lbGVtZW50LmdldEZpcnN0KCkseD1lJiZ4LmdldENvbXB1dGVkU3R5bGUoXCJyaWdodFwiKSx5PWEuZ2V0UG9zaXRpb24oKTt5Lnkrbj5oLmhlaWdodCYmKG49aC5oZWlnaHQteS55KTtpZigoZT94OnkueCkrRT5oLndpZHRoKUU9aC53aWR0aC0oZT94OnkueCk7aWYoZj09Q0tFRElUT1IuRElBTE9HX1JFU0laRV9XSURUSHx8XG5mPT1DS0VESVRPUi5ESUFMT0dfUkVTSVpFX0JPVEgpaT1NYXRoLm1heChnLm1pbldpZHRofHwwLEUtbSk7aWYoZj09Q0tFRElUT1IuRElBTE9HX1JFU0laRV9IRUlHSFR8fGY9PUNLRURJVE9SLkRJQUxPR19SRVNJWkVfQk9USClEPU1hdGgubWF4KGcubWluSGVpZ2h0fHwwLG4taik7YS5yZXNpemUoaSxEKTthLl8ubW92ZWR8fGEubGF5b3V0KCk7ZC5kYXRhLnByZXZlbnREZWZhdWx0KCl9ZnVuY3Rpb24gZCgpe0NLRURJVE9SLmRvY3VtZW50LnJlbW92ZUxpc3RlbmVyKFwibW91c2V1cFwiLGQpO0NLRURJVE9SLmRvY3VtZW50LnJlbW92ZUxpc3RlbmVyKFwibW91c2Vtb3ZlXCIsZSk7aSYmKGkucmVtb3ZlKCksaT1udWxsKTtpZihDS0VESVRPUi5lbnYuaWU2Q29tcGF0KXt2YXIgYT1yLmdldENoaWxkKDApLmdldEZyYW1lRG9jdW1lbnQoKTthLnJlbW92ZUxpc3RlbmVyKFwibW91c2V1cFwiLGQpO2EucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZW1vdmVcIixlKX19dmFyIGc9YS5kZWZpbml0aW9uLGY9Zy5yZXNpemFibGU7XG5pZihmIT1DS0VESVRPUi5ESUFMT0dfUkVTSVpFX05PTkUpe3ZhciBrPWEuZ2V0UGFyZW50RWRpdG9yKCksbSxqLGgsbyxpLG49Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oZil7bz1hLmdldFNpemUoKTt2YXIgZz1hLnBhcnRzLmNvbnRlbnRzO2cuJC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImlmcmFtZVwiKS5sZW5ndGgmJihpPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKCc8ZGl2IGNsYXNzPVwiY2tlX2RpYWxvZ19yZXNpemVfY292ZXJcIiBzdHlsZT1cImhlaWdodDogMTAwJTsgcG9zaXRpb246IGFic29sdXRlOyB3aWR0aDogMTAwJTtcIj48L2Rpdj4nKSxnLmFwcGVuZChpKSk7aj1vLmhlaWdodC1hLnBhcnRzLmNvbnRlbnRzLmdldFNpemUoXCJoZWlnaHRcIiwhKENLRURJVE9SLmVudi5nZWNrb3x8Q0tFRElUT1IuZW52Lm9wZXJhfHxDS0VESVRPUi5lbnYuaWUmJkNLRURJVE9SLmVudi5xdWlya3MpKTttPW8ud2lkdGgtYS5wYXJ0cy5jb250ZW50cy5nZXRTaXplKFwid2lkdGhcIixcbjEpO2I9Zi5zY3JlZW5YO2M9Zi5zY3JlZW5ZO2g9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCkuZ2V0Vmlld1BhbmVTaXplKCk7Q0tFRElUT1IuZG9jdW1lbnQub24oXCJtb3VzZW1vdmVcIixlKTtDS0VESVRPUi5kb2N1bWVudC5vbihcIm1vdXNldXBcIixkKTtDS0VESVRPUi5lbnYuaWU2Q29tcGF0JiYoZz1yLmdldENoaWxkKDApLmdldEZyYW1lRG9jdW1lbnQoKSxnLm9uKFwibW91c2Vtb3ZlXCIsZSksZy5vbihcIm1vdXNldXBcIixkKSk7Zi5wcmV2ZW50RGVmYXVsdCYmZi5wcmV2ZW50RGVmYXVsdCgpfSk7YS5vbihcImxvYWRcIixmdW5jdGlvbigpe3ZhciBiPVwiXCI7Zj09Q0tFRElUT1IuRElBTE9HX1JFU0laRV9XSURUSD9iPVwiIGNrZV9yZXNpemVyX2hvcml6b250YWxcIjpmPT1DS0VESVRPUi5ESUFMT0dfUkVTSVpFX0hFSUdIVCYmKGI9XCIgY2tlX3Jlc2l6ZXJfdmVydGljYWxcIik7Yj1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCgnPGRpdiBjbGFzcz1cImNrZV9yZXNpemVyJytcbmIrXCIgY2tlX3Jlc2l6ZXJfXCIray5sYW5nLmRpcisnXCIgdGl0bGU9XCInK0NLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoay5sYW5nLmNvbW1vbi5yZXNpemUpKydcIiBvbm1vdXNlZG93bj1cIkNLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbignK24rJywgZXZlbnQgKVwiPicrKFwibHRyXCI9PWsubGFuZy5kaXI/XCLil6JcIjpcIuKXo1wiKStcIjwvZGl2PlwiKTthLnBhcnRzLmZvb3Rlci5hcHBlbmQoYiwxKX0pO2sub24oXCJkZXN0cm95XCIsZnVuY3Rpb24oKXtDS0VESVRPUi50b29scy5yZW1vdmVGdW5jdGlvbihuKX0pfX1mdW5jdGlvbiBGKGEpe2EuZGF0YS5wcmV2ZW50RGVmYXVsdCgxKX1mdW5jdGlvbiBKKGEpe3ZhciBiPUNLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpLGM9YS5jb25maWcsZT1jLmRpYWxvZ19iYWNrZ3JvdW5kQ292ZXJDb2xvcnx8XCJ3aGl0ZVwiLGQ9Yy5kaWFsb2dfYmFja2dyb3VuZENvdmVyT3BhY2l0eSxnPWMuYmFzZUZsb2F0WkluZGV4LGM9Q0tFRElUT1IudG9vbHMuZ2VuS2V5KGUsXG5kLGcpLGY9d1tjXTtpZihmKWYuc2hvdygpO2Vsc2V7Zz1bJzxkaXYgdGFiSW5kZXg9XCItMVwiIHN0eWxlPVwicG9zaXRpb246ICcsQ0tFRElUT1IuZW52LmllNkNvbXBhdD9cImFic29sdXRlXCI6XCJmaXhlZFwiLFwiOyB6LWluZGV4OiBcIixnLFwiOyB0b3A6IDBweDsgbGVmdDogMHB4OyBcIiwhQ0tFRElUT1IuZW52LmllNkNvbXBhdD9cImJhY2tncm91bmQtY29sb3I6IFwiK2U6XCJcIiwnXCIgY2xhc3M9XCJja2VfZGlhbG9nX2JhY2tncm91bmRfY292ZXJcIj4nXTtpZihDS0VESVRPUi5lbnYuaWU2Q29tcGF0KXt2YXIgaz1DS0VESVRPUi5lbnYuaXNDdXN0b21Eb21haW4oKSxlPVwiPGh0bWw+PGJvZHkgc3R5bGU9XFxcXCdiYWNrZ3JvdW5kLWNvbG9yOlwiK2UrXCI7XFxcXCc+PC9ib2R5PjwvaHRtbD5cIjtnLnB1c2goJzxpZnJhbWUgaGlkZWZvY3VzPVwidHJ1ZVwiIGZyYW1lYm9yZGVyPVwiMFwiIGlkPVwiY2tlX2RpYWxvZ19iYWNrZ3JvdW5kX2lmcmFtZVwiIHNyYz1cImphdmFzY3JpcHQ6Jyk7Zy5wdXNoKFwidm9pZCgoZnVuY3Rpb24oKXtkb2N1bWVudC5vcGVuKCk7XCIrXG4oaz9cImRvY3VtZW50LmRvbWFpbj0nXCIrZG9jdW1lbnQuZG9tYWluK1wiJztcIjpcIlwiKStcImRvY3VtZW50LndyaXRlKCAnXCIrZStcIicgKTtkb2N1bWVudC5jbG9zZSgpO30pKCkpXCIpO2cucHVzaCgnXCIgc3R5bGU9XCJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjA7d2lkdGg6MTAwJTtoZWlnaHQ6IDEwMCU7ZmlsdGVyOiBwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuQWxwaGEob3BhY2l0eT0wKVwiPjwvaWZyYW1lPicpfWcucHVzaChcIjwvZGl2PlwiKTtmPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKGcuam9pbihcIlwiKSk7Zi5zZXRPcGFjaXR5KHZvaWQgMCE9ZD9kOjAuNSk7Zi5vbihcImtleWRvd25cIixGKTtmLm9uKFwia2V5cHJlc3NcIixGKTtmLm9uKFwia2V5dXBcIixGKTtmLmFwcGVuZFRvKENLRURJVE9SLmRvY3VtZW50LmdldEJvZHkoKSk7d1tjXT1mfWEuZm9jdXNNYW5hZ2VyLmFkZChmKTtyPWY7dmFyIGE9ZnVuY3Rpb24oKXt2YXIgYT1iLmdldFZpZXdQYW5lU2l6ZSgpO1xuZi5zZXRTdHlsZXMoe3dpZHRoOmEud2lkdGgrXCJweFwiLGhlaWdodDphLmhlaWdodCtcInB4XCJ9KX0sbT1mdW5jdGlvbigpe3ZhciBhPWIuZ2V0U2Nyb2xsUG9zaXRpb24oKSxjPUNLRURJVE9SLmRpYWxvZy5fLmN1cnJlbnRUb3A7Zi5zZXRTdHlsZXMoe2xlZnQ6YS54K1wicHhcIix0b3A6YS55K1wicHhcIn0pO2lmKGMpe2RvIGE9Yy5nZXRQb3NpdGlvbigpLGMubW92ZShhLngsYS55KTt3aGlsZShjPWMuXy5wYXJlbnREaWFsb2cpfX07Rz1hO2Iub24oXCJyZXNpemVcIixhKTthKCk7KCFDS0VESVRPUi5lbnYubWFjfHwhQ0tFRElUT1IuZW52LndlYmtpdCkmJmYuZm9jdXMoKTtpZihDS0VESVRPUi5lbnYuaWU2Q29tcGF0KXt2YXIgaj1mdW5jdGlvbigpe20oKTthcmd1bWVudHMuY2FsbGVlLnByZXZTY3JvbGxIYW5kbGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07Yi4kLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtqLnByZXZTY3JvbGxIYW5kbGVyPXdpbmRvdy5vbnNjcm9sbHx8ZnVuY3Rpb24oKXt9O1xud2luZG93Lm9uc2Nyb2xsPWp9LDApO20oKX19ZnVuY3Rpb24gSyhhKXtyJiYoYS5mb2N1c01hbmFnZXIucmVtb3ZlKHIpLGE9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCksci5oaWRlKCksYS5yZW1vdmVMaXN0ZW5lcihcInJlc2l6ZVwiLEcpLENLRURJVE9SLmVudi5pZTZDb21wYXQmJmEuJC5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7d2luZG93Lm9uc2Nyb2xsPXdpbmRvdy5vbnNjcm9sbCYmd2luZG93Lm9uc2Nyb2xsLnByZXZTY3JvbGxIYW5kbGVyfHxudWxsfSwwKSxHPW51bGwpfXZhciBzPUNLRURJVE9SLnRvb2xzLmNzc0xlbmd0aCxTPSc8ZGl2IGNsYXNzPVwiY2tlIGNrZV9yZXNldF9hbGwge2VkaXRvcklkfSB7ZWRpdG9yRGlhbG9nQ2xhc3N9XCIgZGlyPVwie2xhbmdEaXJ9XCIgbGFuZz1cIntsYW5nQ29kZX1cIiByb2xlPVwiYXBwbGljYXRpb25cIj48dGFibGUgY2xhc3M9XCJja2VfZGlhbG9nICcrQ0tFRElUT1IuZW52LmNzc0NsYXNzKycgY2tlX3tsYW5nRGlyfVwiIGFyaWEtbGFiZWxsZWRieT1cImNrZV9kaWFsb2dfdGl0bGVfe2lkfVwiIHN0eWxlPVwicG9zaXRpb246YWJzb2x1dGVcIiByb2xlPVwiZGlhbG9nXCI+PHRyPjx0ZCByb2xlPVwicHJlc2VudGF0aW9uXCI+PGRpdiBjbGFzcz1cImNrZV9kaWFsb2dfYm9keVwiIHJvbGU9XCJwcmVzZW50YXRpb25cIj48ZGl2IGlkPVwiY2tlX2RpYWxvZ190aXRsZV97aWR9XCIgY2xhc3M9XCJja2VfZGlhbG9nX3RpdGxlXCIgcm9sZT1cInByZXNlbnRhdGlvblwiPjwvZGl2PjxhIGlkPVwiY2tlX2RpYWxvZ19jbG9zZV9idXR0b25fe2lkfVwiIGNsYXNzPVwiY2tlX2RpYWxvZ19jbG9zZV9idXR0b25cIiBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCIgdGl0bGU9XCJ7Y2xvc2VUaXRsZX1cIiByb2xlPVwiYnV0dG9uXCI+PHNwYW4gY2xhc3M9XCJja2VfbGFiZWxcIj5YPC9zcGFuPjwvYT48ZGl2IGlkPVwiY2tlX2RpYWxvZ190YWJzX3tpZH1cIiBjbGFzcz1cImNrZV9kaWFsb2dfdGFic1wiIHJvbGU9XCJ0YWJsaXN0XCI+PC9kaXY+PHRhYmxlIGNsYXNzPVwiY2tlX2RpYWxvZ19jb250ZW50c1wiIHJvbGU9XCJwcmVzZW50YXRpb25cIj48dHI+PHRkIGlkPVwiY2tlX2RpYWxvZ19jb250ZW50c197aWR9XCIgY2xhc3M9XCJja2VfZGlhbG9nX2NvbnRlbnRzX2JvZHlcIiByb2xlPVwicHJlc2VudGF0aW9uXCI+PC90ZD48L3RyPjx0cj48dGQgaWQ9XCJja2VfZGlhbG9nX2Zvb3Rlcl97aWR9XCIgY2xhc3M9XCJja2VfZGlhbG9nX2Zvb3RlclwiIHJvbGU9XCJwcmVzZW50YXRpb25cIj48L3RkPjwvdHI+PC90YWJsZT48L2Rpdj48L3RkPjwvdHI+PC90YWJsZT48L2Rpdj4nO1xuQ0tFRElUT1IuZGlhbG9nPWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYygpe3ZhciBhPWwuXy5mb2N1c0xpc3Q7YS5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEudGFiSW5kZXghPWIudGFiSW5kZXg/Yi50YWJJbmRleC1hLnRhYkluZGV4OmEuZm9jdXNJbmRleC1iLmZvY3VzSW5kZXh9KTtmb3IodmFyIGI9YS5sZW5ndGgsYz0wO2M8YjtjKyspYVtjXS5mb2N1c0luZGV4PWN9ZnVuY3Rpb24gZShhKXt2YXIgYj1sLl8uZm9jdXNMaXN0LGE9YXx8MDtpZighKDE+Yi5sZW5ndGgpKXt2YXIgYz1sLl8uY3VycmVudEZvY3VzSW5kZXg7dHJ5e2JbY10uZ2V0SW5wdXRFbGVtZW50KCkuJC5ibHVyKCl9Y2F0Y2goZCl7fWZvcih2YXIgZj1jPShjK2ErYi5sZW5ndGgpJWIubGVuZ3RoO2EmJiFiW2ZdLmlzRm9jdXNhYmxlKCkmJiEoZj0oZithK2IubGVuZ3RoKSViLmxlbmd0aCxmPT1jKTspO2JbZl0uZm9jdXMoKTtcInRleHRcIj09YltmXS50eXBlJiZiW2ZdLnNlbGVjdCgpfX1mdW5jdGlvbiBkKGIpe2lmKGw9PVxuQ0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFRvcCl7dmFyIGM9Yi5kYXRhLmdldEtleXN0cm9rZSgpLGY9XCJydGxcIj09YS5sYW5nLmRpcjtvPWk9MDtpZig5PT1jfHxjPT1DS0VESVRPUi5TSElGVCs5KWM9Yz09Q0tFRElUT1IuU0hJRlQrOSxsLl8udGFiQmFyTW9kZT8oYz1jP3AuY2FsbChsKTp1LmNhbGwobCksbC5zZWxlY3RQYWdlKGMpLGwuXy50YWJzW2NdWzBdLmZvY3VzKCkpOmUoYz8tMToxKSxvPTE7ZWxzZSBpZihjPT1DS0VESVRPUi5BTFQrMTIxJiYhbC5fLnRhYkJhck1vZGUmJjE8bC5nZXRQYWdlQ291bnQoKSlsLl8udGFiQmFyTW9kZT0hMCxsLl8udGFic1tsLl8uY3VycmVudFRhYklkXVswXS5mb2N1cygpLG89MTtlbHNlIGlmKCgzNz09Y3x8Mzk9PWMpJiZsLl8udGFiQmFyTW9kZSljPWM9PShmPzM5OjM3KT9wLmNhbGwobCk6dS5jYWxsKGwpLGwuc2VsZWN0UGFnZShjKSxsLl8udGFic1tjXVswXS5mb2N1cygpLG89MTtlbHNlIGlmKCgxMz09Y3x8MzI9PWMpJiZsLl8udGFiQmFyTW9kZSl0aGlzLnNlbGVjdFBhZ2UodGhpcy5fLmN1cnJlbnRUYWJJZCksXG50aGlzLl8udGFiQmFyTW9kZT0hMSx0aGlzLl8uY3VycmVudEZvY3VzSW5kZXg9LTEsZSgxKSxvPTE7ZWxzZSBpZigxMz09Yyl7Yz1iLmRhdGEuZ2V0VGFyZ2V0KCk7aWYoIWMuaXMoXCJhXCIsXCJidXR0b25cIixcInNlbGVjdFwiLFwidGV4dGFyZWFcIikmJighYy5pcyhcImlucHV0XCIpfHxcImJ1dHRvblwiIT1jLiQudHlwZSkpKGM9dGhpcy5nZXRCdXR0b24oXCJva1wiKSkmJkNLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoYy5jbGljaywwLGMpLG89MTtpPTF9ZWxzZSBpZigyNz09YykoYz10aGlzLmdldEJ1dHRvbihcImNhbmNlbFwiKSk/Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChjLmNsaWNrLDAsYyk6ITEhPT10aGlzLmZpcmUoXCJjYW5jZWxcIix7aGlkZTohMH0pLmhpZGUmJnRoaXMuaGlkZSgpLGk9MTtlbHNlIHJldHVybjtnKGIpfX1mdW5jdGlvbiBnKGEpe28/YS5kYXRhLnByZXZlbnREZWZhdWx0KDEpOmkmJmEuZGF0YS5zdG9wUHJvcGFnYXRpb24oKX12YXIgZj1DS0VESVRPUi5kaWFsb2cuXy5kaWFsb2dEZWZpbml0aW9uc1tiXSxcbms9Q0tFRElUT1IudG9vbHMuY2xvbmUoVyksbT1hLmNvbmZpZy5kaWFsb2dfYnV0dG9uc09yZGVyfHxcIk9TXCIsaj1hLmxhbmcuZGlyLGg9e30sbyxpOyhcIk9TXCI9PW0mJkNLRURJVE9SLmVudi5tYWN8fFwicnRsXCI9PW0mJlwibHRyXCI9PWp8fFwibHRyXCI9PW0mJlwicnRsXCI9PWopJiZrLmJ1dHRvbnMucmV2ZXJzZSgpO2Y9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKGYoYSksayk7Zj1DS0VESVRPUi50b29scy5jbG9uZShmKTtmPW5ldyBMKHRoaXMsZik7az1SKGEpO3RoaXMuXz17ZWRpdG9yOmEsZWxlbWVudDprLmVsZW1lbnQsbmFtZTpiLGNvbnRlbnRTaXplOnt3aWR0aDowLGhlaWdodDowfSxzaXplOnt3aWR0aDowLGhlaWdodDowfSxjb250ZW50czp7fSxidXR0b25zOnt9LGFjY2Vzc0tleU1hcDp7fSx0YWJzOnt9LHRhYklkTGlzdDpbXSxjdXJyZW50VGFiSWQ6bnVsbCxjdXJyZW50VGFiSW5kZXg6bnVsbCxwYWdlQ291bnQ6MCxsYXN0VGFiOm51bGwsdGFiQmFyTW9kZTohMSxmb2N1c0xpc3Q6W10sXG5jdXJyZW50Rm9jdXNJbmRleDowLGhhc0ZvY3VzOiExfTt0aGlzLnBhcnRzPWsucGFydHM7Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChmdW5jdGlvbigpe2EuZmlyZShcImFyaWFXaWRnZXRcIix0aGlzLnBhcnRzLmNvbnRlbnRzKX0sMCx0aGlzKTtrPXtwb3NpdGlvbjpDS0VESVRPUi5lbnYuaWU2Q29tcGF0P1wiYWJzb2x1dGVcIjpcImZpeGVkXCIsdG9wOjAsdmlzaWJpbGl0eTpcImhpZGRlblwifTtrW1wicnRsXCI9PWo/XCJyaWdodFwiOlwibGVmdFwiXT0wO3RoaXMucGFydHMuZGlhbG9nLnNldFN0eWxlcyhrKTtDS0VESVRPUi5ldmVudC5jYWxsKHRoaXMpO3RoaXMuZGVmaW5pdGlvbj1mPUNLRURJVE9SLmZpcmUoXCJkaWFsb2dEZWZpbml0aW9uXCIse25hbWU6YixkZWZpbml0aW9uOmZ9LGEpLmRlZmluaXRpb247aWYoIShcInJlbW92ZURpYWxvZ1RhYnNcImluIGEuXykmJmEuY29uZmlnLnJlbW92ZURpYWxvZ1RhYnMpe2s9YS5jb25maWcucmVtb3ZlRGlhbG9nVGFicy5zcGxpdChcIjtcIik7Zm9yKGo9MDtqPFxuay5sZW5ndGg7aisrKWlmKG09a1tqXS5zcGxpdChcIjpcIiksMj09bS5sZW5ndGgpe3ZhciBuPW1bMF07aFtuXXx8KGhbbl09W10pO2hbbl0ucHVzaChtWzFdKX1hLl8ucmVtb3ZlRGlhbG9nVGFicz1ofWlmKGEuXy5yZW1vdmVEaWFsb2dUYWJzJiYoaD1hLl8ucmVtb3ZlRGlhbG9nVGFic1tiXSkpZm9yKGo9MDtqPGgubGVuZ3RoO2orKylmLnJlbW92ZUNvbnRlbnRzKGhbal0pO2lmKGYub25Mb2FkKXRoaXMub24oXCJsb2FkXCIsZi5vbkxvYWQpO2lmKGYub25TaG93KXRoaXMub24oXCJzaG93XCIsZi5vblNob3cpO2lmKGYub25IaWRlKXRoaXMub24oXCJoaWRlXCIsZi5vbkhpZGUpO2lmKGYub25Payl0aGlzLm9uKFwib2tcIixmdW5jdGlvbihiKXthLmZpcmUoXCJzYXZlU25hcHNob3RcIik7c2V0VGltZW91dChmdW5jdGlvbigpe2EuZmlyZShcInNhdmVTbmFwc2hvdFwiKX0sMCk7ITE9PT1mLm9uT2suY2FsbCh0aGlzLGIpJiYoYi5kYXRhLmhpZGU9ITEpfSk7aWYoZi5vbkNhbmNlbCl0aGlzLm9uKFwiY2FuY2VsXCIsXG5mdW5jdGlvbihhKXshMT09PWYub25DYW5jZWwuY2FsbCh0aGlzLGEpJiYoYS5kYXRhLmhpZGU9ITEpfSk7dmFyIGw9dGhpcyxDPWZ1bmN0aW9uKGEpe3ZhciBiPWwuXy5jb250ZW50cyxjPSExLGY7Zm9yKGYgaW4gYilmb3IodmFyIGQgaW4gYltmXSlpZihjPWEuY2FsbCh0aGlzLGJbZl1bZF0pKXJldHVybn07dGhpcy5vbihcIm9rXCIsZnVuY3Rpb24oYSl7QyhmdW5jdGlvbihiKXtpZihiLnZhbGlkYXRlKXt2YXIgYz1iLnZhbGlkYXRlKHRoaXMpLGY9XCJzdHJpbmdcIj09dHlwZW9mIGN8fCExPT09YztmJiYoYS5kYXRhLmhpZGU9ITEsYS5zdG9wKCkpO1AuY2FsbChiLCFmLFwic3RyaW5nXCI9PXR5cGVvZiBjP2M6dm9pZCAwKTtyZXR1cm4gZn19KX0sdGhpcyxudWxsLDApO3RoaXMub24oXCJjYW5jZWxcIixmdW5jdGlvbihiKXtDKGZ1bmN0aW9uKGMpe2lmKGMuaXNDaGFuZ2VkKCkpcmV0dXJuIGNvbmZpcm0oYS5sYW5nLmNvbW1vbi5jb25maXJtQ2FuY2VsKXx8KGIuZGF0YS5oaWRlPSExKSwhMH0pfSxcbnRoaXMsbnVsbCwwKTt0aGlzLnBhcnRzLmNsb3NlLm9uKFwiY2xpY2tcIixmdW5jdGlvbihhKXshMSE9PXRoaXMuZmlyZShcImNhbmNlbFwiLHtoaWRlOiEwfSkuaGlkZSYmdGhpcy5oaWRlKCk7YS5kYXRhLnByZXZlbnREZWZhdWx0KCl9LHRoaXMpO3RoaXMuY2hhbmdlRm9jdXM9ZTt2YXIgdj10aGlzLl8uZWxlbWVudDthLmZvY3VzTWFuYWdlci5hZGQodiwxKTt0aGlzLm9uKFwic2hvd1wiLGZ1bmN0aW9uKCl7di5vbihcImtleWRvd25cIixkLHRoaXMpO2lmKENLRURJVE9SLmVudi5vcGVyYXx8Q0tFRElUT1IuZW52LmdlY2tvKXYub24oXCJrZXlwcmVzc1wiLGcsdGhpcyl9KTt0aGlzLm9uKFwiaGlkZVwiLGZ1bmN0aW9uKCl7di5yZW1vdmVMaXN0ZW5lcihcImtleWRvd25cIixkKTsoQ0tFRElUT1IuZW52Lm9wZXJhfHxDS0VESVRPUi5lbnYuZ2Vja28pJiZ2LnJlbW92ZUxpc3RlbmVyKFwia2V5cHJlc3NcIixnKTtDKGZ1bmN0aW9uKGEpe1EuYXBwbHkoYSl9KX0pO3RoaXMub24oXCJpZnJhbWVBZGRlZFwiLGZ1bmN0aW9uKGEpeyhuZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50KGEuZGF0YS5pZnJhbWUuJC5jb250ZW50V2luZG93LmRvY3VtZW50KSkub24oXCJrZXlkb3duXCIsXG5kLHRoaXMsbnVsbCwwKX0pO3RoaXMub24oXCJzaG93XCIsZnVuY3Rpb24oKXtjKCk7aWYoYS5jb25maWcuZGlhbG9nX3N0YXJ0dXBGb2N1c1RhYiYmMTxsLl8ucGFnZUNvdW50KWwuXy50YWJCYXJNb2RlPSEwLGwuXy50YWJzW2wuXy5jdXJyZW50VGFiSWRdWzBdLmZvY3VzKCk7ZWxzZSBpZighdGhpcy5fLmhhc0ZvY3VzKWlmKHRoaXMuXy5jdXJyZW50Rm9jdXNJbmRleD0tMSxmLm9uRm9jdXMpe3ZhciBiPWYub25Gb2N1cy5jYWxsKHRoaXMpO2ImJmIuZm9jdXMoKX1lbHNlIGUoMSl9LHRoaXMsbnVsbCw0Mjk0OTY3Mjk1KTtpZihDS0VESVRPUi5lbnYuaWU2Q29tcGF0KXRoaXMub24oXCJsb2FkXCIsZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEVsZW1lbnQoKSxiPWEuZ2V0Rmlyc3QoKTtiLnJlbW92ZSgpO2IuYXBwZW5kVG8oYSl9LHRoaXMpO1UodGhpcyk7Vih0aGlzKTsobmV3IENLRURJVE9SLmRvbS50ZXh0KGYudGl0bGUsQ0tFRElUT1IuZG9jdW1lbnQpKS5hcHBlbmRUbyh0aGlzLnBhcnRzLnRpdGxlKTtcbmZvcihqPTA7ajxmLmNvbnRlbnRzLmxlbmd0aDtqKyspKGg9Zi5jb250ZW50c1tqXSkmJnRoaXMuYWRkUGFnZShoKTt0aGlzLnBhcnRzLnRhYnMub24oXCJjbGlja1wiLGZ1bmN0aW9uKGEpe3ZhciBiPWEuZGF0YS5nZXRUYXJnZXQoKTtiLmhhc0NsYXNzKFwiY2tlX2RpYWxvZ190YWJcIikmJihiPWIuJC5pZCx0aGlzLnNlbGVjdFBhZ2UoYi5zdWJzdHJpbmcoNCxiLmxhc3RJbmRleE9mKFwiX1wiKSkpLHRoaXMuXy50YWJCYXJNb2RlJiYodGhpcy5fLnRhYkJhck1vZGU9ITEsdGhpcy5fLmN1cnJlbnRGb2N1c0luZGV4PS0xLGUoMSkpLGEuZGF0YS5wcmV2ZW50RGVmYXVsdCgpKX0sdGhpcyk7aj1bXTtoPUNLRURJVE9SLmRpYWxvZy5fLnVpRWxlbWVudEJ1aWxkZXJzLmhib3guYnVpbGQodGhpcyx7dHlwZTpcImhib3hcIixjbGFzc05hbWU6XCJja2VfZGlhbG9nX2Zvb3Rlcl9idXR0b25zXCIsd2lkdGhzOltdLGNoaWxkcmVuOmYuYnV0dG9uc30saikuZ2V0Q2hpbGQoKTt0aGlzLnBhcnRzLmZvb3Rlci5zZXRIdG1sKGouam9pbihcIlwiKSk7XG5mb3Ioaj0wO2o8aC5sZW5ndGg7aisrKXRoaXMuXy5idXR0b25zW2hbal0uaWRdPWhbal19O0NLRURJVE9SLmRpYWxvZy5wcm90b3R5cGU9e2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmhpZGUoKTt0aGlzLl8uZWxlbWVudC5yZW1vdmUoKX0scmVzaXplOmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEsYil7aWYoIXRoaXMuXy5jb250ZW50U2l6ZXx8ISh0aGlzLl8uY29udGVudFNpemUud2lkdGg9PWEmJnRoaXMuXy5jb250ZW50U2l6ZS5oZWlnaHQ9PWIpKUNLRURJVE9SLmRpYWxvZy5maXJlKFwicmVzaXplXCIse2RpYWxvZzp0aGlzLHdpZHRoOmEsaGVpZ2h0OmJ9LHRoaXMuXy5lZGl0b3IpLHRoaXMuZmlyZShcInJlc2l6ZVwiLHt3aWR0aDphLGhlaWdodDpifSx0aGlzLl8uZWRpdG9yKSx0aGlzLnBhcnRzLmNvbnRlbnRzLnNldFN0eWxlcyh7d2lkdGg6YStcInB4XCIsaGVpZ2h0OmIrXCJweFwifSksXCJydGxcIj09dGhpcy5fLmVkaXRvci5sYW5nLmRpciYmdGhpcy5fLnBvc2l0aW9uJiYodGhpcy5fLnBvc2l0aW9uLng9XG5DS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKS5nZXRWaWV3UGFuZVNpemUoKS53aWR0aC10aGlzLl8uY29udGVudFNpemUud2lkdGgtcGFyc2VJbnQodGhpcy5fLmVsZW1lbnQuZ2V0Rmlyc3QoKS5nZXRTdHlsZShcInJpZ2h0XCIpLDEwKSksdGhpcy5fLmNvbnRlbnRTaXplPXt3aWR0aDphLGhlaWdodDpifX19KCksZ2V0U2l6ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5lbGVtZW50LmdldEZpcnN0KCk7cmV0dXJue3dpZHRoOmEuJC5vZmZzZXRXaWR0aHx8MCxoZWlnaHQ6YS4kLm9mZnNldEhlaWdodHx8MH19LG1vdmU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBlPXRoaXMuXy5lbGVtZW50LmdldEZpcnN0KCksZD1cInJ0bFwiPT10aGlzLl8uZWRpdG9yLmxhbmcuZGlyLGc9XCJmaXhlZFwiPT1lLmdldENvbXB1dGVkU3R5bGUoXCJwb3NpdGlvblwiKTtDS0VESVRPUi5lbnYuaWUmJmUuc2V0U3R5bGUoXCJ6b29tXCIsXCIxMDAlXCIpO2lmKCFnfHwhdGhpcy5fLnBvc2l0aW9ufHwhKHRoaXMuXy5wb3NpdGlvbi54PT1cbmEmJnRoaXMuXy5wb3NpdGlvbi55PT1iKSl0aGlzLl8ucG9zaXRpb249e3g6YSx5OmJ9LGd8fChnPUNLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpLmdldFNjcm9sbFBvc2l0aW9uKCksYSs9Zy54LGIrPWcueSksZCYmKGc9dGhpcy5nZXRTaXplKCksYT1DS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKS5nZXRWaWV3UGFuZVNpemUoKS53aWR0aC1nLndpZHRoLWEpLGI9e3RvcDooMDxiP2I6MCkrXCJweFwifSxiW2Q/XCJyaWdodFwiOlwibGVmdFwiXT0oMDxhP2E6MCkrXCJweFwiLGUuc2V0U3R5bGVzKGIpLGMmJih0aGlzLl8ubW92ZWQ9MSl9LGdldFBvc2l0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIENLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSx0aGlzLl8ucG9zaXRpb24pfSxzaG93OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fLmVsZW1lbnQsYj10aGlzLmRlZmluaXRpb247IWEuZ2V0UGFyZW50KCl8fCFhLmdldFBhcmVudCgpLmVxdWFscyhDS0VESVRPUi5kb2N1bWVudC5nZXRCb2R5KCkpP2EuYXBwZW5kVG8oQ0tFRElUT1IuZG9jdW1lbnQuZ2V0Qm9keSgpKTpcbmEuc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJibG9ja1wiKTtpZihDS0VESVRPUi5lbnYuZ2Vja28mJjEwOTAwPkNLRURJVE9SLmVudi52ZXJzaW9uKXt2YXIgYz10aGlzLnBhcnRzLmRpYWxvZztjLnNldFN0eWxlKFwicG9zaXRpb25cIixcImFic29sdXRlXCIpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtjLnNldFN0eWxlKFwicG9zaXRpb25cIixcImZpeGVkXCIpfSwwKX10aGlzLnJlc2l6ZSh0aGlzLl8uY29udGVudFNpemUmJnRoaXMuXy5jb250ZW50U2l6ZS53aWR0aHx8Yi53aWR0aHx8Yi5taW5XaWR0aCx0aGlzLl8uY29udGVudFNpemUmJnRoaXMuXy5jb250ZW50U2l6ZS5oZWlnaHR8fGIuaGVpZ2h0fHxiLm1pbkhlaWdodCk7dGhpcy5yZXNldCgpO3RoaXMuc2VsZWN0UGFnZSh0aGlzLmRlZmluaXRpb24uY29udGVudHNbMF0uaWQpO251bGw9PT1DS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50WkluZGV4JiYoQ0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFpJbmRleD10aGlzLl8uZWRpdG9yLmNvbmZpZy5iYXNlRmxvYXRaSW5kZXgpO1xudGhpcy5fLmVsZW1lbnQuZ2V0Rmlyc3QoKS5zZXRTdHlsZShcInotaW5kZXhcIixDS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50WkluZGV4Kz0xMCk7bnVsbD09PUNLRURJVE9SLmRpYWxvZy5fLmN1cnJlbnRUb3A/KENLRURJVE9SLmRpYWxvZy5fLmN1cnJlbnRUb3A9dGhpcyx0aGlzLl8ucGFyZW50RGlhbG9nPW51bGwsSih0aGlzLl8uZWRpdG9yKSk6KHRoaXMuXy5wYXJlbnREaWFsb2c9Q0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFRvcCx0aGlzLl8ucGFyZW50RGlhbG9nLmdldEVsZW1lbnQoKS5nZXRGaXJzdCgpLiQuc3R5bGUuekluZGV4LT1NYXRoLmZsb29yKHRoaXMuXy5lZGl0b3IuY29uZmlnLmJhc2VGbG9hdFpJbmRleC8yKSxDS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50VG9wPXRoaXMpO2Eub24oXCJrZXlkb3duXCIsTSk7YS5vbihDS0VESVRPUi5lbnYub3BlcmE/XCJrZXlwcmVzc1wiOlwia2V5dXBcIixOKTt0aGlzLl8uaGFzRm9jdXM9ITE7Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMubGF5b3V0KCk7XG5UKHRoaXMpO3RoaXMucGFydHMuZGlhbG9nLnNldFN0eWxlKFwidmlzaWJpbGl0eVwiLFwiXCIpO3RoaXMuZmlyZU9uY2UoXCJsb2FkXCIse30pO0NLRURJVE9SLnVpLmZpcmUoXCJyZWFkeVwiLHRoaXMpO3RoaXMuZmlyZShcInNob3dcIix7fSk7dGhpcy5fLmVkaXRvci5maXJlKFwiZGlhbG9nU2hvd1wiLHRoaXMpO3RoaXMuXy5wYXJlbnREaWFsb2d8fHRoaXMuXy5lZGl0b3IuZm9jdXNNYW5hZ2VyLmxvY2soKTt0aGlzLmZvcmVhY2goZnVuY3Rpb24oYSl7YS5zZXRJbml0VmFsdWUmJmEuc2V0SW5pdFZhbHVlKCl9KX0sMTAwLHRoaXMpfSxsYXlvdXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnBhcnRzLmRpYWxvZyxiPXRoaXMuZ2V0U2l6ZSgpLGM9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCkuZ2V0Vmlld1BhbmVTaXplKCksZT0oYy53aWR0aC1iLndpZHRoKS8yLGQ9KGMuaGVpZ2h0LWIuaGVpZ2h0KS8yO0NLRURJVE9SLmVudi5pZTZDb21wYXR8fChiLmhlaWdodCsoMDxkP2Q6MCk+Yy5oZWlnaHR8fFxuYi53aWR0aCsoMDxlP2U6MCk+Yy53aWR0aD9hLnNldFN0eWxlKFwicG9zaXRpb25cIixcImFic29sdXRlXCIpOmEuc2V0U3R5bGUoXCJwb3NpdGlvblwiLFwiZml4ZWRcIikpO3RoaXMubW92ZSh0aGlzLl8ubW92ZWQ/dGhpcy5fLnBvc2l0aW9uLng6ZSx0aGlzLl8ubW92ZWQ/dGhpcy5fLnBvc2l0aW9uLnk6ZCl9LGZvcmVhY2g6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiIGluIHRoaXMuXy5jb250ZW50cylmb3IodmFyIGMgaW4gdGhpcy5fLmNvbnRlbnRzW2JdKWEuY2FsbCh0aGlzLHRoaXMuXy5jb250ZW50c1tiXVtjXSk7cmV0dXJuIHRoaXN9LHJlc2V0OmZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oYSl7YS5yZXNldCYmYS5yZXNldCgxKX07cmV0dXJuIGZ1bmN0aW9uKCl7dGhpcy5mb3JlYWNoKGEpO3JldHVybiB0aGlzfX0oKSxzZXR1cENvbnRlbnQ6ZnVuY3Rpb24oKXt2YXIgYT1hcmd1bWVudHM7dGhpcy5mb3JlYWNoKGZ1bmN0aW9uKGIpe2Iuc2V0dXAmJmIuc2V0dXAuYXBwbHkoYixhKX0pfSxcbmNvbW1pdENvbnRlbnQ6ZnVuY3Rpb24oKXt2YXIgYT1hcmd1bWVudHM7dGhpcy5mb3JlYWNoKGZ1bmN0aW9uKGIpe0NLRURJVE9SLmVudi5pZSYmdGhpcy5fLmN1cnJlbnRGb2N1c0luZGV4PT1iLmZvY3VzSW5kZXgmJmIuZ2V0SW5wdXRFbGVtZW50KCkuJC5ibHVyKCk7Yi5jb21taXQmJmIuY29tbWl0LmFwcGx5KGIsYSl9KX0saGlkZTpmdW5jdGlvbigpe2lmKHRoaXMucGFydHMuZGlhbG9nLmlzVmlzaWJsZSgpKXt0aGlzLmZpcmUoXCJoaWRlXCIse30pO3RoaXMuXy5lZGl0b3IuZmlyZShcImRpYWxvZ0hpZGVcIix0aGlzKTt0aGlzLnNlbGVjdFBhZ2UodGhpcy5fLnRhYklkTGlzdFswXSk7dmFyIGE9dGhpcy5fLmVsZW1lbnQ7YS5zZXRTdHlsZShcImRpc3BsYXlcIixcIm5vbmVcIik7dGhpcy5wYXJ0cy5kaWFsb2cuc2V0U3R5bGUoXCJ2aXNpYmlsaXR5XCIsXCJoaWRkZW5cIik7Zm9yKFgodGhpcyk7Q0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFRvcCE9dGhpczspQ0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFRvcC5oaWRlKCk7XG5pZih0aGlzLl8ucGFyZW50RGlhbG9nKXt2YXIgYj10aGlzLl8ucGFyZW50RGlhbG9nLmdldEVsZW1lbnQoKS5nZXRGaXJzdCgpO2Iuc2V0U3R5bGUoXCJ6LWluZGV4XCIscGFyc2VJbnQoYi4kLnN0eWxlLnpJbmRleCwxMCkrTWF0aC5mbG9vcih0aGlzLl8uZWRpdG9yLmNvbmZpZy5iYXNlRmxvYXRaSW5kZXgvMikpfWVsc2UgSyh0aGlzLl8uZWRpdG9yKTtpZihDS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50VG9wPXRoaXMuXy5wYXJlbnREaWFsb2cpQ0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFpJbmRleC09MTA7ZWxzZXtDS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50WkluZGV4PW51bGw7YS5yZW1vdmVMaXN0ZW5lcihcImtleWRvd25cIixNKTthLnJlbW92ZUxpc3RlbmVyKENLRURJVE9SLmVudi5vcGVyYT9cImtleXByZXNzXCI6XCJrZXl1cFwiLE4pO3ZhciBjPXRoaXMuXy5lZGl0b3I7Yy5mb2N1cygpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtjLmZvY3VzTWFuYWdlci51bmxvY2soKX0sMCl9ZGVsZXRlIHRoaXMuXy5wYXJlbnREaWFsb2c7XG50aGlzLmZvcmVhY2goZnVuY3Rpb24oYSl7YS5yZXNldEluaXRWYWx1ZSYmYS5yZXNldEluaXRWYWx1ZSgpfSl9fSxhZGRQYWdlOmZ1bmN0aW9uKGEpe3ZhciBiPVtdLGM9YS5sYWJlbD8nIHRpdGxlPVwiJytDS0VESVRPUi50b29scy5odG1sRW5jb2RlKGEubGFiZWwpKydcIic6XCJcIixlPUNLRURJVE9SLmRpYWxvZy5fLnVpRWxlbWVudEJ1aWxkZXJzLnZib3guYnVpbGQodGhpcyx7dHlwZTpcInZib3hcIixjbGFzc05hbWU6XCJja2VfZGlhbG9nX3BhZ2VfY29udGVudHNcIixjaGlsZHJlbjphLmVsZW1lbnRzLGV4cGFuZDohIWEuZXhwYW5kLHBhZGRpbmc6YS5wYWRkaW5nLHN0eWxlOmEuc3R5bGV8fFwid2lkdGg6IDEwMCU7XCJ9LGIpLGI9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoYi5qb2luKFwiXCIpKTtiLnNldEF0dHJpYnV0ZShcInJvbGVcIixcInRhYnBhbmVsXCIpO3ZhciBkPUNLRURJVE9SLmVudixnPVwiY2tlX1wiK2EuaWQrXCJfXCIrQ0tFRElUT1IudG9vbHMuZ2V0TmV4dE51bWJlcigpLFxuYz1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbChbJzxhIGNsYXNzPVwiY2tlX2RpYWxvZ190YWJcIicsMDx0aGlzLl8ucGFnZUNvdW50P1wiIGNrZV9sYXN0XCI6XCJja2VfZmlyc3RcIixjLGEuaGlkZGVuPycgc3R5bGU9XCJkaXNwbGF5Om5vbmVcIic6XCJcIiwnIGlkPVwiJyxnLCdcIicsZC5nZWNrbyYmMTA5MDA8PWQudmVyc2lvbiYmIWQuaGM/XCJcIjonIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIicsJyB0YWJJbmRleD1cIi0xXCIgaGlkZWZvY3VzPVwidHJ1ZVwiIHJvbGU9XCJ0YWJcIj4nLGEubGFiZWwsXCI8L2E+XCJdLmpvaW4oXCJcIikpO2Iuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbGxlZGJ5XCIsZyk7dGhpcy5fLnRhYnNbYS5pZF09W2MsYl07dGhpcy5fLnRhYklkTGlzdC5wdXNoKGEuaWQpOyFhLmhpZGRlbiYmdGhpcy5fLnBhZ2VDb3VudCsrO3RoaXMuXy5sYXN0VGFiPWM7dGhpcy51cGRhdGVTdHlsZSgpO2c9dGhpcy5fLmNvbnRlbnRzW2EuaWRdPXt9O2ZvcihkPWUuZ2V0Q2hpbGQoKTtlPVxuZC5zaGlmdCgpOylnW2UuaWRdPWUsXCJmdW5jdGlvblwiPT10eXBlb2YgZS5nZXRDaGlsZCYmZC5wdXNoLmFwcGx5KGQsZS5nZXRDaGlsZCgpKTtiLnNldEF0dHJpYnV0ZShcIm5hbWVcIixhLmlkKTtiLmFwcGVuZFRvKHRoaXMucGFydHMuY29udGVudHMpO2MudW5zZWxlY3RhYmxlKCk7dGhpcy5wYXJ0cy50YWJzLmFwcGVuZChjKTthLmFjY2Vzc0tleSYmKE8odGhpcyx0aGlzLFwiQ1RSTCtcIithLmFjY2Vzc0tleSxZLFopLHRoaXMuXy5hY2Nlc3NLZXlNYXBbXCJDVFJMK1wiK2EuYWNjZXNzS2V5XT1hLmlkKX0sc2VsZWN0UGFnZTpmdW5jdGlvbihhKXtpZih0aGlzLl8uY3VycmVudFRhYklkIT1hJiYhMCE9PXRoaXMuZmlyZShcInNlbGVjdFBhZ2VcIix7cGFnZTphLGN1cnJlbnRQYWdlOnRoaXMuXy5jdXJyZW50VGFiSWR9KSl7Zm9yKHZhciBiIGluIHRoaXMuXy50YWJzKXt2YXIgYz10aGlzLl8udGFic1tiXVswXSxlPXRoaXMuXy50YWJzW2JdWzFdO2IhPWEmJihjLnJlbW92ZUNsYXNzKFwiY2tlX2RpYWxvZ190YWJfc2VsZWN0ZWRcIiksXG5lLmhpZGUoKSk7ZS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLGIhPWEpfXZhciBkPXRoaXMuXy50YWJzW2FdO2RbMF0uYWRkQ2xhc3MoXCJja2VfZGlhbG9nX3RhYl9zZWxlY3RlZFwiKTtDS0VESVRPUi5lbnYuaWU2Q29tcGF0fHxDS0VESVRPUi5lbnYuaWU3Q29tcGF0PyhxKGRbMV0pLGRbMV0uc2hvdygpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtxKGRbMV0sMSl9LDApKTpkWzFdLnNob3coKTt0aGlzLl8uY3VycmVudFRhYklkPWE7dGhpcy5fLmN1cnJlbnRUYWJJbmRleD1DS0VESVRPUi50b29scy5pbmRleE9mKHRoaXMuXy50YWJJZExpc3QsYSl9fSx1cGRhdGVTdHlsZTpmdW5jdGlvbigpe3RoaXMucGFydHMuZGlhbG9nWygxPT09dGhpcy5fLnBhZ2VDb3VudD9cImFkZFwiOlwicmVtb3ZlXCIpK1wiQ2xhc3NcIl0oXCJja2Vfc2luZ2xlX3BhZ2VcIil9LGhpZGVQYWdlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuXy50YWJzW2FdJiZ0aGlzLl8udGFic1thXVswXTtiJiYoMSE9dGhpcy5fLnBhZ2VDb3VudCYmXG5iLmlzVmlzaWJsZSgpKSYmKGE9PXRoaXMuXy5jdXJyZW50VGFiSWQmJnRoaXMuc2VsZWN0UGFnZShwLmNhbGwodGhpcykpLGIuaGlkZSgpLHRoaXMuXy5wYWdlQ291bnQtLSx0aGlzLnVwZGF0ZVN0eWxlKCkpfSxzaG93UGFnZTpmdW5jdGlvbihhKXtpZihhPXRoaXMuXy50YWJzW2FdJiZ0aGlzLl8udGFic1thXVswXSlhLnNob3coKSx0aGlzLl8ucGFnZUNvdW50KyssdGhpcy51cGRhdGVTdHlsZSgpfSxnZXRFbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5lbGVtZW50fSxnZXROYW1lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5uYW1lfSxnZXRDb250ZW50RWxlbWVudDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuXy5jb250ZW50c1thXTtyZXR1cm4gYyYmY1tiXX0sZ2V0VmFsdWVPZjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmdldENvbnRlbnRFbGVtZW50KGEsYikuZ2V0VmFsdWUoKX0sc2V0VmFsdWVPZjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMuZ2V0Q29udGVudEVsZW1lbnQoYSxcbmIpLnNldFZhbHVlKGMpfSxnZXRCdXR0b246ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuXy5idXR0b25zW2FdfSxjbGljazpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fLmJ1dHRvbnNbYV0uY2xpY2soKX0sZGlzYWJsZUJ1dHRvbjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fLmJ1dHRvbnNbYV0uZGlzYWJsZSgpfSxlbmFibGVCdXR0b246ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuXy5idXR0b25zW2FdLmVuYWJsZSgpfSxnZXRQYWdlQ291bnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLnBhZ2VDb3VudH0sZ2V0UGFyZW50RWRpdG9yOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5lZGl0b3J9LGdldFNlbGVjdGVkRWxlbWVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFBhcmVudEVkaXRvcigpLmdldFNlbGVjdGlvbigpLmdldFNlbGVjdGVkRWxlbWVudCgpfSxhZGRGb2N1c2FibGU6ZnVuY3Rpb24oYSxiKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgYiliPXRoaXMuXy5mb2N1c0xpc3QubGVuZ3RoLFxudGhpcy5fLmZvY3VzTGlzdC5wdXNoKG5ldyBIKHRoaXMsYSxiKSk7ZWxzZXt0aGlzLl8uZm9jdXNMaXN0LnNwbGljZShiLDAsbmV3IEgodGhpcyxhLGIpKTtmb3IodmFyIGM9YisxO2M8dGhpcy5fLmZvY3VzTGlzdC5sZW5ndGg7YysrKXRoaXMuXy5mb2N1c0xpc3RbY10uZm9jdXNJbmRleCsrfX19O0NLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5kaWFsb2cse2FkZDpmdW5jdGlvbihhLGIpe2lmKCF0aGlzLl8uZGlhbG9nRGVmaW5pdGlvbnNbYV18fFwiZnVuY3Rpb25cIj09dHlwZW9mIGIpdGhpcy5fLmRpYWxvZ0RlZmluaXRpb25zW2FdPWJ9LGV4aXN0czpmdW5jdGlvbihhKXtyZXR1cm4hIXRoaXMuXy5kaWFsb2dEZWZpbml0aW9uc1thXX0sZ2V0Q3VycmVudDpmdW5jdGlvbigpe3JldHVybiBDS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50VG9wfSxva0J1dHRvbjpmdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKGEsYyl7Yz1jfHx7fTtyZXR1cm4gQ0tFRElUT1IudG9vbHMuZXh0ZW5kKHtpZDpcIm9rXCIsXG50eXBlOlwiYnV0dG9uXCIsbGFiZWw6YS5sYW5nLmNvbW1vbi5vayxcImNsYXNzXCI6XCJja2VfZGlhbG9nX3VpX2J1dHRvbl9va1wiLG9uQ2xpY2s6ZnVuY3Rpb24oYSl7YT1hLmRhdGEuZGlhbG9nOyExIT09YS5maXJlKFwib2tcIix7aGlkZTohMH0pLmhpZGUmJmEuaGlkZSgpfX0sYywhMCl9O2EudHlwZT1cImJ1dHRvblwiO2Eub3ZlcnJpZGU9ZnVuY3Rpb24oYil7cmV0dXJuIENLRURJVE9SLnRvb2xzLmV4dGVuZChmdW5jdGlvbihjKXtyZXR1cm4gYShjLGIpfSx7dHlwZTpcImJ1dHRvblwifSwhMCl9O3JldHVybiBhfSgpLGNhbmNlbEJ1dHRvbjpmdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKGEsYyl7Yz1jfHx7fTtyZXR1cm4gQ0tFRElUT1IudG9vbHMuZXh0ZW5kKHtpZDpcImNhbmNlbFwiLHR5cGU6XCJidXR0b25cIixsYWJlbDphLmxhbmcuY29tbW9uLmNhbmNlbCxcImNsYXNzXCI6XCJja2VfZGlhbG9nX3VpX2J1dHRvbl9jYW5jZWxcIixvbkNsaWNrOmZ1bmN0aW9uKGEpe2E9YS5kYXRhLmRpYWxvZzshMSE9PVxuYS5maXJlKFwiY2FuY2VsXCIse2hpZGU6ITB9KS5oaWRlJiZhLmhpZGUoKX19LGMsITApfTthLnR5cGU9XCJidXR0b25cIjthLm92ZXJyaWRlPWZ1bmN0aW9uKGIpe3JldHVybiBDS0VESVRPUi50b29scy5leHRlbmQoZnVuY3Rpb24oYyl7cmV0dXJuIGEoYyxiKX0se3R5cGU6XCJidXR0b25cIn0sITApfTtyZXR1cm4gYX0oKSxhZGRVSUVsZW1lbnQ6ZnVuY3Rpb24oYSxiKXt0aGlzLl8udWlFbGVtZW50QnVpbGRlcnNbYV09Yn19KTtDS0VESVRPUi5kaWFsb2cuXz17dWlFbGVtZW50QnVpbGRlcnM6e30sZGlhbG9nRGVmaW5pdGlvbnM6e30sY3VycmVudFRvcDpudWxsLGN1cnJlbnRaSW5kZXg6bnVsbH07Q0tFRElUT1IuZXZlbnQuaW1wbGVtZW50T24oQ0tFRElUT1IuZGlhbG9nKTtDS0VESVRPUi5ldmVudC5pbXBsZW1lbnRPbihDS0VESVRPUi5kaWFsb2cucHJvdG90eXBlKTt2YXIgVz17cmVzaXphYmxlOkNLRURJVE9SLkRJQUxPR19SRVNJWkVfQk9USCxtaW5XaWR0aDo2MDAsbWluSGVpZ2h0OjQwMCxcbmJ1dHRvbnM6W0NLRURJVE9SLmRpYWxvZy5va0J1dHRvbixDS0VESVRPUi5kaWFsb2cuY2FuY2VsQnV0dG9uXX0sej1mdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBlPTAsZDtkPWFbZV07ZSsrKWlmKGQuaWQ9PWJ8fGMmJmRbY10mJihkPXooZFtjXSxiLGMpKSlyZXR1cm4gZDtyZXR1cm4gbnVsbH0sQT1mdW5jdGlvbihhLGIsYyxlLGQpe2lmKGMpe2Zvcih2YXIgZz0wLGY7Zj1hW2ddO2crKyl7aWYoZi5pZD09YylyZXR1cm4gYS5zcGxpY2UoZywwLGIpLGI7aWYoZSYmZltlXSYmKGY9QShmW2VdLGIsYyxlLCEwKSkpcmV0dXJuIGZ9aWYoZClyZXR1cm4gbnVsbH1hLnB1c2goYik7cmV0dXJuIGJ9LEI9ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZT0wLGQ7ZD1hW2VdO2UrKyl7aWYoZC5pZD09YilyZXR1cm4gYS5zcGxpY2UoZSwxKTtpZihjJiZkW2NdJiYoZD1CKGRbY10sYixjKSkpcmV0dXJuIGR9cmV0dXJuIG51bGx9LEw9ZnVuY3Rpb24oYSxiKXt0aGlzLmRpYWxvZz1hO2Zvcih2YXIgYz1cbmIuY29udGVudHMsZT0wLGQ7ZD1jW2VdO2UrKyljW2VdPWQmJm5ldyBJKGEsZCk7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMsYil9O0wucHJvdG90eXBlPXtnZXRDb250ZW50czpmdW5jdGlvbihhKXtyZXR1cm4geih0aGlzLmNvbnRlbnRzLGEpfSxnZXRCdXR0b246ZnVuY3Rpb24oYSl7cmV0dXJuIHoodGhpcy5idXR0b25zLGEpfSxhZGRDb250ZW50czpmdW5jdGlvbihhLGIpe3JldHVybiBBKHRoaXMuY29udGVudHMsYSxiKX0sYWRkQnV0dG9uOmZ1bmN0aW9uKGEsYil7cmV0dXJuIEEodGhpcy5idXR0b25zLGEsYil9LHJlbW92ZUNvbnRlbnRzOmZ1bmN0aW9uKGEpe0IodGhpcy5jb250ZW50cyxhKX0scmVtb3ZlQnV0dG9uOmZ1bmN0aW9uKGEpe0IodGhpcy5idXR0b25zLGEpfX07SS5wcm90b3R5cGU9e2dldDpmdW5jdGlvbihhKXtyZXR1cm4geih0aGlzLmVsZW1lbnRzLGEsXCJjaGlsZHJlblwiKX0sYWRkOmZ1bmN0aW9uKGEsYil7cmV0dXJuIEEodGhpcy5lbGVtZW50cyxhLGIsXG5cImNoaWxkcmVuXCIpfSxyZW1vdmU6ZnVuY3Rpb24oYSl7Qih0aGlzLmVsZW1lbnRzLGEsXCJjaGlsZHJlblwiKX19O3ZhciBHLHc9e30scix0PXt9LE09ZnVuY3Rpb24oYSl7dmFyIGI9YS5kYXRhLiQuY3RybEtleXx8YS5kYXRhLiQubWV0YUtleSxjPWEuZGF0YS4kLmFsdEtleSxlPWEuZGF0YS4kLnNoaWZ0S2V5LGQ9U3RyaW5nLmZyb21DaGFyQ29kZShhLmRhdGEuJC5rZXlDb2RlKTtpZigoYj10WyhiP1wiQ1RSTCtcIjpcIlwiKSsoYz9cIkFMVCtcIjpcIlwiKSsoZT9cIlNISUZUK1wiOlwiXCIpK2RdKSYmYi5sZW5ndGgpYj1iW2IubGVuZ3RoLTFdLGIua2V5ZG93biYmYi5rZXlkb3duLmNhbGwoYi51aUVsZW1lbnQsYi5kaWFsb2csYi5rZXkpLGEuZGF0YS5wcmV2ZW50RGVmYXVsdCgpfSxOPWZ1bmN0aW9uKGEpe3ZhciBiPWEuZGF0YS4kLmN0cmxLZXl8fGEuZGF0YS4kLm1ldGFLZXksYz1hLmRhdGEuJC5hbHRLZXksZT1hLmRhdGEuJC5zaGlmdEtleSxkPVN0cmluZy5mcm9tQ2hhckNvZGUoYS5kYXRhLiQua2V5Q29kZSk7XG5pZigoYj10WyhiP1wiQ1RSTCtcIjpcIlwiKSsoYz9cIkFMVCtcIjpcIlwiKSsoZT9cIlNISUZUK1wiOlwiXCIpK2RdKSYmYi5sZW5ndGgpYj1iW2IubGVuZ3RoLTFdLGIua2V5dXAmJihiLmtleXVwLmNhbGwoYi51aUVsZW1lbnQsYi5kaWFsb2csYi5rZXkpLGEuZGF0YS5wcmV2ZW50RGVmYXVsdCgpKX0sTz1mdW5jdGlvbihhLGIsYyxlLGQpeyh0W2NdfHwodFtjXT1bXSkpLnB1c2goe3VpRWxlbWVudDphLGRpYWxvZzpiLGtleTpjLGtleXVwOmR8fGEuYWNjZXNzS2V5VXAsa2V5ZG93bjplfHxhLmFjY2Vzc0tleURvd259KX0sWD1mdW5jdGlvbihhKXtmb3IodmFyIGIgaW4gdCl7Zm9yKHZhciBjPXRbYl0sZT1jLmxlbmd0aC0xOzA8PWU7ZS0tKShjW2VdLmRpYWxvZz09YXx8Y1tlXS51aUVsZW1lbnQ9PWEpJiZjLnNwbGljZShlLDEpOzA9PT1jLmxlbmd0aCYmZGVsZXRlIHRbYl19fSxaPWZ1bmN0aW9uKGEsYil7YS5fLmFjY2Vzc0tleU1hcFtiXSYmYS5zZWxlY3RQYWdlKGEuXy5hY2Nlc3NLZXlNYXBbYl0pfSxcblk9ZnVuY3Rpb24oKXt9OyhmdW5jdGlvbigpe0NLRURJVE9SLnVpLmRpYWxvZz17dWlFbGVtZW50OmZ1bmN0aW9uKGEsYixjLGUsZCxnLGYpe2lmKCEoND5hcmd1bWVudHMubGVuZ3RoKSl7dmFyIGs9KGUuY2FsbD9lKGIpOmUpfHxcImRpdlwiLG09W1wiPFwiLGssXCIgXCJdLGo9KGQmJmQuY2FsbD9kKGIpOmQpfHx7fSxoPShnJiZnLmNhbGw/ZyhiKTpnKXx8e30sbz0oZiYmZi5jYWxsP2YuY2FsbCh0aGlzLGEsYik6Zil8fFwiXCIsaT10aGlzLmRvbUlkPWguaWR8fENLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpK1wiX3VpRWxlbWVudFwiO3RoaXMuaWQ9Yi5pZDtoLmlkPWk7dmFyIG49e307Yi50eXBlJiYobltcImNrZV9kaWFsb2dfdWlfXCIrYi50eXBlXT0xKTtiLmNsYXNzTmFtZSYmKG5bYi5jbGFzc05hbWVdPTEpO2IuZGlzYWJsZWQmJihuLmNrZV9kaXNhYmxlZD0xKTtmb3IodmFyIGw9aFtcImNsYXNzXCJdJiZoW1wiY2xhc3NcIl0uc3BsaXQ/aFtcImNsYXNzXCJdLnNwbGl0KFwiIFwiKTpbXSxpPTA7aTxsLmxlbmd0aDtpKyspbFtpXSYmXG4obltsW2ldXT0xKTtsPVtdO2ZvcihpIGluIG4pbC5wdXNoKGkpO2hbXCJjbGFzc1wiXT1sLmpvaW4oXCIgXCIpO2IudGl0bGUmJihoLnRpdGxlPWIudGl0bGUpO249KGIuc3R5bGV8fFwiXCIpLnNwbGl0KFwiO1wiKTtiLmFsaWduJiYobD1iLmFsaWduLGpbXCJtYXJnaW4tbGVmdFwiXT1cImxlZnRcIj09bD8wOlwiYXV0b1wiLGpbXCJtYXJnaW4tcmlnaHRcIl09XCJyaWdodFwiPT1sPzA6XCJhdXRvXCIpO2ZvcihpIGluIGopbi5wdXNoKGkrXCI6XCIraltpXSk7Yi5oaWRkZW4mJm4ucHVzaChcImRpc3BsYXk6bm9uZVwiKTtmb3IoaT1uLmxlbmd0aC0xOzA8PWk7aS0tKVwiXCI9PT1uW2ldJiZuLnNwbGljZShpLDEpOzA8bi5sZW5ndGgmJihoLnN0eWxlPShoLnN0eWxlP2guc3R5bGUrXCI7IFwiOlwiXCIpK24uam9pbihcIjsgXCIpKTtmb3IoaSBpbiBoKW0ucHVzaChpKyc9XCInK0NLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoaFtpXSkrJ1wiICcpO20ucHVzaChcIj5cIixvLFwiPC9cIixrLFwiPlwiKTtjLnB1c2gobS5qb2luKFwiXCIpKTsodGhpcy5ffHxcbih0aGlzLl89e30pKS5kaWFsb2c9YTtcImJvb2xlYW5cIj09dHlwZW9mIGIuaXNDaGFuZ2VkJiYodGhpcy5pc0NoYW5nZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gYi5pc0NoYW5nZWR9KTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBiLmlzQ2hhbmdlZCYmKHRoaXMuaXNDaGFuZ2VkPWIuaXNDaGFuZ2VkKTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBiLnNldFZhbHVlJiYodGhpcy5zZXRWYWx1ZT1DS0VESVRPUi50b29scy5vdmVycmlkZSh0aGlzLnNldFZhbHVlLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihjKXthLmNhbGwodGhpcyxiLnNldFZhbHVlLmNhbGwodGhpcyxjKSl9fSkpO1wiZnVuY3Rpb25cIj09dHlwZW9mIGIuZ2V0VmFsdWUmJih0aGlzLmdldFZhbHVlPUNLRURJVE9SLnRvb2xzLm92ZXJyaWRlKHRoaXMuZ2V0VmFsdWUsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGIuZ2V0VmFsdWUuY2FsbCh0aGlzLGEuY2FsbCh0aGlzKSl9fSkpO0NLRURJVE9SLmV2ZW50LmltcGxlbWVudE9uKHRoaXMpO1xudGhpcy5yZWdpc3RlckV2ZW50cyhiKTt0aGlzLmFjY2Vzc0tleVVwJiYodGhpcy5hY2Nlc3NLZXlEb3duJiZiLmFjY2Vzc0tleSkmJk8odGhpcyxhLFwiQ1RSTCtcIitiLmFjY2Vzc0tleSk7dmFyIHA9dGhpczthLm9uKFwibG9hZFwiLGZ1bmN0aW9uKCl7dmFyIGI9cC5nZXRJbnB1dEVsZW1lbnQoKTtpZihiKXt2YXIgYz1wLnR5cGUgaW57Y2hlY2tib3g6MSxyYXRpbzoxfSYmQ0tFRElUT1IuZW52LmllJiZDS0VESVRPUi5lbnYudmVyc2lvbjw4P1wiY2tlX2RpYWxvZ191aV9mb2N1c2VkXCI6XCJcIjtiLm9uKFwiZm9jdXNcIixmdW5jdGlvbigpe2EuXy50YWJCYXJNb2RlPWZhbHNlO2EuXy5oYXNGb2N1cz10cnVlO3AuZmlyZShcImZvY3VzXCIpO2MmJnRoaXMuYWRkQ2xhc3MoYyl9KTtiLm9uKFwiYmx1clwiLGZ1bmN0aW9uKCl7cC5maXJlKFwiYmx1clwiKTtjJiZ0aGlzLnJlbW92ZUNsYXNzKGMpfSl9fSk7dGhpcy5rZXlib2FyZEZvY3VzYWJsZSYmKHRoaXMudGFiSW5kZXg9Yi50YWJJbmRleHx8MCx0aGlzLmZvY3VzSW5kZXg9XG5hLl8uZm9jdXNMaXN0LnB1c2godGhpcyktMSx0aGlzLm9uKFwiZm9jdXNcIixmdW5jdGlvbigpe2EuXy5jdXJyZW50Rm9jdXNJbmRleD1wLmZvY3VzSW5kZXh9KSk7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMsYil9fSxoYm94OmZ1bmN0aW9uKGEsYixjLGUsZCl7aWYoISg0PmFyZ3VtZW50cy5sZW5ndGgpKXt0aGlzLl98fCh0aGlzLl89e30pO3ZhciBnPXRoaXMuXy5jaGlsZHJlbj1iLGY9ZCYmZC53aWR0aHN8fG51bGwsaz1kJiZkLmhlaWdodHx8bnVsbCxtLGo9e3JvbGU6XCJwcmVzZW50YXRpb25cIn07ZCYmZC5hbGlnbiYmKGouYWxpZ249ZC5hbGlnbik7Q0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudC5jYWxsKHRoaXMsYSxkfHx7dHlwZTpcImhib3hcIn0sZSxcInRhYmxlXCIse30saixmdW5jdGlvbigpe3ZhciBhPVsnPHRib2R5Pjx0ciBjbGFzcz1cImNrZV9kaWFsb2dfdWlfaGJveFwiPiddO2ZvcihtPTA7bTxjLmxlbmd0aDttKyspe3ZhciBiPVwiY2tlX2RpYWxvZ191aV9oYm94X2NoaWxkXCIsXG5lPVtdOzA9PT1tJiYoYj1cImNrZV9kaWFsb2dfdWlfaGJveF9maXJzdFwiKTttPT1jLmxlbmd0aC0xJiYoYj1cImNrZV9kaWFsb2dfdWlfaGJveF9sYXN0XCIpO2EucHVzaCgnPHRkIGNsYXNzPVwiJyxiLCdcIiByb2xlPVwicHJlc2VudGF0aW9uXCIgJyk7Zj9mW21dJiZlLnB1c2goXCJ3aWR0aDpcIitzKGZbbV0pKTplLnB1c2goXCJ3aWR0aDpcIitNYXRoLmZsb29yKDEwMC9jLmxlbmd0aCkrXCIlXCIpO2smJmUucHVzaChcImhlaWdodDpcIitzKGspKTtkJiZ2b2lkIDAhPWQucGFkZGluZyYmZS5wdXNoKFwicGFkZGluZzpcIitzKGQucGFkZGluZykpO0NLRURJVE9SLmVudi5pZSYmKENLRURJVE9SLmVudi5xdWlya3MmJmdbbV0uYWxpZ24pJiZlLnB1c2goXCJ0ZXh0LWFsaWduOlwiK2dbbV0uYWxpZ24pOzA8ZS5sZW5ndGgmJmEucHVzaCgnc3R5bGU9XCInK2Uuam9pbihcIjsgXCIpKydcIiAnKTthLnB1c2goXCI+XCIsY1ttXSxcIjwvdGQ+XCIpfWEucHVzaChcIjwvdHI+PC90Ym9keT5cIik7cmV0dXJuIGEuam9pbihcIlwiKX0pfX0sdmJveDpmdW5jdGlvbihhLFxuYixjLGUsZCl7aWYoISgzPmFyZ3VtZW50cy5sZW5ndGgpKXt0aGlzLl98fCh0aGlzLl89e30pO3ZhciBnPXRoaXMuXy5jaGlsZHJlbj1iLGY9ZCYmZC53aWR0aHx8bnVsbCxrPWQmJmQuaGVpZ2h0c3x8bnVsbDtDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LmNhbGwodGhpcyxhLGR8fHt0eXBlOlwidmJveFwifSxlLFwiZGl2XCIsbnVsbCx7cm9sZTpcInByZXNlbnRhdGlvblwifSxmdW5jdGlvbigpe3ZhciBiPVsnPHRhYmxlIHJvbGU9XCJwcmVzZW50YXRpb25cIiBjZWxsc3BhY2luZz1cIjBcIiBib3JkZXI9XCIwXCIgJ107Yi5wdXNoKCdzdHlsZT1cIicpO2QmJmQuZXhwYW5kJiZiLnB1c2goXCJoZWlnaHQ6MTAwJTtcIik7Yi5wdXNoKFwid2lkdGg6XCIrcyhmfHxcIjEwMCVcIiksXCI7XCIpO2IucHVzaCgnXCInKTtiLnB1c2goJ2FsaWduPVwiJyxDS0VESVRPUi50b29scy5odG1sRW5jb2RlKGQmJmQuYWxpZ258fChcImx0clwiPT1hLmdldFBhcmVudEVkaXRvcigpLmxhbmcuZGlyP1wibGVmdFwiOlwicmlnaHRcIikpLCdcIiAnKTtcbmIucHVzaChcIj48dGJvZHk+XCIpO2Zvcih2YXIgZT0wO2U8Yy5sZW5ndGg7ZSsrKXt2YXIgaD1bXTtiLnB1c2goJzx0cj48dGQgcm9sZT1cInByZXNlbnRhdGlvblwiICcpO2YmJmgucHVzaChcIndpZHRoOlwiK3MoZnx8XCIxMDAlXCIpKTtrP2gucHVzaChcImhlaWdodDpcIitzKGtbZV0pKTpkJiZkLmV4cGFuZCYmaC5wdXNoKFwiaGVpZ2h0OlwiK01hdGguZmxvb3IoMTAwL2MubGVuZ3RoKStcIiVcIik7ZCYmdm9pZCAwIT1kLnBhZGRpbmcmJmgucHVzaChcInBhZGRpbmc6XCIrcyhkLnBhZGRpbmcpKTtDS0VESVRPUi5lbnYuaWUmJihDS0VESVRPUi5lbnYucXVpcmtzJiZnW2VdLmFsaWduKSYmaC5wdXNoKFwidGV4dC1hbGlnbjpcIitnW2VdLmFsaWduKTswPGgubGVuZ3RoJiZiLnB1c2goJ3N0eWxlPVwiJyxoLmpvaW4oXCI7IFwiKSwnXCIgJyk7Yi5wdXNoKCcgY2xhc3M9XCJja2VfZGlhbG9nX3VpX3Zib3hfY2hpbGRcIj4nLGNbZV0sXCI8L3RkPjwvdHI+XCIpfWIucHVzaChcIjwvdGJvZHk+PC90YWJsZT5cIik7cmV0dXJuIGIuam9pbihcIlwiKX0pfX19fSkoKTtcbkNLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQucHJvdG90eXBlPXtnZXRFbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIENLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQodGhpcy5kb21JZCl9LGdldElucHV0RWxlbWVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEVsZW1lbnQoKX0sZ2V0RGlhbG9nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5kaWFsb2d9LHNldFZhbHVlOmZ1bmN0aW9uKGEsYil7dGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5zZXRWYWx1ZShhKTshYiYmdGhpcy5maXJlKFwiY2hhbmdlXCIse3ZhbHVlOmF9KTtyZXR1cm4gdGhpc30sZ2V0VmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5nZXRWYWx1ZSgpfSxpc0NoYW5nZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hMX0sc2VsZWN0UGFyZW50VGFiOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuZ2V0SW5wdXRFbGVtZW50KCk7KGE9YS5nZXRQYXJlbnQoKSkmJi0xPT1hLiQuY2xhc3NOYW1lLnNlYXJjaChcImNrZV9kaWFsb2dfcGFnZV9jb250ZW50c1wiKTspO1xuaWYoIWEpcmV0dXJuIHRoaXM7YT1hLmdldEF0dHJpYnV0ZShcIm5hbWVcIik7dGhpcy5fLmRpYWxvZy5fLmN1cnJlbnRUYWJJZCE9YSYmdGhpcy5fLmRpYWxvZy5zZWxlY3RQYWdlKGEpO3JldHVybiB0aGlzfSxmb2N1czpmdW5jdGlvbigpe3RoaXMuc2VsZWN0UGFyZW50VGFiKCkuZ2V0SW5wdXRFbGVtZW50KCkuZm9jdXMoKTtyZXR1cm4gdGhpc30scmVnaXN0ZXJFdmVudHM6ZnVuY3Rpb24oYSl7dmFyIGI9L15vbihbQS1aXVxcdyspLyxjLGU9ZnVuY3Rpb24oYSxiLGMsZCl7Yi5vbihcImxvYWRcIixmdW5jdGlvbigpe2EuZ2V0SW5wdXRFbGVtZW50KCkub24oYyxkLGEpfSl9LGQ7Zm9yKGQgaW4gYSlpZihjPWQubWF0Y2goYikpdGhpcy5ldmVudFByb2Nlc3NvcnNbZF0/dGhpcy5ldmVudFByb2Nlc3NvcnNbZF0uY2FsbCh0aGlzLHRoaXMuXy5kaWFsb2csYVtkXSk6ZSh0aGlzLHRoaXMuXy5kaWFsb2csY1sxXS50b0xvd2VyQ2FzZSgpLGFbZF0pO3JldHVybiB0aGlzfSxldmVudFByb2Nlc3NvcnM6e29uTG9hZDpmdW5jdGlvbihhLFxuYil7YS5vbihcImxvYWRcIixiLHRoaXMpfSxvblNob3c6ZnVuY3Rpb24oYSxiKXthLm9uKFwic2hvd1wiLGIsdGhpcyl9LG9uSGlkZTpmdW5jdGlvbihhLGIpe2Eub24oXCJoaWRlXCIsYix0aGlzKX19LGFjY2Vzc0tleURvd246ZnVuY3Rpb24oKXt0aGlzLmZvY3VzKCl9LGFjY2Vzc0tleVVwOmZ1bmN0aW9uKCl7fSxkaXNhYmxlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRFbGVtZW50KCk7dGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLFwidHJ1ZVwiKTthLmFkZENsYXNzKFwiY2tlX2Rpc2FibGVkXCIpfSxlbmFibGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEVsZW1lbnQoKTt0aGlzLmdldElucHV0RWxlbWVudCgpLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpO2EucmVtb3ZlQ2xhc3MoXCJja2VfZGlzYWJsZWRcIil9LGlzRW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiF0aGlzLmdldEVsZW1lbnQoKS5oYXNDbGFzcyhcImNrZV9kaXNhYmxlZFwiKX0saXNWaXNpYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SW5wdXRFbGVtZW50KCkuaXNWaXNpYmxlKCl9LFxuaXNGb2N1c2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5pc0VuYWJsZWQoKXx8IXRoaXMuaXNWaXNpYmxlKCk/ITE6ITB9fTtDS0VESVRPUi51aS5kaWFsb2cuaGJveC5wcm90b3R5cGU9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKG5ldyBDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LHtnZXRDaGlsZDpmdW5jdGlvbihhKXtpZigxPmFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuXy5jaGlsZHJlbi5jb25jYXQoKTthLnNwbGljZXx8KGE9W2FdKTtyZXR1cm4gMj5hLmxlbmd0aD90aGlzLl8uY2hpbGRyZW5bYVswXV06dGhpcy5fLmNoaWxkcmVuW2FbMF1dJiZ0aGlzLl8uY2hpbGRyZW5bYVswXV0uZ2V0Q2hpbGQ/dGhpcy5fLmNoaWxkcmVuW2FbMF1dLmdldENoaWxkKGEuc2xpY2UoMSxhLmxlbmd0aCkpOm51bGx9fSwhMCk7Q0tFRElUT1IudWkuZGlhbG9nLnZib3gucHJvdG90eXBlPW5ldyBDS0VESVRPUi51aS5kaWFsb2cuaGJveDsoZnVuY3Rpb24oKXt2YXIgYT17YnVpbGQ6ZnVuY3Rpb24oYSxcbmMsZSl7Zm9yKHZhciBkPWMuY2hpbGRyZW4sZyxmPVtdLGs9W10sbT0wO208ZC5sZW5ndGgmJihnPWRbbV0pO20rKyl7dmFyIGo9W107Zi5wdXNoKGopO2sucHVzaChDS0VESVRPUi5kaWFsb2cuXy51aUVsZW1lbnRCdWlsZGVyc1tnLnR5cGVdLmJ1aWxkKGEsZyxqKSl9cmV0dXJuIG5ldyBDS0VESVRPUi51aS5kaWFsb2dbYy50eXBlXShhLGssZixlLGMpfX07Q0tFRElUT1IuZGlhbG9nLmFkZFVJRWxlbWVudChcImhib3hcIixhKTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KFwidmJveFwiLGEpfSkoKTtDS0VESVRPUi5kaWFsb2dDb21tYW5kPWZ1bmN0aW9uKGEsYil7dGhpcy5kaWFsb2dOYW1lPWE7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMsYiwhMCl9O0NLRURJVE9SLmRpYWxvZ0NvbW1hbmQucHJvdG90eXBlPXtleGVjOmZ1bmN0aW9uKGEpe0NLRURJVE9SLmVudi5vcGVyYT9DS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5vcGVuRGlhbG9nKHRoaXMuZGlhbG9nTmFtZSl9LFxuMCx0aGlzKTphLm9wZW5EaWFsb2codGhpcy5kaWFsb2dOYW1lKX0sY2FuVW5kbzohMSxlZGl0b3JGb2N1czpDS0VESVRPUi5lbnYuaWV8fENLRURJVE9SLmVudi53ZWJraXR9OyhmdW5jdGlvbigpe3ZhciBhPS9eKFthXXxbXmFdKSskLyxiPS9eXFxkKiQvLGM9L15cXGQqKD86XFwuXFxkKyk/JC8sZT0vXigoKFxcZCooXFwuXFxkKykpfChcXGQqKSkocHh8XFwlKT8pPyQvLGQ9L14oKChcXGQqKFxcLlxcZCspKXwoXFxkKikpKHB4fGVtfGV4fGlufGNtfG1tfHB0fHBjfFxcJSk/KT8kL2ksZz0vXihcXHMqW1xcdy1dK1xccyo6XFxzKlteOjtdKyg/Ojt8JCkpKiQvO0NLRURJVE9SLlZBTElEQVRFX09SPTE7Q0tFRElUT1IuVkFMSURBVEVfQU5EPTI7Q0tFRElUT1IuZGlhbG9nLnZhbGlkYXRlPXtmdW5jdGlvbnM6ZnVuY3Rpb24oKXt2YXIgYT1hcmd1bWVudHM7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGI9dGhpcyYmdGhpcy5nZXRWYWx1ZT90aGlzLmdldFZhbHVlKCk6YVswXSxjPXZvaWQgMCxkPUNLRURJVE9SLlZBTElEQVRFX0FORCxcbmU9W10sZztmb3IoZz0wO2c8YS5sZW5ndGg7ZysrKWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGFbZ10pZS5wdXNoKGFbZ10pO2Vsc2UgYnJlYWs7ZzxhLmxlbmd0aCYmXCJzdHJpbmdcIj09dHlwZW9mIGFbZ10mJihjPWFbZ10sZysrKTtnPGEubGVuZ3RoJiZcIm51bWJlclwiPT10eXBlb2YgYVtnXSYmKGQ9YVtnXSk7dmFyIGk9ZD09Q0tFRElUT1IuVkFMSURBVEVfQU5EPyEwOiExO2ZvcihnPTA7ZzxlLmxlbmd0aDtnKyspaT1kPT1DS0VESVRPUi5WQUxJREFURV9BTkQ/aSYmZVtnXShiKTppfHxlW2ddKGIpO3JldHVybiFpP2M6ITB9fSxyZWdleDpmdW5jdGlvbihhLGIpe3JldHVybiBmdW5jdGlvbihjKXtjPXRoaXMmJnRoaXMuZ2V0VmFsdWU/dGhpcy5nZXRWYWx1ZSgpOmM7cmV0dXJuIWEudGVzdChjKT9iOiEwfX0sbm90RW1wdHk6ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMucmVnZXgoYSxiKX0saW50ZWdlcjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5yZWdleChiLGEpfSxudW1iZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucmVnZXgoYyxcbmEpfSxjc3NMZW5ndGg6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZnVuY3Rpb25zKGZ1bmN0aW9uKGEpe3JldHVybiBkLnRlc3QoQ0tFRElUT1IudG9vbHMudHJpbShhKSl9LGEpfSxodG1sTGVuZ3RoOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmZ1bmN0aW9ucyhmdW5jdGlvbihhKXtyZXR1cm4gZS50ZXN0KENLRURJVE9SLnRvb2xzLnRyaW0oYSkpfSxhKX0saW5saW5lU3R5bGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZnVuY3Rpb25zKGZ1bmN0aW9uKGEpe3JldHVybiBnLnRlc3QoQ0tFRElUT1IudG9vbHMudHJpbShhKSl9LGEpfSxlcXVhbHM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5mdW5jdGlvbnMoZnVuY3Rpb24oYil7cmV0dXJuIGI9PWF9LGIpfSxub3RFcXVhbDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmZ1bmN0aW9ucyhmdW5jdGlvbihiKXtyZXR1cm4gYiE9YX0sYil9fTtDS0VESVRPUi5vbihcImluc3RhbmNlRGVzdHJveWVkXCIsZnVuY3Rpb24oYSl7aWYoQ0tFRElUT1IudG9vbHMuaXNFbXB0eShDS0VESVRPUi5pbnN0YW5jZXMpKXtmb3IodmFyIGI7Yj1cbkNLRURJVE9SLmRpYWxvZy5fLmN1cnJlbnRUb3A7KWIuaGlkZSgpO2Zvcih2YXIgYyBpbiB3KXdbY10ucmVtb3ZlKCk7dz17fX12YXIgYT1hLmVkaXRvci5fLnN0b3JlZERpYWxvZ3MsZDtmb3IoZCBpbiBhKWFbZF0uZGVzdHJveSgpfSl9KSgpO0NLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLHtvcGVuRGlhbG9nOmZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbCxlPUNLRURJVE9SLmRpYWxvZy5fLmRpYWxvZ0RlZmluaXRpb25zW2FdO251bGw9PT1DS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50VG9wJiZKKHRoaXMpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpYz10aGlzLl8uc3RvcmVkRGlhbG9nc3x8KHRoaXMuXy5zdG9yZWREaWFsb2dzPXt9KSxjPWNbYV18fChjW2FdPW5ldyBDS0VESVRPUi5kaWFsb2codGhpcyxhKSksYiYmYi5jYWxsKGMsYyksYy5zaG93KCk7ZWxzZXtpZihcImZhaWxlZFwiPT1lKXRocm93IEsodGhpcyksRXJyb3IoJ1tDS0VESVRPUi5kaWFsb2cub3BlbkRpYWxvZ10gRGlhbG9nIFwiJytcbmErJ1wiIGZhaWxlZCB3aGVuIGxvYWRpbmcgZGVmaW5pdGlvbi4nKTtcInN0cmluZ1wiPT10eXBlb2YgZSYmQ0tFRElUT1Iuc2NyaXB0TG9hZGVyLmxvYWQoQ0tFRElUT1IuZ2V0VXJsKGUpLGZ1bmN0aW9uKCl7XCJmdW5jdGlvblwiIT10eXBlb2YgQ0tFRElUT1IuZGlhbG9nLl8uZGlhbG9nRGVmaW5pdGlvbnNbYV0mJihDS0VESVRPUi5kaWFsb2cuXy5kaWFsb2dEZWZpbml0aW9uc1thXT1cImZhaWxlZFwiKTt0aGlzLm9wZW5EaWFsb2coYSxiKX0sdGhpcywwLDEpfUNLRURJVE9SLnNraW4ubG9hZFBhcnQoXCJkaWFsb2dcIik7cmV0dXJuIGN9fSl9KSgpO1xuQ0tFRElUT1IucGx1Z2lucy5hZGQoXCJkaWFsb2dcIix7cmVxdWlyZXM6XCJkaWFsb2d1aVwiLGluaXQ6ZnVuY3Rpb24ocCl7cC5vbihcImNvbnRlbnREb21cIixmdW5jdGlvbigpe3ZhciB1PXAuZWRpdGFibGUoKTt1LmF0dGFjaExpc3RlbmVyKHUsXCJkYmxjbGlja1wiLGZ1bmN0aW9uKHEpe2lmKHAucmVhZE9ubHkpcmV0dXJuITE7cT17ZWxlbWVudDpxLmRhdGEuZ2V0VGFyZ2V0KCl9O3AuZmlyZShcImRvdWJsZWNsaWNrXCIscSk7cS5kaWFsb2cmJnAub3BlbkRpYWxvZyhxLmRpYWxvZyk7cmV0dXJuIDF9KX0pfX0pO0NLRURJVE9SLnBsdWdpbnMuYWRkKFwiYWJvdXRcIix7cmVxdWlyZXM6XCJkaWFsb2dcIixpbml0OmZ1bmN0aW9uKGEpe3ZhciBiPWEuYWRkQ29tbWFuZChcImFib3V0XCIsbmV3IENLRURJVE9SLmRpYWxvZ0NvbW1hbmQoXCJhYm91dFwiKSk7Yi5tb2Rlcz17d3lzaXd5ZzoxLHNvdXJjZToxfTtiLmNhblVuZG89ITE7Yi5yZWFkT25seT0xO2EudWkuYWRkQnV0dG9uJiZhLnVpLmFkZEJ1dHRvbihcIkFib3V0XCIse2xhYmVsOmEubGFuZy5hYm91dC50aXRsZSxjb21tYW5kOlwiYWJvdXRcIix0b29sYmFyOlwiYWJvdXRcIn0pO0NLRURJVE9SLmRpYWxvZy5hZGQoXCJhYm91dFwiLHRoaXMucGF0aCtcImRpYWxvZ3MvYWJvdXQuanNcIil9fSk7Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJiYXNpY3N0eWxlc1wiLHtpbml0OmZ1bmN0aW9uKGMpe3ZhciBmPTAsYT1mdW5jdGlvbihhLGQsYixlKXtlJiYoZT1uZXcgQ0tFRElUT1Iuc3R5bGUoZSksYy5hdHRhY2hTdHlsZVN0YXRlQ2hhbmdlKGUsZnVuY3Rpb24oYSl7IWMucmVhZE9ubHkmJmMuZ2V0Q29tbWFuZChiKS5zZXRTdGF0ZShhKX0pLGMuYWRkQ29tbWFuZChiLG5ldyBDS0VESVRPUi5zdHlsZUNvbW1hbmQoZSkpLGMudWkuYWRkQnV0dG9uJiZjLnVpLmFkZEJ1dHRvbihhLHtsYWJlbDpkLGNvbW1hbmQ6Yix0b29sYmFyOlwiYmFzaWNzdHlsZXMsXCIrKGYrPTEwKX0pKX0sZD1jLmNvbmZpZyxiPWMubGFuZy5iYXNpY3N0eWxlczthKFwiQm9sZFwiLGIuYm9sZCxcImJvbGRcIixkLmNvcmVTdHlsZXNfYm9sZCk7YShcIkl0YWxpY1wiLGIuaXRhbGljLFwiaXRhbGljXCIsZC5jb3JlU3R5bGVzX2l0YWxpYyk7YShcIlVuZGVybGluZVwiLGIudW5kZXJsaW5lLFwidW5kZXJsaW5lXCIsZC5jb3JlU3R5bGVzX3VuZGVybGluZSk7XG5hKFwiU3RyaWtlXCIsYi5zdHJpa2UsXCJzdHJpa2VcIixkLmNvcmVTdHlsZXNfc3RyaWtlKTthKFwiU3Vic2NyaXB0XCIsYi5zdWJzY3JpcHQsXCJzdWJzY3JpcHRcIixkLmNvcmVTdHlsZXNfc3Vic2NyaXB0KTthKFwiU3VwZXJzY3JpcHRcIixiLnN1cGVyc2NyaXB0LFwic3VwZXJzY3JpcHRcIixkLmNvcmVTdHlsZXNfc3VwZXJzY3JpcHQpO2Muc2V0S2V5c3Ryb2tlKFtbQ0tFRElUT1IuQ1RSTCs2NixcImJvbGRcIl0sW0NLRURJVE9SLkNUUkwrNzMsXCJpdGFsaWNcIl0sW0NLRURJVE9SLkNUUkwrODUsXCJ1bmRlcmxpbmVcIl1dKX19KTtDS0VESVRPUi5jb25maWcuY29yZVN0eWxlc19ib2xkPXtlbGVtZW50Olwic3Ryb25nXCIsb3ZlcnJpZGVzOlwiYlwifTtDS0VESVRPUi5jb25maWcuY29yZVN0eWxlc19pdGFsaWM9e2VsZW1lbnQ6XCJlbVwiLG92ZXJyaWRlczpcImlcIn07Q0tFRElUT1IuY29uZmlnLmNvcmVTdHlsZXNfdW5kZXJsaW5lPXtlbGVtZW50OlwidVwifTtcbkNLRURJVE9SLmNvbmZpZy5jb3JlU3R5bGVzX3N0cmlrZT17ZWxlbWVudDpcInN0cmlrZVwifTtDS0VESVRPUi5jb25maWcuY29yZVN0eWxlc19zdWJzY3JpcHQ9e2VsZW1lbnQ6XCJzdWJcIn07Q0tFRElUT1IuY29uZmlnLmNvcmVTdHlsZXNfc3VwZXJzY3JpcHQ9e2VsZW1lbnQ6XCJzdXBcIn07KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdihiKXtmdW5jdGlvbiBhKCl7dmFyIGU9Yi5lZGl0YWJsZSgpO2Uub24ocSxmdW5jdGlvbihiKXsoIUNLRURJVE9SLmVudi5pZXx8IW0pJiZ1KGIpfSk7Q0tFRElUT1IuZW52LmllJiZlLm9uKFwicGFzdGVcIixmdW5jdGlvbihlKXtyfHwoZigpLGUuZGF0YS5wcmV2ZW50RGVmYXVsdCgpLHUoZSksbChcInBhc3RlXCIpfHxiLm9wZW5EaWFsb2coXCJwYXN0ZVwiKSl9KTtDS0VESVRPUi5lbnYuaWUmJihlLm9uKFwiY29udGV4dG1lbnVcIixoLG51bGwsbnVsbCwwKSxlLm9uKFwiYmVmb3JlcGFzdGVcIixmdW5jdGlvbihiKXtiLmRhdGEmJiFiLmRhdGEuJC5jdHJsS2V5JiZoKCl9LG51bGwsbnVsbCwwKSk7ZS5vbihcImJlZm9yZWN1dFwiLGZ1bmN0aW9uKCl7IW0mJmooYil9KTtlLm9uKFwibW91c2V1cFwiLGZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe3MoKX0sMCl9KTtlLm9uKFwia2V5dXBcIixzKX1mdW5jdGlvbiBkKGUpe3JldHVybnt0eXBlOmUsY2FuVW5kbzpcImN1dFwiPT1cbmUsc3RhcnREaXNhYmxlZDohMCxleGVjOmZ1bmN0aW9uKCl7XCJjdXRcIj09dGhpcy50eXBlJiZqKCk7dmFyIGU7dmFyIGE9dGhpcy50eXBlO2lmKENLRURJVE9SLmVudi5pZSllPWwoYSk7ZWxzZSB0cnl7ZT1iLmRvY3VtZW50LiQuZXhlY0NvbW1hbmQoYSwhMSxudWxsKX1jYXRjaChjKXtlPSExfWV8fGFsZXJ0KGIubGFuZy5jbGlwYm9hcmRbdGhpcy50eXBlK1wiRXJyb3JcIl0pO3JldHVybiBlfX19ZnVuY3Rpb24gYygpe3JldHVybntjYW5VbmRvOiExLGFzeW5jOiEwLGV4ZWM6ZnVuY3Rpb24oYixhKXt2YXIgYz1mdW5jdGlvbihhLGMpe2EmJmcoYS50eXBlLGEuZGF0YVZhbHVlLCEhYyk7Yi5maXJlKFwiYWZ0ZXJDb21tYW5kRXhlY1wiLHtuYW1lOlwicGFzdGVcIixjb21tYW5kOmQscmV0dXJuVmFsdWU6ISFhfSl9LGQ9dGhpcztcInN0cmluZ1wiPT10eXBlb2YgYT9jKHt0eXBlOlwiYXV0b1wiLGRhdGFWYWx1ZTphfSwxKTpiLmdldENsaXBib2FyZERhdGEoYyl9fX1mdW5jdGlvbiBmKCl7cj0xO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtyPVxuMH0sMTAwKX1mdW5jdGlvbiBoKCl7bT0xO3NldFRpbWVvdXQoZnVuY3Rpb24oKXttPTB9LDEwKX1mdW5jdGlvbiBsKGUpe3ZhciBhPWIuZG9jdW1lbnQsYz1hLmdldEJvZHkoKSxkPSExLGo9ZnVuY3Rpb24oKXtkPSEwfTtjLm9uKGUsaik7KDc8Q0tFRElUT1IuZW52LnZlcnNpb24/YS4kOmEuJC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKSkuZXhlY0NvbW1hbmQoZSk7Yy5yZW1vdmVMaXN0ZW5lcihlLGopO3JldHVybiBkfWZ1bmN0aW9uIGcoZSxhLGMpe2U9e3R5cGU6ZX07aWYoYyYmIWIuZmlyZShcImJlZm9yZVBhc3RlXCIsZSl8fCFhKXJldHVybiExO2UuZGF0YVZhbHVlPWE7cmV0dXJuIGIuZmlyZShcInBhc3RlXCIsZSl9ZnVuY3Rpb24gaigpe2lmKENLRURJVE9SLmVudi5pZSYmIUNLRURJVE9SLmVudi5xdWlya3Mpe3ZhciBlPWIuZ2V0U2VsZWN0aW9uKCksYSxjLGQ7aWYoZS5nZXRUeXBlKCk9PUNLRURJVE9SLlNFTEVDVElPTl9FTEVNRU5UJiYoYT1lLmdldFNlbGVjdGVkRWxlbWVudCgpKSljPVxuZS5nZXRSYW5nZXMoKVswXSxkPWIuZG9jdW1lbnQuY3JlYXRlVGV4dChcIlwiKSxkLmluc2VydEJlZm9yZShhKSxjLnNldFN0YXJ0QmVmb3JlKGQpLGMuc2V0RW5kQWZ0ZXIoYSksZS5zZWxlY3RSYW5nZXMoW2NdKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5nZXRQYXJlbnQoKSYmKGQucmVtb3ZlKCksZS5zZWxlY3RFbGVtZW50KGEpKX0sMCl9fWZ1bmN0aW9uIGsoYSxjKXt2YXIgZD1iLmRvY3VtZW50LGo9Yi5lZGl0YWJsZSgpLGs9ZnVuY3Rpb24oYil7Yi5jYW5jZWwoKX0sZj1DS0VESVRPUi5lbnYuZ2Vja28mJjEwOTAyPj1DS0VESVRPUi5lbnYudmVyc2lvbjtpZighZC5nZXRCeUlkKFwiY2tlX3Bhc3RlYmluXCIpKXt2YXIgaD1iLmdldFNlbGVjdGlvbigpLG89aC5jcmVhdGVCb29rbWFya3MoKSxpPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChqLmlzKFwiYm9keVwiKSYmIUNLRURJVE9SLmVudi5pZSYmIUNLRURJVE9SLmVudi5vcGVyYT9cImJvZHlcIjpcImRpdlwiLGQpO2kuc2V0QXR0cmlidXRlKFwiaWRcIixcblwiY2tlX3Bhc3RlYmluXCIpO0NLRURJVE9SLmVudi5vcGVyYSYmaS5hcHBlbmRCb2d1cygpO3ZhciBnPTAsZD1kLmdldFdpbmRvdygpO2Y/KGkuaW5zZXJ0QWZ0ZXIob1swXS5zdGFydE5vZGUpLGkuc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJpbmxpbmVcIikpOihDS0VESVRPUi5lbnYud2Via2l0PyhqLmFwcGVuZChpKSxpLmFkZENsYXNzKFwiY2tlX2VkaXRhYmxlXCIpLGc9KGouaXMoXCJib2R5XCIpP2o6Q0tFRElUT1IuZG9tLmVsZW1lbnQuZ2V0KGkuJC5vZmZzZXRQYXJlbnQpKS5nZXREb2N1bWVudFBvc2l0aW9uKCkueSk6ai5nZXRBc2NlbmRhbnQoQ0tFRElUT1IuZW52LmllfHxDS0VESVRPUi5lbnYub3BlcmE/XCJib2R5XCI6XCJodG1sXCIsMSkuYXBwZW5kKGkpLGkuc2V0U3R5bGVzKHtwb3NpdGlvbjpcImFic29sdXRlXCIsdG9wOmQuZ2V0U2Nyb2xsUG9zaXRpb24oKS55LWcrMTArXCJweFwiLHdpZHRoOlwiMXB4XCIsaGVpZ2h0Ok1hdGgubWF4KDEsZC5nZXRWaWV3UGFuZVNpemUoKS5oZWlnaHQtMjApK1wicHhcIixcbm92ZXJmbG93OlwiaGlkZGVuXCIsbWFyZ2luOjAscGFkZGluZzowfSkpOyhmPWkuZ2V0UGFyZW50KCkuaXNSZWFkT25seSgpKT8oaS5zZXRPcGFjaXR5KDApLGkuc2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIsITApKTppLnNldFN0eWxlKFwibHRyXCI9PWIuY29uZmlnLmNvbnRlbnRzTGFuZ0RpcmVjdGlvbj9cImxlZnRcIjpcInJpZ2h0XCIsXCItMTAwMHB4XCIpO2Iub24oXCJzZWxlY3Rpb25DaGFuZ2VcIixrLG51bGwsbnVsbCwwKTtmJiZpLmZvY3VzKCk7Zj1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKGkpO2Yuc2VsZWN0Tm9kZUNvbnRlbnRzKGkpO3ZhciBsPWYuc2VsZWN0KCk7aWYoQ0tFRElUT1IuZW52LmllKXZhciBtPWoub25jZShcImJsdXJcIixmdW5jdGlvbigpe2IubG9ja1NlbGVjdGlvbihsKX0pO3ZhciBuPUNLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpLmdldFNjcm9sbFBvc2l0aW9uKCkueTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aWYoQ0tFRElUT1IuZW52LndlYmtpdHx8Q0tFRElUT1IuZW52Lm9wZXJhKUNLRURJVE9SLmRvY3VtZW50W0NLRURJVE9SLmVudi53ZWJraXQ/XG5cImdldEJvZHlcIjpcImdldERvY3VtZW50RWxlbWVudFwiXSgpLiQuc2Nyb2xsVG9wPW47bSYmbS5yZW1vdmVMaXN0ZW5lcigpO0NLRURJVE9SLmVudi5pZSYmai5mb2N1cygpO2guc2VsZWN0Qm9va21hcmtzKG8pO2kucmVtb3ZlKCk7dmFyIGE7aWYoQ0tFRElUT1IuZW52LndlYmtpdCYmKGE9aS5nZXRGaXJzdCgpKSYmYS5pcyYmYS5oYXNDbGFzcyhcIkFwcGxlLXN0eWxlLXNwYW5cIikpaT1hO2IucmVtb3ZlTGlzdGVuZXIoXCJzZWxlY3Rpb25DaGFuZ2VcIixrKTtjKGkuZ2V0SHRtbCgpKX0sMCl9fWZ1bmN0aW9uIG8oKXtpZihDS0VESVRPUi5lbnYuaWUpe2IuZm9jdXMoKTtmKCk7dmFyIGE9Yi5mb2N1c01hbmFnZXI7YS5sb2NrKCk7aWYoYi5lZGl0YWJsZSgpLmZpcmUocSkmJiFsKFwicGFzdGVcIikpcmV0dXJuIGEudW5sb2NrKCksITE7YS51bmxvY2soKX1lbHNlIHRyeXtpZihiLmVkaXRhYmxlKCkuZmlyZShxKSYmIWIuZG9jdW1lbnQuJC5leGVjQ29tbWFuZChcIlBhc3RlXCIsITEsbnVsbCkpdGhyb3cgMDtcbn1jYXRjaChjKXtyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiBwKGEpe2lmKFwid3lzaXd5Z1wiPT1iLm1vZGUpc3dpdGNoKGEuZGF0YS5rZXlDb2RlKXtjYXNlIENLRURJVE9SLkNUUkwrODY6Y2FzZSBDS0VESVRPUi5TSElGVCs0NTphPWIuZWRpdGFibGUoKTtmKCk7IUNLRURJVE9SLmVudi5pZSYmYS5maXJlKFwiYmVmb3JlcGFzdGVcIik7KENLRURJVE9SLmVudi5vcGVyYXx8Q0tFRElUT1IuZW52LmdlY2tvJiYxMDkwMD5DS0VESVRPUi5lbnYudmVyc2lvbikmJmEuZmlyZShcInBhc3RlXCIpO2JyZWFrO2Nhc2UgQ0tFRElUT1IuQ1RSTCs4ODpjYXNlIENLRURJVE9SLlNISUZUKzQ2OmIuZmlyZShcInNhdmVTbmFwc2hvdFwiKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5maXJlKFwic2F2ZVNuYXBzaG90XCIpfSwwKX19ZnVuY3Rpb24gdShhKXt2YXIgYz17dHlwZTpcImF1dG9cIn0sZD1iLmZpcmUoXCJiZWZvcmVQYXN0ZVwiLGMpO2soYSxmdW5jdGlvbihiKXtiPWIucmVwbGFjZSgvPHNwYW5bXj5dK2RhdGEtY2tlLWJvb2ttYXJrW148XSo/PFxcL3NwYW4+L2lnLFxuXCJcIik7ZCYmZyhjLnR5cGUsYiwwLDEpfSl9ZnVuY3Rpb24gcygpe2lmKFwid3lzaXd5Z1wiPT1iLm1vZGUpe3ZhciBhPW4oXCJQYXN0ZVwiKTtiLmdldENvbW1hbmQoXCJjdXRcIikuc2V0U3RhdGUobihcIkN1dFwiKSk7Yi5nZXRDb21tYW5kKFwiY29weVwiKS5zZXRTdGF0ZShuKFwiQ29weVwiKSk7Yi5nZXRDb21tYW5kKFwicGFzdGVcIikuc2V0U3RhdGUoYSk7Yi5maXJlKFwicGFzdGVTdGF0ZVwiLGEpfX1mdW5jdGlvbiBuKGEpe3ZhciBjO2lmKHQmJmEgaW57UGFzdGU6MSxDdXQ6MX0pcmV0dXJuIENLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEO2lmKFwiUGFzdGVcIj09YSl7Q0tFRElUT1IuZW52LmllJiYobT0xKTt0cnl7Yz1iLmRvY3VtZW50LiQucXVlcnlDb21tYW5kRW5hYmxlZChhKXx8Q0tFRElUT1IuZW52LndlYmtpdH1jYXRjaChkKXt9bT0wfWVsc2UgYT1iLmdldFNlbGVjdGlvbigpLGM9YS5nZXRSYW5nZXMoKSxjPWEudHlwZSE9Q0tFRElUT1IuU0VMRUNUSU9OX05PTkUmJiEoMT09Yy5sZW5ndGgmJmNbMF0uY29sbGFwc2VkKTtcbnJldHVybiBjP0NLRURJVE9SLlRSSVNUQVRFX09GRjpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRH12YXIgbT0wLHI9MCx0PTAscT1DS0VESVRPUi5lbnYuaWU/XCJiZWZvcmVwYXN0ZVwiOlwicGFzdGVcIjsoZnVuY3Rpb24oKXtiLm9uKFwia2V5XCIscCk7Yi5vbihcImNvbnRlbnREb21cIixhKTtiLm9uKFwic2VsZWN0aW9uQ2hhbmdlXCIsZnVuY3Rpb24oYil7dD1iLmRhdGEuc2VsZWN0aW9uLmdldFJhbmdlcygpWzBdLmNoZWNrUmVhZE9ubHkoKTtzKCl9KTtiLmNvbnRleHRNZW51JiZiLmNvbnRleHRNZW51LmFkZExpc3RlbmVyKGZ1bmN0aW9uKGIsYSl7dD1hLmdldFJhbmdlcygpWzBdLmNoZWNrUmVhZE9ubHkoKTtyZXR1cm57Y3V0Om4oXCJDdXRcIiksY29weTpuKFwiQ29weVwiKSxwYXN0ZTpuKFwiUGFzdGVcIil9fSl9KSgpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYyxkLGosZSxmKXt2YXIgaz1iLmxhbmcuY2xpcGJvYXJkW2RdO2IuYWRkQ29tbWFuZChkLGopO2IudWkuYWRkQnV0dG9uJiZiLnVpLmFkZEJ1dHRvbihjLFxue2xhYmVsOmssY29tbWFuZDpkLHRvb2xiYXI6XCJjbGlwYm9hcmQsXCIrZX0pO2IuYWRkTWVudUl0ZW1zJiZiLmFkZE1lbnVJdGVtKGQse2xhYmVsOmssY29tbWFuZDpkLGdyb3VwOlwiY2xpcGJvYXJkXCIsb3JkZXI6Zn0pfWEoXCJDdXRcIixcImN1dFwiLGQoXCJjdXRcIiksMTAsMSk7YShcIkNvcHlcIixcImNvcHlcIixkKFwiY29weVwiKSwyMCw0KTthKFwiUGFzdGVcIixcInBhc3RlXCIsYygpLDMwLDgpfSkoKTtiLmdldENsaXBib2FyZERhdGE9ZnVuY3Rpb24oYSxjKXtmdW5jdGlvbiBkKGEpe2EucmVtb3ZlTGlzdGVuZXIoKTthLmNhbmNlbCgpO2MoYS5kYXRhKX1mdW5jdGlvbiBqKGEpe2EucmVtb3ZlTGlzdGVuZXIoKTthLmNhbmNlbCgpO2c9ITA7Yyh7dHlwZTpoLGRhdGFWYWx1ZTphLmRhdGF9KX1mdW5jdGlvbiBmKCl7dGhpcy5jdXN0b21UaXRsZT1hJiZhLnRpdGxlfXZhciBrPSExLGg9XCJhdXRvXCIsZz0hMTtjfHwoYz1hLGE9bnVsbCk7Yi5vbihcInBhc3RlXCIsZCxudWxsLG51bGwsMCk7Yi5vbihcImJlZm9yZVBhc3RlXCIsXG5mdW5jdGlvbihhKXthLnJlbW92ZUxpc3RlbmVyKCk7az10cnVlO2g9YS5kYXRhLnR5cGV9LG51bGwsbnVsbCwxRTMpOyExPT09bygpJiYoYi5yZW1vdmVMaXN0ZW5lcihcInBhc3RlXCIsZCksayYmYi5maXJlKFwicGFzdGVEaWFsb2dcIixmKT8oYi5vbihcInBhc3RlRGlhbG9nQ29tbWl0XCIsaiksYi5vbihcImRpYWxvZ0hpZGVcIixmdW5jdGlvbihhKXthLnJlbW92ZUxpc3RlbmVyKCk7YS5kYXRhLnJlbW92ZUxpc3RlbmVyKFwicGFzdGVEaWFsb2dDb21taXRcIixqKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Z3x8YyhudWxsKX0sMTApfSkpOmMobnVsbCkpfX1mdW5jdGlvbiB3KGIpe2lmKENLRURJVE9SLmVudi53ZWJraXQpe2lmKCFiLm1hdGNoKC9eW148XSokL2cpJiYhYi5tYXRjaCgvXig8ZGl2PjxiciggP1xcLyk/PjxcXC9kaXY+fDxkaXY+W148XSo8XFwvZGl2PikqJC9naSkpcmV0dXJuXCJodG1sXCJ9ZWxzZSBpZihDS0VESVRPUi5lbnYuaWUpe2lmKCFiLm1hdGNoKC9eKFtePF18PGJyKCA/XFwvKT8+KSokL2dpKSYmXG4hYi5tYXRjaCgvXig8cD4oW148XXw8YnIoID9cXC8pPz4pKjxcXC9wPnwoXFxyXFxuKSkqJC9naSkpcmV0dXJuXCJodG1sXCJ9ZWxzZSBpZihDS0VESVRPUi5lbnYuZ2Vja298fENLRURJVE9SLmVudi5vcGVyYSl7aWYoIWIubWF0Y2goL14oW148XXw8YnIoID9cXC8pPz4pKiQvZ2kpKXJldHVyblwiaHRtbFwifWVsc2UgcmV0dXJuXCJodG1sXCI7cmV0dXJuXCJodG1saWZpZWR0ZXh0XCJ9ZnVuY3Rpb24geChiLGEpe2Z1bmN0aW9uIGQoYSl7cmV0dXJuIENLRURJVE9SLnRvb2xzLnJlcGVhdChcIjwvcD48cD5cIix+fihhLzIpKSsoMT09YSUyP1wiPGJyPlwiOlwiXCIpfWE9YS5yZXBsYWNlKC9cXHMrL2csXCIgXCIpLnJlcGxhY2UoLz4gKzwvZyxcIj48XCIpLnJlcGxhY2UoLzxiciA/XFwvPi9naSxcIjxicj5cIik7YT1hLnJlcGxhY2UoLzxcXC8/W0EtWl0rPi9nLGZ1bmN0aW9uKGEpe3JldHVybiBhLnRvTG93ZXJDYXNlKCl9KTtpZihhLm1hdGNoKC9eW148XSQvKSlyZXR1cm4gYTtDS0VESVRPUi5lbnYud2Via2l0JiYtMTxhLmluZGV4T2YoXCI8ZGl2PlwiKSYmXG4oYT1hLnJlcGxhY2UoL14oPGRpdj4oPGJyPnwpPFxcL2Rpdj4pKD8hJHwoPGRpdj4oPGJyPnwpPFxcL2Rpdj4pKS9nLFwiPGJyPlwiKS5yZXBsYWNlKC9eKDxkaXY+KDxicj58KTxcXC9kaXY+KXsyfSg/ISQpL2csXCI8ZGl2PjwvZGl2PlwiKSxhLm1hdGNoKC88ZGl2Pig8YnI+fCk8XFwvZGl2Pi8pJiYoYT1cIjxwPlwiK2EucmVwbGFjZSgvKDxkaXY+KDxicj58KTxcXC9kaXY+KSsvZyxmdW5jdGlvbihhKXtyZXR1cm4gZChhLnNwbGl0KFwiPC9kaXY+PGRpdj5cIikubGVuZ3RoKzEpfSkrXCI8L3A+XCIpLGE9YS5yZXBsYWNlKC88XFwvZGl2PjxkaXY+L2csXCI8YnI+XCIpLGE9YS5yZXBsYWNlKC88XFwvP2Rpdj4vZyxcIlwiKSk7aWYoKENLRURJVE9SLmVudi5nZWNrb3x8Q0tFRElUT1IuZW52Lm9wZXJhKSYmYi5lbnRlck1vZGUhPUNLRURJVE9SLkVOVEVSX0JSKUNLRURJVE9SLmVudi5nZWNrbyYmKGE9YS5yZXBsYWNlKC9ePGJyPjxicj4kLyxcIjxicj5cIikpLC0xPGEuaW5kZXhPZihcIjxicj48YnI+XCIpJiYoYT1cIjxwPlwiK1xuYS5yZXBsYWNlKC8oPGJyPil7Mix9L2csZnVuY3Rpb24oYSl7cmV0dXJuIGQoYS5sZW5ndGgvNCl9KStcIjwvcD5cIik7cmV0dXJuIHAoYixhKX1mdW5jdGlvbiB5KCl7dmFyIGI9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZmlsdGVyLGE9e2Jsb2NrcXVvdGU6MSxkbDoxLGZpZWxkc2V0OjEsaDE6MSxoMjoxLGgzOjEsaDQ6MSxoNToxLGg2OjEsb2w6MSxwOjEsdGFibGU6MSx1bDoxfSxkPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7YnI6MH0sQ0tFRElUT1IuZHRkLiRpbmxpbmUpLGM9e3A6MSxicjoxLFwiY2tlOmJyXCI6MX0sZj1DS0VESVRPUi5kdGQsaD1DS0VESVRPUi50b29scy5leHRlbmQoe2FyZWE6MSxiYXNlZm9udDoxLGVtYmVkOjEsaWZyYW1lOjEsbWFwOjEsb2JqZWN0OjEscGFyYW06MX0sQ0tFRElUT1IuZHRkLiRub25Cb2R5Q29udGVudCxDS0VESVRPUi5kdGQuJGNkYXRhKSxsPWZ1bmN0aW9uKGEpe2RlbGV0ZSBhLm5hbWU7YS5hZGQobmV3IENLRURJVE9SLmh0bWxQYXJzZXIudGV4dChcIiBcIikpfSxcbmc9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWEsYzsoYj1iLm5leHQpJiZiLm5hbWUmJmIubmFtZS5tYXRjaCgvXmhcXGQkLyk7KXtjPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQoXCJja2U6YnJcIik7Yy5pc0VtcHR5PSEwO2ZvcihhLmFkZChjKTtjPWIuY2hpbGRyZW4uc2hpZnQoKTspYS5hZGQoYyl9fTtiLmFkZFJ1bGVzKHtlbGVtZW50czp7aDE6ZyxoMjpnLGgzOmcsaDQ6ZyxoNTpnLGg2OmcsaW1nOmZ1bmN0aW9uKGEpe3ZhciBhPUNLRURJVE9SLnRvb2xzLnRyaW0oYS5hdHRyaWJ1dGVzLmFsdHx8XCJcIiksYj1cIiBcIjthJiYhYS5tYXRjaCgvKF5odHRwfFxcLihqcGU/Z3xnaWZ8cG5nKSkvaSkmJihiPVwiIFtcIithK1wiXSBcIik7cmV0dXJuIG5ldyBDS0VESVRPUi5odG1sUGFyc2VyLnRleHQoYil9LHRkOmwsdGg6bCwkOmZ1bmN0aW9uKGIpe3ZhciBrPWIubmFtZSxnO2lmKGhba10pcmV0dXJuITE7ZGVsZXRlIGIuYXR0cmlidXRlcztpZihcImJyXCI9PWspcmV0dXJuIGI7aWYoYVtrXSliLm5hbWU9XG5cInBcIjtlbHNlIGlmKGRba10pZGVsZXRlIGIubmFtZTtlbHNlIGlmKGZba10pe2c9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudChcImNrZTpiclwiKTtnLmlzRW1wdHk9ITA7aWYoQ0tFRElUT1IuZHRkLiRlbXB0eVtrXSlyZXR1cm4gZztiLmFkZChnLDApO2c9Zy5jbG9uZSgpO2cuaXNFbXB0eT0hMDtiLmFkZChnKTtkZWxldGUgYi5uYW1lfWNbYi5uYW1lXXx8ZGVsZXRlIGIubmFtZTtyZXR1cm4gYn19fSk7cmV0dXJuIGJ9ZnVuY3Rpb24geihiLGEsZCl7dmFyIGE9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZnJhZ21lbnQuZnJvbUh0bWwoYSksYz1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5iYXNpY1dyaXRlcjthLndyaXRlSHRtbChjLGQpO3ZhciBhPWMuZ2V0SHRtbCgpLGE9YS5yZXBsYWNlKC9cXHMqKDxcXC8/W2EtejpdKyA/XFwvPz4pXFxzKi9nLFwiJDFcIikucmVwbGFjZSgvKDxja2U6YnIgXFwvPil7Mix9L2csXCI8Y2tlOmJyIC8+XCIpLnJlcGxhY2UoLyg8Y2tlOmJyIFxcLz4pKDxcXC8/cD58PGJyIFxcLz4pL2csXG5cIiQyXCIpLnJlcGxhY2UoLyg8XFwvP3A+fDxiciBcXC8+KSg8Y2tlOmJyIFxcLz4pL2csXCIkMVwiKS5yZXBsYWNlKC88KGNrZTopP2JyKCBcXC8pPz4vZyxcIjxicj5cIikucmVwbGFjZSgvPHA+PFxcL3A+L2csXCJcIiksZj0wLGE9YS5yZXBsYWNlKC88XFwvP3A+L2csZnVuY3Rpb24oYSl7aWYoXCI8cD5cIj09YSl7aWYoMTwrK2YpcmV0dXJuXCI8L3A+PHA+XCJ9ZWxzZSBpZigwPC0tZilyZXR1cm5cIjwvcD48cD5cIjtyZXR1cm4gYX0pLnJlcGxhY2UoLzxwPjxcXC9wPi9nLFwiXCIpO3JldHVybiBwKGIsYSl9ZnVuY3Rpb24gcChiLGEpe2IuZW50ZXJNb2RlPT1DS0VESVRPUi5FTlRFUl9CUj9hPWEucmVwbGFjZSgvKDxcXC9wPjxwPikrL2csZnVuY3Rpb24oYSl7cmV0dXJuIENLRURJVE9SLnRvb2xzLnJlcGVhdChcIjxicj5cIiwyKihhLmxlbmd0aC83KSl9KS5yZXBsYWNlKC88XFwvP3A+L2csXCJcIik6Yi5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX0RJViYmKGE9YS5yZXBsYWNlKC88KFxcLyk/cD4vZyxcIjwkMWRpdj5cIikpO1xucmV0dXJuIGF9Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJjbGlwYm9hcmRcIix7cmVxdWlyZXM6XCJkaWFsb2dcIixpbml0OmZ1bmN0aW9uKGIpe3ZhciBhO3YoYik7Q0tFRElUT1IuZGlhbG9nLmFkZChcInBhc3RlXCIsQ0tFRElUT1IuZ2V0VXJsKHRoaXMucGF0aCtcImRpYWxvZ3MvcGFzdGUuanNcIikpO2Iub24oXCJwYXN0ZVwiLGZ1bmN0aW9uKGEpe3ZhciBiPWEuZGF0YS5kYXRhVmFsdWUsZj1DS0VESVRPUi5kdGQuJGJsb2NrOy0xPGIuaW5kZXhPZihcIkFwcGxlLVwiKSYmKGI9Yi5yZXBsYWNlKC88c3BhbiBjbGFzcz1cIkFwcGxlLWNvbnZlcnRlZC1zcGFjZVwiPiZuYnNwOzxcXC9zcGFuPi9naSxcIiBcIiksXCJodG1sXCIhPWEuZGF0YS50eXBlJiYoYj1iLnJlcGxhY2UoLzxzcGFuIGNsYXNzPVwiQXBwbGUtdGFiLXNwYW5cIltePl0qPihbXjxdKik8XFwvc3Bhbj4vZ2ksZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi5yZXBsYWNlKC9cXHQvZyxcIiZuYnNwOyZuYnNwOyAmbmJzcDtcIil9KSksLTE8Yi5pbmRleE9mKCc8YnIgY2xhc3M9XCJBcHBsZS1pbnRlcmNoYW5nZS1uZXdsaW5lXCI+JykmJlxuKGEuZGF0YS5zdGFydHNXaXRoRU9MPTEsYS5kYXRhLnByZVNuaWZmaW5nPVwiaHRtbFwiLGI9Yi5yZXBsYWNlKC88YnIgY2xhc3M9XCJBcHBsZS1pbnRlcmNoYW5nZS1uZXdsaW5lXCI+LyxcIlwiKSksYj1iLnJlcGxhY2UoLyg8W14+XSspIGNsYXNzPVwiQXBwbGUtW15cIl0qXCIvZ2ksXCIkMVwiKSk7aWYoYi5tYXRjaCgvXjxbXjxdK2NrZV8oZWRpdGFibGV8Y29udGVudHMpL2kpKXt2YXIgaCxsLGc9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwiZGl2XCIpO2ZvcihnLnNldEh0bWwoYik7MT09Zy5nZXRDaGlsZENvdW50KCkmJihoPWcuZ2V0Rmlyc3QoKSkmJmgudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoaC5oYXNDbGFzcyhcImNrZV9lZGl0YWJsZVwiKXx8aC5oYXNDbGFzcyhcImNrZV9jb250ZW50c1wiKSk7KWc9bD1oO2wmJihiPWwuZ2V0SHRtbCgpLnJlcGxhY2UoLzxicj4kL2ksXCJcIikpfUNLRURJVE9SLmVudi5pZT9iPWIucmVwbGFjZSgvXiZuYnNwOyg/OiB8XFxyXFxuKT88KFxcdyspL2csZnVuY3Rpb24oYixcbmMpe2lmKGMudG9Mb3dlckNhc2UoKWluIGYpe2EuZGF0YS5wcmVTbmlmZmluZz1cImh0bWxcIjtyZXR1cm5cIjxcIitjfXJldHVybiBifSk6Q0tFRElUT1IuZW52LndlYmtpdD9iPWIucmVwbGFjZSgvPFxcLyhcXHcrKT48ZGl2Pjxicj48XFwvZGl2PiQvLGZ1bmN0aW9uKGIsYyl7aWYoYyBpbiBmKXthLmRhdGEuZW5kc1dpdGhFT0w9MTtyZXR1cm5cIjwvXCIrYytcIj5cIn1yZXR1cm4gYn0pOkNLRURJVE9SLmVudi5nZWNrbyYmKGI9Yi5yZXBsYWNlKC8oXFxzKTxicj4kLyxcIiQxXCIpKTthLmRhdGEuZGF0YVZhbHVlPWJ9LG51bGwsbnVsbCwzKTtiLm9uKFwicGFzdGVcIixmdW5jdGlvbihkKXt2YXIgZD1kLmRhdGEsYz1kLnR5cGUsZj1kLmRhdGFWYWx1ZSxoLGw9Yi5jb25maWcuY2xpcGJvYXJkX2RlZmF1bHRDb250ZW50VHlwZXx8XCJodG1sXCI7aD1cImh0bWxcIj09Y3x8XCJodG1sXCI9PWQucHJlU25pZmZpbmc/XCJodG1sXCI6dyhmKTtcImh0bWxpZmllZHRleHRcIj09aD9mPXgoYi5jb25maWcsZik6XCJ0ZXh0XCI9PWMmJlwiaHRtbFwiPT1cbmgmJihmPXooYi5jb25maWcsZixhfHwoYT15KGIpKSkpO2Quc3RhcnRzV2l0aEVPTCYmKGY9JzxiciBkYXRhLWNrZS1lb2w9XCIxXCI+JytmKTtkLmVuZHNXaXRoRU9MJiYoZis9JzxiciBkYXRhLWNrZS1lb2w9XCIxXCI+Jyk7XCJhdXRvXCI9PWMmJihjPVwiaHRtbFwiPT1ofHxcImh0bWxcIj09bD9cImh0bWxcIjpcInRleHRcIik7ZC50eXBlPWM7ZC5kYXRhVmFsdWU9ZjtkZWxldGUgZC5wcmVTbmlmZmluZztkZWxldGUgZC5zdGFydHNXaXRoRU9MO2RlbGV0ZSBkLmVuZHNXaXRoRU9MfSxudWxsLG51bGwsNik7Yi5vbihcInBhc3RlXCIsZnVuY3Rpb24oYSl7YT1hLmRhdGE7Yi5pbnNlcnRIdG1sKGEuZGF0YVZhbHVlLGEudHlwZSk7c2V0VGltZW91dChmdW5jdGlvbigpe2IuZmlyZShcImFmdGVyUGFzdGVcIil9LDApfSxudWxsLG51bGwsMUUzKTtiLm9uKFwicGFzdGVEaWFsb2dcIixmdW5jdGlvbihhKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5vcGVuRGlhbG9nKFwicGFzdGVcIixhLmRhdGEpfSwwKX0pfX0pfSkoKTsoZnVuY3Rpb24oKXt2YXIgYT0nPGEgaWQ9XCJ7aWR9XCIgY2xhc3M9XCJja2VfYnV0dG9uIGNrZV9idXR0b25fX3tuYW1lfSBja2VfYnV0dG9uX3tzdGF0ZX0ge2Nsc31cIicrKENLRURJVE9SLmVudi5nZWNrbyYmMTA5MDA8PUNLRURJVE9SLmVudi52ZXJzaW9uJiYhQ0tFRElUT1IuZW52LmhjP1wiXCI6J1wiIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoXFwne3RpdGxlSnN9XFwnKVwiJykrJyB0aXRsZT1cInt0aXRsZX1cIiB0YWJpbmRleD1cIi0xXCIgaGlkZWZvY3VzPVwidHJ1ZVwiIHJvbGU9XCJidXR0b25cIiBhcmlhLWxhYmVsbGVkYnk9XCJ7aWR9X2xhYmVsXCIgYXJpYS1oYXNwb3B1cD1cIntoYXNBcnJvd31cIic7aWYoQ0tFRElUT1IuZW52Lm9wZXJhfHxDS0VESVRPUi5lbnYuZ2Vja28mJkNLRURJVE9SLmVudi5tYWMpYSs9JyBvbmtleXByZXNzPVwicmV0dXJuIGZhbHNlO1wiJztDS0VESVRPUi5lbnYuZ2Vja28mJihhKz0nIG9uYmx1cj1cInRoaXMuc3R5bGUuY3NzVGV4dCA9IHRoaXMuc3R5bGUuY3NzVGV4dDtcIicpO3ZhciBhPVxuYSsoJyBvbmtleWRvd249XCJyZXR1cm4gQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKHtrZXlkb3duRm59LGV2ZW50KTtcIiBvbmZvY3VzPVwicmV0dXJuIENLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbih7Zm9jdXNGbn0sZXZlbnQpO1wiICBvbm1vdXNlZG93bj1cInJldHVybiBDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oe21vdXNlZG93bkZufSxldmVudCk7XCIgJysoQ0tFRElUT1IuZW52LmllPydvbmNsaWNrPVwicmV0dXJuIGZhbHNlO1wiIG9ubW91c2V1cCc6XCJvbmNsaWNrXCIpKyc9XCJDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oe2NsaWNrRm59LHRoaXMpO3JldHVybiBmYWxzZTtcIj48c3BhbiBjbGFzcz1cImNrZV9idXR0b25faWNvbiBja2VfYnV0dG9uX197aWNvbk5hbWV9X2ljb25cIiBzdHlsZT1cIntzdHlsZX1cIicpLGE9YSsnPiZuYnNwOzwvc3Bhbj48c3BhbiBpZD1cIntpZH1fbGFiZWxcIiBjbGFzcz1cImNrZV9idXR0b25fbGFiZWwgY2tlX2J1dHRvbl9fe25hbWV9X2xhYmVsXCI+e2xhYmVsfTwvc3Bhbj57YXJyb3dIdG1sfTwvYT4nLFxubT1DS0VESVRPUi5hZGRUZW1wbGF0ZShcImJ1dHRvbkFycm93XCIsJzxzcGFuIGNsYXNzPVwiY2tlX2J1dHRvbl9hcnJvd1wiPicrKENLRURJVE9SLmVudi5oYz9cIiYjOTY2MDtcIjpcIlwiKStcIjwvc3Bhbj5cIiksbj1DS0VESVRPUi5hZGRUZW1wbGF0ZShcImJ1dHRvblwiLGEpO0NLRURJVE9SLnBsdWdpbnMuYWRkKFwiYnV0dG9uXCIse2JlZm9yZUluaXQ6ZnVuY3Rpb24oYil7Yi51aS5hZGRIYW5kbGVyKENLRURJVE9SLlVJX0JVVFRPTixDS0VESVRPUi51aS5idXR0b24uaGFuZGxlcil9fSk7Q0tFRElUT1IuVUlfQlVUVE9OPVwiYnV0dG9uXCI7Q0tFRElUT1IudWkuYnV0dG9uPWZ1bmN0aW9uKGIpe0NLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLGIse3RpdGxlOmIubGFiZWwsY2xpY2s6Yi5jbGlja3x8ZnVuY3Rpb24oZSl7ZS5leGVjQ29tbWFuZChiLmNvbW1hbmQpfX0pO3RoaXMuXz17fX07Q0tFRElUT1IudWkuYnV0dG9uLmhhbmRsZXI9e2NyZWF0ZTpmdW5jdGlvbihiKXtyZXR1cm4gbmV3IENLRURJVE9SLnVpLmJ1dHRvbihiKX19O1xuQ0tFRElUT1IudWkuYnV0dG9uLnByb3RvdHlwZT17cmVuZGVyOmZ1bmN0aW9uKGIsZSl7dmFyIGE9Q0tFRElUT1IuZW52LGk9dGhpcy5fLmlkPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpLGY9XCJcIixkPXRoaXMuY29tbWFuZCxsO3RoaXMuXy5lZGl0b3I9Yjt2YXIgYz17aWQ6aSxidXR0b246dGhpcyxlZGl0b3I6Yixmb2N1czpmdW5jdGlvbigpe0NLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQoaSkuZm9jdXMoKX0sZXhlY3V0ZTpmdW5jdGlvbigpe3RoaXMuYnV0dG9uLmNsaWNrKGIpfSxhdHRhY2g6ZnVuY3Rpb24oYil7dGhpcy5idXR0b24uYXR0YWNoKGIpfX0sbz1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbihiKXtpZihjLm9ua2V5KXJldHVybiBiPW5ldyBDS0VESVRPUi5kb20uZXZlbnQoYiksITEhPT1jLm9ua2V5KGMsYi5nZXRLZXlzdHJva2UoKSl9KSxwPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKGIpe3ZhciBhO2Mub25mb2N1cyYmKGE9XG4hMSE9PWMub25mb2N1cyhjLG5ldyBDS0VESVRPUi5kb20uZXZlbnQoYikpKTtDS0VESVRPUi5lbnYuZ2Vja28mJjEwOTAwPkNLRURJVE9SLmVudi52ZXJzaW9uJiZiLnByZXZlbnRCdWJibGUoKTtyZXR1cm4gYX0pLGo9MCxxPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKCl7aWYoQ0tFRElUT1IuZW52Lm9wZXJhKXt2YXIgYT1iLmVkaXRhYmxlKCk7YS5pc0lubGluZSgpJiZhLmhhc0ZvY3VzJiYoYi5sb2NrU2VsZWN0aW9uKCksaj0xKX19KTtjLmNsaWNrRm49bD1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbigpe2omJihiLnVubG9ja1NlbGVjdGlvbigxKSxqPTApO2MuZXhlY3V0ZSgpfSk7aWYodGhpcy5tb2Rlcyl7dmFyIGs9e30sZz1mdW5jdGlvbigpe3ZhciBhPWIubW9kZTthJiYoYT10aGlzLm1vZGVzW2FdP3ZvaWQgMCE9a1thXT9rW2FdOkNLRURJVE9SLlRSSVNUQVRFX09GRjpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCx0aGlzLnNldFN0YXRlKGIucmVhZE9ubHkmJlxuIXRoaXMucmVhZE9ubHk/Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQ6YSkpfTtiLm9uKFwiYmVmb3JlTW9kZVVubG9hZFwiLGZ1bmN0aW9uKCl7Yi5tb2RlJiZ0aGlzLl8uc3RhdGUhPUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEJiYoa1tiLm1vZGVdPXRoaXMuXy5zdGF0ZSl9LHRoaXMpO2Iub24oXCJtb2RlXCIsZyx0aGlzKTshdGhpcy5yZWFkT25seSYmYi5vbihcInJlYWRPbmx5XCIsZyx0aGlzKX1lbHNlIGlmKGQmJihkPWIuZ2V0Q29tbWFuZChkKSkpZC5vbihcInN0YXRlXCIsZnVuY3Rpb24oKXt0aGlzLnNldFN0YXRlKGQuc3RhdGUpfSx0aGlzKSxmKz1kLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9PTj9cIm9uXCI6ZC5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQ/XCJkaXNhYmxlZFwiOlwib2ZmXCI7aWYodGhpcy5kaXJlY3Rpb25hbCliLm9uKFwiY29udGVudERpckNoYW5nZWRcIixmdW5jdGlvbihhKXt2YXIgZT1DS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKHRoaXMuXy5pZCksYz1cbmUuZ2V0Rmlyc3QoKSxhPWEuZGF0YTthIT1iLmxhbmcuZGlyP2UuYWRkQ2xhc3MoXCJja2VfXCIrYSk6ZS5yZW1vdmVDbGFzcyhcImNrZV9sdHJcIikucmVtb3ZlQ2xhc3MoXCJja2VfcnRsXCIpO2Muc2V0QXR0cmlidXRlKFwic3R5bGVcIixDS0VESVRPUi5za2luLmdldEljb25TdHlsZShoLFwicnRsXCI9PWEsdGhpcy5pY29uLHRoaXMuaWNvbk9mZnNldCkpfSx0aGlzKTtkfHwoZis9XCJvZmZcIik7dmFyIGg9Zz10aGlzLm5hbWV8fHRoaXMuY29tbWFuZDt0aGlzLmljb24mJiEvXFwuLy50ZXN0KHRoaXMuaWNvbikmJihoPXRoaXMuaWNvbix0aGlzLmljb249bnVsbCk7YT17aWQ6aSxuYW1lOmcsaWNvbk5hbWU6aCxsYWJlbDp0aGlzLmxhYmVsLGNsczp0aGlzLmNsYXNzTmFtZXx8XCJcIixzdGF0ZTpmLHRpdGxlOnRoaXMudGl0bGUsdGl0bGVKczphLmdlY2tvJiYxMDkwMDw9YS52ZXJzaW9uJiYhYS5oYz9cIlwiOih0aGlzLnRpdGxlfHxcIlwiKS5yZXBsYWNlKFwiJ1wiLFwiXCIpLGhhc0Fycm93OnRoaXMuaGFzQXJyb3c/XG5cInRydWVcIjpcImZhbHNlXCIsa2V5ZG93bkZuOm8sbW91c2Vkb3duRm46cSxmb2N1c0ZuOnAsY2xpY2tGbjpsLHN0eWxlOkNLRURJVE9SLnNraW4uZ2V0SWNvblN0eWxlKGgsXCJydGxcIj09Yi5sYW5nLmRpcix0aGlzLmljb24sdGhpcy5pY29uT2Zmc2V0KSxhcnJvd0h0bWw6dGhpcy5oYXNBcnJvdz9tLm91dHB1dCgpOlwiXCJ9O24ub3V0cHV0KGEsZSk7aWYodGhpcy5vblJlbmRlcil0aGlzLm9uUmVuZGVyKCk7cmV0dXJuIGN9LHNldFN0YXRlOmZ1bmN0aW9uKGIpe2lmKHRoaXMuXy5zdGF0ZT09YilyZXR1cm4hMTt0aGlzLl8uc3RhdGU9Yjt2YXIgYT1DS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKHRoaXMuXy5pZCk7cmV0dXJuIGE/KGEuc2V0U3RhdGUoYixcImNrZV9idXR0b25cIiksYj09Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQ/YS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWRpc2FibGVkXCIsITApOmEucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1kaXNhYmxlZFwiKSxiPT1DS0VESVRPUi5UUklTVEFURV9PTj9cbmEuc2V0QXR0cmlidXRlKFwiYXJpYS1wcmVzc2VkXCIsITApOmEucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1wcmVzc2VkXCIpLCEwKTohMX19O0NLRURJVE9SLnVpLnByb3RvdHlwZS5hZGRCdXR0b249ZnVuY3Rpb24oYixhKXt0aGlzLmFkZChiLENLRURJVE9SLlVJX0JVVFRPTixhKX19KSgpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIHcoYSl7ZnVuY3Rpb24gZSgpe2Zvcih2YXIgYj1oKCksZz1DS0VESVRPUi50b29scy5jbG9uZShhLmNvbmZpZy50b29sYmFyR3JvdXBzKXx8byhhKSxmPTA7ZjxnLmxlbmd0aDtmKyspe3ZhciBkPWdbZl07aWYoXCIvXCIhPWQpe1wic3RyaW5nXCI9PXR5cGVvZiBkJiYoZD1nW2ZdPXtuYW1lOmR9KTt2YXIgZSxuPWQuZ3JvdXBzO2lmKG4pZm9yKHZhciBsPTA7bDxuLmxlbmd0aDtsKyspZT1uW2xdLChlPWJbZV0pJiZjKGQsZSk7KGU9YltkLm5hbWVdKSYmYyhkLGUpfX1yZXR1cm4gZ31mdW5jdGlvbiBoKCl7dmFyIGI9e30sYyxmLGQ7Zm9yKGMgaW4gYS51aS5pdGVtcylmPWEudWkuaXRlbXNbY10sZD1mLnRvb2xiYXJ8fFwib3RoZXJzXCIsZD1kLnNwbGl0KFwiLFwiKSxmPWRbMF0sZD1wYXJzZUludChkWzFdfHwtMSwxMCksYltmXXx8KGJbZl09W10pLGJbZl0ucHVzaCh7bmFtZTpjLG9yZGVyOmR9KTtmb3IoZiBpbiBiKWJbZl09YltmXS5zb3J0KGZ1bmN0aW9uKGEsXG5iKXtyZXR1cm4gYS5vcmRlcj09Yi5vcmRlcj8wOjA+Yi5vcmRlcj8tMTowPmEub3JkZXI/MTphLm9yZGVyPGIub3JkZXI/LTE6MX0pO3JldHVybiBifWZ1bmN0aW9uIGMoYSxjKXtpZihjLmxlbmd0aCl7YS5pdGVtcz9hLml0ZW1zLnB1c2goXCItXCIpOmEuaXRlbXM9W107Zm9yKHZhciBkO2Q9Yy5zaGlmdCgpOylhLml0ZW1zLnB1c2goZC5uYW1lKX19dmFyIGQ9YS5jb25maWcudG9vbGJhcjtcInN0cmluZ1wiPT10eXBlb2YgZCYmKGQ9YS5jb25maWdbXCJ0b29sYmFyX1wiK2RdKTtyZXR1cm4gYS50b29sYmFyPWR8fGUoKX1mdW5jdGlvbiBvKGEpe3JldHVybiBhLl8udG9vbGJhckdyb3Vwc3x8KGEuXy50b29sYmFyR3JvdXBzPVt7bmFtZTpcImRvY3VtZW50XCIsZ3JvdXBzOltcIm1vZGVcIixcImRvY3VtZW50XCIsXCJkb2N0b29sc1wiXX0se25hbWU6XCJjbGlwYm9hcmRcIixncm91cHM6W1wiY2xpcGJvYXJkXCIsXCJ1bmRvXCJdfSx7bmFtZTpcImVkaXRpbmdcIixncm91cHM6W1wiZmluZFwiLFwic2VsZWN0aW9uXCIsXCJzcGVsbGNoZWNrZXJcIl19LFxue25hbWU6XCJmb3Jtc1wifSxcIi9cIix7bmFtZTpcImJhc2ljc3R5bGVzXCIsZ3JvdXBzOltcImJhc2ljc3R5bGVzXCIsXCJjbGVhbnVwXCJdfSx7bmFtZTpcInBhcmFncmFwaFwiLGdyb3VwczpbXCJsaXN0XCIsXCJpbmRlbnRcIixcImJsb2Nrc1wiLFwiYWxpZ25cIl19LHtuYW1lOlwibGlua3NcIn0se25hbWU6XCJpbnNlcnRcIn0sXCIvXCIse25hbWU6XCJzdHlsZXNcIn0se25hbWU6XCJjb2xvcnNcIn0se25hbWU6XCJ0b29sc1wifSx7bmFtZTpcIm90aGVyc1wifSx7bmFtZTpcImFib3V0XCJ9XSl9dmFyIHQ9ZnVuY3Rpb24oKXt0aGlzLnRvb2xiYXJzPVtdO3RoaXMuZm9jdXNDb21tYW5kRXhlY3V0ZWQ9ITF9O3QucHJvdG90eXBlLmZvY3VzPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTAsZTtlPXRoaXMudG9vbGJhcnNbYSsrXTspZm9yKHZhciBoPTAsYztjPWUuaXRlbXNbaCsrXTspaWYoYy5mb2N1cyl7Yy5mb2N1cygpO3JldHVybn19O3ZhciB4PXttb2Rlczp7d3lzaXd5ZzoxLHNvdXJjZToxfSxyZWFkT25seToxLGV4ZWM6ZnVuY3Rpb24oYSl7YS50b29sYm94JiZcbihhLnRvb2xib3guZm9jdXNDb21tYW5kRXhlY3V0ZWQ9ITAsQ0tFRElUT1IuZW52LmllfHxDS0VESVRPUi5lbnYuYWlyP3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLnRvb2xib3guZm9jdXMoKX0sMTAwKTphLnRvb2xib3guZm9jdXMoKSl9fTtDS0VESVRPUi5wbHVnaW5zLmFkZChcInRvb2xiYXJcIix7cmVxdWlyZXM6XCJidXR0b25cIixpbml0OmZ1bmN0aW9uKGEpe3ZhciBlLGg9ZnVuY3Rpb24oYyxkKXt2YXIgYixnPVwicnRsXCI9PWEubGFuZy5kaXIsZj1hLmNvbmZpZy50b29sYmFyR3JvdXBDeWNsaW5nLGY9dm9pZCAwPT09Znx8Zjtzd2l0Y2goZCl7Y2FzZSA5OmNhc2UgQ0tFRElUT1IuU0hJRlQrOTpmb3IoOyFifHwhYi5pdGVtcy5sZW5ndGg7KWlmKGI9OT09ZD8oYj9iLm5leHQ6Yy50b29sYmFyLm5leHQpfHxhLnRvb2xib3gudG9vbGJhcnNbMF06KGI/Yi5wcmV2aW91czpjLnRvb2xiYXIucHJldmlvdXMpfHxhLnRvb2xib3gudG9vbGJhcnNbYS50b29sYm94LnRvb2xiYXJzLmxlbmd0aC1cbjFdLGIuaXRlbXMubGVuZ3RoKWZvcihjPWIuaXRlbXNbZT9iLml0ZW1zLmxlbmd0aC0xOjBdO2MmJiFjLmZvY3VzOykoYz1lP2MucHJldmlvdXM6Yy5uZXh0KXx8KGI9MCk7YyYmYy5mb2N1cygpO3JldHVybiExO2Nhc2UgZz8zNzozOTpjYXNlIDQwOmI9YztkbyBiPWIubmV4dCwhYiYmZiYmKGI9Yy50b29sYmFyLml0ZW1zWzBdKTt3aGlsZShiJiYhYi5mb2N1cyk7Yj9iLmZvY3VzKCk6aChjLDkpO3JldHVybiExO2Nhc2UgZz8zOTozNzpjYXNlIDM4OmI9YztkbyBiPWIucHJldmlvdXMsIWImJmYmJihiPWMudG9vbGJhci5pdGVtc1tjLnRvb2xiYXIuaXRlbXMubGVuZ3RoLTFdKTt3aGlsZShiJiYhYi5mb2N1cyk7Yj9iLmZvY3VzKCk6KGU9MSxoKGMsQ0tFRElUT1IuU0hJRlQrOSksZT0wKTtyZXR1cm4hMTtjYXNlIDI3OnJldHVybiBhLmZvY3VzKCksITE7Y2FzZSAxMzpjYXNlIDMyOnJldHVybiBjLmV4ZWN1dGUoKSwhMX1yZXR1cm4hMH07YS5vbihcInVpU3BhY2VcIixmdW5jdGlvbihjKXtpZihjLmRhdGEuc3BhY2U9PVxuYS5jb25maWcudG9vbGJhckxvY2F0aW9uKXthLnRvb2xib3g9bmV3IHQ7dmFyIGQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCksYj1hLmNvbmZpZy5yZW1vdmVCdXR0b25zLGI9YiYmYi5zcGxpdChcIixcIiksZz1bJzxzcGFuIGlkPVwiJyxkLCdcIiBjbGFzcz1cImNrZV92b2ljZV9sYWJlbFwiPicsYS5sYW5nLnRvb2xiYXIudG9vbGJhcnMsXCI8L3NwYW4+XCIsJzxzcGFuIGlkPVwiJythLnVpLnNwYWNlSWQoXCJ0b29sYm94XCIpKydcIiBjbGFzcz1cImNrZV90b29sYm94XCIgcm9sZT1cImdyb3VwXCIgYXJpYS1sYWJlbGxlZGJ5PVwiJyxkLCdcIiBvbm1vdXNlZG93bj1cInJldHVybiBmYWxzZTtcIj4nXSxkPSExIT09YS5jb25maWcudG9vbGJhclN0YXJ0dXBFeHBhbmRlZCxmLGU7YS5jb25maWcudG9vbGJhckNhbkNvbGxhcHNlJiZhLmVsZW1lbnRNb2RlIT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FJiZnLnB1c2goJzxzcGFuIGNsYXNzPVwiY2tlX3Rvb2xib3hfbWFpblwiJysoZD9cIj5cIjonIHN0eWxlPVwiZGlzcGxheTpub25lXCI+JykpO1xuZm9yKHZhciBvPWEudG9vbGJveC50b29sYmFycyxuPXcoYSksbD0wO2w8bi5sZW5ndGg7bCsrKXt2YXIgaixpPTAscSxtPW5bbF0scjtpZihtKWlmKGYmJihnLnB1c2goXCI8L3NwYW4+XCIpLGU9Zj0wKSxcIi9cIj09PW0pZy5wdXNoKCc8c3BhbiBjbGFzcz1cImNrZV90b29sYmFyX2JyZWFrXCI+PC9zcGFuPicpO2Vsc2V7cj1tLml0ZW1zfHxtO2Zvcih2YXIgcz0wO3M8ci5sZW5ndGg7cysrKXt2YXIgaztrPXJbc107dmFyIHU7aWYoIShiJiYwPD1DS0VESVRPUi50b29scy5pbmRleE9mKGIsaykpJiYoaz1hLnVpLmNyZWF0ZShrKSkpaWYoay50eXBlPT1DS0VESVRPUi5VSV9TRVBBUkFUT1IpZT1mJiZrO2Vsc2V7dT0hMSE9PWsuY2FuR3JvdXA7aWYoIWkpe2o9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCk7aT17aWQ6aixpdGVtczpbXX07cT1tLm5hbWUmJihhLmxhbmcudG9vbGJhci50b29sYmFyR3JvdXBzW20ubmFtZV18fG0ubmFtZSk7Zy5wdXNoKCc8c3BhbiBpZD1cIicsaiwnXCIgY2xhc3M9XCJja2VfdG9vbGJhclwiJyxcbnE/JyBhcmlhLWxhYmVsbGVkYnk9XCInK2orJ19sYWJlbFwiJzpcIlwiLCcgcm9sZT1cInRvb2xiYXJcIj4nKTtxJiZnLnB1c2goJzxzcGFuIGlkPVwiJyxqLCdfbGFiZWxcIiBjbGFzcz1cImNrZV92b2ljZV9sYWJlbFwiPicscSxcIjwvc3Bhbj5cIik7Zy5wdXNoKCc8c3BhbiBjbGFzcz1cImNrZV90b29sYmFyX3N0YXJ0XCI+PC9zcGFuPicpO3ZhciBwPW8ucHVzaChpKS0xOzA8cCYmKGkucHJldmlvdXM9b1twLTFdLGkucHJldmlvdXMubmV4dD1pKX11P2Z8fChnLnB1c2goJzxzcGFuIGNsYXNzPVwiY2tlX3Rvb2xncm91cFwiIHJvbGU9XCJwcmVzZW50YXRpb25cIj4nKSxmPTEpOmYmJihnLnB1c2goXCI8L3NwYW4+XCIpLGY9MCk7aj1mdW5jdGlvbihiKXtiPWIucmVuZGVyKGEsZyk7cD1pLml0ZW1zLnB1c2goYiktMTtpZihwPjApe2IucHJldmlvdXM9aS5pdGVtc1twLTFdO2IucHJldmlvdXMubmV4dD1ifWIudG9vbGJhcj1pO2Iub25rZXk9aDtiLm9uZm9jdXM9ZnVuY3Rpb24oKXthLnRvb2xib3guZm9jdXNDb21tYW5kRXhlY3V0ZWR8fFxuYS5mb2N1cygpfX07ZSYmKGooZSksZT0wKTtqKGspfX1mJiYoZy5wdXNoKFwiPC9zcGFuPlwiKSxlPWY9MCk7aSYmZy5wdXNoKCc8c3BhbiBjbGFzcz1cImNrZV90b29sYmFyX2VuZFwiPjwvc3Bhbj48L3NwYW4+Jyl9fWEuY29uZmlnLnRvb2xiYXJDYW5Db2xsYXBzZSYmZy5wdXNoKFwiPC9zcGFuPlwiKTtpZihhLmNvbmZpZy50b29sYmFyQ2FuQ29sbGFwc2UmJmEuZWxlbWVudE1vZGUhPUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkUpe3ZhciB2PUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKCl7YS5leGVjQ29tbWFuZChcInRvb2xiYXJDb2xsYXBzZVwiKX0pO2Eub24oXCJkZXN0cm95XCIsZnVuY3Rpb24oKXtDS0VESVRPUi50b29scy5yZW1vdmVGdW5jdGlvbih2KX0pO2EuYWRkQ29tbWFuZChcInRvb2xiYXJDb2xsYXBzZVwiLHtyZWFkT25seToxLGV4ZWM6ZnVuY3Rpb24oYSl7dmFyIGI9YS51aS5zcGFjZShcInRvb2xiYXJfY29sbGFwc2VyXCIpLGM9Yi5nZXRQcmV2aW91cygpLGQ9XG5hLnVpLnNwYWNlKFwiY29udGVudHNcIiksZT1jLmdldFBhcmVudCgpLGY9cGFyc2VJbnQoZC4kLnN0eWxlLmhlaWdodCwxMCksZz1lLiQub2Zmc2V0SGVpZ2h0LGg9Yi5oYXNDbGFzcyhcImNrZV90b29sYm94X2NvbGxhcHNlcl9taW5cIik7aD8oYy5zaG93KCksYi5yZW1vdmVDbGFzcyhcImNrZV90b29sYm94X2NvbGxhcHNlcl9taW5cIiksYi5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLGEubGFuZy50b29sYmFyLnRvb2xiYXJDb2xsYXBzZSkpOihjLmhpZGUoKSxiLmFkZENsYXNzKFwiY2tlX3Rvb2xib3hfY29sbGFwc2VyX21pblwiKSxiLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsYS5sYW5nLnRvb2xiYXIudG9vbGJhckV4cGFuZCkpO2IuZ2V0Rmlyc3QoKS5zZXRUZXh0KGg/XCLilrJcIjpcIuKXgFwiKTtkLnNldFN0eWxlKFwiaGVpZ2h0XCIsZi0oZS4kLm9mZnNldEhlaWdodC1nKStcInB4XCIpO2EuZmlyZShcInJlc2l6ZVwiKX0sbW9kZXM6e3d5c2l3eWc6MSxzb3VyY2U6MX19KTthLnNldEtleXN0cm9rZShDS0VESVRPUi5BTFQrXG4oQ0tFRElUT1IuZW52LmllfHxDS0VESVRPUi5lbnYud2Via2l0PzE4OToxMDkpLFwidG9vbGJhckNvbGxhcHNlXCIpO2cucHVzaCgnPGEgdGl0bGU9XCInKyhkP2EubGFuZy50b29sYmFyLnRvb2xiYXJDb2xsYXBzZTphLmxhbmcudG9vbGJhci50b29sYmFyRXhwYW5kKSsnXCIgaWQ9XCInK2EudWkuc3BhY2VJZChcInRvb2xiYXJfY29sbGFwc2VyXCIpKydcIiB0YWJJbmRleD1cIi0xXCIgY2xhc3M9XCJja2VfdG9vbGJveF9jb2xsYXBzZXInKTtkfHxnLnB1c2goXCIgY2tlX3Rvb2xib3hfY29sbGFwc2VyX21pblwiKTtnLnB1c2goJ1wiIG9uY2xpY2s9XCJDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oJyt2KycpXCI+JywnPHNwYW4gY2xhc3M9XCJja2VfYXJyb3dcIj4mIzk2NTA7PC9zcGFuPicsXCI8L2E+XCIpfWcucHVzaChcIjwvc3Bhbj5cIik7Yy5kYXRhLmh0bWwrPWcuam9pbihcIlwiKX19KTthLm9uKFwiZGVzdHJveVwiLGZ1bmN0aW9uKCl7aWYodGhpcy50b29sYm94KXt2YXIgYSxkPTAsYixlLGY7Zm9yKGE9dGhpcy50b29sYm94LnRvb2xiYXJzO2Q8XG5hLmxlbmd0aDtkKyspe2U9YVtkXS5pdGVtcztmb3IoYj0wO2I8ZS5sZW5ndGg7YisrKWY9ZVtiXSxmLmNsaWNrRm4mJkNLRURJVE9SLnRvb2xzLnJlbW92ZUZ1bmN0aW9uKGYuY2xpY2tGbiksZi5rZXlEb3duRm4mJkNLRURJVE9SLnRvb2xzLnJlbW92ZUZ1bmN0aW9uKGYua2V5RG93bkZuKX19fSk7YS5vbihcInVpUmVhZHlcIixmdW5jdGlvbigpe3ZhciBjPWEudWkuc3BhY2UoXCJ0b29sYm94XCIpO2MmJmEuZm9jdXNNYW5hZ2VyLmFkZChjLDEpfSk7YS5hZGRDb21tYW5kKFwidG9vbGJhckZvY3VzXCIseCk7YS5zZXRLZXlzdHJva2UoQ0tFRElUT1IuQUxUKzEyMSxcInRvb2xiYXJGb2N1c1wiKTthLnVpLmFkZChcIi1cIixDS0VESVRPUi5VSV9TRVBBUkFUT1Ise30pO2EudWkuYWRkSGFuZGxlcihDS0VESVRPUi5VSV9TRVBBUkFUT1Ise2NyZWF0ZTpmdW5jdGlvbigpe3JldHVybntyZW5kZXI6ZnVuY3Rpb24oYSxkKXtkLnB1c2goJzxzcGFuIGNsYXNzPVwiY2tlX3Rvb2xiYXJfc2VwYXJhdG9yXCIgcm9sZT1cInNlcGFyYXRvclwiPjwvc3Bhbj4nKTtcbnJldHVybnt9fX19fSl9fSk7Q0tFRElUT1IudWkucHJvdG90eXBlLmFkZFRvb2xiYXJHcm91cD1mdW5jdGlvbihhLGUsaCl7dmFyIGM9byh0aGlzLmVkaXRvciksZD0wPT09ZSxiPXtuYW1lOmF9O2lmKGgpe2lmKGg9Q0tFRElUT1IudG9vbHMuc2VhcmNoKGMsZnVuY3Rpb24oYSl7cmV0dXJuIGEubmFtZT09aH0pKXshaC5ncm91cHMmJihoLmdyb3Vwcz1bXSk7aWYoZSYmKGU9Q0tFRElUT1IudG9vbHMuaW5kZXhPZihoLmdyb3VwcyxlKSwwPD1lKSl7aC5ncm91cHMuc3BsaWNlKGUrMSwwLGEpO3JldHVybn1kP2guZ3JvdXBzLnNwbGljZSgwLDAsYSk6aC5ncm91cHMucHVzaChhKTtyZXR1cm59ZT1udWxsfWUmJihlPUNLRURJVE9SLnRvb2xzLmluZGV4T2YoYyxmdW5jdGlvbihhKXtyZXR1cm4gYS5uYW1lPT1lfSkpO2Q/Yy5zcGxpY2UoMCwwLGEpOlwibnVtYmVyXCI9PXR5cGVvZiBlP2Muc3BsaWNlKGUrMSwwLGIpOmMucHVzaChhKX19KSgpO0NLRURJVE9SLlVJX1NFUEFSQVRPUj1cInNlcGFyYXRvclwiO1xuQ0tFRElUT1IuY29uZmlnLnRvb2xiYXJMb2NhdGlvbj1cInRvcFwiOyhmdW5jdGlvbigpe2Z1bmN0aW9uIEMoYyxqLGYpe2Z1bmN0aW9uIGIoYil7aWYoKGQ9YVtiP1wiZ2V0Rmlyc3RcIjpcImdldExhc3RcIl0oKSkmJighZC5pc3x8IWQuaXNCbG9ja0JvdW5kYXJ5KCkpJiYobT1qLnJvb3RbYj9cImdldFByZXZpb3VzXCI6XCJnZXROZXh0XCJdKENLRURJVE9SLmRvbS53YWxrZXIuaW52aXNpYmxlKCEwKSkpJiYoIW0uaXN8fCFtLmlzQmxvY2tCb3VuZGFyeSh7YnI6MX0pKSljLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJiclwiKVtiP1wiaW5zZXJ0QmVmb3JlXCI6XCJpbnNlcnRBZnRlclwiXShkKX1mb3IodmFyIGk9Q0tFRElUT1IucGx1Z2lucy5saXN0Lmxpc3RUb0FycmF5KGoucm9vdCxmKSxlPVtdLGg9MDtoPGouY29udGVudHMubGVuZ3RoO2grKyl7dmFyIGc9ai5jb250ZW50c1toXTtpZigoZz1nLmdldEFzY2VuZGFudChcImxpXCIsITApKSYmIWcuZ2V0Q3VzdG9tRGF0YShcImxpc3RfaXRlbV9wcm9jZXNzZWRcIikpZS5wdXNoKGcpLENLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcihmLFxuZyxcImxpc3RfaXRlbV9wcm9jZXNzZWRcIiwhMCl9Zz1udWxsO2ZvcihoPTA7aDxlLmxlbmd0aDtoKyspZz1lW2hdLmdldEN1c3RvbURhdGEoXCJsaXN0YXJyYXlfaW5kZXhcIiksaVtnXS5pbmRlbnQ9LTE7Zm9yKGg9ZysxO2g8aS5sZW5ndGg7aCsrKWlmKGlbaF0uaW5kZW50PmlbaC0xXS5pbmRlbnQrMSl7ZT1pW2gtMV0uaW5kZW50KzEtaVtoXS5pbmRlbnQ7Zm9yKGc9aVtoXS5pbmRlbnQ7aVtoXSYmaVtoXS5pbmRlbnQ+PWc7KWlbaF0uaW5kZW50Kz1lLGgrKztoLS19dmFyIGE9Q0tFRElUT1IucGx1Z2lucy5saXN0LmFycmF5VG9MaXN0KGksZixudWxsLGMuY29uZmlnLmVudGVyTW9kZSxqLnJvb3QuZ2V0QXR0cmlidXRlKFwiZGlyXCIpKS5saXN0Tm9kZSxkLG07YighMCk7YigpO2EucmVwbGFjZShqLnJvb3QpfWZ1bmN0aW9uIHgoYyxqKXt0aGlzLm5hbWU9Yzt0aGlzLmNvbnRleHQ9dGhpcy50eXBlPWp9ZnVuY3Rpb24geShjLGosZixiKXtmb3IodmFyIGksZTtpPWNbYj9cImdldExhc3RcIjpcblwiZ2V0Rmlyc3RcIl0oRCk7KShlPWkuZ2V0RGlyZWN0aW9uKDEpKSE9PWouZ2V0RGlyZWN0aW9uKDEpJiZpLnNldEF0dHJpYnV0ZShcImRpclwiLGUpLGkucmVtb3ZlKCksZj9pW2I/XCJpbnNlcnRCZWZvcmVcIjpcImluc2VydEFmdGVyXCJdKGYpOmouYXBwZW5kKGksYil9ZnVuY3Rpb24gQShjKXt2YXIgajsoaj1mdW5jdGlvbihmKXt2YXIgYj1jW2Y/XCJnZXRQcmV2aW91c1wiOlwiZ2V0TmV4dFwiXShxKTtiJiYoYi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmIuaXMoYy5nZXROYW1lKCkpKSYmKHkoYyxiLG51bGwsIWYpLGMucmVtb3ZlKCksYz1iKX0pKCk7aigxKX1mdW5jdGlvbiBCKGMpe3JldHVybiBjLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGMuZ2V0TmFtZSgpaW4gQ0tFRElUT1IuZHRkLiRibG9ja3x8Yy5nZXROYW1lKClpbiBDS0VESVRPUi5kdGQuJGxpc3RJdGVtKSYmQ0tFRElUT1IuZHRkW2MuZ2V0TmFtZSgpXVtcIiNcIl19ZnVuY3Rpb24gdihjLGosZil7Yy5maXJlKFwic2F2ZVNuYXBzaG90XCIpO1xuZi5lbmxhcmdlKENLRURJVE9SLkVOTEFSR0VfTElTVF9JVEVNX0NPTlRFTlRTKTt2YXIgYj1mLmV4dHJhY3RDb250ZW50cygpO2oudHJpbSghMSwhMCk7dmFyIGk9ai5jcmVhdGVCb29rbWFyaygpLGU9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChqLnN0YXJ0Q29udGFpbmVyKSxoPWUuYmxvY2ssZT1lLmxhc3RFbGVtZW50LmdldEFzY2VuZGFudChcImxpXCIsMSl8fGgsZz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGYuc3RhcnRDb250YWluZXIpLGE9Zy5jb250YWlucyhDS0VESVRPUi5kdGQuJGxpc3RJdGVtKSxnPWcuY29udGFpbnMoQ0tFRElUT1IuZHRkLiRsaXN0KTtoPyhoPWguZ2V0Qm9ndXMoKSkmJmgucmVtb3ZlKCk6ZyYmKGg9Zy5nZXRQcmV2aW91cyhxKSkmJnUoaCkmJmgucmVtb3ZlKCk7KGg9Yi5nZXRMYXN0KCkpJiYoaC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmguaXMoXCJiclwiKSkmJmgucmVtb3ZlKCk7KGg9ai5zdGFydENvbnRhaW5lci5nZXRDaGlsZChqLnN0YXJ0T2Zmc2V0KSk/XG5iLmluc2VydEJlZm9yZShoKTpqLnN0YXJ0Q29udGFpbmVyLmFwcGVuZChiKTtpZihhJiYoYj13KGEpKSllLmNvbnRhaW5zKGEpPyh5KGIsYS5nZXRQYXJlbnQoKSxhKSxiLnJlbW92ZSgpKTplLmFwcGVuZChiKTtmb3IoO2YuY2hlY2tTdGFydE9mQmxvY2soKSYmZi5jaGVja0VuZE9mQmxvY2soKTspZz1mLnN0YXJ0UGF0aCgpLGI9Zy5ibG9jayxiLmlzKFwibGlcIikmJihlPWIuZ2V0UGFyZW50KCksYi5lcXVhbHMoZS5nZXRMYXN0KHEpKSYmYi5lcXVhbHMoZS5nZXRGaXJzdChxKSkmJihiPWUpKSxmLm1vdmVUb1Bvc2l0aW9uKGIsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSxiLnJlbW92ZSgpO2Y9Zi5jbG9uZSgpO2I9Yy5lZGl0YWJsZSgpO2Yuc2V0RW5kQXQoYixDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtmPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGYpO2YuZXZhbHVhdG9yPWZ1bmN0aW9uKGEpe3JldHVybiBxKGEpJiYhdShhKX07KGY9Zi5uZXh0KCkpJiYoZi50eXBlPT1cbkNLRURJVE9SLk5PREVfRUxFTUVOVCYmZi5nZXROYW1lKClpbiBDS0VESVRPUi5kdGQuJGxpc3QpJiZBKGYpO2oubW92ZVRvQm9va21hcmsoaSk7ai5zZWxlY3QoKTtjLmZpcmUoXCJzYXZlU25hcHNob3RcIil9ZnVuY3Rpb24gdyhjKXtyZXR1cm4oYz1jLmdldExhc3QocSkpJiZjLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYy5nZXROYW1lKClpbiByP2M6bnVsbH12YXIgcj17b2w6MSx1bDoxfSxFPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoKSxGPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoKSxxPWZ1bmN0aW9uKGMpe3JldHVybiEoRShjKXx8RihjKSl9LHU9Q0tFRElUT1IuZG9tLndhbGtlci5ib2d1cygpO0NLRURJVE9SLnBsdWdpbnMubGlzdD17bGlzdFRvQXJyYXk6ZnVuY3Rpb24oYyxqLGYsYixpKXtpZighcltjLmdldE5hbWUoKV0pcmV0dXJuW107Ynx8KGI9MCk7Znx8KGY9W10pO2Zvcih2YXIgZT0wLGg9Yy5nZXRDaGlsZENvdW50KCk7ZTxoO2UrKyl7dmFyIGc9XG5jLmdldENoaWxkKGUpO2cudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZnLmdldE5hbWUoKWluIENLRURJVE9SLmR0ZC4kbGlzdCYmQ0tFRElUT1IucGx1Z2lucy5saXN0Lmxpc3RUb0FycmF5KGcsaixmLGIrMSk7aWYoXCJsaVwiPT1nLiQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7dmFyIGE9e3BhcmVudDpjLGluZGVudDpiLGVsZW1lbnQ6Zyxjb250ZW50czpbXX07aT9hLmdyYW5kcGFyZW50PWk6KGEuZ3JhbmRwYXJlbnQ9Yy5nZXRQYXJlbnQoKSxhLmdyYW5kcGFyZW50JiZcImxpXCI9PWEuZ3JhbmRwYXJlbnQuJC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYoYS5ncmFuZHBhcmVudD1hLmdyYW5kcGFyZW50LmdldFBhcmVudCgpKSk7aiYmQ0tFRElUT1IuZG9tLmVsZW1lbnQuc2V0TWFya2VyKGosZyxcImxpc3RhcnJheV9pbmRleFwiLGYubGVuZ3RoKTtmLnB1c2goYSk7Zm9yKHZhciBkPTAsbT1nLmdldENoaWxkQ291bnQoKSxrO2Q8bTtkKyspaz1nLmdldENoaWxkKGQpLGsudHlwZT09XG5DS0VESVRPUi5OT0RFX0VMRU1FTlQmJnJbay5nZXROYW1lKCldP0NLRURJVE9SLnBsdWdpbnMubGlzdC5saXN0VG9BcnJheShrLGosZixiKzEsYS5ncmFuZHBhcmVudCk6YS5jb250ZW50cy5wdXNoKGspfX1yZXR1cm4gZn0sYXJyYXlUb0xpc3Q6ZnVuY3Rpb24oYyxqLGYsYixpKXtmfHwoZj0wKTtpZighY3x8Yy5sZW5ndGg8ZisxKXJldHVybiBudWxsO2Zvcih2YXIgZSxoPWNbZl0ucGFyZW50LmdldERvY3VtZW50KCksZz1uZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQoaCksYT1udWxsLGQ9ZixtPU1hdGgubWF4KGNbZl0uaW5kZW50LDApLGs9bnVsbCxuLGwscD1iPT1DS0VESVRPUi5FTlRFUl9QP1wicFwiOlwiZGl2XCI7Oyl7dmFyIG89Y1tkXTtlPW8uZ3JhbmRwYXJlbnQ7bj1vLmVsZW1lbnQuZ2V0RGlyZWN0aW9uKDEpO2lmKG8uaW5kZW50PT1tKXtpZighYXx8Y1tkXS5wYXJlbnQuZ2V0TmFtZSgpIT1hLmdldE5hbWUoKSlhPWNbZF0ucGFyZW50LmNsb25lKCExLDEpLGkmJlxuYS5zZXRBdHRyaWJ1dGUoXCJkaXJcIixpKSxnLmFwcGVuZChhKTtrPWEuYXBwZW5kKG8uZWxlbWVudC5jbG9uZSgwLDEpKTtuIT1hLmdldERpcmVjdGlvbigxKSYmay5zZXRBdHRyaWJ1dGUoXCJkaXJcIixuKTtmb3IoZT0wO2U8by5jb250ZW50cy5sZW5ndGg7ZSsrKWsuYXBwZW5kKG8uY29udGVudHNbZV0uY2xvbmUoMSwxKSk7ZCsrfWVsc2UgaWYoby5pbmRlbnQ9PU1hdGgubWF4KG0sMCkrMSlsPWNbZC0xXS5lbGVtZW50LmdldERpcmVjdGlvbigxKSxkPUNLRURJVE9SLnBsdWdpbnMubGlzdC5hcnJheVRvTGlzdChjLG51bGwsZCxiLGwhPW4/bjpudWxsKSwhay5nZXRDaGlsZENvdW50KCkmJihDS0VESVRPUi5lbnYuaWUmJiEoNzxoLiQuZG9jdW1lbnRNb2RlKSkmJmsuYXBwZW5kKGguY3JlYXRlVGV4dChcIsKgXCIpKSxrLmFwcGVuZChkLmxpc3ROb2RlKSxkPWQubmV4dEluZGV4O2Vsc2UgaWYoLTE9PW8uaW5kZW50JiYhZiYmZSl7cltlLmdldE5hbWUoKV0/KGs9by5lbGVtZW50LmNsb25lKCExLFxuITApLG4hPWUuZ2V0RGlyZWN0aW9uKDEpJiZrLnNldEF0dHJpYnV0ZShcImRpclwiLG4pKTprPW5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudChoKTt2YXIgYT1lLmdldERpcmVjdGlvbigxKSE9bixzPW8uZWxlbWVudCx6PXMuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIiksdT1zLmdldEF0dHJpYnV0ZShcInN0eWxlXCIpLHc9ay50eXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UJiYoYiE9Q0tFRElUT1IuRU5URVJfQlJ8fGF8fHV8fHopLHQseD1vLmNvbnRlbnRzLmxlbmd0aDtmb3IoZT0wO2U8eDtlKyspe3Q9by5jb250ZW50c1tlXTtpZih0LnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmdC5pc0Jsb2NrQm91bmRhcnkoKSl7YSYmIXQuZ2V0RGlyZWN0aW9uKCkmJnQuc2V0QXR0cmlidXRlKFwiZGlyXCIsbik7dmFyIHY9dCx5PXMuZ2V0QXR0cmlidXRlKFwic3R5bGVcIik7eSYmdi5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLHkucmVwbGFjZSgvKFteO10pJC8sXCIkMTtcIikrKHYuZ2V0QXR0cmlidXRlKFwic3R5bGVcIil8fFxuXCJcIikpO3omJnQuYWRkQ2xhc3Moeil9ZWxzZSB3JiYobHx8KGw9aC5jcmVhdGVFbGVtZW50KHApLGEmJmwuc2V0QXR0cmlidXRlKFwiZGlyXCIsbikpLHUmJmwuc2V0QXR0cmlidXRlKFwic3R5bGVcIix1KSx6JiZsLnNldEF0dHJpYnV0ZShcImNsYXNzXCIseiksbC5hcHBlbmQodC5jbG9uZSgxLDEpKSk7ay5hcHBlbmQobHx8dC5jbG9uZSgxLDEpKX1rLnR5cGU9PUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQmJmQhPWMubGVuZ3RoLTEmJigobj1rLmdldExhc3QoKSkmJihuLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmXCJfbW96XCI9PW4uZ2V0QXR0cmlidXRlKFwidHlwZVwiKSkmJm4ucmVtb3ZlKCksKCFrLmdldExhc3QocSl8fCEobi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJm4uZ2V0TmFtZSgpaW4gQ0tFRElUT1IuZHRkLiRibG9jaykpJiZrLmFwcGVuZChoLmNyZWF0ZUVsZW1lbnQoXCJiclwiKSkpO249ay4kLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7IUNLRURJVE9SLmVudi5pZSYmXG4oXCJkaXZcIj09bnx8XCJwXCI9PW4pJiZrLmFwcGVuZEJvZ3VzKCk7Zy5hcHBlbmQoayk7YT1udWxsO2QrK31lbHNlIHJldHVybiBudWxsO2w9bnVsbDtpZihjLmxlbmd0aDw9ZHx8TWF0aC5tYXgoY1tkXS5pbmRlbnQsMCk8bSlicmVha31pZihqKWZvcihjPWcuZ2V0Rmlyc3QoKTtjOyl7aWYoYy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihDS0VESVRPUi5kb20uZWxlbWVudC5jbGVhck1hcmtlcnMoaixjKSxjLmdldE5hbWUoKWluIENLRURJVE9SLmR0ZC4kbGlzdEl0ZW0mJihmPWMsaD1pPWI9dm9pZCAwLGI9Zi5nZXREaXJlY3Rpb24oKSkpKXtmb3IoaT1mLmdldFBhcmVudCgpO2kmJiEoaD1pLmdldERpcmVjdGlvbigpKTspaT1pLmdldFBhcmVudCgpO2I9PWgmJmYucmVtb3ZlQXR0cmlidXRlKFwiZGlyXCIpfWM9Yy5nZXROZXh0U291cmNlTm9kZSgpfXJldHVybntsaXN0Tm9kZTpnLG5leHRJbmRleDpkfX19O3ZhciBHPS9eaFsxLTZdJC8sRD1DS0VESVRPUi5kb20ud2Fsa2VyLm5vZGVUeXBlKENLRURJVE9SLk5PREVfRUxFTUVOVCk7XG54LnByb3RvdHlwZT17ZXhlYzpmdW5jdGlvbihjKXt0aGlzLnJlZnJlc2goYyxjLmVsZW1lbnRQYXRoKCkpO3ZhciBqPWMuY29uZmlnLGY9Yy5nZXRTZWxlY3Rpb24oKSxiPWYmJmYuZ2V0UmFuZ2VzKCEwKTtpZih0aGlzLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9PRkYpe3ZhciBpPWMuZWRpdGFibGUoKTtpZihpLmdldEZpcnN0KHEpKXt2YXIgZT0xPT1iLmxlbmd0aCYmYlswXTsoaj1lJiZlLmdldEVuY2xvc2VkTm9kZSgpKSYmKGouaXMmJnRoaXMudHlwZT09ai5nZXROYW1lKCkpJiZ0aGlzLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX09OKX1lbHNlIGouZW50ZXJNb2RlPT1DS0VESVRPUi5FTlRFUl9CUj9pLmFwcGVuZEJvZ3VzKCk6YlswXS5maXhCbG9jaygxLGouZW50ZXJNb2RlPT1DS0VESVRPUi5FTlRFUl9QP1wicFwiOlwiZGl2XCIpLGYuc2VsZWN0UmFuZ2VzKGIpfWZvcih2YXIgaj1mLmNyZWF0ZUJvb2ttYXJrcyghMCksaT1bXSxoPXt9LGI9Yi5jcmVhdGVJdGVyYXRvcigpLFxuZz0wOyhlPWIuZ2V0TmV4dFJhbmdlKCkpJiYrK2c7KXt2YXIgYT1lLmdldEJvdW5kYXJ5Tm9kZXMoKSxkPWEuc3RhcnROb2RlLG09YS5lbmROb2RlO2QudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcInRkXCI9PWQuZ2V0TmFtZSgpJiZlLnNldFN0YXJ0QXQoYS5zdGFydE5vZGUsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpO20udHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcInRkXCI9PW0uZ2V0TmFtZSgpJiZlLnNldEVuZEF0KGEuZW5kTm9kZSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtlPWUuY3JlYXRlSXRlcmF0b3IoKTtmb3IoZS5mb3JjZUJyQnJlYWs9dGhpcy5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfT0ZGO2E9ZS5nZXROZXh0UGFyYWdyYXBoKCk7KWlmKCFhLmdldEN1c3RvbURhdGEoXCJsaXN0X2Jsb2NrXCIpKXtDS0VESVRPUi5kb20uZWxlbWVudC5zZXRNYXJrZXIoaCxhLFwibGlzdF9ibG9ja1wiLDEpO2Zvcih2YXIgaz1jLmVsZW1lbnRQYXRoKGEpLFxuZD1rLmVsZW1lbnRzLG09MCxrPWsuYmxvY2tMaW1pdCxuLGw9ZC5sZW5ndGgtMTswPD1sJiYobj1kW2xdKTtsLS0paWYocltuLmdldE5hbWUoKV0mJmsuY29udGFpbnMobikpe2sucmVtb3ZlQ3VzdG9tRGF0YShcImxpc3RfZ3JvdXBfb2JqZWN0X1wiK2cpOyhkPW4uZ2V0Q3VzdG9tRGF0YShcImxpc3RfZ3JvdXBfb2JqZWN0XCIpKT9kLmNvbnRlbnRzLnB1c2goYSk6KGQ9e3Jvb3Q6bixjb250ZW50czpbYV19LGkucHVzaChkKSxDS0VESVRPUi5kb20uZWxlbWVudC5zZXRNYXJrZXIoaCxuLFwibGlzdF9ncm91cF9vYmplY3RcIixkKSk7bT0xO2JyZWFrfW18fChtPWssbS5nZXRDdXN0b21EYXRhKFwibGlzdF9ncm91cF9vYmplY3RfXCIrZyk/bS5nZXRDdXN0b21EYXRhKFwibGlzdF9ncm91cF9vYmplY3RfXCIrZykuY29udGVudHMucHVzaChhKTooZD17cm9vdDptLGNvbnRlbnRzOlthXX0sQ0tFRElUT1IuZG9tLmVsZW1lbnQuc2V0TWFya2VyKGgsbSxcImxpc3RfZ3JvdXBfb2JqZWN0X1wiK2csZCksaS5wdXNoKGQpKSl9fWZvcihuPVxuW107MDxpLmxlbmd0aDspaWYoZD1pLnNoaWZ0KCksdGhpcy5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfT0ZGKWlmKHJbZC5yb290LmdldE5hbWUoKV0pe2E9YztiPWQ7ZD1oO2c9bjttPUNLRURJVE9SLnBsdWdpbnMubGlzdC5saXN0VG9BcnJheShiLnJvb3QsZCk7az1bXTtmb3IoZT0wO2U8Yi5jb250ZW50cy5sZW5ndGg7ZSsrKWlmKGw9Yi5jb250ZW50c1tlXSwobD1sLmdldEFzY2VuZGFudChcImxpXCIsITApKSYmIWwuZ2V0Q3VzdG9tRGF0YShcImxpc3RfaXRlbV9wcm9jZXNzZWRcIikpay5wdXNoKGwpLENLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcihkLGwsXCJsaXN0X2l0ZW1fcHJvY2Vzc2VkXCIsITApO2Zvcih2YXIgbD1iLnJvb3QuZ2V0RG9jdW1lbnQoKSxwPXZvaWQgMCxvPXZvaWQgMCxlPTA7ZTxrLmxlbmd0aDtlKyspe3ZhciBzPWtbZV0uZ2V0Q3VzdG9tRGF0YShcImxpc3RhcnJheV9pbmRleFwiKSxwPW1bc10ucGFyZW50O3AuaXModGhpcy50eXBlKXx8KG89bC5jcmVhdGVFbGVtZW50KHRoaXMudHlwZSksXG5wLmNvcHlBdHRyaWJ1dGVzKG8se3N0YXJ0OjEsdHlwZToxfSksby5yZW1vdmVTdHlsZShcImxpc3Qtc3R5bGUtdHlwZVwiKSxtW3NdLnBhcmVudD1vKX1hPUNLRURJVE9SLnBsdWdpbnMubGlzdC5hcnJheVRvTGlzdChtLGQsbnVsbCxhLmNvbmZpZy5lbnRlck1vZGUpO2Q9dm9pZCAwO209YS5saXN0Tm9kZS5nZXRDaGlsZENvdW50KCk7Zm9yKGU9MDtlPG0mJihkPWEubGlzdE5vZGUuZ2V0Q2hpbGQoZSkpO2UrKylkLmdldE5hbWUoKT09dGhpcy50eXBlJiZnLnB1c2goZCk7YS5saXN0Tm9kZS5yZXBsYWNlKGIucm9vdCl9ZWxzZXttPWM7YT1kO2U9bjtrPWEuY29udGVudHM7Yj1hLnJvb3QuZ2V0RG9jdW1lbnQoKTtnPVtdOzE9PWsubGVuZ3RoJiZrWzBdLmVxdWFscyhhLnJvb3QpJiYoZD1iLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksa1swXS5tb3ZlQ2hpbGRyZW4mJmtbMF0ubW92ZUNoaWxkcmVuKGQpLGtbMF0uYXBwZW5kKGQpLGtbMF09ZCk7YT1hLmNvbnRlbnRzWzBdLmdldFBhcmVudCgpO1xuZm9yKGw9MDtsPGsubGVuZ3RoO2wrKylhPWEuZ2V0Q29tbW9uQW5jZXN0b3Ioa1tsXS5nZXRQYXJlbnQoKSk7cD1tLmNvbmZpZy51c2VDb21wdXRlZFN0YXRlO209ZD12b2lkIDA7cD12b2lkIDA9PT1wfHxwO2ZvcihsPTA7bDxrLmxlbmd0aDtsKyspZm9yKG89a1tsXTtzPW8uZ2V0UGFyZW50KCk7KXtpZihzLmVxdWFscyhhKSl7Zy5wdXNoKG8pOyFtJiZvLmdldERpcmVjdGlvbigpJiYobT0xKTtvPW8uZ2V0RGlyZWN0aW9uKHApO251bGwhPT1kJiYoZD1kJiZkIT1vP251bGw6byk7YnJlYWt9bz1zfWlmKCEoMT5nLmxlbmd0aCkpe2s9Z1tnLmxlbmd0aC0xXS5nZXROZXh0KCk7bD1iLmNyZWF0ZUVsZW1lbnQodGhpcy50eXBlKTtlLnB1c2gobCk7Zm9yKHA9ZT12b2lkIDA7Zy5sZW5ndGg7KWU9Zy5zaGlmdCgpLHA9Yi5jcmVhdGVFbGVtZW50KFwibGlcIiksZS5pcyhcInByZVwiKXx8Ry50ZXN0KGUuZ2V0TmFtZSgpKT9lLmFwcGVuZFRvKHApOihlLmNvcHlBdHRyaWJ1dGVzKHApLGQmJmUuZ2V0RGlyZWN0aW9uKCkmJlxuKHAucmVtb3ZlU3R5bGUoXCJkaXJlY3Rpb25cIikscC5yZW1vdmVBdHRyaWJ1dGUoXCJkaXJcIikpLGUubW92ZUNoaWxkcmVuKHApLGUucmVtb3ZlKCkpLHAuYXBwZW5kVG8obCk7ZCYmbSYmbC5zZXRBdHRyaWJ1dGUoXCJkaXJcIixkKTtrP2wuaW5zZXJ0QmVmb3JlKGspOmwuYXBwZW5kVG8oYSl9fWVsc2UgdGhpcy5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfT04mJnJbZC5yb290LmdldE5hbWUoKV0mJkMuY2FsbCh0aGlzLGMsZCxoKTtmb3IobD0wO2w8bi5sZW5ndGg7bCsrKUEobltsXSk7Q0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJBbGxNYXJrZXJzKGgpO2Yuc2VsZWN0Qm9va21hcmtzKGopO2MuZm9jdXMoKX0scmVmcmVzaDpmdW5jdGlvbihjLGope3ZhciBmPWouY29udGFpbnMociwxKSxiPWouYmxvY2tMaW1pdHx8ai5yb290O2YmJmIuY29udGFpbnMoZik/dGhpcy5zZXRTdGF0ZShmLmlzKHRoaXMudHlwZSk/Q0tFRElUT1IuVFJJU1RBVEVfT046Q0tFRElUT1IuVFJJU1RBVEVfT0ZGKTpcbnRoaXMuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfT0ZGKX19O0NLRURJVE9SLnBsdWdpbnMuYWRkKFwibGlzdFwiLHtpbml0OmZ1bmN0aW9uKGMpe2MuYmxvY2tsZXNzfHwoYy5hZGRDb21tYW5kKFwibnVtYmVyZWRsaXN0XCIsbmV3IHgoXCJudW1iZXJlZGxpc3RcIixcIm9sXCIpKSxjLmFkZENvbW1hbmQoXCJidWxsZXRlZGxpc3RcIixuZXcgeChcImJ1bGxldGVkbGlzdFwiLFwidWxcIikpLGMudWkuYWRkQnV0dG9uJiYoYy51aS5hZGRCdXR0b24oXCJOdW1iZXJlZExpc3RcIix7bGFiZWw6Yy5sYW5nLmxpc3QubnVtYmVyZWRsaXN0LGNvbW1hbmQ6XCJudW1iZXJlZGxpc3RcIixkaXJlY3Rpb25hbDohMCx0b29sYmFyOlwibGlzdCwxMFwifSksYy51aS5hZGRCdXR0b24oXCJCdWxsZXRlZExpc3RcIix7bGFiZWw6Yy5sYW5nLmxpc3QuYnVsbGV0ZWRsaXN0LGNvbW1hbmQ6XCJidWxsZXRlZGxpc3RcIixkaXJlY3Rpb25hbDohMCx0b29sYmFyOlwibGlzdCwyMFwifSkpLGMub24oXCJrZXlcIixmdW5jdGlvbihqKXt2YXIgZj1qLmRhdGEua2V5Q29kZTtcbmlmKGMubW9kZT09XCJ3eXNpd3lnXCImJmYgaW57ODoxLDQ2OjF9KXt2YXIgYj1jLmdldFNlbGVjdGlvbigpLmdldFJhbmdlcygpWzBdLGk9Yi5zdGFydFBhdGgoKTtpZihiLmNvbGxhcHNlZCl7dmFyIGk9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChiLnN0YXJ0Q29udGFpbmVyKSxlPWY9PTgsaD1jLmVkaXRhYmxlKCksZz1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihiLmNsb25lKCkpO2cuZXZhbHVhdG9yPWZ1bmN0aW9uKGEpe3JldHVybiBxKGEpJiYhdShhKX07Zy5ndWFyZD1mdW5jdGlvbihhLGIpe3JldHVybiEoYiYmYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuaXMoXCJ0YWJsZVwiKSl9O2Y9Yi5jbG9uZSgpO2lmKGUpe3ZhciBhLGQ7aWYoKGE9aS5jb250YWlucyhyKSkmJmIuY2hlY2tCb3VuZGFyeU9mRWxlbWVudChhLENLRURJVE9SLlNUQVJUKSYmKGE9YS5nZXRQYXJlbnQoKSkmJmEuaXMoXCJsaVwiKSYmKGE9dyhhKSkpe2Q9YTthPWEuZ2V0UHJldmlvdXMocSk7Zi5tb3ZlVG9Qb3NpdGlvbihhJiZcbnUoYSk/YTpkLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCl9ZWxzZXtnLnJhbmdlLnNldFN0YXJ0QXQoaCxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCk7Zy5yYW5nZS5zZXRFbmQoYi5zdGFydENvbnRhaW5lcixiLnN0YXJ0T2Zmc2V0KTtpZigoYT1nLnByZXZpb3VzKCkpJiZhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGEuZ2V0TmFtZSgpaW4gcnx8YS5pcyhcImxpXCIpKSl7aWYoIWEuaXMoXCJsaVwiKSl7Zy5yYW5nZS5zZWxlY3ROb2RlQ29udGVudHMoYSk7Zy5yZXNldCgpO2cuZXZhbHVhdG9yPUI7YT1nLnByZXZpb3VzKCl9ZD1hO2YubW92ZVRvRWxlbWVudEVkaXRFbmQoZCl9fWlmKGQpe3YoYyxmLGIpO2ouY2FuY2VsKCl9ZWxzZSBpZigoZj1pLmNvbnRhaW5zKHIpKSYmYi5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KGYsQ0tFRElUT1IuU1RBUlQpKXtkPWYuZ2V0Rmlyc3QocSk7aWYoYi5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KGQsQ0tFRElUT1IuU1RBUlQpKXthPVxuZi5nZXRQcmV2aW91cyhxKTtpZih3KGQpKXtpZihhKXtiLm1vdmVUb0VsZW1lbnRFZGl0RW5kKGEpO2Iuc2VsZWN0KCl9fWVsc2UgYy5leGVjQ29tbWFuZChcIm91dGRlbnRcIik7ai5jYW5jZWwoKX19fWVsc2UgaWYoZD1pLmNvbnRhaW5zKFwibGlcIikpe2cucmFuZ2Uuc2V0RW5kQXQoaCxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtoPShpPWQuZ2V0TGFzdChxKSkmJkIoaSk/aTpkO2Q9MDtpZigoYT1nLm5leHQoKSkmJmEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmdldE5hbWUoKWluIHImJmEuZXF1YWxzKGkpKXtkPTE7YT1nLm5leHQoKX1lbHNlIGIuY2hlY2tCb3VuZGFyeU9mRWxlbWVudChoLENLRURJVE9SLkVORCkmJihkPTEpO2lmKGQmJmEpe2I9Yi5jbG9uZSgpO2IubW92ZVRvRWxlbWVudEVkaXRTdGFydChhKTt2KGMsZixiKTtqLmNhbmNlbCgpfX1lbHNle2cucmFuZ2Uuc2V0RW5kQXQoaCxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtpZigoYT1nLm5leHQoKSkmJlxuYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuaXMocikpe2E9YS5nZXRGaXJzdChxKTtpZihpLmJsb2NrJiZiLmNoZWNrU3RhcnRPZkJsb2NrKCkmJmIuY2hlY2tFbmRPZkJsb2NrKCkpe2kuYmxvY2sucmVtb3ZlKCk7Yi5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGEpO2Iuc2VsZWN0KCl9ZWxzZSBpZih3KGEpKXtiLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoYSk7Yi5zZWxlY3QoKX1lbHNle2I9Yi5jbG9uZSgpO2IubW92ZVRvRWxlbWVudEVkaXRTdGFydChhKTt2KGMsZixiKX1qLmNhbmNlbCgpfX1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5zZWxlY3Rpb25DaGFuZ2UoMSl9KX19fSkpfX0pfSkoKTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBwKGQsaSl7dGhpcy5uYW1lPWk7aWYodGhpcy51c2VJbmRlbnRDbGFzc2VzPWQuY29uZmlnLmluZGVudENsYXNzZXMmJjA8ZC5jb25maWcuaW5kZW50Q2xhc3Nlcy5sZW5ndGgpe3RoaXMuY2xhc3NOYW1lUmVnZXg9UmVnRXhwKFwiKD86XnxcXFxccyspKFwiK2QuY29uZmlnLmluZGVudENsYXNzZXMuam9pbihcInxcIikrXCIpKD89JHxcXFxccylcIik7dGhpcy5pbmRlbnRDbGFzc01hcD17fTtmb3IodmFyIGE9MDthPGQuY29uZmlnLmluZGVudENsYXNzZXMubGVuZ3RoO2ErKyl0aGlzLmluZGVudENsYXNzTWFwW2QuY29uZmlnLmluZGVudENsYXNzZXNbYV1dPWErMX10aGlzLnN0YXJ0RGlzYWJsZWQ9XCJvdXRkZW50XCI9PWl9ZnVuY3Rpb24gcihkLGkpe3JldHVyblwibHRyXCI9PShpfHxkLmdldENvbXB1dGVkU3R5bGUoXCJkaXJlY3Rpb25cIikpP1wibWFyZ2luLWxlZnRcIjpcIm1hcmdpbi1yaWdodFwifWZ1bmN0aW9uIHEoZCl7cmV0dXJuIGQudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcbmQuaXMoXCJsaVwiKX12YXIgbT17b2w6MSx1bDoxfSx0PUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoITApLHU9Q0tFRElUT1IuZG9tLndhbGtlci5ib29rbWFyayghMSwhMCk7cC5wcm90b3R5cGU9e2NvbnRleHQ6XCJwXCIscmVmcmVzaDpmdW5jdGlvbihkLGkpe3ZhciBhPWkmJmkuY29udGFpbnMobSksZj1pLmJsb2NrfHxpLmJsb2NrTGltaXQ7YT90aGlzLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX09GRik6IXRoaXMudXNlSW5kZW50Q2xhc3NlcyYmXCJpbmRlbnRcIj09dGhpcy5uYW1lP3RoaXMuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfT0ZGKTpmP3RoaXMudXNlSW5kZW50Q2xhc3Nlcz8oYT1mLiQuY2xhc3NOYW1lLm1hdGNoKHRoaXMuY2xhc3NOYW1lUmVnZXgpLGY9MCxhJiYoYT1hWzFdLGY9dGhpcy5pbmRlbnRDbGFzc01hcFthXSksXCJvdXRkZW50XCI9PXRoaXMubmFtZSYmIWZ8fFwiaW5kZW50XCI9PXRoaXMubmFtZSYmZj09ZC5jb25maWcuaW5kZW50Q2xhc3Nlcy5sZW5ndGg/XG50aGlzLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKTp0aGlzLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX09GRikpOihhPXBhcnNlSW50KGYuZ2V0U3R5bGUocihmKSksMTApLGlzTmFOKGEpJiYoYT0wKSwwPj1hP3RoaXMuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpOnRoaXMuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfT0ZGKSk6dGhpcy5zZXRTdGF0ZShDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCl9LGV4ZWM6ZnVuY3Rpb24oZCl7ZnVuY3Rpb24gaShuKXtmb3IodmFyIGg9bC5zdGFydENvbnRhaW5lcixiPWwuZW5kQ29udGFpbmVyO2gmJiFoLmdldFBhcmVudCgpLmVxdWFscyhuKTspaD1oLmdldFBhcmVudCgpO2Zvcig7YiYmIWIuZ2V0UGFyZW50KCkuZXF1YWxzKG4pOyliPWIuZ2V0UGFyZW50KCk7aWYoaCYmYil7Zm9yKHZhciBjPWgsaD1bXSxhPSExOyFhOyljLmVxdWFscyhiKSYmKGE9ITApLGgucHVzaChjKSxjPWMuZ2V0TmV4dCgpO1xuaWYoISgxPmgubGVuZ3RoKSl7Yz1uLmdldFBhcmVudHMoITApO2ZvcihiPTA7YjxjLmxlbmd0aDtiKyspaWYoY1tiXS5nZXROYW1lJiZtW2NbYl0uZ2V0TmFtZSgpXSl7bj1jW2JdO2JyZWFrfWZvcih2YXIgYz1cImluZGVudFwiPT1lLm5hbWU/MTotMSxiPWhbMF0saD1oW2gubGVuZ3RoLTFdLGE9Q0tFRElUT1IucGx1Z2lucy5saXN0Lmxpc3RUb0FycmF5KG4sbyksaz1hW2guZ2V0Q3VzdG9tRGF0YShcImxpc3RhcnJheV9pbmRleFwiKV0uaW5kZW50LGI9Yi5nZXRDdXN0b21EYXRhKFwibGlzdGFycmF5X2luZGV4XCIpO2I8PWguZ2V0Q3VzdG9tRGF0YShcImxpc3RhcnJheV9pbmRleFwiKTtiKyspaWYoYVtiXS5pbmRlbnQrPWMsMDxjKXt2YXIgaT1hW2JdLnBhcmVudDthW2JdLnBhcmVudD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoaS5nZXROYW1lKCksaS5nZXREb2N1bWVudCgpKX1mb3IoYj1oLmdldEN1c3RvbURhdGEoXCJsaXN0YXJyYXlfaW5kZXhcIikrMTtiPGEubGVuZ3RoJiZhW2JdLmluZGVudD5cbms7YisrKWFbYl0uaW5kZW50Kz1jO2g9Q0tFRElUT1IucGx1Z2lucy5saXN0LmFycmF5VG9MaXN0KGEsbyxudWxsLGQuY29uZmlnLmVudGVyTW9kZSxuLmdldERpcmVjdGlvbigpKTtpZihcIm91dGRlbnRcIj09ZS5uYW1lKXt2YXIgajtpZigoaj1uLmdldFBhcmVudCgpKSYmai5pcyhcImxpXCIpKWZvcih2YXIgYz1oLmxpc3ROb2RlLmdldENoaWxkcmVuKCksZj1bXSxnLGI9Yy5jb3VudCgpLTE7MDw9YjtiLS0pKGc9Yy5nZXRJdGVtKGIpKSYmKGcuaXMmJmcuaXMoXCJsaVwiKSkmJmYucHVzaChnKX1oJiZoLmxpc3ROb2RlLnJlcGxhY2Uobik7aWYoZiYmZi5sZW5ndGgpZm9yKGI9MDtiPGYubGVuZ3RoO2IrKyl7Zm9yKGc9bj1mW2JdOyhnPWcuZ2V0TmV4dCgpKSYmZy5pcyYmZy5nZXROYW1lKClpbiBtOylDS0VESVRPUi5lbnYuaWUmJiFuLmdldEZpcnN0KGZ1bmN0aW9uKGIpe3JldHVybiB0KGIpJiZ1KGIpfSkmJm4uYXBwZW5kKGwuZG9jdW1lbnQuY3JlYXRlVGV4dChcIsKgXCIpKSxuLmFwcGVuZChnKTtcbm4uaW5zZXJ0QWZ0ZXIoail9fX19ZnVuY3Rpb24gYSgpe3ZhciBhPWwuY3JlYXRlSXRlcmF0b3IoKSxlPWQuY29uZmlnLmVudGVyTW9kZTthLmVuZm9yY2VSZWFsQmxvY2tzPSEwO2EuZW5sYXJnZUJyPWUhPUNLRURJVE9SLkVOVEVSX0JSO2Zvcih2YXIgYjtiPWEuZ2V0TmV4dFBhcmFncmFwaChlPT1DS0VESVRPUi5FTlRFUl9QP1wicFwiOlwiZGl2XCIpOylmKGIpfWZ1bmN0aW9uIGYoYSxnKXtpZihhLmdldEN1c3RvbURhdGEoXCJpbmRlbnRfcHJvY2Vzc2VkXCIpKXJldHVybiExO2lmKGUudXNlSW5kZW50Q2xhc3Nlcyl7dmFyIGI9YS4kLmNsYXNzTmFtZS5tYXRjaChlLmNsYXNzTmFtZVJlZ2V4KSxjPTA7YiYmKGI9YlsxXSxjPWUuaW5kZW50Q2xhc3NNYXBbYl0pO1wib3V0ZGVudFwiPT1lLm5hbWU/Yy0tOmMrKztpZigwPmMpcmV0dXJuITE7Yz1NYXRoLm1pbihjLGQuY29uZmlnLmluZGVudENsYXNzZXMubGVuZ3RoKTtjPU1hdGgubWF4KGMsMCk7YS4kLmNsYXNzTmFtZT1DS0VESVRPUi50b29scy5sdHJpbShhLiQuY2xhc3NOYW1lLnJlcGxhY2UoZS5jbGFzc05hbWVSZWdleCxcblwiXCIpKTswPGMmJmEuYWRkQ2xhc3MoZC5jb25maWcuaW5kZW50Q2xhc3Nlc1tjLTFdKX1lbHNle2I9cihhLGcpO2M9cGFyc2VJbnQoYS5nZXRTdHlsZShiKSwxMCk7aXNOYU4oYykmJihjPTApO3ZhciBmPWQuY29uZmlnLmluZGVudE9mZnNldHx8NDAsYz1jKyhcImluZGVudFwiPT1lLm5hbWU/MTotMSkqZjtpZigwPmMpcmV0dXJuITE7Yz1NYXRoLm1heChjLDApO2M9TWF0aC5jZWlsKGMvZikqZjthLnNldFN0eWxlKGIsYz9jKyhkLmNvbmZpZy5pbmRlbnRVbml0fHxcInB4XCIpOlwiXCIpO1wiXCI9PT1hLmdldEF0dHJpYnV0ZShcInN0eWxlXCIpJiZhLnJlbW92ZUF0dHJpYnV0ZShcInN0eWxlXCIpfUNLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcihvLGEsXCJpbmRlbnRfcHJvY2Vzc2VkXCIsMSk7cmV0dXJuITB9Zm9yKHZhciBlPXRoaXMsbz17fSxnPWQuZ2V0U2VsZWN0aW9uKCksdj1nLmNyZWF0ZUJvb2ttYXJrcygxKSxsLHA9KGcmJmcuZ2V0UmFuZ2VzKDEpKS5jcmVhdGVJdGVyYXRvcigpO2w9cC5nZXROZXh0UmFuZ2UoKTspe2Zvcih2YXIgaj1cbmwuZ2V0Q29tbW9uQW5jZXN0b3IoKTtqJiYhKGoudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZtW2ouZ2V0TmFtZSgpXSk7KWo9ai5nZXRQYXJlbnQoKTtpZighail7dmFyIGs9bC5nZXRFbmNsb3NlZE5vZGUoKTtrJiYoay50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmsuZ2V0TmFtZSgpaW4gbSkmJihsLnNldFN0YXJ0QXQoayxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCksbC5zZXRFbmRBdChrLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpLGo9ayl9aiYmKGwuc3RhcnRDb250YWluZXIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZsLnN0YXJ0Q29udGFpbmVyLmdldE5hbWUoKWluIG0pJiYoaz1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihsKSxrLmV2YWx1YXRvcj1xLGwuc3RhcnRDb250YWluZXI9ay5uZXh0KCkpO2omJihsLmVuZENvbnRhaW5lci50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmwuZW5kQ29udGFpbmVyLmdldE5hbWUoKWluIG0pJiZcbihrPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGwpLGsuZXZhbHVhdG9yPXEsbC5lbmRDb250YWluZXI9ay5wcmV2aW91cygpKTtpZihqKXt2YXIgaz1qLmdldEZpcnN0KHEpLHc9ISFrLmdldE5leHQocSkscz1sLnN0YXJ0Q29udGFpbmVyOyghay5lcXVhbHMocykmJiFrLmNvbnRhaW5zKHMpfHwhKFwiaW5kZW50XCI9PWUubmFtZXx8ZS51c2VJbmRlbnRDbGFzc2VzfHxwYXJzZUludChqLmdldFN0eWxlKHIoaikpLDEwKSl8fCFmKGosIXcmJmsuZ2V0RGlyZWN0aW9uKCkpKSYmaShqKX1lbHNlIGEoKX1DS0VESVRPUi5kb20uZWxlbWVudC5jbGVhckFsbE1hcmtlcnMobyk7ZC5mb3JjZU5leHRTZWxlY3Rpb25DaGVjaygpO2cuc2VsZWN0Qm9va21hcmtzKHYpfX07Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJpbmRlbnRcIix7cmVxdWlyZXM6XCJsaXN0XCIsb25Mb2FkOmZ1bmN0aW9uKCl7KENLRURJVE9SLmVudi5pZTZDb21wYXR8fENLRURJVE9SLmVudi5pZTdDb21wYXQpJiZDS0VESVRPUi5hZGRDc3MoXCIuY2tlX2VkaXRhYmxlIHVsLC5ja2VfZWRpdGFibGUgb2x7XFx0bWFyZ2luLWxlZnQ6IDBweDtcXHRwYWRkaW5nLWxlZnQ6IDQwcHg7fVwiKX0sXG5pbml0OmZ1bmN0aW9uKGQpe2QuYmxvY2tsZXNzfHwoZC5hZGRDb21tYW5kKFwiaW5kZW50XCIsbmV3IHAoZCxcImluZGVudFwiKSksZC5hZGRDb21tYW5kKFwib3V0ZGVudFwiLG5ldyBwKGQsXCJvdXRkZW50XCIpKSxkLnVpLmFkZEJ1dHRvbiYmKGQudWkuYWRkQnV0dG9uKFwiSW5kZW50XCIse2xhYmVsOmQubGFuZy5pbmRlbnQuaW5kZW50LGNvbW1hbmQ6XCJpbmRlbnRcIixkaXJlY3Rpb25hbDohMCx0b29sYmFyOlwiaW5kZW50LDIwXCJ9KSxkLnVpLmFkZEJ1dHRvbihcIk91dGRlbnRcIix7bGFiZWw6ZC5sYW5nLmluZGVudC5vdXRkZW50LGNvbW1hbmQ6XCJvdXRkZW50XCIsZGlyZWN0aW9uYWw6ITAsdG9vbGJhcjpcImluZGVudCwxMFwifSkpLGQub24oXCJkaXJDaGFuZ2VkXCIsZnVuY3Rpb24oaSl7dmFyIGE9ZC5jcmVhdGVSYW5nZSgpO2Euc2V0U3RhcnRCZWZvcmUoaS5kYXRhLm5vZGUpO2Euc2V0RW5kQWZ0ZXIoaS5kYXRhLm5vZGUpO2Zvcih2YXIgZj1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihhKSxlO2U9Zi5uZXh0KCk7KWlmKGUudHlwZT09XG5DS0VESVRPUi5OT0RFX0VMRU1FTlQpaWYoIWUuZXF1YWxzKGkuZGF0YS5ub2RlKSYmZS5nZXREaXJlY3Rpb24oKSl7YS5zZXRTdGFydEFmdGVyKGUpO2Y9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoYSl9ZWxzZXt2YXIgbz1kLmNvbmZpZy5pbmRlbnRDbGFzc2VzO2lmKG8pZm9yKHZhciBnPWkuZGF0YS5kaXI9PVwibHRyXCI/W1wiX3J0bFwiLFwiXCJdOltcIlwiLFwiX3J0bFwiXSxtPTA7bTxvLmxlbmd0aDttKyspaWYoZS5oYXNDbGFzcyhvW21dK2dbMF0pKXtlLnJlbW92ZUNsYXNzKG9bbV0rZ1swXSk7ZS5hZGRDbGFzcyhvW21dK2dbMV0pfW89ZS5nZXRTdHlsZShcIm1hcmdpbi1yaWdodFwiKTtnPWUuZ2V0U3R5bGUoXCJtYXJnaW4tbGVmdFwiKTtvP2Uuc2V0U3R5bGUoXCJtYXJnaW4tbGVmdFwiLG8pOmUucmVtb3ZlU3R5bGUoXCJtYXJnaW4tbGVmdFwiKTtnP2Uuc2V0U3R5bGUoXCJtYXJnaW4tcmlnaHRcIixnKTplLnJlbW92ZVN0eWxlKFwibWFyZ2luLXJpZ2h0XCIpfX0pKX19KX0pKCk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gbShhLGQsYil7Yj1hLmNvbmZpZy5mb3JjZUVudGVyTW9kZXx8YjtpZihcInd5c2l3eWdcIiE9YS5tb2RlKXJldHVybiExO2R8fChkPWEuY29uZmlnLmVudGVyTW9kZSk7YS5lbGVtZW50UGF0aCgpLmlzQ29udGV4dEZvcihcInBcIil8fChkPUNLRURJVE9SLkVOVEVSX0JSLGI9MSk7YS5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2Q9PUNLRURJVE9SLkVOVEVSX0JSP24oYSxkLG51bGwsYik6byhhLGQsbnVsbCxiKTthLmZpcmUoXCJzYXZlU25hcHNob3RcIik7cmV0dXJuITB9ZnVuY3Rpb24gcChhKXtmb3IodmFyIGE9YS5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoITApLGQ9YS5sZW5ndGgtMTswPGQ7ZC0tKWFbZF0uZGVsZXRlQ29udGVudHMoKTtyZXR1cm4gYVswXX1DS0VESVRPUi5wbHVnaW5zLmFkZChcImVudGVya2V5XCIse3JlcXVpcmVzOlwiaW5kZW50XCIsaW5pdDpmdW5jdGlvbihhKXthLmFkZENvbW1hbmQoXCJlbnRlclwiLHttb2Rlczp7d3lzaXd5ZzoxfSxlZGl0b3JGb2N1czohMSxcbmV4ZWM6ZnVuY3Rpb24oYSl7bShhKX19KTthLmFkZENvbW1hbmQoXCJzaGlmdEVudGVyXCIse21vZGVzOnt3eXNpd3lnOjF9LGVkaXRvckZvY3VzOiExLGV4ZWM6ZnVuY3Rpb24oYSl7XCJ3eXNpd3lnXCI9PWEubW9kZSYmbShhLGEuY29uZmlnLnNoaWZ0RW50ZXJNb2RlLDEpfX0pO2Euc2V0S2V5c3Ryb2tlKFtbMTMsXCJlbnRlclwiXSxbQ0tFRElUT1IuU0hJRlQrMTMsXCJzaGlmdEVudGVyXCJdXSl9fSk7dmFyIHM9Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcygpLHQ9Q0tFRElUT1IuZG9tLndhbGtlci5ib29rbWFyaygpO0NLRURJVE9SLnBsdWdpbnMuZW50ZXJrZXk9e2VudGVyQmxvY2s6ZnVuY3Rpb24oYSxkLGIsaSl7aWYoYj1ifHxwKGEpKXt2YXIgZj1iLmRvY3VtZW50LGo9Yi5jaGVja1N0YXJ0T2ZCbG9jaygpLGg9Yi5jaGVja0VuZE9mQmxvY2soKSxjPWEuZWxlbWVudFBhdGgoYi5zdGFydENvbnRhaW5lcikuYmxvY2s7aWYoaiYmaCl7aWYoYyYmKGMuaXMoXCJsaVwiKXx8Yy5nZXRQYXJlbnQoKS5pcyhcImxpXCIpKSl7YS5leGVjQ29tbWFuZChcIm91dGRlbnRcIik7XG5yZXR1cm59aWYoYyYmYy5nZXRQYXJlbnQoKS5pcyhcImJsb2NrcXVvdGVcIikpe2MuYnJlYWtQYXJlbnQoYy5nZXRQYXJlbnQoKSk7Yy5nZXRQcmV2aW91cygpLmdldEZpcnN0KENLRURJVE9SLmRvbS53YWxrZXIuaW52aXNpYmxlKDEpKXx8Yy5nZXRQcmV2aW91cygpLnJlbW92ZSgpO2MuZ2V0TmV4dCgpLmdldEZpcnN0KENLRURJVE9SLmRvbS53YWxrZXIuaW52aXNpYmxlKDEpKXx8Yy5nZXROZXh0KCkucmVtb3ZlKCk7Yi5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGMpO2Iuc2VsZWN0KCk7cmV0dXJufX1lbHNlIGlmKGMmJmMuaXMoXCJwcmVcIikmJiFoKXtuKGEsZCxiLGkpO3JldHVybn12YXIgYz1kPT1DS0VESVRPUi5FTlRFUl9ESVY/XCJkaXZcIjpcInBcIixsPWIuc3BsaXRCbG9jayhjKTtpZihsKXt2YXIgZD1sLnByZXZpb3VzQmxvY2ssYT1sLm5leHRCbG9jayxqPWwud2FzU3RhcnRPZkJsb2NrLGg9bC53YXNFbmRPZkJsb2NrLGc7aWYoYSlnPWEuZ2V0UGFyZW50KCksZy5pcyhcImxpXCIpJiYoYS5icmVha1BhcmVudChnKSxcbmEubW92ZShhLmdldE5leHQoKSwxKSk7ZWxzZSBpZihkJiYoZz1kLmdldFBhcmVudCgpKSYmZy5pcyhcImxpXCIpKWQuYnJlYWtQYXJlbnQoZyksZz1kLmdldE5leHQoKSxiLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoZyksZC5tb3ZlKGQuZ2V0UHJldmlvdXMoKSk7aWYoIWomJiFoKXtpZihhLmlzKFwibGlcIikpe3ZhciBlPWIuY2xvbmUoKTtlLnNlbGVjdE5vZGVDb250ZW50cyhhKTtlPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGUpO2UuZXZhbHVhdG9yPWZ1bmN0aW9uKGEpe3JldHVybiEodChhKXx8cyhhKXx8YS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuZ2V0TmFtZSgpaW4gQ0tFRElUT1IuZHRkLiRpbmxpbmUmJiEoYS5nZXROYW1lKClpbiBDS0VESVRPUi5kdGQuJGVtcHR5KSl9OyhnPWUubmV4dCgpKSYmKGcudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZnLmlzKFwidWxcIixcIm9sXCIpKSYmKENLRURJVE9SLmVudi5pZT9mLmNyZWF0ZVRleHQoXCLCoFwiKTpmLmNyZWF0ZUVsZW1lbnQoXCJiclwiKSkuaW5zZXJ0QmVmb3JlKGcpfWEmJlxuYi5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGEpfWVsc2V7dmFyIGs7aWYoZCl7aWYoZC5pcyhcImxpXCIpfHwhcS50ZXN0KGQuZ2V0TmFtZSgpKSYmIWQuaXMoXCJwcmVcIikpZT1kLmNsb25lKCl9ZWxzZSBhJiYoZT1hLmNsb25lKCkpO2U/aSYmIWUuaXMoXCJsaVwiKSYmZS5yZW5hbWVOb2RlKGMpOmcmJmcuaXMoXCJsaVwiKT9lPWc6KGU9Zi5jcmVhdGVFbGVtZW50KGMpLGQmJihrPWQuZ2V0RGlyZWN0aW9uKCkpJiZlLnNldEF0dHJpYnV0ZShcImRpclwiLGspKTtpZihmPWwuZWxlbWVudFBhdGgpe2k9MDtmb3IoZz1mLmVsZW1lbnRzLmxlbmd0aDtpPGc7aSsrKXtrPWYuZWxlbWVudHNbaV07aWYoay5lcXVhbHMoZi5ibG9jayl8fGsuZXF1YWxzKGYuYmxvY2tMaW1pdCkpYnJlYWs7Q0tFRElUT1IuZHRkLiRyZW1vdmVFbXB0eVtrLmdldE5hbWUoKV0mJihrPWsuY2xvbmUoKSxlLm1vdmVDaGlsZHJlbihrKSxlLmFwcGVuZChrKSl9fUNLRURJVE9SLmVudi5pZXx8ZS5hcHBlbmRCb2d1cygpO2UuZ2V0UGFyZW50KCl8fFxuYi5pbnNlcnROb2RlKGUpO2UuaXMoXCJsaVwiKSYmZS5yZW1vdmVBdHRyaWJ1dGUoXCJ2YWx1ZVwiKTtpZihDS0VESVRPUi5lbnYuaWUmJmomJighaHx8IWQuZ2V0Q2hpbGRDb3VudCgpKSliLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoaD9kOmUpLGIuc2VsZWN0KCk7Yi5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGomJiFoP2E6ZSl9Yi5zZWxlY3QoKTtiLnNjcm9sbEludG9WaWV3KCl9fX0sZW50ZXJCcjpmdW5jdGlvbihhLGQsYixpKXtpZihiPWJ8fHAoYSkpe3ZhciBmPWIuZG9jdW1lbnQsaj1iLmNoZWNrRW5kT2ZCbG9jaygpLGg9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChhLmdldFNlbGVjdGlvbigpLmdldFN0YXJ0RWxlbWVudCgpKSxjPWguYmxvY2ssaD1jJiZoLmJsb2NrLmdldE5hbWUoKTshaSYmXCJsaVwiPT1oP28oYSxkLGIsaSk6KCFpJiZqJiZxLnRlc3QoaCk/KGo9Yy5nZXREaXJlY3Rpb24oKSk/KGY9Zi5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGYuc2V0QXR0cmlidXRlKFwiZGlyXCIsXG5qKSxmLmluc2VydEFmdGVyKGMpLGIuc2V0U3RhcnQoZiwwKSk6KGYuY3JlYXRlRWxlbWVudChcImJyXCIpLmluc2VydEFmdGVyKGMpLENLRURJVE9SLmVudi5nZWNrbyYmZi5jcmVhdGVUZXh0KFwiXCIpLmluc2VydEFmdGVyKGMpLGIuc2V0U3RhcnRBdChjLmdldE5leHQoKSxDS0VESVRPUi5lbnYuaWU/Q0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUOkNLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKSk6KGM9XCJwcmVcIj09aCYmQ0tFRElUT1IuZW52LmllJiY4PkNLRURJVE9SLmVudi52ZXJzaW9uP2YuY3JlYXRlVGV4dChcIlxcclwiKTpmLmNyZWF0ZUVsZW1lbnQoXCJiclwiKSxiLmRlbGV0ZUNvbnRlbnRzKCksYi5pbnNlcnROb2RlKGMpLENLRURJVE9SLmVudi5pZT9iLnNldFN0YXJ0QXQoYyxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpOihmLmNyZWF0ZVRleHQoXCLvu79cIikuaW5zZXJ0QWZ0ZXIoYyksaiYmYy5nZXRQYXJlbnQoKS5hcHBlbmRCb2d1cygpLGMuZ2V0TmV4dCgpLiQubm9kZVZhbHVlPVxuXCJcIixiLnNldFN0YXJ0QXQoYy5nZXROZXh0KCksQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpKSksYi5jb2xsYXBzZSghMCksYi5zZWxlY3QoKSxiLnNjcm9sbEludG9WaWV3KCkpfX19O3ZhciByPUNLRURJVE9SLnBsdWdpbnMuZW50ZXJrZXksbj1yLmVudGVyQnIsbz1yLmVudGVyQmxvY2sscT0vXmhbMS02XSQvfSkoKTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBqKGEsYil7dmFyIGQ9e30sZT1bXSxmPXtuYnNwOlwiwqBcIixzaHk6XCLCrVwiLGd0OlwiPlwiLGx0OlwiPFwiLGFtcDpcIiZcIixhcG9zOlwiJ1wiLHF1b3Q6J1wiJ30sYT1hLnJlcGxhY2UoL1xcYihuYnNwfHNoeXxndHxsdHxhbXB8YXBvc3xxdW90KSg/Oix8JCkvZyxmdW5jdGlvbihhLGgpe3ZhciBjPWI/XCImXCIraCtcIjtcIjpmW2hdO2RbY109Yj9mW2hdOlwiJlwiK2grXCI7XCI7ZS5wdXNoKGMpO3JldHVyblwiXCJ9KTtpZighYiYmYSl7dmFyIGE9YS5zcGxpdChcIixcIiksYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGc7Yy5pbm5lckhUTUw9XCImXCIrYS5qb2luKFwiOyZcIikrXCI7XCI7Zz1jLmlubmVySFRNTDtjPW51bGw7Zm9yKGM9MDtjPGcubGVuZ3RoO2MrKyl7dmFyIGk9Zy5jaGFyQXQoYyk7ZFtpXT1cIiZcIithW2NdK1wiO1wiO2UucHVzaChpKX19ZC5yZWdleD1lLmpvaW4oYj9cInxcIjpcIlwiKTtyZXR1cm4gZH1DS0VESVRPUi5wbHVnaW5zLmFkZChcImVudGl0aWVzXCIse2FmdGVySW5pdDpmdW5jdGlvbihhKXt2YXIgYj1cbmEuY29uZmlnO2lmKGE9KGE9YS5kYXRhUHJvY2Vzc29yKSYmYS5odG1sRmlsdGVyKXt2YXIgZD1bXTshMSE9PWIuYmFzaWNFbnRpdGllcyYmZC5wdXNoKFwibmJzcCxndCxsdCxhbXBcIik7Yi5lbnRpdGllcyYmKGQubGVuZ3RoJiZkLnB1c2goXCJxdW90LGlleGNsLGNlbnQscG91bmQsY3VycmVuLHllbixicnZiYXIsc2VjdCx1bWwsY29weSxvcmRmLGxhcXVvLG5vdCxzaHkscmVnLG1hY3IsZGVnLHBsdXNtbixzdXAyLHN1cDMsYWN1dGUsbWljcm8scGFyYSxtaWRkb3QsY2VkaWwsc3VwMSxvcmRtLHJhcXVvLGZyYWMxNCxmcmFjMTIsZnJhYzM0LGlxdWVzdCx0aW1lcyxkaXZpZGUsZm5vZixidWxsLGhlbGxpcCxwcmltZSxQcmltZSxvbGluZSxmcmFzbCx3ZWllcnAsaW1hZ2UscmVhbCx0cmFkZSxhbGVmc3ltLGxhcnIsdWFycixyYXJyLGRhcnIsaGFycixjcmFycixsQXJyLHVBcnIsckFycixkQXJyLGhBcnIsZm9yYWxsLHBhcnQsZXhpc3QsZW1wdHksbmFibGEsaXNpbixub3RpbixuaSxwcm9kLHN1bSxtaW51cyxsb3dhc3QscmFkaWMscHJvcCxpbmZpbixhbmcsYW5kLG9yLGNhcCxjdXAsaW50LHRoZXJlNCxzaW0sY29uZyxhc3ltcCxuZSxlcXVpdixsZSxnZSxzdWIsc3VwLG5zdWIsc3ViZSxzdXBlLG9wbHVzLG90aW1lcyxwZXJwLHNkb3QsbGNlaWwscmNlaWwsbGZsb29yLHJmbG9vcixsYW5nLHJhbmcsbG96LHNwYWRlcyxjbHVicyxoZWFydHMsZGlhbXMsY2lyYyx0aWxkZSxlbnNwLGVtc3AsdGhpbnNwLHp3bmosendqLGxybSxybG0sbmRhc2gsbWRhc2gsbHNxdW8scnNxdW8sc2JxdW8sbGRxdW8scmRxdW8sYmRxdW8sZGFnZ2VyLERhZ2dlcixwZXJtaWwsbHNhcXVvLHJzYXF1byxldXJvXCIpLFxuYi5lbnRpdGllc19sYXRpbiYmZC5wdXNoKFwiQWdyYXZlLEFhY3V0ZSxBY2lyYyxBdGlsZGUsQXVtbCxBcmluZyxBRWxpZyxDY2VkaWwsRWdyYXZlLEVhY3V0ZSxFY2lyYyxFdW1sLElncmF2ZSxJYWN1dGUsSWNpcmMsSXVtbCxFVEgsTnRpbGRlLE9ncmF2ZSxPYWN1dGUsT2NpcmMsT3RpbGRlLE91bWwsT3NsYXNoLFVncmF2ZSxVYWN1dGUsVWNpcmMsVXVtbCxZYWN1dGUsVEhPUk4sc3psaWcsYWdyYXZlLGFhY3V0ZSxhY2lyYyxhdGlsZGUsYXVtbCxhcmluZyxhZWxpZyxjY2VkaWwsZWdyYXZlLGVhY3V0ZSxlY2lyYyxldW1sLGlncmF2ZSxpYWN1dGUsaWNpcmMsaXVtbCxldGgsbnRpbGRlLG9ncmF2ZSxvYWN1dGUsb2NpcmMsb3RpbGRlLG91bWwsb3NsYXNoLHVncmF2ZSx1YWN1dGUsdWNpcmMsdXVtbCx5YWN1dGUsdGhvcm4seXVtbCxPRWxpZyxvZWxpZyxTY2Fyb24sc2Nhcm9uLFl1bWxcIiksYi5lbnRpdGllc19ncmVlayYmZC5wdXNoKFwiQWxwaGEsQmV0YSxHYW1tYSxEZWx0YSxFcHNpbG9uLFpldGEsRXRhLFRoZXRhLElvdGEsS2FwcGEsTGFtYmRhLE11LE51LFhpLE9taWNyb24sUGksUmhvLFNpZ21hLFRhdSxVcHNpbG9uLFBoaSxDaGksUHNpLE9tZWdhLGFscGhhLGJldGEsZ2FtbWEsZGVsdGEsZXBzaWxvbix6ZXRhLGV0YSx0aGV0YSxpb3RhLGthcHBhLGxhbWJkYSxtdSxudSx4aSxvbWljcm9uLHBpLHJobyxzaWdtYWYsc2lnbWEsdGF1LHVwc2lsb24scGhpLGNoaSxwc2ksb21lZ2EsdGhldGFzeW0sdXBzaWgscGl2XCIpLFxuYi5lbnRpdGllc19hZGRpdGlvbmFsJiZkLnB1c2goYi5lbnRpdGllc19hZGRpdGlvbmFsKSk7dmFyIGU9aihkLmpvaW4oXCIsXCIpKSxmPWUucmVnZXg/XCJbXCIrZS5yZWdleCtcIl1cIjpcImFeXCI7ZGVsZXRlIGUucmVnZXg7Yi5lbnRpdGllcyYmYi5lbnRpdGllc19wcm9jZXNzTnVtZXJpY2FsJiYoZj1cIlteIC1+XXxcIitmKTt2YXIgZj1SZWdFeHAoZixcImdcIiksYz1mdW5jdGlvbihhKXtyZXR1cm4gYi5lbnRpdGllc19wcm9jZXNzTnVtZXJpY2FsPT1cImZvcmNlXCJ8fCFlW2FdP1wiJiNcIithLmNoYXJDb2RlQXQoMCkrXCI7XCI6ZVthXX0sZz1qKFwibmJzcCxndCxsdCxhbXAsc2h5XCIsITApLGk9UmVnRXhwKGcucmVnZXgsXCJnXCIpLGs9ZnVuY3Rpb24oYSl7cmV0dXJuIGdbYV19O2EuYWRkUnVsZXMoe3RleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShpLGspLnJlcGxhY2UoZixjKX19KX19fSl9KSgpO0NLRURJVE9SLmNvbmZpZy5iYXNpY0VudGl0aWVzPSEwO1xuQ0tFRElUT1IuY29uZmlnLmVudGl0aWVzPSEwO0NLRURJVE9SLmNvbmZpZy5lbnRpdGllc19sYXRpbj0hMDtDS0VESVRPUi5jb25maWcuZW50aXRpZXNfZ3JlZWs9ITA7Q0tFRElUT1IuY29uZmlnLmVudGl0aWVzX2FkZGl0aW9uYWw9XCIjMzlcIjsoZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGEpe3ZhciBlPVwibGVmdFwiPT1hP1wicGFnZVhPZmZzZXRcIjpcInBhZ2VZT2Zmc2V0XCI7cmV0dXJuIGUgaW4gZy4kP2cuJFtlXTpDS0VESVRPUi5kb2N1bWVudC4kLmRvY3VtZW50RWxlbWVudFtcImxlZnRcIj09YT9cInNjcm9sbExlZnRcIjpcInNjcm9sbFRvcFwiXX1mdW5jdGlvbiBwKGEpe3ZhciBlLGY9YS5jb25maWcscD1mLmZsb2F0U3BhY2VEb2NrZWRPZmZzZXRYfHwwLG89Zi5mbG9hdFNwYWNlRG9ja2VkT2Zmc2V0WXx8MCx1PWYuZmxvYXRTcGFjZVBpbm5lZE9mZnNldFh8fDAscT1mLmZsb2F0U3BhY2VQaW5uZWRPZmZzZXRZfHwwLGk9ZnVuY3Rpb24oYyl7ZnVuY3Rpb24gZihhLGMsYil7ZC5zZXRTdHlsZShjLHMoYikpO2Quc2V0U3R5bGUoXCJwb3NpdGlvblwiLGEpfWZ1bmN0aW9uIGooYSl7dmFyIGM9bi5nZXREb2N1bWVudFBvc2l0aW9uKCk7c3dpdGNoKGEpe2Nhc2UgXCJ0b3BcIjpmKFwiYWJzb2x1dGVcIixcInRvcFwiLGMueS1sLW8pO2JyZWFrO2Nhc2UgXCJwaW5cIjpmKFwiZml4ZWRcIixcblwidG9wXCIscSk7YnJlYWs7Y2FzZSBcImJvdHRvbVwiOmYoXCJhYnNvbHV0ZVwiLFwidG9wXCIsYy55KyhiLmhlaWdodHx8Yi5ib3R0b20tYi50b3ApK28pfWU9YX1cImZvY3VzXCI9PWMubmFtZSYmZC5zaG93KCk7ZC5yZW1vdmVTdHlsZShcImxlZnRcIik7ZC5yZW1vdmVTdHlsZShcInJpZ2h0XCIpO3ZhciBuPWEuZWRpdGFibGUoKSxrPWQuZ2V0Q2xpZW50UmVjdCgpLGI9bi5nZXRDbGllbnRSZWN0KCksbD1rLmhlaWdodCxyPXQoXCJsZWZ0XCIpO2lmKGUpe1widG9wXCI9PWUmJmsudG9wPHE/aihcInBpblwiKTpcInBpblwiPT1lP2IudG9wPm8rbD9qKFwidG9wXCIpOmIuYm90dG9tLWsuYm90dG9tPGwmJmooXCJib3R0b21cIik6XCJib3R0b21cIj09ZSYmKGIudG9wPm8rbD9qKFwidG9wXCIpOmIuYm90dG9tPjIqbCtxJiZqKFwicGluXCIpKTt2YXIgYz1nLmdldFZpZXdQYW5lU2l6ZSgpLGg9Yy53aWR0aC8yLGg9MDxiLmxlZnQmJmIucmlnaHQ8Yy53aWR0aCYmYi53aWR0aD5rLndpZHRoP1wicnRsXCI9PWEuY29uZmlnLmNvbnRlbnRzTGFuZ0RpcmVjdGlvbj9cblwicmlnaHRcIjpcImxlZnRcIjpoLWIubGVmdD5iLnJpZ2h0LWg/XCJsZWZ0XCI6XCJyaWdodFwiLG07ay53aWR0aD5jLndpZHRoPyhoPVwibGVmdFwiLG09MCk6KG09XCJsZWZ0XCI9PWg/MDxiLmxlZnQ/Yi5sZWZ0OjA6Yi5yaWdodDxjLndpZHRoP2Mud2lkdGgtYi5yaWdodDowLG0ray53aWR0aD5jLndpZHRoJiYoaD1cImxlZnRcIj09aD9cInJpZ2h0XCI6XCJsZWZ0XCIsbT0wKSk7ZC5zZXRTdHlsZShoLHMoKFwicGluXCI9PWU/dTpwKSttKyhcInBpblwiPT1lPzA6cikpKX1lbHNlIGU9XCJwaW5cIixqKFwicGluXCIpLGkoYyl9LGY9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0Qm9keSgpLHI9e2lkOmEuaWQsbmFtZTphLm5hbWUsbGFuZ0RpcjphLmxhbmcuZGlyLGxhbmdDb2RlOmEubGFuZ0NvZGV9LG49YS5maXJlKFwidWlTcGFjZVwiLHtzcGFjZTpcInRvcFwiLGh0bWw6XCJcIn0pLmh0bWw7aWYobil7dmFyIGQ9Zi5hcHBlbmQoQ0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwodi5vdXRwdXQoQ0tFRElUT1IudG9vbHMuZXh0ZW5kKHt0b3BJZDphLnVpLnNwYWNlSWQoXCJ0b3BcIiksXG5jb250ZW50Om4sc3R5bGU6XCJkaXNwbGF5Om5vbmU7ei1pbmRleDpcIisoYS5jb25maWcuYmFzZUZsb2F0WkluZGV4LTEpfSxyKSkpKTtkLnVuc2VsZWN0YWJsZSgpO2Qub24oXCJtb3VzZWRvd25cIixmdW5jdGlvbihhKXthPWEuZGF0YTthLmdldFRhcmdldCgpLmhhc0FzY2VuZGFudChcImFcIiwxKXx8YS5wcmV2ZW50RGVmYXVsdCgpfSk7YS5vbihcImZvY3VzXCIsZnVuY3Rpb24oYSl7aShhKTtnLm9uKFwic2Nyb2xsXCIsaSk7Zy5vbihcInJlc2l6ZVwiLGkpfSk7YS5vbihcImJsdXJcIixmdW5jdGlvbigpe2QuaGlkZSgpO2cucmVtb3ZlTGlzdGVuZXIoXCJzY3JvbGxcIixpKTtnLnJlbW92ZUxpc3RlbmVyKFwicmVzaXplXCIsaSl9KTthLm9uKFwiZGVzdHJveVwiLGZ1bmN0aW9uKCl7Zy5yZW1vdmVMaXN0ZW5lcihcInNjcm9sbFwiLGkpO2cucmVtb3ZlTGlzdGVuZXIoXCJyZXNpemVcIixpKTtkLmNsZWFyQ3VzdG9tRGF0YSgpO2QucmVtb3ZlKCl9KTthLmZvY3VzTWFuYWdlci5oYXNGb2N1cyYmZC5zaG93KCk7YS5mb2N1c01hbmFnZXIuYWRkKGQsXG4xKX19dmFyIHY9Q0tFRElUT1IuYWRkVGVtcGxhdGUoXCJmbG9hdGNvbnRhaW5lclwiLCc8ZGl2IGlkPVwiY2tlX3tuYW1lfVwiIGNsYXNzPVwiY2tlIHtpZH0gY2tlX3Jlc2V0X2FsbCBja2VfY2hyb21lIGNrZV9lZGl0b3Jfe25hbWV9IGNrZV9mbG9hdCBja2Vfe2xhbmdEaXJ9ICcrQ0tFRElUT1IuZW52LmNzc0NsYXNzKydcIiBkaXI9XCJ7bGFuZ0Rpcn1cIiB0aXRsZT1cIicrKENLRURJVE9SLmVudi5nZWNrbz9cIiBcIjpcIlwiKSsnXCIgbGFuZz1cIntsYW5nQ29kZX1cIiByb2xlPVwiYXBwbGljYXRpb25cIiBzdHlsZT1cIntzdHlsZX1cIj48ZGl2IGNsYXNzPVwiY2tlX2lubmVyXCI+PGRpdiBpZD1cInt0b3BJZH1cIiBjbGFzcz1cImNrZV90b3BcIiByb2xlPVwicHJlc2VudGF0aW9uXCI+e2NvbnRlbnR9PC9kaXY+PC9kaXY+PC9kaXY+Jyk7Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJmbG9hdGluZ3NwYWNlXCIse2luaXQ6ZnVuY3Rpb24oYSl7YS5vbihcImNvbnRlbnREb21cIixmdW5jdGlvbigpe3AoYSl9KX19KTt2YXIgZz1DS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKSxcbnM9Q0tFRElUT1IudG9vbHMuY3NzTGVuZ3RofSkoKTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBuKGEpe3ZhciBjPXRoaXMuZWRpdG9yLGQ9YS5kb2N1bWVudCxiPWQuYm9keTsoYT1kLmdldEVsZW1lbnRCeUlkKFwiY2tlX2FjdHNjcnB0XCIpKSYmYS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEpOyhhPWQuZ2V0RWxlbWVudEJ5SWQoXCJja2Vfc2hpbXNjcnB0XCIpKSYmYS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEpO0NLRURJVE9SLmVudi5nZWNrbyYmKGIuY29udGVudEVkaXRhYmxlPSExLDJFND5DS0VESVRPUi5lbnYudmVyc2lvbiYmKGIuaW5uZXJIVE1MPWIuaW5uZXJIVE1MLnJlcGxhY2UoL14uKjxcXCEtLSBja2UtY29udGVudC1zdGFydCAtLVxcPi8sXCJcIiksc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBhPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UobmV3IENLRURJVE9SLmRvbS5kb2N1bWVudChkKSk7YS5zZXRTdGFydChuZXcgQ0tFRElUT1IuZG9tLm5vZGUoYiksMCk7Yy5nZXRTZWxlY3Rpb24oKS5zZWxlY3RSYW5nZXMoW2FdKX0sMCkpKTtiLmNvbnRlbnRFZGl0YWJsZT1cbiEwO0NLRURJVE9SLmVudi5pZSYmKGIuaGlkZUZvY3VzPSEwLGIuZGlzYWJsZWQ9ITAsYi5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKSk7ZGVsZXRlIHRoaXMuXy5pc0xvYWRpbmdEYXRhO3RoaXMuJD1iO2Q9bmV3IENLRURJVE9SLmRvbS5kb2N1bWVudChkKTt0aGlzLnNldHVwKCk7Q0tFRElUT1IuZW52LmllJiYoZC5nZXREb2N1bWVudEVsZW1lbnQoKS5hZGRDbGFzcyhkLiQuY29tcGF0TW9kZSksYy5jb25maWcuZW50ZXJNb2RlIT1DS0VESVRPUi5FTlRFUl9QJiZkLm9uKFwic2VsZWN0aW9uY2hhbmdlXCIsZnVuY3Rpb24oKXt2YXIgYT1kLmdldEJvZHkoKSxiPWMuZ2V0U2VsZWN0aW9uKCksZT1iJiZiLmdldFJhbmdlcygpWzBdO2UmJihhLmdldEh0bWwoKS5tYXRjaCgvXjxwPiZuYnNwOzxcXC9wPiQvaSkmJmUuc3RhcnRDb250YWluZXIuZXF1YWxzKGEpKSYmc2V0VGltZW91dChmdW5jdGlvbigpe2U9Yy5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoKVswXTtpZighZS5zdGFydENvbnRhaW5lci5lcXVhbHMoXCJib2R5XCIpKXthLmdldEZpcnN0KCkucmVtb3ZlKDEpO1xuZS5tb3ZlVG9FbGVtZW50RWRpdEVuZChhKTtlLnNlbGVjdCgpfX0sMCl9KSk7Q0tFRElUT1IuZW52LmdlY2tvJiZDS0VESVRPUi50b29scy5zZXRUaW1lb3V0KG8sMCx0aGlzLGMpO3RyeXtjLmRvY3VtZW50LiQuZXhlY0NvbW1hbmQoXCIyRC1wb3NpdGlvblwiLCExLCEwKX1jYXRjaChlKXt9dHJ5e2MuZG9jdW1lbnQuJC5leGVjQ29tbWFuZChcImVuYWJsZUlubGluZVRhYmxlRWRpdGluZ1wiLCExLCFjLmNvbmZpZy5kaXNhYmxlTmF0aXZlVGFibGVIYW5kbGVzKX1jYXRjaChmKXt9aWYoYy5jb25maWcuZGlzYWJsZU9iamVjdFJlc2l6aW5nKXRyeXt0aGlzLmdldERvY3VtZW50KCkuJC5leGVjQ29tbWFuZChcImVuYWJsZU9iamVjdFJlc2l6aW5nXCIsITEsITEpfWNhdGNoKGcpe3RoaXMuYXR0YWNoTGlzdGVuZXIodGhpcyxDS0VESVRPUi5lbnYuaWU/XCJyZXNpemVzdGFydFwiOlwicmVzaXplXCIsZnVuY3Rpb24oYSl7YS5kYXRhLnByZXZlbnREZWZhdWx0KCl9KX0oQ0tFRElUT1IuZW52LmdlY2tvfHxcbkNLRURJVE9SLmVudi5pZSYmXCJDU1MxQ29tcGF0XCI9PWMuZG9jdW1lbnQuJC5jb21wYXRNb2RlKSYmdGhpcy5hdHRhY2hMaXN0ZW5lcih0aGlzLFwia2V5ZG93blwiLGZ1bmN0aW9uKGEpe3ZhciBiPWEuZGF0YS5nZXRLZXlzdHJva2UoKTtpZihiPT0zM3x8Yj09MzQpaWYoQ0tFRElUT1IuZW52LmllKXNldFRpbWVvdXQoZnVuY3Rpb24oKXtjLmdldFNlbGVjdGlvbigpLnNjcm9sbEludG9WaWV3KCl9LDApO2Vsc2UgaWYoYy53aW5kb3cuJC5pbm5lckhlaWdodD50aGlzLiQub2Zmc2V0SGVpZ2h0KXt2YXIgZD1jLmNyZWF0ZVJhbmdlKCk7ZFtiPT0zMz9cIm1vdmVUb0VsZW1lbnRFZGl0U3RhcnRcIjpcIm1vdmVUb0VsZW1lbnRFZGl0RW5kXCJdKHRoaXMpO2Quc2VsZWN0KCk7YS5kYXRhLnByZXZlbnREZWZhdWx0KCl9fSk7Q0tFRElUT1IuZW52LmllJiZ0aGlzLmF0dGFjaExpc3RlbmVyKGQsXCJibHVyXCIsZnVuY3Rpb24oKXt0cnl7ZC4kLnNlbGVjdGlvbi5lbXB0eSgpfWNhdGNoKGEpe319KTtjLmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWcoXCJ0aXRsZVwiKS5nZXRJdGVtKDApLmRhdGEoXCJja2UtdGl0bGVcIixcbmMuZG9jdW1lbnQuJC50aXRsZSk7Q0tFRElUT1IuZW52LmllJiYoYy5kb2N1bWVudC4kLnRpdGxlPXRoaXMuXy5kb2NUaXRsZSk7Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChmdW5jdGlvbigpe2MuZmlyZShcImNvbnRlbnREb21cIik7aWYodGhpcy5fLmlzUGVuZGluZ0ZvY3VzKXtjLmZvY3VzKCk7dGhpcy5fLmlzUGVuZGluZ0ZvY3VzPWZhbHNlfXNldFRpbWVvdXQoZnVuY3Rpb24oKXtjLmZpcmUoXCJkYXRhUmVhZHlcIil9LDApO0NLRURJVE9SLmVudi5pZSYmc2V0VGltZW91dChmdW5jdGlvbigpe2lmKGMuZG9jdW1lbnQpe3ZhciBhPWMuZG9jdW1lbnQuJC5ib2R5O2EucnVudGltZVN0eWxlLm1hcmdpbkJvdHRvbT1cIjBweFwiO2EucnVudGltZVN0eWxlLm1hcmdpbkJvdHRvbT1cIlwifX0sMUUzKX0sMCx0aGlzKX1mdW5jdGlvbiBwKGEpe2EuY2hlY2tEaXJ0eSgpfHxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5yZXNldERpcnR5KCl9LDApfWZ1bmN0aW9uIG8oYSl7aWYoIWEucmVhZE9ubHkpe3ZhciBjPVxuYS53aW5kb3csZD1hLmRvY3VtZW50LGI9ZC5nZXRCb2R5KCksZT1iLmdldEZpcnN0KCksZj1iLmdldENoaWxkcmVuKCkuY291bnQoKTtpZighZnx8MT09ZiYmZS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmUuaGFzQXR0cmlidXRlKFwiX21vel9lZGl0b3JfYm9ndXNfbm9kZVwiKSl7cChhKTt2YXIgZT1DS0VESVRPUi5kb2N1bWVudCxnPWUuZ2V0RG9jdW1lbnRFbGVtZW50KCksaD1nLiQuc2Nyb2xsVG9wLGk9Zy4kLnNjcm9sbExlZnQsaj1kLiQuY3JlYXRlRXZlbnQoXCJLZXlFdmVudHNcIik7ai5pbml0S2V5RXZlbnQoXCJrZXlwcmVzc1wiLCEwLCEwLGMuJCwhMSwhMSwhMSwhMSwwLDMyKTtkLiQuZGlzcGF0Y2hFdmVudChqKTsoaCE9Zy4kLnNjcm9sbFRvcHx8aSE9Zy4kLnNjcm9sbExlZnQpJiZlLmdldFdpbmRvdygpLiQuc2Nyb2xsVG8oaSxoKTtmJiZiLmdldEZpcnN0KCkucmVtb3ZlKCk7ZC5nZXRCb2R5KCkuYXBwZW5kQm9ndXMoKTthPWEuY3JlYXRlUmFuZ2UoKTthLnNldFN0YXJ0QXQoYixcbkNLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKTthLnNlbGVjdCgpfX19ZnVuY3Rpb24gcSgpe3ZhciBhPVtdO2lmKDg8PUNLRURJVE9SLmRvY3VtZW50LiQuZG9jdW1lbnRNb2RlKXthLnB1c2goXCJodG1sLkNTUzFDb21wYXQgW2NvbnRlbnRlZGl0YWJsZT1mYWxzZV17bWluLWhlaWdodDowICFpbXBvcnRhbnR9XCIpO3ZhciBjPVtdLGQ7Zm9yKGQgaW4gQ0tFRElUT1IuZHRkLiRyZW1vdmVFbXB0eSljLnB1c2goXCJodG1sLkNTUzFDb21wYXQgXCIrZCtcIltjb250ZW50ZWRpdGFibGU9ZmFsc2VdXCIpO2EucHVzaChjLmpvaW4oXCIsXCIpK1wie2Rpc3BsYXk6aW5saW5lLWJsb2NrfVwiKX1lbHNlIENLRURJVE9SLmVudi5nZWNrbyYmKGEucHVzaChcImh0bWx7aGVpZ2h0OjEwMCUgIWltcG9ydGFudH1cIiksYS5wdXNoKFwiaW1nOi1tb3otYnJva2Vuey1tb3otZm9yY2UtYnJva2VuLWltYWdlLWljb246MTttaW4td2lkdGg6MjRweDttaW4taGVpZ2h0OjI0cHh9XCIpKTthLnB1c2goXCJodG1se2N1cnNvcjp0ZXh0OypjdXJzb3I6YXV0b31cIik7XG5hLnB1c2goXCJpbWcsaW5wdXQsdGV4dGFyZWF7Y3Vyc29yOmRlZmF1bHR9XCIpO3JldHVybiBhLmpvaW4oXCJcXG5cIil9Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJ3eXNpd3lnYXJlYVwiLHtpbml0OmZ1bmN0aW9uKGEpe2EuYWRkTW9kZShcInd5c2l3eWdcIixmdW5jdGlvbihjKXtmdW5jdGlvbiBkKGQpe2QmJmQucmVtb3ZlTGlzdGVuZXIoKTthLmVkaXRhYmxlKG5ldyBrKGEsYi4kLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuYm9keSkpO2Euc2V0RGF0YShhLmdldERhdGEoMSksYyl9dmFyIGI9Q0tFRElUT1IuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKTtiLnNldFN0eWxlcyh7d2lkdGg6XCIxMDAlXCIsaGVpZ2h0OlwiMTAwJVwifSk7Yi5hZGRDbGFzcyhcImNrZV93eXNpd3lnX2ZyYW1lIGNrZV9yZXNldFwiKTt2YXIgZT1hLnVpLnNwYWNlKFwiY29udGVudHNcIik7ZS5hcHBlbmQoYik7dmFyIGY9XCJkb2N1bWVudC5vcGVuKCk7XCIrKGw/J2RvY3VtZW50LmRvbWFpbj1cIicrZG9jdW1lbnQuZG9tYWluK1xuJ1wiOyc6XCJcIikrXCJkb2N1bWVudC5jbG9zZSgpO1wiLGY9Q0tFRElUT1IuZW52LmFpcj9cImphdmFzY3JpcHQ6dm9pZCgwKVwiOkNLRURJVE9SLmVudi5pZT9cImphdmFzY3JpcHQ6dm9pZChmdW5jdGlvbigpe1wiK2VuY29kZVVSSUNvbXBvbmVudChmKStcIn0oKSlcIjpcIlwiLGc9Q0tFRElUT1IuZW52LmllfHxDS0VESVRPUi5lbnYuZ2Vja287aWYoZyliLm9uKFwibG9hZFwiLGQpO3ZhciBoPVthLmxhbmcuZWRpdG9yLGEubmFtZV0uam9pbigpLGk9YS5sYW5nLmNvbW1vbi5lZGl0b3JIZWxwO0NLRURJVE9SLmVudi5pZSYmKGgrPVwiLCBcIitpKTt2YXIgaj1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKSxtPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKCc8c3BhbiBpZD1cIicraisnXCIgY2xhc3M9XCJja2Vfdm9pY2VfbGFiZWxcIj4nK2krXCI8L3NwYW4+XCIpO2UuYXBwZW5kKG0sMSk7YS5vbihcImJlZm9yZU1vZGVVbmxvYWRcIixmdW5jdGlvbihhKXthLnJlbW92ZUxpc3RlbmVyKCk7bS5yZW1vdmUoKX0pO1xuYi5zZXRBdHRyaWJ1dGVzKHtmcmFtZUJvcmRlcjowLFwiYXJpYS1kZXNjcmliZWRieVwiOmosdGl0bGU6aCxzcmM6Zix0YWJJbmRleDphLnRhYkluZGV4LGFsbG93VHJhbnNwYXJlbmN5OlwidHJ1ZVwifSk7IWcmJmQoKTtDS0VESVRPUi5lbnYud2Via2l0JiYoZj1mdW5jdGlvbigpe2Uuc2V0U3R5bGUoXCJ3aWR0aFwiLFwiMTAwJVwiKTtiLmhpZGUoKTtiLnNldFNpemUoXCJ3aWR0aFwiLGUuZ2V0U2l6ZShcIndpZHRoXCIpKTtlLnJlbW92ZVN0eWxlKFwid2lkdGhcIik7Yi5zaG93KCl9LGIuc2V0Q3VzdG9tRGF0YShcIm9uUmVzaXplXCIsZiksQ0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCkub24oXCJyZXNpemVcIixmKSk7YS5maXJlKFwiYXJpYVdpZGdldFwiLGIpfSl9fSk7dmFyIGw9Q0tFRElUT1IuZW52LmlzQ3VzdG9tRG9tYWluKCksaz1DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7JDpmdW5jdGlvbihhKXt0aGlzLmJhc2UuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuXy5mcmFtZUxvYWRlZEhhbmRsZXI9XG5DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbihhKXtDS0VESVRPUi50b29scy5zZXRUaW1lb3V0KG4sMCx0aGlzLGEpfSx0aGlzKTt0aGlzLl8uZG9jVGl0bGU9dGhpcy5nZXRXaW5kb3coKS5nZXRGcmFtZSgpLmdldEF0dHJpYnV0ZShcInRpdGxlXCIpfSxiYXNlOkNLRURJVE9SLmVkaXRhYmxlLHByb3RvOntzZXREYXRhOmZ1bmN0aW9uKGEsYyl7dmFyIGQ9dGhpcy5lZGl0b3I7aWYoYyl0aGlzLnNldEh0bWwoYSk7ZWxzZXt0aGlzLl8uaXNMb2FkaW5nRGF0YT0hMDtkLl8uZGF0YVN0b3JlPXtpZDoxfTt2YXIgYj1kLmNvbmZpZyxlPWIuZnVsbFBhZ2UsZj1iLmRvY1R5cGUsZz1DS0VESVRPUi50b29scy5idWlsZFN0eWxlSHRtbChxKCkpLnJlcGxhY2UoLzxzdHlsZT4vLCc8c3R5bGUgZGF0YS1ja2UtdGVtcD1cIjFcIj4nKTtlfHwoZys9Q0tFRElUT1IudG9vbHMuYnVpbGRTdHlsZUh0bWwoZC5jb25maWcuY29udGVudHNDc3MpKTt2YXIgaD1iLmJhc2VIcmVmPyc8YmFzZSBocmVmPVwiJytcbmIuYmFzZUhyZWYrJ1wiIGRhdGEtY2tlLXRlbXA9XCIxXCIgLz4nOlwiXCI7ZSYmKGE9YS5yZXBsYWNlKC88IURPQ1RZUEVbXj5dKj4vaSxmdW5jdGlvbihhKXtkLmRvY1R5cGU9Zj1hO3JldHVyblwiXCJ9KS5yZXBsYWNlKC88XFw/eG1sXFxzW15cXD9dKlxcPz4vaSxmdW5jdGlvbihhKXtkLnhtbERlY2xhcmF0aW9uPWE7cmV0dXJuXCJcIn0pKTtkLmRhdGFQcm9jZXNzb3ImJihhPWQuZGF0YVByb2Nlc3Nvci50b0h0bWwoYSkpO2U/KC88Ym9keVtcXHN8Pl0vLnRlc3QoYSl8fChhPVwiPGJvZHk+XCIrYSksLzxodG1sW1xcc3w+XS8udGVzdChhKXx8KGE9XCI8aHRtbD5cIithK1wiPC9odG1sPlwiKSwvPGhlYWRbXFxzfD5dLy50ZXN0KGEpPy88dGl0bGVbXFxzfD5dLy50ZXN0KGEpfHwoYT1hLnJlcGxhY2UoLzxoZWFkW14+XSo+LyxcIiQmPHRpdGxlPjwvdGl0bGU+XCIpKTphPWEucmVwbGFjZSgvPGh0bWxbXj5dKj4vLFwiJCY8aGVhZD48dGl0bGU+PC90aXRsZT48L2hlYWQ+XCIpLGgmJihhPWEucmVwbGFjZSgvPGhlYWQ+LyxcIiQmXCIrXG5oKSksYT1hLnJlcGxhY2UoLzxcXC9oZWFkXFxzKj4vLGcrXCIkJlwiKSxhPWYrYSk6YT1iLmRvY1R5cGUrJzxodG1sIGRpcj1cIicrYi5jb250ZW50c0xhbmdEaXJlY3Rpb24rJ1wiIGxhbmc9XCInKyhiLmNvbnRlbnRzTGFuZ3VhZ2V8fGQubGFuZ0NvZGUpKydcIj48aGVhZD48dGl0bGU+Jyt0aGlzLl8uZG9jVGl0bGUrXCI8L3RpdGxlPlwiK2grZytcIjwvaGVhZD48Ym9keVwiKyhiLmJvZHlJZD8nIGlkPVwiJytiLmJvZHlJZCsnXCInOlwiXCIpKyhiLmJvZHlDbGFzcz8nIGNsYXNzPVwiJytiLmJvZHlDbGFzcysnXCInOlwiXCIpK1wiPlwiK2ErXCI8L2JvZHk+PC9odG1sPlwiO0NLRURJVE9SLmVudi5nZWNrbyYmKGE9YS5yZXBsYWNlKC88Ym9keS8sJzxib2R5IGNvbnRlbnRlZGl0YWJsZT1cInRydWVcIiAnKSwyRTQ+Q0tFRElUT1IuZW52LnZlcnNpb24mJihhPWEucmVwbGFjZSgvPGJvZHlbXj5dKj4vLFwiJCY8XFwhLS0gY2tlLWNvbnRlbnQtc3RhcnQgLS1cXD5cIikpKTtiPSc8c2NyaXB0IGlkPVwiY2tlX2FjdHNjcnB0XCIgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiJytcbihDS0VESVRPUi5lbnYuaWU/JyBkZWZlcj1cImRlZmVyXCIgJzpcIlwiKStcIj5cIisobD8nZG9jdW1lbnQuZG9tYWluPVwiJytkb2N1bWVudC5kb21haW4rJ1wiOyc6XCJcIikrXCJ2YXIgd2FzTG9hZGVkPTA7ZnVuY3Rpb24gb25sb2FkKCl7aWYoIXdhc0xvYWRlZCl3aW5kb3cucGFyZW50LkNLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbihcIit0aGlzLl8uZnJhbWVMb2FkZWRIYW5kbGVyK1wiLHdpbmRvdyk7d2FzTG9hZGVkPTE7fVwiKyhDS0VESVRPUi5lbnYuaWU/XCJvbmxvYWQoKTtcIjonZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgb25sb2FkLCBmYWxzZSApOycpK1wiPFxcL3NjcmlwdD5cIjtDS0VESVRPUi5lbnYuaWUmJjk+Q0tFRElUT1IuZW52LnZlcnNpb24mJihiKz0nPHNjcmlwdCBpZD1cImNrZV9zaGltc2NycHRcIj4oZnVuY3Rpb24oKXt2YXIgZT1cImFiYnIsYXJ0aWNsZSxhc2lkZSxhdWRpbyxiZGksY2FudmFzLGRhdGEsZGF0YWxpc3QsZGV0YWlscyxmaWdjYXB0aW9uLGZpZ3VyZSxmb290ZXIsaGVhZGVyLGhncm91cCxtYXJrLG1ldGVyLG5hdixvdXRwdXQscHJvZ3Jlc3Msc2VjdGlvbixzdW1tYXJ5LHRpbWUsdmlkZW9cIi5zcGxpdChcIixcIiksaT1lLmxlbmd0aDt3aGlsZShpLS0pe2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZVtpXSl9fSkoKTxcXC9zY3JpcHQ+Jyk7XG5hPWEucmVwbGFjZSgvKD89XFxzKjxcXC8oOj9oZWFkKT4pLyxiKTt0aGlzLmNsZWFyQ3VzdG9tRGF0YSgpO3RoaXMuY2xlYXJMaXN0ZW5lcnMoKTtkLmZpcmUoXCJjb250ZW50RG9tVW5sb2FkXCIpO3ZhciBpPXRoaXMuZ2V0RG9jdW1lbnQoKTt0cnl7aS53cml0ZShhKX1jYXRjaChqKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aS53cml0ZShhKX0sMCl9fX0sZ2V0RGF0YTpmdW5jdGlvbihhKXtpZihhKXJldHVybiB0aGlzLmdldEh0bWwoKTt2YXIgYT10aGlzLmVkaXRvcixjPWEuY29uZmlnLmZ1bGxQYWdlLGQ9YyYmYS5kb2NUeXBlLGI9YyYmYS54bWxEZWNsYXJhdGlvbixlPXRoaXMuZ2V0RG9jdW1lbnQoKSxjPWM/ZS5nZXREb2N1bWVudEVsZW1lbnQoKS5nZXRPdXRlckh0bWwoKTplLmdldEJvZHkoKS5nZXRIdG1sKCk7Q0tFRElUT1IuZW52LmdlY2tvJiYoYz1jLnJlcGxhY2UoLzxicj4oPz1cXHMqKDo/JHw8XFwvYm9keT4pKS8sXCJcIikpO2EuZGF0YVByb2Nlc3NvciYmKGM9YS5kYXRhUHJvY2Vzc29yLnRvRGF0YUZvcm1hdChjKSk7XG5iJiYoYz1iK1wiXFxuXCIrYyk7ZCYmKGM9ZCtcIlxcblwiK2MpO3JldHVybiBjfSxmb2N1czpmdW5jdGlvbigpe3RoaXMuXy5pc0xvYWRpbmdEYXRhP3RoaXMuXy5pc1BlbmRpbmdGb2N1cz0hMDprLmJhc2VQcm90by5mb2N1cy5jYWxsKHRoaXMpfSxkZXRhY2g6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVkaXRvcixjPWEuZG9jdW1lbnQsZD1hLndpbmRvdy5nZXRGcmFtZSgpO2suYmFzZVByb3RvLmRldGFjaC5jYWxsKHRoaXMpO3RoaXMuY2xlYXJDdXN0b21EYXRhKCk7Yy5nZXREb2N1bWVudEVsZW1lbnQoKS5jbGVhckN1c3RvbURhdGEoKTtkLmNsZWFyQ3VzdG9tRGF0YSgpO0NLRURJVE9SLnRvb2xzLnJlbW92ZUZ1bmN0aW9uKHRoaXMuXy5mcmFtZUxvYWRlZEhhbmRsZXIpOyhjPWQucmVtb3ZlQ3VzdG9tRGF0YShcIm9uUmVzaXplXCIpKSYmYy5yZW1vdmVMaXN0ZW5lcigpO2EuZmlyZShcImNvbnRlbnREb21VbmxvYWRcIik7ZC5yZW1vdmUoKX19fSk7Q0tFRElUT1IuZW52LmdlY2tvJiZmdW5jdGlvbigpe3ZhciBhPVxuZG9jdW1lbnQuYm9keTtpZihhKXt2YXIgYz1hLmdldEF0dHJpYnV0ZShcIm9ucGFnZXNob3dcIik7YS5zZXRBdHRyaWJ1dGUoXCJvbnBhZ2VzaG93XCIsKGM/YytcIjtcIjpcIlwiKSsnZXZlbnQucGVyc2lzdGVkJiYoZnVuY3Rpb24oKXt2YXIgeD1DS0VESVRPUi5pbnN0YW5jZXMsZCxpO2ZvcihpIGluIHgpe2Q9eFtpXS5kb2N1bWVudDtpZihkKXtkLiQuZGVzaWduTW9kZT1cIm9mZlwiO2QuJC5kZXNpZ25Nb2RlPVwib25cIjt9fX0pKCk7Jyl9ZWxzZSB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixhcmd1bWVudHMuY2FsbGVlLCExKX0oKX0pKCk7Q0tFRElUT1IuY29uZmlnLmRpc2FibGVPYmplY3RSZXNpemluZz0hMTtDS0VESVRPUi5jb25maWcuZGlzYWJsZU5hdGl2ZVRhYmxlSGFuZGxlcz0hMDtDS0VESVRPUi5jb25maWcuZGlzYWJsZU5hdGl2ZVNwZWxsQ2hlY2tlcj0hMDtDS0VESVRPUi5jb25maWcuY29udGVudHNDc3M9Q0tFRElUT1IuYmFzZVBhdGgrXCJjb250ZW50cy5jc3NcIjsoZnVuY3Rpb24oKXtmdW5jdGlvbiBnKGEsYil7dmFyIGM9ai5leGVjKGEpLGQ9ai5leGVjKGIpO2lmKGMpe2lmKCFjWzJdJiZcInB4XCI9PWRbMl0pcmV0dXJuIGRbMV07aWYoXCJweFwiPT1jWzJdJiYhZFsyXSlyZXR1cm4gZFsxXStcInB4XCJ9cmV0dXJuIGJ9dmFyIGk9Q0tFRElUT1IuaHRtbFBhcnNlci5jc3NTdHlsZSxoPUNLRURJVE9SLnRvb2xzLmNzc0xlbmd0aCxqPS9eKCg/OlxcZCooPzpcXC5cXGQrKSl8KD86XFxkKykpKC4qKT8kL2ksbD17ZWxlbWVudHM6eyQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5hdHRyaWJ1dGVzO2lmKChiPShiPShiPWImJmJbXCJkYXRhLWNrZS1yZWFsZWxlbWVudFwiXSkmJm5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmZyYWdtZW50LmZyb21IdG1sKGRlY29kZVVSSUNvbXBvbmVudChiKSkpJiZiLmNoaWxkcmVuWzBdKSYmYS5hdHRyaWJ1dGVzW1wiZGF0YS1ja2UtcmVzaXphYmxlXCJdKXt2YXIgYz0obmV3IGkoYSkpLnJ1bGVzLGE9Yi5hdHRyaWJ1dGVzLGQ9Yy53aWR0aCxjPVxuYy5oZWlnaHQ7ZCYmKGEud2lkdGg9ZyhhLndpZHRoLGQpKTtjJiYoYS5oZWlnaHQ9ZyhhLmhlaWdodCxjKSl9cmV0dXJuIGJ9fX0saz1DS0VESVRPUi5wbHVnaW5zLmFkZChcImZha2VvYmplY3RzXCIse2FmdGVySW5pdDpmdW5jdGlvbihhKXsoYT0oYT1hLmRhdGFQcm9jZXNzb3IpJiZhLmh0bWxGaWx0ZXIpJiZhLmFkZFJ1bGVzKGwpfX0pO0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuY3JlYXRlRmFrZUVsZW1lbnQ9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9dGhpcy5sYW5nLmZha2VvYmplY3RzLGU9ZVtjXXx8ZS51bmtub3duLGI9e1wiY2xhc3NcIjpiLFwiZGF0YS1ja2UtcmVhbGVsZW1lbnRcIjplbmNvZGVVUklDb21wb25lbnQoYS5nZXRPdXRlckh0bWwoKSksXCJkYXRhLWNrZS1yZWFsLW5vZGUtdHlwZVwiOmEudHlwZSxhbHQ6ZSx0aXRsZTplLGFsaWduOmEuZ2V0QXR0cmlidXRlKFwiYWxpZ25cIil8fFwiXCJ9O0NLRURJVE9SLmVudi5oY3x8KGIuc3JjPUNLRURJVE9SLmdldFVybChrLnBhdGgrXG5cImltYWdlcy9zcGFjZXIuZ2lmXCIpKTtjJiYoYltcImRhdGEtY2tlLXJlYWwtZWxlbWVudC10eXBlXCJdPWMpO2QmJihiW1wiZGF0YS1ja2UtcmVzaXphYmxlXCJdPWQsYz1uZXcgaSxkPWEuZ2V0QXR0cmlidXRlKFwid2lkdGhcIiksYT1hLmdldEF0dHJpYnV0ZShcImhlaWdodFwiKSxkJiYoYy5ydWxlcy53aWR0aD1oKGQpKSxhJiYoYy5ydWxlcy5oZWlnaHQ9aChhKSksYy5wb3B1bGF0ZShiKSk7cmV0dXJuIHRoaXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiLHthdHRyaWJ1dGVzOmJ9KX07Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5jcmVhdGVGYWtlUGFyc2VyRWxlbWVudD1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT10aGlzLmxhbmcuZmFrZW9iamVjdHMsZT1lW2NdfHxlLnVua25vd24sZjtmPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmJhc2ljV3JpdGVyO2Eud3JpdGVIdG1sKGYpO2Y9Zi5nZXRIdG1sKCk7Yj17XCJjbGFzc1wiOmIsXCJkYXRhLWNrZS1yZWFsZWxlbWVudFwiOmVuY29kZVVSSUNvbXBvbmVudChmKSxcblwiZGF0YS1ja2UtcmVhbC1ub2RlLXR5cGVcIjphLnR5cGUsYWx0OmUsdGl0bGU6ZSxhbGlnbjphLmF0dHJpYnV0ZXMuYWxpZ258fFwiXCJ9O0NLRURJVE9SLmVudi5oY3x8KGIuc3JjPUNLRURJVE9SLmdldFVybChrLnBhdGgrXCJpbWFnZXMvc3BhY2VyLmdpZlwiKSk7YyYmKGJbXCJkYXRhLWNrZS1yZWFsLWVsZW1lbnQtdHlwZVwiXT1jKTtkJiYoYltcImRhdGEtY2tlLXJlc2l6YWJsZVwiXT1kLGQ9YS5hdHRyaWJ1dGVzLGE9bmV3IGksYz1kLndpZHRoLGQ9ZC5oZWlnaHQsdm9pZCAwIT1jJiYoYS5ydWxlcy53aWR0aD1oKGMpKSx2b2lkIDAhPWQmJihhLnJ1bGVzLmhlaWdodD1oKGQpKSxhLnBvcHVsYXRlKGIpKTtyZXR1cm4gbmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudChcImltZ1wiLGIpfTtDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLnJlc3RvcmVSZWFsRWxlbWVudD1mdW5jdGlvbihhKXtpZihhLmRhdGEoXCJja2UtcmVhbC1ub2RlLXR5cGVcIikhPUNLRURJVE9SLk5PREVfRUxFTUVOVClyZXR1cm4gbnVsbDtcbnZhciBiPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKGRlY29kZVVSSUNvbXBvbmVudChhLmRhdGEoXCJja2UtcmVhbGVsZW1lbnRcIikpLHRoaXMuZG9jdW1lbnQpO2lmKGEuZGF0YShcImNrZS1yZXNpemFibGVcIikpe3ZhciBjPWEuZ2V0U3R5bGUoXCJ3aWR0aFwiKSxhPWEuZ2V0U3R5bGUoXCJoZWlnaHRcIik7YyYmYi5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLGcoYi5nZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiKSxjKSk7YSYmYi5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIixnKGIuZ2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIpLGEpKX1yZXR1cm4gYn19KSgpO0NLRURJVE9SLnBsdWdpbnMuYWRkKFwibGlua1wiLHtyZXF1aXJlczpcImRpYWxvZyxmYWtlb2JqZWN0c1wiLG9uTG9hZDpmdW5jdGlvbigpe2Z1bmN0aW9uIGIoYil7cmV0dXJuIGMucmVwbGFjZSgvJTEvZyxcInJ0bFwiPT1iP1wicmlnaHRcIjpcImxlZnRcIikucmVwbGFjZSgvJTIvZyxcImNrZV9jb250ZW50c19cIitiKX12YXIgYT1cImJhY2tncm91bmQ6dXJsKFwiK0NLRURJVE9SLmdldFVybCh0aGlzLnBhdGgrXCJpbWFnZXMvYW5jaG9yLnBuZ1wiKStcIikgbm8tcmVwZWF0ICUxIGNlbnRlcjtib3JkZXI6MXB4IGRvdHRlZCAjMDBmO1wiLGM9XCIuJTIgYS5ja2VfYW5jaG9yLC4lMiBhLmNrZV9hbmNob3JfZW1wdHksLmNrZV9lZGl0YWJsZS4lMiBhW25hbWVdLC5ja2VfZWRpdGFibGUuJTIgYVtkYXRhLWNrZS1zYXZlZC1uYW1lXXtcIithK1wicGFkZGluZy0lMToxOHB4O2N1cnNvcjphdXRvO31cIisoQ0tFRElUT1IuZW52LmllP1wiYS5ja2VfYW5jaG9yX2VtcHR5e2Rpc3BsYXk6aW5saW5lLWJsb2NrO31cIjpcIlwiKStcIi4lMiBpbWcuY2tlX2FuY2hvcntcIitcbmErXCJ3aWR0aDoxNnB4O21pbi1oZWlnaHQ6MTVweDtoZWlnaHQ6MS4xNWVtO3ZlcnRpY2FsLWFsaWduOlwiKyhDS0VESVRPUi5lbnYub3BlcmE/XCJtaWRkbGVcIjpcInRleHQtYm90dG9tXCIpK1wiO31cIjtDS0VESVRPUi5hZGRDc3MoYihcImx0clwiKStiKFwicnRsXCIpKX0saW5pdDpmdW5jdGlvbihiKXtiLmFkZENvbW1hbmQoXCJsaW5rXCIsbmV3IENLRURJVE9SLmRpYWxvZ0NvbW1hbmQoXCJsaW5rXCIpKTtiLmFkZENvbW1hbmQoXCJhbmNob3JcIixuZXcgQ0tFRElUT1IuZGlhbG9nQ29tbWFuZChcImFuY2hvclwiKSk7Yi5hZGRDb21tYW5kKFwidW5saW5rXCIsbmV3IENLRURJVE9SLnVubGlua0NvbW1hbmQpO2IuYWRkQ29tbWFuZChcInJlbW92ZUFuY2hvclwiLG5ldyBDS0VESVRPUi5yZW1vdmVBbmNob3JDb21tYW5kKTtiLnNldEtleXN0cm9rZShDS0VESVRPUi5DVFJMKzc2LFwibGlua1wiKTtiLnVpLmFkZEJ1dHRvbiYmKGIudWkuYWRkQnV0dG9uKFwiTGlua1wiLHtsYWJlbDpiLmxhbmcubGluay50b29sYmFyLGNvbW1hbmQ6XCJsaW5rXCIsXG50b29sYmFyOlwibGlua3MsMTBcIn0pLGIudWkuYWRkQnV0dG9uKFwiVW5saW5rXCIse2xhYmVsOmIubGFuZy5saW5rLnVubGluayxjb21tYW5kOlwidW5saW5rXCIsdG9vbGJhcjpcImxpbmtzLDIwXCJ9KSxiLnVpLmFkZEJ1dHRvbihcIkFuY2hvclwiLHtsYWJlbDpiLmxhbmcubGluay5hbmNob3IudG9vbGJhcixjb21tYW5kOlwiYW5jaG9yXCIsdG9vbGJhcjpcImxpbmtzLDMwXCJ9KSk7Q0tFRElUT1IuZGlhbG9nLmFkZChcImxpbmtcIix0aGlzLnBhdGgrXCJkaWFsb2dzL2xpbmsuanNcIik7Q0tFRElUT1IuZGlhbG9nLmFkZChcImFuY2hvclwiLHRoaXMucGF0aCtcImRpYWxvZ3MvYW5jaG9yLmpzXCIpO2Iub24oXCJkb3VibGVjbGlja1wiLGZ1bmN0aW9uKGEpe3ZhciBjPUNLRURJVE9SLnBsdWdpbnMubGluay5nZXRTZWxlY3RlZExpbmsoYil8fGEuZGF0YS5lbGVtZW50O2lmKCFjLmlzUmVhZE9ubHkoKSlpZihjLmlzKFwiYVwiKSl7YS5kYXRhLmRpYWxvZz1jLmdldEF0dHJpYnV0ZShcIm5hbWVcIikmJighYy5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpfHxcbiFjLmdldENoaWxkQ291bnQoKSk/XCJhbmNob3JcIjpcImxpbmtcIjtiLmdldFNlbGVjdGlvbigpLnNlbGVjdEVsZW1lbnQoYyl9ZWxzZSBpZihDS0VESVRPUi5wbHVnaW5zLmxpbmsudHJ5UmVzdG9yZUZha2VBbmNob3IoYixjKSlhLmRhdGEuZGlhbG9nPVwiYW5jaG9yXCJ9KTtiLmFkZE1lbnVJdGVtcyYmYi5hZGRNZW51SXRlbXMoe2FuY2hvcjp7bGFiZWw6Yi5sYW5nLmxpbmsuYW5jaG9yLm1lbnUsY29tbWFuZDpcImFuY2hvclwiLGdyb3VwOlwiYW5jaG9yXCIsb3JkZXI6MX0scmVtb3ZlQW5jaG9yOntsYWJlbDpiLmxhbmcubGluay5hbmNob3IucmVtb3ZlLGNvbW1hbmQ6XCJyZW1vdmVBbmNob3JcIixncm91cDpcImFuY2hvclwiLG9yZGVyOjV9LGxpbms6e2xhYmVsOmIubGFuZy5saW5rLm1lbnUsY29tbWFuZDpcImxpbmtcIixncm91cDpcImxpbmtcIixvcmRlcjoxfSx1bmxpbms6e2xhYmVsOmIubGFuZy5saW5rLnVubGluayxjb21tYW5kOlwidW5saW5rXCIsZ3JvdXA6XCJsaW5rXCIsb3JkZXI6NX19KTtiLmNvbnRleHRNZW51JiZcbmIuY29udGV4dE1lbnUuYWRkTGlzdGVuZXIoZnVuY3Rpb24oYSl7aWYoIWF8fGEuaXNSZWFkT25seSgpKXJldHVybiBudWxsO2E9Q0tFRElUT1IucGx1Z2lucy5saW5rLnRyeVJlc3RvcmVGYWtlQW5jaG9yKGIsYSk7aWYoIWEmJiEoYT1DS0VESVRPUi5wbHVnaW5zLmxpbmsuZ2V0U2VsZWN0ZWRMaW5rKGIpKSlyZXR1cm4gbnVsbDt2YXIgYz17fTthLmdldEF0dHJpYnV0ZShcImhyZWZcIikmJmEuZ2V0Q2hpbGRDb3VudCgpJiYoYz17bGluazpDS0VESVRPUi5UUklTVEFURV9PRkYsdW5saW5rOkNLRURJVE9SLlRSSVNUQVRFX09GRn0pO2lmKGEmJmEuaGFzQXR0cmlidXRlKFwibmFtZVwiKSljLmFuY2hvcj1jLnJlbW92ZUFuY2hvcj1DS0VESVRPUi5UUklTVEFURV9PRkY7cmV0dXJuIGN9KX0sYWZ0ZXJJbml0OmZ1bmN0aW9uKGIpe3ZhciBhPWIuZGF0YVByb2Nlc3NvcixjPWEmJmEuZGF0YUZpbHRlcixhPWEmJmEuaHRtbEZpbHRlcixkPWIuXy5lbGVtZW50c1BhdGgmJmIuXy5lbGVtZW50c1BhdGguZmlsdGVycztcbmMmJmMuYWRkUnVsZXMoe2VsZW1lbnRzOnthOmZ1bmN0aW9uKGEpe3ZhciBjPWEuYXR0cmlidXRlcztpZighYy5uYW1lKXJldHVybiBudWxsO3ZhciBkPSFhLmNoaWxkcmVuLmxlbmd0aDtpZihDS0VESVRPUi5wbHVnaW5zLmxpbmsuc3luQW5jaG9yU2VsZWN0b3Ipe3ZhciBhPWQ/XCJja2VfYW5jaG9yX2VtcHR5XCI6XCJja2VfYW5jaG9yXCIsZT1jW1wiY2xhc3NcIl07aWYoYy5uYW1lJiYoIWV8fDA+ZS5pbmRleE9mKGEpKSljW1wiY2xhc3NcIl09KGV8fFwiXCIpK1wiIFwiK2E7ZCYmQ0tFRElUT1IucGx1Z2lucy5saW5rLmVtcHR5QW5jaG9yRml4JiYoYy5jb250ZW50ZWRpdGFibGU9XCJmYWxzZVwiLGNbXCJkYXRhLWNrZS1lZGl0YWJsZVwiXT0xKX1lbHNlIGlmKENLRURJVE9SLnBsdWdpbnMubGluay5mYWtlQW5jaG9yJiZkKXJldHVybiBiLmNyZWF0ZUZha2VQYXJzZXJFbGVtZW50KGEsXCJja2VfYW5jaG9yXCIsXCJhbmNob3JcIik7cmV0dXJuIG51bGx9fX0pO0NLRURJVE9SLnBsdWdpbnMubGluay5lbXB0eUFuY2hvckZpeCYmXG5hJiZhLmFkZFJ1bGVzKHtlbGVtZW50czp7YTpmdW5jdGlvbihhKXtkZWxldGUgYS5hdHRyaWJ1dGVzLmNvbnRlbnRlZGl0YWJsZX19fSk7ZCYmZC5wdXNoKGZ1bmN0aW9uKGEsYyl7aWYoXCJhXCI9PWMmJihDS0VESVRPUi5wbHVnaW5zLmxpbmsudHJ5UmVzdG9yZUZha2VBbmNob3IoYixhKXx8YS5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpJiYoIWEuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKXx8IWEuZ2V0Q2hpbGRDb3VudCgpKSkpcmV0dXJuXCJhbmNob3JcIn0pfX0pO1xuQ0tFRElUT1IucGx1Z2lucy5saW5rPXtnZXRTZWxlY3RlZExpbms6ZnVuY3Rpb24oYil7dmFyIGE9Yi5nZXRTZWxlY3Rpb24oKSxjPWEuZ2V0U2VsZWN0ZWRFbGVtZW50KCk7cmV0dXJuIGMmJmMuaXMoXCJhXCIpP2M6KGE9YS5nZXRSYW5nZXMoITApWzBdKT8oYS5zaHJpbmsoQ0tFRElUT1IuU0hSSU5LX1RFWFQpLGIuZWxlbWVudFBhdGgoYS5nZXRDb21tb25BbmNlc3RvcigpKS5jb250YWlucyhcImFcIiwxKSk6bnVsbH0sZmFrZUFuY2hvcjpDS0VESVRPUi5lbnYub3BlcmF8fENLRURJVE9SLmVudi53ZWJraXQsc3luQW5jaG9yU2VsZWN0b3I6Q0tFRElUT1IuZW52LmllLGVtcHR5QW5jaG9yRml4OkNLRURJVE9SLmVudi5pZSYmOD5DS0VESVRPUi5lbnYudmVyc2lvbix0cnlSZXN0b3JlRmFrZUFuY2hvcjpmdW5jdGlvbihiLGEpe2lmKGEmJmEuZGF0YShcImNrZS1yZWFsLWVsZW1lbnQtdHlwZVwiKSYmXCJhbmNob3JcIj09YS5kYXRhKFwiY2tlLXJlYWwtZWxlbWVudC10eXBlXCIpKXt2YXIgYz1iLnJlc3RvcmVSZWFsRWxlbWVudChhKTtcbmlmKGMuZGF0YShcImNrZS1zYXZlZC1uYW1lXCIpKXJldHVybiBjfX19O0NLRURJVE9SLnVubGlua0NvbW1hbmQ9ZnVuY3Rpb24oKXt9O0NLRURJVE9SLnVubGlua0NvbW1hbmQucHJvdG90eXBlPXtleGVjOmZ1bmN0aW9uKGIpe3ZhciBhPW5ldyBDS0VESVRPUi5zdHlsZSh7ZWxlbWVudDpcImFcIix0eXBlOkNLRURJVE9SLlNUWUxFX0lOTElORSxhbHdheXNSZW1vdmVFbGVtZW50OjF9KTtiLnJlbW92ZVN0eWxlKGEpfSxyZWZyZXNoOmZ1bmN0aW9uKGIsYSl7dmFyIGM9YS5sYXN0RWxlbWVudCYmYS5sYXN0RWxlbWVudC5nZXRBc2NlbmRhbnQoXCJhXCIsITApO2MmJlwiYVwiPT1jLmdldE5hbWUoKSYmYy5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpJiZjLmdldENoaWxkQ291bnQoKT90aGlzLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX09GRik6dGhpcy5zZXRTdGF0ZShDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCl9LGNvbnRleHRTZW5zaXRpdmU6MSxzdGFydERpc2FibGVkOjF9O1xuQ0tFRElUT1IucmVtb3ZlQW5jaG9yQ29tbWFuZD1mdW5jdGlvbigpe307Q0tFRElUT1IucmVtb3ZlQW5jaG9yQ29tbWFuZC5wcm90b3R5cGU9e2V4ZWM6ZnVuY3Rpb24oYil7dmFyIGE9Yi5nZXRTZWxlY3Rpb24oKSxjPWEuY3JlYXRlQm9va21hcmtzKCksZDtpZihhJiYoZD1hLmdldFNlbGVjdGVkRWxlbWVudCgpKSYmKENLRURJVE9SLnBsdWdpbnMubGluay5mYWtlQW5jaG9yJiYhZC5nZXRDaGlsZENvdW50KCk/Q0tFRElUT1IucGx1Z2lucy5saW5rLnRyeVJlc3RvcmVGYWtlQW5jaG9yKGIsZCk6ZC5pcyhcImFcIikpKWQucmVtb3ZlKDEpO2Vsc2UgaWYoZD1DS0VESVRPUi5wbHVnaW5zLmxpbmsuZ2V0U2VsZWN0ZWRMaW5rKGIpKWQuaGFzQXR0cmlidXRlKFwiaHJlZlwiKT8oZC5yZW1vdmVBdHRyaWJ1dGVzKHtuYW1lOjEsXCJkYXRhLWNrZS1zYXZlZC1uYW1lXCI6MX0pLGQucmVtb3ZlQ2xhc3MoXCJja2VfYW5jaG9yXCIpKTpkLnJlbW92ZSgxKTthLnNlbGVjdEJvb2ttYXJrcyhjKX19O1xuQ0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLmNvbmZpZyx7bGlua1Nob3dBZHZhbmNlZFRhYjohMCxsaW5rU2hvd1RhcmdldFRhYjohMH0pOyhmdW5jdGlvbigpe3ZhciBjPXtjYW5VbmRvOiExLGFzeW5jOiEwLGV4ZWM6ZnVuY3Rpb24oYSl7YS5nZXRDbGlwYm9hcmREYXRhKHt0aXRsZTphLmxhbmcucGFzdGV0ZXh0LnRpdGxlfSxmdW5jdGlvbihiKXtiJiZhLmZpcmUoXCJwYXN0ZVwiLHt0eXBlOlwidGV4dFwiLGRhdGFWYWx1ZTpiLmRhdGFWYWx1ZX0pO2EuZmlyZShcImFmdGVyQ29tbWFuZEV4ZWNcIix7bmFtZTpcInBhc3RldGV4dFwiLGNvbW1hbmQ6YyxyZXR1cm5WYWx1ZTohIWJ9KX0pfX07Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJwYXN0ZXRleHRcIix7cmVxdWlyZXM6XCJjbGlwYm9hcmRcIixpbml0OmZ1bmN0aW9uKGEpe2EuYWRkQ29tbWFuZChcInBhc3RldGV4dFwiLGMpO2EudWkuYWRkQnV0dG9uJiZhLnVpLmFkZEJ1dHRvbihcIlBhc3RlVGV4dFwiLHtsYWJlbDphLmxhbmcucGFzdGV0ZXh0LmJ1dHRvbixjb21tYW5kOlwicGFzdGV0ZXh0XCIsdG9vbGJhcjpcImNsaXBib2FyZCw0MFwifSk7aWYoYS5jb25maWcuZm9yY2VQYXN0ZUFzUGxhaW5UZXh0KWEub24oXCJiZWZvcmVQYXN0ZVwiLFxuZnVuY3Rpb24oYSl7XCJodG1sXCIhPWEuZGF0YS50eXBlJiYoYS5kYXRhLnR5cGU9XCJ0ZXh0XCIpfSk7YS5vbihcInBhc3RlU3RhdGVcIixmdW5jdGlvbihiKXthLmdldENvbW1hbmQoXCJwYXN0ZXRleHRcIikuc2V0U3RhdGUoYi5kYXRhKX0pfX0pfSkoKTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBoKGEpe3RoaXMuZWRpdG9yPWE7dGhpcy5yZXNldCgpfUNLRURJVE9SLnBsdWdpbnMuYWRkKFwidW5kb1wiLHtpbml0OmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGMoYSl7Yi5lbmFibGVkJiYhMSE9PWEuZGF0YS5jb21tYW5kLmNhblVuZG8mJmIuc2F2ZSgpfXZhciBiPW5ldyBoKGEpLGQ9YS5hZGRDb21tYW5kKFwidW5kb1wiLHtleGVjOmZ1bmN0aW9uKCl7Yi51bmRvKCkmJihhLnNlbGVjdGlvbkNoYW5nZSgpLHRoaXMuZmlyZShcImFmdGVyVW5kb1wiKSl9LHN0YXRlOkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVELGNhblVuZG86ITF9KSxlPWEuYWRkQ29tbWFuZChcInJlZG9cIix7ZXhlYzpmdW5jdGlvbigpe2IucmVkbygpJiYoYS5zZWxlY3Rpb25DaGFuZ2UoKSx0aGlzLmZpcmUoXCJhZnRlclJlZG9cIikpfSxzdGF0ZTpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCxjYW5VbmRvOiExfSk7YS5zZXRLZXlzdHJva2UoW1tDS0VESVRPUi5DVFJMKzkwLFwidW5kb1wiXSxcbltDS0VESVRPUi5DVFJMKzg5LFwicmVkb1wiXSxbQ0tFRElUT1IuQ1RSTCtDS0VESVRPUi5TSElGVCs5MCxcInJlZG9cIl1dKTtiLm9uQ2hhbmdlPWZ1bmN0aW9uKCl7ZC5zZXRTdGF0ZShiLnVuZG9hYmxlKCk/Q0tFRElUT1IuVFJJU1RBVEVfT0ZGOkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKTtlLnNldFN0YXRlKGIucmVkb2FibGUoKT9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpfTthLm9uKFwiYmVmb3JlQ29tbWFuZEV4ZWNcIixjKTthLm9uKFwiYWZ0ZXJDb21tYW5kRXhlY1wiLGMpO2Eub24oXCJzYXZlU25hcHNob3RcIixmdW5jdGlvbihhKXtiLnNhdmUoYS5kYXRhJiZhLmRhdGEuY29udGVudE9ubHkpfSk7YS5vbihcImNvbnRlbnREb21cIixmdW5jdGlvbigpe2EuZWRpdGFibGUoKS5vbihcImtleWRvd25cIixmdW5jdGlvbihhKXshYS5kYXRhLiQuY3RybEtleSYmIWEuZGF0YS4kLm1ldGFLZXkmJmIudHlwZShhKX0pfSk7YS5vbihcImJlZm9yZU1vZGVVbmxvYWRcIixcbmZ1bmN0aW9uKCl7XCJ3eXNpd3lnXCI9PWEubW9kZSYmYi5zYXZlKCEwKX0pO2Eub24oXCJtb2RlXCIsZnVuY3Rpb24oKXtiLmVuYWJsZWQ9YS5yZWFkT25seT8hMTpcInd5c2l3eWdcIj09YS5tb2RlO2Iub25DaGFuZ2UoKX0pO2EudWkuYWRkQnV0dG9uJiYoYS51aS5hZGRCdXR0b24oXCJVbmRvXCIse2xhYmVsOmEubGFuZy51bmRvLnVuZG8sY29tbWFuZDpcInVuZG9cIix0b29sYmFyOlwidW5kbywxMFwifSksYS51aS5hZGRCdXR0b24oXCJSZWRvXCIse2xhYmVsOmEubGFuZy51bmRvLnJlZG8sY29tbWFuZDpcInJlZG9cIix0b29sYmFyOlwidW5kbywyMFwifSkpO2EucmVzZXRVbmRvPWZ1bmN0aW9uKCl7Yi5yZXNldCgpO2EuZmlyZShcInNhdmVTbmFwc2hvdFwiKX07YS5vbihcInVwZGF0ZVNuYXBzaG90XCIsZnVuY3Rpb24oKXtiLmN1cnJlbnRJbWFnZSYmYi51cGRhdGUoKX0pO2Eub24oXCJsb2NrU25hcHNob3RcIixiLmxvY2ssYik7YS5vbihcInVubG9ja1NuYXBzaG90XCIsYi51bmxvY2ssYil9fSk7Q0tFRElUT1IucGx1Z2lucy51bmRvPVxue307dmFyIGk9Q0tFRElUT1IucGx1Z2lucy51bmRvLkltYWdlPWZ1bmN0aW9uKGEpe3RoaXMuZWRpdG9yPWE7YS5maXJlKFwiYmVmb3JlVW5kb0ltYWdlXCIpO3ZhciBjPWEuZ2V0U25hcHNob3QoKSxiPWMmJmEuZ2V0U2VsZWN0aW9uKCk7Q0tFRElUT1IuZW52LmllJiZjJiYoYz1jLnJlcGxhY2UoL1xccytkYXRhLWNrZS1leHBhbmRvPVwiLio/XCIvZyxcIlwiKSk7dGhpcy5jb250ZW50cz1jO3RoaXMuYm9va21hcmtzPWImJmIuY3JlYXRlQm9va21hcmtzMighMCk7YS5maXJlKFwiYWZ0ZXJVbmRvSW1hZ2VcIil9LGo9L1xcYig/OmhyZWZ8c3JjfG5hbWUpPVwiW15cIl0qP1wiL2dpO2kucHJvdG90eXBlPXtlcXVhbHM6ZnVuY3Rpb24oYSxjKXt2YXIgYj10aGlzLmNvbnRlbnRzLGQ9YS5jb250ZW50cztpZihDS0VESVRPUi5lbnYuaWUmJihDS0VESVRPUi5lbnYuaWU3Q29tcGF0fHxDS0VESVRPUi5lbnYuaWU2Q29tcGF0KSliPWIucmVwbGFjZShqLFwiXCIpLGQ9ZC5yZXBsYWNlKGosXCJcIik7aWYoYiE9ZClyZXR1cm4hMTtcbmlmKGMpcmV0dXJuITA7Yj10aGlzLmJvb2ttYXJrcztkPWEuYm9va21hcmtzO2lmKGJ8fGQpe2lmKCFifHwhZHx8Yi5sZW5ndGghPWQubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgZT0wO2U8Yi5sZW5ndGg7ZSsrKXt2YXIgZz1iW2VdLGY9ZFtlXTtpZihnLnN0YXJ0T2Zmc2V0IT1mLnN0YXJ0T2Zmc2V0fHxnLmVuZE9mZnNldCE9Zi5lbmRPZmZzZXR8fCFDS0VESVRPUi50b29scy5hcnJheUNvbXBhcmUoZy5zdGFydCxmLnN0YXJ0KXx8IUNLRURJVE9SLnRvb2xzLmFycmF5Q29tcGFyZShnLmVuZCxmLmVuZCkpcmV0dXJuITF9fXJldHVybiEwfX07dmFyIGs9ezg6MSw0NjoxfSxtPXsxNjoxLDE3OjEsMTg6MX0sbD17Mzc6MSwzODoxLDM5OjEsNDA6MX07aC5wcm90b3R5cGU9e3R5cGU6ZnVuY3Rpb24oYSl7dmFyIGE9YSYmYS5kYXRhLmdldEtleSgpLGM9YSBpbiBrLGI9dGhpcy5sYXN0S2V5c3Ryb2tlIGluIGssZD1jJiZhPT10aGlzLmxhc3RLZXlzdHJva2UsZT1hIGluIGwsZz10aGlzLmxhc3RLZXlzdHJva2UgaW5cbmw7aWYoIShhIGluIG18fHRoaXMudHlwaW5nKXx8IWMmJiFlJiYoYnx8Zyl8fGMmJiFkKXt2YXIgZj1uZXcgaSh0aGlzLmVkaXRvciksaD10aGlzLnNuYXBzaG90cy5sZW5ndGg7Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWRpdG9yLmdldFNuYXBzaG90KCk7Q0tFRElUT1IuZW52LmllJiYoYT1hLnJlcGxhY2UoL1xccytkYXRhLWNrZS1leHBhbmRvPVwiLio/XCIvZyxcIlwiKSk7Zi5jb250ZW50cyE9YSYmaD09dGhpcy5zbmFwc2hvdHMubGVuZ3RoJiYodGhpcy50eXBpbmc9ITAsdGhpcy5zYXZlKCExLGYsITEpfHx0aGlzLnNuYXBzaG90cy5zcGxpY2UodGhpcy5pbmRleCsxLHRoaXMuc25hcHNob3RzLmxlbmd0aC10aGlzLmluZGV4LTEpLHRoaXMuaGFzVW5kbz0hMCx0aGlzLmhhc1JlZG89ITEsdGhpcy5tb2RpZmllcnNDb3VudD10aGlzLnR5cGVzQ291bnQ9MSx0aGlzLm9uQ2hhbmdlKCkpfSwwLHRoaXMpfXRoaXMubGFzdEtleXN0cm9rZT1hO2M/XG4odGhpcy50eXBlc0NvdW50PTAsdGhpcy5tb2RpZmllcnNDb3VudCsrLDI1PHRoaXMubW9kaWZpZXJzQ291bnQmJih0aGlzLnNhdmUoITEsbnVsbCwhMSksdGhpcy5tb2RpZmllcnNDb3VudD0xKSk6ZXx8KHRoaXMubW9kaWZpZXJzQ291bnQ9MCx0aGlzLnR5cGVzQ291bnQrKywyNTx0aGlzLnR5cGVzQ291bnQmJih0aGlzLnNhdmUoITEsbnVsbCwhMSksdGhpcy50eXBlc0NvdW50PTEpKX0scmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLmxhc3RLZXlzdHJva2U9MDt0aGlzLnNuYXBzaG90cz1bXTt0aGlzLmluZGV4PS0xO3RoaXMubGltaXQ9dGhpcy5lZGl0b3IuY29uZmlnLnVuZG9TdGFja1NpemV8fDIwO3RoaXMuY3VycmVudEltYWdlPW51bGw7dGhpcy5oYXNSZWRvPXRoaXMuaGFzVW5kbz0hMTt0aGlzLmxvY2tlZD1udWxsO3RoaXMucmVzZXRUeXBlKCl9LHJlc2V0VHlwZTpmdW5jdGlvbigpe3RoaXMudHlwaW5nPSExO2RlbGV0ZSB0aGlzLmxhc3RLZXlzdHJva2U7dGhpcy5tb2RpZmllcnNDb3VudD1cbnRoaXMudHlwZXNDb3VudD0wfSxmaXJlQ2hhbmdlOmZ1bmN0aW9uKCl7dGhpcy5oYXNVbmRvPSEhdGhpcy5nZXROZXh0SW1hZ2UoITApO3RoaXMuaGFzUmVkbz0hIXRoaXMuZ2V0TmV4dEltYWdlKCExKTt0aGlzLnJlc2V0VHlwZSgpO3RoaXMub25DaGFuZ2UoKX0sc2F2ZTpmdW5jdGlvbihhLGMsYil7aWYodGhpcy5sb2NrZWQpcmV0dXJuITE7dmFyIGQ9dGhpcy5zbmFwc2hvdHM7Y3x8KGM9bmV3IGkodGhpcy5lZGl0b3IpKTtpZighMT09PWMuY29udGVudHN8fHRoaXMuY3VycmVudEltYWdlJiZjLmVxdWFscyh0aGlzLmN1cnJlbnRJbWFnZSxhKSlyZXR1cm4hMTtkLnNwbGljZSh0aGlzLmluZGV4KzEsZC5sZW5ndGgtdGhpcy5pbmRleC0xKTtkLmxlbmd0aD09dGhpcy5saW1pdCYmZC5zaGlmdCgpO3RoaXMuaW5kZXg9ZC5wdXNoKGMpLTE7dGhpcy5jdXJyZW50SW1hZ2U9YzshMSE9PWImJnRoaXMuZmlyZUNoYW5nZSgpO3JldHVybiEwfSxyZXN0b3JlSW1hZ2U6ZnVuY3Rpb24oYSl7dmFyIGM9XG50aGlzLmVkaXRvcixiO2EuYm9va21hcmtzJiYoYy5mb2N1cygpLGI9Yy5nZXRTZWxlY3Rpb24oKSk7dGhpcy5sb2NrZWQ9MTt0aGlzLmVkaXRvci5sb2FkU25hcHNob3QoYS5jb250ZW50cyk7YS5ib29rbWFya3M/Yi5zZWxlY3RCb29rbWFya3MoYS5ib29rbWFya3MpOkNLRURJVE9SLmVudi5pZSYmKGM9dGhpcy5lZGl0b3IuZG9jdW1lbnQuZ2V0Qm9keSgpLiQuY3JlYXRlVGV4dFJhbmdlKCksYy5jb2xsYXBzZSghMCksYy5zZWxlY3QoKSk7dGhpcy5sb2NrZWQ9MDt0aGlzLmluZGV4PWEuaW5kZXg7dGhpcy51cGRhdGUoKTt0aGlzLmZpcmVDaGFuZ2UoKX0sZ2V0TmV4dEltYWdlOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMuc25hcHNob3RzLGI9dGhpcy5jdXJyZW50SW1hZ2UsZDtpZihiKWlmKGEpZm9yKGQ9dGhpcy5pbmRleC0xOzA8PWQ7ZC0tKXtpZihhPWNbZF0sIWIuZXF1YWxzKGEsITApKXJldHVybiBhLmluZGV4PWQsYX1lbHNlIGZvcihkPXRoaXMuaW5kZXgrMTtkPGMubGVuZ3RoO2QrKylpZihhPVxuY1tkXSwhYi5lcXVhbHMoYSwhMCkpcmV0dXJuIGEuaW5kZXg9ZCxhO3JldHVybiBudWxsfSxyZWRvYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVuYWJsZWQmJnRoaXMuaGFzUmVkb30sdW5kb2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmFibGVkJiZ0aGlzLmhhc1VuZG99LHVuZG86ZnVuY3Rpb24oKXtpZih0aGlzLnVuZG9hYmxlKCkpe3RoaXMuc2F2ZSghMCk7dmFyIGE9dGhpcy5nZXROZXh0SW1hZ2UoITApO2lmKGEpcmV0dXJuIHRoaXMucmVzdG9yZUltYWdlKGEpLCEwfXJldHVybiExfSxyZWRvOmZ1bmN0aW9uKCl7aWYodGhpcy5yZWRvYWJsZSgpJiYodGhpcy5zYXZlKCEwKSx0aGlzLnJlZG9hYmxlKCkpKXt2YXIgYT10aGlzLmdldE5leHRJbWFnZSghMSk7aWYoYSlyZXR1cm4gdGhpcy5yZXN0b3JlSW1hZ2UoYSksITB9cmV0dXJuITF9LHVwZGF0ZTpmdW5jdGlvbigpe3RoaXMubG9ja2VkfHx0aGlzLnNuYXBzaG90cy5zcGxpY2UodGhpcy5pbmRleCwxLHRoaXMuY3VycmVudEltYWdlPVxubmV3IGkodGhpcy5lZGl0b3IpKX0sbG9jazpmdW5jdGlvbigpe2lmKCF0aGlzLmxvY2tlZCl7dmFyIGE9dGhpcy5lZGl0b3IuZ2V0U25hcHNob3QoKTt0aGlzLmxvY2tlZD17dXBkYXRlOnRoaXMuY3VycmVudEltYWdlJiZhPT10aGlzLmN1cnJlbnRJbWFnZS5jb250ZW50cz9hOm51bGx9fX0sdW5sb2NrOmZ1bmN0aW9uKCl7aWYodGhpcy5sb2NrZWQpe3ZhciBhPXRoaXMubG9ja2VkLnVwZGF0ZSxjPXRoaXMuZWRpdG9yLmdldFNuYXBzaG90KCk7dGhpcy5sb2NrZWQ9bnVsbDtcInN0cmluZ1wiPT10eXBlb2YgYSYmYyE9YSYmdGhpcy51cGRhdGUoKX19fX0pKCk7KGZ1bmN0aW9uKCl7Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJwYW5lbFwiLHtiZWZvcmVJbml0OmZ1bmN0aW9uKGEpe2EudWkuYWRkSGFuZGxlcihDS0VESVRPUi5VSV9QQU5FTCxDS0VESVRPUi51aS5wYW5lbC5oYW5kbGVyKX19KTtDS0VESVRPUi5VSV9QQU5FTD1cInBhbmVsXCI7Q0tFRElUT1IudWkucGFuZWw9ZnVuY3Rpb24oYSxiKXtiJiZDS0VESVRPUi50b29scy5leHRlbmQodGhpcyxiKTtDS0VESVRPUi50b29scy5leHRlbmQodGhpcyx7Y2xhc3NOYW1lOlwiXCIsY3NzOltdfSk7dGhpcy5pZD1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKTt0aGlzLmRvY3VtZW50PWE7dGhpcy5pc0ZyYW1lZD10aGlzLmZvcmNlSUZyYW1lfHx0aGlzLmNzcy5sZW5ndGg7dGhpcy5fPXtibG9ja3M6e319fTtDS0VESVRPUi51aS5wYW5lbC5oYW5kbGVyPXtjcmVhdGU6ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBDS0VESVRPUi51aS5wYW5lbChhKX19O3ZhciBlPUNLRURJVE9SLmFkZFRlbXBsYXRlKFwicGFuZWxcIixcbic8ZGl2IGxhbmc9XCJ7bGFuZ0NvZGV9XCIgaWQ9XCJ7aWR9XCIgZGlyPXtkaXJ9IGNsYXNzPVwiY2tlIGNrZV9yZXNldF9hbGwge2VkaXRvcklkfSBja2VfcGFuZWwgY2tlX3BhbmVsIHtjbHN9IGNrZV97ZGlyfVwiIHN0eWxlPVwiei1pbmRleDp7ei1pbmRleH1cIiByb2xlPVwicHJlc2VudGF0aW9uXCI+e2ZyYW1lfTwvZGl2PicpLGY9Q0tFRElUT1IuYWRkVGVtcGxhdGUoXCJwYW5lbC1mcmFtZVwiLCc8aWZyYW1lIGlkPVwie2lkfVwiIGNsYXNzPVwiY2tlX3BhbmVsX2ZyYW1lXCIgcm9sZT1cImFwcGxpY2F0aW9uXCIgZnJhbWVib3JkZXI9XCIwXCIgc3JjPVwie3NyY31cIj48L2lmcmFtZT4nKSxnPUNLRURJVE9SLmFkZFRlbXBsYXRlKFwicGFuZWwtZnJhbWUtaW5uZXJcIiwnPCFET0NUWVBFIGh0bWw+PGh0bWwgY2xhc3M9XCJja2VfcGFuZWxfY29udGFpbmVyIHtlbnZ9XCIgZGlyPVwie2Rpcn1cIiBsYW5nPVwie2xhbmdDb2RlfVwiPjxoZWFkPntjc3N9PC9oZWFkPjxib2R5IGNsYXNzPVwiY2tlX3tkaXJ9XCIgc3R5bGU9XCJtYXJnaW46MDtwYWRkaW5nOjBcIiBvbmxvYWQ9XCJ7b25sb2FkfVwiPjwvYm9keT48L2h0bWw+Jyk7XG5DS0VESVRPUi51aS5wYW5lbC5wcm90b3R5cGU9e3JlbmRlcjpmdW5jdGlvbihhLGIpe3RoaXMuZ2V0SG9sZGVyRWxlbWVudD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5ob2xkZXI7aWYoIWEpe2lmKHRoaXMuaXNGcmFtZWQpe3ZhciBhPXRoaXMuZG9jdW1lbnQuZ2V0QnlJZCh0aGlzLmlkK1wiX2ZyYW1lXCIpLGI9YS5nZXRQYXJlbnQoKSxhPWEuZ2V0RnJhbWVEb2N1bWVudCgpO0NLRURJVE9SLmVudi5pT1MmJmIuc2V0U3R5bGVzKHtvdmVyZmxvdzpcInNjcm9sbFwiLFwiLXdlYmtpdC1vdmVyZmxvdy1zY3JvbGxpbmdcIjpcInRvdWNoXCJ9KTtiPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKENLRURJVE9SLnRvb2xzLmJpbmQoZnVuY3Rpb24oKXt0aGlzLmlzTG9hZGVkPSEwO2lmKHRoaXMub25Mb2FkKXRoaXMub25Mb2FkKCl9LHRoaXMpKTthLndyaXRlKGcub3V0cHV0KENLRURJVE9SLnRvb2xzLmV4dGVuZCh7Y3NzOkNLRURJVE9SLnRvb2xzLmJ1aWxkU3R5bGVIdG1sKHRoaXMuY3NzKSxvbmxvYWQ6XCJ3aW5kb3cucGFyZW50LkNLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbihcIitcbmIrXCIpO1wifSxjKSkpO2EuZ2V0V2luZG93KCkuJC5DS0VESVRPUj1DS0VESVRPUjthLm9uKFwia2V5XCIrKENLRURJVE9SLmVudi5vcGVyYT9cInByZXNzXCI6XCJkb3duXCIpLGZ1bmN0aW9uKGEpe3ZhciBiPWEuZGF0YS5nZXRLZXlzdHJva2UoKSxjPXRoaXMuZG9jdW1lbnQuZ2V0QnlJZCh0aGlzLmlkKS5nZXRBdHRyaWJ1dGUoXCJkaXJcIik7dGhpcy5fLm9uS2V5RG93biYmITE9PT10aGlzLl8ub25LZXlEb3duKGIpP2EuZGF0YS5wcmV2ZW50RGVmYXVsdCgpOigyNz09Ynx8Yj09KFwicnRsXCI9PWM/Mzk6MzcpKSYmdGhpcy5vbkVzY2FwZSYmITE9PT10aGlzLm9uRXNjYXBlKGIpJiZhLmRhdGEucHJldmVudERlZmF1bHQoKX0sdGhpcyk7YT1hLmdldEJvZHkoKTthLnVuc2VsZWN0YWJsZSgpO0NLRURJVE9SLmVudi5haXImJkNLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbihiKX1lbHNlIGE9dGhpcy5kb2N1bWVudC5nZXRCeUlkKHRoaXMuaWQpO3RoaXMuXy5ob2xkZXI9YX1yZXR1cm4gYX07dmFyIGM9XG57ZWRpdG9ySWQ6YS5pZCxpZDp0aGlzLmlkLGxhbmdDb2RlOmEubGFuZ0NvZGUsZGlyOmEubGFuZy5kaXIsY2xzOnRoaXMuY2xhc3NOYW1lLGZyYW1lOlwiXCIsZW52OkNLRURJVE9SLmVudi5jc3NDbGFzcyxcInotaW5kZXhcIjphLmNvbmZpZy5iYXNlRmxvYXRaSW5kZXgrMX07dGhpcy5pc0ZyYW1lZCYmKGMuZnJhbWU9Zi5vdXRwdXQoe2lkOnRoaXMuaWQrXCJfZnJhbWVcIixzcmM6XCJqYXZhc2NyaXB0OnZvaWQoZG9jdW1lbnQub3BlbigpLFwiKyhDS0VESVRPUi5lbnYuaXNDdXN0b21Eb21haW4oKT9cImRvY3VtZW50LmRvbWFpbj0nXCIrZG9jdW1lbnQuZG9tYWluK1wiJyxcIjpcIlwiKSsnZG9jdW1lbnQuY2xvc2UoKSlcIj4nfSkpO3ZhciBkPWUub3V0cHV0KGMpO2ImJmIucHVzaChkKTtyZXR1cm4gZH0sYWRkQmxvY2s6ZnVuY3Rpb24oYSxiKXtiPXRoaXMuXy5ibG9ja3NbYV09YiBpbnN0YW5jZW9mIENLRURJVE9SLnVpLnBhbmVsLmJsb2NrP2I6bmV3IENLRURJVE9SLnVpLnBhbmVsLmJsb2NrKHRoaXMuZ2V0SG9sZGVyRWxlbWVudCgpLFxuYik7dGhpcy5fLmN1cnJlbnRCbG9ja3x8dGhpcy5zaG93QmxvY2soYSk7cmV0dXJuIGJ9LGdldEJsb2NrOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl8uYmxvY2tzW2FdfSxzaG93QmxvY2s6ZnVuY3Rpb24oYSl7dmFyIGE9dGhpcy5fLmJsb2Nrc1thXSxiPXRoaXMuXy5jdXJyZW50QmxvY2ssYz0hdGhpcy5mb3JjZUlGcmFtZXx8Q0tFRElUT1IuZW52LmllP3RoaXMuXy5ob2xkZXI6dGhpcy5kb2N1bWVudC5nZXRCeUlkKHRoaXMuaWQrXCJfZnJhbWVcIik7YiYmKGMucmVtb3ZlQXR0cmlidXRlcyhiLmF0dHJpYnV0ZXMpLGIuaGlkZSgpKTt0aGlzLl8uY3VycmVudEJsb2NrPWE7Yy5zZXRBdHRyaWJ1dGVzKGEuYXR0cmlidXRlcyk7Q0tFRElUT1IuZmlyZShcImFyaWFXaWRnZXRcIixjKTthLl8uZm9jdXNJbmRleD0tMTt0aGlzLl8ub25LZXlEb3duPWEub25LZXlEb3duJiZDS0VESVRPUi50b29scy5iaW5kKGEub25LZXlEb3duLGEpO2Euc2hvdygpO3JldHVybiBhfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50JiZcbnRoaXMuZWxlbWVudC5yZW1vdmUoKX19O0NLRURJVE9SLnVpLnBhbmVsLmJsb2NrPUNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHskOmZ1bmN0aW9uKGEsYil7dGhpcy5lbGVtZW50PWEuYXBwZW5kKGEuZ2V0RG9jdW1lbnQoKS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2F0dHJpYnV0ZXM6e3RhYkluZGV4Oi0xLFwiY2xhc3NcIjpcImNrZV9wYW5lbF9ibG9ja1wiLHJvbGU6XCJwcmVzZW50YXRpb25cIn0sc3R5bGVzOntkaXNwbGF5Olwibm9uZVwifX0pKTtiJiZDS0VESVRPUi50b29scy5leHRlbmQodGhpcyxiKTt0aGlzLmF0dHJpYnV0ZXMudGl0bGV8fCh0aGlzLmF0dHJpYnV0ZXMudGl0bGU9dGhpcy5hdHRyaWJ1dGVzW1wiYXJpYS1sYWJlbFwiXSk7dGhpcy5rZXlzPXt9O3RoaXMuXy5mb2N1c0luZGV4PS0xO3RoaXMuZWxlbWVudC5kaXNhYmxlQ29udGV4dE1lbnUoKX0sXzp7bWFya0l0ZW06ZnVuY3Rpb24oYSl7LTEhPWEmJihhPXRoaXMuZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnKFwiYVwiKS5nZXRJdGVtKHRoaXMuXy5mb2N1c0luZGV4PVxuYSksKENLRURJVE9SLmVudi53ZWJraXR8fENLRURJVE9SLmVudi5vcGVyYSkmJmEuZ2V0RG9jdW1lbnQoKS5nZXRXaW5kb3coKS5mb2N1cygpLGEuZm9jdXMoKSx0aGlzLm9uTWFyayYmdGhpcy5vbk1hcmsoYSkpfX0scHJvdG86e3Nob3c6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJcIil9LGhpZGU6ZnVuY3Rpb24oKXsoIXRoaXMub25IaWRlfHwhMCE9PXRoaXMub25IaWRlLmNhbGwodGhpcykpJiZ0aGlzLmVsZW1lbnQuc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJub25lXCIpfSxvbktleURvd246ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5rZXlzW2FdO3N3aXRjaChiKXtjYXNlIFwibmV4dFwiOmZvcih2YXIgYT10aGlzLl8uZm9jdXNJbmRleCxiPXRoaXMuZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnKFwiYVwiKSxjO2M9Yi5nZXRJdGVtKCsrYSk7KWlmKGMuZ2V0QXR0cmlidXRlKFwiX2NrZV9mb2N1c1wiKSYmYy4kLm9mZnNldFdpZHRoKXt0aGlzLl8uZm9jdXNJbmRleD1cbmE7Yy5mb2N1cygpO2JyZWFrfXJldHVybiExO2Nhc2UgXCJwcmV2XCI6YT10aGlzLl8uZm9jdXNJbmRleDtmb3IoYj10aGlzLmVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZyhcImFcIik7MDxhJiYoYz1iLmdldEl0ZW0oLS1hKSk7KWlmKGMuZ2V0QXR0cmlidXRlKFwiX2NrZV9mb2N1c1wiKSYmYy4kLm9mZnNldFdpZHRoKXt0aGlzLl8uZm9jdXNJbmRleD1hO2MuZm9jdXMoKTticmVha31yZXR1cm4hMTtjYXNlIFwiY2xpY2tcIjpjYXNlIFwibW91c2V1cFwiOnJldHVybiBhPXRoaXMuXy5mb2N1c0luZGV4LChjPTA8PWEmJnRoaXMuZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnKFwiYVwiKS5nZXRJdGVtKGEpKSYmKGMuJFtiXT9jLiRbYl0oKTpjLiRbXCJvblwiK2JdKCkpLCExfXJldHVybiEwfX19KX0pKCk7Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJmbG9hdHBhbmVsXCIse3JlcXVpcmVzOlwicGFuZWxcIn0pO1xuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gbyhhLGIsYyxoLGcpe3ZhciBnPUNLRURJVE9SLnRvb2xzLmdlbktleShiLmdldFVuaXF1ZUlkKCksYy5nZXRVbmlxdWVJZCgpLGEubGFuZy5kaXIsYS51aUNvbG9yfHxcIlwiLGguY3NzfHxcIlwiLGd8fFwiXCIpLGU9aVtnXTtlfHwoZT1pW2ddPW5ldyBDS0VESVRPUi51aS5wYW5lbChiLGgpLGUuZWxlbWVudD1jLmFwcGVuZChDS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbChlLnJlbmRlcihhKSxiKSksZS5lbGVtZW50LnNldFN0eWxlcyh7ZGlzcGxheTpcIm5vbmVcIixwb3NpdGlvbjpcImFic29sdXRlXCJ9KSk7cmV0dXJuIGV9dmFyIGk9e307Q0tFRElUT1IudWkuZmxvYXRQYW5lbD1DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7JDpmdW5jdGlvbihhLGIsYyxoKXtmdW5jdGlvbiBnKCl7ai5oaWRlKCl9Yy5mb3JjZUlGcmFtZT0xO2MudG9vbGJhclJlbGF0ZWQmJmEuZWxlbWVudE1vZGU9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkUmJlxuKGI9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZChcImNrZV9cIithLm5hbWUpKTt2YXIgZT1iLmdldERvY3VtZW50KCksaD1vKGEsZSxiLGMsaHx8MCksaz1oLmVsZW1lbnQsZD1rLmdldEZpcnN0KCksaj10aGlzO2suZGlzYWJsZUNvbnRleHRNZW51KCk7ay5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJhcHBsaWNhdGlvblwiKTt0aGlzLmVsZW1lbnQ9azt0aGlzLl89e2VkaXRvcjphLHBhbmVsOmgscGFyZW50RWxlbWVudDpiLGRlZmluaXRpb246Yyxkb2N1bWVudDplLGlmcmFtZTpkLGNoaWxkcmVuOltdLGRpcjphLmxhbmcuZGlyfTthLm9uKFwibW9kZVwiLGcpO2Eub24oXCJyZXNpemVcIixnKTtlLmdldFdpbmRvdygpLm9uKFwicmVzaXplXCIsZyl9LHByb3RvOnthZGRCbG9jazpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLl8ucGFuZWwuYWRkQmxvY2soYSxiKX0sYWRkTGlzdEJsb2NrOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuXy5wYW5lbC5hZGRMaXN0QmxvY2soYSxiKX0sZ2V0QmxvY2s6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuXy5wYW5lbC5nZXRCbG9jayhhKX0sXG5zaG93QmxvY2s6ZnVuY3Rpb24oYSxiLGMsaCxnKXt2YXIgZT10aGlzLl8ucGFuZWwsaz1lLnNob3dCbG9jayhhKTt0aGlzLmFsbG93Qmx1cighMSk7YT10aGlzLl8uZWRpdG9yLmVkaXRhYmxlKCk7dGhpcy5fLnJldHVybkZvY3VzPWEuaGFzRm9jdXM/YTpuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoQ0tFRElUT1IuZG9jdW1lbnQuJC5hY3RpdmVFbGVtZW50KTt2YXIgZD10aGlzLmVsZW1lbnQsYT10aGlzLl8uaWZyYW1lLGE9Q0tFRElUT1IuZW52LmllP2E6bmV3IENLRURJVE9SLmRvbS53aW5kb3coYS4kLmNvbnRlbnRXaW5kb3cpLGo9ZC5nZXREb2N1bWVudCgpLGk9dGhpcy5fLnBhcmVudEVsZW1lbnQuZ2V0UG9zaXRpb25lZEFuY2VzdG9yKCksbj1iLmdldERvY3VtZW50UG9zaXRpb24oaiksaj1pP2kuZ2V0RG9jdW1lbnRQb3NpdGlvbihqKTp7eDowLHk6MH0sbT1cInJ0bFwiPT10aGlzLl8uZGlyLGY9bi54KyhofHwwKS1qLngsbD1uLnkrKGd8fDApLWoueTtpZihtJiYoMT09Y3x8ND09XG5jKSlmKz1iLiQub2Zmc2V0V2lkdGg7ZWxzZSBpZighbSYmKDI9PWN8fDM9PWMpKWYrPWIuJC5vZmZzZXRXaWR0aC0xO2lmKDM9PWN8fDQ9PWMpbCs9Yi4kLm9mZnNldEhlaWdodC0xO3RoaXMuXy5wYW5lbC5fLm9mZnNldFBhcmVudElkPWIuZ2V0SWQoKTtkLnNldFN0eWxlcyh7dG9wOmwrXCJweFwiLGxlZnQ6MCxkaXNwbGF5OlwiXCJ9KTtkLnNldE9wYWNpdHkoMCk7ZC5nZXRGaXJzdCgpLnJlbW92ZVN0eWxlKFwid2lkdGhcIik7dGhpcy5fLmVkaXRvci5mb2N1c01hbmFnZXIuYWRkKGEpO3RoaXMuXy5ibHVyU2V0fHwoQ0tFRElUT1IuZXZlbnQudXNlQ2FwdHVyZT0hMCxhLm9uKFwiYmx1clwiLGZ1bmN0aW9uKGEpe3RoaXMuYWxsb3dCbHVyKCkmJmEuZGF0YS5nZXRQaGFzZSgpPT1DS0VESVRPUi5FVkVOVF9QSEFTRV9BVF9UQVJHRVQmJih0aGlzLnZpc2libGUmJiF0aGlzLl8uYWN0aXZlQ2hpbGQpJiYoZGVsZXRlIHRoaXMuXy5yZXR1cm5Gb2N1cyx0aGlzLmhpZGUoKSl9LHRoaXMpLGEub24oXCJmb2N1c1wiLFxuZnVuY3Rpb24oKXt0aGlzLl8uZm9jdXNlZD0hMDt0aGlzLmhpZGVDaGlsZCgpO3RoaXMuYWxsb3dCbHVyKCEwKX0sdGhpcyksQ0tFRElUT1IuZXZlbnQudXNlQ2FwdHVyZT0hMSx0aGlzLl8uYmx1clNldD0xKTtlLm9uRXNjYXBlPUNLRURJVE9SLnRvb2xzLmJpbmQoZnVuY3Rpb24oYSl7aWYodGhpcy5vbkVzY2FwZSYmdGhpcy5vbkVzY2FwZShhKT09PWZhbHNlKXJldHVybiBmYWxzZX0sdGhpcyk7Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBhPUNLRURJVE9SLnRvb2xzLmJpbmQoZnVuY3Rpb24oKXtkLnJlbW92ZVN0eWxlKFwid2lkdGhcIik7aWYoay5hdXRvU2l6ZSl7dmFyIGE9ay5lbGVtZW50LmdldERvY3VtZW50KCksYT0oQ0tFRElUT1IuZW52LndlYmtpdD9rLmVsZW1lbnQ6YS5nZXRCb2R5KCkpLiQuc2Nyb2xsV2lkdGg7Q0tFRElUT1IuZW52LmllJiYoQ0tFRElUT1IuZW52LnF1aXJrcyYmYT4wKSYmKGE9YSsoKGQuJC5vZmZzZXRXaWR0aHx8MCktKGQuJC5jbGllbnRXaWR0aHx8XG4wKSszKSk7ZC5zZXRTdHlsZShcIndpZHRoXCIsYSsxMCtcInB4XCIpO2E9ay5lbGVtZW50LiQuc2Nyb2xsSGVpZ2h0O0NLRURJVE9SLmVudi5pZSYmKENLRURJVE9SLmVudi5xdWlya3MmJmE+MCkmJihhPWErKChkLiQub2Zmc2V0SGVpZ2h0fHwwKS0oZC4kLmNsaWVudEhlaWdodHx8MCkrMykpO2Quc2V0U3R5bGUoXCJoZWlnaHRcIixhK1wicHhcIik7ZS5fLmN1cnJlbnRCbG9jay5lbGVtZW50LnNldFN0eWxlKFwiZGlzcGxheVwiLFwibm9uZVwiKS5yZW1vdmVTdHlsZShcImRpc3BsYXlcIil9ZWxzZSBkLnJlbW92ZVN0eWxlKFwiaGVpZ2h0XCIpO20mJihmPWYtZC4kLm9mZnNldFdpZHRoKTtkLnNldFN0eWxlKFwibGVmdFwiLGYrXCJweFwiKTt2YXIgYj1lLmVsZW1lbnQuZ2V0V2luZG93KCksYT1kLiQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksYj1iLmdldFZpZXdQYW5lU2l6ZSgpLGM9YS53aWR0aHx8YS5yaWdodC1hLmxlZnQsZz1hLmhlaWdodHx8YS5ib3R0b20tYS50b3AsaD1tP2EucmlnaHQ6Yi53aWR0aC1hLmxlZnQsXG5pPW0/Yi53aWR0aC1hLnJpZ2h0OmEubGVmdDttP2g8YyYmKGY9aT5jP2YrYzpiLndpZHRoPmM/Zi1hLmxlZnQ6Zi1hLnJpZ2h0K2Iud2lkdGgpOmg8YyYmKGY9aT5jP2YtYzpiLndpZHRoPmM/Zi1hLnJpZ2h0K2Iud2lkdGg6Zi1hLmxlZnQpO2M9YS50b3A7Yi5oZWlnaHQtYS50b3A8ZyYmKGw9Yz5nP2wtZzpiLmhlaWdodD5nP2wtYS5ib3R0b20rYi5oZWlnaHQ6bC1hLnRvcCk7aWYoQ0tFRElUT1IuZW52LmllKXtiPWE9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGQuJC5vZmZzZXRQYXJlbnQpO2IuZ2V0TmFtZSgpPT1cImh0bWxcIiYmKGI9Yi5nZXREb2N1bWVudCgpLmdldEJvZHkoKSk7Yi5nZXRDb21wdXRlZFN0eWxlKFwiZGlyZWN0aW9uXCIpPT1cInJ0bFwiJiYoZj1DS0VESVRPUi5lbnYuaWU4Q29tcGF0P2YtZC5nZXREb2N1bWVudCgpLmdldERvY3VtZW50RWxlbWVudCgpLiQuc2Nyb2xsTGVmdCoyOmYtKGEuJC5zY3JvbGxXaWR0aC1hLiQuY2xpZW50V2lkdGgpKX12YXIgYT1kLmdldEZpcnN0KCksXG5qOyhqPWEuZ2V0Q3VzdG9tRGF0YShcImFjdGl2ZVBhbmVsXCIpKSYmai5vbkhpZGUmJmoub25IaWRlLmNhbGwodGhpcywxKTthLnNldEN1c3RvbURhdGEoXCJhY3RpdmVQYW5lbFwiLHRoaXMpO2Quc2V0U3R5bGVzKHt0b3A6bCtcInB4XCIsbGVmdDpmK1wicHhcIn0pO2Quc2V0T3BhY2l0eSgxKX0sdGhpcyk7ZS5pc0xvYWRlZD9hKCk6ZS5vbkxvYWQ9YTtDS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy5mb2N1cygpO3RoaXMuYWxsb3dCbHVyKHRydWUpO3RoaXMuXy5lZGl0b3IuZmlyZShcInBhbmVsU2hvd1wiLHRoaXMpfSwwLHRoaXMpfSxDS0VESVRPUi5lbnYuYWlyPzIwMDowLHRoaXMpO3RoaXMudmlzaWJsZT0xO3RoaXMub25TaG93JiZ0aGlzLm9uU2hvdy5jYWxsKHRoaXMpfSxmb2N1czpmdW5jdGlvbigpe2lmKENLRURJVE9SLmVudi53ZWJraXQpe3ZhciBhPUNLRURJVE9SLmRvY3VtZW50LmdldEFjdGl2ZSgpOyFhLmVxdWFscyh0aGlzLl8uaWZyYW1lKSYmYS4kLmJsdXIoKX0odGhpcy5fLmxhc3RGb2N1c2VkfHxcbnRoaXMuXy5pZnJhbWUuZ2V0RnJhbWVEb2N1bWVudCgpLmdldFdpbmRvdygpKS5mb2N1cygpfSxibHVyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fLmlmcmFtZS5nZXRGcmFtZURvY3VtZW50KCkuZ2V0QWN0aXZlKCk7YS5pcyhcImFcIikmJih0aGlzLl8ubGFzdEZvY3VzZWQ9YSl9LGhpZGU6ZnVuY3Rpb24oYSl7aWYodGhpcy52aXNpYmxlJiYoIXRoaXMub25IaWRlfHwhMCE9PXRoaXMub25IaWRlLmNhbGwodGhpcykpKXt0aGlzLmhpZGVDaGlsZCgpO0NLRURJVE9SLmVudi5nZWNrbyYmdGhpcy5fLmlmcmFtZS5nZXRGcmFtZURvY3VtZW50KCkuJC5hY3RpdmVFbGVtZW50LmJsdXIoKTt0aGlzLmVsZW1lbnQuc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJub25lXCIpO3RoaXMudmlzaWJsZT0wO3RoaXMuZWxlbWVudC5nZXRGaXJzdCgpLnJlbW92ZUN1c3RvbURhdGEoXCJhY3RpdmVQYW5lbFwiKTtpZihhPWEmJnRoaXMuXy5yZXR1cm5Gb2N1cylDS0VESVRPUi5lbnYud2Via2l0JiZhLnR5cGUmJmEuZ2V0V2luZG93KCkuJC5mb2N1cygpLFxuYS5mb2N1cygpO2RlbGV0ZSB0aGlzLl8ubGFzdEZvY3VzZWQ7dGhpcy5fLmVkaXRvci5maXJlKFwicGFuZWxIaWRlXCIsdGhpcyl9fSxhbGxvd0JsdXI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fLnBhbmVsO3ZvaWQgMCE9YSYmKGIuYWxsb3dCbHVyPWEpO3JldHVybiBiLmFsbG93Qmx1cn0sc2hvd0FzQ2hpbGQ6ZnVuY3Rpb24oYSxiLGMsaCxnLGUpe3RoaXMuXy5hY3RpdmVDaGlsZD09YSYmYS5fLnBhbmVsLl8ub2Zmc2V0UGFyZW50SWQ9PWMuZ2V0SWQoKXx8KHRoaXMuaGlkZUNoaWxkKCksYS5vbkhpZGU9Q0tFRElUT1IudG9vbHMuYmluZChmdW5jdGlvbigpe0NLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLl8uZm9jdXNlZHx8dGhpcy5oaWRlKCl9LDAsdGhpcyl9LHRoaXMpLHRoaXMuXy5hY3RpdmVDaGlsZD1hLHRoaXMuXy5mb2N1c2VkPSExLGEuc2hvd0Jsb2NrKGIsYyxoLGcsZSksdGhpcy5ibHVyKCksKENLRURJVE9SLmVudi5pZTdDb21wYXR8fENLRURJVE9SLmVudi5pZTZDb21wYXQpJiZcbnNldFRpbWVvdXQoZnVuY3Rpb24oKXthLmVsZW1lbnQuZ2V0Q2hpbGQoMCkuJC5zdHlsZS5jc3NUZXh0Kz1cIlwifSwxMDApKX0saGlkZUNoaWxkOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuXy5hY3RpdmVDaGlsZDtiJiYoZGVsZXRlIGIub25IaWRlLGRlbGV0ZSB0aGlzLl8uYWN0aXZlQ2hpbGQsYi5oaWRlKCksYSYmdGhpcy5mb2N1cygpKX19fSk7Q0tFRElUT1Iub24oXCJpbnN0YW5jZURlc3Ryb3llZFwiLGZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IudG9vbHMuaXNFbXB0eShDS0VESVRPUi5pbnN0YW5jZXMpLGI7Zm9yKGIgaW4gaSl7dmFyIGM9aVtiXTthP2MuZGVzdHJveSgpOmMuZWxlbWVudC5oaWRlKCl9YSYmKGk9e30pfSl9KSgpO0NLRURJVE9SLnBsdWdpbnMuYWRkKFwibGlzdGJsb2NrXCIse3JlcXVpcmVzOlwicGFuZWxcIixvbkxvYWQ6ZnVuY3Rpb24oKXt2YXIgZT1DS0VESVRPUi5hZGRUZW1wbGF0ZShcInBhbmVsLWxpc3RcIiwnPHVsIHJvbGU9XCJwcmVzZW50YXRpb25cIiBjbGFzcz1cImNrZV9wYW5lbF9saXN0XCI+e2l0ZW1zfTwvdWw+JyksZj1DS0VESVRPUi5hZGRUZW1wbGF0ZShcInBhbmVsLWxpc3QtaXRlbVwiLCc8bGkgaWQ9XCJ7aWR9XCIgY2xhc3M9XCJja2VfcGFuZWxfbGlzdEl0ZW1cIiByb2xlPXByZXNlbnRhdGlvbj48YSBpZD1cIntpZH1fb3B0aW9uXCIgX2NrZV9mb2N1cz0xIGhpZGVmb2N1cz10cnVlIHRpdGxlPVwie3RpdGxlfVwiIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoXFwne3ZhbH1cXCcpXCIgIHtvbmNsaWNrfT1cIkNLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbih7Y2xpY2tGbn0sXFwne3ZhbH1cXCcpOyByZXR1cm4gZmFsc2U7XCIgcm9sZT1cIm9wdGlvblwiPnt0ZXh0fTwvYT48L2xpPicpLGc9Q0tFRElUT1IuYWRkVGVtcGxhdGUoXCJwYW5lbC1saXN0LWdyb3VwXCIsXG4nPGgxIGlkPVwie2lkfVwiIGNsYXNzPVwiY2tlX3BhbmVsX2dyb3VwdGl0bGVcIiByb2xlPVwicHJlc2VudGF0aW9uXCIgPntsYWJlbH08L2gxPicpO0NLRURJVE9SLnVpLnBhbmVsLnByb3RvdHlwZS5hZGRMaXN0QmxvY2s9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5hZGRCbG9jayhhLG5ldyBDS0VESVRPUi51aS5saXN0QmxvY2sodGhpcy5nZXRIb2xkZXJFbGVtZW50KCksYikpfTtDS0VESVRPUi51aS5saXN0QmxvY2s9Q0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3Moe2Jhc2U6Q0tFRElUT1IudWkucGFuZWwuYmxvY2ssJDpmdW5jdGlvbihhLGIpe3ZhciBiPWJ8fHt9LGM9Yi5hdHRyaWJ1dGVzfHwoYi5hdHRyaWJ1dGVzPXt9KTsodGhpcy5tdWx0aVNlbGVjdD0hIWIubXVsdGlTZWxlY3QpJiYoY1tcImFyaWEtbXVsdGlzZWxlY3RhYmxlXCJdPSEwKTshYy5yb2xlJiYoYy5yb2xlPVwibGlzdGJveFwiKTt0aGlzLmJhc2UuYXBwbHkodGhpcyxhcmd1bWVudHMpO2M9dGhpcy5rZXlzO2NbNDBdPVwibmV4dFwiO1xuY1s5XT1cIm5leHRcIjtjWzM4XT1cInByZXZcIjtjW0NLRURJVE9SLlNISUZUKzldPVwicHJldlwiO2NbMzJdPUNLRURJVE9SLmVudi5pZT9cIm1vdXNldXBcIjpcImNsaWNrXCI7Q0tFRElUT1IuZW52LmllJiYoY1sxM109XCJtb3VzZXVwXCIpO3RoaXMuXy5wZW5kaW5nSHRtbD1bXTt0aGlzLl8ucGVuZGluZ0xpc3Q9W107dGhpcy5fLml0ZW1zPXt9O3RoaXMuXy5ncm91cHM9e319LF86e2Nsb3NlOmZ1bmN0aW9uKCl7aWYodGhpcy5fLnN0YXJ0ZWQpe3ZhciBhPWUub3V0cHV0KHtpdGVtczp0aGlzLl8ucGVuZGluZ0xpc3Quam9pbihcIlwiKX0pO3RoaXMuXy5wZW5kaW5nTGlzdD1bXTt0aGlzLl8ucGVuZGluZ0h0bWwucHVzaChhKTtkZWxldGUgdGhpcy5fLnN0YXJ0ZWR9fSxnZXRDbGljazpmdW5jdGlvbigpe3RoaXMuXy5jbGlja3x8KHRoaXMuXy5jbGljaz1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbihhKXt2YXIgYj10aGlzLnRvZ2dsZShhKTtpZih0aGlzLm9uQ2xpY2spdGhpcy5vbkNsaWNrKGEsXG5iKX0sdGhpcykpO3JldHVybiB0aGlzLl8uY2xpY2t9fSxwcm90bzp7YWRkOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKTt0aGlzLl8uc3RhcnRlZHx8KHRoaXMuXy5zdGFydGVkPTEsdGhpcy5fLnNpemU9dGhpcy5fLnNpemV8fDApO3RoaXMuXy5pdGVtc1thXT1kO2E9e2lkOmQsdmFsOmEsb25jbGljazpDS0VESVRPUi5lbnYuaWU/J29uY2xpY2s9XCJyZXR1cm4gZmFsc2U7XCIgb25tb3VzZXVwJzpcIm9uY2xpY2tcIixjbGlja0ZuOnRoaXMuXy5nZXRDbGljaygpLHRpdGxlOmN8fGEsdGV4dDpifHxhfTt0aGlzLl8ucGVuZGluZ0xpc3QucHVzaChmLm91dHB1dChhKSl9LHN0YXJ0R3JvdXA6ZnVuY3Rpb24oYSl7dGhpcy5fLmNsb3NlKCk7dmFyIGI9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCk7dGhpcy5fLmdyb3Vwc1thXT1iO3RoaXMuXy5wZW5kaW5nSHRtbC5wdXNoKGcub3V0cHV0KHtpZDpiLGxhYmVsOmF9KSl9LGNvbW1pdDpmdW5jdGlvbigpe3RoaXMuXy5jbG9zZSgpO1xudGhpcy5lbGVtZW50LmFwcGVuZEh0bWwodGhpcy5fLnBlbmRpbmdIdG1sLmpvaW4oXCJcIikpO2RlbGV0ZSB0aGlzLl8uc2l6ZTt0aGlzLl8ucGVuZGluZ0h0bWw9W119LHRvZ2dsZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmlzTWFya2VkKGEpO2I/dGhpcy51bm1hcmsoYSk6dGhpcy5tYXJrKGEpO3JldHVybiFifSxoaWRlR3JvdXA6ZnVuY3Rpb24oYSl7dmFyIGI9KGE9dGhpcy5lbGVtZW50LmdldERvY3VtZW50KCkuZ2V0QnlJZCh0aGlzLl8uZ3JvdXBzW2FdKSkmJmEuZ2V0TmV4dCgpO2EmJihhLnNldFN0eWxlKFwiZGlzcGxheVwiLFwibm9uZVwiKSxiJiZcInVsXCI9PWIuZ2V0TmFtZSgpJiZiLnNldFN0eWxlKFwiZGlzcGxheVwiLFwibm9uZVwiKSl9LGhpZGVJdGVtOmZ1bmN0aW9uKGEpe3RoaXMuZWxlbWVudC5nZXREb2N1bWVudCgpLmdldEJ5SWQodGhpcy5fLml0ZW1zW2FdKS5zZXRTdHlsZShcImRpc3BsYXlcIixcIm5vbmVcIil9LHNob3dBbGw6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8uaXRlbXMsYj1cbnRoaXMuXy5ncm91cHMsYz10aGlzLmVsZW1lbnQuZ2V0RG9jdW1lbnQoKSxkO2ZvcihkIGluIGEpYy5nZXRCeUlkKGFbZF0pLnNldFN0eWxlKFwiZGlzcGxheVwiLFwiXCIpO2Zvcih2YXIgZSBpbiBiKWE9Yy5nZXRCeUlkKGJbZV0pLGQ9YS5nZXROZXh0KCksYS5zZXRTdHlsZShcImRpc3BsYXlcIixcIlwiKSxkJiZcInVsXCI9PWQuZ2V0TmFtZSgpJiZkLnNldFN0eWxlKFwiZGlzcGxheVwiLFwiXCIpfSxtYXJrOmZ1bmN0aW9uKGEpe3RoaXMubXVsdGlTZWxlY3R8fHRoaXMudW5tYXJrQWxsKCk7dmFyIGE9dGhpcy5fLml0ZW1zW2FdLGI9dGhpcy5lbGVtZW50LmdldERvY3VtZW50KCkuZ2V0QnlJZChhKTtiLmFkZENsYXNzKFwiY2tlX3NlbGVjdGVkXCIpO3RoaXMuZWxlbWVudC5nZXREb2N1bWVudCgpLmdldEJ5SWQoYStcIl9vcHRpb25cIikuc2V0QXR0cmlidXRlKFwiYXJpYS1zZWxlY3RlZFwiLCEwKTt0aGlzLm9uTWFyayYmdGhpcy5vbk1hcmsoYil9LHVubWFyazpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmVsZW1lbnQuZ2V0RG9jdW1lbnQoKSxcbmE9dGhpcy5fLml0ZW1zW2FdLGM9Yi5nZXRCeUlkKGEpO2MucmVtb3ZlQ2xhc3MoXCJja2Vfc2VsZWN0ZWRcIik7Yi5nZXRCeUlkKGErXCJfb3B0aW9uXCIpLnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtc2VsZWN0ZWRcIik7dGhpcy5vblVubWFyayYmdGhpcy5vblVubWFyayhjKX0sdW5tYXJrQWxsOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fLml0ZW1zLGI9dGhpcy5lbGVtZW50LmdldERvY3VtZW50KCksYztmb3IoYyBpbiBhKXt2YXIgZD1hW2NdO2IuZ2V0QnlJZChkKS5yZW1vdmVDbGFzcyhcImNrZV9zZWxlY3RlZFwiKTtiLmdldEJ5SWQoZCtcIl9vcHRpb25cIikucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1zZWxlY3RlZFwiKX10aGlzLm9uVW5tYXJrJiZ0aGlzLm9uVW5tYXJrKCl9LGlzTWFya2VkOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVsZW1lbnQuZ2V0RG9jdW1lbnQoKS5nZXRCeUlkKHRoaXMuXy5pdGVtc1thXSkuaGFzQ2xhc3MoXCJja2Vfc2VsZWN0ZWRcIil9LGZvY3VzOmZ1bmN0aW9uKGEpe3RoaXMuXy5mb2N1c0luZGV4PVxuLTE7aWYoYSl7Zm9yKHZhciBiPXRoaXMuZWxlbWVudC5nZXREb2N1bWVudCgpLmdldEJ5SWQodGhpcy5fLml0ZW1zW2FdKS5nZXRGaXJzdCgpLGE9dGhpcy5lbGVtZW50LmdldEVsZW1lbnRzQnlUYWcoXCJhXCIpLGMsZD0tMTtjPWEuZ2V0SXRlbSgrK2QpOylpZihjLmVxdWFscyhiKSl7dGhpcy5fLmZvY3VzSW5kZXg9ZDticmVha31zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5mb2N1cygpfSwwKX19fX0pfX0pO0NLRURJVE9SLnBsdWdpbnMuYWRkKFwicmljaGNvbWJvXCIse3JlcXVpcmVzOlwiZmxvYXRwYW5lbCxsaXN0YmxvY2ssYnV0dG9uXCIsYmVmb3JlSW5pdDpmdW5jdGlvbihjKXtjLnVpLmFkZEhhbmRsZXIoQ0tFRElUT1IuVUlfUklDSENPTUJPLENLRURJVE9SLnVpLnJpY2hDb21iby5oYW5kbGVyKX19KTtcbihmdW5jdGlvbigpe3ZhciBjPSc8c3BhbiBpZD1cIntpZH1cIiBjbGFzcz1cImNrZV9jb21ibyBja2VfY29tYm9fX3tuYW1lfSB7Y2xzfVwiIHJvbGU9XCJwcmVzZW50YXRpb25cIj48c3BhbiBpZD1cIntpZH1fbGFiZWxcIiBjbGFzcz1cImNrZV9jb21ib19sYWJlbFwiPntsYWJlbH08L3NwYW4+PGEgY2xhc3M9XCJja2VfY29tYm9fYnV0dG9uXCIgaGlkZWZvY3VzPXRydWUgdGl0bGU9XCJ7dGl0bGV9XCIgdGFiaW5kZXg9XCItMVwiJysoQ0tFRElUT1IuZW52LmdlY2tvJiYxMDkwMDw9Q0tFRElUT1IuZW52LnZlcnNpb24mJiFDS0VESVRPUi5lbnYuaGM/XCJcIjonXCIgaHJlZj1cImphdmFzY3JpcHQ6dm9pZChcXCd7dGl0bGVKc31cXCcpXCInKSsnIGhpZGVmb2N1cz1cInRydWVcIiByb2xlPVwiYnV0dG9uXCIgYXJpYS1sYWJlbGxlZGJ5PVwie2lkfV9sYWJlbFwiIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCInO2lmKENLRURJVE9SLmVudi5vcGVyYXx8Q0tFRElUT1IuZW52LmdlY2tvJiZDS0VESVRPUi5lbnYubWFjKWMrPScgb25rZXlwcmVzcz1cInJldHVybiBmYWxzZTtcIic7XG5DS0VESVRPUi5lbnYuZ2Vja28mJihjKz0nIG9uYmx1cj1cInRoaXMuc3R5bGUuY3NzVGV4dCA9IHRoaXMuc3R5bGUuY3NzVGV4dDtcIicpO3ZhciBjPWMrKCcgb25rZXlkb3duPVwicmV0dXJuIENLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbih7a2V5ZG93bkZufSxldmVudCx0aGlzKTtcIiBvbm1vdXNlZG93bj1cInJldHVybiBDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oe21vdXNlZG93bkZufSxldmVudCk7XCIgIG9uZm9jdXM9XCJyZXR1cm4gQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKHtmb2N1c0ZufSxldmVudCk7XCIgJysoQ0tFRElUT1IuZW52LmllPydvbmNsaWNrPVwicmV0dXJuIGZhbHNlO1wiIG9ubW91c2V1cCc6XCJvbmNsaWNrXCIpKyc9XCJDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oe2NsaWNrRm59LHRoaXMpO3JldHVybiBmYWxzZTtcIj48c3BhbiBpZD1cIntpZH1fdGV4dFwiIGNsYXNzPVwiY2tlX2NvbWJvX3RleHQgY2tlX2NvbWJvX2lubGluZWxhYmVsXCI+e2xhYmVsfTwvc3Bhbj48c3BhbiBjbGFzcz1cImNrZV9jb21ib19vcGVuXCI+PHNwYW4gY2xhc3M9XCJja2VfY29tYm9fYXJyb3dcIj4nK1xuKENLRURJVE9SLmVudi5oYz9cIiYjOTY2MDtcIjpDS0VESVRPUi5lbnYuYWlyP1wiJm5ic3A7XCI6XCJcIikrXCI8L3NwYW4+PC9zcGFuPjwvYT48L3NwYW4+XCIpLGg9Q0tFRElUT1IuYWRkVGVtcGxhdGUoXCJjb21ib1wiLGMpO0NLRURJVE9SLlVJX1JJQ0hDT01CTz1cInJpY2hjb21ib1wiO0NLRURJVE9SLnVpLnJpY2hDb21ibz1DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7JDpmdW5jdGlvbihhKXtDS0VESVRPUi50b29scy5leHRlbmQodGhpcyxhLHtjYW5Hcm91cDohMSx0aXRsZTphLmxhYmVsLG1vZGVzOnt3eXNpd3lnOjF9LGVkaXRvckZvY3VzOjF9KTthPXRoaXMucGFuZWx8fHt9O2RlbGV0ZSB0aGlzLnBhbmVsO3RoaXMuaWQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dE51bWJlcigpO3RoaXMuZG9jdW1lbnQ9YS5wYXJlbnQmJmEucGFyZW50LmdldERvY3VtZW50KCl8fENLRURJVE9SLmRvY3VtZW50O2EuY2xhc3NOYW1lPVwiY2tlX2NvbWJvcGFuZWxcIjthLmJsb2NrPXttdWx0aVNlbGVjdDphLm11bHRpU2VsZWN0LFxuYXR0cmlidXRlczphLmF0dHJpYnV0ZXN9O2EudG9vbGJhclJlbGF0ZWQ9ITA7dGhpcy5fPXtwYW5lbERlZmluaXRpb246YSxpdGVtczp7fX19LHByb3RvOntyZW5kZXJIdG1sOmZ1bmN0aW9uKGEpe3ZhciBiPVtdO3RoaXMucmVuZGVyKGEsYik7cmV0dXJuIGIuam9pbihcIlwiKX0scmVuZGVyOmZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gaigpe3ZhciBkPXRoaXMubW9kZXNbYS5tb2RlXT9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQ7dGhpcy5zZXRTdGF0ZShhLnJlYWRPbmx5JiYhdGhpcy5yZWFkT25seT9DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRDpkKTt0aGlzLnNldFZhbHVlKFwiXCIpfXZhciBjPUNLRURJVE9SLmVudixnPVwiY2tlX1wiK3RoaXMuaWQsZT1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbihiKXtpJiYoYS51bmxvY2tTZWxlY3Rpb24oMSksaT0wKTtkLmV4ZWN1dGUoYil9LHRoaXMpLGY9dGhpcyxkPXtpZDpnLGNvbWJvOnRoaXMsXG5mb2N1czpmdW5jdGlvbigpe0NLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQoZykuZ2V0Q2hpbGQoMSkuZm9jdXMoKX0sZXhlY3V0ZTpmdW5jdGlvbihkKXt2YXIgYj1mLl87aWYoYi5zdGF0ZSE9Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpaWYoZi5jcmVhdGVQYW5lbChhKSxiLm9uKWIucGFuZWwuaGlkZSgpO2Vsc2V7Zi5jb21taXQoKTt2YXIgYz1mLmdldFZhbHVlKCk7Yz9iLmxpc3QubWFyayhjKTpiLmxpc3QudW5tYXJrQWxsKCk7Yi5wYW5lbC5zaG93QmxvY2soZi5pZCxuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZCksNCl9fSxjbGlja0ZuOmV9O2Eub24oXCJtb2RlXCIsaix0aGlzKTshdGhpcy5yZWFkT25seSYmYS5vbihcInJlYWRPbmx5XCIsaix0aGlzKTt2YXIgaz1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbihhLGIpe3ZhciBhPW5ldyBDS0VESVRPUi5kb20uZXZlbnQoYSksYz1hLmdldEtleXN0cm9rZSgpO3N3aXRjaChjKXtjYXNlIDEzOmNhc2UgMzI6Y2FzZSA0MDpDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oZSxcbmIpO2JyZWFrO2RlZmF1bHQ6ZC5vbmtleShkLGMpfWEucHJldmVudERlZmF1bHQoKX0pLGw9Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oKXtkLm9uZm9jdXMmJmQub25mb2N1cygpfSksaT0wLG09Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oKXtpZihDS0VESVRPUi5lbnYub3BlcmEpe3ZhciBiPWEuZWRpdGFibGUoKTtiLmlzSW5saW5lKCkmJmIuaGFzRm9jdXMmJihhLmxvY2tTZWxlY3Rpb24oKSxpPTEpfX0pO2Qua2V5RG93bkZuPWs7Yz17aWQ6ZyxuYW1lOnRoaXMubmFtZXx8dGhpcy5jb21tYW5kLGxhYmVsOnRoaXMubGFiZWwsdGl0bGU6dGhpcy50aXRsZSxjbHM6dGhpcy5jbGFzc05hbWV8fFwiXCIsdGl0bGVKczpjLmdlY2tvJiYxMDkwMDw9Yy52ZXJzaW9uJiYhYy5oYz9cIlwiOih0aGlzLnRpdGxlfHxcIlwiKS5yZXBsYWNlKFwiJ1wiLFwiXCIpLGtleWRvd25GbjprLG1vdXNlZG93bkZuOm0sZm9jdXNGbjpsLGNsaWNrRm46ZX07aC5vdXRwdXQoYyxiKTtcbmlmKHRoaXMub25SZW5kZXIpdGhpcy5vblJlbmRlcigpO3JldHVybiBkfSxjcmVhdGVQYW5lbDpmdW5jdGlvbihhKXtpZighdGhpcy5fLnBhbmVsKXt2YXIgYj10aGlzLl8ucGFuZWxEZWZpbml0aW9uLGM9dGhpcy5fLnBhbmVsRGVmaW5pdGlvbi5ibG9jayxoPWIucGFyZW50fHxDS0VESVRPUi5kb2N1bWVudC5nZXRCb2R5KCksZz1cImNrZV9jb21ib3BhbmVsX19cIit0aGlzLm5hbWUsZT1uZXcgQ0tFRElUT1IudWkuZmxvYXRQYW5lbChhLGgsYiksZj1lLmFkZExpc3RCbG9jayh0aGlzLmlkLGMpLGQ9dGhpcztlLm9uU2hvdz1mdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hZGRDbGFzcyhnKTtkLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX09OKTtmLmZvY3VzKCFmLm11bHRpU2VsZWN0JiZkLmdldFZhbHVlKCkpO2QuXy5vbj0xO2QuZWRpdG9yRm9jdXMmJmEuZm9jdXMoKTtpZihkLm9uT3BlbilkLm9uT3BlbigpfTtlLm9uSGlkZT1mdW5jdGlvbihiKXt0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoZyk7XG5kLnNldFN0YXRlKGQubW9kZXMmJmQubW9kZXNbYS5tb2RlXT9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpO2QuXy5vbj0wO2lmKCFiJiZkLm9uQ2xvc2UpZC5vbkNsb3NlKCl9O2Uub25Fc2NhcGU9ZnVuY3Rpb24oKXtlLmhpZGUoMSl9O2Yub25DbGljaz1mdW5jdGlvbihhLGIpe2Qub25DbGljayYmZC5vbkNsaWNrLmNhbGwoZCxhLGIpO2UuaGlkZSgpfTt0aGlzLl8ucGFuZWw9ZTt0aGlzLl8ubGlzdD1mO2UuZ2V0QmxvY2sodGhpcy5pZCkub25IaWRlPWZ1bmN0aW9uKCl7ZC5fLm9uPTA7ZC5zZXRTdGF0ZShDS0VESVRPUi5UUklTVEFURV9PRkYpfTt0aGlzLmluaXQmJnRoaXMuaW5pdCgpfX0sc2V0VmFsdWU6ZnVuY3Rpb24oYSxiKXt0aGlzLl8udmFsdWU9YTt2YXIgYz10aGlzLmRvY3VtZW50LmdldEJ5SWQoXCJja2VfXCIrdGhpcy5pZCtcIl90ZXh0XCIpO2MmJighYSYmIWI/KGI9dGhpcy5sYWJlbCxjLmFkZENsYXNzKFwiY2tlX2NvbWJvX2lubGluZWxhYmVsXCIpKTpcbmMucmVtb3ZlQ2xhc3MoXCJja2VfY29tYm9faW5saW5lbGFiZWxcIiksYy5zZXRUZXh0KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBiP2I6YSkpfSxnZXRWYWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8udmFsdWV8fFwiXCJ9LHVubWFya0FsbDpmdW5jdGlvbigpe3RoaXMuXy5saXN0LnVubWFya0FsbCgpfSxtYXJrOmZ1bmN0aW9uKGEpe3RoaXMuXy5saXN0Lm1hcmsoYSl9LGhpZGVJdGVtOmZ1bmN0aW9uKGEpe3RoaXMuXy5saXN0LmhpZGVJdGVtKGEpfSxoaWRlR3JvdXA6ZnVuY3Rpb24oYSl7dGhpcy5fLmxpc3QuaGlkZUdyb3VwKGEpfSxzaG93QWxsOmZ1bmN0aW9uKCl7dGhpcy5fLmxpc3Quc2hvd0FsbCgpfSxhZGQ6ZnVuY3Rpb24oYSxiLGMpe3RoaXMuXy5pdGVtc1thXT1jfHxhO3RoaXMuXy5saXN0LmFkZChhLGIsYyl9LHN0YXJ0R3JvdXA6ZnVuY3Rpb24oYSl7dGhpcy5fLmxpc3Quc3RhcnRHcm91cChhKX0sY29tbWl0OmZ1bmN0aW9uKCl7dGhpcy5fLmNvbW1pdHRlZHx8KHRoaXMuXy5saXN0LmNvbW1pdCgpLFxudGhpcy5fLmNvbW1pdHRlZD0xLENLRURJVE9SLnVpLmZpcmUoXCJyZWFkeVwiLHRoaXMpKTt0aGlzLl8uY29tbWl0dGVkPTF9LHNldFN0YXRlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuXy5zdGF0ZSE9YSl7dmFyIGI9dGhpcy5kb2N1bWVudC5nZXRCeUlkKFwiY2tlX1wiK3RoaXMuaWQpO2Iuc2V0U3RhdGUoYSxcImNrZV9jb21ib1wiKTthPT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRD9iLnNldEF0dHJpYnV0ZShcImFyaWEtZGlzYWJsZWRcIiwhMCk6Yi5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLWRpc2FibGVkXCIpO3RoaXMuXy5zdGF0ZT1hfX0sZW5hYmxlOmZ1bmN0aW9uKCl7dGhpcy5fLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCYmdGhpcy5zZXRTdGF0ZSh0aGlzLl8ubGFzdFN0YXRlKX0sZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuXy5zdGF0ZSE9Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQmJih0aGlzLl8ubGFzdFN0YXRlPXRoaXMuXy5zdGF0ZSx0aGlzLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKSl9fSxcbnN0YXRpY3M6e2hhbmRsZXI6e2NyZWF0ZTpmdW5jdGlvbihhKXtyZXR1cm4gbmV3IENLRURJVE9SLnVpLnJpY2hDb21ibyhhKX19fX0pO0NLRURJVE9SLnVpLnByb3RvdHlwZS5hZGRSaWNoQ29tYm89ZnVuY3Rpb24oYSxiKXt0aGlzLmFkZChhLENLRURJVE9SLlVJX1JJQ0hDT01CTyxiKX19KSgpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGcoYSxiLGcsaCxqLGwsbSxuKXtmb3IodmFyIG89YS5jb25maWcsYz1qLnNwbGl0KFwiO1wiKSxqPVtdLGY9e30sZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZT1jW2RdO2lmKGUpe3ZhciBlPWUuc3BsaXQoXCIvXCIpLGs9e30saT1jW2RdPWVbMF07a1tnXT1qW2RdPWVbMV18fGk7ZltpXT1uZXcgQ0tFRElUT1Iuc3R5bGUobSxrKTtmW2ldLl8uZGVmaW5pdGlvbi5uYW1lPWl9ZWxzZSBjLnNwbGljZShkLS0sMSl9YS51aS5hZGRSaWNoQ29tYm8oYix7bGFiZWw6aC5sYWJlbCx0aXRsZTpoLnBhbmVsVGl0bGUsdG9vbGJhcjpcInN0eWxlcyxcIituLHBhbmVsOntjc3M6W0NLRURJVE9SLnNraW4uZ2V0UGF0aChcImVkaXRvclwiKV0uY29uY2F0KG8uY29udGVudHNDc3MpLG11bHRpU2VsZWN0OiExLGF0dHJpYnV0ZXM6e1wiYXJpYS1sYWJlbFwiOmgucGFuZWxUaXRsZX19LGluaXQ6ZnVuY3Rpb24oKXt0aGlzLnN0YXJ0R3JvdXAoaC5wYW5lbFRpdGxlKTtmb3IodmFyIGE9XG4wO2E8Yy5sZW5ndGg7YSsrKXt2YXIgYj1jW2FdO3RoaXMuYWRkKGIsZltiXS5idWlsZFByZXZpZXcoKSxiKX19LG9uQ2xpY2s6ZnVuY3Rpb24oYil7YS5mb2N1cygpO2EuZmlyZShcInNhdmVTbmFwc2hvdFwiKTt2YXIgYz1mW2JdO2FbdGhpcy5nZXRWYWx1ZSgpPT1iP1wicmVtb3ZlU3R5bGVcIjpcImFwcGx5U3R5bGVcIl0oYyk7YS5maXJlKFwic2F2ZVNuYXBzaG90XCIpfSxvblJlbmRlcjpmdW5jdGlvbigpe2Eub24oXCJzZWxlY3Rpb25DaGFuZ2VcIixmdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5nZXRWYWx1ZSgpLGE9YS5kYXRhLnBhdGguZWxlbWVudHMsYz0wLGQ7YzxhLmxlbmd0aDtjKyspe2Q9YVtjXTtmb3IodmFyIGUgaW4gZilpZihmW2VdLmNoZWNrRWxlbWVudE1hdGNoKGQsITApKXtlIT1iJiZ0aGlzLnNldFZhbHVlKGUpO3JldHVybn19dGhpcy5zZXRWYWx1ZShcIlwiLGwpfSx0aGlzKX19KX1DS0VESVRPUi5wbHVnaW5zLmFkZChcImZvbnRcIix7cmVxdWlyZXM6XCJyaWNoY29tYm9cIixpbml0OmZ1bmN0aW9uKGEpe3ZhciBiPVxuYS5jb25maWc7ZyhhLFwiRm9udFwiLFwiZmFtaWx5XCIsYS5sYW5nLmZvbnQsYi5mb250X25hbWVzLGIuZm9udF9kZWZhdWx0TGFiZWwsYi5mb250X3N0eWxlLDMwKTtnKGEsXCJGb250U2l6ZVwiLFwic2l6ZVwiLGEubGFuZy5mb250LmZvbnRTaXplLGIuZm9udFNpemVfc2l6ZXMsYi5mb250U2l6ZV9kZWZhdWx0TGFiZWwsYi5mb250U2l6ZV9zdHlsZSw0MCl9fSl9KSgpO0NLRURJVE9SLmNvbmZpZy5mb250X25hbWVzPVwiQXJpYWwvQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjtDb21pYyBTYW5zIE1TL0NvbWljIFNhbnMgTVMsIGN1cnNpdmU7Q291cmllciBOZXcvQ291cmllciBOZXcsIENvdXJpZXIsIG1vbm9zcGFjZTtHZW9yZ2lhL0dlb3JnaWEsIHNlcmlmO0x1Y2lkYSBTYW5zIFVuaWNvZGUvTHVjaWRhIFNhbnMgVW5pY29kZSwgTHVjaWRhIEdyYW5kZSwgc2Fucy1zZXJpZjtUYWhvbWEvVGFob21hLCBHZW5ldmEsIHNhbnMtc2VyaWY7VGltZXMgTmV3IFJvbWFuL1RpbWVzIE5ldyBSb21hbiwgVGltZXMsIHNlcmlmO1RyZWJ1Y2hldCBNUy9UcmVidWNoZXQgTVMsIEhlbHZldGljYSwgc2Fucy1zZXJpZjtWZXJkYW5hL1ZlcmRhbmEsIEdlbmV2YSwgc2Fucy1zZXJpZlwiO1xuQ0tFRElUT1IuY29uZmlnLmZvbnRfZGVmYXVsdExhYmVsPVwiXCI7Q0tFRElUT1IuY29uZmlnLmZvbnRfc3R5bGU9e2VsZW1lbnQ6XCJzcGFuXCIsc3R5bGVzOntcImZvbnQtZmFtaWx5XCI6XCIjKGZhbWlseSlcIn0sb3ZlcnJpZGVzOlt7ZWxlbWVudDpcImZvbnRcIixhdHRyaWJ1dGVzOntmYWNlOm51bGx9fV19O0NLRURJVE9SLmNvbmZpZy5mb250U2l6ZV9zaXplcz1cIjgvOHB4OzkvOXB4OzEwLzEwcHg7MTEvMTFweDsxMi8xMnB4OzE0LzE0cHg7MTYvMTZweDsxOC8xOHB4OzIwLzIwcHg7MjIvMjJweDsyNC8yNHB4OzI2LzI2cHg7MjgvMjhweDszNi8zNnB4OzQ4LzQ4cHg7NzIvNzJweFwiO0NLRURJVE9SLmNvbmZpZy5mb250U2l6ZV9kZWZhdWx0TGFiZWw9XCJcIjtDS0VESVRPUi5jb25maWcuZm9udFNpemVfc3R5bGU9e2VsZW1lbnQ6XCJzcGFuXCIsc3R5bGVzOntcImZvbnQtc2l6ZVwiOlwiIyhzaXplKVwifSxvdmVycmlkZXM6W3tlbGVtZW50OlwiZm9udFwiLGF0dHJpYnV0ZXM6e3NpemU6bnVsbH19XX07KGZ1bmN0aW9uKCl7dmFyIGI9e2NhblVuZG86ITEsZXhlYzpmdW5jdGlvbihhKXt2YXIgYj1hLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoclwiKTthLmluc2VydEVsZW1lbnQoYil9fTtDS0VESVRPUi5wbHVnaW5zLmFkZChcImhvcml6b250YWxydWxlXCIse2luaXQ6ZnVuY3Rpb24oYSl7YS5ibG9ja2xlc3N8fChhLmFkZENvbW1hbmQoXCJob3Jpem9udGFscnVsZVwiLGIpLGEudWkuYWRkQnV0dG9uJiZhLnVpLmFkZEJ1dHRvbihcIkhvcml6b250YWxSdWxlXCIse2xhYmVsOmEubGFuZy5ob3Jpem9udGFscnVsZS50b29sYmFyLGNvbW1hbmQ6XCJob3Jpem9udGFscnVsZVwiLHRvb2xiYXI6XCJpbnNlcnQsNDBcIn0pKX19KX0pKCk7Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJtZW51XCIse3JlcXVpcmVzOlwiZmxvYXRwYW5lbFwiLGJlZm9yZUluaXQ6ZnVuY3Rpb24oayl7Zm9yKHZhciBnPWsuY29uZmlnLm1lbnVfZ3JvdXBzLnNwbGl0KFwiLFwiKSxtPWsuXy5tZW51R3JvdXBzPXt9LGw9ay5fLm1lbnVJdGVtcz17fSxhPTA7YTxnLmxlbmd0aDthKyspbVtnW2FdXT1hKzE7ay5hZGRNZW51R3JvdXA9ZnVuY3Rpb24oYixhKXttW2JdPWF8fDEwMH07ay5hZGRNZW51SXRlbT1mdW5jdGlvbihhLGMpe21bYy5ncm91cF0mJihsW2FdPW5ldyBDS0VESVRPUi5tZW51SXRlbSh0aGlzLGEsYykpfTtrLmFkZE1lbnVJdGVtcz1mdW5jdGlvbihhKXtmb3IodmFyIGMgaW4gYSl0aGlzLmFkZE1lbnVJdGVtKGMsYVtjXSl9O2suZ2V0TWVudUl0ZW09ZnVuY3Rpb24oYSl7cmV0dXJuIGxbYV19O2sucmVtb3ZlTWVudUl0ZW09ZnVuY3Rpb24oYSl7ZGVsZXRlIGxbYV19fX0pO1xuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gayhhKXthLnNvcnQoZnVuY3Rpb24oYSxjKXtyZXR1cm4gYS5ncm91cDxjLmdyb3VwPy0xOmEuZ3JvdXA+Yy5ncm91cD8xOmEub3JkZXI8Yy5vcmRlcj8tMTphLm9yZGVyPmMub3JkZXI/MTowfSl9dmFyIGc9JzxzcGFuIGNsYXNzPVwiY2tlX21lbnVpdGVtXCI+PGEgaWQ9XCJ7aWR9XCIgY2xhc3M9XCJja2VfbWVudWJ1dHRvbiBja2VfbWVudWJ1dHRvbl9fe25hbWV9IGNrZV9tZW51YnV0dG9uX3tzdGF0ZX0ge2Nsc31cIiBocmVmPVwie2hyZWZ9XCIgdGl0bGU9XCJ7dGl0bGV9XCIgdGFiaW5kZXg9XCItMVwiX2NrZV9mb2N1cz0xIGhpZGVmb2N1cz1cInRydWVcIiByb2xlPVwibWVudWl0ZW1cIiBhcmlhLWhhc3BvcHVwPVwie2hhc1BvcHVwfVwiIGFyaWEtZGlzYWJsZWQ9XCJ7ZGlzYWJsZWR9XCIgYXJpYS1wcmVzc2VkPVwie3ByZXNzZWR9XCInO2lmKENLRURJVE9SLmVudi5vcGVyYXx8Q0tFRElUT1IuZW52LmdlY2tvJiZDS0VESVRPUi5lbnYubWFjKWcrPScgb25rZXlwcmVzcz1cInJldHVybiBmYWxzZTtcIic7XG5DS0VESVRPUi5lbnYuZ2Vja28mJihnKz0nIG9uYmx1cj1cInRoaXMuc3R5bGUuY3NzVGV4dCA9IHRoaXMuc3R5bGUuY3NzVGV4dDtcIicpO3ZhciBnPWcrKCcgb25tb3VzZW92ZXI9XCJDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oe2hvdmVyRm59LHtpbmRleH0pO1wiIG9ubW91c2VvdXQ9XCJDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oe21vdmVPdXRGbn0se2luZGV4fSk7XCIgJysoQ0tFRElUT1IuZW52LmllPydvbmNsaWNrPVwicmV0dXJuIGZhbHNlO1wiIG9ubW91c2V1cCc6XCJvbmNsaWNrXCIpKyc9XCJDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oe2NsaWNrRm59LHtpbmRleH0pOyByZXR1cm4gZmFsc2U7XCI+JyksbT1DS0VESVRPUi5hZGRUZW1wbGF0ZShcIm1lbnVJdGVtXCIsZysnPHNwYW4gY2xhc3M9XCJja2VfbWVudWJ1dHRvbl9pbm5lclwiPjxzcGFuIGNsYXNzPVwiY2tlX21lbnVidXR0b25faWNvblwiPjxzcGFuIGNsYXNzPVwiY2tlX2J1dHRvbl9pY29uIGNrZV9idXR0b25fX3tpY29uTmFtZX1faWNvblwiIHN0eWxlPVwie2ljb25TdHlsZX1cIj48L3NwYW4+PC9zcGFuPjxzcGFuIGNsYXNzPVwiY2tlX21lbnVidXR0b25fbGFiZWxcIj57bGFiZWx9PC9zcGFuPnthcnJvd0h0bWx9PC9zcGFuPjwvYT48L3NwYW4+JyksXG5sPUNLRURJVE9SLmFkZFRlbXBsYXRlKFwibWVudUFycm93XCIsJzxzcGFuIGNsYXNzPVwiY2tlX21lbnVhcnJvd1wiPjxzcGFuPntsYWJlbH08L3NwYW4+PC9zcGFuPicpO0NLRURJVE9SLm1lbnU9Q0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3MoeyQ6ZnVuY3Rpb24oYSxiKXtiPXRoaXMuXy5kZWZpbml0aW9uPWJ8fHt9O3RoaXMuaWQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCk7dGhpcy5lZGl0b3I9YTt0aGlzLml0ZW1zPVtdO3RoaXMuXy5saXN0ZW5lcnM9W107dGhpcy5fLmxldmVsPWIubGV2ZWx8fDE7dmFyIGM9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LGIucGFuZWwse2NzczpbQ0tFRElUT1Iuc2tpbi5nZXRQYXRoKFwiZWRpdG9yXCIpXSxsZXZlbDp0aGlzLl8ubGV2ZWwtMSxibG9jazp7fX0pLGo9Yy5ibG9jay5hdHRyaWJ1dGVzPWMuYXR0cmlidXRlc3x8e307IWoucm9sZSYmKGoucm9sZT1cIm1lbnVcIik7dGhpcy5fLnBhbmVsRGVmaW5pdGlvbj1jfSxfOntvblNob3c6ZnVuY3Rpb24oKXt2YXIgYT1cbnRoaXMuZWRpdG9yLmdldFNlbGVjdGlvbigpLGI9YSYmYS5nZXRTdGFydEVsZW1lbnQoKSxjPXRoaXMuZWRpdG9yLmVsZW1lbnRQYXRoKCksaj10aGlzLl8ubGlzdGVuZXJzO3RoaXMucmVtb3ZlQWxsKCk7Zm9yKHZhciBlPTA7ZTxqLmxlbmd0aDtlKyspe3ZhciBpPWpbZV0oYixhLGMpO2lmKGkpZm9yKHZhciBmIGluIGkpe3ZhciBoPXRoaXMuZWRpdG9yLmdldE1lbnVJdGVtKGYpO2lmKGgmJighaC5jb21tYW5kfHx0aGlzLmVkaXRvci5nZXRDb21tYW5kKGguY29tbWFuZCkuc3RhdGUpKWguc3RhdGU9aVtmXSx0aGlzLmFkZChoKX19fSxvbkNsaWNrOmZ1bmN0aW9uKGEpe3RoaXMuaGlkZSgpO2lmKGEub25DbGljaylhLm9uQ2xpY2soKTtlbHNlIGEuY29tbWFuZCYmdGhpcy5lZGl0b3IuZXhlY0NvbW1hbmQoYS5jb21tYW5kKX0sb25Fc2NhcGU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5wYXJlbnQ7Yj9iLl8ucGFuZWwuaGlkZUNoaWxkKDEpOjI3PT1hJiZ0aGlzLmhpZGUoMSk7cmV0dXJuITF9LFxub25IaWRlOmZ1bmN0aW9uKCl7dGhpcy5vbkhpZGUmJnRoaXMub25IaWRlKCl9LHNob3dTdWJNZW51OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuXy5zdWJNZW51LGM9dGhpcy5pdGVtc1thXTtpZihjPWMuZ2V0SXRlbXMmJmMuZ2V0SXRlbXMoKSl7Yj9iLnJlbW92ZUFsbCgpOihiPXRoaXMuXy5zdWJNZW51PW5ldyBDS0VESVRPUi5tZW51KHRoaXMuZWRpdG9yLENLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSx0aGlzLl8uZGVmaW5pdGlvbix7bGV2ZWw6dGhpcy5fLmxldmVsKzF9LCEwKSksYi5wYXJlbnQ9dGhpcyxiLl8ub25DbGljaz1DS0VESVRPUi50b29scy5iaW5kKHRoaXMuXy5vbkNsaWNrLHRoaXMpKTtmb3IodmFyIGogaW4gYyl7dmFyIGU9dGhpcy5lZGl0b3IuZ2V0TWVudUl0ZW0oaik7ZSYmKGUuc3RhdGU9Y1tqXSxiLmFkZChlKSl9dmFyIGk9dGhpcy5fLnBhbmVsLmdldEJsb2NrKHRoaXMuaWQpLmVsZW1lbnQuZ2V0RG9jdW1lbnQoKS5nZXRCeUlkKHRoaXMuaWQrKFwiXCIrYSkpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtiLnNob3coaSxcbjIpfSwwKX1lbHNlIHRoaXMuXy5wYW5lbC5oaWRlQ2hpbGQoMSl9fSxwcm90bzp7YWRkOmZ1bmN0aW9uKGEpe2Eub3JkZXJ8fChhLm9yZGVyPXRoaXMuaXRlbXMubGVuZ3RoKTt0aGlzLml0ZW1zLnB1c2goYSl9LHJlbW92ZUFsbDpmdW5jdGlvbigpe3RoaXMuaXRlbXM9W119LHNob3c6ZnVuY3Rpb24oYSxiLGMsail7aWYoIXRoaXMucGFyZW50JiYodGhpcy5fLm9uU2hvdygpLCF0aGlzLml0ZW1zLmxlbmd0aCkpcmV0dXJuO3ZhciBiPWJ8fChcInJ0bFwiPT10aGlzLmVkaXRvci5sYW5nLmRpcj8yOjEpLGU9dGhpcy5pdGVtcyxpPXRoaXMuZWRpdG9yLGY9dGhpcy5fLnBhbmVsLGg9dGhpcy5fLmVsZW1lbnQ7aWYoIWYpe2Y9dGhpcy5fLnBhbmVsPW5ldyBDS0VESVRPUi51aS5mbG9hdFBhbmVsKHRoaXMuZWRpdG9yLENLRURJVE9SLmRvY3VtZW50LmdldEJvZHkoKSx0aGlzLl8ucGFuZWxEZWZpbml0aW9uLHRoaXMuXy5sZXZlbCk7Zi5vbkVzY2FwZT1DS0VESVRPUi50b29scy5iaW5kKGZ1bmN0aW9uKGEpe2lmKCExPT09XG50aGlzLl8ub25Fc2NhcGUoYSkpcmV0dXJuITF9LHRoaXMpO2Yub25TaG93PWZ1bmN0aW9uKCl7Zi5fLnBhbmVsLmdldEhvbGRlckVsZW1lbnQoKS5nZXRQYXJlbnQoKS5hZGRDbGFzcyhcImNrZSBja2VfcmVzZXRfYWxsXCIpfTtmLm9uSGlkZT1DS0VESVRPUi50b29scy5iaW5kKGZ1bmN0aW9uKCl7dGhpcy5fLm9uSGlkZSYmdGhpcy5fLm9uSGlkZSgpfSx0aGlzKTtoPWYuYWRkQmxvY2sodGhpcy5pZCx0aGlzLl8ucGFuZWxEZWZpbml0aW9uLmJsb2NrKTtoLmF1dG9TaXplPSEwO3ZhciBkPWgua2V5cztkWzQwXT1cIm5leHRcIjtkWzldPVwibmV4dFwiO2RbMzhdPVwicHJldlwiO2RbQ0tFRElUT1IuU0hJRlQrOV09XCJwcmV2XCI7ZFtcInJ0bFwiPT1pLmxhbmcuZGlyPzM3OjM5XT1DS0VESVRPUi5lbnYuaWU/XCJtb3VzZXVwXCI6XCJjbGlja1wiO2RbMzJdPUNLRURJVE9SLmVudi5pZT9cIm1vdXNldXBcIjpcImNsaWNrXCI7Q0tFRElUT1IuZW52LmllJiYoZFsxM109XCJtb3VzZXVwXCIpO2g9dGhpcy5fLmVsZW1lbnQ9XG5oLmVsZW1lbnQ7ZD1oLmdldERvY3VtZW50KCk7ZC5nZXRCb2R5KCkuc2V0U3R5bGUoXCJvdmVyZmxvd1wiLFwiaGlkZGVuXCIpO2QuZ2V0RWxlbWVudHNCeVRhZyhcImh0bWxcIikuZ2V0SXRlbSgwKS5zZXRTdHlsZShcIm92ZXJmbG93XCIsXCJoaWRkZW5cIik7dGhpcy5fLml0ZW1PdmVyRm49Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oYSl7Y2xlYXJUaW1lb3V0KHRoaXMuXy5zaG93U3ViVGltZW91dCk7dGhpcy5fLnNob3dTdWJUaW1lb3V0PUNLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQodGhpcy5fLnNob3dTdWJNZW51LGkuY29uZmlnLm1lbnVfc3ViTWVudURlbGF5fHw0MDAsdGhpcyxbYV0pfSx0aGlzKTt0aGlzLl8uaXRlbU91dEZuPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMuXy5zaG93U3ViVGltZW91dCl9LHRoaXMpO3RoaXMuXy5pdGVtQ2xpY2tGbj1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbihhKXt2YXIgYj1cbnRoaXMuaXRlbXNbYV07aWYoYi5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpdGhpcy5oaWRlKDEpO2Vsc2UgaWYoYi5nZXRJdGVtcyl0aGlzLl8uc2hvd1N1Yk1lbnUoYSk7ZWxzZSB0aGlzLl8ub25DbGljayhiKX0sdGhpcyl9ayhlKTtmb3IodmFyIGQ9aS5lbGVtZW50UGF0aCgpLGQ9Wyc8ZGl2IGNsYXNzPVwiY2tlX21lbnUnKyhkJiZkLmRpcmVjdGlvbigpIT1pLmxhbmcuZGlyP1wiIGNrZV9taXhlZF9kaXJfY29udGVudFwiOlwiXCIpKydcIiByb2xlPVwicHJlc2VudGF0aW9uXCI+J10sZz1lLmxlbmd0aCxtPWcmJmVbMF0uZ3JvdXAsbD0wO2w8ZztsKyspe3ZhciBuPWVbbF07bSE9bi5ncm91cCYmKGQucHVzaCgnPGRpdiBjbGFzcz1cImNrZV9tZW51c2VwYXJhdG9yXCIgcm9sZT1cInNlcGFyYXRvclwiPjwvZGl2PicpLG09bi5ncm91cCk7bi5yZW5kZXIodGhpcyxsLGQpfWQucHVzaChcIjwvZGl2PlwiKTtoLnNldEh0bWwoZC5qb2luKFwiXCIpKTtDS0VESVRPUi51aS5maXJlKFwicmVhZHlcIixcbnRoaXMpO3RoaXMucGFyZW50P3RoaXMucGFyZW50Ll8ucGFuZWwuc2hvd0FzQ2hpbGQoZix0aGlzLmlkLGEsYixjLGopOmYuc2hvd0Jsb2NrKHRoaXMuaWQsYSxiLGMsaik7aS5maXJlKFwibWVudVNob3dcIixbZl0pfSxhZGRMaXN0ZW5lcjpmdW5jdGlvbihhKXt0aGlzLl8ubGlzdGVuZXJzLnB1c2goYSl9LGhpZGU6ZnVuY3Rpb24oYSl7dGhpcy5fLm9uSGlkZSYmdGhpcy5fLm9uSGlkZSgpO3RoaXMuXy5wYW5lbCYmdGhpcy5fLnBhbmVsLmhpZGUoYSl9fX0pO0NLRURJVE9SLm1lbnVJdGVtPUNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHskOmZ1bmN0aW9uKGEsYixjKXtDS0VESVRPUi50b29scy5leHRlbmQodGhpcyxjLHtvcmRlcjowLGNsYXNzTmFtZTpcImNrZV9tZW51YnV0dG9uX19cIitifSk7dGhpcy5ncm91cD1hLl8ubWVudUdyb3Vwc1t0aGlzLmdyb3VwXTt0aGlzLmVkaXRvcj1hO3RoaXMubmFtZT1ifSxwcm90bzp7cmVuZGVyOmZ1bmN0aW9uKGEsYixjKXt2YXIgZz1hLmlkKyhcIlwiK1xuYiksZT1cInVuZGVmaW5lZFwiPT10eXBlb2YgdGhpcy5zdGF0ZT9DS0VESVRPUi5UUklTVEFURV9PRkY6dGhpcy5zdGF0ZSxpPWU9PUNLRURJVE9SLlRSSVNUQVRFX09OP1wib25cIjplPT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRD9cImRpc2FibGVkXCI6XCJvZmZcIixmPXRoaXMuZ2V0SXRlbXMsaD1cIiYjXCIrKFwicnRsXCI9PXRoaXMuZWRpdG9yLmxhbmcuZGlyP1wiOTY2OFwiOlwiOTY1OFwiKStcIjtcIixkPXRoaXMubmFtZTt0aGlzLmljb24mJiEvXFwuLy50ZXN0KHRoaXMuaWNvbikmJihkPXRoaXMuaWNvbik7YT17aWQ6ZyxuYW1lOnRoaXMubmFtZSxpY29uTmFtZTpkLGxhYmVsOnRoaXMubGFiZWwsY2xzOnRoaXMuY2xhc3NOYW1lfHxcIlwiLHN0YXRlOmksaGFzUG9wdXA6Zj9cInRydWVcIjpcImZhbHNlXCIsZGlzYWJsZWQ6ZT09Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQscHJlc3NlZDplPT1DS0VESVRPUi5UUklTVEFURV9PTix0aXRsZTp0aGlzLmxhYmVsLGhyZWY6XCJqYXZhc2NyaXB0OnZvaWQoJ1wiKyh0aGlzLmxhYmVsfHxcblwiXCIpLnJlcGxhY2UoXCInXCIpK1wiJylcIixob3ZlckZuOmEuXy5pdGVtT3ZlckZuLG1vdmVPdXRGbjphLl8uaXRlbU91dEZuLGNsaWNrRm46YS5fLml0ZW1DbGlja0ZuLGluZGV4OmIsaWNvblN0eWxlOkNLRURJVE9SLnNraW4uZ2V0SWNvblN0eWxlKGQsXCJydGxcIj09dGhpcy5lZGl0b3IubGFuZy5kaXIsZD09dGhpcy5pY29uP251bGw6dGhpcy5pY29uLHRoaXMuaWNvbk9mZnNldCksYXJyb3dIdG1sOmY/bC5vdXRwdXQoe2xhYmVsOmh9KTpcIlwifTttLm91dHB1dChhLGMpfX19KX0pKCk7Q0tFRElUT1IuY29uZmlnLm1lbnVfZ3JvdXBzPVwiY2xpcGJvYXJkLGZvcm0sdGFibGVjZWxsLHRhYmxlY2VsbHByb3BlcnRpZXMsdGFibGVyb3csdGFibGVjb2x1bW4sdGFibGUsYW5jaG9yLGxpbmssaW1hZ2UsZmxhc2gsY2hlY2tib3gscmFkaW8sdGV4dGZpZWxkLGhpZGRlbmZpZWxkLGltYWdlYnV0dG9uLGJ1dHRvbixzZWxlY3QsdGV4dGFyZWEsZGl2XCI7Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJjb250ZXh0bWVudVwiLHtyZXF1aXJlczpcIm1lbnVcIixvbkxvYWQ6ZnVuY3Rpb24oKXtDS0VESVRPUi5wbHVnaW5zLmNvbnRleHRNZW51PUNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHtiYXNlOkNLRURJVE9SLm1lbnUsJDpmdW5jdGlvbihiKXt0aGlzLmJhc2UuY2FsbCh0aGlzLGIse3BhbmVsOntjbGFzc05hbWU6XCJja2VfbWVudV9wYW5lbFwiLGF0dHJpYnV0ZXM6e1wiYXJpYS1sYWJlbFwiOmIubGFuZy5jb250ZXh0bWVudS5vcHRpb25zfX19KX0scHJvdG86e2FkZFRhcmdldDpmdW5jdGlvbihiLGQpe2lmKENLRURJVE9SLmVudi5vcGVyYSYmIShcIm9uY29udGV4dG1lbnVcImluIGRvY3VtZW50LmJvZHkpKXt2YXIgYztiLm9uKFwibW91c2Vkb3duXCIsZnVuY3Rpb24oYSl7YT1hLmRhdGE7aWYoMiE9YS4kLmJ1dHRvbilhLmdldEtleXN0cm9rZSgpPT1DS0VESVRPUi5DVFJMKzEmJmIuZmlyZShcImNvbnRleHRtZW51XCIsYSk7ZWxzZSBpZighZHx8IShDS0VESVRPUi5lbnYubWFjP1xuYS4kLm1ldGFLZXk6YS4kLmN0cmxLZXkpKXt2YXIgZz1hLmdldFRhcmdldCgpO2N8fChnPWcuZ2V0RG9jdW1lbnQoKSxjPWcuY3JlYXRlRWxlbWVudChcImlucHV0XCIpLGMuJC50eXBlPVwiYnV0dG9uXCIsZy5nZXRCb2R5KCkuYXBwZW5kKGMpKTtjLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJwb3NpdGlvbjphYnNvbHV0ZTt0b3A6XCIrKGEuJC5jbGllbnRZLTIpK1wicHg7bGVmdDpcIisoYS4kLmNsaWVudFgtMikrXCJweDt3aWR0aDo1cHg7aGVpZ2h0OjVweDtvcGFjaXR5OjAuMDFcIil9fSk7Yi5vbihcIm1vdXNldXBcIixmdW5jdGlvbihhKXtjJiYoYy5yZW1vdmUoKSxjPXZvaWQgMCxiLmZpcmUoXCJjb250ZXh0bWVudVwiLGEuZGF0YSkpfSl9Yi5vbihcImNvbnRleHRtZW51XCIsZnVuY3Rpb24oYSl7YT1hLmRhdGE7aWYoIWR8fCEoQ0tFRElUT1IuZW52LndlYmtpdD9lOkNLRURJVE9SLmVudi5tYWM/YS4kLm1ldGFLZXk6YS4kLmN0cmxLZXkpKXthLnByZXZlbnREZWZhdWx0KCk7dmFyIGI9YS5nZXRUYXJnZXQoKS5nZXREb2N1bWVudCgpLFxuYz1hLmdldFRhcmdldCgpLmdldERvY3VtZW50KCkuZ2V0RG9jdW1lbnRFbGVtZW50KCksZj0hYi5lcXVhbHMoQ0tFRElUT1IuZG9jdW1lbnQpLGI9Yi5nZXRXaW5kb3coKS5nZXRTY3JvbGxQb3NpdGlvbigpLGg9Zj9hLiQuY2xpZW50WDphLiQucGFnZVh8fGIueCthLiQuY2xpZW50WCxpPWY/YS4kLmNsaWVudFk6YS4kLnBhZ2VZfHxiLnkrYS4kLmNsaWVudFk7Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMub3BlbihjLG51bGwsaCxpKX0sQ0tFRElUT1IuZW52LmllPzIwMDowLHRoaXMpfX0sdGhpcyk7aWYoQ0tFRElUT1IuZW52Lm9wZXJhKWIub24oXCJrZXlwcmVzc1wiLGZ1bmN0aW9uKGEpe2E9YS5kYXRhOzA9PT1hLiQua2V5Q29kZSYmYS5wcmV2ZW50RGVmYXVsdCgpfSk7aWYoQ0tFRElUT1IuZW52LndlYmtpdCl7dmFyIGUsZj1mdW5jdGlvbigpe2U9MH07Yi5vbihcImtleWRvd25cIixmdW5jdGlvbihhKXtlPUNLRURJVE9SLmVudi5tYWM/YS5kYXRhLiQubWV0YUtleTpcbmEuZGF0YS4kLmN0cmxLZXl9KTtiLm9uKFwia2V5dXBcIixmKTtiLm9uKFwiY29udGV4dG1lbnVcIixmKX19LG9wZW46ZnVuY3Rpb24oYixkLGMsZSl7dGhpcy5lZGl0b3IuZm9jdXMoKTtiPWJ8fENLRURJVE9SLmRvY3VtZW50LmdldERvY3VtZW50RWxlbWVudCgpO3RoaXMuZWRpdG9yLnNlbGVjdGlvbkNoYW5nZSgxKTt0aGlzLnNob3coYixkLGMsZSl9fX0pfSxiZWZvcmVJbml0OmZ1bmN0aW9uKGIpe3ZhciBkPWIuY29udGV4dE1lbnU9bmV3IENLRURJVE9SLnBsdWdpbnMuY29udGV4dE1lbnUoYik7Yi5vbihcImNvbnRlbnREb21cIixmdW5jdGlvbigpe2QuYWRkVGFyZ2V0KGIuZWRpdGFibGUoKSwhMSE9PWIuY29uZmlnLmJyb3dzZXJDb250ZXh0TWVudU9uQ3RybCl9KTtiLmFkZENvbW1hbmQoXCJjb250ZXh0TWVudVwiLHtleGVjOmZ1bmN0aW9uKCl7Yi5jb250ZXh0TWVudS5vcGVuKGIuZG9jdW1lbnQuZ2V0Qm9keSgpKX19KTtiLnNldEtleXN0cm9rZShDS0VESVRPUi5TSElGVCsxMjEsXCJjb250ZXh0TWVudVwiKTtcbmIuc2V0S2V5c3Ryb2tlKENLRURJVE9SLkNUUkwrQ0tFRElUT1IuU0hJRlQrMTIxLFwiY29udGV4dE1lbnVcIil9fSk7KGZ1bmN0aW9uKCl7Q0tFRElUT1IucGx1Z2lucy5saXN0c3R5bGU9e3JlcXVpcmVzOlwiZGlhbG9nLGNvbnRleHRtZW51XCIsaW5pdDpmdW5jdGlvbihhKXthLmFkZENvbW1hbmQoXCJudW1iZXJlZExpc3RTdHlsZVwiLG5ldyBDS0VESVRPUi5kaWFsb2dDb21tYW5kKFwibnVtYmVyZWRMaXN0U3R5bGVcIikpO0NLRURJVE9SLmRpYWxvZy5hZGQoXCJudW1iZXJlZExpc3RTdHlsZVwiLHRoaXMucGF0aCtcImRpYWxvZ3MvbGlzdHN0eWxlLmpzXCIpO2EuYWRkQ29tbWFuZChcImJ1bGxldGVkTGlzdFN0eWxlXCIsbmV3IENLRURJVE9SLmRpYWxvZ0NvbW1hbmQoXCJidWxsZXRlZExpc3RTdHlsZVwiKSk7Q0tFRElUT1IuZGlhbG9nLmFkZChcImJ1bGxldGVkTGlzdFN0eWxlXCIsdGhpcy5wYXRoK1wiZGlhbG9ncy9saXN0c3R5bGUuanNcIik7YS5hZGRNZW51R3JvdXAoXCJsaXN0XCIsMTA4KTthLmFkZE1lbnVJdGVtcyh7bnVtYmVyZWRsaXN0OntsYWJlbDphLmxhbmcubGlzdHN0eWxlLm51bWJlcmVkVGl0bGUsZ3JvdXA6XCJsaXN0XCIsXG5jb21tYW5kOlwibnVtYmVyZWRMaXN0U3R5bGVcIn0sYnVsbGV0ZWRsaXN0OntsYWJlbDphLmxhbmcubGlzdHN0eWxlLmJ1bGxldGVkVGl0bGUsZ3JvdXA6XCJsaXN0XCIsY29tbWFuZDpcImJ1bGxldGVkTGlzdFN0eWxlXCJ9fSk7YS5jb250ZXh0TWVudS5hZGRMaXN0ZW5lcihmdW5jdGlvbihhKXtpZighYXx8YS5pc1JlYWRPbmx5KCkpcmV0dXJuIG51bGw7Zm9yKDthOyl7dmFyIGI9YS5nZXROYW1lKCk7aWYoXCJvbFwiPT1iKXJldHVybntudW1iZXJlZGxpc3Q6Q0tFRElUT1IuVFJJU1RBVEVfT0ZGfTtpZihcInVsXCI9PWIpcmV0dXJue2J1bGxldGVkbGlzdDpDS0VESVRPUi5UUklTVEFURV9PRkZ9O2E9YS5nZXRQYXJlbnQoKX1yZXR1cm4gbnVsbH0pfX07Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJsaXN0c3R5bGVcIixDS0VESVRPUi5wbHVnaW5zLmxpc3RzdHlsZSl9KSgpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGgoYSxkLGYpe3ZhciBiPUNLRURJVE9SLmNsZWFuV29yZDtiP2YoKTooYT1DS0VESVRPUi5nZXRVcmwoYS5jb25maWcucGFzdGVGcm9tV29yZENsZWFudXBGaWxlfHxkK1wiZmlsdGVyL2RlZmF1bHQuanNcIiksQ0tFRElUT1Iuc2NyaXB0TG9hZGVyLmxvYWQoYSxmLG51bGwsITApKTtyZXR1cm4hYn1mdW5jdGlvbiBpKGEpe2EuZGF0YS50eXBlPVwiaHRtbFwifUNLRURJVE9SLnBsdWdpbnMuYWRkKFwicGFzdGVmcm9td29yZFwiLHtyZXF1aXJlczpcImNsaXBib2FyZFwiLGluaXQ6ZnVuY3Rpb24oYSl7dmFyIGQ9MCxmPXRoaXMucGF0aDthLmFkZENvbW1hbmQoXCJwYXN0ZWZyb213b3JkXCIse2NhblVuZG86ITEsYXN5bmM6ITAsZXhlYzpmdW5jdGlvbihhKXt2YXIgZT10aGlzO2Q9MTthLm9uY2UoXCJiZWZvcmVQYXN0ZVwiLGkpO2EuZ2V0Q2xpcGJvYXJkRGF0YSh7dGl0bGU6YS5sYW5nLnBhc3RlZnJvbXdvcmQudGl0bGV9LGZ1bmN0aW9uKGMpe2MmJmEuZmlyZShcInBhc3RlXCIsXG57dHlwZTpcImh0bWxcIixkYXRhVmFsdWU6Yy5kYXRhVmFsdWV9KTthLmZpcmUoXCJhZnRlckNvbW1hbmRFeGVjXCIse25hbWU6XCJwYXN0ZWZyb213b3JkXCIsY29tbWFuZDplLHJldHVyblZhbHVlOiEhY30pfSl9fSk7YS51aS5hZGRCdXR0b24mJmEudWkuYWRkQnV0dG9uKFwiUGFzdGVGcm9tV29yZFwiLHtsYWJlbDphLmxhbmcucGFzdGVmcm9td29yZC50b29sYmFyLGNvbW1hbmQ6XCJwYXN0ZWZyb213b3JkXCIsdG9vbGJhcjpcImNsaXBib2FyZCw1MFwifSk7YS5vbihcInBhc3RlU3RhdGVcIixmdW5jdGlvbihiKXthLmdldENvbW1hbmQoXCJwYXN0ZWZyb213b3JkXCIpLnNldFN0YXRlKGIuZGF0YSl9KTthLm9uKFwicGFzdGVcIixmdW5jdGlvbihiKXt2YXIgZT1iLmRhdGEsYz1lLmRhdGFWYWx1ZTtpZihjJiYoZHx8LyhjbGFzcz1cXFwiP01zb3xzdHlsZT1cXFwiW15cXFwiXSpcXGJtc29cXC18dzpXb3JkRG9jdW1lbnQpLy50ZXN0KGMpKSl7dmFyIGc9aChhLGYsZnVuY3Rpb24oKXtpZihnKWEuZmlyZShcInBhc3RlXCIsZSk7XG5lbHNlIGlmKCFhLmNvbmZpZy5wYXN0ZUZyb21Xb3JkUHJvbXB0Q2xlYW51cHx8ZHx8Y29uZmlybShhLmxhbmcucGFzdGVmcm9td29yZC5jb25maXJtQ2xlYW51cCkpZS5kYXRhVmFsdWU9Q0tFRElUT1IuY2xlYW5Xb3JkKGMsYSl9KTtnJiZiLmNhbmNlbCgpfX0sbnVsbCxudWxsLDMpfX0pfSkoKTtDS0VESVRPUi5wbHVnaW5zLmFkZChcInJlbW92ZWZvcm1hdFwiLHtpbml0OmZ1bmN0aW9uKGEpe2EuYWRkQ29tbWFuZChcInJlbW92ZUZvcm1hdFwiLENLRURJVE9SLnBsdWdpbnMucmVtb3ZlZm9ybWF0LmNvbW1hbmRzLnJlbW92ZWZvcm1hdCk7YS51aS5hZGRCdXR0b24mJmEudWkuYWRkQnV0dG9uKFwiUmVtb3ZlRm9ybWF0XCIse2xhYmVsOmEubGFuZy5yZW1vdmVmb3JtYXQudG9vbGJhcixjb21tYW5kOlwicmVtb3ZlRm9ybWF0XCIsdG9vbGJhcjpcImNsZWFudXAsMTBcIn0pfX0pO1xuQ0tFRElUT1IucGx1Z2lucy5yZW1vdmVmb3JtYXQ9e2NvbW1hbmRzOntyZW1vdmVmb3JtYXQ6e2V4ZWM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBoPWEuXy5yZW1vdmVGb3JtYXRSZWdleHx8KGEuXy5yZW1vdmVGb3JtYXRSZWdleD1SZWdFeHAoXCJeKD86XCIrYS5jb25maWcucmVtb3ZlRm9ybWF0VGFncy5yZXBsYWNlKC8sL2csXCJ8XCIpK1wiKSRcIixcImlcIikpLGU9YS5fLnJlbW92ZUF0dHJpYnV0ZXN8fChhLl8ucmVtb3ZlQXR0cmlidXRlcz1hLmNvbmZpZy5yZW1vdmVGb3JtYXRBdHRyaWJ1dGVzLnNwbGl0KFwiLFwiKSksZj1DS0VESVRPUi5wbHVnaW5zLnJlbW92ZWZvcm1hdC5maWx0ZXIsaz1hLmdldFNlbGVjdGlvbigpLmdldFJhbmdlcygxKSxsPWsuY3JlYXRlSXRlcmF0b3IoKSxjO2M9bC5nZXROZXh0UmFuZ2UoKTspe2MuY29sbGFwc2VkfHxjLmVubGFyZ2UoQ0tFRElUT1IuRU5MQVJHRV9FTEVNRU5UKTt2YXIgaT1jLmNyZWF0ZUJvb2ttYXJrKCksYj1pLnN0YXJ0Tm9kZSxqPWkuZW5kTm9kZSxcbmQ9ZnVuY3Rpb24oYil7Zm9yKHZhciBjPWEuZWxlbWVudFBhdGgoYiksZT1jLmVsZW1lbnRzLGQ9MSxnOyhnPWVbZF0pJiYhZy5lcXVhbHMoYy5ibG9jaykmJiFnLmVxdWFscyhjLmJsb2NrTGltaXQpO2QrKyloLnRlc3QoZy5nZXROYW1lKCkpJiZmKGEsZykmJmIuYnJlYWtQYXJlbnQoZyl9O2QoYik7aWYoail7ZChqKTtmb3IoYj1iLmdldE5leHRTb3VyY2VOb2RlKCEwLENLRURJVE9SLk5PREVfRUxFTUVOVCk7YiYmIWIuZXF1YWxzKGopOylkPWIuZ2V0TmV4dFNvdXJjZU5vZGUoITEsQ0tFRElUT1IuTk9ERV9FTEVNRU5UKSwhKFwiaW1nXCI9PWIuZ2V0TmFtZSgpJiZiLmRhdGEoXCJja2UtcmVhbGVsZW1lbnRcIikpJiZmKGEsYikmJihoLnRlc3QoYi5nZXROYW1lKCkpP2IucmVtb3ZlKDEpOihiLnJlbW92ZUF0dHJpYnV0ZXMoZSksYS5maXJlKFwicmVtb3ZlRm9ybWF0Q2xlYW51cFwiLGIpKSksYj1kfWMubW92ZVRvQm9va21hcmsoaSl9YS5mb3JjZU5leHRTZWxlY3Rpb25DaGVjaygpO2EuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0UmFuZ2VzKGspfX19LFxuZmlsdGVyOmZ1bmN0aW9uKGEsaCl7Zm9yKHZhciBlPWEuXy5yZW1vdmVGb3JtYXRGaWx0ZXJzfHxbXSxmPTA7ZjxlLmxlbmd0aDtmKyspaWYoITE9PT1lW2ZdKGgpKXJldHVybiExO3JldHVybiEwfX07Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5hZGRSZW1vdmVGb3JtYXRGaWx0ZXI9ZnVuY3Rpb24oYSl7dGhpcy5fLnJlbW92ZUZvcm1hdEZpbHRlcnN8fCh0aGlzLl8ucmVtb3ZlRm9ybWF0RmlsdGVycz1bXSk7dGhpcy5fLnJlbW92ZUZvcm1hdEZpbHRlcnMucHVzaChhKX07Q0tFRElUT1IuY29uZmlnLnJlbW92ZUZvcm1hdFRhZ3M9XCJiLGJpZyxjb2RlLGRlbCxkZm4sZW0sZm9udCxpLGlucyxrYmQscSxzYW1wLHNtYWxsLHNwYW4sc3RyaWtlLHN0cm9uZyxzdWIsc3VwLHR0LHUsdmFyXCI7Q0tFRElUT1IuY29uZmlnLnJlbW92ZUZvcm1hdEF0dHJpYnV0ZXM9XCJjbGFzcyxzdHlsZSxsYW5nLHdpZHRoLGhlaWdodCxhbGlnbixoc3BhY2UsdmFsaWduXCI7KGZ1bmN0aW9uKCl7Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJzb3VyY2VhcmVhXCIse2luaXQ6ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gZCgpe3RoaXMuaGlkZSgpO3RoaXMuc2V0U3R5bGUoXCJoZWlnaHRcIix0aGlzLmdldFBhcmVudCgpLiQuY2xpZW50SGVpZ2h0K1wicHhcIik7dGhpcy5zZXRTdHlsZShcIndpZHRoXCIsdGhpcy5nZXRQYXJlbnQoKS4kLmNsaWVudFdpZHRoK1wicHhcIik7dGhpcy5zaG93KCl9aWYoYS5lbGVtZW50TW9kZSE9Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORSl7dmFyIGU9Q0tFRElUT1IucGx1Z2lucy5zb3VyY2VhcmVhO2EuYWRkTW9kZShcInNvdXJjZVwiLGZ1bmN0aW9uKGUpe3ZhciBiPWEudWkuc3BhY2UoXCJjb250ZW50c1wiKS5nZXREb2N1bWVudCgpLmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiKTtiLnNldFN0eWxlcyhDS0VESVRPUi50b29scy5leHRlbmQoe3dpZHRoOkNLRURJVE9SLmVudi5pZTdDb21wYXQ/XCI5OSVcIjpcIjEwMCVcIixoZWlnaHQ6XCIxMDAlXCIscmVzaXplOlwibm9uZVwiLFxub3V0bGluZTpcIm5vbmVcIixcInRleHQtYWxpZ25cIjpcImxlZnRcIn0sQ0tFRElUT1IudG9vbHMuY3NzVmVuZG9yUHJlZml4KFwidGFiLXNpemVcIixhLmNvbmZpZy5zb3VyY2VBcmVhVGFiU2l6ZXx8NCkpKTtiLmFkZENsYXNzKFwiY2tlX3NvdXJjZSBja2VfcmVzZXQgY2tlX2VuYWJsZV9jb250ZXh0X21lbnVcIik7YS51aS5zcGFjZShcImNvbnRlbnRzXCIpLmFwcGVuZChiKTtiPWEuZWRpdGFibGUobmV3IGMoYSxiKSk7Yi5zZXREYXRhKGEuZ2V0RGF0YSgxKSk7Q0tFRElUT1IuZW52LmllJiYoYi5hdHRhY2hMaXN0ZW5lcihhLFwicmVzaXplXCIsZCxiKSxiLmF0dGFjaExpc3RlbmVyKENLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpLFwicmVzaXplXCIsZCxiKSxDS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGQsMCxiKSk7YS5maXJlKFwiYXJpYVdpZGdldFwiLHRoaXMpO2UoKX0pO2EuYWRkQ29tbWFuZChcInNvdXJjZVwiLGUuY29tbWFuZHMuc291cmNlKTthLnVpLmFkZEJ1dHRvbiYmYS51aS5hZGRCdXR0b24oXCJTb3VyY2VcIixcbntsYWJlbDphLmxhbmcuc291cmNlYXJlYS50b29sYmFyLGNvbW1hbmQ6XCJzb3VyY2VcIix0b29sYmFyOlwibW9kZSwxMFwifSk7YS5vbihcIm1vZGVcIixmdW5jdGlvbigpe2EuZ2V0Q29tbWFuZChcInNvdXJjZVwiKS5zZXRTdGF0ZShcInNvdXJjZVwiPT1hLm1vZGU/Q0tFRElUT1IuVFJJU1RBVEVfT046Q0tFRElUT1IuVFJJU1RBVEVfT0ZGKX0pfX19KTt2YXIgYz1DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7YmFzZTpDS0VESVRPUi5lZGl0YWJsZSxwcm90bzp7c2V0RGF0YTpmdW5jdGlvbihhKXt0aGlzLnNldFZhbHVlKGEpO3RoaXMuZWRpdG9yLmZpcmUoXCJkYXRhUmVhZHlcIil9LGdldERhdGE6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRWYWx1ZSgpfSxpbnNlcnRIdG1sOmZ1bmN0aW9uKCl7fSxpbnNlcnRFbGVtZW50OmZ1bmN0aW9uKCl7fSxpbnNlcnRUZXh0OmZ1bmN0aW9uKCl7fSxzZXRSZWFkT25seTpmdW5jdGlvbihhKXt0aGlzWyhhP1wic2V0XCI6XCJyZW1vdmVcIikrXCJBdHRyaWJ1dGVcIl0oXCJyZWFkT25seVwiLFxuXCJyZWFkb25seVwiKX0sZGV0YWNoOmZ1bmN0aW9uKCl7Yy5iYXNlUHJvdG8uZGV0YWNoLmNhbGwodGhpcyk7dGhpcy5jbGVhckN1c3RvbURhdGEoKTt0aGlzLnJlbW92ZSgpfX19KX0pKCk7Q0tFRElUT1IucGx1Z2lucy5zb3VyY2VhcmVhPXtjb21tYW5kczp7c291cmNlOnttb2Rlczp7d3lzaXd5ZzoxLHNvdXJjZToxfSxlZGl0b3JGb2N1czohMSxyZWFkT25seToxLGV4ZWM6ZnVuY3Rpb24oYyl7XCJ3eXNpd3lnXCI9PWMubW9kZSYmYy5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2MuZ2V0Q29tbWFuZChcInNvdXJjZVwiKS5zZXRTdGF0ZShDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCk7Yy5zZXRNb2RlKFwic291cmNlXCI9PWMubW9kZT9cInd5c2l3eWdcIjpcInNvdXJjZVwiKX0sY2FuVW5kbzohMX19fTtDS0VESVRPUi5wbHVnaW5zLmFkZChcInNwZWNpYWxjaGFyXCIse2F2YWlsYWJsZUxhbmdzOntjYToxLGNzOjEsY3k6MSxkZToxLGVuOjEsZW86MSxldDoxLGZhOjEsZmk6MSxmcjoxLGhlOjEsaHI6MSxpdDoxLGt1OjEsbHY6MSxuYjoxLG5sOjEsbm86MSxcInB0LWJyXCI6MSxzazoxLHN2OjEsdHI6MSx1ZzoxLFwiemgtY25cIjoxfSxyZXF1aXJlczpcImRpYWxvZ1wiLGluaXQ6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcztDS0VESVRPUi5kaWFsb2cuYWRkKFwic3BlY2lhbGNoYXJcIix0aGlzLnBhdGgrXCJkaWFsb2dzL3NwZWNpYWxjaGFyLmpzXCIpO2EuYWRkQ29tbWFuZChcInNwZWNpYWxjaGFyXCIse2V4ZWM6ZnVuY3Rpb24oKXt2YXIgYj1hLmxhbmdDb2RlLGI9Yy5hdmFpbGFibGVMYW5nc1tiXT9iOmMuYXZhaWxhYmxlTGFuZ3NbYi5yZXBsYWNlKC8tLiovLFwiXCIpXT9iLnJlcGxhY2UoLy0uKi8sXCJcIik6XCJlblwiO0NLRURJVE9SLnNjcmlwdExvYWRlci5sb2FkKENLRURJVE9SLmdldFVybChjLnBhdGgrXCJkaWFsb2dzL2xhbmcvXCIrXG5iK1wiLmpzXCIpLGZ1bmN0aW9uKCl7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKGEubGFuZy5zcGVjaWFsY2hhcixjLmxhbmdFbnRyaWVzW2JdKTthLm9wZW5EaWFsb2coXCJzcGVjaWFsY2hhclwiKX0pfSxtb2Rlczp7d3lzaXd5ZzoxfSxjYW5VbmRvOiExfSk7YS51aS5hZGRCdXR0b24mJmEudWkuYWRkQnV0dG9uKFwiU3BlY2lhbENoYXJcIix7bGFiZWw6YS5sYW5nLnNwZWNpYWxjaGFyLnRvb2xiYXIsY29tbWFuZDpcInNwZWNpYWxjaGFyXCIsdG9vbGJhcjpcImluc2VydCw1MFwifSl9fSk7Q0tFRElUT1IuY29uZmlnLnNwZWNpYWxDaGFycz1cIiEgJnF1b3Q7ICMgJCAlICZhbXA7ICcgKCApICogKyAtIC4gLyAwIDEgMiAzIDQgNSA2IDcgOCA5IDogOyAmbHQ7ID0gJmd0OyA/IEAgQSBCIEMgRCBFIEYgRyBIIEkgSiBLIEwgTSBOIE8gUCBRIFIgUyBUIFUgViBXIFggWSBaIFsgXSBeIF8gYCBhIGIgYyBkIGUgZiBnIGggaSBqIGsgbCBtIG4gbyBwIHEgciBzIHQgdSB2IHcgeCB5IHogeyB8IH0gfiAmZXVybzsgJmxzcXVvOyAmcnNxdW87ICZsZHF1bzsgJnJkcXVvOyAmbmRhc2g7ICZtZGFzaDsgJmlleGNsOyAmY2VudDsgJnBvdW5kOyAmY3VycmVuOyAmeWVuOyAmYnJ2YmFyOyAmc2VjdDsgJnVtbDsgJmNvcHk7ICZvcmRmOyAmbGFxdW87ICZub3Q7ICZyZWc7ICZtYWNyOyAmZGVnOyAmc3VwMjsgJnN1cDM7ICZhY3V0ZTsgJm1pY3JvOyAmcGFyYTsgJm1pZGRvdDsgJmNlZGlsOyAmc3VwMTsgJm9yZG07ICZyYXF1bzsgJmZyYWMxNDsgJmZyYWMxMjsgJmZyYWMzNDsgJmlxdWVzdDsgJkFncmF2ZTsgJkFhY3V0ZTsgJkFjaXJjOyAmQXRpbGRlOyAmQXVtbDsgJkFyaW5nOyAmQUVsaWc7ICZDY2VkaWw7ICZFZ3JhdmU7ICZFYWN1dGU7ICZFY2lyYzsgJkV1bWw7ICZJZ3JhdmU7ICZJYWN1dGU7ICZJY2lyYzsgJkl1bWw7ICZFVEg7ICZOdGlsZGU7ICZPZ3JhdmU7ICZPYWN1dGU7ICZPY2lyYzsgJk90aWxkZTsgJk91bWw7ICZ0aW1lczsgJk9zbGFzaDsgJlVncmF2ZTsgJlVhY3V0ZTsgJlVjaXJjOyAmVXVtbDsgJllhY3V0ZTsgJlRIT1JOOyAmc3psaWc7ICZhZ3JhdmU7ICZhYWN1dGU7ICZhY2lyYzsgJmF0aWxkZTsgJmF1bWw7ICZhcmluZzsgJmFlbGlnOyAmY2NlZGlsOyAmZWdyYXZlOyAmZWFjdXRlOyAmZWNpcmM7ICZldW1sOyAmaWdyYXZlOyAmaWFjdXRlOyAmaWNpcmM7ICZpdW1sOyAmZXRoOyAmbnRpbGRlOyAmb2dyYXZlOyAmb2FjdXRlOyAmb2NpcmM7ICZvdGlsZGU7ICZvdW1sOyAmZGl2aWRlOyAmb3NsYXNoOyAmdWdyYXZlOyAmdWFjdXRlOyAmdWNpcmM7ICZ1dW1sOyAmeWFjdXRlOyAmdGhvcm47ICZ5dW1sOyAmT0VsaWc7ICZvZWxpZzsgJiMzNzI7ICYjMzc0ICYjMzczICYjMzc1OyAmc2JxdW87ICYjODIxOTsgJmJkcXVvOyAmaGVsbGlwOyAmdHJhZGU7ICYjOTY1ODsgJmJ1bGw7ICZyYXJyOyAmckFycjsgJmhBcnI7ICZkaWFtczsgJmFzeW1wO1wiLnNwbGl0KFwiIFwiKTtDS0VESVRPUi5jb25maWcucGx1Z2lucz0nZGlhbG9ndWksZGlhbG9nLGFib3V0LGJhc2ljc3R5bGVzLGNsaXBib2FyZCxidXR0b24sdG9vbGJhcixsaXN0LGluZGVudCxlbnRlcmtleSxlbnRpdGllcyxmbG9hdGluZ3NwYWNlLHd5c2l3eWdhcmVhLGZha2VvYmplY3RzLGxpbmsscGFzdGV0ZXh0LHVuZG8scGFuZWwsZmxvYXRwYW5lbCxsaXN0YmxvY2sscmljaGNvbWJvLGZvbnQsaG9yaXpvbnRhbHJ1bGUsbWVudSxjb250ZXh0bWVudSxsaXN0c3R5bGUscGFzdGVmcm9td29yZCxyZW1vdmVmb3JtYXQsc291cmNlYXJlYSxzcGVjaWFsY2hhcic7Q0tFRElUT1IuY29uZmlnLnNraW49J21vb25vJzsoZnVuY3Rpb24oKSB7dmFyIGljb25zID0gKCAnYWJvdXQsMCxib2xkLDMyLGl0YWxpYyw2NCxzdHJpa2UsOTYsc3Vic2NyaXB0LDEyOCxzdXBlcnNjcmlwdCwxNjAsdW5kZXJsaW5lLDE5Mixjb3B5LXJ0bCwyMjQsY29weSwyNTYsY3V0LXJ0bCwyODgsY3V0LDMyMCxwYXN0ZS1ydGwsMzUyLHBhc3RlLDM4NCxidWxsZXRlZGxpc3QtcnRsLDQxNixidWxsZXRlZGxpc3QsNDQ4LG51bWJlcmVkbGlzdC1ydGwsNDgwLG51bWJlcmVkbGlzdCw1MTIsaW5kZW50LXJ0bCw1NDQsaW5kZW50LDU3NixvdXRkZW50LXJ0bCw2MDgsb3V0ZGVudCw2NDAsYW5jaG9yLXJ0bCw2NzIsYW5jaG9yLDcwNCxsaW5rLDczNix1bmxpbmssNzY4LHBhc3RldGV4dC1ydGwsODAwLHBhc3RldGV4dCw4MzIscmVkby1ydGwsODY0LHJlZG8sODk2LHVuZG8tcnRsLDkyOCx1bmRvLDk2MCxob3Jpem9udGFscnVsZSw5OTIscGFzdGVmcm9td29yZC1ydGwsMTAyNCxwYXN0ZWZyb213b3JkLDEwNTYscmVtb3ZlZm9ybWF0LDEwODgsc291cmNlLXJ0bCwxMTIwLHNvdXJjZSwxMTUyLHNwZWNpYWxjaGFyLDExODQnICkscGF0aCA9IENLRURJVE9SLmdldFVybCggJ3BsdWdpbnMvaWNvbnMucG5nJyApLGljb25zID0gaWNvbnMuc3BsaXQoICcsJyApO2ZvciAoIHZhciBpID0gMDsgaSA8IGljb25zLmxlbmd0aDsgaSsrIClDS0VESVRPUi5za2luLmljb25zWyBpY29uc1sgaSBdIF0gPSB7IHBhdGg6IHBhdGgsIG9mZnNldDogLWljb25zWyArK2kgXSB9O30pKCk7Q0tFRElUT1IubGFuZy5sYW5ndWFnZXM9e1wiZW5cIjoxfTt9KCkpO1xuXG5cbiIsIi8qKlxuICogQ29mZmVlU2NyaXB0IENvbXBpbGVyIHYxLjYuMVxuICogaHR0cDovL2NvZmZlZXNjcmlwdC5vcmdcbiAqXG4gKiBDb3B5cmlnaHQgMjAxMSwgSmVyZW15IEFzaGtlbmFzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2VcbiAqL1xuKGZ1bmN0aW9uKHJvb3Qpe3ZhciBDb2ZmZWVTY3JpcHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiByZXF1aXJlKGUpe3JldHVybiByZXF1aXJlW2VdfXJldHVybiByZXF1aXJlW1wiLi9oZWxwZXJzXCJdPW5ldyBmdW5jdGlvbigpe3ZhciBlPXRoaXM7KGZ1bmN0aW9uKCl7dmFyIHQsbixpLHM7ZS5zdGFydHM9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0PT09ZS5zdWJzdHIobix0Lmxlbmd0aCl9LGUuZW5kcz1mdW5jdGlvbihlLHQsbil7dmFyIGk7cmV0dXJuIGk9dC5sZW5ndGgsdD09PWUuc3Vic3RyKGUubGVuZ3RoLWktKG58fDApLGkpfSxlLmNvbXBhY3Q9ZnVuY3Rpb24oZSl7dmFyIHQsbixpLHM7Zm9yKHM9W10sbj0wLGk9ZS5sZW5ndGg7aT5uO24rKyl0PWVbbl0sdCYmcy5wdXNoKHQpO3JldHVybiBzfSxlLmNvdW50PWZ1bmN0aW9uKGUsdCl7dmFyIG4saTtpZihuPWk9MCwhdC5sZW5ndGgpcmV0dXJuIDEvMDtmb3IoO2k9MStlLmluZGV4T2YodCxpKTspbisrO3JldHVybiBufSxlLm1lcmdlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4obih7fSxlKSx0KX0sbj1lLmV4dGVuZD1mdW5jdGlvbihlLHQpe3ZhciBuLGk7Zm9yKG4gaW4gdClpPXRbbl0sZVtuXT1pO3JldHVybiBlfSxlLmZsYXR0ZW49aT1mdW5jdGlvbihlKXt2YXIgdCxuLHMscjtmb3Iobj1bXSxzPTAscj1lLmxlbmd0aDtyPnM7cysrKXQ9ZVtzXSx0IGluc3RhbmNlb2YgQXJyYXk/bj1uLmNvbmNhdChpKHQpKTpuLnB1c2godCk7cmV0dXJuIG59LGUuZGVsPWZ1bmN0aW9uKGUsdCl7dmFyIG47cmV0dXJuIG49ZVt0XSxkZWxldGUgZVt0XSxufSxlLmxhc3Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVtlLmxlbmd0aC0odHx8MCktMV19LGUuc29tZT1udWxsIT0ocz1BcnJheS5wcm90b3R5cGUuc29tZSk/czpmdW5jdGlvbihlKXt2YXIgdCxuLGk7Zm9yKG49MCxpPXRoaXMubGVuZ3RoO2k+bjtuKyspaWYodD10aGlzW25dLGUodCkpcmV0dXJuITA7cmV0dXJuITF9LHQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD97Zmlyc3RfbGluZTplLmZpcnN0X2xpbmUsZmlyc3RfY29sdW1uOmUuZmlyc3RfY29sdW1uLGxhc3RfbGluZTp0Lmxhc3RfbGluZSxsYXN0X2NvbHVtbjp0Lmxhc3RfY29sdW1ufTplfSxlLmFkZExvY2F0aW9uRGF0YUZuPWZ1bmN0aW9uKGUsbil7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiBpJiZpLnVwZGF0ZUxvY2F0aW9uRGF0YUlmTWlzc2luZyYmaS51cGRhdGVMb2NhdGlvbkRhdGFJZk1pc3NpbmcodChlLG4pKSxpfX0sZS5sb2NhdGlvbkRhdGFUb1N0cmluZz1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm5cIjJcImluIGUmJlwiZmlyc3RfbGluZVwiaW4gZVsyXT90PWVbMl06XCJmaXJzdF9saW5lXCJpbiBlJiYodD1lKSx0P1wiXCIrKHQuZmlyc3RfbGluZSsxKStcIjpcIisodC5maXJzdF9jb2x1bW4rMSkrXCItXCIrKFwiXCIrKHQubGFzdF9saW5lKzEpK1wiOlwiKyh0Lmxhc3RfY29sdW1uKzEpKTpcIk5vIGxvY2F0aW9uIGRhdGFcIn0sZS5iYXNlRmlsZU5hbWU9ZnVuY3Rpb24oZSx0KXt2YXIgbjtyZXR1cm4gbnVsbD09dCYmKHQ9ITEpLG49ZS5zcGxpdChcIi9cIiksZT1uW24ubGVuZ3RoLTFdLHQ/KG49ZS5zcGxpdChcIi5cIiksbi5wb3AoKSxcImNvZmZlZVwiPT09bltuLmxlbmd0aC0xXSYmbi5wb3AoKSxuLmpvaW4oXCIuXCIpKTplfSxlLmlzQ29mZmVlPWZ1bmN0aW9uKGUpe3JldHVybi9cXC4oKGxpdCk/Y29mZmVlfGNvZmZlZVxcLm1kKSQvLnRlc3QoZSl9LGUuaXNMaXRlcmF0ZT1mdW5jdGlvbihlKXtyZXR1cm4vXFwuKGxpdGNvZmZlZXxjb2ZmZWVcXC5tZCkkLy50ZXN0KGUpfX0pLmNhbGwodGhpcyl9LHJlcXVpcmVbXCIuL3Jld3JpdGVyXCJdPW5ldyBmdW5jdGlvbigpe3ZhciBlPXRoaXM7KGZ1bmN0aW9uKCl7dmFyIHQsbixpLHMscixhLG8sYyxoLGwsdSxwLGQsZixtLGcsYixrLHksdj1bXS5pbmRleE9mfHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxuPXRoaXMubGVuZ3RoO24+dDt0KyspaWYodCBpbiB0aGlzJiZ0aGlzW3RdPT09ZSlyZXR1cm4gdDtyZXR1cm4tMX0sdz1bXS5zbGljZTtmb3IoZj1mdW5jdGlvbihlLHQpe3ZhciBuO3JldHVybiBuPVtlLHRdLG4uZ2VuZXJhdGVkPSEwLG59LGUuUmV3cml0ZXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLnByb3RvdHlwZS5yZXdyaXRlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRva2Vucz1lLHRoaXMucmVtb3ZlTGVhZGluZ05ld2xpbmVzKCksdGhpcy5yZW1vdmVNaWRFeHByZXNzaW9uTmV3bGluZXMoKSx0aGlzLmNsb3NlT3BlbkNhbGxzKCksdGhpcy5jbG9zZU9wZW5JbmRleGVzKCksdGhpcy5hZGRJbXBsaWNpdEluZGVudGF0aW9uKCksdGhpcy50YWdQb3N0Zml4Q29uZGl0aW9uYWxzKCksdGhpcy5hZGRJbXBsaWNpdEJyYWNlc0FuZFBhcmVucygpLHRoaXMuYWRkTG9jYXRpb25EYXRhVG9HZW5lcmF0ZWRUb2tlbnMoKSx0aGlzLnRva2Vuc30sZS5wcm90b3R5cGUuc2NhblRva2Vucz1mdW5jdGlvbihlKXt2YXIgdCxuLGk7Zm9yKGk9dGhpcy50b2tlbnMsdD0wO249aVt0XTspdCs9ZS5jYWxsKHRoaXMsbix0LGkpO3JldHVybiEwfSxlLnByb3RvdHlwZS5kZXRlY3RFbmQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGEsbyxjLGg7Zm9yKG89dGhpcy50b2tlbnMscj0wO2E9b1tlXTspe2lmKDA9PT1yJiZ0LmNhbGwodGhpcyxhLGUpKXJldHVybiBuLmNhbGwodGhpcyxhLGUpO2lmKCFhfHwwPnIpcmV0dXJuIG4uY2FsbCh0aGlzLGEsZS0xKTtjPWFbMF0sdi5jYWxsKHMsYyk+PTA/cis9MTooaD1hWzBdLHYuY2FsbChpLGgpPj0wJiYoci09MSkpLGUrPTF9cmV0dXJuIGUtMX0sZS5wcm90b3R5cGUucmVtb3ZlTGVhZGluZ05ld2xpbmVzPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLGkscztmb3Iocz10aGlzLnRva2VucyxlPW49MCxpPXMubGVuZ3RoO2k+biYmKHQ9c1tlXVswXSxcIlRFUk1JTkFUT1JcIj09PXQpO2U9KytuKTtyZXR1cm4gZT90aGlzLnRva2Vucy5zcGxpY2UoMCxlKTp2b2lkIDB9LGUucHJvdG90eXBlLnJlbW92ZU1pZEV4cHJlc3Npb25OZXdsaW5lcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNjYW5Ub2tlbnMoZnVuY3Rpb24oZSx0LGkpe3ZhciBzO3JldHVyblwiVEVSTUlOQVRPUlwiPT09ZVswXSYmKHM9dGhpcy50YWcodCsxKSx2LmNhbGwobixzKT49MCk/KGkuc3BsaWNlKHQsMSksMCk6MX0pfSxlLnByb3RvdHlwZS5jbG9zZU9wZW5DYWxscz1mdW5jdGlvbigpe3ZhciBlLHQ7cmV0dXJuIHQ9ZnVuY3Rpb24oZSx0KXt2YXIgbjtyZXR1cm5cIilcIj09PShuPWVbMF0pfHxcIkNBTExfRU5EXCI9PT1ufHxcIk9VVERFTlRcIj09PWVbMF0mJlwiKVwiPT09dGhpcy50YWcodC0xKX0sZT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnRva2Vuc1tcIk9VVERFTlRcIj09PWVbMF0/dC0xOnRdWzBdPVwiQ0FMTF9FTkRcIn0sdGhpcy5zY2FuVG9rZW5zKGZ1bmN0aW9uKG4saSl7cmV0dXJuXCJDQUxMX1NUQVJUXCI9PT1uWzBdJiZ0aGlzLmRldGVjdEVuZChpKzEsdCxlKSwxfSl9LGUucHJvdG90eXBlLmNsb3NlT3BlbkluZGV4ZXM9ZnVuY3Rpb24oKXt2YXIgZSx0O3JldHVybiB0PWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVyblwiXVwiPT09KHQ9ZVswXSl8fFwiSU5ERVhfRU5EXCI9PT10fSxlPWZ1bmN0aW9uKGUpe3JldHVybiBlWzBdPVwiSU5ERVhfRU5EXCJ9LHRoaXMuc2NhblRva2VucyhmdW5jdGlvbihuLGkpe3JldHVyblwiSU5ERVhfU1RBUlRcIj09PW5bMF0mJnRoaXMuZGV0ZWN0RW5kKGkrMSx0LGUpLDF9KX0sZS5wcm90b3R5cGUubWF0Y2hUYWdzPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLGkscyxyLGE7Zm9yKHQ9YXJndW1lbnRzWzBdLGk9YXJndW1lbnRzLmxlbmd0aD49Mj93LmNhbGwoYXJndW1lbnRzLDEpOltdLGU9MCxuPXM9MCxyPWkubGVuZ3RoO3I+PTA/cj5zOnM+cjtuPXI+PTA/KytzOi0tcyl7Zm9yKDtcIkhFUkVDT01NRU5UXCI9PT10aGlzLnRhZyh0K24rZSk7KWUrPTI7aWYobnVsbCE9aVtuXSYmKFwic3RyaW5nXCI9PXR5cGVvZiBpW25dJiYoaVtuXT1baVtuXV0pLGE9dGhpcy50YWcodCtuK2UpLDA+di5jYWxsKGlbbl0sYSkpKXJldHVybiExfXJldHVybiEwfSxlLnByb3RvdHlwZS5sb29rc09iamVjdGlzaD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5tYXRjaFRhZ3MoZSxcIkBcIixudWxsLFwiOlwiKXx8dGhpcy5tYXRjaFRhZ3MoZSxudWxsLFwiOlwiKX0sZS5wcm90b3R5cGUuZmluZFRhZ3NCYWNrd2FyZHM9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGEsbyxjLGgsbDtmb3Iobj1bXTtlPj0wJiYobi5sZW5ndGh8fChvPXRoaXMudGFnKGUpLDA+di5jYWxsKHQsbykmJihjPXRoaXMudGFnKGUpLDA+di5jYWxsKHMsYyl8fHRoaXMudG9rZW5zW2VdLmdlbmVyYXRlZCkmJihoPXRoaXMudGFnKGUpLDA+di5jYWxsKHUsaCkpKSk7KXI9dGhpcy50YWcoZSksdi5jYWxsKGkscik+PTAmJm4ucHVzaCh0aGlzLnRhZyhlKSksYT10aGlzLnRhZyhlKSx2LmNhbGwocyxhKT49MCYmbi5sZW5ndGgmJm4ucG9wKCksZS09MTtyZXR1cm4gbD10aGlzLnRhZyhlKSx2LmNhbGwodCxsKT49MH0sZS5wcm90b3R5cGUuYWRkSW1wbGljaXRCcmFjZXNBbmRQYXJlbnM9ZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gZT1bXSx0aGlzLnNjYW5Ub2tlbnMoZnVuY3Rpb24odCxuLHIpe3ZhciBsLHAsZCxtLGcsYixrLHksdyxULEMsRixMLEUsTix4LEQsUyxBLFIsSSxfLCQsTyxNLGo7aWYoUj10WzBdLFQ9KG4+MD9yW24tMV06W10pWzBdLHk9KHIubGVuZ3RoLTE+bj9yW24rMV06W10pWzBdLE49ZnVuY3Rpb24oKXtyZXR1cm4gZVtlLmxlbmd0aC0xXX0seD1uLGQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG4teCtlfSxtPWZ1bmN0aW9uKCl7dmFyIGUsdDtyZXR1cm4gbnVsbCE9KGU9TigpKT9udWxsIT0odD1lWzJdKT90Lm91cnM6dm9pZCAwOnZvaWQgMH0sZz1mdW5jdGlvbigpe3ZhciBlO3JldHVybiBtKCkmJlwiKFwiPT09KG51bGwhPShlPU4oKSk/ZVswXTp2b2lkIDApfSxrPWZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIG0oKSYmXCJ7XCI9PT0obnVsbCE9KGU9TigpKT9lWzBdOnZvaWQgMCl9LGI9ZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gbSYmXCJDT05UUk9MXCI9PT0obnVsbCE9KGU9TigpKT9lWzBdOnZvaWQgMCl9LEQ9ZnVuY3Rpb24odCl7dmFyIGk7cmV0dXJuIGk9bnVsbCE9dD90Om4sZS5wdXNoKFtcIihcIixpLHtvdXJzOiEwfV0pLHIuc3BsaWNlKGksMCxmKFwiQ0FMTF9TVEFSVFwiLFwiKFwiKSksbnVsbD09dD9uKz0xOnZvaWQgMH0sbD1mdW5jdGlvbigpe3JldHVybiBlLnBvcCgpLHIuc3BsaWNlKG4sMCxmKFwiQ0FMTF9FTkRcIixcIilcIikpLG4rPTF9LFM9ZnVuY3Rpb24odCxpKXt2YXIgcztyZXR1cm4gbnVsbD09aSYmKGk9ITApLHM9bnVsbCE9dD90Om4sZS5wdXNoKFtcIntcIixzLHtzYW1lTGluZTohMCxzdGFydHNMaW5lOmksb3VyczohMH1dKSxyLnNwbGljZShzLDAsZihcIntcIixmKG5ldyBTdHJpbmcoXCJ7XCIpKSkpLG51bGw9PXQ/bis9MTp2b2lkIDB9LHA9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9bnVsbCE9dD90Om4sZS5wb3AoKSxyLnNwbGljZSh0LDAsZihcIn1cIixcIn1cIikpLG4rPTF9LGcoKSYmKFwiSUZcIj09PVJ8fFwiVFJZXCI9PT1SfHxcIkZJTkFMTFlcIj09PVJ8fFwiQ0FUQ0hcIj09PVJ8fFwiQ0xBU1NcIj09PVJ8fFwiU1dJVENIXCI9PT1SKSlyZXR1cm4gZS5wdXNoKFtcIkNPTlRST0xcIixuLHtvdXJzOiEwfV0pLGQoMSk7aWYoXCJJTkRFTlRcIj09PVImJm0oKSl7aWYoXCI9PlwiIT09VCYmXCItPlwiIT09VCYmXCJbXCIhPT1UJiZcIihcIiE9PVQmJlwiLFwiIT09VCYmXCJ7XCIhPT1UJiZcIlRSWVwiIT09VCYmXCJFTFNFXCIhPT1UJiZcIj1cIiE9PVQpZm9yKDtnKCk7KWwoKTtyZXR1cm4gYigpJiZlLnBvcCgpLGUucHVzaChbUixuXSksZCgxKX1pZih2LmNhbGwocyxSKT49MClyZXR1cm4gZS5wdXNoKFtSLG5dKSxkKDEpO2lmKHYuY2FsbChpLFIpPj0wKXtmb3IoO20oKTspZygpP2woKTprKCk/cCgpOmUucG9wKCk7ZS5wb3AoKX1pZigodi5jYWxsKGMsUik+PTAmJnQuc3BhY2VkfHxcIj9cIj09PVImJm4+MCYmIXJbbi0xXS5zcGFjZWQpJiYodi5jYWxsKGEseSk+PTB8fHYuY2FsbChoLHkpPj0wJiYhKG51bGwhPShJPXJbbisxXSk/SS5zcGFjZWQ6dm9pZCAwKSYmIShudWxsIT0oXz1yW24rMV0pP18ubmV3TGluZTp2b2lkIDApKSlyZXR1cm5cIj9cIj09PVImJihSPXRbMF09XCJGVU5DX0VYSVNUXCIpLEQobisxKSxkKDIpO2lmKHRoaXMubWF0Y2hUYWdzKG4sYyxcIklOREVOVFwiLG51bGwsXCI6XCIpJiYhdGhpcy5maW5kVGFnc0JhY2t3YXJkcyhuLFtcIkNMQVNTXCIsXCJFWFRFTkRTXCIsXCJJRlwiLFwiQ0FUQ0hcIixcIlNXSVRDSFwiLFwiTEVBRElOR19XSEVOXCIsXCJGT1JcIixcIldISUxFXCIsXCJVTlRJTFwiXSkpcmV0dXJuIEQobisxKSxlLnB1c2goW1wiSU5ERU5UXCIsbisyXSksZCgzKTtpZihcIjpcIj09PVIpe2ZvcihDPVwiQFwiPT09dGhpcy50YWcobi0yKT9uLTI6bi0xO1wiSEVSRUNPTU1FTlRcIj09PXRoaXMudGFnKEMtMik7KUMtPTI7cmV0dXJuIEE9MD09PUN8fCgkPXRoaXMudGFnKEMtMSksdi5jYWxsKHUsJCk+PTApfHxyW0MtMV0ubmV3TGluZSxOKCkmJihPPU4oKSxFPU9bMF0sTD1PWzFdLChcIntcIj09PUV8fFwiSU5ERU5UXCI9PT1FJiZcIntcIj09PXRoaXMudGFnKEwtMSkpJiYoQXx8XCIsXCI9PT10aGlzLnRhZyhDLTEpfHxcIntcIj09PXRoaXMudGFnKEMtMSkpKT9kKDEpOihTKEMsISFBKSxkKDIpKX1pZihcIk9VVERFTlRcIj09PVQmJmcoKSYmKFwiLlwiPT09Unx8XCI/LlwiPT09Unx8XCI6OlwiPT09Unx8XCI/OjpcIj09PVIpKXJldHVybiBsKCksZCgxKTtpZihrKCkmJnYuY2FsbCh1LFIpPj0wJiYoTigpWzJdLnNhbWVMaW5lPSExKSx2LmNhbGwobyxSKT49MClmb3IoO20oKTspaWYoTT1OKCksRT1NWzBdLEw9TVsxXSxqPU1bMl0sRj1qLnNhbWVMaW5lLEE9ai5zdGFydHNMaW5lLGcoKSYmXCIsXCIhPT1UKWwoKTtlbHNlIGlmKGsoKSYmRiYmIUEpcCgpO2Vsc2V7aWYoIWsoKXx8XCJURVJNSU5BVE9SXCIhPT1SfHxcIixcIj09PVR8fEEmJnRoaXMubG9va3NPYmplY3Rpc2gobisxKSlicmVhaztwKCl9aWYoXCIsXCI9PT1SJiYhdGhpcy5sb29rc09iamVjdGlzaChuKzEpJiZrKCkmJihcIlRFUk1JTkFUT1JcIiE9PXl8fCF0aGlzLmxvb2tzT2JqZWN0aXNoKG4rMikpKWZvcih3PVwiT1VUREVOVFwiPT09eT8xOjA7aygpOylwKG4rdyk7cmV0dXJuIGQoMSl9KX0sZS5wcm90b3R5cGUuYWRkTG9jYXRpb25EYXRhVG9HZW5lcmF0ZWRUb2tlbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zY2FuVG9rZW5zKGZ1bmN0aW9uKGUsdCxuKXt2YXIgaSxzLHIsYSxvO3JldHVybiBlWzJdPzE6ZS5nZW5lcmF0ZWR8fGUuZXhwbGljaXQ/KG89bnVsbCE9KHI9bnVsbCE9KGE9blt0LTFdKT9hWzJdOnZvaWQgMCk/cjp7bGFzdF9saW5lOjAsbGFzdF9jb2x1bW46MH0scz1vLmxhc3RfbGluZSxpPW8ubGFzdF9jb2x1bW4sZVsyXT17Zmlyc3RfbGluZTpzLGZpcnN0X2NvbHVtbjppLGxhc3RfbGluZTpzLGxhc3RfY29sdW1uOml9LDEpOjF9KX0sZS5wcm90b3R5cGUuYWRkSW1wbGljaXRJbmRlbnRhdGlvbj1mdW5jdGlvbigpe3ZhciBlLHQsbixpLHM7cmV0dXJuIHM9bj1pPW51bGwsdD1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm5cIjtcIiE9PWVbMV0mJih0PWVbMF0sdi5jYWxsKHAsdCk+PTApJiYhKFwiRUxTRVwiPT09ZVswXSYmXCJJRlwiIT09cyYmXCJUSEVOXCIhPT1zKX0sZT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnRva2Vucy5zcGxpY2UoXCIsXCI9PT10aGlzLnRhZyh0LTEpP3QtMTp0LDAsaSl9LHRoaXMuc2NhblRva2VucyhmdW5jdGlvbihyLGEsbyl7dmFyIGMsaCxsO3JldHVybiBjPXJbMF0sXCJURVJNSU5BVE9SXCI9PT1jJiZcIlRIRU5cIj09PXRoaXMudGFnKGErMSk/KG8uc3BsaWNlKGEsMSksMCk6XCJFTFNFXCI9PT1jJiZcIk9VVERFTlRcIiE9PXRoaXMudGFnKGEtMSk/KG8uc3BsaWNlLmFwcGx5KG8sW2EsMF0uY29uY2F0KHcuY2FsbCh0aGlzLmluZGVudGF0aW9uKHIpKSkpLDIpOlwiQ0FUQ0hcIiE9PWN8fFwiT1VUREVOVFwiIT09KGg9dGhpcy50YWcoYSsyKSkmJlwiVEVSTUlOQVRPUlwiIT09aCYmXCJGSU5BTExZXCIhPT1oP3YuY2FsbChkLGMpPj0wJiZcIklOREVOVFwiIT09dGhpcy50YWcoYSsxKSYmKFwiRUxTRVwiIT09Y3x8XCJJRlwiIT09dGhpcy50YWcoYSsxKSk/KHM9YyxsPXRoaXMuaW5kZW50YXRpb24ociwhMCksbj1sWzBdLGk9bFsxXSxcIlRIRU5cIj09PXMmJihuLmZyb21UaGVuPSEwKSxvLnNwbGljZShhKzEsMCxuKSx0aGlzLmRldGVjdEVuZChhKzIsdCxlKSxcIlRIRU5cIj09PWMmJm8uc3BsaWNlKGEsMSksMSk6MTooby5zcGxpY2UuYXBwbHkobyxbYSsyLDBdLmNvbmNhdCh3LmNhbGwodGhpcy5pbmRlbnRhdGlvbihyKSkpKSw0KX0pfSxlLnByb3RvdHlwZS50YWdQb3N0Zml4Q29uZGl0aW9uYWxzPWZ1bmN0aW9uKCl7dmFyIGUsdCxuO3JldHVybiBuPW51bGwsdD1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm5cIlRFUk1JTkFUT1JcIj09PSh0PWVbMF0pfHxcIklOREVOVFwiPT09dH0sZT1mdW5jdGlvbihlKXtyZXR1cm5cIklOREVOVFwiIT09ZVswXXx8ZS5nZW5lcmF0ZWQmJiFlLmZyb21UaGVuP25bMF09XCJQT1NUX1wiK25bMF06dm9pZCAwfSx0aGlzLnNjYW5Ub2tlbnMoZnVuY3Rpb24oaSxzKXtyZXR1cm5cIklGXCIhPT1pWzBdPzE6KG49aSx0aGlzLmRldGVjdEVuZChzKzEsdCxlKSwxKX0pfSxlLnByb3RvdHlwZS5pbmRlbnRhdGlvbj1mdW5jdGlvbihlLHQpe3ZhciBuLGk7cmV0dXJuIG51bGw9PXQmJih0PSExKSxuPVtcIklOREVOVFwiLDJdLGk9W1wiT1VUREVOVFwiLDJdLHQmJihuLmdlbmVyYXRlZD1pLmdlbmVyYXRlZD0hMCksdHx8KG4uZXhwbGljaXQ9aS5leHBsaWNpdD0hMCksW24saV19LGUucHJvdG90eXBlLmdlbmVyYXRlPWYsZS5wcm90b3R5cGUudGFnPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBudWxsIT0odD10aGlzLnRva2Vuc1tlXSk/dFswXTp2b2lkIDB9LGV9KCksdD1bW1wiKFwiLFwiKVwiXSxbXCJbXCIsXCJdXCJdLFtcIntcIixcIn1cIl0sW1wiSU5ERU5UXCIsXCJPVVRERU5UXCJdLFtcIkNBTExfU1RBUlRcIixcIkNBTExfRU5EXCJdLFtcIlBBUkFNX1NUQVJUXCIsXCJQQVJBTV9FTkRcIl0sW1wiSU5ERVhfU1RBUlRcIixcIklOREVYX0VORFwiXV0sZS5JTlZFUlNFUz1sPXt9LHM9W10saT1bXSxiPTAsaz10Lmxlbmd0aDtrPmI7YisrKXk9dFtiXSxtPXlbMF0sZz15WzFdLHMucHVzaChsW2ddPW0pLGkucHVzaChsW21dPWcpO249W1wiQ0FUQ0hcIixcIldIRU5cIixcIkVMU0VcIixcIkZJTkFMTFlcIl0uY29uY2F0KGkpLGM9W1wiSURFTlRJRklFUlwiLFwiU1VQRVJcIixcIilcIixcIkNBTExfRU5EXCIsXCJdXCIsXCJJTkRFWF9FTkRcIixcIkBcIixcIlRISVNcIl0sYT1bXCJJREVOVElGSUVSXCIsXCJOVU1CRVJcIixcIlNUUklOR1wiLFwiSlNcIixcIlJFR0VYXCIsXCJORVdcIixcIlBBUkFNX1NUQVJUXCIsXCJDTEFTU1wiLFwiSUZcIixcIlRSWVwiLFwiU1dJVENIXCIsXCJUSElTXCIsXCJCT09MXCIsXCJOVUxMXCIsXCJVTkRFRklORURcIixcIlVOQVJZXCIsXCJTVVBFUlwiLFwiQFwiLFwiLT5cIixcIj0+XCIsXCJbXCIsXCIoXCIsXCJ7XCIsXCItLVwiLFwiKytcIl0saD1bXCIrXCIsXCItXCJdLHI9W1wiLT5cIixcIj0+XCIsXCJ7XCIsXCJbXCIsXCIsXCJdLG89W1wiUE9TVF9JRlwiLFwiRk9SXCIsXCJXSElMRVwiLFwiVU5USUxcIixcIldIRU5cIixcIkJZXCIsXCJMT09QXCIsXCJURVJNSU5BVE9SXCJdLGQ9W1wiRUxTRVwiLFwiLT5cIixcIj0+XCIsXCJUUllcIixcIkZJTkFMTFlcIixcIlRIRU5cIl0scD1bXCJURVJNSU5BVE9SXCIsXCJDQVRDSFwiLFwiRklOQUxMWVwiLFwiRUxTRVwiLFwiT1VUREVOVFwiLFwiTEVBRElOR19XSEVOXCJdLHU9W1wiVEVSTUlOQVRPUlwiLFwiSU5ERU5UXCIsXCJPVVRERU5UXCJdfSkuY2FsbCh0aGlzKX0scmVxdWlyZVtcIi4vbGV4ZXJcIl09bmV3IGZ1bmN0aW9uKCl7dmFyIGU9dGhpczsoZnVuY3Rpb24oKXt2YXIgdCxuLGkscyxyLGEsbyxjLGgsbCx1LHAsZCxmLG0sZyxiLGsseSx2LHcsVCxDLEYsTCxFLE4seCxELFMsQSxSLEksXywkLE8sTSxqLEIsVixQLFUscSxILEcsVyxYLFksSyx6LEosWj1bXS5pbmRleE9mfHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxuPXRoaXMubGVuZ3RoO24+dDt0KyspaWYodCBpbiB0aGlzJiZ0aGlzW3RdPT09ZSlyZXR1cm4gdDtyZXR1cm4tMX07ej1yZXF1aXJlKFwiLi9yZXdyaXRlclwiKSxNPXouUmV3cml0ZXIsaz16LklOVkVSU0VTLEo9cmVxdWlyZShcIi4vaGVscGVyc1wiKSxHPUouY291bnQsSz1KLnN0YXJ0cyxIPUouY29tcGFjdCxYPUoubGFzdCxZPUoubG9jYXRpb25EYXRhVG9TdHJpbmcsZS5MZXhlcj1FPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5wcm90b3R5cGUudG9rZW5pemU9ZnVuY3Rpb24oZSx0KXt2YXIgbixpLHMscjtmb3IobnVsbD09dCYmKHQ9e30pLHRoaXMubGl0ZXJhdGU9dC5saXRlcmF0ZSx0aGlzLmluZGVudD0wLHRoaXMuaW5kZWJ0PTAsdGhpcy5vdXRkZWJ0PTAsdGhpcy5pbmRlbnRzPVtdLHRoaXMuZW5kcz1bXSx0aGlzLnRva2Vucz1bXSx0aGlzLmNodW5rTGluZT10LmxpbmV8fDAsdGhpcy5jaHVua0NvbHVtbj10LmNvbHVtbnx8MCxlPXRoaXMuY2xlYW4oZSksaT0wO3RoaXMuY2h1bms9ZS5zbGljZShpKTspbj10aGlzLmlkZW50aWZpZXJUb2tlbigpfHx0aGlzLmNvbW1lbnRUb2tlbigpfHx0aGlzLndoaXRlc3BhY2VUb2tlbigpfHx0aGlzLmxpbmVUb2tlbigpfHx0aGlzLmhlcmVkb2NUb2tlbigpfHx0aGlzLnN0cmluZ1Rva2VuKCl8fHRoaXMubnVtYmVyVG9rZW4oKXx8dGhpcy5yZWdleFRva2VuKCl8fHRoaXMuanNUb2tlbigpfHx0aGlzLmxpdGVyYWxUb2tlbigpLHI9dGhpcy5nZXRMaW5lQW5kQ29sdW1uRnJvbUNodW5rKG4pLHRoaXMuY2h1bmtMaW5lPXJbMF0sdGhpcy5jaHVua0NvbHVtbj1yWzFdLGkrPW47cmV0dXJuIHRoaXMuY2xvc2VJbmRlbnRhdGlvbigpLChzPXRoaXMuZW5kcy5wb3AoKSkmJnRoaXMuZXJyb3IoXCJtaXNzaW5nIFwiK3MpLHQucmV3cml0ZT09PSExP3RoaXMudG9rZW5zOihuZXcgTSkucmV3cml0ZSh0aGlzLnRva2Vucyl9LGUucHJvdG90eXBlLmNsZWFuPWZ1bmN0aW9uKGUpe3ZhciBuLGkscztyZXR1cm4gZS5jaGFyQ29kZUF0KDApPT09dCYmKGU9ZS5zbGljZSgxKSksZT1lLnJlcGxhY2UoL1xcci9nLFwiXCIpLnJlcGxhY2UoUCxcIlwiKSxxLnRlc3QoZSkmJihlPVwiXFxuXCIrZSx0aGlzLmNodW5rTGluZS0tKSx0aGlzLmxpdGVyYXRlJiYoaT1mdW5jdGlvbigpe3ZhciB0LGkscixhO2ZvcihyPWUuc3BsaXQoXCJcXG5cIiksYT1bXSx0PTAsaT1yLmxlbmd0aDtpPnQ7dCsrKW49clt0XSwocz1GLmV4ZWMobikpP2EucHVzaChuLnNsaWNlKHNbMF0ubGVuZ3RoKSk6YS5wdXNoKFwiIyBcIituKTtyZXR1cm4gYX0oKSxlPWkuam9pbihcIlxcblwiKSksZX0sZS5wcm90b3R5cGUuaWRlbnRpZmllclRva2VuPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLGkscyxjLGgsbCx1LHAsZCxmLG0sYjtyZXR1cm4oaD1nLmV4ZWModGhpcy5jaHVuaykpPyhjPWhbMF0saT1oWzFdLGU9aFsyXSxzPWkubGVuZ3RoLGw9dm9pZCAwLFwib3duXCI9PT1pJiZcIkZPUlwiPT09dGhpcy50YWcoKT8odGhpcy50b2tlbihcIk9XTlwiLGkpLGkubGVuZ3RoKToobj1lfHwodT1YKHRoaXMudG9rZW5zKSkmJihcIi5cIj09PShmPXVbMF0pfHxcIj8uXCI9PT1mfHxcIjo6XCI9PT1mfHxcIj86OlwiPT09Znx8IXUuc3BhY2VkJiZcIkBcIj09PXVbMF0pLHA9XCJJREVOVElGSUVSXCIsIW4mJihaLmNhbGwodyxpKT49MHx8Wi5jYWxsKG8saSk+PTApJiYocD1pLnRvVXBwZXJDYXNlKCksXCJXSEVOXCI9PT1wJiYobT10aGlzLnRhZygpLFouY2FsbChULG0pPj0wKT9wPVwiTEVBRElOR19XSEVOXCI6XCJGT1JcIj09PXA/dGhpcy5zZWVuRm9yPSEwOlwiVU5MRVNTXCI9PT1wP3A9XCJJRlwiOlouY2FsbChVLHApPj0wP3A9XCJVTkFSWVwiOlouY2FsbCgkLHApPj0wJiYoXCJJTlNUQU5DRU9GXCIhPT1wJiZ0aGlzLnNlZW5Gb3I/KHA9XCJGT1JcIitwLHRoaXMuc2VlbkZvcj0hMSk6KHA9XCJSRUxBVElPTlwiLFwiIVwiPT09dGhpcy52YWx1ZSgpJiYobD10aGlzLnRva2Vucy5wb3AoKSxpPVwiIVwiK2kpKSkpLFouY2FsbCh2LGkpPj0wJiYobj8ocD1cIklERU5USUZJRVJcIixpPW5ldyBTdHJpbmcoaSksaS5yZXNlcnZlZD0hMCk6Wi5jYWxsKE8saSk+PTAmJnRoaXMuZXJyb3IoJ3Jlc2VydmVkIHdvcmQgXCInK2krJ1wiJykpLG58fChaLmNhbGwocixpKT49MCYmKGk9YVtpXSkscD1mdW5jdGlvbigpe3N3aXRjaChpKXtjYXNlXCIhXCI6cmV0dXJuXCJVTkFSWVwiO2Nhc2VcIj09XCI6Y2FzZVwiIT1cIjpyZXR1cm5cIkNPTVBBUkVcIjtjYXNlXCImJlwiOmNhc2VcInx8XCI6cmV0dXJuXCJMT0dJQ1wiO2Nhc2VcInRydWVcIjpjYXNlXCJmYWxzZVwiOnJldHVyblwiQk9PTFwiO2Nhc2VcImJyZWFrXCI6Y2FzZVwiY29udGludWVcIjpyZXR1cm5cIlNUQVRFTUVOVFwiO2RlZmF1bHQ6cmV0dXJuIHB9fSgpKSxkPXRoaXMudG9rZW4ocCxpLDAscyksbCYmKGI9W2xbMl0uZmlyc3RfbGluZSxsWzJdLmZpcnN0X2NvbHVtbl0sZFsyXS5maXJzdF9saW5lPWJbMF0sZFsyXS5maXJzdF9jb2x1bW49YlsxXSksZSYmKHQ9Yy5sYXN0SW5kZXhPZihcIjpcIiksdGhpcy50b2tlbihcIjpcIixcIjpcIix0LGUubGVuZ3RoKSksYy5sZW5ndGgpKTowfSxlLnByb3RvdHlwZS5udW1iZXJUb2tlbj1mdW5jdGlvbigpe3ZhciBlLHQsbixpLHM7cmV0dXJuKG49Ui5leGVjKHRoaXMuY2h1bmspKT8oaT1uWzBdLC9eMFtCT1hdLy50ZXN0KGkpP3RoaXMuZXJyb3IoXCJyYWRpeCBwcmVmaXggJ1wiK2krXCInIG11c3QgYmUgbG93ZXJjYXNlXCIpOi9FLy50ZXN0KGkpJiYhL14weC8udGVzdChpKT90aGlzLmVycm9yKFwiZXhwb25lbnRpYWwgbm90YXRpb24gJ1wiK2krXCInIG11c3QgYmUgaW5kaWNhdGVkIHdpdGggYSBsb3dlcmNhc2UgJ2UnXCIpOi9eMFxcZCpbODldLy50ZXN0KGkpP3RoaXMuZXJyb3IoXCJkZWNpbWFsIGxpdGVyYWwgJ1wiK2krXCInIG11c3Qgbm90IGJlIHByZWZpeGVkIHdpdGggJzAnXCIpOi9eMFxcZCsvLnRlc3QoaSkmJnRoaXMuZXJyb3IoXCJvY3RhbCBsaXRlcmFsICdcIitpK1wiJyBtdXN0IGJlIHByZWZpeGVkIHdpdGggJzBvJ1wiKSx0PWkubGVuZ3RoLChzPS9eMG8oWzAtN10rKS8uZXhlYyhpKSkmJihpPVwiMHhcIitwYXJzZUludChzWzFdLDgpLnRvU3RyaW5nKDE2KSksKGU9L14wYihbMDFdKykvLmV4ZWMoaSkpJiYoaT1cIjB4XCIrcGFyc2VJbnQoZVsxXSwyKS50b1N0cmluZygxNikpLHRoaXMudG9rZW4oXCJOVU1CRVJcIixpLDAsdCksdCk6MH0sZS5wcm90b3R5cGUuc3RyaW5nVG9rZW49ZnVuY3Rpb24oKXt2YXIgZSx0LG47c3dpdGNoKHRoaXMuY2h1bmsuY2hhckF0KDApKXtjYXNlXCInXCI6aWYoIShlPUIuZXhlYyh0aGlzLmNodW5rKSkpcmV0dXJuIDA7bj1lWzBdLHRoaXMudG9rZW4oXCJTVFJJTkdcIixuLnJlcGxhY2UoeCxcIlxcXFxcXG5cIiksMCxuLmxlbmd0aCk7YnJlYWs7Y2FzZSdcIic6aWYoIShuPXRoaXMuYmFsYW5jZWRTdHJpbmcodGhpcy5jaHVuaywnXCInKSkpcmV0dXJuIDA7bi5pbmRleE9mKFwiI3tcIiwxKT4wP3RoaXMuaW50ZXJwb2xhdGVTdHJpbmcobi5zbGljZSgxLC0xKSx7c3RyT2Zmc2V0OjEsbGV4ZWRMZW5ndGg6bi5sZW5ndGh9KTp0aGlzLnRva2VuKFwiU1RSSU5HXCIsdGhpcy5lc2NhcGVMaW5lcyhuLDAsbi5sZW5ndGgpKTticmVhaztkZWZhdWx0OnJldHVybiAwfXJldHVybih0PS9eKD86XFxcXC58W15cXFxcXSkqXFxcXCg/OjBbMC03XXxbMS03XSkvLnRlc3QobikpJiZ0aGlzLmVycm9yKFwib2N0YWwgZXNjYXBlIHNlcXVlbmNlcyBcIituK1wiIGFyZSBub3QgYWxsb3dlZFwiKSxuLmxlbmd0aH0sZS5wcm90b3R5cGUuaGVyZWRvY1Rva2VuPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLGk7cmV0dXJuKG49dS5leGVjKHRoaXMuY2h1bmspKT8odD1uWzBdLGk9dC5jaGFyQXQoMCksZT10aGlzLnNhbml0aXplSGVyZWRvYyhuWzJdLHtxdW90ZTppLGluZGVudDpudWxsfSksJ1wiJz09PWkmJmUuaW5kZXhPZihcIiN7XCIpPj0wP3RoaXMuaW50ZXJwb2xhdGVTdHJpbmcoZSx7aGVyZWRvYzohMCxzdHJPZmZzZXQ6MyxsZXhlZExlbmd0aDp0Lmxlbmd0aH0pOnRoaXMudG9rZW4oXCJTVFJJTkdcIix0aGlzLm1ha2VTdHJpbmcoZSxpLCEwKSwwLHQubGVuZ3RoKSx0Lmxlbmd0aCk6MH0sZS5wcm90b3R5cGUuY29tbWVudFRva2VuPWZ1bmN0aW9uKCl7dmFyIGUsdCxuO3JldHVybihuPXRoaXMuY2h1bmsubWF0Y2goYykpPyhlPW5bMF0sdD1uWzFdLHQmJnRoaXMudG9rZW4oXCJIRVJFQ09NTUVOVFwiLHRoaXMuc2FuaXRpemVIZXJlZG9jKHQse2hlcmVjb21tZW50OiEwLGluZGVudDpBcnJheSh0aGlzLmluZGVudCsxKS5qb2luKFwiIFwiKX0pLDAsZS5sZW5ndGgpLGUubGVuZ3RoKTowfSxlLnByb3RvdHlwZS5qc1Rva2VuPWZ1bmN0aW9uKCl7dmFyIGUsdDtyZXR1cm5cImBcIj09PXRoaXMuY2h1bmsuY2hhckF0KDApJiYoZT15LmV4ZWModGhpcy5jaHVuaykpPyh0aGlzLnRva2VuKFwiSlNcIiwodD1lWzBdKS5zbGljZSgxLC0xKSwwLHQubGVuZ3RoKSx0Lmxlbmd0aCk6MH0sZS5wcm90b3R5cGUucmVnZXhUb2tlbj1mdW5jdGlvbigpe3ZhciBlLHQsbixpLHMscixhO3JldHVyblwiL1wiIT09dGhpcy5jaHVuay5jaGFyQXQoMCk/MDoobj1mLmV4ZWModGhpcy5jaHVuaykpP3Q9dGhpcy5oZXJlZ2V4VG9rZW4obik6KGk9WCh0aGlzLnRva2VucyksaSYmKHI9aVswXSxaLmNhbGwoaS5zcGFjZWQ/UzpBLHIpPj0wKT8wOihuPV8uZXhlYyh0aGlzLmNodW5rKSk/KGE9bixuPWFbMF0scz1hWzFdLGU9YVsyXSxcIi8qXCI9PT1zLnNsaWNlKDAsMikmJnRoaXMuZXJyb3IoXCJyZWd1bGFyIGV4cHJlc3Npb25zIGNhbm5vdCBiZWdpbiB3aXRoIGAqYFwiKSxcIi8vXCI9PT1zJiYocz1cIi8oPzopL1wiKSx0aGlzLnRva2VuKFwiUkVHRVhcIixcIlwiK3MrZSwwLG4ubGVuZ3RoKSxuLmxlbmd0aCk6MCl9LGUucHJvdG90eXBlLmhlcmVnZXhUb2tlbj1mdW5jdGlvbihlKXt2YXIgdCxuLGkscyxyLGEsbyxjLGgsbCx1LHAsZCxmLGcsYjtpZihzPWVbMF0sdD1lWzFdLG49ZVsyXSwwPnQuaW5kZXhPZihcIiN7XCIpKXJldHVybiBvPXQucmVwbGFjZShtLFwiXCIpLnJlcGxhY2UoL1xcLy9nLFwiXFxcXC9cIiksby5tYXRjaCgvXlxcKi8pJiZ0aGlzLmVycm9yKFwicmVndWxhciBleHByZXNzaW9ucyBjYW5ub3QgYmVnaW4gd2l0aCBgKmBcIiksdGhpcy50b2tlbihcIlJFR0VYXCIsXCIvXCIrKG98fFwiKD86KVwiKStcIi9cIituLDAscy5sZW5ndGgpLHMubGVuZ3RoO2Zvcih0aGlzLnRva2VuKFwiSURFTlRJRklFUlwiLFwiUmVnRXhwXCIsMCwwKSx0aGlzLnRva2VuKFwiQ0FMTF9TVEFSVFwiLFwiKFwiLDAsMCksbD1bXSxmPXRoaXMuaW50ZXJwb2xhdGVTdHJpbmcodCx7cmVnZXg6ITB9KSxwPTAsZD1mLmxlbmd0aDtkPnA7cCsrKXtpZihoPWZbcF0sYz1oWzBdLHU9aFsxXSxcIlRPS0VOU1wiPT09YylsLnB1c2guYXBwbHkobCx1KTtlbHNlIGlmKFwiTkVPU1RSSU5HXCI9PT1jKXtpZighKHU9dS5yZXBsYWNlKG0sXCJcIikpKWNvbnRpbnVlO3U9dS5yZXBsYWNlKC9cXFxcL2csXCJcXFxcXFxcXFwiKSxoWzBdPVwiU1RSSU5HXCIsaFsxXT10aGlzLm1ha2VTdHJpbmcodSwnXCInLCEwKSxsLnB1c2goaCl9ZWxzZSB0aGlzLmVycm9yKFwiVW5leHBlY3RlZCBcIitjKTthPVgodGhpcy50b2tlbnMpLHI9W1wiK1wiLFwiK1wiXSxyWzJdPWFbMl0sbC5wdXNoKHIpfXJldHVybiBsLnBvcCgpLFwiU1RSSU5HXCIhPT0obnVsbCE9KGc9bFswXSk/Z1swXTp2b2lkIDApJiYodGhpcy50b2tlbihcIlNUUklOR1wiLCdcIlwiJywwLDApLHRoaXMudG9rZW4oXCIrXCIsXCIrXCIsMCwwKSksKGI9dGhpcy50b2tlbnMpLnB1c2guYXBwbHkoYixsKSxuJiYoaT1zLmxhc3RJbmRleE9mKG4pLHRoaXMudG9rZW4oXCIsXCIsXCIsXCIsaSwwKSx0aGlzLnRva2VuKFwiU1RSSU5HXCIsJ1wiJytuKydcIicsaSxuLmxlbmd0aCkpLHRoaXMudG9rZW4oXCIpXCIsXCIpXCIscy5sZW5ndGgtMSwwKSxzLmxlbmd0aH0sZS5wcm90b3R5cGUubGluZVRva2VuPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLGkscztpZighKG49RC5leGVjKHRoaXMuY2h1bmspKSlyZXR1cm4gMDtpZih0PW5bMF0sdGhpcy5zZWVuRm9yPSExLHM9dC5sZW5ndGgtMS10Lmxhc3RJbmRleE9mKFwiXFxuXCIpLGk9dGhpcy51bmZpbmlzaGVkKCkscy10aGlzLmluZGVidD09PXRoaXMuaW5kZW50KXJldHVybiBpP3RoaXMuc3VwcHJlc3NOZXdsaW5lcygpOnRoaXMubmV3bGluZVRva2VuKDApLHQubGVuZ3RoO2lmKHM+dGhpcy5pbmRlbnQpe2lmKGkpcmV0dXJuIHRoaXMuaW5kZWJ0PXMtdGhpcy5pbmRlbnQsdGhpcy5zdXBwcmVzc05ld2xpbmVzKCksdC5sZW5ndGg7ZT1zLXRoaXMuaW5kZW50K3RoaXMub3V0ZGVidCx0aGlzLnRva2VuKFwiSU5ERU5UXCIsZSwwLHQubGVuZ3RoKSx0aGlzLmluZGVudHMucHVzaChlKSx0aGlzLmVuZHMucHVzaChcIk9VVERFTlRcIiksdGhpcy5vdXRkZWJ0PXRoaXMuaW5kZWJ0PTB9ZWxzZSB0aGlzLmluZGVidD0wLHRoaXMub3V0ZGVudFRva2VuKHRoaXMuaW5kZW50LXMsaSx0Lmxlbmd0aCk7cmV0dXJuIHRoaXMuaW5kZW50PXMsdC5sZW5ndGh9LGUucHJvdG90eXBlLm91dGRlbnRUb2tlbj1mdW5jdGlvbihlLHQsbil7Zm9yKHZhciBpLHM7ZT4wOylzPXRoaXMuaW5kZW50cy5sZW5ndGgtMSx2b2lkIDA9PT10aGlzLmluZGVudHNbc10/ZT0wOnRoaXMuaW5kZW50c1tzXT09PXRoaXMub3V0ZGVidD8oZS09dGhpcy5vdXRkZWJ0LHRoaXMub3V0ZGVidD0wKTp0aGlzLmluZGVudHNbc108dGhpcy5vdXRkZWJ0Pyh0aGlzLm91dGRlYnQtPXRoaXMuaW5kZW50c1tzXSxlLT10aGlzLmluZGVudHNbc10pOihpPXRoaXMuaW5kZW50cy5wb3AoKSt0aGlzLm91dGRlYnQsZS09aSx0aGlzLm91dGRlYnQ9MCx0aGlzLnBhaXIoXCJPVVRERU5UXCIpLHRoaXMudG9rZW4oXCJPVVRERU5UXCIsaSwwLG4pKTtmb3IoaSYmKHRoaXMub3V0ZGVidC09ZSk7XCI7XCI9PT10aGlzLnZhbHVlKCk7KXRoaXMudG9rZW5zLnBvcCgpO3JldHVyblwiVEVSTUlOQVRPUlwiPT09dGhpcy50YWcoKXx8dHx8dGhpcy50b2tlbihcIlRFUk1JTkFUT1JcIixcIlxcblwiLG4sMCksdGhpc30sZS5wcm90b3R5cGUud2hpdGVzcGFjZVRva2VuPWZ1bmN0aW9uKCl7dmFyIGUsdCxuO3JldHVybihlPXEuZXhlYyh0aGlzLmNodW5rKSl8fCh0PVwiXFxuXCI9PT10aGlzLmNodW5rLmNoYXJBdCgwKSk/KG49WCh0aGlzLnRva2VucyksbiYmKG5bZT9cInNwYWNlZFwiOlwibmV3TGluZVwiXT0hMCksZT9lWzBdLmxlbmd0aDowKTowfSxlLnByb3RvdHlwZS5uZXdsaW5lVG9rZW49ZnVuY3Rpb24oZSl7Zm9yKDtcIjtcIj09PXRoaXMudmFsdWUoKTspdGhpcy50b2tlbnMucG9wKCk7cmV0dXJuXCJURVJNSU5BVE9SXCIhPT10aGlzLnRhZygpJiZ0aGlzLnRva2VuKFwiVEVSTUlOQVRPUlwiLFwiXFxuXCIsZSwwKSx0aGlzfSxlLnByb3RvdHlwZS5zdXBwcmVzc05ld2xpbmVzPWZ1bmN0aW9uKCl7cmV0dXJuXCJcXFxcXCI9PT10aGlzLnZhbHVlKCkmJnRoaXMudG9rZW5zLnBvcCgpLHRoaXN9LGUucHJvdG90eXBlLmxpdGVyYWxUb2tlbj1mdW5jdGlvbigpe3ZhciBlLHQsbixyLGEsbyxjLHU7aWYoKGU9SS5leGVjKHRoaXMuY2h1bmspKT8ocj1lWzBdLHMudGVzdChyKSYmdGhpcy50YWdQYXJhbWV0ZXJzKCkpOnI9dGhpcy5jaHVuay5jaGFyQXQoMCksbj1yLHQ9WCh0aGlzLnRva2VucyksXCI9XCI9PT1yJiZ0JiYoIXRbMV0ucmVzZXJ2ZWQmJihhPXRbMV0sWi5jYWxsKHYsYSk+PTApJiZ0aGlzLmVycm9yKCdyZXNlcnZlZCB3b3JkIFwiJyt0aGlzLnZhbHVlKCkrXCJcXFwiIGNhbid0IGJlIGFzc2lnbmVkXCIpLFwifHxcIj09PShvPXRbMV0pfHxcIiYmXCI9PT1vKSlyZXR1cm4gdFswXT1cIkNPTVBPVU5EX0FTU0lHTlwiLHRbMV0rPVwiPVwiLHIubGVuZ3RoO2lmKFwiO1wiPT09cil0aGlzLnNlZW5Gb3I9ITEsbj1cIlRFUk1JTkFUT1JcIjtlbHNlIGlmKFouY2FsbChOLHIpPj0wKW49XCJNQVRIXCI7ZWxzZSBpZihaLmNhbGwoaCxyKT49MCluPVwiQ09NUEFSRVwiO2Vsc2UgaWYoWi5jYWxsKGwscik+PTApbj1cIkNPTVBPVU5EX0FTU0lHTlwiO2Vsc2UgaWYoWi5jYWxsKFUscik+PTApbj1cIlVOQVJZXCI7ZWxzZSBpZihaLmNhbGwoaixyKT49MCluPVwiU0hJRlRcIjtlbHNlIGlmKFouY2FsbChMLHIpPj0wfHxcIj9cIj09PXImJihudWxsIT10P3Quc3BhY2VkOnZvaWQgMCkpbj1cIkxPR0lDXCI7ZWxzZSBpZih0JiYhdC5zcGFjZWQpaWYoXCIoXCI9PT1yJiYoYz10WzBdLFouY2FsbChpLGMpPj0wKSlcIj9cIj09PXRbMF0mJih0WzBdPVwiRlVOQ19FWElTVFwiKSxuPVwiQ0FMTF9TVEFSVFwiO2Vsc2UgaWYoXCJbXCI9PT1yJiYodT10WzBdLFouY2FsbChiLHUpPj0wKSlzd2l0Y2gobj1cIklOREVYX1NUQVJUXCIsdFswXSl7Y2FzZVwiP1wiOnRbMF09XCJJTkRFWF9TT0FLXCJ9c3dpdGNoKHIpe2Nhc2VcIihcIjpjYXNlXCJ7XCI6Y2FzZVwiW1wiOnRoaXMuZW5kcy5wdXNoKGtbcl0pO2JyZWFrO2Nhc2VcIilcIjpjYXNlXCJ9XCI6Y2FzZVwiXVwiOnRoaXMucGFpcihyKX1yZXR1cm4gdGhpcy50b2tlbihuLHIpLHIubGVuZ3RofSxlLnByb3RvdHlwZS5zYW5pdGl6ZUhlcmVkb2M9ZnVuY3Rpb24oZSx0KXt2YXIgbixpLHMscixhO2lmKHM9dC5pbmRlbnQsaT10LmhlcmVjb21tZW50KXtpZihwLnRlc3QoZSkmJnRoaXMuZXJyb3IoJ2Jsb2NrIGNvbW1lbnQgY2Fubm90IGNvbnRhaW4gXCIqL1wiLCBzdGFydGluZycpLDA+ZS5pbmRleE9mKFwiXFxuXCIpKXJldHVybiBlfWVsc2UgZm9yKDtyPWQuZXhlYyhlKTspbj1yWzFdLChudWxsPT09c3x8KGE9bi5sZW5ndGgpPjAmJnMubGVuZ3RoPmEpJiYocz1uKTtyZXR1cm4gcyYmKGU9ZS5yZXBsYWNlKFJlZ0V4cChcIlxcXFxuXCIrcyxcImdcIiksXCJcXG5cIikpLHRoaXMubGl0ZXJhdGUmJihlPWUucmVwbGFjZSgvXFxuIyBcXG4vZyxcIlxcblxcblwiKSksaXx8KGU9ZS5yZXBsYWNlKC9eXFxuLyxcIlwiKSksZX0sZS5wcm90b3R5cGUudGFnUGFyYW1ldGVycz1mdW5jdGlvbigpe3ZhciBlLHQsbixpO2lmKFwiKVwiIT09dGhpcy50YWcoKSlyZXR1cm4gdGhpcztmb3IodD1bXSxpPXRoaXMudG9rZW5zLGU9aS5sZW5ndGgsaVstLWVdWzBdPVwiUEFSQU1fRU5EXCI7bj1pWy0tZV07KXN3aXRjaChuWzBdKXtjYXNlXCIpXCI6dC5wdXNoKG4pO2JyZWFrO2Nhc2VcIihcIjpjYXNlXCJDQUxMX1NUQVJUXCI6aWYoIXQubGVuZ3RoKXJldHVyblwiKFwiPT09blswXT8oblswXT1cIlBBUkFNX1NUQVJUXCIsdGhpcyk6dGhpczt0LnBvcCgpfXJldHVybiB0aGlzfSxlLnByb3RvdHlwZS5jbG9zZUluZGVudGF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3V0ZGVudFRva2VuKHRoaXMuaW5kZW50KX0sZS5wcm90b3R5cGUuYmFsYW5jZWRTdHJpbmc9ZnVuY3Rpb24oZSx0KXt2YXIgbixpLHMscixhLG8sYyxoO2ZvcihuPTAsbz1bdF0saT1jPTEsaD1lLmxlbmd0aDtoPj0xP2g+YzpjPmg7aT1oPj0xPysrYzotLWMpaWYobiktLW47ZWxzZXtzd2l0Y2gocz1lLmNoYXJBdChpKSl7Y2FzZVwiXFxcXFwiOisrbjtjb250aW51ZTtjYXNlIHQ6aWYoby5wb3AoKSwhby5sZW5ndGgpcmV0dXJuIGUuc2xpY2UoMCwraSsxfHw5ZTkpO3Q9b1tvLmxlbmd0aC0xXTtjb250aW51ZX1cIn1cIiE9PXR8fCdcIichPT1zJiZcIidcIiE9PXM/XCJ9XCI9PT10JiZcIi9cIj09PXMmJihyPWYuZXhlYyhlLnNsaWNlKGkpKXx8Xy5leGVjKGUuc2xpY2UoaSkpKT9uKz1yWzBdLmxlbmd0aC0xOlwifVwiPT09dCYmXCJ7XCI9PT1zP28ucHVzaCh0PVwifVwiKTonXCInPT09dCYmXCIjXCI9PT1hJiZcIntcIj09PXMmJm8ucHVzaCh0PVwifVwiKTpvLnB1c2godD1zKSxhPXN9cmV0dXJuIHRoaXMuZXJyb3IoXCJtaXNzaW5nIFwiK28ucG9wKCkrXCIsIHN0YXJ0aW5nXCIpfSxlLnByb3RvdHlwZS5pbnRlcnBvbGF0ZVN0cmluZz1mdW5jdGlvbih0LG4pe3ZhciBpLHMscixhLG8sYyxoLGwsdSxwLGQsZixtLGcsYixrLHksdix3LFQsQyxGLEwsRSxOLHgsRDtmb3IobnVsbD09biYmKG49e30pLHI9bi5oZXJlZG9jLHk9bi5yZWdleCxtPW4ub2Zmc2V0SW5DaHVuayx2PW4uc3RyT2Zmc2V0LHU9bi5sZXhlZExlbmd0aCxtPW18fDAsdj12fHwwLHU9dXx8dC5sZW5ndGgsciYmdC5sZW5ndGg+MCYmXCJcXG5cIj09PXRbMF0mJih0PXQuc2xpY2UoMSksdisrKSxDPVtdLGc9MCxhPS0xO2w9dC5jaGFyQXQoYSs9MSk7KVwiXFxcXFwiIT09bD9cIiNcIj09PWwmJlwie1wiPT09dC5jaGFyQXQoYSsxKSYmKHM9dGhpcy5iYWxhbmNlZFN0cmluZyh0LnNsaWNlKGErMSksXCJ9XCIpKSYmKGE+ZyYmQy5wdXNoKHRoaXMubWFrZVRva2VuKFwiTkVPU1RSSU5HXCIsdC5zbGljZShnLGEpLHYrZykpLG89cy5zbGljZSgxLC0xKSxvLmxlbmd0aCYmKE49dGhpcy5nZXRMaW5lQW5kQ29sdW1uRnJvbUNodW5rKHYrYSsxKSxwPU5bMF0saT1OWzFdLGY9KG5ldyBlKS50b2tlbml6ZShvLHtsaW5lOnAsY29sdW1uOmkscmV3cml0ZTohMX0pLGs9Zi5wb3AoKSxcIlRFUk1JTkFUT1JcIj09PShudWxsIT0oeD1mWzBdKT94WzBdOnZvaWQgMCkmJihrPWYuc2hpZnQoKSksKGg9Zi5sZW5ndGgpJiYoaD4xJiYoZi51bnNoaWZ0KHRoaXMubWFrZVRva2VuKFwiKFwiLFwiKFwiLHYrYSsxLDApKSxmLnB1c2godGhpcy5tYWtlVG9rZW4oXCIpXCIsXCIpXCIsdithKzErby5sZW5ndGgsMCkpKSxDLnB1c2goW1wiVE9LRU5TXCIsZl0pKSksYSs9cy5sZW5ndGgsZz1hKzEpOmErPTE7aWYoYT5nJiZ0Lmxlbmd0aD5nJiZDLnB1c2godGhpcy5tYWtlVG9rZW4oXCJORU9TVFJJTkdcIix0LnNsaWNlKGcpLHYrZykpLHkpcmV0dXJuIEM7aWYoIUMubGVuZ3RoKXJldHVybiB0aGlzLnRva2VuKFwiU1RSSU5HXCIsJ1wiXCInLG0sdSk7Zm9yKFwiTkVPU1RSSU5HXCIhPT1DWzBdWzBdJiZDLnVuc2hpZnQodGhpcy5tYWtlVG9rZW4oXCJORU9TVFJJTkdcIixcIlwiLG0pKSwoYz1DLmxlbmd0aD4xKSYmdGhpcy50b2tlbihcIihcIixcIihcIixtLDApLGE9TD0wLEU9Qy5sZW5ndGg7RT5MO2E9KytMKVQ9Q1thXSx3PVRbMF0sRj1UWzFdLGEmJihhJiYoYj10aGlzLnRva2VuKFwiK1wiLFwiK1wiKSksZD1cIlRPS0VOU1wiPT09dz9GWzBdOlQsYlsyXT17Zmlyc3RfbGluZTpkWzJdLmZpcnN0X2xpbmUsZmlyc3RfY29sdW1uOmRbMl0uZmlyc3RfY29sdW1uLGxhc3RfbGluZTpkWzJdLmZpcnN0X2xpbmUsbGFzdF9jb2x1bW46ZFsyXS5maXJzdF9jb2x1bW59KSxcIlRPS0VOU1wiPT09dz8oRD10aGlzLnRva2VucykucHVzaC5hcHBseShELEYpOlwiTkVPU1RSSU5HXCI9PT13PyhUWzBdPVwiU1RSSU5HXCIsVFsxXT10aGlzLm1ha2VTdHJpbmcoRiwnXCInLHIpLHRoaXMudG9rZW5zLnB1c2goVCkpOnRoaXMuZXJyb3IoXCJVbmV4cGVjdGVkIFwiK3cpO3JldHVybiBjJiZ0aGlzLnRva2VuKFwiKVwiLFwiKVwiLG0rdSwwKSxDfSxlLnByb3RvdHlwZS5wYWlyPWZ1bmN0aW9uKGUpe3ZhciB0LG47cmV0dXJuIGUhPT0obj1YKHRoaXMuZW5kcykpPyhcIk9VVERFTlRcIiE9PW4mJnRoaXMuZXJyb3IoXCJ1bm1hdGNoZWQgXCIrZSksdGhpcy5pbmRlbnQtPXQ9WCh0aGlzLmluZGVudHMpLHRoaXMub3V0ZGVudFRva2VuKHQsITApLHRoaXMucGFpcihlKSk6dGhpcy5lbmRzLnBvcCgpfSxlLnByb3RvdHlwZS5nZXRMaW5lQW5kQ29sdW1uRnJvbUNodW5rPWZ1bmN0aW9uKGUpe3ZhciB0LG4saSxzO3JldHVybiAwPT09ZT9bdGhpcy5jaHVua0xpbmUsdGhpcy5jaHVua0NvbHVtbl06KHM9ZT49dGhpcy5jaHVuay5sZW5ndGg/dGhpcy5jaHVuazp0aGlzLmNodW5rLnNsaWNlKDAsKyhlLTEpKzF8fDllOSksbj1HKHMsXCJcXG5cIiksdD10aGlzLmNodW5rQ29sdW1uLG4+MD8oaT1zLnNwbGl0KFwiXFxuXCIpLHQ9WChpKS5sZW5ndGgpOnQrPXMubGVuZ3RoLFt0aGlzLmNodW5rTGluZStuLHRdKX0sZS5wcm90b3R5cGUubWFrZVRva2VuPWZ1bmN0aW9uKGUsdCxuLGkpe3ZhciBzLHIsYSxvLGM7cmV0dXJuIG51bGw9PW4mJihuPTApLG51bGw9PWkmJihpPXQubGVuZ3RoKSxyPXt9LG89dGhpcy5nZXRMaW5lQW5kQ29sdW1uRnJvbUNodW5rKG4pLHIuZmlyc3RfbGluZT1vWzBdLHIuZmlyc3RfY29sdW1uPW9bMV0scz1NYXRoLm1heCgwLGktMSksYz10aGlzLmdldExpbmVBbmRDb2x1bW5Gcm9tQ2h1bmsobisoaS0xKSksci5sYXN0X2xpbmU9Y1swXSxyLmxhc3RfY29sdW1uPWNbMV0sYT1bZSx0LHJdfSxlLnByb3RvdHlwZS50b2tlbj1mdW5jdGlvbihlLHQsbixpKXt2YXIgcztyZXR1cm4gcz10aGlzLm1ha2VUb2tlbihlLHQsbixpKSx0aGlzLnRva2Vucy5wdXNoKHMpLHN9LGUucHJvdG90eXBlLnRhZz1mdW5jdGlvbihlLHQpe3ZhciBuO3JldHVybihuPVgodGhpcy50b2tlbnMsZSkpJiYodD9uWzBdPXQ6blswXSl9LGUucHJvdG90eXBlLnZhbHVlPWZ1bmN0aW9uKGUsdCl7dmFyIG47cmV0dXJuKG49WCh0aGlzLnRva2VucyxlKSkmJih0P25bMV09dDpuWzFdKX0sZS5wcm90b3R5cGUudW5maW5pc2hlZD1mdW5jdGlvbigpe3ZhciBlO3JldHVybiBDLnRlc3QodGhpcy5jaHVuayl8fFwiXFxcXFwiPT09KGU9dGhpcy50YWcoKSl8fFwiLlwiPT09ZXx8XCI/LlwiPT09ZXx8XCI/OjpcIj09PWV8fFwiVU5BUllcIj09PWV8fFwiTUFUSFwiPT09ZXx8XCIrXCI9PT1lfHxcIi1cIj09PWV8fFwiU0hJRlRcIj09PWV8fFwiUkVMQVRJT05cIj09PWV8fFwiQ09NUEFSRVwiPT09ZXx8XCJMT0dJQ1wiPT09ZXx8XCJUSFJPV1wiPT09ZXx8XCJFWFRFTkRTXCI9PT1lfSxlLnByb3RvdHlwZS5lc2NhcGVMaW5lcz1mdW5jdGlvbihlLHQpe3JldHVybiBlLnJlcGxhY2UoeCx0P1wiXFxcXG5cIjpcIlwiKX0sZS5wcm90b3R5cGUubWFrZVN0cmluZz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGU/KGU9ZS5yZXBsYWNlKC9cXFxcKFtcXHNcXFNdKS9nLGZ1bmN0aW9uKGUsbil7cmV0dXJuXCJcXG5cIj09PW58fG49PT10P246ZX0pLGU9ZS5yZXBsYWNlKFJlZ0V4cChcIlwiK3QsXCJnXCIpLFwiXFxcXCQmXCIpLHQrdGhpcy5lc2NhcGVMaW5lcyhlLG4pK3QpOnQrdH0sZS5wcm90b3R5cGUuZXJyb3I9ZnVuY3Rpb24oZSl7dGhyb3cgU3ludGF4RXJyb3IoXCJcIitlK1wiIG9uIGxpbmUgXCIrKHRoaXMuY2h1bmtMaW5lKzEpKX0sZX0oKSx3PVtcInRydWVcIixcImZhbHNlXCIsXCJudWxsXCIsXCJ0aGlzXCIsXCJuZXdcIixcImRlbGV0ZVwiLFwidHlwZW9mXCIsXCJpblwiLFwiaW5zdGFuY2VvZlwiLFwicmV0dXJuXCIsXCJ0aHJvd1wiLFwiYnJlYWtcIixcImNvbnRpbnVlXCIsXCJkZWJ1Z2dlclwiLFwiaWZcIixcImVsc2VcIixcInN3aXRjaFwiLFwiZm9yXCIsXCJ3aGlsZVwiLFwiZG9cIixcInRyeVwiLFwiY2F0Y2hcIixcImZpbmFsbHlcIixcImNsYXNzXCIsXCJleHRlbmRzXCIsXCJzdXBlclwiXSxvPVtcInVuZGVmaW5lZFwiLFwidGhlblwiLFwidW5sZXNzXCIsXCJ1bnRpbFwiLFwibG9vcFwiLFwib2ZcIixcImJ5XCIsXCJ3aGVuXCJdLGE9e2FuZDpcIiYmXCIsb3I6XCJ8fFwiLGlzOlwiPT1cIixpc250OlwiIT1cIixub3Q6XCIhXCIseWVzOlwidHJ1ZVwiLG5vOlwiZmFsc2VcIixvbjpcInRydWVcIixvZmY6XCJmYWxzZVwifSxyPWZ1bmN0aW9uKCl7dmFyIGU7ZT1bXTtmb3IoVyBpbiBhKWUucHVzaChXKTtyZXR1cm4gZX0oKSxvPW8uY29uY2F0KHIpLE89W1wiY2FzZVwiLFwiZGVmYXVsdFwiLFwiZnVuY3Rpb25cIixcInZhclwiLFwidm9pZFwiLFwid2l0aFwiLFwiY29uc3RcIixcImxldFwiLFwiZW51bVwiLFwiZXhwb3J0XCIsXCJpbXBvcnRcIixcIm5hdGl2ZVwiLFwiX19oYXNQcm9wXCIsXCJfX2V4dGVuZHNcIixcIl9fc2xpY2VcIixcIl9fYmluZFwiLFwiX19pbmRleE9mXCIsXCJpbXBsZW1lbnRzXCIsXCJpbnRlcmZhY2VcIixcInBhY2thZ2VcIixcInByaXZhdGVcIixcInByb3RlY3RlZFwiLFwicHVibGljXCIsXCJzdGF0aWNcIixcInlpZWxkXCJdLFY9W1wiYXJndW1lbnRzXCIsXCJldmFsXCJdLHY9dy5jb25jYXQoTykuY29uY2F0KFYpLGUuUkVTRVJWRUQ9Ty5jb25jYXQodykuY29uY2F0KG8pLmNvbmNhdChWKSxlLlNUUklDVF9QUk9TQ1JJQkVEPVYsdD02NTI3OSxnPS9eKFskQS1aYS16X1xceDdmLVxcdWZmZmZdWyRcXHdcXHg3Zi1cXHVmZmZmXSopKFteXFxuXFxTXSo6KD8hOikpPy8sUj0vXjBiWzAxXSt8XjBvWzAtN10rfF4weFtcXGRhLWZdK3xeXFxkKlxcLj9cXGQrKD86ZVsrLV0/XFxkKyk/L2ksdT0vXihcIlwiXCJ8JycnKShbXFxzXFxTXSo/KSg/OlxcblteXFxuXFxTXSopP1xcMS8sST0vXig/OlstPV0+fFstKypcXC8lPD4mfF4hPz1dPXw+Pj49P3woWy0rOl0pXFwxfChbJnw8Pl0pXFwyPT98XFw/KFxcLnw6Oil8XFwuezIsM30pLyxxPS9eW15cXG5cXFNdKy8sYz0vXiMjIyhbXiNdW1xcc1xcU10qPykoPzojIyNbXlxcblxcU10qfCg/OiMjIykkKXxeKD86XFxzKiMoPyEjI1teI10pLiopKy8sRj0vXihbIF17NH18XFx0KS8scz0vXlstPV0+LyxEPS9eKD86XFxuW15cXG5cXFNdKikrLyxCPS9eJ1teXFxcXCddKig/OlxcXFwuW15cXFxcJ10qKSonLyx5PS9eYFteXFxcXGBdKig/OlxcXFwuW15cXFxcYF0qKSpgLyxfPS9eKFxcLyg/IVtcXHM9XSlbXltcXC9cXG5cXFxcXSooPzooPzpcXFxcW1xcc1xcU118XFxbW15cXF1cXG5cXFxcXSooPzpcXFxcW1xcc1xcU11bXlxcXVxcblxcXFxdKikqXSlbXltcXC9cXG5cXFxcXSopKlxcLykoW2ltZ3ldezAsNH0pKD8hXFx3KS8sZj0vXlxcL3szfShbXFxzXFxTXSs/KVxcL3szfShbaW1neV17MCw0fSkoPyFcXHcpLyxtPS9cXHMrKD86Iy4qKT8vZyx4PS9cXG4vZyxkPS9cXG4rKFteXFxuXFxTXSopL2cscD0vXFwqXFwvLyxDPS9eXFxzKig/Oix8XFw/P1xcLig/IVsuXFxkXSl8OjopLyxQPS9cXHMrJC8sbD1bXCItPVwiLFwiKz1cIixcIi89XCIsXCIqPVwiLFwiJT1cIixcInx8PVwiLFwiJiY9XCIsXCI/PVwiLFwiPDw9XCIsXCI+Pj1cIixcIj4+Pj1cIixcIiY9XCIsXCJePVwiLFwifD1cIl0sVT1bXCIhXCIsXCJ+XCIsXCJORVdcIixcIlRZUEVPRlwiLFwiREVMRVRFXCIsXCJET1wiXSxMPVtcIiYmXCIsXCJ8fFwiLFwiJlwiLFwifFwiLFwiXlwiXSxqPVtcIjw8XCIsXCI+PlwiLFwiPj4+XCJdLGg9W1wiPT1cIixcIiE9XCIsXCI8XCIsXCI+XCIsXCI8PVwiLFwiPj1cIl0sTj1bXCIqXCIsXCIvXCIsXCIlXCJdLCQ9W1wiSU5cIixcIk9GXCIsXCJJTlNUQU5DRU9GXCJdLG49W1wiVFJVRVwiLFwiRkFMU0VcIl0sUz1bXCJOVU1CRVJcIixcIlJFR0VYXCIsXCJCT09MXCIsXCJOVUxMXCIsXCJVTkRFRklORURcIixcIisrXCIsXCItLVwiLFwiXVwiXSxBPVMuY29uY2F0KFwiKVwiLFwifVwiLFwiVEhJU1wiLFwiSURFTlRJRklFUlwiLFwiU1RSSU5HXCIpLGk9W1wiSURFTlRJRklFUlwiLFwiU1RSSU5HXCIsXCJSRUdFWFwiLFwiKVwiLFwiXVwiLFwifVwiLFwiP1wiLFwiOjpcIixcIkBcIixcIlRISVNcIixcIlNVUEVSXCJdLGI9aS5jb25jYXQoXCJOVU1CRVJcIixcIkJPT0xcIixcIk5VTExcIixcIlVOREVGSU5FRFwiKSxUPVtcIklOREVOVFwiLFwiT1VUREVOVFwiLFwiVEVSTUlOQVRPUlwiXX0pLmNhbGwodGhpcyl9LHJlcXVpcmVbXCIuL3BhcnNlclwiXT1uZXcgZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy55eT17fX12YXIgdD17dHJhY2U6ZnVuY3Rpb24oKXt9LHl5Ont9LHN5bWJvbHNfOntlcnJvcjoyLFJvb3Q6MyxCb2R5OjQsQmxvY2s6NSxURVJNSU5BVE9SOjYsTGluZTo3LEV4cHJlc3Npb246OCxTdGF0ZW1lbnQ6OSxSZXR1cm46MTAsQ29tbWVudDoxMSxTVEFURU1FTlQ6MTIsVmFsdWU6MTMsSW52b2NhdGlvbjoxNCxDb2RlOjE1LE9wZXJhdGlvbjoxNixBc3NpZ246MTcsSWY6MTgsVHJ5OjE5LFdoaWxlOjIwLEZvcjoyMSxTd2l0Y2g6MjIsQ2xhc3M6MjMsVGhyb3c6MjQsSU5ERU5UOjI1LE9VVERFTlQ6MjYsSWRlbnRpZmllcjoyNyxJREVOVElGSUVSOjI4LEFscGhhTnVtZXJpYzoyOSxOVU1CRVI6MzAsU1RSSU5HOjMxLExpdGVyYWw6MzIsSlM6MzMsUkVHRVg6MzQsREVCVUdHRVI6MzUsVU5ERUZJTkVEOjM2LE5VTEw6MzcsQk9PTDozOCxBc3NpZ25hYmxlOjM5LFwiPVwiOjQwLEFzc2lnbk9iajo0MSxPYmpBc3NpZ25hYmxlOjQyLFwiOlwiOjQzLFRoaXNQcm9wZXJ0eTo0NCxSRVRVUk46NDUsSEVSRUNPTU1FTlQ6NDYsUEFSQU1fU1RBUlQ6NDcsUGFyYW1MaXN0OjQ4LFBBUkFNX0VORDo0OSxGdW5jR2x5cGg6NTAsXCItPlwiOjUxLFwiPT5cIjo1MixPcHRDb21tYTo1MyxcIixcIjo1NCxQYXJhbTo1NSxQYXJhbVZhcjo1NixcIi4uLlwiOjU3LEFycmF5OjU4LE9iamVjdDo1OSxTcGxhdDo2MCxTaW1wbGVBc3NpZ25hYmxlOjYxLEFjY2Vzc29yOjYyLFBhcmVudGhldGljYWw6NjMsUmFuZ2U6NjQsVGhpczo2NSxcIi5cIjo2NixcIj8uXCI6NjcsXCI6OlwiOjY4LFwiPzo6XCI6NjksSW5kZXg6NzAsSU5ERVhfU1RBUlQ6NzEsSW5kZXhWYWx1ZTo3MixJTkRFWF9FTkQ6NzMsSU5ERVhfU09BSzo3NCxTbGljZTo3NSxcIntcIjo3NixBc3NpZ25MaXN0Ojc3LFwifVwiOjc4LENMQVNTOjc5LEVYVEVORFM6ODAsT3B0RnVuY0V4aXN0OjgxLEFyZ3VtZW50czo4MixTVVBFUjo4MyxGVU5DX0VYSVNUOjg0LENBTExfU1RBUlQ6ODUsQ0FMTF9FTkQ6ODYsQXJnTGlzdDo4NyxUSElTOjg4LFwiQFwiOjg5LFwiW1wiOjkwLFwiXVwiOjkxLFJhbmdlRG90czo5MixcIi4uXCI6OTMsQXJnOjk0LFNpbXBsZUFyZ3M6OTUsVFJZOjk2LENhdGNoOjk3LEZJTkFMTFk6OTgsQ0FUQ0g6OTksVEhST1c6MTAwLFwiKFwiOjEwMSxcIilcIjoxMDIsV2hpbGVTb3VyY2U6MTAzLFdISUxFOjEwNCxXSEVOOjEwNSxVTlRJTDoxMDYsTG9vcDoxMDcsTE9PUDoxMDgsRm9yQm9keToxMDksRk9SOjExMCxGb3JTdGFydDoxMTEsRm9yU291cmNlOjExMixGb3JWYXJpYWJsZXM6MTEzLE9XTjoxMTQsRm9yVmFsdWU6MTE1LEZPUklOOjExNixGT1JPRjoxMTcsQlk6MTE4LFNXSVRDSDoxMTksV2hlbnM6MTIwLEVMU0U6MTIxLFdoZW46MTIyLExFQURJTkdfV0hFTjoxMjMsSWZCbG9jazoxMjQsSUY6MTI1LFBPU1RfSUY6MTI2LFVOQVJZOjEyNyxcIi1cIjoxMjgsXCIrXCI6MTI5LFwiLS1cIjoxMzAsXCIrK1wiOjEzMSxcIj9cIjoxMzIsTUFUSDoxMzMsU0hJRlQ6MTM0LENPTVBBUkU6MTM1LExPR0lDOjEzNixSRUxBVElPTjoxMzcsQ09NUE9VTkRfQVNTSUdOOjEzOCwkYWNjZXB0OjAsJGVuZDoxfSx0ZXJtaW5hbHNfOnsyOlwiZXJyb3JcIiw2OlwiVEVSTUlOQVRPUlwiLDEyOlwiU1RBVEVNRU5UXCIsMjU6XCJJTkRFTlRcIiwyNjpcIk9VVERFTlRcIiwyODpcIklERU5USUZJRVJcIiwzMDpcIk5VTUJFUlwiLDMxOlwiU1RSSU5HXCIsMzM6XCJKU1wiLDM0OlwiUkVHRVhcIiwzNTpcIkRFQlVHR0VSXCIsMzY6XCJVTkRFRklORURcIiwzNzpcIk5VTExcIiwzODpcIkJPT0xcIiw0MDpcIj1cIiw0MzpcIjpcIiw0NTpcIlJFVFVSTlwiLDQ2OlwiSEVSRUNPTU1FTlRcIiw0NzpcIlBBUkFNX1NUQVJUXCIsNDk6XCJQQVJBTV9FTkRcIiw1MTpcIi0+XCIsNTI6XCI9PlwiLDU0OlwiLFwiLDU3OlwiLi4uXCIsNjY6XCIuXCIsNjc6XCI/LlwiLDY4OlwiOjpcIiw2OTpcIj86OlwiLDcxOlwiSU5ERVhfU1RBUlRcIiw3MzpcIklOREVYX0VORFwiLDc0OlwiSU5ERVhfU09BS1wiLDc2Olwie1wiLDc4OlwifVwiLDc5OlwiQ0xBU1NcIiw4MDpcIkVYVEVORFNcIiw4MzpcIlNVUEVSXCIsODQ6XCJGVU5DX0VYSVNUXCIsODU6XCJDQUxMX1NUQVJUXCIsODY6XCJDQUxMX0VORFwiLDg4OlwiVEhJU1wiLDg5OlwiQFwiLDkwOlwiW1wiLDkxOlwiXVwiLDkzOlwiLi5cIiw5NjpcIlRSWVwiLDk4OlwiRklOQUxMWVwiLDk5OlwiQ0FUQ0hcIiwxMDA6XCJUSFJPV1wiLDEwMTpcIihcIiwxMDI6XCIpXCIsMTA0OlwiV0hJTEVcIiwxMDU6XCJXSEVOXCIsMTA2OlwiVU5USUxcIiwxMDg6XCJMT09QXCIsMTEwOlwiRk9SXCIsMTE0OlwiT1dOXCIsMTE2OlwiRk9SSU5cIiwxMTc6XCJGT1JPRlwiLDExODpcIkJZXCIsMTE5OlwiU1dJVENIXCIsMTIxOlwiRUxTRVwiLDEyMzpcIkxFQURJTkdfV0hFTlwiLDEyNTpcIklGXCIsMTI2OlwiUE9TVF9JRlwiLDEyNzpcIlVOQVJZXCIsMTI4OlwiLVwiLDEyOTpcIitcIiwxMzA6XCItLVwiLDEzMTpcIisrXCIsMTMyOlwiP1wiLDEzMzpcIk1BVEhcIiwxMzQ6XCJTSElGVFwiLDEzNTpcIkNPTVBBUkVcIiwxMzY6XCJMT0dJQ1wiLDEzNzpcIlJFTEFUSU9OXCIsMTM4OlwiQ09NUE9VTkRfQVNTSUdOXCJ9LHByb2R1Y3Rpb25zXzpbMCxbMywwXSxbMywxXSxbMywyXSxbNCwxXSxbNCwzXSxbNCwyXSxbNywxXSxbNywxXSxbOSwxXSxbOSwxXSxbOSwxXSxbOCwxXSxbOCwxXSxbOCwxXSxbOCwxXSxbOCwxXSxbOCwxXSxbOCwxXSxbOCwxXSxbOCwxXSxbOCwxXSxbOCwxXSxbOCwxXSxbNSwyXSxbNSwzXSxbMjcsMV0sWzI5LDFdLFsyOSwxXSxbMzIsMV0sWzMyLDFdLFszMiwxXSxbMzIsMV0sWzMyLDFdLFszMiwxXSxbMzIsMV0sWzE3LDNdLFsxNyw0XSxbMTcsNV0sWzQxLDFdLFs0MSwzXSxbNDEsNV0sWzQxLDFdLFs0MiwxXSxbNDIsMV0sWzQyLDFdLFsxMCwyXSxbMTAsMV0sWzExLDFdLFsxNSw1XSxbMTUsMl0sWzUwLDFdLFs1MCwxXSxbNTMsMF0sWzUzLDFdLFs0OCwwXSxbNDgsMV0sWzQ4LDNdLFs0OCw0XSxbNDgsNl0sWzU1LDFdLFs1NSwyXSxbNTUsM10sWzU2LDFdLFs1NiwxXSxbNTYsMV0sWzU2LDFdLFs2MCwyXSxbNjEsMV0sWzYxLDJdLFs2MSwyXSxbNjEsMV0sWzM5LDFdLFszOSwxXSxbMzksMV0sWzEzLDFdLFsxMywxXSxbMTMsMV0sWzEzLDFdLFsxMywxXSxbNjIsMl0sWzYyLDJdLFs2MiwyXSxbNjIsMl0sWzYyLDFdLFs2MiwxXSxbNzAsM10sWzcwLDJdLFs3MiwxXSxbNzIsMV0sWzU5LDRdLFs3NywwXSxbNzcsMV0sWzc3LDNdLFs3Nyw0XSxbNzcsNl0sWzIzLDFdLFsyMywyXSxbMjMsM10sWzIzLDRdLFsyMywyXSxbMjMsM10sWzIzLDRdLFsyMyw1XSxbMTQsM10sWzE0LDNdLFsxNCwxXSxbMTQsMl0sWzgxLDBdLFs4MSwxXSxbODIsMl0sWzgyLDRdLFs2NSwxXSxbNjUsMV0sWzQ0LDJdLFs1OCwyXSxbNTgsNF0sWzkyLDFdLFs5MiwxXSxbNjQsNV0sWzc1LDNdLFs3NSwyXSxbNzUsMl0sWzc1LDFdLFs4NywxXSxbODcsM10sWzg3LDRdLFs4Nyw0XSxbODcsNl0sWzk0LDFdLFs5NCwxXSxbOTUsMV0sWzk1LDNdLFsxOSwyXSxbMTksM10sWzE5LDRdLFsxOSw1XSxbOTcsM10sWzk3LDNdLFsyNCwyXSxbNjMsM10sWzYzLDVdLFsxMDMsMl0sWzEwMyw0XSxbMTAzLDJdLFsxMDMsNF0sWzIwLDJdLFsyMCwyXSxbMjAsMl0sWzIwLDFdLFsxMDcsMl0sWzEwNywyXSxbMjEsMl0sWzIxLDJdLFsyMSwyXSxbMTA5LDJdLFsxMDksMl0sWzExMSwyXSxbMTExLDNdLFsxMTUsMV0sWzExNSwxXSxbMTE1LDFdLFsxMTUsMV0sWzExMywxXSxbMTEzLDNdLFsxMTIsMl0sWzExMiwyXSxbMTEyLDRdLFsxMTIsNF0sWzExMiw0XSxbMTEyLDZdLFsxMTIsNl0sWzIyLDVdLFsyMiw3XSxbMjIsNF0sWzIyLDZdLFsxMjAsMV0sWzEyMCwyXSxbMTIyLDNdLFsxMjIsNF0sWzEyNCwzXSxbMTI0LDVdLFsxOCwxXSxbMTgsM10sWzE4LDNdLFsxOCwzXSxbMTYsMl0sWzE2LDJdLFsxNiwyXSxbMTYsMl0sWzE2LDJdLFsxNiwyXSxbMTYsMl0sWzE2LDJdLFsxNiwzXSxbMTYsM10sWzE2LDNdLFsxNiwzXSxbMTYsM10sWzE2LDNdLFsxNiwzXSxbMTYsM10sWzE2LDVdLFsxNiw0XSxbMTYsM11dLHBlcmZvcm1BY3Rpb246ZnVuY3Rpb24oZSx0LG4saSxzLHIsYSl7dmFyIG89ci5sZW5ndGgtMTtzd2l0Y2gocyl7Y2FzZSAxOnJldHVybiB0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihhW29dLGFbb10pKG5ldyBpLkJsb2NrKTtjYXNlIDI6cmV0dXJuIHRoaXMuJD1yW29dO2Nhc2UgMzpyZXR1cm4gdGhpcy4kPXJbby0xXTtjYXNlIDQ6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvXSxhW29dKShpLkJsb2NrLndyYXAoW3Jbb11dKSk7YnJlYWs7Y2FzZSA1OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbby0yXSxhW29dKShyW28tMl0ucHVzaChyW29dKSk7YnJlYWs7Y2FzZSA2OnRoaXMuJD1yW28tMV07YnJlYWs7Y2FzZSA3OnRoaXMuJD1yW29dO2JyZWFrO2Nhc2UgODp0aGlzLiQ9cltvXTticmVhaztjYXNlIDk6dGhpcy4kPXJbb107YnJlYWs7Y2FzZSAxMDp0aGlzLiQ9cltvXTticmVhaztjYXNlIDExOnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbb10sYVtvXSkobmV3IGkuTGl0ZXJhbChyW29dKSk7YnJlYWs7Y2FzZSAxMjp0aGlzLiQ9cltvXTticmVhaztjYXNlIDEzOnRoaXMuJD1yW29dO2JyZWFrO2Nhc2UgMTQ6dGhpcy4kPXJbb107YnJlYWs7Y2FzZSAxNTp0aGlzLiQ9cltvXTticmVhaztjYXNlIDE2OnRoaXMuJD1yW29dO2JyZWFrO2Nhc2UgMTc6dGhpcy4kPXJbb107YnJlYWs7Y2FzZSAxODp0aGlzLiQ9cltvXTticmVhaztjYXNlIDE5OnRoaXMuJD1yW29dO2JyZWFrO2Nhc2UgMjA6dGhpcy4kPXJbb107YnJlYWs7Y2FzZSAyMTp0aGlzLiQ9cltvXTticmVhaztjYXNlIDIyOnRoaXMuJD1yW29dO2JyZWFrO2Nhc2UgMjM6dGhpcy4kPXJbb107YnJlYWs7Y2FzZSAyNDp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihhW28tMV0sYVtvXSkobmV3IGkuQmxvY2spO2JyZWFrO2Nhc2UgMjU6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTJdLGFbb10pKHJbby0xXSk7YnJlYWs7Y2FzZSAyNjp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihhW29dLGFbb10pKG5ldyBpLkxpdGVyYWwocltvXSkpO2JyZWFrO2Nhc2UgMjc6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvXSxhW29dKShuZXcgaS5MaXRlcmFsKHJbb10pKTticmVhaztjYXNlIDI4OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbb10sYVtvXSkobmV3IGkuTGl0ZXJhbChyW29dKSk7YnJlYWs7Y2FzZSAyOTp0aGlzLiQ9cltvXTticmVhaztjYXNlIDMwOnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbb10sYVtvXSkobmV3IGkuTGl0ZXJhbChyW29dKSk7YnJlYWs7Y2FzZSAzMTp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihhW29dLGFbb10pKG5ldyBpLkxpdGVyYWwocltvXSkpO2JyZWFrO2Nhc2UgMzI6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvXSxhW29dKShuZXcgaS5MaXRlcmFsKHJbb10pKTticmVhaztjYXNlIDMzOnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbb10sYVtvXSkobmV3IGkuVW5kZWZpbmVkKTticmVhaztjYXNlIDM0OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbb10sYVtvXSkobmV3IGkuTnVsbCk7YnJlYWs7Y2FzZSAzNTp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihhW29dLGFbb10pKG5ldyBpLkJvb2wocltvXSkpO2JyZWFrO2Nhc2UgMzY6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTJdLGFbb10pKG5ldyBpLkFzc2lnbihyW28tMl0scltvXSkpO2JyZWFrO2Nhc2UgMzc6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTNdLGFbb10pKG5ldyBpLkFzc2lnbihyW28tM10scltvXSkpO2JyZWFrO2Nhc2UgMzg6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTRdLGFbb10pKG5ldyBpLkFzc2lnbihyW28tNF0scltvLTFdKSk7YnJlYWs7Y2FzZSAzOTp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihhW29dLGFbb10pKG5ldyBpLlZhbHVlKHJbb10pKTticmVhaztjYXNlIDQwOnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbby0yXSxhW29dKShuZXcgaS5Bc3NpZ24oaS5hZGRMb2NhdGlvbkRhdGFGbihhW28tMl0pKG5ldyBpLlZhbHVlKHJbby0yXSkpLHJbb10sXCJvYmplY3RcIikpO2JyZWFrO2Nhc2UgNDE6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTRdLGFbb10pKG5ldyBpLkFzc2lnbihpLmFkZExvY2F0aW9uRGF0YUZuKGFbby00XSkobmV3IGkuVmFsdWUocltvLTRdKSkscltvLTFdLFwib2JqZWN0XCIpKTticmVhaztjYXNlIDQyOnRoaXMuJD1yW29dO2JyZWFrO2Nhc2UgNDM6dGhpcy4kPXJbb107YnJlYWs7Y2FzZSA0NDp0aGlzLiQ9cltvXTticmVhaztjYXNlIDQ1OnRoaXMuJD1yW29dO2JyZWFrO2Nhc2UgNDY6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTFdLGFbb10pKG5ldyBpLlJldHVybihyW29dKSk7YnJlYWs7Y2FzZSA0Nzp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihhW29dLGFbb10pKG5ldyBpLlJldHVybik7YnJlYWs7Y2FzZSA0ODp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihhW29dLGFbb10pKG5ldyBpLkNvbW1lbnQocltvXSkpO2JyZWFrO2Nhc2UgNDk6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTRdLGFbb10pKG5ldyBpLkNvZGUocltvLTNdLHJbb10scltvLTFdKSk7YnJlYWs7Y2FzZSA1MDp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihhW28tMV0sYVtvXSkobmV3IGkuQ29kZShbXSxyW29dLHJbby0xXSkpO2JyZWFrO2Nhc2UgNTE6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvXSxhW29dKShcImZ1bmNcIik7YnJlYWs7Y2FzZSA1Mjp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihhW29dLGFbb10pKFwiYm91bmRmdW5jXCIpO2JyZWFrO2Nhc2UgNTM6dGhpcy4kPXJbb107YnJlYWs7Y2FzZSA1NDp0aGlzLiQ9cltvXTticmVhaztjYXNlIDU1OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbb10sYVtvXSkoW10pO2JyZWFrO2Nhc2UgNTY6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvXSxhW29dKShbcltvXV0pO2JyZWFrO2Nhc2UgNTc6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTJdLGFbb10pKHJbby0yXS5jb25jYXQocltvXSkpO2JyZWFrO2Nhc2UgNTg6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTNdLGFbb10pKHJbby0zXS5jb25jYXQocltvXSkpO2JyZWFrO2Nhc2UgNTk6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTVdLGFbb10pKHJbby01XS5jb25jYXQocltvLTJdKSk7YnJlYWs7Y2FzZSA2MDp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihhW29dLGFbb10pKG5ldyBpLlBhcmFtKHJbb10pKTticmVhaztjYXNlIDYxOnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbby0xXSxhW29dKShuZXcgaS5QYXJhbShyW28tMV0sbnVsbCwhMCkpO2JyZWFrO2Nhc2UgNjI6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTJdLGFbb10pKG5ldyBpLlBhcmFtKHJbby0yXSxyW29dKSk7YnJlYWs7Y2FzZSA2Mzp0aGlzLiQ9cltvXTticmVhaztjYXNlIDY0OnRoaXMuJD1yW29dO2JyZWFrO2Nhc2UgNjU6dGhpcy4kPXJbb107YnJlYWs7Y2FzZSA2Njp0aGlzLiQ9cltvXTticmVhaztjYXNlIDY3OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbby0xXSxhW29dKShuZXcgaS5TcGxhdChyW28tMV0pKTticmVhaztjYXNlIDY4OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbb10sYVtvXSkobmV3IGkuVmFsdWUocltvXSkpO2JyZWFrO2Nhc2UgNjk6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTFdLGFbb10pKHJbby0xXS5hZGQocltvXSkpO2JyZWFrO2Nhc2UgNzA6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTFdLGFbb10pKG5ldyBpLlZhbHVlKHJbby0xXSxbXS5jb25jYXQocltvXSkpKTtcbmJyZWFrO2Nhc2UgNzE6dGhpcy4kPXJbb107YnJlYWs7Y2FzZSA3Mjp0aGlzLiQ9cltvXTticmVhaztjYXNlIDczOnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbb10sYVtvXSkobmV3IGkuVmFsdWUocltvXSkpO2JyZWFrO2Nhc2UgNzQ6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvXSxhW29dKShuZXcgaS5WYWx1ZShyW29dKSk7YnJlYWs7Y2FzZSA3NTp0aGlzLiQ9cltvXTticmVhaztjYXNlIDc2OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbb10sYVtvXSkobmV3IGkuVmFsdWUocltvXSkpO2JyZWFrO2Nhc2UgNzc6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvXSxhW29dKShuZXcgaS5WYWx1ZShyW29dKSk7YnJlYWs7Y2FzZSA3ODp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihhW29dLGFbb10pKG5ldyBpLlZhbHVlKHJbb10pKTticmVhaztjYXNlIDc5OnRoaXMuJD1yW29dO2JyZWFrO2Nhc2UgODA6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTFdLGFbb10pKG5ldyBpLkFjY2VzcyhyW29dKSk7YnJlYWs7Y2FzZSA4MTp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihhW28tMV0sYVtvXSkobmV3IGkuQWNjZXNzKHJbb10sXCJzb2FrXCIpKTticmVhaztjYXNlIDgyOnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbby0xXSxhW29dKShbaS5hZGRMb2NhdGlvbkRhdGFGbihhW28tMV0pKG5ldyBpLkFjY2VzcyhuZXcgaS5MaXRlcmFsKFwicHJvdG90eXBlXCIpKSksaS5hZGRMb2NhdGlvbkRhdGFGbihhW29dKShuZXcgaS5BY2Nlc3MocltvXSkpXSk7YnJlYWs7Y2FzZSA4Mzp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihhW28tMV0sYVtvXSkoW2kuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTFdKShuZXcgaS5BY2Nlc3MobmV3IGkuTGl0ZXJhbChcInByb3RvdHlwZVwiKSxcInNvYWtcIikpLGkuYWRkTG9jYXRpb25EYXRhRm4oYVtvXSkobmV3IGkuQWNjZXNzKHJbb10pKV0pO2JyZWFrO2Nhc2UgODQ6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvXSxhW29dKShuZXcgaS5BY2Nlc3MobmV3IGkuTGl0ZXJhbChcInByb3RvdHlwZVwiKSkpO2JyZWFrO2Nhc2UgODU6dGhpcy4kPXJbb107YnJlYWs7Y2FzZSA4Njp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihhW28tMl0sYVtvXSkocltvLTFdKTticmVhaztjYXNlIDg3OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbby0xXSxhW29dKShpLmV4dGVuZChyW29dLHtzb2FrOiEwfSkpO2JyZWFrO2Nhc2UgODg6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvXSxhW29dKShuZXcgaS5JbmRleChyW29dKSk7YnJlYWs7Y2FzZSA4OTp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihhW29dLGFbb10pKG5ldyBpLlNsaWNlKHJbb10pKTticmVhaztjYXNlIDkwOnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbby0zXSxhW29dKShuZXcgaS5PYmoocltvLTJdLHJbby0zXS5nZW5lcmF0ZWQpKTticmVhaztjYXNlIDkxOnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbb10sYVtvXSkoW10pO2JyZWFrO2Nhc2UgOTI6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvXSxhW29dKShbcltvXV0pO2JyZWFrO2Nhc2UgOTM6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTJdLGFbb10pKHJbby0yXS5jb25jYXQocltvXSkpO2JyZWFrO2Nhc2UgOTQ6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTNdLGFbb10pKHJbby0zXS5jb25jYXQocltvXSkpO2JyZWFrO2Nhc2UgOTU6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTVdLGFbb10pKHJbby01XS5jb25jYXQocltvLTJdKSk7YnJlYWs7Y2FzZSA5Njp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihhW29dLGFbb10pKG5ldyBpLkNsYXNzKTticmVhaztjYXNlIDk3OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbby0xXSxhW29dKShuZXcgaS5DbGFzcyhudWxsLG51bGwscltvXSkpO2JyZWFrO2Nhc2UgOTg6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTJdLGFbb10pKG5ldyBpLkNsYXNzKG51bGwscltvXSkpO2JyZWFrO2Nhc2UgOTk6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTNdLGFbb10pKG5ldyBpLkNsYXNzKG51bGwscltvLTFdLHJbb10pKTticmVhaztjYXNlIDEwMDp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihhW28tMV0sYVtvXSkobmV3IGkuQ2xhc3MocltvXSkpO2JyZWFrO2Nhc2UgMTAxOnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbby0yXSxhW29dKShuZXcgaS5DbGFzcyhyW28tMV0sbnVsbCxyW29dKSk7YnJlYWs7Y2FzZSAxMDI6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTNdLGFbb10pKG5ldyBpLkNsYXNzKHJbby0yXSxyW29dKSk7YnJlYWs7Y2FzZSAxMDM6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTRdLGFbb10pKG5ldyBpLkNsYXNzKHJbby0zXSxyW28tMV0scltvXSkpO2JyZWFrO2Nhc2UgMTA0OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbby0yXSxhW29dKShuZXcgaS5DYWxsKHJbby0yXSxyW29dLHJbby0xXSkpO2JyZWFrO2Nhc2UgMTA1OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbby0yXSxhW29dKShuZXcgaS5DYWxsKHJbby0yXSxyW29dLHJbby0xXSkpO2JyZWFrO2Nhc2UgMTA2OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbb10sYVtvXSkobmV3IGkuQ2FsbChcInN1cGVyXCIsW25ldyBpLlNwbGF0KG5ldyBpLkxpdGVyYWwoXCJhcmd1bWVudHNcIikpXSkpO2JyZWFrO2Nhc2UgMTA3OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbby0xXSxhW29dKShuZXcgaS5DYWxsKFwic3VwZXJcIixyW29dKSk7YnJlYWs7Y2FzZSAxMDg6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvXSxhW29dKSghMSk7YnJlYWs7Y2FzZSAxMDk6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvXSxhW29dKSghMCk7YnJlYWs7Y2FzZSAxMTA6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTFdLGFbb10pKFtdKTticmVhaztjYXNlIDExMTp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihhW28tM10sYVtvXSkocltvLTJdKTticmVhaztjYXNlIDExMjp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihhW29dLGFbb10pKG5ldyBpLlZhbHVlKG5ldyBpLkxpdGVyYWwoXCJ0aGlzXCIpKSk7YnJlYWs7Y2FzZSAxMTM6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvXSxhW29dKShuZXcgaS5WYWx1ZShuZXcgaS5MaXRlcmFsKFwidGhpc1wiKSkpO2JyZWFrO2Nhc2UgMTE0OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbby0xXSxhW29dKShuZXcgaS5WYWx1ZShpLmFkZExvY2F0aW9uRGF0YUZuKGFbby0xXSkobmV3IGkuTGl0ZXJhbChcInRoaXNcIikpLFtpLmFkZExvY2F0aW9uRGF0YUZuKGFbb10pKG5ldyBpLkFjY2VzcyhyW29dKSldLFwidGhpc1wiKSk7YnJlYWs7Y2FzZSAxMTU6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTFdLGFbb10pKG5ldyBpLkFycihbXSkpO2JyZWFrO2Nhc2UgMTE2OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbby0zXSxhW29dKShuZXcgaS5BcnIocltvLTJdKSk7YnJlYWs7Y2FzZSAxMTc6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvXSxhW29dKShcImluY2x1c2l2ZVwiKTticmVhaztjYXNlIDExODp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihhW29dLGFbb10pKFwiZXhjbHVzaXZlXCIpO2JyZWFrO2Nhc2UgMTE5OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbby00XSxhW29dKShuZXcgaS5SYW5nZShyW28tM10scltvLTFdLHJbby0yXSkpO2JyZWFrO2Nhc2UgMTIwOnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbby0yXSxhW29dKShuZXcgaS5SYW5nZShyW28tMl0scltvXSxyW28tMV0pKTticmVhaztjYXNlIDEyMTp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihhW28tMV0sYVtvXSkobmV3IGkuUmFuZ2UocltvLTFdLG51bGwscltvXSkpO2JyZWFrO2Nhc2UgMTIyOnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbby0xXSxhW29dKShuZXcgaS5SYW5nZShudWxsLHJbb10scltvLTFdKSk7YnJlYWs7Y2FzZSAxMjM6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvXSxhW29dKShuZXcgaS5SYW5nZShudWxsLG51bGwscltvXSkpO2JyZWFrO2Nhc2UgMTI0OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbb10sYVtvXSkoW3Jbb11dKTticmVhaztjYXNlIDEyNTp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihhW28tMl0sYVtvXSkocltvLTJdLmNvbmNhdChyW29dKSk7YnJlYWs7Y2FzZSAxMjY6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTNdLGFbb10pKHJbby0zXS5jb25jYXQocltvXSkpO2JyZWFrO2Nhc2UgMTI3OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbby0zXSxhW29dKShyW28tMl0pO2JyZWFrO2Nhc2UgMTI4OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbby01XSxhW29dKShyW28tNV0uY29uY2F0KHJbby0yXSkpO2JyZWFrO2Nhc2UgMTI5OnRoaXMuJD1yW29dO2JyZWFrO2Nhc2UgMTMwOnRoaXMuJD1yW29dO2JyZWFrO2Nhc2UgMTMxOnRoaXMuJD1yW29dO2JyZWFrO2Nhc2UgMTMyOnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbby0yXSxhW29dKShbXS5jb25jYXQocltvLTJdLHJbb10pKTticmVhaztjYXNlIDEzMzp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihhW28tMV0sYVtvXSkobmV3IGkuVHJ5KHJbb10pKTticmVhaztjYXNlIDEzNDp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihhW28tMl0sYVtvXSkobmV3IGkuVHJ5KHJbby0xXSxyW29dWzBdLHJbb11bMV0pKTticmVhaztjYXNlIDEzNTp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihhW28tM10sYVtvXSkobmV3IGkuVHJ5KHJbby0yXSxudWxsLG51bGwscltvXSkpO2JyZWFrO2Nhc2UgMTM2OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbby00XSxhW29dKShuZXcgaS5UcnkocltvLTNdLHJbby0yXVswXSxyW28tMl1bMV0scltvXSkpO2JyZWFrO2Nhc2UgMTM3OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbby0yXSxhW29dKShbcltvLTFdLHJbb11dKTticmVhaztjYXNlIDEzODp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihhW28tMl0sYVtvXSkoW2kuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTFdKShuZXcgaS5WYWx1ZShyW28tMV0pKSxyW29dXSk7YnJlYWs7Y2FzZSAxMzk6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTFdLGFbb10pKG5ldyBpLlRocm93KHJbb10pKTticmVhaztjYXNlIDE0MDp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihhW28tMl0sYVtvXSkobmV3IGkuUGFyZW5zKHJbby0xXSkpO2JyZWFrO2Nhc2UgMTQxOnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbby00XSxhW29dKShuZXcgaS5QYXJlbnMocltvLTJdKSk7YnJlYWs7Y2FzZSAxNDI6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTFdLGFbb10pKG5ldyBpLldoaWxlKHJbb10pKTticmVhaztjYXNlIDE0Mzp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihhW28tM10sYVtvXSkobmV3IGkuV2hpbGUocltvLTJdLHtndWFyZDpyW29dfSkpO2JyZWFrO2Nhc2UgMTQ0OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbby0xXSxhW29dKShuZXcgaS5XaGlsZShyW29dLHtpbnZlcnQ6ITB9KSk7YnJlYWs7Y2FzZSAxNDU6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTNdLGFbb10pKG5ldyBpLldoaWxlKHJbby0yXSx7aW52ZXJ0OiEwLGd1YXJkOnJbb119KSk7YnJlYWs7Y2FzZSAxNDY6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTFdLGFbb10pKHJbby0xXS5hZGRCb2R5KHJbb10pKTticmVhaztjYXNlIDE0Nzp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihhW28tMV0sYVtvXSkocltvXS5hZGRCb2R5KGkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTFdKShpLkJsb2NrLndyYXAoW3Jbby0xXV0pKSkpO2JyZWFrO2Nhc2UgMTQ4OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbby0xXSxhW29dKShyW29dLmFkZEJvZHkoaS5hZGRMb2NhdGlvbkRhdGFGbihhW28tMV0pKGkuQmxvY2sud3JhcChbcltvLTFdXSkpKSk7YnJlYWs7Y2FzZSAxNDk6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvXSxhW29dKShyW29dKTticmVhaztjYXNlIDE1MDp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihhW28tMV0sYVtvXSkobmV3IGkuV2hpbGUoaS5hZGRMb2NhdGlvbkRhdGFGbihhW28tMV0pKG5ldyBpLkxpdGVyYWwoXCJ0cnVlXCIpKSkuYWRkQm9keShyW29dKSk7YnJlYWs7Y2FzZSAxNTE6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTFdLGFbb10pKG5ldyBpLldoaWxlKGkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTFdKShuZXcgaS5MaXRlcmFsKFwidHJ1ZVwiKSkpLmFkZEJvZHkoaS5hZGRMb2NhdGlvbkRhdGFGbihhW29dKShpLkJsb2NrLndyYXAoW3Jbb11dKSkpKTticmVhaztjYXNlIDE1Mjp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihhW28tMV0sYVtvXSkobmV3IGkuRm9yKHJbby0xXSxyW29dKSk7YnJlYWs7Y2FzZSAxNTM6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTFdLGFbb10pKG5ldyBpLkZvcihyW28tMV0scltvXSkpO2JyZWFrO2Nhc2UgMTU0OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbby0xXSxhW29dKShuZXcgaS5Gb3IocltvXSxyW28tMV0pKTticmVhaztjYXNlIDE1NTp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihhW28tMV0sYVtvXSkoe3NvdXJjZTppLmFkZExvY2F0aW9uRGF0YUZuKGFbb10pKG5ldyBpLlZhbHVlKHJbb10pKX0pO2JyZWFrO2Nhc2UgMTU2OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbby0xXSxhW29dKShmdW5jdGlvbigpe3JldHVybiByW29dLm93bj1yW28tMV0ub3duLHJbb10ubmFtZT1yW28tMV1bMF0scltvXS5pbmRleD1yW28tMV1bMV0scltvXX0oKSk7YnJlYWs7Y2FzZSAxNTc6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTFdLGFbb10pKHJbb10pO2JyZWFrO2Nhc2UgMTU4OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbby0yXSxhW29dKShmdW5jdGlvbigpe3JldHVybiByW29dLm93bj0hMCxyW29dfSgpKTticmVhaztjYXNlIDE1OTp0aGlzLiQ9cltvXTticmVhaztjYXNlIDE2MDp0aGlzLiQ9cltvXTticmVhaztjYXNlIDE2MTp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihhW29dLGFbb10pKG5ldyBpLlZhbHVlKHJbb10pKTticmVhaztjYXNlIDE2Mjp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihhW29dLGFbb10pKG5ldyBpLlZhbHVlKHJbb10pKTticmVhaztjYXNlIDE2Mzp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihhW29dLGFbb10pKFtyW29dXSk7YnJlYWs7Y2FzZSAxNjQ6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTJdLGFbb10pKFtyW28tMl0scltvXV0pO2JyZWFrO2Nhc2UgMTY1OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbby0xXSxhW29dKSh7c291cmNlOnJbb119KTticmVhaztjYXNlIDE2Njp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihhW28tMV0sYVtvXSkoe3NvdXJjZTpyW29dLG9iamVjdDohMH0pO2JyZWFrO2Nhc2UgMTY3OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbby0zXSxhW29dKSh7c291cmNlOnJbby0yXSxndWFyZDpyW29dfSk7YnJlYWs7Y2FzZSAxNjg6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTNdLGFbb10pKHtzb3VyY2U6cltvLTJdLGd1YXJkOnJbb10sb2JqZWN0OiEwfSk7YnJlYWs7Y2FzZSAxNjk6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTNdLGFbb10pKHtzb3VyY2U6cltvLTJdLHN0ZXA6cltvXX0pO2JyZWFrO2Nhc2UgMTcwOnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbby01XSxhW29dKSh7c291cmNlOnJbby00XSxndWFyZDpyW28tMl0sc3RlcDpyW29dfSk7YnJlYWs7Y2FzZSAxNzE6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTVdLGFbb10pKHtzb3VyY2U6cltvLTRdLHN0ZXA6cltvLTJdLGd1YXJkOnJbb119KTticmVhaztjYXNlIDE3Mjp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihhW28tNF0sYVtvXSkobmV3IGkuU3dpdGNoKHJbby0zXSxyW28tMV0pKTticmVhaztjYXNlIDE3Mzp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihhW28tNl0sYVtvXSkobmV3IGkuU3dpdGNoKHJbby01XSxyW28tM10scltvLTFdKSk7YnJlYWs7Y2FzZSAxNzQ6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTNdLGFbb10pKG5ldyBpLlN3aXRjaChudWxsLHJbby0xXSkpO2JyZWFrO2Nhc2UgMTc1OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbby01XSxhW29dKShuZXcgaS5Td2l0Y2gobnVsbCxyW28tM10scltvLTFdKSk7YnJlYWs7Y2FzZSAxNzY6dGhpcy4kPXJbb107YnJlYWs7Y2FzZSAxNzc6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTFdLGFbb10pKHJbby0xXS5jb25jYXQocltvXSkpO2JyZWFrO2Nhc2UgMTc4OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbby0yXSxhW29dKShbW3Jbby0xXSxyW29dXV0pO2JyZWFrO2Nhc2UgMTc5OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbby0zXSxhW29dKShbW3Jbby0yXSxyW28tMV1dXSk7YnJlYWs7Y2FzZSAxODA6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTJdLGFbb10pKG5ldyBpLklmKHJbby0xXSxyW29dLHt0eXBlOnJbby0yXX0pKTticmVhaztjYXNlIDE4MTp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihhW28tNF0sYVtvXSkocltvLTRdLmFkZEVsc2UobmV3IGkuSWYocltvLTFdLHJbb10se3R5cGU6cltvLTJdfSkpKTticmVhaztjYXNlIDE4Mjp0aGlzLiQ9cltvXTticmVhaztjYXNlIDE4Mzp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihhW28tMl0sYVtvXSkocltvLTJdLmFkZEVsc2UocltvXSkpO2JyZWFrO2Nhc2UgMTg0OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbby0yXSxhW29dKShuZXcgaS5JZihyW29dLGkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTJdKShpLkJsb2NrLndyYXAoW3Jbby0yXV0pKSx7dHlwZTpyW28tMV0sc3RhdGVtZW50OiEwfSkpO2JyZWFrO2Nhc2UgMTg1OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbby0yXSxhW29dKShuZXcgaS5JZihyW29dLGkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTJdKShpLkJsb2NrLndyYXAoW3Jbby0yXV0pKSx7dHlwZTpyW28tMV0sc3RhdGVtZW50OiEwfSkpO2JyZWFrO2Nhc2UgMTg2OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbby0xXSxhW29dKShuZXcgaS5PcChyW28tMV0scltvXSkpO2JyZWFrO2Nhc2UgMTg3OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbby0xXSxhW29dKShuZXcgaS5PcChcIi1cIixyW29dKSk7YnJlYWs7Y2FzZSAxODg6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTFdLGFbb10pKG5ldyBpLk9wKFwiK1wiLHJbb10pKTticmVhaztjYXNlIDE4OTp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihhW28tMV0sYVtvXSkobmV3IGkuT3AoXCItLVwiLHJbb10pKTticmVhaztjYXNlIDE5MDp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihhW28tMV0sYVtvXSkobmV3IGkuT3AoXCIrK1wiLHJbb10pKTticmVhaztjYXNlIDE5MTp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihhW28tMV0sYVtvXSkobmV3IGkuT3AoXCItLVwiLHJbby0xXSxudWxsLCEwKSk7YnJlYWs7Y2FzZSAxOTI6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTFdLGFbb10pKG5ldyBpLk9wKFwiKytcIixyW28tMV0sbnVsbCwhMCkpO2JyZWFrO2Nhc2UgMTkzOnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbby0xXSxhW29dKShuZXcgaS5FeGlzdGVuY2UocltvLTFdKSk7YnJlYWs7Y2FzZSAxOTQ6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTJdLGFbb10pKG5ldyBpLk9wKFwiK1wiLHJbby0yXSxyW29dKSk7YnJlYWs7Y2FzZSAxOTU6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTJdLGFbb10pKG5ldyBpLk9wKFwiLVwiLHJbby0yXSxyW29dKSk7YnJlYWs7Y2FzZSAxOTY6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTJdLGFbb10pKG5ldyBpLk9wKHJbby0xXSxyW28tMl0scltvXSkpO2JyZWFrO2Nhc2UgMTk3OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbby0yXSxhW29dKShuZXcgaS5PcChyW28tMV0scltvLTJdLHJbb10pKTticmVhaztjYXNlIDE5ODp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihhW28tMl0sYVtvXSkobmV3IGkuT3AocltvLTFdLHJbby0yXSxyW29dKSk7YnJlYWs7Y2FzZSAxOTk6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTJdLGFbb10pKG5ldyBpLk9wKHJbby0xXSxyW28tMl0scltvXSkpO2JyZWFrO2Nhc2UgMjAwOnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbby0yXSxhW29dKShmdW5jdGlvbigpe3JldHVyblwiIVwiPT09cltvLTFdLmNoYXJBdCgwKT9uZXcgaS5PcChyW28tMV0uc2xpY2UoMSkscltvLTJdLHJbb10pLmludmVydCgpOm5ldyBpLk9wKHJbby0xXSxyW28tMl0scltvXSl9KCkpO2JyZWFrO2Nhc2UgMjAxOnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbby0yXSxhW29dKShuZXcgaS5Bc3NpZ24ocltvLTJdLHJbb10scltvLTFdKSk7YnJlYWs7Y2FzZSAyMDI6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTRdLGFbb10pKG5ldyBpLkFzc2lnbihyW28tNF0scltvLTFdLHJbby0zXSkpO2JyZWFrO2Nhc2UgMjAzOnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKGFbby0zXSxhW29dKShuZXcgaS5Bc3NpZ24ocltvLTNdLHJbb10scltvLTJdKSk7YnJlYWs7Y2FzZSAyMDQ6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4oYVtvLTJdLGFbb10pKG5ldyBpLkV4dGVuZHMocltvLTJdLHJbb10pKX19LHRhYmxlOlt7MTpbMiwxXSwzOjEsNDoyLDU6Myw3OjQsODo2LDk6NywxMDoyMCwxMToyMSwxMjpbMSwyMl0sMTM6OCwxNDo5LDE1OjEwLDE2OjExLDE3OjEyLDE4OjEzLDE5OjE0LDIwOjE1LDIxOjE2LDIyOjE3LDIzOjE4LDI0OjE5LDI1OlsxLDVdLDI3OjYyLDI4OlsxLDczXSwyOTo0OSwzMDpbMSw3MV0sMzE6WzEsNzJdLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OlsxLDUzXSwzNzpbMSw1NF0sMzg6WzEsNTVdLDM5OjIzLDQ0OjYzLDQ1OlsxLDQ1XSw0NjpbMSw0Nl0sNDc6WzEsMjldLDUwOjMwLDUxOlsxLDYwXSw1MjpbMSw2MV0sNTg6NDcsNTk6NDgsNjE6MzYsNjM6MjUsNjQ6MjYsNjU6MjcsNzY6WzEsNzBdLDc5OlsxLDQzXSw4MzpbMSwyOF0sODg6WzEsNThdLDg5OlsxLDU5XSw5MDpbMSw1N10sOTY6WzEsMzhdLDEwMDpbMSw0NF0sMTAxOlsxLDU2XSwxMDM6MzksMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwNzo0MCwxMDg6WzEsNjddLDEwOTo0MSwxMTA6WzEsNjhdLDExMTo2OSwxMTk6WzEsNDJdLDEyNDozNywxMjU6WzEsNjRdLDEyNzpbMSwzMV0sMTI4OlsxLDMyXSwxMjk6WzEsMzNdLDEzMDpbMSwzNF0sMTMxOlsxLDM1XX0sezE6WzNdfSx7MTpbMiwyXSw2OlsxLDc0XX0sezY6WzEsNzVdfSx7MTpbMiw0XSw2OlsyLDRdLDI2OlsyLDRdLDEwMjpbMiw0XX0sezQ6NzcsNzo0LDg6Niw5OjcsMTA6MjAsMTE6MjEsMTI6WzEsMjJdLDEzOjgsMTQ6OSwxNToxMCwxNjoxMSwxNzoxMiwxODoxMywxOToxNCwyMDoxNSwyMToxNiwyMjoxNywyMzoxOCwyNDoxOSwyNjpbMSw3Nl0sMjc6NjIsMjg6WzEsNzNdLDI5OjQ5LDMwOlsxLDcxXSwzMTpbMSw3Ml0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6WzEsNTNdLDM3OlsxLDU0XSwzODpbMSw1NV0sMzk6MjMsNDQ6NjMsNDU6WzEsNDVdLDQ2OlsxLDQ2XSw0NzpbMSwyOV0sNTA6MzAsNTE6WzEsNjBdLDUyOlsxLDYxXSw1ODo0Nyw1OTo0OCw2MTozNiw2MzoyNSw2NDoyNiw2NToyNyw3NjpbMSw3MF0sNzk6WzEsNDNdLDgzOlsxLDI4XSw4ODpbMSw1OF0sODk6WzEsNTldLDkwOlsxLDU3XSw5NjpbMSwzOF0sMTAwOlsxLDQ0XSwxMDE6WzEsNTZdLDEwMzozOSwxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA3OjQwLDEwODpbMSw2N10sMTA5OjQxLDExMDpbMSw2OF0sMTExOjY5LDExOTpbMSw0Ml0sMTI0OjM3LDEyNTpbMSw2NF0sMTI3OlsxLDMxXSwxMjg6WzEsMzJdLDEyOTpbMSwzM10sMTMwOlsxLDM0XSwxMzE6WzEsMzVdfSx7MTpbMiw3XSw2OlsyLDddLDI2OlsyLDddLDEwMjpbMiw3XSwxMDM6ODcsMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwOTo4OCwxMTA6WzEsNjhdLDExMTo2OSwxMjY6WzEsODZdLDEyODpbMSw4MF0sMTI5OlsxLDc5XSwxMzI6WzEsNzhdLDEzMzpbMSw4MV0sMTM0OlsxLDgyXSwxMzU6WzEsODNdLDEzNjpbMSw4NF0sMTM3OlsxLDg1XX0sezE6WzIsOF0sNjpbMiw4XSwyNjpbMiw4XSwxMDI6WzIsOF0sMTAzOjkwLDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDk6OTEsMTEwOlsxLDY4XSwxMTE6NjksMTI2OlsxLDg5XX0sezE6WzIsMTJdLDY6WzIsMTJdLDI1OlsyLDEyXSwyNjpbMiwxMl0sNDk6WzIsMTJdLDU0OlsyLDEyXSw1NzpbMiwxMl0sNjI6OTMsNjY6WzEsOTVdLDY3OlsxLDk2XSw2ODpbMSw5N10sNjk6WzEsOThdLDcwOjk5LDcxOlsxLDEwMF0sNzM6WzIsMTJdLDc0OlsxLDEwMV0sNzg6WzIsMTJdLDgxOjkyLDg0OlsxLDk0XSw4NTpbMiwxMDhdLDg2OlsyLDEyXSw5MTpbMiwxMl0sOTM6WzIsMTJdLDEwMjpbMiwxMl0sMTA0OlsyLDEyXSwxMDU6WzIsMTJdLDEwNjpbMiwxMl0sMTEwOlsyLDEyXSwxMTg6WzIsMTJdLDEyNjpbMiwxMl0sMTI4OlsyLDEyXSwxMjk6WzIsMTJdLDEzMjpbMiwxMl0sMTMzOlsyLDEyXSwxMzQ6WzIsMTJdLDEzNTpbMiwxMl0sMTM2OlsyLDEyXSwxMzc6WzIsMTJdfSx7MTpbMiwxM10sNjpbMiwxM10sMjU6WzIsMTNdLDI2OlsyLDEzXSw0OTpbMiwxM10sNTQ6WzIsMTNdLDU3OlsyLDEzXSw2MjoxMDMsNjY6WzEsOTVdLDY3OlsxLDk2XSw2ODpbMSw5N10sNjk6WzEsOThdLDcwOjk5LDcxOlsxLDEwMF0sNzM6WzIsMTNdLDc0OlsxLDEwMV0sNzg6WzIsMTNdLDgxOjEwMiw4NDpbMSw5NF0sODU6WzIsMTA4XSw4NjpbMiwxM10sOTE6WzIsMTNdLDkzOlsyLDEzXSwxMDI6WzIsMTNdLDEwNDpbMiwxM10sMTA1OlsyLDEzXSwxMDY6WzIsMTNdLDExMDpbMiwxM10sMTE4OlsyLDEzXSwxMjY6WzIsMTNdLDEyODpbMiwxM10sMTI5OlsyLDEzXSwxMzI6WzIsMTNdLDEzMzpbMiwxM10sMTM0OlsyLDEzXSwxMzU6WzIsMTNdLDEzNjpbMiwxM10sMTM3OlsyLDEzXX0sezE6WzIsMTRdLDY6WzIsMTRdLDI1OlsyLDE0XSwyNjpbMiwxNF0sNDk6WzIsMTRdLDU0OlsyLDE0XSw1NzpbMiwxNF0sNzM6WzIsMTRdLDc4OlsyLDE0XSw4NjpbMiwxNF0sOTE6WzIsMTRdLDkzOlsyLDE0XSwxMDI6WzIsMTRdLDEwNDpbMiwxNF0sMTA1OlsyLDE0XSwxMDY6WzIsMTRdLDExMDpbMiwxNF0sMTE4OlsyLDE0XSwxMjY6WzIsMTRdLDEyODpbMiwxNF0sMTI5OlsyLDE0XSwxMzI6WzIsMTRdLDEzMzpbMiwxNF0sMTM0OlsyLDE0XSwxMzU6WzIsMTRdLDEzNjpbMiwxNF0sMTM3OlsyLDE0XX0sezE6WzIsMTVdLDY6WzIsMTVdLDI1OlsyLDE1XSwyNjpbMiwxNV0sNDk6WzIsMTVdLDU0OlsyLDE1XSw1NzpbMiwxNV0sNzM6WzIsMTVdLDc4OlsyLDE1XSw4NjpbMiwxNV0sOTE6WzIsMTVdLDkzOlsyLDE1XSwxMDI6WzIsMTVdLDEwNDpbMiwxNV0sMTA1OlsyLDE1XSwxMDY6WzIsMTVdLDExMDpbMiwxNV0sMTE4OlsyLDE1XSwxMjY6WzIsMTVdLDEyODpbMiwxNV0sMTI5OlsyLDE1XSwxMzI6WzIsMTVdLDEzMzpbMiwxNV0sMTM0OlsyLDE1XSwxMzU6WzIsMTVdLDEzNjpbMiwxNV0sMTM3OlsyLDE1XX0sezE6WzIsMTZdLDY6WzIsMTZdLDI1OlsyLDE2XSwyNjpbMiwxNl0sNDk6WzIsMTZdLDU0OlsyLDE2XSw1NzpbMiwxNl0sNzM6WzIsMTZdLDc4OlsyLDE2XSw4NjpbMiwxNl0sOTE6WzIsMTZdLDkzOlsyLDE2XSwxMDI6WzIsMTZdLDEwNDpbMiwxNl0sMTA1OlsyLDE2XSwxMDY6WzIsMTZdLDExMDpbMiwxNl0sMTE4OlsyLDE2XSwxMjY6WzIsMTZdLDEyODpbMiwxNl0sMTI5OlsyLDE2XSwxMzI6WzIsMTZdLDEzMzpbMiwxNl0sMTM0OlsyLDE2XSwxMzU6WzIsMTZdLDEzNjpbMiwxNl0sMTM3OlsyLDE2XX0sezE6WzIsMTddLDY6WzIsMTddLDI1OlsyLDE3XSwyNjpbMiwxN10sNDk6WzIsMTddLDU0OlsyLDE3XSw1NzpbMiwxN10sNzM6WzIsMTddLDc4OlsyLDE3XSw4NjpbMiwxN10sOTE6WzIsMTddLDkzOlsyLDE3XSwxMDI6WzIsMTddLDEwNDpbMiwxN10sMTA1OlsyLDE3XSwxMDY6WzIsMTddLDExMDpbMiwxN10sMTE4OlsyLDE3XSwxMjY6WzIsMTddLDEyODpbMiwxN10sMTI5OlsyLDE3XSwxMzI6WzIsMTddLDEzMzpbMiwxN10sMTM0OlsyLDE3XSwxMzU6WzIsMTddLDEzNjpbMiwxN10sMTM3OlsyLDE3XX0sezE6WzIsMThdLDY6WzIsMThdLDI1OlsyLDE4XSwyNjpbMiwxOF0sNDk6WzIsMThdLDU0OlsyLDE4XSw1NzpbMiwxOF0sNzM6WzIsMThdLDc4OlsyLDE4XSw4NjpbMiwxOF0sOTE6WzIsMThdLDkzOlsyLDE4XSwxMDI6WzIsMThdLDEwNDpbMiwxOF0sMTA1OlsyLDE4XSwxMDY6WzIsMThdLDExMDpbMiwxOF0sMTE4OlsyLDE4XSwxMjY6WzIsMThdLDEyODpbMiwxOF0sMTI5OlsyLDE4XSwxMzI6WzIsMThdLDEzMzpbMiwxOF0sMTM0OlsyLDE4XSwxMzU6WzIsMThdLDEzNjpbMiwxOF0sMTM3OlsyLDE4XX0sezE6WzIsMTldLDY6WzIsMTldLDI1OlsyLDE5XSwyNjpbMiwxOV0sNDk6WzIsMTldLDU0OlsyLDE5XSw1NzpbMiwxOV0sNzM6WzIsMTldLDc4OlsyLDE5XSw4NjpbMiwxOV0sOTE6WzIsMTldLDkzOlsyLDE5XSwxMDI6WzIsMTldLDEwNDpbMiwxOV0sMTA1OlsyLDE5XSwxMDY6WzIsMTldLDExMDpbMiwxOV0sMTE4OlsyLDE5XSwxMjY6WzIsMTldLDEyODpbMiwxOV0sMTI5OlsyLDE5XSwxMzI6WzIsMTldLDEzMzpbMiwxOV0sMTM0OlsyLDE5XSwxMzU6WzIsMTldLDEzNjpbMiwxOV0sMTM3OlsyLDE5XX0sezE6WzIsMjBdLDY6WzIsMjBdLDI1OlsyLDIwXSwyNjpbMiwyMF0sNDk6WzIsMjBdLDU0OlsyLDIwXSw1NzpbMiwyMF0sNzM6WzIsMjBdLDc4OlsyLDIwXSw4NjpbMiwyMF0sOTE6WzIsMjBdLDkzOlsyLDIwXSwxMDI6WzIsMjBdLDEwNDpbMiwyMF0sMTA1OlsyLDIwXSwxMDY6WzIsMjBdLDExMDpbMiwyMF0sMTE4OlsyLDIwXSwxMjY6WzIsMjBdLDEyODpbMiwyMF0sMTI5OlsyLDIwXSwxMzI6WzIsMjBdLDEzMzpbMiwyMF0sMTM0OlsyLDIwXSwxMzU6WzIsMjBdLDEzNjpbMiwyMF0sMTM3OlsyLDIwXX0sezE6WzIsMjFdLDY6WzIsMjFdLDI1OlsyLDIxXSwyNjpbMiwyMV0sNDk6WzIsMjFdLDU0OlsyLDIxXSw1NzpbMiwyMV0sNzM6WzIsMjFdLDc4OlsyLDIxXSw4NjpbMiwyMV0sOTE6WzIsMjFdLDkzOlsyLDIxXSwxMDI6WzIsMjFdLDEwNDpbMiwyMV0sMTA1OlsyLDIxXSwxMDY6WzIsMjFdLDExMDpbMiwyMV0sMTE4OlsyLDIxXSwxMjY6WzIsMjFdLDEyODpbMiwyMV0sMTI5OlsyLDIxXSwxMzI6WzIsMjFdLDEzMzpbMiwyMV0sMTM0OlsyLDIxXSwxMzU6WzIsMjFdLDEzNjpbMiwyMV0sMTM3OlsyLDIxXX0sezE6WzIsMjJdLDY6WzIsMjJdLDI1OlsyLDIyXSwyNjpbMiwyMl0sNDk6WzIsMjJdLDU0OlsyLDIyXSw1NzpbMiwyMl0sNzM6WzIsMjJdLDc4OlsyLDIyXSw4NjpbMiwyMl0sOTE6WzIsMjJdLDkzOlsyLDIyXSwxMDI6WzIsMjJdLDEwNDpbMiwyMl0sMTA1OlsyLDIyXSwxMDY6WzIsMjJdLDExMDpbMiwyMl0sMTE4OlsyLDIyXSwxMjY6WzIsMjJdLDEyODpbMiwyMl0sMTI5OlsyLDIyXSwxMzI6WzIsMjJdLDEzMzpbMiwyMl0sMTM0OlsyLDIyXSwxMzU6WzIsMjJdLDEzNjpbMiwyMl0sMTM3OlsyLDIyXX0sezE6WzIsMjNdLDY6WzIsMjNdLDI1OlsyLDIzXSwyNjpbMiwyM10sNDk6WzIsMjNdLDU0OlsyLDIzXSw1NzpbMiwyM10sNzM6WzIsMjNdLDc4OlsyLDIzXSw4NjpbMiwyM10sOTE6WzIsMjNdLDkzOlsyLDIzXSwxMDI6WzIsMjNdLDEwNDpbMiwyM10sMTA1OlsyLDIzXSwxMDY6WzIsMjNdLDExMDpbMiwyM10sMTE4OlsyLDIzXSwxMjY6WzIsMjNdLDEyODpbMiwyM10sMTI5OlsyLDIzXSwxMzI6WzIsMjNdLDEzMzpbMiwyM10sMTM0OlsyLDIzXSwxMzU6WzIsMjNdLDEzNjpbMiwyM10sMTM3OlsyLDIzXX0sezE6WzIsOV0sNjpbMiw5XSwyNjpbMiw5XSwxMDI6WzIsOV0sMTA0OlsyLDldLDEwNjpbMiw5XSwxMTA6WzIsOV0sMTI2OlsyLDldfSx7MTpbMiwxMF0sNjpbMiwxMF0sMjY6WzIsMTBdLDEwMjpbMiwxMF0sMTA0OlsyLDEwXSwxMDY6WzIsMTBdLDExMDpbMiwxMF0sMTI2OlsyLDEwXX0sezE6WzIsMTFdLDY6WzIsMTFdLDI2OlsyLDExXSwxMDI6WzIsMTFdLDEwNDpbMiwxMV0sMTA2OlsyLDExXSwxMTA6WzIsMTFdLDEyNjpbMiwxMV19LHsxOlsyLDc1XSw2OlsyLDc1XSwyNTpbMiw3NV0sMjY6WzIsNzVdLDQwOlsxLDEwNF0sNDk6WzIsNzVdLDU0OlsyLDc1XSw1NzpbMiw3NV0sNjY6WzIsNzVdLDY3OlsyLDc1XSw2ODpbMiw3NV0sNjk6WzIsNzVdLDcxOlsyLDc1XSw3MzpbMiw3NV0sNzQ6WzIsNzVdLDc4OlsyLDc1XSw4NDpbMiw3NV0sODU6WzIsNzVdLDg2OlsyLDc1XSw5MTpbMiw3NV0sOTM6WzIsNzVdLDEwMjpbMiw3NV0sMTA0OlsyLDc1XSwxMDU6WzIsNzVdLDEwNjpbMiw3NV0sMTEwOlsyLDc1XSwxMTg6WzIsNzVdLDEyNjpbMiw3NV0sMTI4OlsyLDc1XSwxMjk6WzIsNzVdLDEzMjpbMiw3NV0sMTMzOlsyLDc1XSwxMzQ6WzIsNzVdLDEzNTpbMiw3NV0sMTM2OlsyLDc1XSwxMzc6WzIsNzVdfSx7MTpbMiw3Nl0sNjpbMiw3Nl0sMjU6WzIsNzZdLDI2OlsyLDc2XSw0OTpbMiw3Nl0sNTQ6WzIsNzZdLDU3OlsyLDc2XSw2NjpbMiw3Nl0sNjc6WzIsNzZdLDY4OlsyLDc2XSw2OTpbMiw3Nl0sNzE6WzIsNzZdLDczOlsyLDc2XSw3NDpbMiw3Nl0sNzg6WzIsNzZdLDg0OlsyLDc2XSw4NTpbMiw3Nl0sODY6WzIsNzZdLDkxOlsyLDc2XSw5MzpbMiw3Nl0sMTAyOlsyLDc2XSwxMDQ6WzIsNzZdLDEwNTpbMiw3Nl0sMTA2OlsyLDc2XSwxMTA6WzIsNzZdLDExODpbMiw3Nl0sMTI2OlsyLDc2XSwxMjg6WzIsNzZdLDEyOTpbMiw3Nl0sMTMyOlsyLDc2XSwxMzM6WzIsNzZdLDEzNDpbMiw3Nl0sMTM1OlsyLDc2XSwxMzY6WzIsNzZdLDEzNzpbMiw3Nl19LHsxOlsyLDc3XSw2OlsyLDc3XSwyNTpbMiw3N10sMjY6WzIsNzddLDQ5OlsyLDc3XSw1NDpbMiw3N10sNTc6WzIsNzddLDY2OlsyLDc3XSw2NzpbMiw3N10sNjg6WzIsNzddLDY5OlsyLDc3XSw3MTpbMiw3N10sNzM6WzIsNzddLDc0OlsyLDc3XSw3ODpbMiw3N10sODQ6WzIsNzddLDg1OlsyLDc3XSw4NjpbMiw3N10sOTE6WzIsNzddLDkzOlsyLDc3XSwxMDI6WzIsNzddLDEwNDpbMiw3N10sMTA1OlsyLDc3XSwxMDY6WzIsNzddLDExMDpbMiw3N10sMTE4OlsyLDc3XSwxMjY6WzIsNzddLDEyODpbMiw3N10sMTI5OlsyLDc3XSwxMzI6WzIsNzddLDEzMzpbMiw3N10sMTM0OlsyLDc3XSwxMzU6WzIsNzddLDEzNjpbMiw3N10sMTM3OlsyLDc3XX0sezE6WzIsNzhdLDY6WzIsNzhdLDI1OlsyLDc4XSwyNjpbMiw3OF0sNDk6WzIsNzhdLDU0OlsyLDc4XSw1NzpbMiw3OF0sNjY6WzIsNzhdLDY3OlsyLDc4XSw2ODpbMiw3OF0sNjk6WzIsNzhdLDcxOlsyLDc4XSw3MzpbMiw3OF0sNzQ6WzIsNzhdLDc4OlsyLDc4XSw4NDpbMiw3OF0sODU6WzIsNzhdLDg2OlsyLDc4XSw5MTpbMiw3OF0sOTM6WzIsNzhdLDEwMjpbMiw3OF0sMTA0OlsyLDc4XSwxMDU6WzIsNzhdLDEwNjpbMiw3OF0sMTEwOlsyLDc4XSwxMTg6WzIsNzhdLDEyNjpbMiw3OF0sMTI4OlsyLDc4XSwxMjk6WzIsNzhdLDEzMjpbMiw3OF0sMTMzOlsyLDc4XSwxMzQ6WzIsNzhdLDEzNTpbMiw3OF0sMTM2OlsyLDc4XSwxMzc6WzIsNzhdfSx7MTpbMiw3OV0sNjpbMiw3OV0sMjU6WzIsNzldLDI2OlsyLDc5XSw0OTpbMiw3OV0sNTQ6WzIsNzldLDU3OlsyLDc5XSw2NjpbMiw3OV0sNjc6WzIsNzldLDY4OlsyLDc5XSw2OTpbMiw3OV0sNzE6WzIsNzldLDczOlsyLDc5XSw3NDpbMiw3OV0sNzg6WzIsNzldLDg0OlsyLDc5XSw4NTpbMiw3OV0sODY6WzIsNzldLDkxOlsyLDc5XSw5MzpbMiw3OV0sMTAyOlsyLDc5XSwxMDQ6WzIsNzldLDEwNTpbMiw3OV0sMTA2OlsyLDc5XSwxMTA6WzIsNzldLDExODpbMiw3OV0sMTI2OlsyLDc5XSwxMjg6WzIsNzldLDEyOTpbMiw3OV0sMTMyOlsyLDc5XSwxMzM6WzIsNzldLDEzNDpbMiw3OV0sMTM1OlsyLDc5XSwxMzY6WzIsNzldLDEzNzpbMiw3OV19LHsxOlsyLDEwNl0sNjpbMiwxMDZdLDI1OlsyLDEwNl0sMjY6WzIsMTA2XSw0OTpbMiwxMDZdLDU0OlsyLDEwNl0sNTc6WzIsMTA2XSw2NjpbMiwxMDZdLDY3OlsyLDEwNl0sNjg6WzIsMTA2XSw2OTpbMiwxMDZdLDcxOlsyLDEwNl0sNzM6WzIsMTA2XSw3NDpbMiwxMDZdLDc4OlsyLDEwNl0sODI6MTA1LDg0OlsyLDEwNl0sODU6WzEsMTA2XSw4NjpbMiwxMDZdLDkxOlsyLDEwNl0sOTM6WzIsMTA2XSwxMDI6WzIsMTA2XSwxMDQ6WzIsMTA2XSwxMDU6WzIsMTA2XSwxMDY6WzIsMTA2XSwxMTA6WzIsMTA2XSwxMTg6WzIsMTA2XSwxMjY6WzIsMTA2XSwxMjg6WzIsMTA2XSwxMjk6WzIsMTA2XSwxMzI6WzIsMTA2XSwxMzM6WzIsMTA2XSwxMzQ6WzIsMTA2XSwxMzU6WzIsMTA2XSwxMzY6WzIsMTA2XSwxMzc6WzIsMTA2XX0sezY6WzIsNTVdLDI1OlsyLDU1XSwyNzoxMTAsMjg6WzEsNzNdLDQ0OjExMSw0ODoxMDcsNDk6WzIsNTVdLDU0OlsyLDU1XSw1NToxMDgsNTY6MTA5LDU4OjExMiw1OToxMTMsNzY6WzEsNzBdLDg5OlsxLDExNF0sOTA6WzEsMTE1XX0sezU6MTE2LDI1OlsxLDVdfSx7ODoxMTcsOToxMTgsMTA6MjAsMTE6MjEsMTI6WzEsMjJdLDEzOjgsMTQ6OSwxNToxMCwxNjoxMSwxNzoxMiwxODoxMywxOToxNCwyMDoxNSwyMToxNiwyMjoxNywyMzoxOCwyNDoxOSwyNzo2MiwyODpbMSw3M10sMjk6NDksMzA6WzEsNzFdLDMxOlsxLDcyXSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjpbMSw1M10sMzc6WzEsNTRdLDM4OlsxLDU1XSwzOToyMyw0NDo2Myw0NTpbMSw0NV0sNDY6WzEsNDZdLDQ3OlsxLDI5XSw1MDozMCw1MTpbMSw2MF0sNTI6WzEsNjFdLDU4OjQ3LDU5OjQ4LDYxOjM2LDYzOjI1LDY0OjI2LDY1OjI3LDc2OlsxLDcwXSw3OTpbMSw0M10sODM6WzEsMjhdLDg4OlsxLDU4XSw4OTpbMSw1OV0sOTA6WzEsNTddLDk2OlsxLDM4XSwxMDA6WzEsNDRdLDEwMTpbMSw1Nl0sMTAzOjM5LDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDc6NDAsMTA4OlsxLDY3XSwxMDk6NDEsMTEwOlsxLDY4XSwxMTE6NjksMTE5OlsxLDQyXSwxMjQ6MzcsMTI1OlsxLDY0XSwxMjc6WzEsMzFdLDEyODpbMSwzMl0sMTI5OlsxLDMzXSwxMzA6WzEsMzRdLDEzMTpbMSwzNV19LHs4OjExOSw5OjExOCwxMDoyMCwxMToyMSwxMjpbMSwyMl0sMTM6OCwxNDo5LDE1OjEwLDE2OjExLDE3OjEyLDE4OjEzLDE5OjE0LDIwOjE1LDIxOjE2LDIyOjE3LDIzOjE4LDI0OjE5LDI3OjYyLDI4OlsxLDczXSwyOTo0OSwzMDpbMSw3MV0sMzE6WzEsNzJdLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OlsxLDUzXSwzNzpbMSw1NF0sMzg6WzEsNTVdLDM5OjIzLDQ0OjYzLDQ1OlsxLDQ1XSw0NjpbMSw0Nl0sNDc6WzEsMjldLDUwOjMwLDUxOlsxLDYwXSw1MjpbMSw2MV0sNTg6NDcsNTk6NDgsNjE6MzYsNjM6MjUsNjQ6MjYsNjU6MjcsNzY6WzEsNzBdLDc5OlsxLDQzXSw4MzpbMSwyOF0sODg6WzEsNThdLDg5OlsxLDU5XSw5MDpbMSw1N10sOTY6WzEsMzhdLDEwMDpbMSw0NF0sMTAxOlsxLDU2XSwxMDM6MzksMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwNzo0MCwxMDg6WzEsNjddLDEwOTo0MSwxMTA6WzEsNjhdLDExMTo2OSwxMTk6WzEsNDJdLDEyNDozNywxMjU6WzEsNjRdLDEyNzpbMSwzMV0sMTI4OlsxLDMyXSwxMjk6WzEsMzNdLDEzMDpbMSwzNF0sMTMxOlsxLDM1XX0sezg6MTIwLDk6MTE4LDEwOjIwLDExOjIxLDEyOlsxLDIyXSwxMzo4LDE0OjksMTU6MTAsMTY6MTEsMTc6MTIsMTg6MTMsMTk6MTQsMjA6MTUsMjE6MTYsMjI6MTcsMjM6MTgsMjQ6MTksMjc6NjIsMjg6WzEsNzNdLDI5OjQ5LDMwOlsxLDcxXSwzMTpbMSw3Ml0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6WzEsNTNdLDM3OlsxLDU0XSwzODpbMSw1NV0sMzk6MjMsNDQ6NjMsNDU6WzEsNDVdLDQ2OlsxLDQ2XSw0NzpbMSwyOV0sNTA6MzAsNTE6WzEsNjBdLDUyOlsxLDYxXSw1ODo0Nyw1OTo0OCw2MTozNiw2MzoyNSw2NDoyNiw2NToyNyw3NjpbMSw3MF0sNzk6WzEsNDNdLDgzOlsxLDI4XSw4ODpbMSw1OF0sODk6WzEsNTldLDkwOlsxLDU3XSw5NjpbMSwzOF0sMTAwOlsxLDQ0XSwxMDE6WzEsNTZdLDEwMzozOSwxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA3OjQwLDEwODpbMSw2N10sMTA5OjQxLDExMDpbMSw2OF0sMTExOjY5LDExOTpbMSw0Ml0sMTI0OjM3LDEyNTpbMSw2NF0sMTI3OlsxLDMxXSwxMjg6WzEsMzJdLDEyOTpbMSwzM10sMTMwOlsxLDM0XSwxMzE6WzEsMzVdfSx7MTM6MTIyLDE0OjEyMywyNzo2MiwyODpbMSw3M10sMjk6NDksMzA6WzEsNzFdLDMxOlsxLDcyXSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjpbMSw1M10sMzc6WzEsNTRdLDM4OlsxLDU1XSwzOToxMjQsNDQ6NjMsNTg6NDcsNTk6NDgsNjE6MTIxLDYzOjI1LDY0OjI2LDY1OjI3LDc2OlsxLDcwXSw4MzpbMSwyOF0sODg6WzEsNThdLDg5OlsxLDU5XSw5MDpbMSw1N10sMTAxOlsxLDU2XX0sezEzOjEyMiwxNDoxMjMsMjc6NjIsMjg6WzEsNzNdLDI5OjQ5LDMwOlsxLDcxXSwzMTpbMSw3Ml0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6WzEsNTNdLDM3OlsxLDU0XSwzODpbMSw1NV0sMzk6MTI0LDQ0OjYzLDU4OjQ3LDU5OjQ4LDYxOjEyNSw2MzoyNSw2NDoyNiw2NToyNyw3NjpbMSw3MF0sODM6WzEsMjhdLDg4OlsxLDU4XSw4OTpbMSw1OV0sOTA6WzEsNTddLDEwMTpbMSw1Nl19LHsxOlsyLDcyXSw2OlsyLDcyXSwyNTpbMiw3Ml0sMjY6WzIsNzJdLDQwOlsyLDcyXSw0OTpbMiw3Ml0sNTQ6WzIsNzJdLDU3OlsyLDcyXSw2NjpbMiw3Ml0sNjc6WzIsNzJdLDY4OlsyLDcyXSw2OTpbMiw3Ml0sNzE6WzIsNzJdLDczOlsyLDcyXSw3NDpbMiw3Ml0sNzg6WzIsNzJdLDgwOlsxLDEyOV0sODQ6WzIsNzJdLDg1OlsyLDcyXSw4NjpbMiw3Ml0sOTE6WzIsNzJdLDkzOlsyLDcyXSwxMDI6WzIsNzJdLDEwNDpbMiw3Ml0sMTA1OlsyLDcyXSwxMDY6WzIsNzJdLDExMDpbMiw3Ml0sMTE4OlsyLDcyXSwxMjY6WzIsNzJdLDEyODpbMiw3Ml0sMTI5OlsyLDcyXSwxMzA6WzEsMTI2XSwxMzE6WzEsMTI3XSwxMzI6WzIsNzJdLDEzMzpbMiw3Ml0sMTM0OlsyLDcyXSwxMzU6WzIsNzJdLDEzNjpbMiw3Ml0sMTM3OlsyLDcyXSwxMzg6WzEsMTI4XX0sezE6WzIsMTgyXSw2OlsyLDE4Ml0sMjU6WzIsMTgyXSwyNjpbMiwxODJdLDQ5OlsyLDE4Ml0sNTQ6WzIsMTgyXSw1NzpbMiwxODJdLDczOlsyLDE4Ml0sNzg6WzIsMTgyXSw4NjpbMiwxODJdLDkxOlsyLDE4Ml0sOTM6WzIsMTgyXSwxMDI6WzIsMTgyXSwxMDQ6WzIsMTgyXSwxMDU6WzIsMTgyXSwxMDY6WzIsMTgyXSwxMTA6WzIsMTgyXSwxMTg6WzIsMTgyXSwxMjE6WzEsMTMwXSwxMjY6WzIsMTgyXSwxMjg6WzIsMTgyXSwxMjk6WzIsMTgyXSwxMzI6WzIsMTgyXSwxMzM6WzIsMTgyXSwxMzQ6WzIsMTgyXSwxMzU6WzIsMTgyXSwxMzY6WzIsMTgyXSwxMzc6WzIsMTgyXX0sezU6MTMxLDI1OlsxLDVdfSx7NToxMzIsMjU6WzEsNV19LHsxOlsyLDE0OV0sNjpbMiwxNDldLDI1OlsyLDE0OV0sMjY6WzIsMTQ5XSw0OTpbMiwxNDldLDU0OlsyLDE0OV0sNTc6WzIsMTQ5XSw3MzpbMiwxNDldLDc4OlsyLDE0OV0sODY6WzIsMTQ5XSw5MTpbMiwxNDldLDkzOlsyLDE0OV0sMTAyOlsyLDE0OV0sMTA0OlsyLDE0OV0sMTA1OlsyLDE0OV0sMTA2OlsyLDE0OV0sMTEwOlsyLDE0OV0sMTE4OlsyLDE0OV0sMTI2OlsyLDE0OV0sMTI4OlsyLDE0OV0sMTI5OlsyLDE0OV0sMTMyOlsyLDE0OV0sMTMzOlsyLDE0OV0sMTM0OlsyLDE0OV0sMTM1OlsyLDE0OV0sMTM2OlsyLDE0OV0sMTM3OlsyLDE0OV19LHs1OjEzMywyNTpbMSw1XX0sezg6MTM0LDk6MTE4LDEwOjIwLDExOjIxLDEyOlsxLDIyXSwxMzo4LDE0OjksMTU6MTAsMTY6MTEsMTc6MTIsMTg6MTMsMTk6MTQsMjA6MTUsMjE6MTYsMjI6MTcsMjM6MTgsMjQ6MTksMjU6WzEsMTM1XSwyNzo2MiwyODpbMSw3M10sMjk6NDksMzA6WzEsNzFdLDMxOlsxLDcyXSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjpbMSw1M10sMzc6WzEsNTRdLDM4OlsxLDU1XSwzOToyMyw0NDo2Myw0NTpbMSw0NV0sNDY6WzEsNDZdLDQ3OlsxLDI5XSw1MDozMCw1MTpbMSw2MF0sNTI6WzEsNjFdLDU4OjQ3LDU5OjQ4LDYxOjM2LDYzOjI1LDY0OjI2LDY1OjI3LDc2OlsxLDcwXSw3OTpbMSw0M10sODM6WzEsMjhdLDg4OlsxLDU4XSw4OTpbMSw1OV0sOTA6WzEsNTddLDk2OlsxLDM4XSwxMDA6WzEsNDRdLDEwMTpbMSw1Nl0sMTAzOjM5LDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDc6NDAsMTA4OlsxLDY3XSwxMDk6NDEsMTEwOlsxLDY4XSwxMTE6NjksMTE5OlsxLDQyXSwxMjQ6MzcsMTI1OlsxLDY0XSwxMjc6WzEsMzFdLDEyODpbMSwzMl0sMTI5OlsxLDMzXSwxMzA6WzEsMzRdLDEzMTpbMSwzNV19LHsxOlsyLDk2XSw1OjEzNiw2OlsyLDk2XSwxMzoxMjIsMTQ6MTIzLDI1OlsxLDVdLDI2OlsyLDk2XSwyNzo2MiwyODpbMSw3M10sMjk6NDksMzA6WzEsNzFdLDMxOlsxLDcyXSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjpbMSw1M10sMzc6WzEsNTRdLDM4OlsxLDU1XSwzOToxMjQsNDQ6NjMsNDk6WzIsOTZdLDU0OlsyLDk2XSw1NzpbMiw5Nl0sNTg6NDcsNTk6NDgsNjE6MTM4LDYzOjI1LDY0OjI2LDY1OjI3LDczOlsyLDk2XSw3NjpbMSw3MF0sNzg6WzIsOTZdLDgwOlsxLDEzN10sODM6WzEsMjhdLDg2OlsyLDk2XSw4ODpbMSw1OF0sODk6WzEsNTldLDkwOlsxLDU3XSw5MTpbMiw5Nl0sOTM6WzIsOTZdLDEwMTpbMSw1Nl0sMTAyOlsyLDk2XSwxMDQ6WzIsOTZdLDEwNTpbMiw5Nl0sMTA2OlsyLDk2XSwxMTA6WzIsOTZdLDExODpbMiw5Nl0sMTI2OlsyLDk2XSwxMjg6WzIsOTZdLDEyOTpbMiw5Nl0sMTMyOlsyLDk2XSwxMzM6WzIsOTZdLDEzNDpbMiw5Nl0sMTM1OlsyLDk2XSwxMzY6WzIsOTZdLDEzNzpbMiw5Nl19LHs4OjEzOSw5OjExOCwxMDoyMCwxMToyMSwxMjpbMSwyMl0sMTM6OCwxNDo5LDE1OjEwLDE2OjExLDE3OjEyLDE4OjEzLDE5OjE0LDIwOjE1LDIxOjE2LDIyOjE3LDIzOjE4LDI0OjE5LDI3OjYyLDI4OlsxLDczXSwyOTo0OSwzMDpbMSw3MV0sMzE6WzEsNzJdLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OlsxLDUzXSwzNzpbMSw1NF0sMzg6WzEsNTVdLDM5OjIzLDQ0OjYzLDQ1OlsxLDQ1XSw0NjpbMSw0Nl0sNDc6WzEsMjldLDUwOjMwLDUxOlsxLDYwXSw1MjpbMSw2MV0sNTg6NDcsNTk6NDgsNjE6MzYsNjM6MjUsNjQ6MjYsNjU6MjcsNzY6WzEsNzBdLDc5OlsxLDQzXSw4MzpbMSwyOF0sODg6WzEsNThdLDg5OlsxLDU5XSw5MDpbMSw1N10sOTY6WzEsMzhdLDEwMDpbMSw0NF0sMTAxOlsxLDU2XSwxMDM6MzksMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwNzo0MCwxMDg6WzEsNjddLDEwOTo0MSwxMTA6WzEsNjhdLDExMTo2OSwxMTk6WzEsNDJdLDEyNDozNywxMjU6WzEsNjRdLDEyNzpbMSwzMV0sMTI4OlsxLDMyXSwxMjk6WzEsMzNdLDEzMDpbMSwzNF0sMTMxOlsxLDM1XX0sezE6WzIsNDddLDY6WzIsNDddLDg6MTQwLDk6MTE4LDEwOjIwLDExOjIxLDEyOlsxLDIyXSwxMzo4LDE0OjksMTU6MTAsMTY6MTEsMTc6MTIsMTg6MTMsMTk6MTQsMjA6MTUsMjE6MTYsMjI6MTcsMjM6MTgsMjQ6MTksMjY6WzIsNDddLDI3OjYyLDI4OlsxLDczXSwyOTo0OSwzMDpbMSw3MV0sMzE6WzEsNzJdLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OlsxLDUzXSwzNzpbMSw1NF0sMzg6WzEsNTVdLDM5OjIzLDQ0OjYzLDQ1OlsxLDQ1XSw0NjpbMSw0Nl0sNDc6WzEsMjldLDUwOjMwLDUxOlsxLDYwXSw1MjpbMSw2MV0sNTg6NDcsNTk6NDgsNjE6MzYsNjM6MjUsNjQ6MjYsNjU6MjcsNzY6WzEsNzBdLDc5OlsxLDQzXSw4MzpbMSwyOF0sODg6WzEsNThdLDg5OlsxLDU5XSw5MDpbMSw1N10sOTY6WzEsMzhdLDEwMDpbMSw0NF0sMTAxOlsxLDU2XSwxMDI6WzIsNDddLDEwMzozOSwxMDQ6WzIsNDddLDEwNjpbMiw0N10sMTA3OjQwLDEwODpbMSw2N10sMTA5OjQxLDExMDpbMiw0N10sMTExOjY5LDExOTpbMSw0Ml0sMTI0OjM3LDEyNTpbMSw2NF0sMTI2OlsyLDQ3XSwxMjc6WzEsMzFdLDEyODpbMSwzMl0sMTI5OlsxLDMzXSwxMzA6WzEsMzRdLDEzMTpbMSwzNV19LHsxOlsyLDQ4XSw2OlsyLDQ4XSwyNTpbMiw0OF0sMjY6WzIsNDhdLDU0OlsyLDQ4XSw3ODpbMiw0OF0sMTAyOlsyLDQ4XSwxMDQ6WzIsNDhdLDEwNjpbMiw0OF0sMTEwOlsyLDQ4XSwxMjY6WzIsNDhdfSx7MTpbMiw3M10sNjpbMiw3M10sMjU6WzIsNzNdLDI2OlsyLDczXSw0MDpbMiw3M10sNDk6WzIsNzNdLDU0OlsyLDczXSw1NzpbMiw3M10sNjY6WzIsNzNdLDY3OlsyLDczXSw2ODpbMiw3M10sNjk6WzIsNzNdLDcxOlsyLDczXSw3MzpbMiw3M10sNzQ6WzIsNzNdLDc4OlsyLDczXSw4NDpbMiw3M10sODU6WzIsNzNdLDg2OlsyLDczXSw5MTpbMiw3M10sOTM6WzIsNzNdLDEwMjpbMiw3M10sMTA0OlsyLDczXSwxMDU6WzIsNzNdLDEwNjpbMiw3M10sMTEwOlsyLDczXSwxMTg6WzIsNzNdLDEyNjpbMiw3M10sMTI4OlsyLDczXSwxMjk6WzIsNzNdLDEzMjpbMiw3M10sMTMzOlsyLDczXSwxMzQ6WzIsNzNdLDEzNTpbMiw3M10sMTM2OlsyLDczXSwxMzc6WzIsNzNdfSx7MTpbMiw3NF0sNjpbMiw3NF0sMjU6WzIsNzRdLDI2OlsyLDc0XSw0MDpbMiw3NF0sNDk6WzIsNzRdLDU0OlsyLDc0XSw1NzpbMiw3NF0sNjY6WzIsNzRdLDY3OlsyLDc0XSw2ODpbMiw3NF0sNjk6WzIsNzRdLDcxOlsyLDc0XSw3MzpbMiw3NF0sNzQ6WzIsNzRdLDc4OlsyLDc0XSw4NDpbMiw3NF0sODU6WzIsNzRdLDg2OlsyLDc0XSw5MTpbMiw3NF0sOTM6WzIsNzRdLDEwMjpbMiw3NF0sMTA0OlsyLDc0XSwxMDU6WzIsNzRdLDEwNjpbMiw3NF0sMTEwOlsyLDc0XSwxMTg6WzIsNzRdLDEyNjpbMiw3NF0sMTI4OlsyLDc0XSwxMjk6WzIsNzRdLDEzMjpbMiw3NF0sMTMzOlsyLDc0XSwxMzQ6WzIsNzRdLDEzNTpbMiw3NF0sMTM2OlsyLDc0XSwxMzc6WzIsNzRdfSx7MTpbMiwyOV0sNjpbMiwyOV0sMjU6WzIsMjldLDI2OlsyLDI5XSw0OTpbMiwyOV0sNTQ6WzIsMjldLDU3OlsyLDI5XSw2NjpbMiwyOV0sNjc6WzIsMjldLDY4OlsyLDI5XSw2OTpbMiwyOV0sNzE6WzIsMjldLDczOlsyLDI5XSw3NDpbMiwyOV0sNzg6WzIsMjldLDg0OlsyLDI5XSw4NTpbMiwyOV0sODY6WzIsMjldLDkxOlsyLDI5XSw5MzpbMiwyOV0sMTAyOlsyLDI5XSwxMDQ6WzIsMjldLDEwNTpbMiwyOV0sMTA2OlsyLDI5XSwxMTA6WzIsMjldLDExODpbMiwyOV0sMTI2OlsyLDI5XSwxMjg6WzIsMjldLDEyOTpbMiwyOV0sMTMyOlsyLDI5XSwxMzM6WzIsMjldLDEzNDpbMiwyOV0sMTM1OlsyLDI5XSwxMzY6WzIsMjldLDEzNzpbMiwyOV19LHsxOlsyLDMwXSw2OlsyLDMwXSwyNTpbMiwzMF0sMjY6WzIsMzBdLDQ5OlsyLDMwXSw1NDpbMiwzMF0sNTc6WzIsMzBdLDY2OlsyLDMwXSw2NzpbMiwzMF0sNjg6WzIsMzBdLDY5OlsyLDMwXSw3MTpbMiwzMF0sNzM6WzIsMzBdLDc0OlsyLDMwXSw3ODpbMiwzMF0sODQ6WzIsMzBdLDg1OlsyLDMwXSw4NjpbMiwzMF0sOTE6WzIsMzBdLDkzOlsyLDMwXSwxMDI6WzIsMzBdLDEwNDpbMiwzMF0sMTA1OlsyLDMwXSwxMDY6WzIsMzBdLDExMDpbMiwzMF0sMTE4OlsyLDMwXSwxMjY6WzIsMzBdLDEyODpbMiwzMF0sMTI5OlsyLDMwXSwxMzI6WzIsMzBdLDEzMzpbMiwzMF0sMTM0OlsyLDMwXSwxMzU6WzIsMzBdLDEzNjpbMiwzMF0sMTM3OlsyLDMwXX0sezE6WzIsMzFdLDY6WzIsMzFdLDI1OlsyLDMxXSwyNjpbMiwzMV0sNDk6WzIsMzFdLDU0OlsyLDMxXSw1NzpbMiwzMV0sNjY6WzIsMzFdLDY3OlsyLDMxXSw2ODpbMiwzMV0sNjk6WzIsMzFdLDcxOlsyLDMxXSw3MzpbMiwzMV0sNzQ6WzIsMzFdLDc4OlsyLDMxXSw4NDpbMiwzMV0sODU6WzIsMzFdLDg2OlsyLDMxXSw5MTpbMiwzMV0sOTM6WzIsMzFdLDEwMjpbMiwzMV0sMTA0OlsyLDMxXSwxMDU6WzIsMzFdLDEwNjpbMiwzMV0sMTEwOlsyLDMxXSwxMTg6WzIsMzFdLDEyNjpbMiwzMV0sMTI4OlsyLDMxXSwxMjk6WzIsMzFdLDEzMjpbMiwzMV0sMTMzOlsyLDMxXSwxMzQ6WzIsMzFdLDEzNTpbMiwzMV0sMTM2OlsyLDMxXSwxMzc6WzIsMzFdfSx7MTpbMiwzMl0sNjpbMiwzMl0sMjU6WzIsMzJdLDI2OlsyLDMyXSw0OTpbMiwzMl0sNTQ6WzIsMzJdLDU3OlsyLDMyXSw2NjpbMiwzMl0sNjc6WzIsMzJdLDY4OlsyLDMyXSw2OTpbMiwzMl0sNzE6WzIsMzJdLDczOlsyLDMyXSw3NDpbMiwzMl0sNzg6WzIsMzJdLDg0OlsyLDMyXSw4NTpbMiwzMl0sODY6WzIsMzJdLDkxOlsyLDMyXSw5MzpbMiwzMl0sMTAyOlsyLDMyXSwxMDQ6WzIsMzJdLDEwNTpbMiwzMl0sMTA2OlsyLDMyXSwxMTA6WzIsMzJdLDExODpbMiwzMl0sMTI2OlsyLDMyXSwxMjg6WzIsMzJdLDEyOTpbMiwzMl0sMTMyOlsyLDMyXSwxMzM6WzIsMzJdLDEzNDpbMiwzMl0sMTM1OlsyLDMyXSwxMzY6WzIsMzJdLDEzNzpbMiwzMl19LHsxOlsyLDMzXSw2OlsyLDMzXSwyNTpbMiwzM10sMjY6WzIsMzNdLDQ5OlsyLDMzXSw1NDpbMiwzM10sNTc6WzIsMzNdLDY2OlsyLDMzXSw2NzpbMiwzM10sNjg6WzIsMzNdLDY5OlsyLDMzXSw3MTpbMiwzM10sNzM6WzIsMzNdLDc0OlsyLDMzXSw3ODpbMiwzM10sODQ6WzIsMzNdLDg1OlsyLDMzXSw4NjpbMiwzM10sOTE6WzIsMzNdLDkzOlsyLDMzXSwxMDI6WzIsMzNdLDEwNDpbMiwzM10sMTA1OlsyLDMzXSwxMDY6WzIsMzNdLDExMDpbMiwzM10sMTE4OlsyLDMzXSwxMjY6WzIsMzNdLDEyODpbMiwzM10sMTI5OlsyLDMzXSwxMzI6WzIsMzNdLDEzMzpbMiwzM10sMTM0OlsyLDMzXSwxMzU6WzIsMzNdLDEzNjpbMiwzM10sMTM3OlsyLDMzXX0sezE6WzIsMzRdLDY6WzIsMzRdLDI1OlsyLDM0XSwyNjpbMiwzNF0sNDk6WzIsMzRdLDU0OlsyLDM0XSw1NzpbMiwzNF0sNjY6WzIsMzRdLDY3OlsyLDM0XSw2ODpbMiwzNF0sNjk6WzIsMzRdLDcxOlsyLDM0XSw3MzpbMiwzNF0sNzQ6WzIsMzRdLDc4OlsyLDM0XSw4NDpbMiwzNF0sODU6WzIsMzRdLDg2OlsyLDM0XSw5MTpbMiwzNF0sOTM6WzIsMzRdLDEwMjpbMiwzNF0sMTA0OlsyLDM0XSwxMDU6WzIsMzRdLDEwNjpbMiwzNF0sMTEwOlsyLDM0XSwxMTg6WzIsMzRdLDEyNjpbMiwzNF0sMTI4OlsyLDM0XSwxMjk6WzIsMzRdLDEzMjpbMiwzNF0sMTMzOlsyLDM0XSwxMzQ6WzIsMzRdLDEzNTpbMiwzNF0sMTM2OlsyLDM0XSwxMzc6WzIsMzRdfSx7MTpbMiwzNV0sNjpbMiwzNV0sMjU6WzIsMzVdLDI2OlsyLDM1XSw0OTpbMiwzNV0sNTQ6WzIsMzVdLDU3OlsyLDM1XSw2NjpbMiwzNV0sNjc6WzIsMzVdLDY4OlsyLDM1XSw2OTpbMiwzNV0sNzE6WzIsMzVdLDczOlsyLDM1XSw3NDpbMiwzNV0sNzg6WzIsMzVdLDg0OlsyLDM1XSw4NTpbMiwzNV0sODY6WzIsMzVdLDkxOlsyLDM1XSw5MzpbMiwzNV0sMTAyOlsyLDM1XSwxMDQ6WzIsMzVdLDEwNTpbMiwzNV0sMTA2OlsyLDM1XSwxMTA6WzIsMzVdLDExODpbMiwzNV0sMTI2OlsyLDM1XSwxMjg6WzIsMzVdLDEyOTpbMiwzNV0sMTMyOlsyLDM1XSwxMzM6WzIsMzVdLDEzNDpbMiwzNV0sMTM1OlsyLDM1XSwxMzY6WzIsMzVdLDEzNzpbMiwzNV19LHs0OjE0MSw3OjQsODo2LDk6NywxMDoyMCwxMToyMSwxMjpbMSwyMl0sMTM6OCwxNDo5LDE1OjEwLDE2OjExLDE3OjEyLDE4OjEzLDE5OjE0LDIwOjE1LDIxOjE2LDIyOjE3LDIzOjE4LDI0OjE5LDI1OlsxLDE0Ml0sMjc6NjIsMjg6WzEsNzNdLDI5OjQ5LDMwOlsxLDcxXSwzMTpbMSw3Ml0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6WzEsNTNdLDM3OlsxLDU0XSwzODpbMSw1NV0sMzk6MjMsNDQ6NjMsNDU6WzEsNDVdLDQ2OlsxLDQ2XSw0NzpbMSwyOV0sNTA6MzAsNTE6WzEsNjBdLDUyOlsxLDYxXSw1ODo0Nyw1OTo0OCw2MTozNiw2MzoyNSw2NDoyNiw2NToyNyw3NjpbMSw3MF0sNzk6WzEsNDNdLDgzOlsxLDI4XSw4ODpbMSw1OF0sODk6WzEsNTldLDkwOlsxLDU3XSw5NjpbMSwzOF0sMTAwOlsxLDQ0XSwxMDE6WzEsNTZdLDEwMzozOSwxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA3OjQwLDEwODpbMSw2N10sMTA5OjQxLDExMDpbMSw2OF0sMTExOjY5LDExOTpbMSw0Ml0sMTI0OjM3LDEyNTpbMSw2NF0sMTI3OlsxLDMxXSwxMjg6WzEsMzJdLDEyOTpbMSwzM10sMTMwOlsxLDM0XSwxMzE6WzEsMzVdfSx7ODoxNDMsOToxMTgsMTA6MjAsMTE6MjEsMTI6WzEsMjJdLDEzOjgsMTQ6OSwxNToxMCwxNjoxMSwxNzoxMiwxODoxMywxOToxNCwyMDoxNSwyMToxNiwyMjoxNywyMzoxOCwyNDoxOSwyNTpbMSwxNDddLDI3OjYyLDI4OlsxLDczXSwyOTo0OSwzMDpbMSw3MV0sMzE6WzEsNzJdLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OlsxLDUzXSwzNzpbMSw1NF0sMzg6WzEsNTVdLDM5OjIzLDQ0OjYzLDQ1OlsxLDQ1XSw0NjpbMSw0Nl0sNDc6WzEsMjldLDUwOjMwLDUxOlsxLDYwXSw1MjpbMSw2MV0sNTg6NDcsNTk6NDgsNjA6MTQ4LDYxOjM2LDYzOjI1LDY0OjI2LDY1OjI3LDc2OlsxLDcwXSw3OTpbMSw0M10sODM6WzEsMjhdLDg3OjE0NSw4ODpbMSw1OF0sODk6WzEsNTldLDkwOlsxLDU3XSw5MTpbMSwxNDRdLDk0OjE0Niw5NjpbMSwzOF0sMTAwOlsxLDQ0XSwxMDE6WzEsNTZdLDEwMzozOSwxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA3OjQwLDEwODpbMSw2N10sMTA5OjQxLDExMDpbMSw2OF0sMTExOjY5LDExOTpbMSw0Ml0sMTI0OjM3LDEyNTpbMSw2NF0sMTI3OlsxLDMxXSwxMjg6WzEsMzJdLDEyOTpbMSwzM10sMTMwOlsxLDM0XSwxMzE6WzEsMzVdfSx7MTpbMiwxMTJdLDY6WzIsMTEyXSwyNTpbMiwxMTJdLDI2OlsyLDExMl0sNDk6WzIsMTEyXSw1NDpbMiwxMTJdLDU3OlsyLDExMl0sNjY6WzIsMTEyXSw2NzpbMiwxMTJdLDY4OlsyLDExMl0sNjk6WzIsMTEyXSw3MTpbMiwxMTJdLDczOlsyLDExMl0sNzQ6WzIsMTEyXSw3ODpbMiwxMTJdLDg0OlsyLDExMl0sODU6WzIsMTEyXSw4NjpbMiwxMTJdLDkxOlsyLDExMl0sOTM6WzIsMTEyXSwxMDI6WzIsMTEyXSwxMDQ6WzIsMTEyXSwxMDU6WzIsMTEyXSwxMDY6WzIsMTEyXSwxMTA6WzIsMTEyXSwxMTg6WzIsMTEyXSwxMjY6WzIsMTEyXSwxMjg6WzIsMTEyXSwxMjk6WzIsMTEyXSwxMzI6WzIsMTEyXSwxMzM6WzIsMTEyXSwxMzQ6WzIsMTEyXSwxMzU6WzIsMTEyXSwxMzY6WzIsMTEyXSwxMzc6WzIsMTEyXX0sezE6WzIsMTEzXSw2OlsyLDExM10sMjU6WzIsMTEzXSwyNjpbMiwxMTNdLDI3OjE0OSwyODpbMSw3M10sNDk6WzIsMTEzXSw1NDpbMiwxMTNdLDU3OlsyLDExM10sNjY6WzIsMTEzXSw2NzpbMiwxMTNdLDY4OlsyLDExM10sNjk6WzIsMTEzXSw3MTpbMiwxMTNdLDczOlsyLDExM10sNzQ6WzIsMTEzXSw3ODpbMiwxMTNdLDg0OlsyLDExM10sODU6WzIsMTEzXSw4NjpbMiwxMTNdLDkxOlsyLDExM10sOTM6WzIsMTEzXSwxMDI6WzIsMTEzXSwxMDQ6WzIsMTEzXSwxMDU6WzIsMTEzXSwxMDY6WzIsMTEzXSwxMTA6WzIsMTEzXSwxMTg6WzIsMTEzXSwxMjY6WzIsMTEzXSwxMjg6WzIsMTEzXSwxMjk6WzIsMTEzXSwxMzI6WzIsMTEzXSwxMzM6WzIsMTEzXSwxMzQ6WzIsMTEzXSwxMzU6WzIsMTEzXSwxMzY6WzIsMTEzXSwxMzc6WzIsMTEzXX0sezI1OlsyLDUxXX0sezI1OlsyLDUyXX0sezE6WzIsNjhdLDY6WzIsNjhdLDI1OlsyLDY4XSwyNjpbMiw2OF0sNDA6WzIsNjhdLDQ5OlsyLDY4XSw1NDpbMiw2OF0sNTc6WzIsNjhdLDY2OlsyLDY4XSw2NzpbMiw2OF0sNjg6WzIsNjhdLDY5OlsyLDY4XSw3MTpbMiw2OF0sNzM6WzIsNjhdLDc0OlsyLDY4XSw3ODpbMiw2OF0sODA6WzIsNjhdLDg0OlsyLDY4XSw4NTpbMiw2OF0sODY6WzIsNjhdLDkxOlsyLDY4XSw5MzpbMiw2OF0sMTAyOlsyLDY4XSwxMDQ6WzIsNjhdLDEwNTpbMiw2OF0sMTA2OlsyLDY4XSwxMTA6WzIsNjhdLDExODpbMiw2OF0sMTI2OlsyLDY4XSwxMjg6WzIsNjhdLDEyOTpbMiw2OF0sMTMwOlsyLDY4XSwxMzE6WzIsNjhdLDEzMjpbMiw2OF0sMTMzOlsyLDY4XSwxMzQ6WzIsNjhdLDEzNTpbMiw2OF0sMTM2OlsyLDY4XSwxMzc6WzIsNjhdLDEzODpbMiw2OF19LHsxOlsyLDcxXSw2OlsyLDcxXSwyNTpbMiw3MV0sMjY6WzIsNzFdLDQwOlsyLDcxXSw0OTpbMiw3MV0sNTQ6WzIsNzFdLDU3OlsyLDcxXSw2NjpbMiw3MV0sNjc6WzIsNzFdLDY4OlsyLDcxXSw2OTpbMiw3MV0sNzE6WzIsNzFdLDczOlsyLDcxXSw3NDpbMiw3MV0sNzg6WzIsNzFdLDgwOlsyLDcxXSw4NDpbMiw3MV0sODU6WzIsNzFdLDg2OlsyLDcxXSw5MTpbMiw3MV0sOTM6WzIsNzFdLDEwMjpbMiw3MV0sMTA0OlsyLDcxXSwxMDU6WzIsNzFdLDEwNjpbMiw3MV0sMTEwOlsyLDcxXSwxMTg6WzIsNzFdLDEyNjpbMiw3MV0sMTI4OlsyLDcxXSwxMjk6WzIsNzFdLDEzMDpbMiw3MV0sMTMxOlsyLDcxXSwxMzI6WzIsNzFdLDEzMzpbMiw3MV0sMTM0OlsyLDcxXSwxMzU6WzIsNzFdLDEzNjpbMiw3MV0sMTM3OlsyLDcxXSwxMzg6WzIsNzFdfSx7ODoxNTAsOToxMTgsMTA6MjAsMTE6MjEsMTI6WzEsMjJdLDEzOjgsMTQ6OSwxNToxMCwxNjoxMSwxNzoxMiwxODoxMywxOToxNCwyMDoxNSwyMToxNiwyMjoxNywyMzoxOCwyNDoxOSwyNzo2MiwyODpbMSw3M10sMjk6NDksMzA6WzEsNzFdLDMxOlsxLDcyXSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjpbMSw1M10sMzc6WzEsNTRdLDM4OlsxLDU1XSwzOToyMyw0NDo2Myw0NTpbMSw0NV0sNDY6WzEsNDZdLDQ3OlsxLDI5XSw1MDozMCw1MTpbMSw2MF0sNTI6WzEsNjFdLDU4OjQ3LDU5OjQ4LDYxOjM2LDYzOjI1LDY0OjI2LDY1OjI3LDc2OlsxLDcwXSw3OTpbMSw0M10sODM6WzEsMjhdLDg4OlsxLDU4XSw4OTpbMSw1OV0sOTA6WzEsNTddLDk2OlsxLDM4XSwxMDA6WzEsNDRdLDEwMTpbMSw1Nl0sMTAzOjM5LDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDc6NDAsMTA4OlsxLDY3XSwxMDk6NDEsMTEwOlsxLDY4XSwxMTE6NjksMTE5OlsxLDQyXSwxMjQ6MzcsMTI1OlsxLDY0XSwxMjc6WzEsMzFdLDEyODpbMSwzMl0sMTI5OlsxLDMzXSwxMzA6WzEsMzRdLDEzMTpbMSwzNV19LHs4OjE1MSw5OjExOCwxMDoyMCwxMToyMSwxMjpbMSwyMl0sMTM6OCwxNDo5LDE1OjEwLDE2OjExLDE3OjEyLDE4OjEzLDE5OjE0LDIwOjE1LDIxOjE2LDIyOjE3LDIzOjE4LDI0OjE5LDI3OjYyLDI4OlsxLDczXSwyOTo0OSwzMDpbMSw3MV0sMzE6WzEsNzJdLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OlsxLDUzXSwzNzpbMSw1NF0sMzg6WzEsNTVdLDM5OjIzLDQ0OjYzLDQ1OlsxLDQ1XSw0NjpbMSw0Nl0sNDc6WzEsMjldLDUwOjMwLDUxOlsxLDYwXSw1MjpbMSw2MV0sNTg6NDcsNTk6NDgsNjE6MzYsNjM6MjUsNjQ6MjYsNjU6MjcsNzY6WzEsNzBdLDc5OlsxLDQzXSw4MzpbMSwyOF0sODg6WzEsNThdLDg5OlsxLDU5XSw5MDpbMSw1N10sOTY6WzEsMzhdLDEwMDpbMSw0NF0sMTAxOlsxLDU2XSwxMDM6MzksMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwNzo0MCwxMDg6WzEsNjddLDEwOTo0MSwxMTA6WzEsNjhdLDExMTo2OSwxMTk6WzEsNDJdLDEyNDozNywxMjU6WzEsNjRdLDEyNzpbMSwzMV0sMTI4OlsxLDMyXSwxMjk6WzEsMzNdLDEzMDpbMSwzNF0sMTMxOlsxLDM1XX0sezg6MTUyLDk6MTE4LDEwOjIwLDExOjIxLDEyOlsxLDIyXSwxMzo4LDE0OjksMTU6MTAsMTY6MTEsMTc6MTIsMTg6MTMsMTk6MTQsMjA6MTUsMjE6MTYsMjI6MTcsMjM6MTgsMjQ6MTksMjc6NjIsMjg6WzEsNzNdLDI5OjQ5LDMwOlsxLDcxXSwzMTpbMSw3Ml0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6WzEsNTNdLDM3OlsxLDU0XSwzODpbMSw1NV0sMzk6MjMsNDQ6NjMsNDU6WzEsNDVdLDQ2OlsxLDQ2XSw0NzpbMSwyOV0sNTA6MzAsNTE6WzEsNjBdLDUyOlsxLDYxXSw1ODo0Nyw1OTo0OCw2MTozNiw2MzoyNSw2NDoyNiw2NToyNyw3NjpbMSw3MF0sNzk6WzEsNDNdLDgzOlsxLDI4XSw4ODpbMSw1OF0sODk6WzEsNTldLDkwOlsxLDU3XSw5NjpbMSwzOF0sMTAwOlsxLDQ0XSwxMDE6WzEsNTZdLDEwMzozOSwxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA3OjQwLDEwODpbMSw2N10sMTA5OjQxLDExMDpbMSw2OF0sMTExOjY5LDExOTpbMSw0Ml0sMTI0OjM3LDEyNTpbMSw2NF0sMTI3OlsxLDMxXSwxMjg6WzEsMzJdLDEyOTpbMSwzM10sMTMwOlsxLDM0XSwxMzE6WzEsMzVdfSx7NToxNTMsODoxNTQsOToxMTgsMTA6MjAsMTE6MjEsMTI6WzEsMjJdLDEzOjgsMTQ6OSwxNToxMCwxNjoxMSwxNzoxMiwxODoxMywxOToxNCwyMDoxNSwyMToxNiwyMjoxNywyMzoxOCwyNDoxOSwyNTpbMSw1XSwyNzo2MiwyODpbMSw3M10sMjk6NDksMzA6WzEsNzFdLDMxOlsxLDcyXSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjpbMSw1M10sMzc6WzEsNTRdLDM4OlsxLDU1XSwzOToyMyw0NDo2Myw0NTpbMSw0NV0sNDY6WzEsNDZdLDQ3OlsxLDI5XSw1MDozMCw1MTpbMSw2MF0sNTI6WzEsNjFdLDU4OjQ3LDU5OjQ4LDYxOjM2LDYzOjI1LDY0OjI2LDY1OjI3LDc2OlsxLDcwXSw3OTpbMSw0M10sODM6WzEsMjhdLDg4OlsxLDU4XSw4OTpbMSw1OV0sOTA6WzEsNTddLDk2OlsxLDM4XSwxMDA6WzEsNDRdLDEwMTpbMSw1Nl0sMTAzOjM5LDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDc6NDAsMTA4OlsxLDY3XSwxMDk6NDEsMTEwOlsxLDY4XSwxMTE6NjksMTE5OlsxLDQyXSwxMjQ6MzcsMTI1OlsxLDY0XSwxMjc6WzEsMzFdLDEyODpbMSwzMl0sMTI5OlsxLDMzXSwxMzA6WzEsMzRdLDEzMTpbMSwzNV19LHsyNzoxNTksMjg6WzEsNzNdLDQ0OjE2MCw1ODoxNjEsNTk6MTYyLDY0OjE1NSw3NjpbMSw3MF0sODk6WzEsMTE0XSw5MDpbMSw1N10sMTEzOjE1NiwxMTQ6WzEsMTU3XSwxMTU6MTU4fSx7MTEyOjE2MywxMTY6WzEsMTY0XSwxMTc6WzEsMTY1XX0sezY6WzIsOTFdLDExOjE2OSwyNTpbMiw5MV0sMjc6MTcwLDI4OlsxLDczXSwyOToxNzEsMzA6WzEsNzFdLDMxOlsxLDcyXSw0MToxNjcsNDI6MTY4LDQ0OjE3Miw0NjpbMSw0Nl0sNTQ6WzIsOTFdLDc3OjE2Niw3ODpbMiw5MV0sODk6WzEsMTE0XX0sezE6WzIsMjddLDY6WzIsMjddLDI1OlsyLDI3XSwyNjpbMiwyN10sNDM6WzIsMjddLDQ5OlsyLDI3XSw1NDpbMiwyN10sNTc6WzIsMjddLDY2OlsyLDI3XSw2NzpbMiwyN10sNjg6WzIsMjddLDY5OlsyLDI3XSw3MTpbMiwyN10sNzM6WzIsMjddLDc0OlsyLDI3XSw3ODpbMiwyN10sODQ6WzIsMjddLDg1OlsyLDI3XSw4NjpbMiwyN10sOTE6WzIsMjddLDkzOlsyLDI3XSwxMDI6WzIsMjddLDEwNDpbMiwyN10sMTA1OlsyLDI3XSwxMDY6WzIsMjddLDExMDpbMiwyN10sMTE4OlsyLDI3XSwxMjY6WzIsMjddLDEyODpbMiwyN10sMTI5OlsyLDI3XSwxMzI6WzIsMjddLDEzMzpbMiwyN10sMTM0OlsyLDI3XSwxMzU6WzIsMjddLDEzNjpbMiwyN10sMTM3OlsyLDI3XX0sezE6WzIsMjhdLDY6WzIsMjhdLDI1OlsyLDI4XSwyNjpbMiwyOF0sNDM6WzIsMjhdLDQ5OlsyLDI4XSw1NDpbMiwyOF0sNTc6WzIsMjhdLDY2OlsyLDI4XSw2NzpbMiwyOF0sNjg6WzIsMjhdLDY5OlsyLDI4XSw3MTpbMiwyOF0sNzM6WzIsMjhdLDc0OlsyLDI4XSw3ODpbMiwyOF0sODQ6WzIsMjhdLDg1OlsyLDI4XSw4NjpbMiwyOF0sOTE6WzIsMjhdLDkzOlsyLDI4XSwxMDI6WzIsMjhdLDEwNDpbMiwyOF0sMTA1OlsyLDI4XSwxMDY6WzIsMjhdLDExMDpbMiwyOF0sMTE4OlsyLDI4XSwxMjY6WzIsMjhdLDEyODpbMiwyOF0sMTI5OlsyLDI4XSwxMzI6WzIsMjhdLDEzMzpbMiwyOF0sMTM0OlsyLDI4XSwxMzU6WzIsMjhdLDEzNjpbMiwyOF0sMTM3OlsyLDI4XX0sezE6WzIsMjZdLDY6WzIsMjZdLDI1OlsyLDI2XSwyNjpbMiwyNl0sNDA6WzIsMjZdLDQzOlsyLDI2XSw0OTpbMiwyNl0sNTQ6WzIsMjZdLDU3OlsyLDI2XSw2NjpbMiwyNl0sNjc6WzIsMjZdLDY4OlsyLDI2XSw2OTpbMiwyNl0sNzE6WzIsMjZdLDczOlsyLDI2XSw3NDpbMiwyNl0sNzg6WzIsMjZdLDgwOlsyLDI2XSw4NDpbMiwyNl0sODU6WzIsMjZdLDg2OlsyLDI2XSw5MTpbMiwyNl0sOTM6WzIsMjZdLDEwMjpbMiwyNl0sMTA0OlsyLDI2XSwxMDU6WzIsMjZdLDEwNjpbMiwyNl0sMTEwOlsyLDI2XSwxMTY6WzIsMjZdLDExNzpbMiwyNl0sMTE4OlsyLDI2XSwxMjY6WzIsMjZdLDEyODpbMiwyNl0sMTI5OlsyLDI2XSwxMzA6WzIsMjZdLDEzMTpbMiwyNl0sMTMyOlsyLDI2XSwxMzM6WzIsMjZdLDEzNDpbMiwyNl0sMTM1OlsyLDI2XSwxMzY6WzIsMjZdLDEzNzpbMiwyNl0sMTM4OlsyLDI2XX0sezE6WzIsNl0sNjpbMiw2XSw3OjE3Myw4OjYsOTo3LDEwOjIwLDExOjIxLDEyOlsxLDIyXSwxMzo4LDE0OjksMTU6MTAsMTY6MTEsMTc6MTIsMTg6MTMsMTk6MTQsMjA6MTUsMjE6MTYsMjI6MTcsMjM6MTgsMjQ6MTksMjY6WzIsNl0sMjc6NjIsMjg6WzEsNzNdLDI5OjQ5LDMwOlsxLDcxXSwzMTpbMSw3Ml0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6WzEsNTNdLDM3OlsxLDU0XSwzODpbMSw1NV0sMzk6MjMsNDQ6NjMsNDU6WzEsNDVdLDQ2OlsxLDQ2XSw0NzpbMSwyOV0sNTA6MzAsNTE6WzEsNjBdLDUyOlsxLDYxXSw1ODo0Nyw1OTo0OCw2MTozNiw2MzoyNSw2NDoyNiw2NToyNyw3NjpbMSw3MF0sNzk6WzEsNDNdLDgzOlsxLDI4XSw4ODpbMSw1OF0sODk6WzEsNTldLDkwOlsxLDU3XSw5NjpbMSwzOF0sMTAwOlsxLDQ0XSwxMDE6WzEsNTZdLDEwMjpbMiw2XSwxMDM6MzksMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwNzo0MCwxMDg6WzEsNjddLDEwOTo0MSwxMTA6WzEsNjhdLDExMTo2OSwxMTk6WzEsNDJdLDEyNDozNywxMjU6WzEsNjRdLDEyNzpbMSwzMV0sMTI4OlsxLDMyXSwxMjk6WzEsMzNdLDEzMDpbMSwzNF0sMTMxOlsxLDM1XX0sezE6WzIsM119LHsxOlsyLDI0XSw2OlsyLDI0XSwyNTpbMiwyNF0sMjY6WzIsMjRdLDQ5OlsyLDI0XSw1NDpbMiwyNF0sNTc6WzIsMjRdLDczOlsyLDI0XSw3ODpbMiwyNF0sODY6WzIsMjRdLDkxOlsyLDI0XSw5MzpbMiwyNF0sOTg6WzIsMjRdLDk5OlsyLDI0XSwxMDI6WzIsMjRdLDEwNDpbMiwyNF0sMTA1OlsyLDI0XSwxMDY6WzIsMjRdLDExMDpbMiwyNF0sMTE4OlsyLDI0XSwxMjE6WzIsMjRdLDEyMzpbMiwyNF0sMTI2OlsyLDI0XSwxMjg6WzIsMjRdLDEyOTpbMiwyNF0sMTMyOlsyLDI0XSwxMzM6WzIsMjRdLDEzNDpbMiwyNF0sMTM1OlsyLDI0XSwxMzY6WzIsMjRdLDEzNzpbMiwyNF19LHs2OlsxLDc0XSwyNjpbMSwxNzRdfSx7MTpbMiwxOTNdLDY6WzIsMTkzXSwyNTpbMiwxOTNdLDI2OlsyLDE5M10sNDk6WzIsMTkzXSw1NDpbMiwxOTNdLDU3OlsyLDE5M10sNzM6WzIsMTkzXSw3ODpbMiwxOTNdLDg2OlsyLDE5M10sOTE6WzIsMTkzXSw5MzpbMiwxOTNdLDEwMjpbMiwxOTNdLDEwNDpbMiwxOTNdLDEwNTpbMiwxOTNdLDEwNjpbMiwxOTNdLDExMDpbMiwxOTNdLDExODpbMiwxOTNdLDEyNjpbMiwxOTNdLDEyODpbMiwxOTNdLDEyOTpbMiwxOTNdLDEzMjpbMiwxOTNdLDEzMzpbMiwxOTNdLDEzNDpbMiwxOTNdLDEzNTpbMiwxOTNdLDEzNjpbMiwxOTNdLDEzNzpbMiwxOTNdfSx7ODoxNzUsOToxMTgsMTA6MjAsMTE6MjEsMTI6WzEsMjJdLDEzOjgsMTQ6OSwxNToxMCwxNjoxMSwxNzoxMiwxODoxMywxOToxNCwyMDoxNSwyMToxNiwyMjoxNywyMzoxOCwyNDoxOSwyNzo2MiwyODpbMSw3M10sMjk6NDksMzA6WzEsNzFdLDMxOlsxLDcyXSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjpbMSw1M10sMzc6WzEsNTRdLDM4OlsxLDU1XSwzOToyMyw0NDo2Myw0NTpbMSw0NV0sNDY6WzEsNDZdLDQ3OlsxLDI5XSw1MDozMCw1MTpbMSw2MF0sNTI6WzEsNjFdLDU4OjQ3LDU5OjQ4LDYxOjM2LDYzOjI1LDY0OjI2LDY1OjI3LDc2OlsxLDcwXSw3OTpbMSw0M10sODM6WzEsMjhdLDg4OlsxLDU4XSw4OTpbMSw1OV0sOTA6WzEsNTddLDk2OlsxLDM4XSwxMDA6WzEsNDRdLDEwMTpbMSw1Nl0sMTAzOjM5LDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDc6NDAsMTA4OlsxLDY3XSwxMDk6NDEsMTEwOlsxLDY4XSwxMTE6NjksMTE5OlsxLDQyXSwxMjQ6MzcsMTI1OlsxLDY0XSwxMjc6WzEsMzFdLDEyODpbMSwzMl0sMTI5OlsxLDMzXSwxMzA6WzEsMzRdLDEzMTpbMSwzNV19LHs4OjE3Niw5OjExOCwxMDoyMCwxMToyMSwxMjpbMSwyMl0sMTM6OCwxNDo5LDE1OjEwLDE2OjExLDE3OjEyLDE4OjEzLDE5OjE0LDIwOjE1LDIxOjE2LDIyOjE3LDIzOjE4LDI0OjE5LDI3OjYyLDI4OlsxLDczXSwyOTo0OSwzMDpbMSw3MV0sMzE6WzEsNzJdLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OlsxLDUzXSwzNzpbMSw1NF0sMzg6WzEsNTVdLDM5OjIzLDQ0OjYzLDQ1OlsxLDQ1XSw0NjpbMSw0Nl0sNDc6WzEsMjldLDUwOjMwLDUxOlsxLDYwXSw1MjpbMSw2MV0sNTg6NDcsNTk6NDgsNjE6MzYsNjM6MjUsNjQ6MjYsNjU6MjcsNzY6WzEsNzBdLDc5OlsxLDQzXSw4MzpbMSwyOF0sODg6WzEsNThdLDg5OlsxLDU5XSw5MDpbMSw1N10sOTY6WzEsMzhdLDEwMDpbMSw0NF0sMTAxOlsxLDU2XSwxMDM6MzksMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwNzo0MCwxMDg6WzEsNjddLDEwOTo0MSwxMTA6WzEsNjhdLDExMTo2OSwxMTk6WzEsNDJdLDEyNDozNywxMjU6WzEsNjRdLDEyNzpbMSwzMV0sMTI4OlsxLDMyXSwxMjk6WzEsMzNdLDEzMDpbMSwzNF0sMTMxOlsxLDM1XX0sezg6MTc3LDk6MTE4LDEwOjIwLDExOjIxLDEyOlsxLDIyXSwxMzo4LDE0OjksMTU6MTAsMTY6MTEsMTc6MTIsMTg6MTMsMTk6MTQsMjA6MTUsMjE6MTYsMjI6MTcsMjM6MTgsMjQ6MTksMjc6NjIsMjg6WzEsNzNdLDI5OjQ5LDMwOlsxLDcxXSwzMTpbMSw3Ml0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6WzEsNTNdLDM3OlsxLDU0XSwzODpbMSw1NV0sMzk6MjMsNDQ6NjMsNDU6WzEsNDVdLDQ2OlsxLDQ2XSw0NzpbMSwyOV0sNTA6MzAsNTE6WzEsNjBdLDUyOlsxLDYxXSw1ODo0Nyw1OTo0OCw2MTozNiw2MzoyNSw2NDoyNiw2NToyNyw3NjpbMSw3MF0sNzk6WzEsNDNdLDgzOlsxLDI4XSw4ODpbMSw1OF0sODk6WzEsNTldLDkwOlsxLDU3XSw5NjpbMSwzOF0sMTAwOlsxLDQ0XSwxMDE6WzEsNTZdLDEwMzozOSwxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA3OjQwLDEwODpbMSw2N10sMTA5OjQxLDExMDpbMSw2OF0sMTExOjY5LDExOTpbMSw0Ml0sMTI0OjM3LDEyNTpbMSw2NF0sMTI3OlsxLDMxXSwxMjg6WzEsMzJdLDEyOTpbMSwzM10sMTMwOlsxLDM0XSwxMzE6WzEsMzVdfSx7ODoxNzgsOToxMTgsMTA6MjAsMTE6MjEsMTI6WzEsMjJdLDEzOjgsMTQ6OSwxNToxMCwxNjoxMSwxNzoxMiwxODoxMywxOToxNCwyMDoxNSwyMToxNiwyMjoxNywyMzoxOCwyNDoxOSwyNzo2MiwyODpbMSw3M10sMjk6NDksMzA6WzEsNzFdLDMxOlsxLDcyXSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjpbMSw1M10sMzc6WzEsNTRdLDM4OlsxLDU1XSwzOToyMyw0NDo2Myw0NTpbMSw0NV0sNDY6WzEsNDZdLDQ3OlsxLDI5XSw1MDozMCw1MTpbMSw2MF0sNTI6WzEsNjFdLDU4OjQ3LDU5OjQ4LDYxOjM2LDYzOjI1LDY0OjI2LDY1OjI3LDc2OlsxLDcwXSw3OTpbMSw0M10sODM6WzEsMjhdLDg4OlsxLDU4XSw4OTpbMSw1OV0sOTA6WzEsNTddLDk2OlsxLDM4XSwxMDA6WzEsNDRdLDEwMTpbMSw1Nl0sMTAzOjM5LDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDc6NDAsMTA4OlsxLDY3XSwxMDk6NDEsMTEwOlsxLDY4XSwxMTE6NjksMTE5OlsxLDQyXSwxMjQ6MzcsMTI1OlsxLDY0XSwxMjc6WzEsMzFdLDEyODpbMSwzMl0sMTI5OlsxLDMzXSwxMzA6WzEsMzRdLDEzMTpbMSwzNV19LHs4OjE3OSw5OjExOCwxMDoyMCwxMToyMSwxMjpbMSwyMl0sMTM6OCwxNDo5LDE1OjEwLDE2OjExLDE3OjEyLDE4OjEzLDE5OjE0LDIwOjE1LDIxOjE2LDIyOjE3LDIzOjE4LDI0OjE5LDI3OjYyLDI4OlsxLDczXSwyOTo0OSwzMDpbMSw3MV0sMzE6WzEsNzJdLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OlsxLDUzXSwzNzpbMSw1NF0sMzg6WzEsNTVdLDM5OjIzLDQ0OjYzLDQ1OlsxLDQ1XSw0NjpbMSw0Nl0sNDc6WzEsMjldLDUwOjMwLDUxOlsxLDYwXSw1MjpbMSw2MV0sNTg6NDcsNTk6NDgsNjE6MzYsNjM6MjUsNjQ6MjYsNjU6MjcsNzY6WzEsNzBdLDc5OlsxLDQzXSw4MzpbMSwyOF0sODg6WzEsNThdLDg5OlsxLDU5XSw5MDpbMSw1N10sOTY6WzEsMzhdLDEwMDpbMSw0NF0sMTAxOlsxLDU2XSwxMDM6MzksMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwNzo0MCwxMDg6WzEsNjddLDEwOTo0MSwxMTA6WzEsNjhdLDExMTo2OSwxMTk6WzEsNDJdLDEyNDozNywxMjU6WzEsNjRdLDEyNzpbMSwzMV0sMTI4OlsxLDMyXSwxMjk6WzEsMzNdLDEzMDpbMSwzNF0sMTMxOlsxLDM1XX0sezg6MTgwLDk6MTE4LDEwOjIwLDExOjIxLDEyOlsxLDIyXSwxMzo4LDE0OjksMTU6MTAsMTY6MTEsMTc6MTIsMTg6MTMsMTk6MTQsMjA6MTUsMjE6MTYsMjI6MTcsMjM6MTgsMjQ6MTksMjc6NjIsMjg6WzEsNzNdLDI5OjQ5LDMwOlsxLDcxXSwzMTpbMSw3Ml0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6WzEsNTNdLDM3OlsxLDU0XSwzODpbMSw1NV0sMzk6MjMsNDQ6NjMsNDU6WzEsNDVdLDQ2OlsxLDQ2XSw0NzpbMSwyOV0sNTA6MzAsNTE6WzEsNjBdLDUyOlsxLDYxXSw1ODo0Nyw1OTo0OCw2MTozNiw2MzoyNSw2NDoyNiw2NToyNyw3NjpbMSw3MF0sNzk6WzEsNDNdLDgzOlsxLDI4XSw4ODpbMSw1OF0sODk6WzEsNTldLDkwOlsxLDU3XSw5NjpbMSwzOF0sMTAwOlsxLDQ0XSwxMDE6WzEsNTZdLDEwMzozOSwxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA3OjQwLDEwODpbMSw2N10sMTA5OjQxLDExMDpbMSw2OF0sMTExOjY5LDExOTpbMSw0Ml0sMTI0OjM3LDEyNTpbMSw2NF0sMTI3OlsxLDMxXSwxMjg6WzEsMzJdLDEyOTpbMSwzM10sMTMwOlsxLDM0XSwxMzE6WzEsMzVdfSx7ODoxODEsOToxMTgsMTA6MjAsMTE6MjEsMTI6WzEsMjJdLDEzOjgsMTQ6OSwxNToxMCwxNjoxMSwxNzoxMiwxODoxMywxOToxNCwyMDoxNSwyMToxNiwyMjoxNywyMzoxOCwyNDoxOSwyNzo2MiwyODpbMSw3M10sMjk6NDksMzA6WzEsNzFdLDMxOlsxLDcyXSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjpbMSw1M10sMzc6WzEsNTRdLDM4OlsxLDU1XSwzOToyMyw0NDo2Myw0NTpbMSw0NV0sNDY6WzEsNDZdLDQ3OlsxLDI5XSw1MDozMCw1MTpbMSw2MF0sNTI6WzEsNjFdLDU4OjQ3LDU5OjQ4LDYxOjM2LDYzOjI1LDY0OjI2LDY1OjI3LDc2OlsxLDcwXSw3OTpbMSw0M10sODM6WzEsMjhdLDg4OlsxLDU4XSw4OTpbMSw1OV0sOTA6WzEsNTddLDk2OlsxLDM4XSwxMDA6WzEsNDRdLDEwMTpbMSw1Nl0sMTAzOjM5LDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDc6NDAsMTA4OlsxLDY3XSwxMDk6NDEsMTEwOlsxLDY4XSwxMTE6NjksMTE5OlsxLDQyXSwxMjQ6MzcsMTI1OlsxLDY0XSwxMjc6WzEsMzFdLDEyODpbMSwzMl0sMTI5OlsxLDMzXSwxMzA6WzEsMzRdLDEzMTpbMSwzNV19LHs4OjE4Miw5OjExOCwxMDoyMCwxMToyMSwxMjpbMSwyMl0sMTM6OCwxNDo5LDE1OjEwLDE2OjExLDE3OjEyLDE4OjEzLDE5OjE0LDIwOjE1LDIxOjE2LDIyOjE3LDIzOjE4LDI0OjE5LDI3OjYyLDI4OlsxLDczXSwyOTo0OSwzMDpbMSw3MV0sMzE6WzEsNzJdLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OlsxLDUzXSwzNzpbMSw1NF0sMzg6WzEsNTVdLDM5OjIzLDQ0OjYzLDQ1OlsxLDQ1XSw0NjpbMSw0Nl0sNDc6WzEsMjldLDUwOjMwLDUxOlsxLDYwXSw1MjpbMSw2MV0sNTg6NDcsNTk6NDgsNjE6MzYsNjM6MjUsNjQ6MjYsNjU6MjcsNzY6WzEsNzBdLDc5OlsxLDQzXSw4MzpbMSwyOF0sODg6WzEsNThdLDg5OlsxLDU5XSw5MDpbMSw1N10sOTY6WzEsMzhdLDEwMDpbMSw0NF0sMTAxOlsxLDU2XSwxMDM6MzksMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwNzo0MCwxMDg6WzEsNjddLDEwOTo0MSwxMTA6WzEsNjhdLDExMTo2OSwxMTk6WzEsNDJdLDEyNDozNywxMjU6WzEsNjRdLDEyNzpbMSwzMV0sMTI4OlsxLDMyXSwxMjk6WzEsMzNdLDEzMDpbMSwzNF0sMTMxOlsxLDM1XX0sezE6WzIsMTQ4XSw2OlsyLDE0OF0sMjU6WzIsMTQ4XSwyNjpbMiwxNDhdLDQ5OlsyLDE0OF0sNTQ6WzIsMTQ4XSw1NzpbMiwxNDhdLDczOlsyLDE0OF0sNzg6WzIsMTQ4XSw4NjpbMiwxNDhdLDkxOlsyLDE0OF0sOTM6WzIsMTQ4XSwxMDI6WzIsMTQ4XSwxMDQ6WzIsMTQ4XSwxMDU6WzIsMTQ4XSwxMDY6WzIsMTQ4XSwxMTA6WzIsMTQ4XSwxMTg6WzIsMTQ4XSwxMjY6WzIsMTQ4XSwxMjg6WzIsMTQ4XSwxMjk6WzIsMTQ4XSwxMzI6WzIsMTQ4XSwxMzM6WzIsMTQ4XSwxMzQ6WzIsMTQ4XSwxMzU6WzIsMTQ4XSwxMzY6WzIsMTQ4XSwxMzc6WzIsMTQ4XX0sezE6WzIsMTUzXSw2OlsyLDE1M10sMjU6WzIsMTUzXSwyNjpbMiwxNTNdLDQ5OlsyLDE1M10sNTQ6WzIsMTUzXSw1NzpbMiwxNTNdLDczOlsyLDE1M10sNzg6WzIsMTUzXSw4NjpbMiwxNTNdLDkxOlsyLDE1M10sOTM6WzIsMTUzXSwxMDI6WzIsMTUzXSwxMDQ6WzIsMTUzXSwxMDU6WzIsMTUzXSwxMDY6WzIsMTUzXSwxMTA6WzIsMTUzXSwxMTg6WzIsMTUzXSwxMjY6WzIsMTUzXSwxMjg6WzIsMTUzXSwxMjk6WzIsMTUzXSwxMzI6WzIsMTUzXSwxMzM6WzIsMTUzXSwxMzQ6WzIsMTUzXSwxMzU6WzIsMTUzXSwxMzY6WzIsMTUzXSwxMzc6WzIsMTUzXX0sezg6MTgzLDk6MTE4LDEwOjIwLDExOjIxLDEyOlsxLDIyXSwxMzo4LDE0OjksMTU6MTAsMTY6MTEsMTc6MTIsMTg6MTMsMTk6MTQsMjA6MTUsMjE6MTYsMjI6MTcsMjM6MTgsMjQ6MTksMjc6NjIsMjg6WzEsNzNdLDI5OjQ5LDMwOlsxLDcxXSwzMTpbMSw3Ml0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6WzEsNTNdLDM3OlsxLDU0XSwzODpbMSw1NV0sMzk6MjMsNDQ6NjMsNDU6WzEsNDVdLDQ2OlsxLDQ2XSw0NzpbMSwyOV0sNTA6MzAsNTE6WzEsNjBdLDUyOlsxLDYxXSw1ODo0Nyw1OTo0OCw2MTozNiw2MzoyNSw2NDoyNiw2NToyNyw3NjpbMSw3MF0sNzk6WzEsNDNdLDgzOlsxLDI4XSw4ODpbMSw1OF0sODk6WzEsNTldLDkwOlsxLDU3XSw5NjpbMSwzOF0sMTAwOlsxLDQ0XSwxMDE6WzEsNTZdLDEwMzozOSwxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA3OjQwLDEwODpbMSw2N10sMTA5OjQxLDExMDpbMSw2OF0sMTExOjY5LDExOTpbMSw0Ml0sMTI0OjM3LDEyNTpbMSw2NF0sMTI3OlsxLDMxXSwxMjg6WzEsMzJdLDEyOTpbMSwzM10sMTMwOlsxLDM0XSwxMzE6WzEsMzVdfSx7MTpbMiwxNDddLDY6WzIsMTQ3XSwyNTpbMiwxNDddLDI2OlsyLDE0N10sNDk6WzIsMTQ3XSw1NDpbMiwxNDddLDU3OlsyLDE0N10sNzM6WzIsMTQ3XSw3ODpbMiwxNDddLDg2OlsyLDE0N10sOTE6WzIsMTQ3XSw5MzpbMiwxNDddLDEwMjpbMiwxNDddLDEwNDpbMiwxNDddLDEwNTpbMiwxNDddLDEwNjpbMiwxNDddLDExMDpbMiwxNDddLDExODpbMiwxNDddLDEyNjpbMiwxNDddLDEyODpbMiwxNDddLDEyOTpbMiwxNDddLDEzMjpbMiwxNDddLDEzMzpbMiwxNDddLDEzNDpbMiwxNDddLDEzNTpbMiwxNDddLDEzNjpbMiwxNDddLDEzNzpbMiwxNDddfSx7MTpbMiwxNTJdLDY6WzIsMTUyXSwyNTpbMiwxNTJdLDI2OlsyLDE1Ml0sNDk6WzIsMTUyXSw1NDpbMiwxNTJdLDU3OlsyLDE1Ml0sNzM6WzIsMTUyXSw3ODpbMiwxNTJdLDg2OlsyLDE1Ml0sOTE6WzIsMTUyXSw5MzpbMiwxNTJdLDEwMjpbMiwxNTJdLDEwNDpbMiwxNTJdLDEwNTpbMiwxNTJdLDEwNjpbMiwxNTJdLDExMDpbMiwxNTJdLDExODpbMiwxNTJdLDEyNjpbMiwxNTJdLDEyODpbMiwxNTJdLDEyOTpbMiwxNTJdLDEzMjpbMiwxNTJdLDEzMzpbMiwxNTJdLDEzNDpbMiwxNTJdLDEzNTpbMiwxNTJdLDEzNjpbMiwxNTJdLDEzNzpbMiwxNTJdfSx7ODI6MTg0LDg1OlsxLDEwNl19LHsxOlsyLDY5XSw2OlsyLDY5XSwyNTpbMiw2OV0sMjY6WzIsNjldLDQwOlsyLDY5XSw0OTpbMiw2OV0sNTQ6WzIsNjldLDU3OlsyLDY5XSw2NjpbMiw2OV0sNjc6WzIsNjldLDY4OlsyLDY5XSw2OTpbMiw2OV0sNzE6WzIsNjldLDczOlsyLDY5XSw3NDpbMiw2OV0sNzg6WzIsNjldLDgwOlsyLDY5XSw4NDpbMiw2OV0sODU6WzIsNjldLDg2OlsyLDY5XSw5MTpbMiw2OV0sOTM6WzIsNjldLDEwMjpbMiw2OV0sMTA0OlsyLDY5XSwxMDU6WzIsNjldLDEwNjpbMiw2OV0sMTEwOlsyLDY5XSwxMTg6WzIsNjldLDEyNjpbMiw2OV0sMTI4OlsyLDY5XSwxMjk6WzIsNjldLDEzMDpbMiw2OV0sMTMxOlsyLDY5XSwxMzI6WzIsNjldLDEzMzpbMiw2OV0sMTM0OlsyLDY5XSwxMzU6WzIsNjldLDEzNjpbMiw2OV0sMTM3OlsyLDY5XSwxMzg6WzIsNjldfSx7ODU6WzIsMTA5XX0sezI3OjE4NSwyODpbMSw3M119LHsyNzoxODYsMjg6WzEsNzNdfSx7MTpbMiw4NF0sNjpbMiw4NF0sMjU6WzIsODRdLDI2OlsyLDg0XSwyNzoxODcsMjg6WzEsNzNdLDQwOlsyLDg0XSw0OTpbMiw4NF0sNTQ6WzIsODRdLDU3OlsyLDg0XSw2NjpbMiw4NF0sNjc6WzIsODRdLDY4OlsyLDg0XSw2OTpbMiw4NF0sNzE6WzIsODRdLDczOlsyLDg0XSw3NDpbMiw4NF0sNzg6WzIsODRdLDgwOlsyLDg0XSw4NDpbMiw4NF0sODU6WzIsODRdLDg2OlsyLDg0XSw5MTpbMiw4NF0sOTM6WzIsODRdLDEwMjpbMiw4NF0sMTA0OlsyLDg0XSwxMDU6WzIsODRdLDEwNjpbMiw4NF0sMTEwOlsyLDg0XSwxMTg6WzIsODRdLDEyNjpbMiw4NF0sMTI4OlsyLDg0XSwxMjk6WzIsODRdLDEzMDpbMiw4NF0sMTMxOlsyLDg0XSwxMzI6WzIsODRdLDEzMzpbMiw4NF0sMTM0OlsyLDg0XSwxMzU6WzIsODRdLDEzNjpbMiw4NF0sMTM3OlsyLDg0XSwxMzg6WzIsODRdfSx7Mjc6MTg4LDI4OlsxLDczXX0sezE6WzIsODVdLDY6WzIsODVdLDI1OlsyLDg1XSwyNjpbMiw4NV0sNDA6WzIsODVdLDQ5OlsyLDg1XSw1NDpbMiw4NV0sNTc6WzIsODVdLDY2OlsyLDg1XSw2NzpbMiw4NV0sNjg6WzIsODVdLDY5OlsyLDg1XSw3MTpbMiw4NV0sNzM6WzIsODVdLDc0OlsyLDg1XSw3ODpbMiw4NV0sODA6WzIsODVdLDg0OlsyLDg1XSw4NTpbMiw4NV0sODY6WzIsODVdLDkxOlsyLDg1XSw5MzpbMiw4NV0sMTAyOlsyLDg1XSwxMDQ6WzIsODVdLDEwNTpbMiw4NV0sMTA2OlsyLDg1XSwxMTA6WzIsODVdLDExODpbMiw4NV0sMTI2OlsyLDg1XSwxMjg6WzIsODVdLDEyOTpbMiw4NV0sMTMwOlsyLDg1XSwxMzE6WzIsODVdLDEzMjpbMiw4NV0sMTMzOlsyLDg1XSwxMzQ6WzIsODVdLDEzNTpbMiw4NV0sMTM2OlsyLDg1XSwxMzc6WzIsODVdLDEzODpbMiw4NV19LHs4OjE5MCw5OjExOCwxMDoyMCwxMToyMSwxMjpbMSwyMl0sMTM6OCwxNDo5LDE1OjEwLDE2OjExLDE3OjEyLDE4OjEzLDE5OjE0LDIwOjE1LDIxOjE2LDIyOjE3LDIzOjE4LDI0OjE5LDI3OjYyLDI4OlsxLDczXSwyOTo0OSwzMDpbMSw3MV0sMzE6WzEsNzJdLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OlsxLDUzXSwzNzpbMSw1NF0sMzg6WzEsNTVdLDM5OjIzLDQ0OjYzLDQ1OlsxLDQ1XSw0NjpbMSw0Nl0sNDc6WzEsMjldLDUwOjMwLDUxOlsxLDYwXSw1MjpbMSw2MV0sNTc6WzEsMTk0XSw1ODo0Nyw1OTo0OCw2MTozNiw2MzoyNSw2NDoyNiw2NToyNyw3MjoxODksNzU6MTkxLDc2OlsxLDcwXSw3OTpbMSw0M10sODM6WzEsMjhdLDg4OlsxLDU4XSw4OTpbMSw1OV0sOTA6WzEsNTddLDkyOjE5Miw5MzpbMSwxOTNdLDk2OlsxLDM4XSwxMDA6WzEsNDRdLDEwMTpbMSw1Nl0sMTAzOjM5LDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDc6NDAsMTA4OlsxLDY3XSwxMDk6NDEsMTEwOlsxLDY4XSwxMTE6NjksMTE5OlsxLDQyXSwxMjQ6MzcsMTI1OlsxLDY0XSwxMjc6WzEsMzFdLDEyODpbMSwzMl0sMTI5OlsxLDMzXSwxMzA6WzEsMzRdLDEzMTpbMSwzNV19LHs3MDoxOTUsNzE6WzEsMTAwXSw3NDpbMSwxMDFdfSx7ODI6MTk2LDg1OlsxLDEwNl19LHsxOlsyLDcwXSw2OlsyLDcwXSwyNTpbMiw3MF0sMjY6WzIsNzBdLDQwOlsyLDcwXSw0OTpbMiw3MF0sNTQ6WzIsNzBdLDU3OlsyLDcwXSw2NjpbMiw3MF0sNjc6WzIsNzBdLDY4OlsyLDcwXSw2OTpbMiw3MF0sNzE6WzIsNzBdLDczOlsyLDcwXSw3NDpbMiw3MF0sNzg6WzIsNzBdLDgwOlsyLDcwXSw4NDpbMiw3MF0sODU6WzIsNzBdLDg2OlsyLDcwXSw5MTpbMiw3MF0sOTM6WzIsNzBdLDEwMjpbMiw3MF0sMTA0OlsyLDcwXSwxMDU6WzIsNzBdLDEwNjpbMiw3MF0sMTEwOlsyLDcwXSwxMTg6WzIsNzBdLDEyNjpbMiw3MF0sMTI4OlsyLDcwXSwxMjk6WzIsNzBdLDEzMDpbMiw3MF0sMTMxOlsyLDcwXSwxMzI6WzIsNzBdLDEzMzpbMiw3MF0sMTM0OlsyLDcwXSwxMzU6WzIsNzBdLDEzNjpbMiw3MF0sMTM3OlsyLDcwXSwxMzg6WzIsNzBdfSx7NjpbMSwxOThdLDg6MTk3LDk6MTE4LDEwOjIwLDExOjIxLDEyOlsxLDIyXSwxMzo4LDE0OjksMTU6MTAsMTY6MTEsMTc6MTIsMTg6MTMsMTk6MTQsMjA6MTUsMjE6MTYsMjI6MTcsMjM6MTgsMjQ6MTksMjU6WzEsMTk5XSwyNzo2MiwyODpbMSw3M10sMjk6NDksMzA6WzEsNzFdLDMxOlsxLDcyXSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjpbMSw1M10sMzc6WzEsNTRdLDM4OlsxLDU1XSwzOToyMyw0NDo2Myw0NTpbMSw0NV0sNDY6WzEsNDZdLDQ3OlsxLDI5XSw1MDozMCw1MTpbMSw2MF0sNTI6WzEsNjFdLDU4OjQ3LDU5OjQ4LDYxOjM2LDYzOjI1LDY0OjI2LDY1OjI3LDc2OlsxLDcwXSw3OTpbMSw0M10sODM6WzEsMjhdLDg4OlsxLDU4XSw4OTpbMSw1OV0sOTA6WzEsNTddLDk2OlsxLDM4XSwxMDA6WzEsNDRdLDEwMTpbMSw1Nl0sMTAzOjM5LDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDc6NDAsMTA4OlsxLDY3XSwxMDk6NDEsMTEwOlsxLDY4XSwxMTE6NjksMTE5OlsxLDQyXSwxMjQ6MzcsMTI1OlsxLDY0XSwxMjc6WzEsMzFdLDEyODpbMSwzMl0sMTI5OlsxLDMzXSwxMzA6WzEsMzRdLDEzMTpbMSwzNV19LHsxOlsyLDEwN10sNjpbMiwxMDddLDI1OlsyLDEwN10sMjY6WzIsMTA3XSw0OTpbMiwxMDddLDU0OlsyLDEwN10sNTc6WzIsMTA3XSw2NjpbMiwxMDddLDY3OlsyLDEwN10sNjg6WzIsMTA3XSw2OTpbMiwxMDddLDcxOlsyLDEwN10sNzM6WzIsMTA3XSw3NDpbMiwxMDddLDc4OlsyLDEwN10sODQ6WzIsMTA3XSw4NTpbMiwxMDddLDg2OlsyLDEwN10sOTE6WzIsMTA3XSw5MzpbMiwxMDddLDEwMjpbMiwxMDddLDEwNDpbMiwxMDddLDEwNTpbMiwxMDddLDEwNjpbMiwxMDddLDExMDpbMiwxMDddLDExODpbMiwxMDddLDEyNjpbMiwxMDddLDEyODpbMiwxMDddLDEyOTpbMiwxMDddLDEzMjpbMiwxMDddLDEzMzpbMiwxMDddLDEzNDpbMiwxMDddLDEzNTpbMiwxMDddLDEzNjpbMiwxMDddLDEzNzpbMiwxMDddfSx7ODoyMDIsOToxMTgsMTA6MjAsMTE6MjEsMTI6WzEsMjJdLDEzOjgsMTQ6OSwxNToxMCwxNjoxMSwxNzoxMiwxODoxMywxOToxNCwyMDoxNSwyMToxNiwyMjoxNywyMzoxOCwyNDoxOSwyNTpbMSwxNDddLDI3OjYyLDI4OlsxLDczXSwyOTo0OSwzMDpbMSw3MV0sMzE6WzEsNzJdLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OlsxLDUzXSwzNzpbMSw1NF0sMzg6WzEsNTVdLDM5OjIzLDQ0OjYzLDQ1OlsxLDQ1XSw0NjpbMSw0Nl0sNDc6WzEsMjldLDUwOjMwLDUxOlsxLDYwXSw1MjpbMSw2MV0sNTg6NDcsNTk6NDgsNjA6MTQ4LDYxOjM2LDYzOjI1LDY0OjI2LDY1OjI3LDc2OlsxLDcwXSw3OTpbMSw0M10sODM6WzEsMjhdLDg2OlsxLDIwMF0sODc6MjAxLDg4OlsxLDU4XSw4OTpbMSw1OV0sOTA6WzEsNTddLDk0OjE0Niw5NjpbMSwzOF0sMTAwOlsxLDQ0XSwxMDE6WzEsNTZdLDEwMzozOSwxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA3OjQwLDEwODpbMSw2N10sMTA5OjQxLDExMDpbMSw2OF0sMTExOjY5LDExOTpbMSw0Ml0sMTI0OjM3LDEyNTpbMSw2NF0sMTI3OlsxLDMxXSwxMjg6WzEsMzJdLDEyOTpbMSwzM10sMTMwOlsxLDM0XSwxMzE6WzEsMzVdfSx7NjpbMiw1M10sMjU6WzIsNTNdLDQ5OlsxLDIwM10sNTM6MjA1LDU0OlsxLDIwNF19LHs2OlsyLDU2XSwyNTpbMiw1Nl0sMjY6WzIsNTZdLDQ5OlsyLDU2XSw1NDpbMiw1Nl19LHs2OlsyLDYwXSwyNTpbMiw2MF0sMjY6WzIsNjBdLDQwOlsxLDIwN10sNDk6WzIsNjBdLDU0OlsyLDYwXSw1NzpbMSwyMDZdfSx7NjpbMiw2M10sMjU6WzIsNjNdLDI2OlsyLDYzXSw0MDpbMiw2M10sNDk6WzIsNjNdLDU0OlsyLDYzXSw1NzpbMiw2M119LHs2OlsyLDY0XSwyNTpbMiw2NF0sMjY6WzIsNjRdLDQwOlsyLDY0XSw0OTpbMiw2NF0sNTQ6WzIsNjRdLDU3OlsyLDY0XX0sezY6WzIsNjVdLDI1OlsyLDY1XSwyNjpbMiw2NV0sNDA6WzIsNjVdLDQ5OlsyLDY1XSw1NDpbMiw2NV0sNTc6WzIsNjVdfSx7NjpbMiw2Nl0sMjU6WzIsNjZdLDI2OlsyLDY2XSw0MDpbMiw2Nl0sNDk6WzIsNjZdLDU0OlsyLDY2XSw1NzpbMiw2Nl19LHsyNzoxNDksMjg6WzEsNzNdfSx7ODoyMDIsOToxMTgsMTA6MjAsMTE6MjEsMTI6WzEsMjJdLDEzOjgsMTQ6OSwxNToxMCwxNjoxMSwxNzoxMiwxODoxMywxOToxNCwyMDoxNSwyMToxNiwyMjoxNywyMzoxOCwyNDoxOSwyNTpbMSwxNDddLDI3OjYyLDI4OlsxLDczXSwyOTo0OSwzMDpbMSw3MV0sMzE6WzEsNzJdLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OlsxLDUzXSwzNzpbMSw1NF0sMzg6WzEsNTVdLDM5OjIzLDQ0OjYzLDQ1OlsxLDQ1XSw0NjpbMSw0Nl0sNDc6WzEsMjldLDUwOjMwLDUxOlsxLDYwXSw1MjpbMSw2MV0sNTg6NDcsNTk6NDgsNjA6MTQ4LDYxOjM2LDYzOjI1LDY0OjI2LDY1OjI3LDc2OlsxLDcwXSw3OTpbMSw0M10sODM6WzEsMjhdLDg3OjE0NSw4ODpbMSw1OF0sODk6WzEsNTldLDkwOlsxLDU3XSw5MTpbMSwxNDRdLDk0OjE0Niw5NjpbMSwzOF0sMTAwOlsxLDQ0XSwxMDE6WzEsNTZdLDEwMzozOSwxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA3OjQwLDEwODpbMSw2N10sMTA5OjQxLDExMDpbMSw2OF0sMTExOjY5LDExOTpbMSw0Ml0sMTI0OjM3LDEyNTpbMSw2NF0sMTI3OlsxLDMxXSwxMjg6WzEsMzJdLDEyOTpbMSwzM10sMTMwOlsxLDM0XSwxMzE6WzEsMzVdfSx7MTpbMiw1MF0sNjpbMiw1MF0sMjU6WzIsNTBdLDI2OlsyLDUwXSw0OTpbMiw1MF0sNTQ6WzIsNTBdLDU3OlsyLDUwXSw3MzpbMiw1MF0sNzg6WzIsNTBdLDg2OlsyLDUwXSw5MTpbMiw1MF0sOTM6WzIsNTBdLDEwMjpbMiw1MF0sMTA0OlsyLDUwXSwxMDU6WzIsNTBdLDEwNjpbMiw1MF0sMTEwOlsyLDUwXSwxMTg6WzIsNTBdLDEyNjpbMiw1MF0sMTI4OlsyLDUwXSwxMjk6WzIsNTBdLDEzMjpbMiw1MF0sMTMzOlsyLDUwXSwxMzQ6WzIsNTBdLDEzNTpbMiw1MF0sMTM2OlsyLDUwXSwxMzc6WzIsNTBdfSx7MTpbMiwxODZdLDY6WzIsMTg2XSwyNTpbMiwxODZdLDI2OlsyLDE4Nl0sNDk6WzIsMTg2XSw1NDpbMiwxODZdLDU3OlsyLDE4Nl0sNzM6WzIsMTg2XSw3ODpbMiwxODZdLDg2OlsyLDE4Nl0sOTE6WzIsMTg2XSw5MzpbMiwxODZdLDEwMjpbMiwxODZdLDEwMzo4NywxMDQ6WzIsMTg2XSwxMDU6WzIsMTg2XSwxMDY6WzIsMTg2XSwxMDk6ODgsMTEwOlsyLDE4Nl0sMTExOjY5LDExODpbMiwxODZdLDEyNjpbMiwxODZdLDEyODpbMiwxODZdLDEyOTpbMiwxODZdLDEzMjpbMSw3OF0sMTMzOlsyLDE4Nl0sMTM0OlsyLDE4Nl0sMTM1OlsyLDE4Nl0sMTM2OlsyLDE4Nl0sMTM3OlsyLDE4Nl19LHsxMDM6OTAsMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwOTo5MSwxMTA6WzEsNjhdLDExMTo2OSwxMjY6WzEsODldfSx7MTpbMiwxODddLDY6WzIsMTg3XSwyNTpbMiwxODddLDI2OlsyLDE4N10sNDk6WzIsMTg3XSw1NDpbMiwxODddLDU3OlsyLDE4N10sNzM6WzIsMTg3XSw3ODpbMiwxODddLDg2OlsyLDE4N10sOTE6WzIsMTg3XSw5MzpbMiwxODddLDEwMjpbMiwxODddLDEwMzo4NywxMDQ6WzIsMTg3XSwxMDU6WzIsMTg3XSwxMDY6WzIsMTg3XSwxMDk6ODgsMTEwOlsyLDE4N10sMTExOjY5LDExODpbMiwxODddLDEyNjpbMiwxODddLDEyODpbMiwxODddLDEyOTpbMiwxODddLDEzMjpbMSw3OF0sMTMzOlsyLDE4N10sMTM0OlsyLDE4N10sMTM1OlsyLDE4N10sMTM2OlsyLDE4N10sMTM3OlsyLDE4N119LHsxOlsyLDE4OF0sNjpbMiwxODhdLDI1OlsyLDE4OF0sMjY6WzIsMTg4XSw0OTpbMiwxODhdLDU0OlsyLDE4OF0sNTc6WzIsMTg4XSw3MzpbMiwxODhdLDc4OlsyLDE4OF0sODY6WzIsMTg4XSw5MTpbMiwxODhdLDkzOlsyLDE4OF0sMTAyOlsyLDE4OF0sMTAzOjg3LDEwNDpbMiwxODhdLDEwNTpbMiwxODhdLDEwNjpbMiwxODhdLDEwOTo4OCwxMTA6WzIsMTg4XSwxMTE6NjksMTE4OlsyLDE4OF0sMTI2OlsyLDE4OF0sMTI4OlsyLDE4OF0sMTI5OlsyLDE4OF0sMTMyOlsxLDc4XSwxMzM6WzIsMTg4XSwxMzQ6WzIsMTg4XSwxMzU6WzIsMTg4XSwxMzY6WzIsMTg4XSwxMzc6WzIsMTg4XX0sezE6WzIsMTg5XSw2OlsyLDE4OV0sMjU6WzIsMTg5XSwyNjpbMiwxODldLDQ5OlsyLDE4OV0sNTQ6WzIsMTg5XSw1NzpbMiwxODldLDY2OlsyLDcyXSw2NzpbMiw3Ml0sNjg6WzIsNzJdLDY5OlsyLDcyXSw3MTpbMiw3Ml0sNzM6WzIsMTg5XSw3NDpbMiw3Ml0sNzg6WzIsMTg5XSw4NDpbMiw3Ml0sODU6WzIsNzJdLDg2OlsyLDE4OV0sOTE6WzIsMTg5XSw5MzpbMiwxODldLDEwMjpbMiwxODldLDEwNDpbMiwxODldLDEwNTpbMiwxODldLDEwNjpbMiwxODldLDExMDpbMiwxODldLDExODpbMiwxODldLDEyNjpbMiwxODldLDEyODpbMiwxODldLDEyOTpbMiwxODldLDEzMjpbMiwxODldLDEzMzpbMiwxODldLDEzNDpbMiwxODldLDEzNTpbMiwxODldLDEzNjpbMiwxODldLDEzNzpbMiwxODldfSx7NjI6OTMsNjY6WzEsOTVdLDY3OlsxLDk2XSw2ODpbMSw5N10sNjk6WzEsOThdLDcwOjk5LDcxOlsxLDEwMF0sNzQ6WzEsMTAxXSw4MTo5Miw4NDpbMSw5NF0sODU6WzIsMTA4XX0sezYyOjEwMyw2NjpbMSw5NV0sNjc6WzEsOTZdLDY4OlsxLDk3XSw2OTpbMSw5OF0sNzA6OTksNzE6WzEsMTAwXSw3NDpbMSwxMDFdLDgxOjEwMiw4NDpbMSw5NF0sODU6WzIsMTA4XX0sezY2OlsyLDc1XSw2NzpbMiw3NV0sNjg6WzIsNzVdLDY5OlsyLDc1XSw3MTpbMiw3NV0sNzQ6WzIsNzVdLDg0OlsyLDc1XSw4NTpbMiw3NV19LHsxOlsyLDE5MF0sNjpbMiwxOTBdLDI1OlsyLDE5MF0sMjY6WzIsMTkwXSw0OTpbMiwxOTBdLDU0OlsyLDE5MF0sNTc6WzIsMTkwXSw2NjpbMiw3Ml0sNjc6WzIsNzJdLDY4OlsyLDcyXSw2OTpbMiw3Ml0sNzE6WzIsNzJdLDczOlsyLDE5MF0sNzQ6WzIsNzJdLDc4OlsyLDE5MF0sODQ6WzIsNzJdLDg1OlsyLDcyXSw4NjpbMiwxOTBdLDkxOlsyLDE5MF0sOTM6WzIsMTkwXSwxMDI6WzIsMTkwXSwxMDQ6WzIsMTkwXSwxMDU6WzIsMTkwXSwxMDY6WzIsMTkwXSwxMTA6WzIsMTkwXSwxMTg6WzIsMTkwXSwxMjY6WzIsMTkwXSwxMjg6WzIsMTkwXSwxMjk6WzIsMTkwXSwxMzI6WzIsMTkwXSwxMzM6WzIsMTkwXSwxMzQ6WzIsMTkwXSwxMzU6WzIsMTkwXSwxMzY6WzIsMTkwXSwxMzc6WzIsMTkwXX0sezE6WzIsMTkxXSw2OlsyLDE5MV0sMjU6WzIsMTkxXSwyNjpbMiwxOTFdLDQ5OlsyLDE5MV0sNTQ6WzIsMTkxXSw1NzpbMiwxOTFdLDczOlsyLDE5MV0sNzg6WzIsMTkxXSw4NjpbMiwxOTFdLDkxOlsyLDE5MV0sOTM6WzIsMTkxXSwxMDI6WzIsMTkxXSwxMDQ6WzIsMTkxXSwxMDU6WzIsMTkxXSwxMDY6WzIsMTkxXSwxMTA6WzIsMTkxXSwxMTg6WzIsMTkxXSwxMjY6WzIsMTkxXSwxMjg6WzIsMTkxXSwxMjk6WzIsMTkxXSwxMzI6WzIsMTkxXSwxMzM6WzIsMTkxXSwxMzQ6WzIsMTkxXSwxMzU6WzIsMTkxXSwxMzY6WzIsMTkxXSwxMzc6WzIsMTkxXX0sezE6WzIsMTkyXSw2OlsyLDE5Ml0sMjU6WzIsMTkyXSwyNjpbMiwxOTJdLDQ5OlsyLDE5Ml0sNTQ6WzIsMTkyXSw1NzpbMiwxOTJdLDczOlsyLDE5Ml0sNzg6WzIsMTkyXSw4NjpbMiwxOTJdLDkxOlsyLDE5Ml0sOTM6WzIsMTkyXSwxMDI6WzIsMTkyXSwxMDQ6WzIsMTkyXSwxMDU6WzIsMTkyXSwxMDY6WzIsMTkyXSwxMTA6WzIsMTkyXSwxMTg6WzIsMTkyXSwxMjY6WzIsMTkyXSwxMjg6WzIsMTkyXSwxMjk6WzIsMTkyXSwxMzI6WzIsMTkyXSwxMzM6WzIsMTkyXSwxMzQ6WzIsMTkyXSwxMzU6WzIsMTkyXSwxMzY6WzIsMTkyXSwxMzc6WzIsMTkyXX0sezY6WzEsMjEwXSw4OjIwOCw5OjExOCwxMDoyMCwxMToyMSwxMjpbMSwyMl0sMTM6OCwxNDo5LDE1OjEwLDE2OjExLDE3OjEyLDE4OjEzLDE5OjE0LDIwOjE1LDIxOjE2LDIyOjE3LDIzOjE4LDI0OjE5LDI1OlsxLDIwOV0sMjc6NjIsMjg6WzEsNzNdLDI5OjQ5LDMwOlsxLDcxXSwzMTpbMSw3Ml0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6WzEsNTNdLDM3OlsxLDU0XSwzODpbMSw1NV0sMzk6MjMsNDQ6NjMsNDU6WzEsNDVdLDQ2OlsxLDQ2XSw0NzpbMSwyOV0sNTA6MzAsNTE6WzEsNjBdLDUyOlsxLDYxXSw1ODo0Nyw1OTo0OCw2MTozNiw2MzoyNSw2NDoyNiw2NToyNyw3NjpbMSw3MF0sNzk6WzEsNDNdLDgzOlsxLDI4XSw4ODpbMSw1OF0sODk6WzEsNTldLDkwOlsxLDU3XSw5NjpbMSwzOF0sMTAwOlsxLDQ0XSwxMDE6WzEsNTZdLDEwMzozOSwxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA3OjQwLDEwODpbMSw2N10sMTA5OjQxLDExMDpbMSw2OF0sMTExOjY5LDExOTpbMSw0Ml0sMTI0OjM3LDEyNTpbMSw2NF0sMTI3OlsxLDMxXSwxMjg6WzEsMzJdLDEyOTpbMSwzM10sMTMwOlsxLDM0XSwxMzE6WzEsMzVdfSx7ODoyMTEsOToxMTgsMTA6MjAsMTE6MjEsMTI6WzEsMjJdLDEzOjgsMTQ6OSwxNToxMCwxNjoxMSwxNzoxMiwxODoxMywxOToxNCwyMDoxNSwyMToxNiwyMjoxNywyMzoxOCwyNDoxOSwyNzo2MiwyODpbMSw3M10sMjk6NDksMzA6WzEsNzFdLDMxOlsxLDcyXSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjpbMSw1M10sMzc6WzEsNTRdLDM4OlsxLDU1XSwzOToyMyw0NDo2Myw0NTpbMSw0NV0sNDY6WzEsNDZdLDQ3OlsxLDI5XSw1MDozMCw1MTpbMSw2MF0sNTI6WzEsNjFdLDU4OjQ3LDU5OjQ4LDYxOjM2LDYzOjI1LDY0OjI2LDY1OjI3LDc2OlsxLDcwXSw3OTpbMSw0M10sODM6WzEsMjhdLDg4OlsxLDU4XSw4OTpbMSw1OV0sOTA6WzEsNTddLDk2OlsxLDM4XSwxMDA6WzEsNDRdLDEwMTpbMSw1Nl0sMTAzOjM5LDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDc6NDAsMTA4OlsxLDY3XSwxMDk6NDEsMTEwOlsxLDY4XSwxMTE6NjksMTE5OlsxLDQyXSwxMjQ6MzcsMTI1OlsxLDY0XSwxMjc6WzEsMzFdLDEyODpbMSwzMl0sMTI5OlsxLDMzXSwxMzA6WzEsMzRdLDEzMTpbMSwzNV19LHs1OjIxMiwyNTpbMSw1XSwxMjU6WzEsMjEzXX0sezE6WzIsMTMzXSw2OlsyLDEzM10sMjU6WzIsMTMzXSwyNjpbMiwxMzNdLDQ5OlsyLDEzM10sNTQ6WzIsMTMzXSw1NzpbMiwxMzNdLDczOlsyLDEzM10sNzg6WzIsMTMzXSw4NjpbMiwxMzNdLDkxOlsyLDEzM10sOTM6WzIsMTMzXSw5NzoyMTQsOTg6WzEsMjE1XSw5OTpbMSwyMTZdLDEwMjpbMiwxMzNdLDEwNDpbMiwxMzNdLDEwNTpbMiwxMzNdLDEwNjpbMiwxMzNdLDExMDpbMiwxMzNdLDExODpbMiwxMzNdLDEyNjpbMiwxMzNdLDEyODpbMiwxMzNdLDEyOTpbMiwxMzNdLDEzMjpbMiwxMzNdLDEzMzpbMiwxMzNdLDEzNDpbMiwxMzNdLDEzNTpbMiwxMzNdLDEzNjpbMiwxMzNdLDEzNzpbMiwxMzNdfSx7MTpbMiwxNDZdLDY6WzIsMTQ2XSwyNTpbMiwxNDZdLDI2OlsyLDE0Nl0sNDk6WzIsMTQ2XSw1NDpbMiwxNDZdLDU3OlsyLDE0Nl0sNzM6WzIsMTQ2XSw3ODpbMiwxNDZdLDg2OlsyLDE0Nl0sOTE6WzIsMTQ2XSw5MzpbMiwxNDZdLDEwMjpbMiwxNDZdLDEwNDpbMiwxNDZdLDEwNTpbMiwxNDZdLDEwNjpbMiwxNDZdLDExMDpbMiwxNDZdLDExODpbMiwxNDZdLDEyNjpbMiwxNDZdLDEyODpbMiwxNDZdLDEyOTpbMiwxNDZdLDEzMjpbMiwxNDZdLDEzMzpbMiwxNDZdLDEzNDpbMiwxNDZdLDEzNTpbMiwxNDZdLDEzNjpbMiwxNDZdLDEzNzpbMiwxNDZdfSx7MTpbMiwxNTRdLDY6WzIsMTU0XSwyNTpbMiwxNTRdLDI2OlsyLDE1NF0sNDk6WzIsMTU0XSw1NDpbMiwxNTRdLDU3OlsyLDE1NF0sNzM6WzIsMTU0XSw3ODpbMiwxNTRdLDg2OlsyLDE1NF0sOTE6WzIsMTU0XSw5MzpbMiwxNTRdLDEwMjpbMiwxNTRdLDEwNDpbMiwxNTRdLDEwNTpbMiwxNTRdLDEwNjpbMiwxNTRdLDExMDpbMiwxNTRdLDExODpbMiwxNTRdLDEyNjpbMiwxNTRdLDEyODpbMiwxNTRdLDEyOTpbMiwxNTRdLDEzMjpbMiwxNTRdLDEzMzpbMiwxNTRdLDEzNDpbMiwxNTRdLDEzNTpbMiwxNTRdLDEzNjpbMiwxNTRdLDEzNzpbMiwxNTRdfSx7MjU6WzEsMjE3XSwxMDM6ODcsMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwOTo4OCwxMTA6WzEsNjhdLDExMTo2OSwxMjY6WzEsODZdLDEyODpbMSw4MF0sMTI5OlsxLDc5XSwxMzI6WzEsNzhdLDEzMzpbMSw4MV0sMTM0OlsxLDgyXSwxMzU6WzEsODNdLDEzNjpbMSw4NF0sMTM3OlsxLDg1XX0sezEyMDoyMTgsMTIyOjIxOSwxMjM6WzEsMjIwXX0sezE6WzIsOTddLDY6WzIsOTddLDI1OlsyLDk3XSwyNjpbMiw5N10sNDk6WzIsOTddLDU0OlsyLDk3XSw1NzpbMiw5N10sNzM6WzIsOTddLDc4OlsyLDk3XSw4NjpbMiw5N10sOTE6WzIsOTddLDkzOlsyLDk3XSwxMDI6WzIsOTddLDEwNDpbMiw5N10sMTA1OlsyLDk3XSwxMDY6WzIsOTddLDExMDpbMiw5N10sMTE4OlsyLDk3XSwxMjY6WzIsOTddLDEyODpbMiw5N10sMTI5OlsyLDk3XSwxMzI6WzIsOTddLDEzMzpbMiw5N10sMTM0OlsyLDk3XSwxMzU6WzIsOTddLDEzNjpbMiw5N10sMTM3OlsyLDk3XX0sezg6MjIxLDk6MTE4LDEwOjIwLDExOjIxLDEyOlsxLDIyXSwxMzo4LDE0OjksMTU6MTAsMTY6MTEsMTc6MTIsMTg6MTMsMTk6MTQsMjA6MTUsMjE6MTYsMjI6MTcsMjM6MTgsMjQ6MTksMjc6NjIsMjg6WzEsNzNdLDI5OjQ5LDMwOlsxLDcxXSwzMTpbMSw3Ml0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6WzEsNTNdLDM3OlsxLDU0XSwzODpbMSw1NV0sMzk6MjMsNDQ6NjMsNDU6WzEsNDVdLDQ2OlsxLDQ2XSw0NzpbMSwyOV0sNTA6MzAsNTE6WzEsNjBdLDUyOlsxLDYxXSw1ODo0Nyw1OTo0OCw2MTozNiw2MzoyNSw2NDoyNiw2NToyNyw3NjpbMSw3MF0sNzk6WzEsNDNdLDgzOlsxLDI4XSw4ODpbMSw1OF0sODk6WzEsNTldLDkwOlsxLDU3XSw5NjpbMSwzOF0sMTAwOlsxLDQ0XSwxMDE6WzEsNTZdLDEwMzozOSwxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA3OjQwLDEwODpbMSw2N10sMTA5OjQxLDExMDpbMSw2OF0sMTExOjY5LDExOTpbMSw0Ml0sMTI0OjM3LDEyNTpbMSw2NF0sMTI3OlsxLDMxXSwxMjg6WzEsMzJdLDEyOTpbMSwzM10sMTMwOlsxLDM0XSwxMzE6WzEsMzVdfSx7MTpbMiwxMDBdLDU6MjIyLDY6WzIsMTAwXSwyNTpbMSw1XSwyNjpbMiwxMDBdLDQ5OlsyLDEwMF0sNTQ6WzIsMTAwXSw1NzpbMiwxMDBdLDY2OlsyLDcyXSw2NzpbMiw3Ml0sNjg6WzIsNzJdLDY5OlsyLDcyXSw3MTpbMiw3Ml0sNzM6WzIsMTAwXSw3NDpbMiw3Ml0sNzg6WzIsMTAwXSw4MDpbMSwyMjNdLDg0OlsyLDcyXSw4NTpbMiw3Ml0sODY6WzIsMTAwXSw5MTpbMiwxMDBdLDkzOlsyLDEwMF0sMTAyOlsyLDEwMF0sMTA0OlsyLDEwMF0sMTA1OlsyLDEwMF0sMTA2OlsyLDEwMF0sMTEwOlsyLDEwMF0sMTE4OlsyLDEwMF0sMTI2OlsyLDEwMF0sMTI4OlsyLDEwMF0sMTI5OlsyLDEwMF0sMTMyOlsyLDEwMF0sMTMzOlsyLDEwMF0sMTM0OlsyLDEwMF0sMTM1OlsyLDEwMF0sMTM2OlsyLDEwMF0sMTM3OlsyLDEwMF19LHsxOlsyLDEzOV0sNjpbMiwxMzldLDI1OlsyLDEzOV0sMjY6WzIsMTM5XSw0OTpbMiwxMzldLDU0OlsyLDEzOV0sNTc6WzIsMTM5XSw3MzpbMiwxMzldLDc4OlsyLDEzOV0sODY6WzIsMTM5XSw5MTpbMiwxMzldLDkzOlsyLDEzOV0sMTAyOlsyLDEzOV0sMTAzOjg3LDEwNDpbMiwxMzldLDEwNTpbMiwxMzldLDEwNjpbMiwxMzldLDEwOTo4OCwxMTA6WzIsMTM5XSwxMTE6NjksMTE4OlsyLDEzOV0sMTI2OlsyLDEzOV0sMTI4OlsxLDgwXSwxMjk6WzEsNzldLDEzMjpbMSw3OF0sMTMzOlsxLDgxXSwxMzQ6WzEsODJdLDEzNTpbMSw4M10sMTM2OlsxLDg0XSwxMzc6WzEsODVdfSx7MTpbMiw0Nl0sNjpbMiw0Nl0sMjY6WzIsNDZdLDEwMjpbMiw0Nl0sMTAzOjg3LDEwNDpbMiw0Nl0sMTA2OlsyLDQ2XSwxMDk6ODgsMTEwOlsyLDQ2XSwxMTE6NjksMTI2OlsyLDQ2XSwxMjg6WzEsODBdLDEyOTpbMSw3OV0sMTMyOlsxLDc4XSwxMzM6WzEsODFdLDEzNDpbMSw4Ml0sMTM1OlsxLDgzXSwxMzY6WzEsODRdLDEzNzpbMSw4NV19LHs2OlsxLDc0XSwxMDI6WzEsMjI0XX0sezQ6MjI1LDc6NCw4OjYsOTo3LDEwOjIwLDExOjIxLDEyOlsxLDIyXSwxMzo4LDE0OjksMTU6MTAsMTY6MTEsMTc6MTIsMTg6MTMsMTk6MTQsMjA6MTUsMjE6MTYsMjI6MTcsMjM6MTgsMjQ6MTksMjc6NjIsMjg6WzEsNzNdLDI5OjQ5LDMwOlsxLDcxXSwzMTpbMSw3Ml0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6WzEsNTNdLDM3OlsxLDU0XSwzODpbMSw1NV0sMzk6MjMsNDQ6NjMsNDU6WzEsNDVdLDQ2OlsxLDQ2XSw0NzpbMSwyOV0sNTA6MzAsNTE6WzEsNjBdLDUyOlsxLDYxXSw1ODo0Nyw1OTo0OCw2MTozNiw2MzoyNSw2NDoyNiw2NToyNyw3NjpbMSw3MF0sNzk6WzEsNDNdLDgzOlsxLDI4XSw4ODpbMSw1OF0sODk6WzEsNTldLDkwOlsxLDU3XSw5NjpbMSwzOF0sMTAwOlsxLDQ0XSwxMDE6WzEsNTZdLDEwMzozOSwxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA3OjQwLDEwODpbMSw2N10sMTA5OjQxLDExMDpbMSw2OF0sMTExOjY5LDExOTpbMSw0Ml0sMTI0OjM3LDEyNTpbMSw2NF0sMTI3OlsxLDMxXSwxMjg6WzEsMzJdLDEyOTpbMSwzM10sMTMwOlsxLDM0XSwxMzE6WzEsMzVdfSx7NjpbMiwxMjldLDI1OlsyLDEyOV0sNTQ6WzIsMTI5XSw1NzpbMSwyMjddLDkxOlsyLDEyOV0sOTI6MjI2LDkzOlsxLDE5M10sMTAzOjg3LDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDk6ODgsMTEwOlsxLDY4XSwxMTE6NjksMTI2OlsxLDg2XSwxMjg6WzEsODBdLDEyOTpbMSw3OV0sMTMyOlsxLDc4XSwxMzM6WzEsODFdLDEzNDpbMSw4Ml0sMTM1OlsxLDgzXSwxMzY6WzEsODRdLDEzNzpbMSw4NV19LHsxOlsyLDExNV0sNjpbMiwxMTVdLDI1OlsyLDExNV0sMjY6WzIsMTE1XSw0MDpbMiwxMTVdLDQ5OlsyLDExNV0sNTQ6WzIsMTE1XSw1NzpbMiwxMTVdLDY2OlsyLDExNV0sNjc6WzIsMTE1XSw2ODpbMiwxMTVdLDY5OlsyLDExNV0sNzE6WzIsMTE1XSw3MzpbMiwxMTVdLDc0OlsyLDExNV0sNzg6WzIsMTE1XSw4NDpbMiwxMTVdLDg1OlsyLDExNV0sODY6WzIsMTE1XSw5MTpbMiwxMTVdLDkzOlsyLDExNV0sMTAyOlsyLDExNV0sMTA0OlsyLDExNV0sMTA1OlsyLDExNV0sMTA2OlsyLDExNV0sMTEwOlsyLDExNV0sMTE2OlsyLDExNV0sMTE3OlsyLDExNV0sMTE4OlsyLDExNV0sMTI2OlsyLDExNV0sMTI4OlsyLDExNV0sMTI5OlsyLDExNV0sMTMyOlsyLDExNV0sMTMzOlsyLDExNV0sMTM0OlsyLDExNV0sMTM1OlsyLDExNV0sMTM2OlsyLDExNV0sMTM3OlsyLDExNV19LHs2OlsyLDUzXSwyNTpbMiw1M10sNTM6MjI4LDU0OlsxLDIyOV0sOTE6WzIsNTNdfSx7NjpbMiwxMjRdLDI1OlsyLDEyNF0sMjY6WzIsMTI0XSw1NDpbMiwxMjRdLDg2OlsyLDEyNF0sOTE6WzIsMTI0XX0sezg6MjAyLDk6MTE4LDEwOjIwLDExOjIxLDEyOlsxLDIyXSwxMzo4LDE0OjksMTU6MTAsMTY6MTEsMTc6MTIsMTg6MTMsMTk6MTQsMjA6MTUsMjE6MTYsMjI6MTcsMjM6MTgsMjQ6MTksMjU6WzEsMTQ3XSwyNzo2MiwyODpbMSw3M10sMjk6NDksMzA6WzEsNzFdLDMxOlsxLDcyXSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjpbMSw1M10sMzc6WzEsNTRdLDM4OlsxLDU1XSwzOToyMyw0NDo2Myw0NTpbMSw0NV0sNDY6WzEsNDZdLDQ3OlsxLDI5XSw1MDozMCw1MTpbMSw2MF0sNTI6WzEsNjFdLDU4OjQ3LDU5OjQ4LDYwOjE0OCw2MTozNiw2MzoyNSw2NDoyNiw2NToyNyw3NjpbMSw3MF0sNzk6WzEsNDNdLDgzOlsxLDI4XSw4NzoyMzAsODg6WzEsNThdLDg5OlsxLDU5XSw5MDpbMSw1N10sOTQ6MTQ2LDk2OlsxLDM4XSwxMDA6WzEsNDRdLDEwMTpbMSw1Nl0sMTAzOjM5LDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDc6NDAsMTA4OlsxLDY3XSwxMDk6NDEsMTEwOlsxLDY4XSwxMTE6NjksMTE5OlsxLDQyXSwxMjQ6MzcsMTI1OlsxLDY0XSwxMjc6WzEsMzFdLDEyODpbMSwzMl0sMTI5OlsxLDMzXSwxMzA6WzEsMzRdLDEzMTpbMSwzNV19LHs2OlsyLDEzMF0sMjU6WzIsMTMwXSwyNjpbMiwxMzBdLDU0OlsyLDEzMF0sODY6WzIsMTMwXSw5MTpbMiwxMzBdfSx7MTpbMiwxMTRdLDY6WzIsMTE0XSwyNTpbMiwxMTRdLDI2OlsyLDExNF0sNDA6WzIsMTE0XSw0MzpbMiwxMTRdLDQ5OlsyLDExNF0sNTQ6WzIsMTE0XSw1NzpbMiwxMTRdLDY2OlsyLDExNF0sNjc6WzIsMTE0XSw2ODpbMiwxMTRdLDY5OlsyLDExNF0sNzE6WzIsMTE0XSw3MzpbMiwxMTRdLDc0OlsyLDExNF0sNzg6WzIsMTE0XSw4MDpbMiwxMTRdLDg0OlsyLDExNF0sODU6WzIsMTE0XSw4NjpbMiwxMTRdLDkxOlsyLDExNF0sOTM6WzIsMTE0XSwxMDI6WzIsMTE0XSwxMDQ6WzIsMTE0XSwxMDU6WzIsMTE0XSwxMDY6WzIsMTE0XSwxMTA6WzIsMTE0XSwxMTY6WzIsMTE0XSwxMTc6WzIsMTE0XSwxMTg6WzIsMTE0XSwxMjY6WzIsMTE0XSwxMjg6WzIsMTE0XSwxMjk6WzIsMTE0XSwxMzA6WzIsMTE0XSwxMzE6WzIsMTE0XSwxMzI6WzIsMTE0XSwxMzM6WzIsMTE0XSwxMzQ6WzIsMTE0XSwxMzU6WzIsMTE0XSwxMzY6WzIsMTE0XSwxMzc6WzIsMTE0XSwxMzg6WzIsMTE0XX0sezU6MjMxLDI1OlsxLDVdLDEwMzo4NywxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA5Ojg4LDExMDpbMSw2OF0sMTExOjY5LDEyNjpbMSw4Nl0sMTI4OlsxLDgwXSwxMjk6WzEsNzldLDEzMjpbMSw3OF0sMTMzOlsxLDgxXSwxMzQ6WzEsODJdLDEzNTpbMSw4M10sMTM2OlsxLDg0XSwxMzc6WzEsODVdfSx7MTpbMiwxNDJdLDY6WzIsMTQyXSwyNTpbMiwxNDJdLDI2OlsyLDE0Ml0sNDk6WzIsMTQyXSw1NDpbMiwxNDJdLDU3OlsyLDE0Ml0sNzM6WzIsMTQyXSw3ODpbMiwxNDJdLDg2OlsyLDE0Ml0sOTE6WzIsMTQyXSw5MzpbMiwxNDJdLDEwMjpbMiwxNDJdLDEwMzo4NywxMDQ6WzEsNjVdLDEwNTpbMSwyMzJdLDEwNjpbMSw2Nl0sMTA5Ojg4LDExMDpbMSw2OF0sMTExOjY5LDExODpbMiwxNDJdLDEyNjpbMiwxNDJdLDEyODpbMSw4MF0sMTI5OlsxLDc5XSwxMzI6WzEsNzhdLDEzMzpbMSw4MV0sMTM0OlsxLDgyXSwxMzU6WzEsODNdLDEzNjpbMSw4NF0sMTM3OlsxLDg1XX0sezE6WzIsMTQ0XSw2OlsyLDE0NF0sMjU6WzIsMTQ0XSwyNjpbMiwxNDRdLDQ5OlsyLDE0NF0sNTQ6WzIsMTQ0XSw1NzpbMiwxNDRdLDczOlsyLDE0NF0sNzg6WzIsMTQ0XSw4NjpbMiwxNDRdLDkxOlsyLDE0NF0sOTM6WzIsMTQ0XSwxMDI6WzIsMTQ0XSwxMDM6ODcsMTA0OlsxLDY1XSwxMDU6WzEsMjMzXSwxMDY6WzEsNjZdLDEwOTo4OCwxMTA6WzEsNjhdLDExMTo2OSwxMTg6WzIsMTQ0XSwxMjY6WzIsMTQ0XSwxMjg6WzEsODBdLDEyOTpbMSw3OV0sMTMyOlsxLDc4XSwxMzM6WzEsODFdLDEzNDpbMSw4Ml0sMTM1OlsxLDgzXSwxMzY6WzEsODRdLDEzNzpbMSw4NV19LHsxOlsyLDE1MF0sNjpbMiwxNTBdLDI1OlsyLDE1MF0sMjY6WzIsMTUwXSw0OTpbMiwxNTBdLDU0OlsyLDE1MF0sNTc6WzIsMTUwXSw3MzpbMiwxNTBdLDc4OlsyLDE1MF0sODY6WzIsMTUwXSw5MTpbMiwxNTBdLDkzOlsyLDE1MF0sMTAyOlsyLDE1MF0sMTA0OlsyLDE1MF0sMTA1OlsyLDE1MF0sMTA2OlsyLDE1MF0sMTEwOlsyLDE1MF0sMTE4OlsyLDE1MF0sMTI2OlsyLDE1MF0sMTI4OlsyLDE1MF0sMTI5OlsyLDE1MF0sMTMyOlsyLDE1MF0sMTMzOlsyLDE1MF0sMTM0OlsyLDE1MF0sMTM1OlsyLDE1MF0sMTM2OlsyLDE1MF0sMTM3OlsyLDE1MF19LHsxOlsyLDE1MV0sNjpbMiwxNTFdLDI1OlsyLDE1MV0sMjY6WzIsMTUxXSw0OTpbMiwxNTFdLDU0OlsyLDE1MV0sNTc6WzIsMTUxXSw3MzpbMiwxNTFdLDc4OlsyLDE1MV0sODY6WzIsMTUxXSw5MTpbMiwxNTFdLDkzOlsyLDE1MV0sMTAyOlsyLDE1MV0sMTAzOjg3LDEwNDpbMSw2NV0sMTA1OlsyLDE1MV0sMTA2OlsxLDY2XSwxMDk6ODgsMTEwOlsxLDY4XSwxMTE6NjksMTE4OlsyLDE1MV0sMTI2OlsyLDE1MV0sMTI4OlsxLDgwXSwxMjk6WzEsNzldLDEzMjpbMSw3OF0sMTMzOlsxLDgxXSwxMzQ6WzEsODJdLDEzNTpbMSw4M10sMTM2OlsxLDg0XSwxMzc6WzEsODVdfSx7MTpbMiwxNTVdLDY6WzIsMTU1XSwyNTpbMiwxNTVdLDI2OlsyLDE1NV0sNDk6WzIsMTU1XSw1NDpbMiwxNTVdLDU3OlsyLDE1NV0sNzM6WzIsMTU1XSw3ODpbMiwxNTVdLDg2OlsyLDE1NV0sOTE6WzIsMTU1XSw5MzpbMiwxNTVdLDEwMjpbMiwxNTVdLDEwNDpbMiwxNTVdLDEwNTpbMiwxNTVdLDEwNjpbMiwxNTVdLDExMDpbMiwxNTVdLDExODpbMiwxNTVdLDEyNjpbMiwxNTVdLDEyODpbMiwxNTVdLDEyOTpbMiwxNTVdLDEzMjpbMiwxNTVdLDEzMzpbMiwxNTVdLDEzNDpbMiwxNTVdLDEzNTpbMiwxNTVdLDEzNjpbMiwxNTVdLDEzNzpbMiwxNTVdfSx7MTE2OlsyLDE1N10sMTE3OlsyLDE1N119LHsyNzoxNTksMjg6WzEsNzNdLDQ0OjE2MCw1ODoxNjEsNTk6MTYyLDc2OlsxLDcwXSw4OTpbMSwxMTRdLDkwOlsxLDExNV0sMTEzOjIzNCwxMTU6MTU4fSx7NTQ6WzEsMjM1XSwxMTY6WzIsMTYzXSwxMTc6WzIsMTYzXX0sezU0OlsyLDE1OV0sMTE2OlsyLDE1OV0sMTE3OlsyLDE1OV19LHs1NDpbMiwxNjBdLDExNjpbMiwxNjBdLDExNzpbMiwxNjBdfSx7NTQ6WzIsMTYxXSwxMTY6WzIsMTYxXSwxMTc6WzIsMTYxXX0sezU0OlsyLDE2Ml0sMTE2OlsyLDE2Ml0sMTE3OlsyLDE2Ml19LHsxOlsyLDE1Nl0sNjpbMiwxNTZdLDI1OlsyLDE1Nl0sMjY6WzIsMTU2XSw0OTpbMiwxNTZdLDU0OlsyLDE1Nl0sNTc6WzIsMTU2XSw3MzpbMiwxNTZdLDc4OlsyLDE1Nl0sODY6WzIsMTU2XSw5MTpbMiwxNTZdLDkzOlsyLDE1Nl0sMTAyOlsyLDE1Nl0sMTA0OlsyLDE1Nl0sMTA1OlsyLDE1Nl0sMTA2OlsyLDE1Nl0sMTEwOlsyLDE1Nl0sMTE4OlsyLDE1Nl0sMTI2OlsyLDE1Nl0sMTI4OlsyLDE1Nl0sMTI5OlsyLDE1Nl0sMTMyOlsyLDE1Nl0sMTMzOlsyLDE1Nl0sMTM0OlsyLDE1Nl0sMTM1OlsyLDE1Nl0sMTM2OlsyLDE1Nl0sMTM3OlsyLDE1Nl19LHs4OjIzNiw5OjExOCwxMDoyMCwxMToyMSwxMjpbMSwyMl0sMTM6OCwxNDo5LDE1OjEwLDE2OjExLDE3OjEyLDE4OjEzLDE5OjE0LDIwOjE1LDIxOjE2LDIyOjE3LDIzOjE4LDI0OjE5LDI3OjYyLDI4OlsxLDczXSwyOTo0OSwzMDpbMSw3MV0sMzE6WzEsNzJdLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OlsxLDUzXSwzNzpbMSw1NF0sMzg6WzEsNTVdLDM5OjIzLDQ0OjYzLDQ1OlsxLDQ1XSw0NjpbMSw0Nl0sNDc6WzEsMjldLDUwOjMwLDUxOlsxLDYwXSw1MjpbMSw2MV0sNTg6NDcsNTk6NDgsNjE6MzYsNjM6MjUsNjQ6MjYsNjU6MjcsNzY6WzEsNzBdLDc5OlsxLDQzXSw4MzpbMSwyOF0sODg6WzEsNThdLDg5OlsxLDU5XSw5MDpbMSw1N10sOTY6WzEsMzhdLDEwMDpbMSw0NF0sMTAxOlsxLDU2XSwxMDM6MzksMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwNzo0MCwxMDg6WzEsNjddLDEwOTo0MSwxMTA6WzEsNjhdLDExMTo2OSwxMTk6WzEsNDJdLDEyNDozNywxMjU6WzEsNjRdLDEyNzpbMSwzMV0sMTI4OlsxLDMyXSwxMjk6WzEsMzNdLDEzMDpbMSwzNF0sMTMxOlsxLDM1XX0sezg6MjM3LDk6MTE4LDEwOjIwLDExOjIxLDEyOlsxLDIyXSwxMzo4LDE0OjksMTU6MTAsMTY6MTEsMTc6MTIsMTg6MTMsMTk6MTQsMjA6MTUsMjE6MTYsMjI6MTcsMjM6MTgsMjQ6MTksMjc6NjIsMjg6WzEsNzNdLDI5OjQ5LDMwOlsxLDcxXSwzMTpbMSw3Ml0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6WzEsNTNdLDM3OlsxLDU0XSwzODpbMSw1NV0sMzk6MjMsNDQ6NjMsNDU6WzEsNDVdLDQ2OlsxLDQ2XSw0NzpbMSwyOV0sNTA6MzAsNTE6WzEsNjBdLDUyOlsxLDYxXSw1ODo0Nyw1OTo0OCw2MTozNiw2MzoyNSw2NDoyNiw2NToyNyw3NjpbMSw3MF0sNzk6WzEsNDNdLDgzOlsxLDI4XSw4ODpbMSw1OF0sODk6WzEsNTldLDkwOlsxLDU3XSw5NjpbMSwzOF0sMTAwOlsxLDQ0XSwxMDE6WzEsNTZdLDEwMzozOSwxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA3OjQwLDEwODpbMSw2N10sMTA5OjQxLDExMDpbMSw2OF0sMTExOjY5LDExOTpbMSw0Ml0sMTI0OjM3LDEyNTpbMSw2NF0sMTI3OlsxLDMxXSwxMjg6WzEsMzJdLDEyOTpbMSwzM10sMTMwOlsxLDM0XSwxMzE6WzEsMzVdfSx7NjpbMiw1M10sMjU6WzIsNTNdLDUzOjIzOCw1NDpbMSwyMzldLDc4OlsyLDUzXX0sezY6WzIsOTJdLDI1OlsyLDkyXSwyNjpbMiw5Ml0sNTQ6WzIsOTJdLDc4OlsyLDkyXX0sezY6WzIsMzldLDI1OlsyLDM5XSwyNjpbMiwzOV0sNDM6WzEsMjQwXSw1NDpbMiwzOV0sNzg6WzIsMzldfSx7NjpbMiw0Ml0sMjU6WzIsNDJdLDI2OlsyLDQyXSw1NDpbMiw0Ml0sNzg6WzIsNDJdfSx7NjpbMiw0M10sMjU6WzIsNDNdLDI2OlsyLDQzXSw0MzpbMiw0M10sNTQ6WzIsNDNdLDc4OlsyLDQzXX0sezY6WzIsNDRdLDI1OlsyLDQ0XSwyNjpbMiw0NF0sNDM6WzIsNDRdLDU0OlsyLDQ0XSw3ODpbMiw0NF19LHs2OlsyLDQ1XSwyNTpbMiw0NV0sMjY6WzIsNDVdLDQzOlsyLDQ1XSw1NDpbMiw0NV0sNzg6WzIsNDVdfSx7MTpbMiw1XSw2OlsyLDVdLDI2OlsyLDVdLDEwMjpbMiw1XX0sezE6WzIsMjVdLDY6WzIsMjVdLDI1OlsyLDI1XSwyNjpbMiwyNV0sNDk6WzIsMjVdLDU0OlsyLDI1XSw1NzpbMiwyNV0sNzM6WzIsMjVdLDc4OlsyLDI1XSw4NjpbMiwyNV0sOTE6WzIsMjVdLDkzOlsyLDI1XSw5ODpbMiwyNV0sOTk6WzIsMjVdLDEwMjpbMiwyNV0sMTA0OlsyLDI1XSwxMDU6WzIsMjVdLDEwNjpbMiwyNV0sMTEwOlsyLDI1XSwxMTg6WzIsMjVdLDEyMTpbMiwyNV0sMTIzOlsyLDI1XSwxMjY6WzIsMjVdLDEyODpbMiwyNV0sMTI5OlsyLDI1XSwxMzI6WzIsMjVdLDEzMzpbMiwyNV0sMTM0OlsyLDI1XSwxMzU6WzIsMjVdLDEzNjpbMiwyNV0sMTM3OlsyLDI1XX0sezE6WzIsMTk0XSw2OlsyLDE5NF0sMjU6WzIsMTk0XSwyNjpbMiwxOTRdLDQ5OlsyLDE5NF0sNTQ6WzIsMTk0XSw1NzpbMiwxOTRdLDczOlsyLDE5NF0sNzg6WzIsMTk0XSw4NjpbMiwxOTRdLDkxOlsyLDE5NF0sOTM6WzIsMTk0XSwxMDI6WzIsMTk0XSwxMDM6ODcsMTA0OlsyLDE5NF0sMTA1OlsyLDE5NF0sMTA2OlsyLDE5NF0sMTA5Ojg4LDExMDpbMiwxOTRdLDExMTo2OSwxMTg6WzIsMTk0XSwxMjY6WzIsMTk0XSwxMjg6WzIsMTk0XSwxMjk6WzIsMTk0XSwxMzI6WzEsNzhdLDEzMzpbMSw4MV0sMTM0OlsyLDE5NF0sMTM1OlsyLDE5NF0sMTM2OlsyLDE5NF0sMTM3OlsyLDE5NF19LHsxOlsyLDE5NV0sNjpbMiwxOTVdLDI1OlsyLDE5NV0sMjY6WzIsMTk1XSw0OTpbMiwxOTVdLDU0OlsyLDE5NV0sNTc6WzIsMTk1XSw3MzpbMiwxOTVdLDc4OlsyLDE5NV0sODY6WzIsMTk1XSw5MTpbMiwxOTVdLDkzOlsyLDE5NV0sMTAyOlsyLDE5NV0sMTAzOjg3LDEwNDpbMiwxOTVdLDEwNTpbMiwxOTVdLDEwNjpbMiwxOTVdLDEwOTo4OCwxMTA6WzIsMTk1XSwxMTE6NjksMTE4OlsyLDE5NV0sMTI2OlsyLDE5NV0sMTI4OlsyLDE5NV0sMTI5OlsyLDE5NV0sMTMyOlsxLDc4XSwxMzM6WzEsODFdLDEzNDpbMiwxOTVdLDEzNTpbMiwxOTVdLDEzNjpbMiwxOTVdLDEzNzpbMiwxOTVdfSx7MTpbMiwxOTZdLDY6WzIsMTk2XSwyNTpbMiwxOTZdLDI2OlsyLDE5Nl0sNDk6WzIsMTk2XSw1NDpbMiwxOTZdLDU3OlsyLDE5Nl0sNzM6WzIsMTk2XSw3ODpbMiwxOTZdLDg2OlsyLDE5Nl0sOTE6WzIsMTk2XSw5MzpbMiwxOTZdLDEwMjpbMiwxOTZdLDEwMzo4NywxMDQ6WzIsMTk2XSwxMDU6WzIsMTk2XSwxMDY6WzIsMTk2XSwxMDk6ODgsMTEwOlsyLDE5Nl0sMTExOjY5LDExODpbMiwxOTZdLDEyNjpbMiwxOTZdLDEyODpbMiwxOTZdLDEyOTpbMiwxOTZdLDEzMjpbMSw3OF0sMTMzOlsyLDE5Nl0sMTM0OlsyLDE5Nl0sMTM1OlsyLDE5Nl0sMTM2OlsyLDE5Nl0sMTM3OlsyLDE5Nl19LHsxOlsyLDE5N10sNjpbMiwxOTddLDI1OlsyLDE5N10sMjY6WzIsMTk3XSw0OTpbMiwxOTddLDU0OlsyLDE5N10sNTc6WzIsMTk3XSw3MzpbMiwxOTddLDc4OlsyLDE5N10sODY6WzIsMTk3XSw5MTpbMiwxOTddLDkzOlsyLDE5N10sMTAyOlsyLDE5N10sMTAzOjg3LDEwNDpbMiwxOTddLDEwNTpbMiwxOTddLDEwNjpbMiwxOTddLDEwOTo4OCwxMTA6WzIsMTk3XSwxMTE6NjksMTE4OlsyLDE5N10sMTI2OlsyLDE5N10sMTI4OlsxLDgwXSwxMjk6WzEsNzldLDEzMjpbMSw3OF0sMTMzOlsxLDgxXSwxMzQ6WzIsMTk3XSwxMzU6WzIsMTk3XSwxMzY6WzIsMTk3XSwxMzc6WzIsMTk3XX0sezE6WzIsMTk4XSw2OlsyLDE5OF0sMjU6WzIsMTk4XSwyNjpbMiwxOThdLDQ5OlsyLDE5OF0sNTQ6WzIsMTk4XSw1NzpbMiwxOThdLDczOlsyLDE5OF0sNzg6WzIsMTk4XSw4NjpbMiwxOThdLDkxOlsyLDE5OF0sOTM6WzIsMTk4XSwxMDI6WzIsMTk4XSwxMDM6ODcsMTA0OlsyLDE5OF0sMTA1OlsyLDE5OF0sMTA2OlsyLDE5OF0sMTA5Ojg4LDExMDpbMiwxOThdLDExMTo2OSwxMTg6WzIsMTk4XSwxMjY6WzIsMTk4XSwxMjg6WzEsODBdLDEyOTpbMSw3OV0sMTMyOlsxLDc4XSwxMzM6WzEsODFdLDEzNDpbMSw4Ml0sMTM1OlsyLDE5OF0sMTM2OlsyLDE5OF0sMTM3OlsxLDg1XX0sezE6WzIsMTk5XSw2OlsyLDE5OV0sMjU6WzIsMTk5XSwyNjpbMiwxOTldLDQ5OlsyLDE5OV0sNTQ6WzIsMTk5XSw1NzpbMiwxOTldLDczOlsyLDE5OV0sNzg6WzIsMTk5XSw4NjpbMiwxOTldLDkxOlsyLDE5OV0sOTM6WzIsMTk5XSwxMDI6WzIsMTk5XSwxMDM6ODcsMTA0OlsyLDE5OV0sMTA1OlsyLDE5OV0sMTA2OlsyLDE5OV0sMTA5Ojg4LDExMDpbMiwxOTldLDExMTo2OSwxMTg6WzIsMTk5XSwxMjY6WzIsMTk5XSwxMjg6WzEsODBdLDEyOTpbMSw3OV0sMTMyOlsxLDc4XSwxMzM6WzEsODFdLDEzNDpbMSw4Ml0sMTM1OlsxLDgzXSwxMzY6WzIsMTk5XSwxMzc6WzEsODVdfSx7MTpbMiwyMDBdLDY6WzIsMjAwXSwyNTpbMiwyMDBdLDI2OlsyLDIwMF0sNDk6WzIsMjAwXSw1NDpbMiwyMDBdLDU3OlsyLDIwMF0sNzM6WzIsMjAwXSw3ODpbMiwyMDBdLDg2OlsyLDIwMF0sOTE6WzIsMjAwXSw5MzpbMiwyMDBdLDEwMjpbMiwyMDBdLDEwMzo4NywxMDQ6WzIsMjAwXSwxMDU6WzIsMjAwXSwxMDY6WzIsMjAwXSwxMDk6ODgsMTEwOlsyLDIwMF0sMTExOjY5LDExODpbMiwyMDBdLDEyNjpbMiwyMDBdLDEyODpbMSw4MF0sMTI5OlsxLDc5XSwxMzI6WzEsNzhdLDEzMzpbMSw4MV0sMTM0OlsxLDgyXSwxMzU6WzIsMjAwXSwxMzY6WzIsMjAwXSwxMzc6WzIsMjAwXX0sezE6WzIsMTg1XSw2OlsyLDE4NV0sMjU6WzIsMTg1XSwyNjpbMiwxODVdLDQ5OlsyLDE4NV0sNTQ6WzIsMTg1XSw1NzpbMiwxODVdLDczOlsyLDE4NV0sNzg6WzIsMTg1XSw4NjpbMiwxODVdLDkxOlsyLDE4NV0sOTM6WzIsMTg1XSwxMDI6WzIsMTg1XSwxMDM6ODcsMTA0OlsxLDY1XSwxMDU6WzIsMTg1XSwxMDY6WzEsNjZdLDEwOTo4OCwxMTA6WzEsNjhdLDExMTo2OSwxMTg6WzIsMTg1XSwxMjY6WzEsODZdLDEyODpbMSw4MF0sMTI5OlsxLDc5XSwxMzI6WzEsNzhdLDEzMzpbMSw4MV0sMTM0OlsxLDgyXSwxMzU6WzEsODNdLDEzNjpbMSw4NF0sMTM3OlsxLDg1XX0sezE6WzIsMTg0XSw2OlsyLDE4NF0sMjU6WzIsMTg0XSwyNjpbMiwxODRdLDQ5OlsyLDE4NF0sNTQ6WzIsMTg0XSw1NzpbMiwxODRdLDczOlsyLDE4NF0sNzg6WzIsMTg0XSw4NjpbMiwxODRdLDkxOlsyLDE4NF0sOTM6WzIsMTg0XSwxMDI6WzIsMTg0XSwxMDM6ODcsMTA0OlsxLDY1XSwxMDU6WzIsMTg0XSwxMDY6WzEsNjZdLDEwOTo4OCwxMTA6WzEsNjhdLDExMTo2OSwxMTg6WzIsMTg0XSwxMjY6WzEsODZdLDEyODpbMSw4MF0sMTI5OlsxLDc5XSwxMzI6WzEsNzhdLDEzMzpbMSw4MV0sMTM0OlsxLDgyXSwxMzU6WzEsODNdLDEzNjpbMSw4NF0sMTM3OlsxLDg1XX0sezE6WzIsMTA0XSw2OlsyLDEwNF0sMjU6WzIsMTA0XSwyNjpbMiwxMDRdLDQ5OlsyLDEwNF0sNTQ6WzIsMTA0XSw1NzpbMiwxMDRdLDY2OlsyLDEwNF0sNjc6WzIsMTA0XSw2ODpbMiwxMDRdLDY5OlsyLDEwNF0sNzE6WzIsMTA0XSw3MzpbMiwxMDRdLDc0OlsyLDEwNF0sNzg6WzIsMTA0XSw4NDpbMiwxMDRdLDg1OlsyLDEwNF0sODY6WzIsMTA0XSw5MTpbMiwxMDRdLDkzOlsyLDEwNF0sMTAyOlsyLDEwNF0sMTA0OlsyLDEwNF0sMTA1OlsyLDEwNF0sMTA2OlsyLDEwNF0sMTEwOlsyLDEwNF0sMTE4OlsyLDEwNF0sMTI2OlsyLDEwNF0sMTI4OlsyLDEwNF0sMTI5OlsyLDEwNF0sMTMyOlsyLDEwNF0sMTMzOlsyLDEwNF0sMTM0OlsyLDEwNF0sMTM1OlsyLDEwNF0sMTM2OlsyLDEwNF0sMTM3OlsyLDEwNF19LHsxOlsyLDgwXSw2OlsyLDgwXSwyNTpbMiw4MF0sMjY6WzIsODBdLDQwOlsyLDgwXSw0OTpbMiw4MF0sNTQ6WzIsODBdLDU3OlsyLDgwXSw2NjpbMiw4MF0sNjc6WzIsODBdLDY4OlsyLDgwXSw2OTpbMiw4MF0sNzE6WzIsODBdLDczOlsyLDgwXSw3NDpbMiw4MF0sNzg6WzIsODBdLDgwOlsyLDgwXSw4NDpbMiw4MF0sODU6WzIsODBdLDg2OlsyLDgwXSw5MTpbMiw4MF0sOTM6WzIsODBdLDEwMjpbMiw4MF0sMTA0OlsyLDgwXSwxMDU6WzIsODBdLDEwNjpbMiw4MF0sMTEwOlsyLDgwXSwxMTg6WzIsODBdLDEyNjpbMiw4MF0sMTI4OlsyLDgwXSwxMjk6WzIsODBdLDEzMDpbMiw4MF0sMTMxOlsyLDgwXSwxMzI6WzIsODBdLDEzMzpbMiw4MF0sMTM0OlsyLDgwXSwxMzU6WzIsODBdLDEzNjpbMiw4MF0sMTM3OlsyLDgwXSwxMzg6WzIsODBdfSx7MTpbMiw4MV0sNjpbMiw4MV0sMjU6WzIsODFdLDI2OlsyLDgxXSw0MDpbMiw4MV0sNDk6WzIsODFdLDU0OlsyLDgxXSw1NzpbMiw4MV0sNjY6WzIsODFdLDY3OlsyLDgxXSw2ODpbMiw4MV0sNjk6WzIsODFdLDcxOlsyLDgxXSw3MzpbMiw4MV0sNzQ6WzIsODFdLDc4OlsyLDgxXSw4MDpbMiw4MV0sODQ6WzIsODFdLDg1OlsyLDgxXSw4NjpbMiw4MV0sOTE6WzIsODFdLDkzOlsyLDgxXSwxMDI6WzIsODFdLDEwNDpbMiw4MV0sMTA1OlsyLDgxXSwxMDY6WzIsODFdLDExMDpbMiw4MV0sMTE4OlsyLDgxXSwxMjY6WzIsODFdLDEyODpbMiw4MV0sMTI5OlsyLDgxXSwxMzA6WzIsODFdLDEzMTpbMiw4MV0sMTMyOlsyLDgxXSwxMzM6WzIsODFdLDEzNDpbMiw4MV0sMTM1OlsyLDgxXSwxMzY6WzIsODFdLDEzNzpbMiw4MV0sMTM4OlsyLDgxXX0sezE6WzIsODJdLDY6WzIsODJdLDI1OlsyLDgyXSwyNjpbMiw4Ml0sNDA6WzIsODJdLDQ5OlsyLDgyXSw1NDpbMiw4Ml0sNTc6WzIsODJdLDY2OlsyLDgyXSw2NzpbMiw4Ml0sNjg6WzIsODJdLDY5OlsyLDgyXSw3MTpbMiw4Ml0sNzM6WzIsODJdLDc0OlsyLDgyXSw3ODpbMiw4Ml0sODA6WzIsODJdLDg0OlsyLDgyXSw4NTpbMiw4Ml0sODY6WzIsODJdLDkxOlsyLDgyXSw5MzpbMiw4Ml0sMTAyOlsyLDgyXSwxMDQ6WzIsODJdLDEwNTpbMiw4Ml0sMTA2OlsyLDgyXSwxMTA6WzIsODJdLDExODpbMiw4Ml0sMTI2OlsyLDgyXSwxMjg6WzIsODJdLDEyOTpbMiw4Ml0sMTMwOlsyLDgyXSwxMzE6WzIsODJdLDEzMjpbMiw4Ml0sMTMzOlsyLDgyXSwxMzQ6WzIsODJdLDEzNTpbMiw4Ml0sMTM2OlsyLDgyXSwxMzc6WzIsODJdLDEzODpbMiw4Ml19LHsxOlsyLDgzXSw2OlsyLDgzXSwyNTpbMiw4M10sMjY6WzIsODNdLDQwOlsyLDgzXSw0OTpbMiw4M10sNTQ6WzIsODNdLDU3OlsyLDgzXSw2NjpbMiw4M10sNjc6WzIsODNdLDY4OlsyLDgzXSw2OTpbMiw4M10sNzE6WzIsODNdLDczOlsyLDgzXSw3NDpbMiw4M10sNzg6WzIsODNdLDgwOlsyLDgzXSw4NDpbMiw4M10sODU6WzIsODNdLDg2OlsyLDgzXSw5MTpbMiw4M10sOTM6WzIsODNdLDEwMjpbMiw4M10sMTA0OlsyLDgzXSwxMDU6WzIsODNdLDEwNjpbMiw4M10sMTEwOlsyLDgzXSwxMTg6WzIsODNdLDEyNjpbMiw4M10sMTI4OlsyLDgzXSwxMjk6WzIsODNdLDEzMDpbMiw4M10sMTMxOlsyLDgzXSwxMzI6WzIsODNdLDEzMzpbMiw4M10sMTM0OlsyLDgzXSwxMzU6WzIsODNdLDEzNjpbMiw4M10sMTM3OlsyLDgzXSwxMzg6WzIsODNdfSx7NzM6WzEsMjQxXX0sezU3OlsxLDE5NF0sNzM6WzIsODhdLDkyOjI0Miw5MzpbMSwxOTNdLDEwMzo4NywxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA5Ojg4LDExMDpbMSw2OF0sMTExOjY5LDEyNjpbMSw4Nl0sMTI4OlsxLDgwXSwxMjk6WzEsNzldLDEzMjpbMSw3OF0sMTMzOlsxLDgxXSwxMzQ6WzEsODJdLDEzNTpbMSw4M10sMTM2OlsxLDg0XSwxMzc6WzEsODVdfSx7NzM6WzIsODldfSx7ODoyNDMsOToxMTgsMTA6MjAsMTE6MjEsMTI6WzEsMjJdLDEzOjgsMTQ6OSwxNToxMCwxNjoxMSwxNzoxMiwxODoxMywxOToxNCwyMDoxNSwyMToxNiwyMjoxNywyMzoxOCwyNDoxOSwyNzo2MiwyODpbMSw3M10sMjk6NDksMzA6WzEsNzFdLDMxOlsxLDcyXSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjpbMSw1M10sMzc6WzEsNTRdLDM4OlsxLDU1XSwzOToyMyw0NDo2Myw0NTpbMSw0NV0sNDY6WzEsNDZdLDQ3OlsxLDI5XSw1MDozMCw1MTpbMSw2MF0sNTI6WzEsNjFdLDU4OjQ3LDU5OjQ4LDYxOjM2LDYzOjI1LDY0OjI2LDY1OjI3LDczOlsyLDEyM10sNzY6WzEsNzBdLDc5OlsxLDQzXSw4MzpbMSwyOF0sODg6WzEsNThdLDg5OlsxLDU5XSw5MDpbMSw1N10sOTY6WzEsMzhdLDEwMDpbMSw0NF0sMTAxOlsxLDU2XSwxMDM6MzksMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwNzo0MCwxMDg6WzEsNjddLDEwOTo0MSwxMTA6WzEsNjhdLDExMTo2OSwxMTk6WzEsNDJdLDEyNDozNywxMjU6WzEsNjRdLDEyNzpbMSwzMV0sMTI4OlsxLDMyXSwxMjk6WzEsMzNdLDEzMDpbMSwzNF0sMTMxOlsxLDM1XX0sezEyOlsyLDExN10sMjg6WzIsMTE3XSwzMDpbMiwxMTddLDMxOlsyLDExN10sMzM6WzIsMTE3XSwzNDpbMiwxMTddLDM1OlsyLDExN10sMzY6WzIsMTE3XSwzNzpbMiwxMTddLDM4OlsyLDExN10sNDU6WzIsMTE3XSw0NjpbMiwxMTddLDQ3OlsyLDExN10sNTE6WzIsMTE3XSw1MjpbMiwxMTddLDczOlsyLDExN10sNzY6WzIsMTE3XSw3OTpbMiwxMTddLDgzOlsyLDExN10sODg6WzIsMTE3XSw4OTpbMiwxMTddLDkwOlsyLDExN10sOTY6WzIsMTE3XSwxMDA6WzIsMTE3XSwxMDE6WzIsMTE3XSwxMDQ6WzIsMTE3XSwxMDY6WzIsMTE3XSwxMDg6WzIsMTE3XSwxMTA6WzIsMTE3XSwxMTk6WzIsMTE3XSwxMjU6WzIsMTE3XSwxMjc6WzIsMTE3XSwxMjg6WzIsMTE3XSwxMjk6WzIsMTE3XSwxMzA6WzIsMTE3XSwxMzE6WzIsMTE3XX0sezEyOlsyLDExOF0sMjg6WzIsMTE4XSwzMDpbMiwxMThdLDMxOlsyLDExOF0sMzM6WzIsMTE4XSwzNDpbMiwxMThdLDM1OlsyLDExOF0sMzY6WzIsMTE4XSwzNzpbMiwxMThdLDM4OlsyLDExOF0sNDU6WzIsMTE4XSw0NjpbMiwxMThdLDQ3OlsyLDExOF0sNTE6WzIsMTE4XSw1MjpbMiwxMThdLDczOlsyLDExOF0sNzY6WzIsMTE4XSw3OTpbMiwxMThdLDgzOlsyLDExOF0sODg6WzIsMTE4XSw4OTpbMiwxMThdLDkwOlsyLDExOF0sOTY6WzIsMTE4XSwxMDA6WzIsMTE4XSwxMDE6WzIsMTE4XSwxMDQ6WzIsMTE4XSwxMDY6WzIsMTE4XSwxMDg6WzIsMTE4XSwxMTA6WzIsMTE4XSwxMTk6WzIsMTE4XSwxMjU6WzIsMTE4XSwxMjc6WzIsMTE4XSwxMjg6WzIsMTE4XSwxMjk6WzIsMTE4XSwxMzA6WzIsMTE4XSwxMzE6WzIsMTE4XX0sezE6WzIsODddLDY6WzIsODddLDI1OlsyLDg3XSwyNjpbMiw4N10sNDA6WzIsODddLDQ5OlsyLDg3XSw1NDpbMiw4N10sNTc6WzIsODddLDY2OlsyLDg3XSw2NzpbMiw4N10sNjg6WzIsODddLDY5OlsyLDg3XSw3MTpbMiw4N10sNzM6WzIsODddLDc0OlsyLDg3XSw3ODpbMiw4N10sODA6WzIsODddLDg0OlsyLDg3XSw4NTpbMiw4N10sODY6WzIsODddLDkxOlsyLDg3XSw5MzpbMiw4N10sMTAyOlsyLDg3XSwxMDQ6WzIsODddLDEwNTpbMiw4N10sMTA2OlsyLDg3XSwxMTA6WzIsODddLDExODpbMiw4N10sMTI2OlsyLDg3XSwxMjg6WzIsODddLDEyOTpbMiw4N10sMTMwOlsyLDg3XSwxMzE6WzIsODddLDEzMjpbMiw4N10sMTMzOlsyLDg3XSwxMzQ6WzIsODddLDEzNTpbMiw4N10sMTM2OlsyLDg3XSwxMzc6WzIsODddLDEzODpbMiw4N119LHsxOlsyLDEwNV0sNjpbMiwxMDVdLDI1OlsyLDEwNV0sMjY6WzIsMTA1XSw0OTpbMiwxMDVdLDU0OlsyLDEwNV0sNTc6WzIsMTA1XSw2NjpbMiwxMDVdLDY3OlsyLDEwNV0sNjg6WzIsMTA1XSw2OTpbMiwxMDVdLDcxOlsyLDEwNV0sNzM6WzIsMTA1XSw3NDpbMiwxMDVdLDc4OlsyLDEwNV0sODQ6WzIsMTA1XSw4NTpbMiwxMDVdLDg2OlsyLDEwNV0sOTE6WzIsMTA1XSw5MzpbMiwxMDVdLDEwMjpbMiwxMDVdLDEwNDpbMiwxMDVdLDEwNTpbMiwxMDVdLDEwNjpbMiwxMDVdLDExMDpbMiwxMDVdLDExODpbMiwxMDVdLDEyNjpbMiwxMDVdLDEyODpbMiwxMDVdLDEyOTpbMiwxMDVdLDEzMjpbMiwxMDVdLDEzMzpbMiwxMDVdLDEzNDpbMiwxMDVdLDEzNTpbMiwxMDVdLDEzNjpbMiwxMDVdLDEzNzpbMiwxMDVdfSx7MTpbMiwzNl0sNjpbMiwzNl0sMjU6WzIsMzZdLDI2OlsyLDM2XSw0OTpbMiwzNl0sNTQ6WzIsMzZdLDU3OlsyLDM2XSw3MzpbMiwzNl0sNzg6WzIsMzZdLDg2OlsyLDM2XSw5MTpbMiwzNl0sOTM6WzIsMzZdLDEwMjpbMiwzNl0sMTAzOjg3LDEwNDpbMiwzNl0sMTA1OlsyLDM2XSwxMDY6WzIsMzZdLDEwOTo4OCwxMTA6WzIsMzZdLDExMTo2OSwxMTg6WzIsMzZdLDEyNjpbMiwzNl0sMTI4OlsxLDgwXSwxMjk6WzEsNzldLDEzMjpbMSw3OF0sMTMzOlsxLDgxXSwxMzQ6WzEsODJdLDEzNTpbMSw4M10sMTM2OlsxLDg0XSwxMzc6WzEsODVdfSx7ODoyNDQsOToxMTgsMTA6MjAsMTE6MjEsMTI6WzEsMjJdLDEzOjgsMTQ6OSwxNToxMCwxNjoxMSwxNzoxMiwxODoxMywxOToxNCwyMDoxNSwyMToxNiwyMjoxNywyMzoxOCwyNDoxOSwyNzo2MiwyODpbMSw3M10sMjk6NDksMzA6WzEsNzFdLDMxOlsxLDcyXSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjpbMSw1M10sMzc6WzEsNTRdLDM4OlsxLDU1XSwzOToyMyw0NDo2Myw0NTpbMSw0NV0sNDY6WzEsNDZdLDQ3OlsxLDI5XSw1MDozMCw1MTpbMSw2MF0sNTI6WzEsNjFdLDU4OjQ3LDU5OjQ4LDYxOjM2LDYzOjI1LDY0OjI2LDY1OjI3LDc2OlsxLDcwXSw3OTpbMSw0M10sODM6WzEsMjhdLDg4OlsxLDU4XSw4OTpbMSw1OV0sOTA6WzEsNTddLDk2OlsxLDM4XSwxMDA6WzEsNDRdLDEwMTpbMSw1Nl0sMTAzOjM5LDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDc6NDAsMTA4OlsxLDY3XSwxMDk6NDEsMTEwOlsxLDY4XSwxMTE6NjksMTE5OlsxLDQyXSwxMjQ6MzcsMTI1OlsxLDY0XSwxMjc6WzEsMzFdLDEyODpbMSwzMl0sMTI5OlsxLDMzXSwxMzA6WzEsMzRdLDEzMTpbMSwzNV19LHs4OjI0NSw5OjExOCwxMDoyMCwxMToyMSwxMjpbMSwyMl0sMTM6OCwxNDo5LDE1OjEwLDE2OjExLDE3OjEyLDE4OjEzLDE5OjE0LDIwOjE1LDIxOjE2LDIyOjE3LDIzOjE4LDI0OjE5LDI3OjYyLDI4OlsxLDczXSwyOTo0OSwzMDpbMSw3MV0sMzE6WzEsNzJdLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OlsxLDUzXSwzNzpbMSw1NF0sMzg6WzEsNTVdLDM5OjIzLDQ0OjYzLDQ1OlsxLDQ1XSw0NjpbMSw0Nl0sNDc6WzEsMjldLDUwOjMwLDUxOlsxLDYwXSw1MjpbMSw2MV0sNTg6NDcsNTk6NDgsNjE6MzYsNjM6MjUsNjQ6MjYsNjU6MjcsNzY6WzEsNzBdLDc5OlsxLDQzXSw4MzpbMSwyOF0sODg6WzEsNThdLDg5OlsxLDU5XSw5MDpbMSw1N10sOTY6WzEsMzhdLDEwMDpbMSw0NF0sMTAxOlsxLDU2XSwxMDM6MzksMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwNzo0MCwxMDg6WzEsNjddLDEwOTo0MSwxMTA6WzEsNjhdLDExMTo2OSwxMTk6WzEsNDJdLDEyNDozNywxMjU6WzEsNjRdLDEyNzpbMSwzMV0sMTI4OlsxLDMyXSwxMjk6WzEsMzNdLDEzMDpbMSwzNF0sMTMxOlsxLDM1XX0sezE6WzIsMTEwXSw2OlsyLDExMF0sMjU6WzIsMTEwXSwyNjpbMiwxMTBdLDQ5OlsyLDExMF0sNTQ6WzIsMTEwXSw1NzpbMiwxMTBdLDY2OlsyLDExMF0sNjc6WzIsMTEwXSw2ODpbMiwxMTBdLDY5OlsyLDExMF0sNzE6WzIsMTEwXSw3MzpbMiwxMTBdLDc0OlsyLDExMF0sNzg6WzIsMTEwXSw4NDpbMiwxMTBdLDg1OlsyLDExMF0sODY6WzIsMTEwXSw5MTpbMiwxMTBdLDkzOlsyLDExMF0sMTAyOlsyLDExMF0sMTA0OlsyLDExMF0sMTA1OlsyLDExMF0sMTA2OlsyLDExMF0sMTEwOlsyLDExMF0sMTE4OlsyLDExMF0sMTI2OlsyLDExMF0sMTI4OlsyLDExMF0sMTI5OlsyLDExMF0sMTMyOlsyLDExMF0sMTMzOlsyLDExMF0sMTM0OlsyLDExMF0sMTM1OlsyLDExMF0sMTM2OlsyLDExMF0sMTM3OlsyLDExMF19LHs2OlsyLDUzXSwyNTpbMiw1M10sNTM6MjQ2LDU0OlsxLDIyOV0sODY6WzIsNTNdfSx7NjpbMiwxMjldLDI1OlsyLDEyOV0sMjY6WzIsMTI5XSw1NDpbMiwxMjldLDU3OlsxLDI0N10sODY6WzIsMTI5XSw5MTpbMiwxMjldLDEwMzo4NywxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA5Ojg4LDExMDpbMSw2OF0sMTExOjY5LDEyNjpbMSw4Nl0sMTI4OlsxLDgwXSwxMjk6WzEsNzldLDEzMjpbMSw3OF0sMTMzOlsxLDgxXSwxMzQ6WzEsODJdLDEzNTpbMSw4M10sMTM2OlsxLDg0XSwxMzc6WzEsODVdfSx7NTA6MjQ4LDUxOlsxLDYwXSw1MjpbMSw2MV19LHs2OlsyLDU0XSwyNTpbMiw1NF0sMjY6WzIsNTRdLDI3OjExMCwyODpbMSw3M10sNDQ6MTExLDU1OjI0OSw1NjoxMDksNTg6MTEyLDU5OjExMyw3NjpbMSw3MF0sODk6WzEsMTE0XSw5MDpbMSwxMTVdfSx7NjpbMSwyNTBdLDI1OlsxLDI1MV19LHs2OlsyLDYxXSwyNTpbMiw2MV0sMjY6WzIsNjFdLDQ5OlsyLDYxXSw1NDpbMiw2MV19LHs4OjI1Miw5OjExOCwxMDoyMCwxMToyMSwxMjpbMSwyMl0sMTM6OCwxNDo5LDE1OjEwLDE2OjExLDE3OjEyLDE4OjEzLDE5OjE0LDIwOjE1LDIxOjE2LDIyOjE3LDIzOjE4LDI0OjE5LDI3OjYyLDI4OlsxLDczXSwyOTo0OSwzMDpbMSw3MV0sMzE6WzEsNzJdLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OlsxLDUzXSwzNzpbMSw1NF0sMzg6WzEsNTVdLDM5OjIzLDQ0OjYzLDQ1OlsxLDQ1XSw0NjpbMSw0Nl0sNDc6WzEsMjldLDUwOjMwLDUxOlsxLDYwXSw1MjpbMSw2MV0sNTg6NDcsNTk6NDgsNjE6MzYsNjM6MjUsNjQ6MjYsNjU6MjcsNzY6WzEsNzBdLDc5OlsxLDQzXSw4MzpbMSwyOF0sODg6WzEsNThdLDg5OlsxLDU5XSw5MDpbMSw1N10sOTY6WzEsMzhdLDEwMDpbMSw0NF0sMTAxOlsxLDU2XSwxMDM6MzksMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwNzo0MCwxMDg6WzEsNjddLDEwOTo0MSwxMTA6WzEsNjhdLDExMTo2OSwxMTk6WzEsNDJdLDEyNDozNywxMjU6WzEsNjRdLDEyNzpbMSwzMV0sMTI4OlsxLDMyXSwxMjk6WzEsMzNdLDEzMDpbMSwzNF0sMTMxOlsxLDM1XX0sezE6WzIsMjAxXSw2OlsyLDIwMV0sMjU6WzIsMjAxXSwyNjpbMiwyMDFdLDQ5OlsyLDIwMV0sNTQ6WzIsMjAxXSw1NzpbMiwyMDFdLDczOlsyLDIwMV0sNzg6WzIsMjAxXSw4NjpbMiwyMDFdLDkxOlsyLDIwMV0sOTM6WzIsMjAxXSwxMDI6WzIsMjAxXSwxMDM6ODcsMTA0OlsyLDIwMV0sMTA1OlsyLDIwMV0sMTA2OlsyLDIwMV0sMTA5Ojg4LDExMDpbMiwyMDFdLDExMTo2OSwxMTg6WzIsMjAxXSwxMjY6WzIsMjAxXSwxMjg6WzEsODBdLDEyOTpbMSw3OV0sMTMyOlsxLDc4XSwxMzM6WzEsODFdLDEzNDpbMSw4Ml0sMTM1OlsxLDgzXSwxMzY6WzEsODRdLDEzNzpbMSw4NV19LHs4OjI1Myw5OjExOCwxMDoyMCwxMToyMSwxMjpbMSwyMl0sMTM6OCwxNDo5LDE1OjEwLDE2OjExLDE3OjEyLDE4OjEzLDE5OjE0LDIwOjE1LDIxOjE2LDIyOjE3LDIzOjE4LDI0OjE5LDI3OjYyLDI4OlsxLDczXSwyOTo0OSwzMDpbMSw3MV0sMzE6WzEsNzJdLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OlsxLDUzXSwzNzpbMSw1NF0sMzg6WzEsNTVdLDM5OjIzLDQ0OjYzLDQ1OlsxLDQ1XSw0NjpbMSw0Nl0sNDc6WzEsMjldLDUwOjMwLDUxOlsxLDYwXSw1MjpbMSw2MV0sNTg6NDcsNTk6NDgsNjE6MzYsNjM6MjUsNjQ6MjYsNjU6MjcsNzY6WzEsNzBdLDc5OlsxLDQzXSw4MzpbMSwyOF0sODg6WzEsNThdLDg5OlsxLDU5XSw5MDpbMSw1N10sOTY6WzEsMzhdLDEwMDpbMSw0NF0sMTAxOlsxLDU2XSwxMDM6MzksMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwNzo0MCwxMDg6WzEsNjddLDEwOTo0MSwxMTA6WzEsNjhdLDExMTo2OSwxMTk6WzEsNDJdLDEyNDozNywxMjU6WzEsNjRdLDEyNzpbMSwzMV0sMTI4OlsxLDMyXSwxMjk6WzEsMzNdLDEzMDpbMSwzNF0sMTMxOlsxLDM1XX0sezg6MjU0LDk6MTE4LDEwOjIwLDExOjIxLDEyOlsxLDIyXSwxMzo4LDE0OjksMTU6MTAsMTY6MTEsMTc6MTIsMTg6MTMsMTk6MTQsMjA6MTUsMjE6MTYsMjI6MTcsMjM6MTgsMjQ6MTksMjc6NjIsMjg6WzEsNzNdLDI5OjQ5LDMwOlsxLDcxXSwzMTpbMSw3Ml0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6WzEsNTNdLDM3OlsxLDU0XSwzODpbMSw1NV0sMzk6MjMsNDQ6NjMsNDU6WzEsNDVdLDQ2OlsxLDQ2XSw0NzpbMSwyOV0sNTA6MzAsNTE6WzEsNjBdLDUyOlsxLDYxXSw1ODo0Nyw1OTo0OCw2MTozNiw2MzoyNSw2NDoyNiw2NToyNyw3NjpbMSw3MF0sNzk6WzEsNDNdLDgzOlsxLDI4XSw4ODpbMSw1OF0sODk6WzEsNTldLDkwOlsxLDU3XSw5NjpbMSwzOF0sMTAwOlsxLDQ0XSwxMDE6WzEsNTZdLDEwMzozOSwxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA3OjQwLDEwODpbMSw2N10sMTA5OjQxLDExMDpbMSw2OF0sMTExOjY5LDExOTpbMSw0Ml0sMTI0OjM3LDEyNTpbMSw2NF0sMTI3OlsxLDMxXSwxMjg6WzEsMzJdLDEyOTpbMSwzM10sMTMwOlsxLDM0XSwxMzE6WzEsMzVdfSx7MTpbMiwyMDRdLDY6WzIsMjA0XSwyNTpbMiwyMDRdLDI2OlsyLDIwNF0sNDk6WzIsMjA0XSw1NDpbMiwyMDRdLDU3OlsyLDIwNF0sNzM6WzIsMjA0XSw3ODpbMiwyMDRdLDg2OlsyLDIwNF0sOTE6WzIsMjA0XSw5MzpbMiwyMDRdLDEwMjpbMiwyMDRdLDEwMzo4NywxMDQ6WzIsMjA0XSwxMDU6WzIsMjA0XSwxMDY6WzIsMjA0XSwxMDk6ODgsMTEwOlsyLDIwNF0sMTExOjY5LDExODpbMiwyMDRdLDEyNjpbMiwyMDRdLDEyODpbMSw4MF0sMTI5OlsxLDc5XSwxMzI6WzEsNzhdLDEzMzpbMSw4MV0sMTM0OlsxLDgyXSwxMzU6WzEsODNdLDEzNjpbMSw4NF0sMTM3OlsxLDg1XX0sezE6WzIsMTgzXSw2OlsyLDE4M10sMjU6WzIsMTgzXSwyNjpbMiwxODNdLDQ5OlsyLDE4M10sNTQ6WzIsMTgzXSw1NzpbMiwxODNdLDczOlsyLDE4M10sNzg6WzIsMTgzXSw4NjpbMiwxODNdLDkxOlsyLDE4M10sOTM6WzIsMTgzXSwxMDI6WzIsMTgzXSwxMDQ6WzIsMTgzXSwxMDU6WzIsMTgzXSwxMDY6WzIsMTgzXSwxMTA6WzIsMTgzXSwxMTg6WzIsMTgzXSwxMjY6WzIsMTgzXSwxMjg6WzIsMTgzXSwxMjk6WzIsMTgzXSwxMzI6WzIsMTgzXSwxMzM6WzIsMTgzXSwxMzQ6WzIsMTgzXSwxMzU6WzIsMTgzXSwxMzY6WzIsMTgzXSwxMzc6WzIsMTgzXX0sezg6MjU1LDk6MTE4LDEwOjIwLDExOjIxLDEyOlsxLDIyXSwxMzo4LDE0OjksMTU6MTAsMTY6MTEsMTc6MTIsMTg6MTMsMTk6MTQsMjA6MTUsMjE6MTYsMjI6MTcsMjM6MTgsMjQ6MTksMjc6NjIsMjg6WzEsNzNdLDI5OjQ5LDMwOlsxLDcxXSwzMTpbMSw3Ml0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6WzEsNTNdLDM3OlsxLDU0XSwzODpbMSw1NV0sMzk6MjMsNDQ6NjMsNDU6WzEsNDVdLDQ2OlsxLDQ2XSw0NzpbMSwyOV0sNTA6MzAsNTE6WzEsNjBdLDUyOlsxLDYxXSw1ODo0Nyw1OTo0OCw2MTozNiw2MzoyNSw2NDoyNiw2NToyNyw3NjpbMSw3MF0sNzk6WzEsNDNdLDgzOlsxLDI4XSw4ODpbMSw1OF0sODk6WzEsNTldLDkwOlsxLDU3XSw5NjpbMSwzOF0sMTAwOlsxLDQ0XSwxMDE6WzEsNTZdLDEwMzozOSwxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA3OjQwLDEwODpbMSw2N10sMTA5OjQxLDExMDpbMSw2OF0sMTExOjY5LDExOTpbMSw0Ml0sMTI0OjM3LDEyNTpbMSw2NF0sMTI3OlsxLDMxXSwxMjg6WzEsMzJdLDEyOTpbMSwzM10sMTMwOlsxLDM0XSwxMzE6WzEsMzVdfSx7MTpbMiwxMzRdLDY6WzIsMTM0XSwyNTpbMiwxMzRdLDI2OlsyLDEzNF0sNDk6WzIsMTM0XSw1NDpbMiwxMzRdLDU3OlsyLDEzNF0sNzM6WzIsMTM0XSw3ODpbMiwxMzRdLDg2OlsyLDEzNF0sOTE6WzIsMTM0XSw5MzpbMiwxMzRdLDk4OlsxLDI1Nl0sMTAyOlsyLDEzNF0sMTA0OlsyLDEzNF0sMTA1OlsyLDEzNF0sMTA2OlsyLDEzNF0sMTEwOlsyLDEzNF0sMTE4OlsyLDEzNF0sMTI2OlsyLDEzNF0sMTI4OlsyLDEzNF0sMTI5OlsyLDEzNF0sMTMyOlsyLDEzNF0sMTMzOlsyLDEzNF0sMTM0OlsyLDEzNF0sMTM1OlsyLDEzNF0sMTM2OlsyLDEzNF0sMTM3OlsyLDEzNF19LHs1OjI1NywyNTpbMSw1XX0sezI3OjI1OCwyODpbMSw3M10sNTk6MjU5LDc2OlsxLDcwXX0sezEyMDoyNjAsMTIyOjIxOSwxMjM6WzEsMjIwXX0sezI2OlsxLDI2MV0sMTIxOlsxLDI2Ml0sMTIyOjI2MywxMjM6WzEsMjIwXX0sezI2OlsyLDE3Nl0sMTIxOlsyLDE3Nl0sMTIzOlsyLDE3Nl19LHs4OjI2NSw5OjExOCwxMDoyMCwxMToyMSwxMjpbMSwyMl0sMTM6OCwxNDo5LDE1OjEwLDE2OjExLDE3OjEyLDE4OjEzLDE5OjE0LDIwOjE1LDIxOjE2LDIyOjE3LDIzOjE4LDI0OjE5LDI3OjYyLDI4OlsxLDczXSwyOTo0OSwzMDpbMSw3MV0sMzE6WzEsNzJdLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OlsxLDUzXSwzNzpbMSw1NF0sMzg6WzEsNTVdLDM5OjIzLDQ0OjYzLDQ1OlsxLDQ1XSw0NjpbMSw0Nl0sNDc6WzEsMjldLDUwOjMwLDUxOlsxLDYwXSw1MjpbMSw2MV0sNTg6NDcsNTk6NDgsNjE6MzYsNjM6MjUsNjQ6MjYsNjU6MjcsNzY6WzEsNzBdLDc5OlsxLDQzXSw4MzpbMSwyOF0sODg6WzEsNThdLDg5OlsxLDU5XSw5MDpbMSw1N10sOTU6MjY0LDk2OlsxLDM4XSwxMDA6WzEsNDRdLDEwMTpbMSw1Nl0sMTAzOjM5LDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDc6NDAsMTA4OlsxLDY3XSwxMDk6NDEsMTEwOlsxLDY4XSwxMTE6NjksMTE5OlsxLDQyXSwxMjQ6MzcsMTI1OlsxLDY0XSwxMjc6WzEsMzFdLDEyODpbMSwzMl0sMTI5OlsxLDMzXSwxMzA6WzEsMzRdLDEzMTpbMSwzNV19LHsxOlsyLDk4XSw1OjI2Niw2OlsyLDk4XSwyNTpbMSw1XSwyNjpbMiw5OF0sNDk6WzIsOThdLDU0OlsyLDk4XSw1NzpbMiw5OF0sNzM6WzIsOThdLDc4OlsyLDk4XSw4NjpbMiw5OF0sOTE6WzIsOThdLDkzOlsyLDk4XSwxMDI6WzIsOThdLDEwMzo4NywxMDQ6WzEsNjVdLDEwNTpbMiw5OF0sMTA2OlsxLDY2XSwxMDk6ODgsMTEwOlsxLDY4XSwxMTE6NjksMTE4OlsyLDk4XSwxMjY6WzIsOThdLDEyODpbMSw4MF0sMTI5OlsxLDc5XSwxMzI6WzEsNzhdLDEzMzpbMSw4MV0sMTM0OlsxLDgyXSwxMzU6WzEsODNdLDEzNjpbMSw4NF0sMTM3OlsxLDg1XX0sezE6WzIsMTAxXSw2OlsyLDEwMV0sMjU6WzIsMTAxXSwyNjpbMiwxMDFdLDQ5OlsyLDEwMV0sNTQ6WzIsMTAxXSw1NzpbMiwxMDFdLDczOlsyLDEwMV0sNzg6WzIsMTAxXSw4NjpbMiwxMDFdLDkxOlsyLDEwMV0sOTM6WzIsMTAxXSwxMDI6WzIsMTAxXSwxMDQ6WzIsMTAxXSwxMDU6WzIsMTAxXSwxMDY6WzIsMTAxXSwxMTA6WzIsMTAxXSwxMTg6WzIsMTAxXSwxMjY6WzIsMTAxXSwxMjg6WzIsMTAxXSwxMjk6WzIsMTAxXSwxMzI6WzIsMTAxXSwxMzM6WzIsMTAxXSwxMzQ6WzIsMTAxXSwxMzU6WzIsMTAxXSwxMzY6WzIsMTAxXSwxMzc6WzIsMTAxXX0sezg6MjY3LDk6MTE4LDEwOjIwLDExOjIxLDEyOlsxLDIyXSwxMzo4LDE0OjksMTU6MTAsMTY6MTEsMTc6MTIsMTg6MTMsMTk6MTQsMjA6MTUsMjE6MTYsMjI6MTcsMjM6MTgsMjQ6MTksMjc6NjIsMjg6WzEsNzNdLDI5OjQ5LDMwOlsxLDcxXSwzMTpbMSw3Ml0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6WzEsNTNdLDM3OlsxLDU0XSwzODpbMSw1NV0sMzk6MjMsNDQ6NjMsNDU6WzEsNDVdLDQ2OlsxLDQ2XSw0NzpbMSwyOV0sNTA6MzAsNTE6WzEsNjBdLDUyOlsxLDYxXSw1ODo0Nyw1OTo0OCw2MTozNiw2MzoyNSw2NDoyNiw2NToyNyw3NjpbMSw3MF0sNzk6WzEsNDNdLDgzOlsxLDI4XSw4ODpbMSw1OF0sODk6WzEsNTldLDkwOlsxLDU3XSw5NjpbMSwzOF0sMTAwOlsxLDQ0XSwxMDE6WzEsNTZdLDEwMzozOSwxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA3OjQwLDEwODpbMSw2N10sMTA5OjQxLDExMDpbMSw2OF0sMTExOjY5LDExOTpbMSw0Ml0sMTI0OjM3LDEyNTpbMSw2NF0sMTI3OlsxLDMxXSwxMjg6WzEsMzJdLDEyOTpbMSwzM10sMTMwOlsxLDM0XSwxMzE6WzEsMzVdfSx7MTpbMiwxNDBdLDY6WzIsMTQwXSwyNTpbMiwxNDBdLDI2OlsyLDE0MF0sNDk6WzIsMTQwXSw1NDpbMiwxNDBdLDU3OlsyLDE0MF0sNjY6WzIsMTQwXSw2NzpbMiwxNDBdLDY4OlsyLDE0MF0sNjk6WzIsMTQwXSw3MTpbMiwxNDBdLDczOlsyLDE0MF0sNzQ6WzIsMTQwXSw3ODpbMiwxNDBdLDg0OlsyLDE0MF0sODU6WzIsMTQwXSw4NjpbMiwxNDBdLDkxOlsyLDE0MF0sOTM6WzIsMTQwXSwxMDI6WzIsMTQwXSwxMDQ6WzIsMTQwXSwxMDU6WzIsMTQwXSwxMDY6WzIsMTQwXSwxMTA6WzIsMTQwXSwxMTg6WzIsMTQwXSwxMjY6WzIsMTQwXSwxMjg6WzIsMTQwXSwxMjk6WzIsMTQwXSwxMzI6WzIsMTQwXSwxMzM6WzIsMTQwXSwxMzQ6WzIsMTQwXSwxMzU6WzIsMTQwXSwxMzY6WzIsMTQwXSwxMzc6WzIsMTQwXX0sezY6WzEsNzRdLDI2OlsxLDI2OF19LHs4OjI2OSw5OjExOCwxMDoyMCwxMToyMSwxMjpbMSwyMl0sMTM6OCwxNDo5LDE1OjEwLDE2OjExLDE3OjEyLDE4OjEzLDE5OjE0LDIwOjE1LDIxOjE2LDIyOjE3LDIzOjE4LDI0OjE5LDI3OjYyLDI4OlsxLDczXSwyOTo0OSwzMDpbMSw3MV0sMzE6WzEsNzJdLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OlsxLDUzXSwzNzpbMSw1NF0sMzg6WzEsNTVdLDM5OjIzLDQ0OjYzLDQ1OlsxLDQ1XSw0NjpbMSw0Nl0sNDc6WzEsMjldLDUwOjMwLDUxOlsxLDYwXSw1MjpbMSw2MV0sNTg6NDcsNTk6NDgsNjE6MzYsNjM6MjUsNjQ6MjYsNjU6MjcsNzY6WzEsNzBdLDc5OlsxLDQzXSw4MzpbMSwyOF0sODg6WzEsNThdLDg5OlsxLDU5XSw5MDpbMSw1N10sOTY6WzEsMzhdLDEwMDpbMSw0NF0sMTAxOlsxLDU2XSwxMDM6MzksMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwNzo0MCwxMDg6WzEsNjddLDEwOTo0MSwxMTA6WzEsNjhdLDExMTo2OSwxMTk6WzEsNDJdLDEyNDozNywxMjU6WzEsNjRdLDEyNzpbMSwzMV0sMTI4OlsxLDMyXSwxMjk6WzEsMzNdLDEzMDpbMSwzNF0sMTMxOlsxLDM1XX0sezY6WzIsNjddLDEyOlsyLDExOF0sMjU6WzIsNjddLDI4OlsyLDExOF0sMzA6WzIsMTE4XSwzMTpbMiwxMThdLDMzOlsyLDExOF0sMzQ6WzIsMTE4XSwzNTpbMiwxMThdLDM2OlsyLDExOF0sMzc6WzIsMTE4XSwzODpbMiwxMThdLDQ1OlsyLDExOF0sNDY6WzIsMTE4XSw0NzpbMiwxMThdLDUxOlsyLDExOF0sNTI6WzIsMTE4XSw1NDpbMiw2N10sNzY6WzIsMTE4XSw3OTpbMiwxMThdLDgzOlsyLDExOF0sODg6WzIsMTE4XSw4OTpbMiwxMThdLDkwOlsyLDExOF0sOTE6WzIsNjddLDk2OlsyLDExOF0sMTAwOlsyLDExOF0sMTAxOlsyLDExOF0sMTA0OlsyLDExOF0sMTA2OlsyLDExOF0sMTA4OlsyLDExOF0sMTEwOlsyLDExOF0sMTE5OlsyLDExOF0sMTI1OlsyLDExOF0sMTI3OlsyLDExOF0sMTI4OlsyLDExOF0sMTI5OlsyLDExOF0sMTMwOlsyLDExOF0sMTMxOlsyLDExOF19LHs2OlsxLDI3MV0sMjU6WzEsMjcyXSw5MTpbMSwyNzBdfSx7NjpbMiw1NF0sODoyMDIsOToxMTgsMTA6MjAsMTE6MjEsMTI6WzEsMjJdLDEzOjgsMTQ6OSwxNToxMCwxNjoxMSwxNzoxMiwxODoxMywxOToxNCwyMDoxNSwyMToxNiwyMjoxNywyMzoxOCwyNDoxOSwyNTpbMiw1NF0sMjY6WzIsNTRdLDI3OjYyLDI4OlsxLDczXSwyOTo0OSwzMDpbMSw3MV0sMzE6WzEsNzJdLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OlsxLDUzXSwzNzpbMSw1NF0sMzg6WzEsNTVdLDM5OjIzLDQ0OjYzLDQ1OlsxLDQ1XSw0NjpbMSw0Nl0sNDc6WzEsMjldLDUwOjMwLDUxOlsxLDYwXSw1MjpbMSw2MV0sNTg6NDcsNTk6NDgsNjA6MTQ4LDYxOjM2LDYzOjI1LDY0OjI2LDY1OjI3LDc2OlsxLDcwXSw3OTpbMSw0M10sODM6WzEsMjhdLDg2OlsyLDU0XSw4ODpbMSw1OF0sODk6WzEsNTldLDkwOlsxLDU3XSw5MTpbMiw1NF0sOTQ6MjczLDk2OlsxLDM4XSwxMDA6WzEsNDRdLDEwMTpbMSw1Nl0sMTAzOjM5LDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDc6NDAsMTA4OlsxLDY3XSwxMDk6NDEsMTEwOlsxLDY4XSwxMTE6NjksMTE5OlsxLDQyXSwxMjQ6MzcsMTI1OlsxLDY0XSwxMjc6WzEsMzFdLDEyODpbMSwzMl0sMTI5OlsxLDMzXSwxMzA6WzEsMzRdLDEzMTpbMSwzNV19LHs2OlsyLDUzXSwyNTpbMiw1M10sMjY6WzIsNTNdLDUzOjI3NCw1NDpbMSwyMjldfSx7MTpbMiwxODBdLDY6WzIsMTgwXSwyNTpbMiwxODBdLDI2OlsyLDE4MF0sNDk6WzIsMTgwXSw1NDpbMiwxODBdLDU3OlsyLDE4MF0sNzM6WzIsMTgwXSw3ODpbMiwxODBdLDg2OlsyLDE4MF0sOTE6WzIsMTgwXSw5MzpbMiwxODBdLDEwMjpbMiwxODBdLDEwNDpbMiwxODBdLDEwNTpbMiwxODBdLDEwNjpbMiwxODBdLDExMDpbMiwxODBdLDExODpbMiwxODBdLDEyMTpbMiwxODBdLDEyNjpbMiwxODBdLDEyODpbMiwxODBdLDEyOTpbMiwxODBdLDEzMjpbMiwxODBdLDEzMzpbMiwxODBdLDEzNDpbMiwxODBdLDEzNTpbMiwxODBdLDEzNjpbMiwxODBdLDEzNzpbMiwxODBdfSx7ODoyNzUsOToxMTgsMTA6MjAsMTE6MjEsMTI6WzEsMjJdLDEzOjgsMTQ6OSwxNToxMCwxNjoxMSwxNzoxMiwxODoxMywxOToxNCwyMDoxNSwyMToxNiwyMjoxNywyMzoxOCwyNDoxOSwyNzo2MiwyODpbMSw3M10sMjk6NDksMzA6WzEsNzFdLDMxOlsxLDcyXSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjpbMSw1M10sMzc6WzEsNTRdLDM4OlsxLDU1XSwzOToyMyw0NDo2Myw0NTpbMSw0NV0sNDY6WzEsNDZdLDQ3OlsxLDI5XSw1MDozMCw1MTpbMSw2MF0sNTI6WzEsNjFdLDU4OjQ3LDU5OjQ4LDYxOjM2LDYzOjI1LDY0OjI2LDY1OjI3LDc2OlsxLDcwXSw3OTpbMSw0M10sODM6WzEsMjhdLDg4OlsxLDU4XSw4OTpbMSw1OV0sOTA6WzEsNTddLDk2OlsxLDM4XSwxMDA6WzEsNDRdLDEwMTpbMSw1Nl0sMTAzOjM5LDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDc6NDAsMTA4OlsxLDY3XSwxMDk6NDEsMTEwOlsxLDY4XSwxMTE6NjksMTE5OlsxLDQyXSwxMjQ6MzcsMTI1OlsxLDY0XSwxMjc6WzEsMzFdLDEyODpbMSwzMl0sMTI5OlsxLDMzXSwxMzA6WzEsMzRdLDEzMTpbMSwzNV19LHs4OjI3Niw5OjExOCwxMDoyMCwxMToyMSwxMjpbMSwyMl0sMTM6OCwxNDo5LDE1OjEwLDE2OjExLDE3OjEyLDE4OjEzLDE5OjE0LDIwOjE1LDIxOjE2LDIyOjE3LDIzOjE4LDI0OjE5LDI3OjYyLDI4OlsxLDczXSwyOTo0OSwzMDpbMSw3MV0sMzE6WzEsNzJdLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OlsxLDUzXSwzNzpbMSw1NF0sMzg6WzEsNTVdLDM5OjIzLDQ0OjYzLDQ1OlsxLDQ1XSw0NjpbMSw0Nl0sNDc6WzEsMjldLDUwOjMwLDUxOlsxLDYwXSw1MjpbMSw2MV0sNTg6NDcsNTk6NDgsNjE6MzYsNjM6MjUsNjQ6MjYsNjU6MjcsNzY6WzEsNzBdLDc5OlsxLDQzXSw4MzpbMSwyOF0sODg6WzEsNThdLDg5OlsxLDU5XSw5MDpbMSw1N10sOTY6WzEsMzhdLDEwMDpbMSw0NF0sMTAxOlsxLDU2XSwxMDM6MzksMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwNzo0MCwxMDg6WzEsNjddLDEwOTo0MSwxMTA6WzEsNjhdLDExMTo2OSwxMTk6WzEsNDJdLDEyNDozNywxMjU6WzEsNjRdLDEyNzpbMSwzMV0sMTI4OlsxLDMyXSwxMjk6WzEsMzNdLDEzMDpbMSwzNF0sMTMxOlsxLDM1XX0sezExNjpbMiwxNThdLDExNzpbMiwxNThdfSx7Mjc6MTU5LDI4OlsxLDczXSw0NDoxNjAsNTg6MTYxLDU5OjE2Miw3NjpbMSw3MF0sODk6WzEsMTE0XSw5MDpbMSwxMTVdLDExNToyNzd9LHsxOlsyLDE2NV0sNjpbMiwxNjVdLDI1OlsyLDE2NV0sMjY6WzIsMTY1XSw0OTpbMiwxNjVdLDU0OlsyLDE2NV0sNTc6WzIsMTY1XSw3MzpbMiwxNjVdLDc4OlsyLDE2NV0sODY6WzIsMTY1XSw5MTpbMiwxNjVdLDkzOlsyLDE2NV0sMTAyOlsyLDE2NV0sMTAzOjg3LDEwNDpbMiwxNjVdLDEwNTpbMSwyNzhdLDEwNjpbMiwxNjVdLDEwOTo4OCwxMTA6WzIsMTY1XSwxMTE6NjksMTE4OlsxLDI3OV0sMTI2OlsyLDE2NV0sMTI4OlsxLDgwXSwxMjk6WzEsNzldLDEzMjpbMSw3OF0sMTMzOlsxLDgxXSwxMzQ6WzEsODJdLDEzNTpbMSw4M10sMTM2OlsxLDg0XSwxMzc6WzEsODVdfSx7MTpbMiwxNjZdLDY6WzIsMTY2XSwyNTpbMiwxNjZdLDI2OlsyLDE2Nl0sNDk6WzIsMTY2XSw1NDpbMiwxNjZdLDU3OlsyLDE2Nl0sNzM6WzIsMTY2XSw3ODpbMiwxNjZdLDg2OlsyLDE2Nl0sOTE6WzIsMTY2XSw5MzpbMiwxNjZdLDEwMjpbMiwxNjZdLDEwMzo4NywxMDQ6WzIsMTY2XSwxMDU6WzEsMjgwXSwxMDY6WzIsMTY2XSwxMDk6ODgsMTEwOlsyLDE2Nl0sMTExOjY5LDExODpbMiwxNjZdLDEyNjpbMiwxNjZdLDEyODpbMSw4MF0sMTI5OlsxLDc5XSwxMzI6WzEsNzhdLDEzMzpbMSw4MV0sMTM0OlsxLDgyXSwxMzU6WzEsODNdLDEzNjpbMSw4NF0sMTM3OlsxLDg1XX0sezY6WzEsMjgyXSwyNTpbMSwyODNdLDc4OlsxLDI4MV19LHs2OlsyLDU0XSwxMToxNjksMjU6WzIsNTRdLDI2OlsyLDU0XSwyNzoxNzAsMjg6WzEsNzNdLDI5OjE3MSwzMDpbMSw3MV0sMzE6WzEsNzJdLDQxOjI4NCw0MjoxNjgsNDQ6MTcyLDQ2OlsxLDQ2XSw3ODpbMiw1NF0sODk6WzEsMTE0XX0sezg6Mjg1LDk6MTE4LDEwOjIwLDExOjIxLDEyOlsxLDIyXSwxMzo4LDE0OjksMTU6MTAsMTY6MTEsMTc6MTIsMTg6MTMsMTk6MTQsMjA6MTUsMjE6MTYsMjI6MTcsMjM6MTgsMjQ6MTksMjU6WzEsMjg2XSwyNzo2MiwyODpbMSw3M10sMjk6NDksMzA6WzEsNzFdLDMxOlsxLDcyXSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjpbMSw1M10sMzc6WzEsNTRdLDM4OlsxLDU1XSwzOToyMyw0NDo2Myw0NTpbMSw0NV0sNDY6WzEsNDZdLDQ3OlsxLDI5XSw1MDozMCw1MTpbMSw2MF0sNTI6WzEsNjFdLDU4OjQ3LDU5OjQ4LDYxOjM2LDYzOjI1LDY0OjI2LDY1OjI3LDc2OlsxLDcwXSw3OTpbMSw0M10sODM6WzEsMjhdLDg4OlsxLDU4XSw4OTpbMSw1OV0sOTA6WzEsNTddLDk2OlsxLDM4XSwxMDA6WzEsNDRdLDEwMTpbMSw1Nl0sMTAzOjM5LDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDc6NDAsMTA4OlsxLDY3XSwxMDk6NDEsMTEwOlsxLDY4XSwxMTE6NjksMTE5OlsxLDQyXSwxMjQ6MzcsMTI1OlsxLDY0XSwxMjc6WzEsMzFdLDEyODpbMSwzMl0sMTI5OlsxLDMzXSwxMzA6WzEsMzRdLDEzMTpbMSwzNV19LHsxOlsyLDg2XSw2OlsyLDg2XSwyNTpbMiw4Nl0sMjY6WzIsODZdLDQwOlsyLDg2XSw0OTpbMiw4Nl0sNTQ6WzIsODZdLDU3OlsyLDg2XSw2NjpbMiw4Nl0sNjc6WzIsODZdLDY4OlsyLDg2XSw2OTpbMiw4Nl0sNzE6WzIsODZdLDczOlsyLDg2XSw3NDpbMiw4Nl0sNzg6WzIsODZdLDgwOlsyLDg2XSw4NDpbMiw4Nl0sODU6WzIsODZdLDg2OlsyLDg2XSw5MTpbMiw4Nl0sOTM6WzIsODZdLDEwMjpbMiw4Nl0sMTA0OlsyLDg2XSwxMDU6WzIsODZdLDEwNjpbMiw4Nl0sMTEwOlsyLDg2XSwxMTg6WzIsODZdLDEyNjpbMiw4Nl0sMTI4OlsyLDg2XSwxMjk6WzIsODZdLDEzMDpbMiw4Nl0sMTMxOlsyLDg2XSwxMzI6WzIsODZdLDEzMzpbMiw4Nl0sMTM0OlsyLDg2XSwxMzU6WzIsODZdLDEzNjpbMiw4Nl0sMTM3OlsyLDg2XSwxMzg6WzIsODZdfSx7ODoyODcsOToxMTgsMTA6MjAsMTE6MjEsMTI6WzEsMjJdLDEzOjgsMTQ6OSwxNToxMCwxNjoxMSwxNzoxMiwxODoxMywxOToxNCwyMDoxNSwyMToxNiwyMjoxNywyMzoxOCwyNDoxOSwyNzo2MiwyODpbMSw3M10sMjk6NDksMzA6WzEsNzFdLDMxOlsxLDcyXSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjpbMSw1M10sMzc6WzEsNTRdLDM4OlsxLDU1XSwzOToyMyw0NDo2Myw0NTpbMSw0NV0sNDY6WzEsNDZdLDQ3OlsxLDI5XSw1MDozMCw1MTpbMSw2MF0sNTI6WzEsNjFdLDU4OjQ3LDU5OjQ4LDYxOjM2LDYzOjI1LDY0OjI2LDY1OjI3LDczOlsyLDEyMV0sNzY6WzEsNzBdLDc5OlsxLDQzXSw4MzpbMSwyOF0sODg6WzEsNThdLDg5OlsxLDU5XSw5MDpbMSw1N10sOTY6WzEsMzhdLDEwMDpbMSw0NF0sMTAxOlsxLDU2XSwxMDM6MzksMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwNzo0MCwxMDg6WzEsNjddLDEwOTo0MSwxMTA6WzEsNjhdLDExMTo2OSwxMTk6WzEsNDJdLDEyNDozNywxMjU6WzEsNjRdLDEyNzpbMSwzMV0sMTI4OlsxLDMyXSwxMjk6WzEsMzNdLDEzMDpbMSwzNF0sMTMxOlsxLDM1XX0sezczOlsyLDEyMl0sMTAzOjg3LDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDk6ODgsMTEwOlsxLDY4XSwxMTE6NjksMTI2OlsxLDg2XSwxMjg6WzEsODBdLDEyOTpbMSw3OV0sMTMyOlsxLDc4XSwxMzM6WzEsODFdLDEzNDpbMSw4Ml0sMTM1OlsxLDgzXSwxMzY6WzEsODRdLDEzNzpbMSw4NV19LHsxOlsyLDM3XSw2OlsyLDM3XSwyNTpbMiwzN10sMjY6WzIsMzddLDQ5OlsyLDM3XSw1NDpbMiwzN10sNTc6WzIsMzddLDczOlsyLDM3XSw3ODpbMiwzN10sODY6WzIsMzddLDkxOlsyLDM3XSw5MzpbMiwzN10sMTAyOlsyLDM3XSwxMDM6ODcsMTA0OlsyLDM3XSwxMDU6WzIsMzddLDEwNjpbMiwzN10sMTA5Ojg4LDExMDpbMiwzN10sMTExOjY5LDExODpbMiwzN10sMTI2OlsyLDM3XSwxMjg6WzEsODBdLDEyOTpbMSw3OV0sMTMyOlsxLDc4XSwxMzM6WzEsODFdLDEzNDpbMSw4Ml0sMTM1OlsxLDgzXSwxMzY6WzEsODRdLDEzNzpbMSw4NV19LHsyNjpbMSwyODhdLDEwMzo4NywxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA5Ojg4LDExMDpbMSw2OF0sMTExOjY5LDEyNjpbMSw4Nl0sMTI4OlsxLDgwXSwxMjk6WzEsNzldLDEzMjpbMSw3OF0sMTMzOlsxLDgxXSwxMzQ6WzEsODJdLDEzNTpbMSw4M10sMTM2OlsxLDg0XSwxMzc6WzEsODVdfSx7NjpbMSwyNzFdLDI1OlsxLDI3Ml0sODY6WzEsMjg5XX0sezY6WzIsNjddLDI1OlsyLDY3XSwyNjpbMiw2N10sNTQ6WzIsNjddLDg2OlsyLDY3XSw5MTpbMiw2N119LHs1OjI5MCwyNTpbMSw1XX0sezY6WzIsNTddLDI1OlsyLDU3XSwyNjpbMiw1N10sNDk6WzIsNTddLDU0OlsyLDU3XX0sezI3OjExMCwyODpbMSw3M10sNDQ6MTExLDU1OjI5MSw1NjoxMDksNTg6MTEyLDU5OjExMyw3NjpbMSw3MF0sODk6WzEsMTE0XSw5MDpbMSwxMTVdfSx7NjpbMiw1NV0sMjU6WzIsNTVdLDI2OlsyLDU1XSwyNzoxMTAsMjg6WzEsNzNdLDQ0OjExMSw0ODoyOTIsNTQ6WzIsNTVdLDU1OjEwOCw1NjoxMDksNTg6MTEyLDU5OjExMyw3NjpbMSw3MF0sODk6WzEsMTE0XSw5MDpbMSwxMTVdfSx7NjpbMiw2Ml0sMjU6WzIsNjJdLDI2OlsyLDYyXSw0OTpbMiw2Ml0sNTQ6WzIsNjJdLDEwMzo4NywxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA5Ojg4LDExMDpbMSw2OF0sMTExOjY5LDEyNjpbMSw4Nl0sMTI4OlsxLDgwXSwxMjk6WzEsNzldLDEzMjpbMSw3OF0sMTMzOlsxLDgxXSwxMzQ6WzEsODJdLDEzNTpbMSw4M10sMTM2OlsxLDg0XSwxMzc6WzEsODVdfSx7MjY6WzEsMjkzXSwxMDM6ODcsMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwOTo4OCwxMTA6WzEsNjhdLDExMTo2OSwxMjY6WzEsODZdLDEyODpbMSw4MF0sMTI5OlsxLDc5XSwxMzI6WzEsNzhdLDEzMzpbMSw4MV0sMTM0OlsxLDgyXSwxMzU6WzEsODNdLDEzNjpbMSw4NF0sMTM3OlsxLDg1XX0sezE6WzIsMjAzXSw2OlsyLDIwM10sMjU6WzIsMjAzXSwyNjpbMiwyMDNdLDQ5OlsyLDIwM10sNTQ6WzIsMjAzXSw1NzpbMiwyMDNdLDczOlsyLDIwM10sNzg6WzIsMjAzXSw4NjpbMiwyMDNdLDkxOlsyLDIwM10sOTM6WzIsMjAzXSwxMDI6WzIsMjAzXSwxMDM6ODcsMTA0OlsyLDIwM10sMTA1OlsyLDIwM10sMTA2OlsyLDIwM10sMTA5Ojg4LDExMDpbMiwyMDNdLDExMTo2OSwxMTg6WzIsMjAzXSwxMjY6WzIsMjAzXSwxMjg6WzEsODBdLDEyOTpbMSw3OV0sMTMyOlsxLDc4XSwxMzM6WzEsODFdLDEzNDpbMSw4Ml0sMTM1OlsxLDgzXSwxMzY6WzEsODRdLDEzNzpbMSw4NV19LHs1OjI5NCwyNTpbMSw1XSwxMDM6ODcsMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwOTo4OCwxMTA6WzEsNjhdLDExMTo2OSwxMjY6WzEsODZdLDEyODpbMSw4MF0sMTI5OlsxLDc5XSwxMzI6WzEsNzhdLDEzMzpbMSw4MV0sMTM0OlsxLDgyXSwxMzU6WzEsODNdLDEzNjpbMSw4NF0sMTM3OlsxLDg1XX0sezU6Mjk1LDI1OlsxLDVdfSx7MTpbMiwxMzVdLDY6WzIsMTM1XSwyNTpbMiwxMzVdLDI2OlsyLDEzNV0sNDk6WzIsMTM1XSw1NDpbMiwxMzVdLDU3OlsyLDEzNV0sNzM6WzIsMTM1XSw3ODpbMiwxMzVdLDg2OlsyLDEzNV0sOTE6WzIsMTM1XSw5MzpbMiwxMzVdLDEwMjpbMiwxMzVdLDEwNDpbMiwxMzVdLDEwNTpbMiwxMzVdLDEwNjpbMiwxMzVdLDExMDpbMiwxMzVdLDExODpbMiwxMzVdLDEyNjpbMiwxMzVdLDEyODpbMiwxMzVdLDEyOTpbMiwxMzVdLDEzMjpbMiwxMzVdLDEzMzpbMiwxMzVdLDEzNDpbMiwxMzVdLDEzNTpbMiwxMzVdLDEzNjpbMiwxMzVdLDEzNzpbMiwxMzVdfSx7NToyOTYsMjU6WzEsNV19LHs1OjI5NywyNTpbMSw1XX0sezI2OlsxLDI5OF0sMTIxOlsxLDI5OV0sMTIyOjI2MywxMjM6WzEsMjIwXX0sezE6WzIsMTc0XSw2OlsyLDE3NF0sMjU6WzIsMTc0XSwyNjpbMiwxNzRdLDQ5OlsyLDE3NF0sNTQ6WzIsMTc0XSw1NzpbMiwxNzRdLDczOlsyLDE3NF0sNzg6WzIsMTc0XSw4NjpbMiwxNzRdLDkxOlsyLDE3NF0sOTM6WzIsMTc0XSwxMDI6WzIsMTc0XSwxMDQ6WzIsMTc0XSwxMDU6WzIsMTc0XSwxMDY6WzIsMTc0XSwxMTA6WzIsMTc0XSwxMTg6WzIsMTc0XSwxMjY6WzIsMTc0XSwxMjg6WzIsMTc0XSwxMjk6WzIsMTc0XSwxMzI6WzIsMTc0XSwxMzM6WzIsMTc0XSwxMzQ6WzIsMTc0XSwxMzU6WzIsMTc0XSwxMzY6WzIsMTc0XSwxMzc6WzIsMTc0XX0sezU6MzAwLDI1OlsxLDVdfSx7MjY6WzIsMTc3XSwxMjE6WzIsMTc3XSwxMjM6WzIsMTc3XX0sezU6MzAxLDI1OlsxLDVdLDU0OlsxLDMwMl19LHsyNTpbMiwxMzFdLDU0OlsyLDEzMV0sMTAzOjg3LDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDk6ODgsMTEwOlsxLDY4XSwxMTE6NjksMTI2OlsxLDg2XSwxMjg6WzEsODBdLDEyOTpbMSw3OV0sMTMyOlsxLDc4XSwxMzM6WzEsODFdLDEzNDpbMSw4Ml0sMTM1OlsxLDgzXSwxMzY6WzEsODRdLDEzNzpbMSw4NV19LHsxOlsyLDk5XSw2OlsyLDk5XSwyNTpbMiw5OV0sMjY6WzIsOTldLDQ5OlsyLDk5XSw1NDpbMiw5OV0sNTc6WzIsOTldLDczOlsyLDk5XSw3ODpbMiw5OV0sODY6WzIsOTldLDkxOlsyLDk5XSw5MzpbMiw5OV0sMTAyOlsyLDk5XSwxMDQ6WzIsOTldLDEwNTpbMiw5OV0sMTA2OlsyLDk5XSwxMTA6WzIsOTldLDExODpbMiw5OV0sMTI2OlsyLDk5XSwxMjg6WzIsOTldLDEyOTpbMiw5OV0sMTMyOlsyLDk5XSwxMzM6WzIsOTldLDEzNDpbMiw5OV0sMTM1OlsyLDk5XSwxMzY6WzIsOTldLDEzNzpbMiw5OV19LHsxOlsyLDEwMl0sNTozMDMsNjpbMiwxMDJdLDI1OlsxLDVdLDI2OlsyLDEwMl0sNDk6WzIsMTAyXSw1NDpbMiwxMDJdLDU3OlsyLDEwMl0sNzM6WzIsMTAyXSw3ODpbMiwxMDJdLDg2OlsyLDEwMl0sOTE6WzIsMTAyXSw5MzpbMiwxMDJdLDEwMjpbMiwxMDJdLDEwMzo4NywxMDQ6WzEsNjVdLDEwNTpbMiwxMDJdLDEwNjpbMSw2Nl0sMTA5Ojg4LDExMDpbMSw2OF0sMTExOjY5LDExODpbMiwxMDJdLDEyNjpbMiwxMDJdLDEyODpbMSw4MF0sMTI5OlsxLDc5XSwxMzI6WzEsNzhdLDEzMzpbMSw4MV0sMTM0OlsxLDgyXSwxMzU6WzEsODNdLDEzNjpbMSw4NF0sMTM3OlsxLDg1XX0sezEwMjpbMSwzMDRdfSx7OTE6WzEsMzA1XSwxMDM6ODcsMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwOTo4OCwxMTA6WzEsNjhdLDExMTo2OSwxMjY6WzEsODZdLDEyODpbMSw4MF0sMTI5OlsxLDc5XSwxMzI6WzEsNzhdLDEzMzpbMSw4MV0sMTM0OlsxLDgyXSwxMzU6WzEsODNdLDEzNjpbMSw4NF0sMTM3OlsxLDg1XX0sezE6WzIsMTE2XSw2OlsyLDExNl0sMjU6WzIsMTE2XSwyNjpbMiwxMTZdLDQwOlsyLDExNl0sNDk6WzIsMTE2XSw1NDpbMiwxMTZdLDU3OlsyLDExNl0sNjY6WzIsMTE2XSw2NzpbMiwxMTZdLDY4OlsyLDExNl0sNjk6WzIsMTE2XSw3MTpbMiwxMTZdLDczOlsyLDExNl0sNzQ6WzIsMTE2XSw3ODpbMiwxMTZdLDg0OlsyLDExNl0sODU6WzIsMTE2XSw4NjpbMiwxMTZdLDkxOlsyLDExNl0sOTM6WzIsMTE2XSwxMDI6WzIsMTE2XSwxMDQ6WzIsMTE2XSwxMDU6WzIsMTE2XSwxMDY6WzIsMTE2XSwxMTA6WzIsMTE2XSwxMTY6WzIsMTE2XSwxMTc6WzIsMTE2XSwxMTg6WzIsMTE2XSwxMjY6WzIsMTE2XSwxMjg6WzIsMTE2XSwxMjk6WzIsMTE2XSwxMzI6WzIsMTE2XSwxMzM6WzIsMTE2XSwxMzQ6WzIsMTE2XSwxMzU6WzIsMTE2XSwxMzY6WzIsMTE2XSwxMzc6WzIsMTE2XX0sezg6MjAyLDk6MTE4LDEwOjIwLDExOjIxLDEyOlsxLDIyXSwxMzo4LDE0OjksMTU6MTAsMTY6MTEsMTc6MTIsMTg6MTMsMTk6MTQsMjA6MTUsMjE6MTYsMjI6MTcsMjM6MTgsMjQ6MTksMjc6NjIsMjg6WzEsNzNdLDI5OjQ5LDMwOlsxLDcxXSwzMTpbMSw3Ml0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6WzEsNTNdLDM3OlsxLDU0XSwzODpbMSw1NV0sMzk6MjMsNDQ6NjMsNDU6WzEsNDVdLDQ2OlsxLDQ2XSw0NzpbMSwyOV0sNTA6MzAsNTE6WzEsNjBdLDUyOlsxLDYxXSw1ODo0Nyw1OTo0OCw2MDoxNDgsNjE6MzYsNjM6MjUsNjQ6MjYsNjU6MjcsNzY6WzEsNzBdLDc5OlsxLDQzXSw4MzpbMSwyOF0sODg6WzEsNThdLDg5OlsxLDU5XSw5MDpbMSw1N10sOTQ6MzA2LDk2OlsxLDM4XSwxMDA6WzEsNDRdLDEwMTpbMSw1Nl0sMTAzOjM5LDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDc6NDAsMTA4OlsxLDY3XSwxMDk6NDEsMTEwOlsxLDY4XSwxMTE6NjksMTE5OlsxLDQyXSwxMjQ6MzcsMTI1OlsxLDY0XSwxMjc6WzEsMzFdLDEyODpbMSwzMl0sMTI5OlsxLDMzXSwxMzA6WzEsMzRdLDEzMTpbMSwzNV19LHs4OjIwMiw5OjExOCwxMDoyMCwxMToyMSwxMjpbMSwyMl0sMTM6OCwxNDo5LDE1OjEwLDE2OjExLDE3OjEyLDE4OjEzLDE5OjE0LDIwOjE1LDIxOjE2LDIyOjE3LDIzOjE4LDI0OjE5LDI1OlsxLDE0N10sMjc6NjIsMjg6WzEsNzNdLDI5OjQ5LDMwOlsxLDcxXSwzMTpbMSw3Ml0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6WzEsNTNdLDM3OlsxLDU0XSwzODpbMSw1NV0sMzk6MjMsNDQ6NjMsNDU6WzEsNDVdLDQ2OlsxLDQ2XSw0NzpbMSwyOV0sNTA6MzAsNTE6WzEsNjBdLDUyOlsxLDYxXSw1ODo0Nyw1OTo0OCw2MDoxNDgsNjE6MzYsNjM6MjUsNjQ6MjYsNjU6MjcsNzY6WzEsNzBdLDc5OlsxLDQzXSw4MzpbMSwyOF0sODc6MzA3LDg4OlsxLDU4XSw4OTpbMSw1OV0sOTA6WzEsNTddLDk0OjE0Niw5NjpbMSwzOF0sMTAwOlsxLDQ0XSwxMDE6WzEsNTZdLDEwMzozOSwxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA3OjQwLDEwODpbMSw2N10sMTA5OjQxLDExMDpbMSw2OF0sMTExOjY5LDExOTpbMSw0Ml0sMTI0OjM3LDEyNTpbMSw2NF0sMTI3OlsxLDMxXSwxMjg6WzEsMzJdLDEyOTpbMSwzM10sMTMwOlsxLDM0XSwxMzE6WzEsMzVdfSx7NjpbMiwxMjVdLDI1OlsyLDEyNV0sMjY6WzIsMTI1XSw1NDpbMiwxMjVdLDg2OlsyLDEyNV0sOTE6WzIsMTI1XX0sezY6WzEsMjcxXSwyNTpbMSwyNzJdLDI2OlsxLDMwOF19LHsxOlsyLDE0M10sNjpbMiwxNDNdLDI1OlsyLDE0M10sMjY6WzIsMTQzXSw0OTpbMiwxNDNdLDU0OlsyLDE0M10sNTc6WzIsMTQzXSw3MzpbMiwxNDNdLDc4OlsyLDE0M10sODY6WzIsMTQzXSw5MTpbMiwxNDNdLDkzOlsyLDE0M10sMTAyOlsyLDE0M10sMTAzOjg3LDEwNDpbMSw2NV0sMTA1OlsyLDE0M10sMTA2OlsxLDY2XSwxMDk6ODgsMTEwOlsxLDY4XSwxMTE6NjksMTE4OlsyLDE0M10sMTI2OlsyLDE0M10sMTI4OlsxLDgwXSwxMjk6WzEsNzldLDEzMjpbMSw3OF0sMTMzOlsxLDgxXSwxMzQ6WzEsODJdLDEzNTpbMSw4M10sMTM2OlsxLDg0XSwxMzc6WzEsODVdfSx7MTpbMiwxNDVdLDY6WzIsMTQ1XSwyNTpbMiwxNDVdLDI2OlsyLDE0NV0sNDk6WzIsMTQ1XSw1NDpbMiwxNDVdLDU3OlsyLDE0NV0sNzM6WzIsMTQ1XSw3ODpbMiwxNDVdLDg2OlsyLDE0NV0sOTE6WzIsMTQ1XSw5MzpbMiwxNDVdLDEwMjpbMiwxNDVdLDEwMzo4NywxMDQ6WzEsNjVdLDEwNTpbMiwxNDVdLDEwNjpbMSw2Nl0sMTA5Ojg4LDExMDpbMSw2OF0sMTExOjY5LDExODpbMiwxNDVdLDEyNjpbMiwxNDVdLDEyODpbMSw4MF0sMTI5OlsxLDc5XSwxMzI6WzEsNzhdLDEzMzpbMSw4MV0sMTM0OlsxLDgyXSwxMzU6WzEsODNdLDEzNjpbMSw4NF0sMTM3OlsxLDg1XX0sezExNjpbMiwxNjRdLDExNzpbMiwxNjRdfSx7ODozMDksOToxMTgsMTA6MjAsMTE6MjEsMTI6WzEsMjJdLDEzOjgsMTQ6OSwxNToxMCwxNjoxMSwxNzoxMiwxODoxMywxOToxNCwyMDoxNSwyMToxNiwyMjoxNywyMzoxOCwyNDoxOSwyNzo2MiwyODpbMSw3M10sMjk6NDksMzA6WzEsNzFdLDMxOlsxLDcyXSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjpbMSw1M10sMzc6WzEsNTRdLDM4OlsxLDU1XSwzOToyMyw0NDo2Myw0NTpbMSw0NV0sNDY6WzEsNDZdLDQ3OlsxLDI5XSw1MDozMCw1MTpbMSw2MF0sNTI6WzEsNjFdLDU4OjQ3LDU5OjQ4LDYxOjM2LDYzOjI1LDY0OjI2LDY1OjI3LDc2OlsxLDcwXSw3OTpbMSw0M10sODM6WzEsMjhdLDg4OlsxLDU4XSw4OTpbMSw1OV0sOTA6WzEsNTddLDk2OlsxLDM4XSwxMDA6WzEsNDRdLDEwMTpbMSw1Nl0sMTAzOjM5LDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDc6NDAsMTA4OlsxLDY3XSwxMDk6NDEsMTEwOlsxLDY4XSwxMTE6NjksMTE5OlsxLDQyXSwxMjQ6MzcsMTI1OlsxLDY0XSwxMjc6WzEsMzFdLDEyODpbMSwzMl0sMTI5OlsxLDMzXSwxMzA6WzEsMzRdLDEzMTpbMSwzNV19LHs4OjMxMCw5OjExOCwxMDoyMCwxMToyMSwxMjpbMSwyMl0sMTM6OCwxNDo5LDE1OjEwLDE2OjExLDE3OjEyLDE4OjEzLDE5OjE0LDIwOjE1LDIxOjE2LDIyOjE3LDIzOjE4LDI0OjE5LDI3OjYyLDI4OlsxLDczXSwyOTo0OSwzMDpbMSw3MV0sMzE6WzEsNzJdLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OlsxLDUzXSwzNzpbMSw1NF0sMzg6WzEsNTVdLDM5OjIzLDQ0OjYzLDQ1OlsxLDQ1XSw0NjpbMSw0Nl0sNDc6WzEsMjldLDUwOjMwLDUxOlsxLDYwXSw1MjpbMSw2MV0sNTg6NDcsNTk6NDgsNjE6MzYsNjM6MjUsNjQ6MjYsNjU6MjcsNzY6WzEsNzBdLDc5OlsxLDQzXSw4MzpbMSwyOF0sODg6WzEsNThdLDg5OlsxLDU5XSw5MDpbMSw1N10sOTY6WzEsMzhdLDEwMDpbMSw0NF0sMTAxOlsxLDU2XSwxMDM6MzksMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwNzo0MCwxMDg6WzEsNjddLDEwOTo0MSwxMTA6WzEsNjhdLDExMTo2OSwxMTk6WzEsNDJdLDEyNDozNywxMjU6WzEsNjRdLDEyNzpbMSwzMV0sMTI4OlsxLDMyXSwxMjk6WzEsMzNdLDEzMDpbMSwzNF0sMTMxOlsxLDM1XX0sezg6MzExLDk6MTE4LDEwOjIwLDExOjIxLDEyOlsxLDIyXSwxMzo4LDE0OjksMTU6MTAsMTY6MTEsMTc6MTIsMTg6MTMsMTk6MTQsMjA6MTUsMjE6MTYsMjI6MTcsMjM6MTgsMjQ6MTksMjc6NjIsMjg6WzEsNzNdLDI5OjQ5LDMwOlsxLDcxXSwzMTpbMSw3Ml0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6WzEsNTNdLDM3OlsxLDU0XSwzODpbMSw1NV0sMzk6MjMsNDQ6NjMsNDU6WzEsNDVdLDQ2OlsxLDQ2XSw0NzpbMSwyOV0sNTA6MzAsNTE6WzEsNjBdLDUyOlsxLDYxXSw1ODo0Nyw1OTo0OCw2MTozNiw2MzoyNSw2NDoyNiw2NToyNyw3NjpbMSw3MF0sNzk6WzEsNDNdLDgzOlsxLDI4XSw4ODpbMSw1OF0sODk6WzEsNTldLDkwOlsxLDU3XSw5NjpbMSwzOF0sMTAwOlsxLDQ0XSwxMDE6WzEsNTZdLDEwMzozOSwxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA3OjQwLDEwODpbMSw2N10sMTA5OjQxLDExMDpbMSw2OF0sMTExOjY5LDExOTpbMSw0Ml0sMTI0OjM3LDEyNTpbMSw2NF0sMTI3OlsxLDMxXSwxMjg6WzEsMzJdLDEyOTpbMSwzM10sMTMwOlsxLDM0XSwxMzE6WzEsMzVdfSx7MTpbMiw5MF0sNjpbMiw5MF0sMjU6WzIsOTBdLDI2OlsyLDkwXSw0MDpbMiw5MF0sNDk6WzIsOTBdLDU0OlsyLDkwXSw1NzpbMiw5MF0sNjY6WzIsOTBdLDY3OlsyLDkwXSw2ODpbMiw5MF0sNjk6WzIsOTBdLDcxOlsyLDkwXSw3MzpbMiw5MF0sNzQ6WzIsOTBdLDc4OlsyLDkwXSw4NDpbMiw5MF0sODU6WzIsOTBdLDg2OlsyLDkwXSw5MTpbMiw5MF0sOTM6WzIsOTBdLDEwMjpbMiw5MF0sMTA0OlsyLDkwXSwxMDU6WzIsOTBdLDEwNjpbMiw5MF0sMTEwOlsyLDkwXSwxMTY6WzIsOTBdLDExNzpbMiw5MF0sMTE4OlsyLDkwXSwxMjY6WzIsOTBdLDEyODpbMiw5MF0sMTI5OlsyLDkwXSwxMzI6WzIsOTBdLDEzMzpbMiw5MF0sMTM0OlsyLDkwXSwxMzU6WzIsOTBdLDEzNjpbMiw5MF0sMTM3OlsyLDkwXX0sezExOjE2OSwyNzoxNzAsMjg6WzEsNzNdLDI5OjE3MSwzMDpbMSw3MV0sMzE6WzEsNzJdLDQxOjMxMiw0MjoxNjgsNDQ6MTcyLDQ2OlsxLDQ2XSw4OTpbMSwxMTRdfSx7NjpbMiw5MV0sMTE6MTY5LDI1OlsyLDkxXSwyNjpbMiw5MV0sMjc6MTcwLDI4OlsxLDczXSwyOToxNzEsMzA6WzEsNzFdLDMxOlsxLDcyXSw0MToxNjcsNDI6MTY4LDQ0OjE3Miw0NjpbMSw0Nl0sNTQ6WzIsOTFdLDc3OjMxMyw4OTpbMSwxMTRdfSx7NjpbMiw5M10sMjU6WzIsOTNdLDI2OlsyLDkzXSw1NDpbMiw5M10sNzg6WzIsOTNdfSx7NjpbMiw0MF0sMjU6WzIsNDBdLDI2OlsyLDQwXSw1NDpbMiw0MF0sNzg6WzIsNDBdLDEwMzo4NywxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA5Ojg4LDExMDpbMSw2OF0sMTExOjY5LDEyNjpbMSw4Nl0sMTI4OlsxLDgwXSwxMjk6WzEsNzldLDEzMjpbMSw3OF0sMTMzOlsxLDgxXSwxMzQ6WzEsODJdLDEzNTpbMSw4M10sMTM2OlsxLDg0XSwxMzc6WzEsODVdfSx7ODozMTQsOToxMTgsMTA6MjAsMTE6MjEsMTI6WzEsMjJdLDEzOjgsMTQ6OSwxNToxMCwxNjoxMSwxNzoxMiwxODoxMywxOToxNCwyMDoxNSwyMToxNiwyMjoxNywyMzoxOCwyNDoxOSwyNzo2MiwyODpbMSw3M10sMjk6NDksMzA6WzEsNzFdLDMxOlsxLDcyXSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjpbMSw1M10sMzc6WzEsNTRdLDM4OlsxLDU1XSwzOToyMyw0NDo2Myw0NTpbMSw0NV0sNDY6WzEsNDZdLDQ3OlsxLDI5XSw1MDozMCw1MTpbMSw2MF0sNTI6WzEsNjFdLDU4OjQ3LDU5OjQ4LDYxOjM2LDYzOjI1LDY0OjI2LDY1OjI3LDc2OlsxLDcwXSw3OTpbMSw0M10sODM6WzEsMjhdLDg4OlsxLDU4XSw4OTpbMSw1OV0sOTA6WzEsNTddLDk2OlsxLDM4XSwxMDA6WzEsNDRdLDEwMTpbMSw1Nl0sMTAzOjM5LDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDc6NDAsMTA4OlsxLDY3XSwxMDk6NDEsMTEwOlsxLDY4XSwxMTE6NjksMTE5OlsxLDQyXSwxMjQ6MzcsMTI1OlsxLDY0XSwxMjc6WzEsMzFdLDEyODpbMSwzMl0sMTI5OlsxLDMzXSwxMzA6WzEsMzRdLDEzMTpbMSwzNV19LHs3MzpbMiwxMjBdLDEwMzo4NywxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA5Ojg4LDExMDpbMSw2OF0sMTExOjY5LDEyNjpbMSw4Nl0sMTI4OlsxLDgwXSwxMjk6WzEsNzldLDEzMjpbMSw3OF0sMTMzOlsxLDgxXSwxMzQ6WzEsODJdLDEzNTpbMSw4M10sMTM2OlsxLDg0XSwxMzc6WzEsODVdfSx7MTpbMiwzOF0sNjpbMiwzOF0sMjU6WzIsMzhdLDI2OlsyLDM4XSw0OTpbMiwzOF0sNTQ6WzIsMzhdLDU3OlsyLDM4XSw3MzpbMiwzOF0sNzg6WzIsMzhdLDg2OlsyLDM4XSw5MTpbMiwzOF0sOTM6WzIsMzhdLDEwMjpbMiwzOF0sMTA0OlsyLDM4XSwxMDU6WzIsMzhdLDEwNjpbMiwzOF0sMTEwOlsyLDM4XSwxMTg6WzIsMzhdLDEyNjpbMiwzOF0sMTI4OlsyLDM4XSwxMjk6WzIsMzhdLDEzMjpbMiwzOF0sMTMzOlsyLDM4XSwxMzQ6WzIsMzhdLDEzNTpbMiwzOF0sMTM2OlsyLDM4XSwxMzc6WzIsMzhdfSx7MTpbMiwxMTFdLDY6WzIsMTExXSwyNTpbMiwxMTFdLDI2OlsyLDExMV0sNDk6WzIsMTExXSw1NDpbMiwxMTFdLDU3OlsyLDExMV0sNjY6WzIsMTExXSw2NzpbMiwxMTFdLDY4OlsyLDExMV0sNjk6WzIsMTExXSw3MTpbMiwxMTFdLDczOlsyLDExMV0sNzQ6WzIsMTExXSw3ODpbMiwxMTFdLDg0OlsyLDExMV0sODU6WzIsMTExXSw4NjpbMiwxMTFdLDkxOlsyLDExMV0sOTM6WzIsMTExXSwxMDI6WzIsMTExXSwxMDQ6WzIsMTExXSwxMDU6WzIsMTExXSwxMDY6WzIsMTExXSwxMTA6WzIsMTExXSwxMTg6WzIsMTExXSwxMjY6WzIsMTExXSwxMjg6WzIsMTExXSwxMjk6WzIsMTExXSwxMzI6WzIsMTExXSwxMzM6WzIsMTExXSwxMzQ6WzIsMTExXSwxMzU6WzIsMTExXSwxMzY6WzIsMTExXSwxMzc6WzIsMTExXX0sezE6WzIsNDldLDY6WzIsNDldLDI1OlsyLDQ5XSwyNjpbMiw0OV0sNDk6WzIsNDldLDU0OlsyLDQ5XSw1NzpbMiw0OV0sNzM6WzIsNDldLDc4OlsyLDQ5XSw4NjpbMiw0OV0sOTE6WzIsNDldLDkzOlsyLDQ5XSwxMDI6WzIsNDldLDEwNDpbMiw0OV0sMTA1OlsyLDQ5XSwxMDY6WzIsNDldLDExMDpbMiw0OV0sMTE4OlsyLDQ5XSwxMjY6WzIsNDldLDEyODpbMiw0OV0sMTI5OlsyLDQ5XSwxMzI6WzIsNDldLDEzMzpbMiw0OV0sMTM0OlsyLDQ5XSwxMzU6WzIsNDldLDEzNjpbMiw0OV0sMTM3OlsyLDQ5XX0sezY6WzIsNThdLDI1OlsyLDU4XSwyNjpbMiw1OF0sNDk6WzIsNThdLDU0OlsyLDU4XX0sezY6WzIsNTNdLDI1OlsyLDUzXSwyNjpbMiw1M10sNTM6MzE1LDU0OlsxLDIwNF19LHsxOlsyLDIwMl0sNjpbMiwyMDJdLDI1OlsyLDIwMl0sMjY6WzIsMjAyXSw0OTpbMiwyMDJdLDU0OlsyLDIwMl0sNTc6WzIsMjAyXSw3MzpbMiwyMDJdLDc4OlsyLDIwMl0sODY6WzIsMjAyXSw5MTpbMiwyMDJdLDkzOlsyLDIwMl0sMTAyOlsyLDIwMl0sMTA0OlsyLDIwMl0sMTA1OlsyLDIwMl0sMTA2OlsyLDIwMl0sMTEwOlsyLDIwMl0sMTE4OlsyLDIwMl0sMTI2OlsyLDIwMl0sMTI4OlsyLDIwMl0sMTI5OlsyLDIwMl0sMTMyOlsyLDIwMl0sMTMzOlsyLDIwMl0sMTM0OlsyLDIwMl0sMTM1OlsyLDIwMl0sMTM2OlsyLDIwMl0sMTM3OlsyLDIwMl19LHsxOlsyLDE4MV0sNjpbMiwxODFdLDI1OlsyLDE4MV0sMjY6WzIsMTgxXSw0OTpbMiwxODFdLDU0OlsyLDE4MV0sNTc6WzIsMTgxXSw3MzpbMiwxODFdLDc4OlsyLDE4MV0sODY6WzIsMTgxXSw5MTpbMiwxODFdLDkzOlsyLDE4MV0sMTAyOlsyLDE4MV0sMTA0OlsyLDE4MV0sMTA1OlsyLDE4MV0sMTA2OlsyLDE4MV0sMTEwOlsyLDE4MV0sMTE4OlsyLDE4MV0sMTIxOlsyLDE4MV0sMTI2OlsyLDE4MV0sMTI4OlsyLDE4MV0sMTI5OlsyLDE4MV0sMTMyOlsyLDE4MV0sMTMzOlsyLDE4MV0sMTM0OlsyLDE4MV0sMTM1OlsyLDE4MV0sMTM2OlsyLDE4MV0sMTM3OlsyLDE4MV19LHsxOlsyLDEzNl0sNjpbMiwxMzZdLDI1OlsyLDEzNl0sMjY6WzIsMTM2XSw0OTpbMiwxMzZdLDU0OlsyLDEzNl0sNTc6WzIsMTM2XSw3MzpbMiwxMzZdLDc4OlsyLDEzNl0sODY6WzIsMTM2XSw5MTpbMiwxMzZdLDkzOlsyLDEzNl0sMTAyOlsyLDEzNl0sMTA0OlsyLDEzNl0sMTA1OlsyLDEzNl0sMTA2OlsyLDEzNl0sMTEwOlsyLDEzNl0sMTE4OlsyLDEzNl0sMTI2OlsyLDEzNl0sMTI4OlsyLDEzNl0sMTI5OlsyLDEzNl0sMTMyOlsyLDEzNl0sMTMzOlsyLDEzNl0sMTM0OlsyLDEzNl0sMTM1OlsyLDEzNl0sMTM2OlsyLDEzNl0sMTM3OlsyLDEzNl19LHsxOlsyLDEzN10sNjpbMiwxMzddLDI1OlsyLDEzN10sMjY6WzIsMTM3XSw0OTpbMiwxMzddLDU0OlsyLDEzN10sNTc6WzIsMTM3XSw3MzpbMiwxMzddLDc4OlsyLDEzN10sODY6WzIsMTM3XSw5MTpbMiwxMzddLDkzOlsyLDEzN10sOTg6WzIsMTM3XSwxMDI6WzIsMTM3XSwxMDQ6WzIsMTM3XSwxMDU6WzIsMTM3XSwxMDY6WzIsMTM3XSwxMTA6WzIsMTM3XSwxMTg6WzIsMTM3XSwxMjY6WzIsMTM3XSwxMjg6WzIsMTM3XSwxMjk6WzIsMTM3XSwxMzI6WzIsMTM3XSwxMzM6WzIsMTM3XSwxMzQ6WzIsMTM3XSwxMzU6WzIsMTM3XSwxMzY6WzIsMTM3XSwxMzc6WzIsMTM3XX0sezE6WzIsMTM4XSw2OlsyLDEzOF0sMjU6WzIsMTM4XSwyNjpbMiwxMzhdLDQ5OlsyLDEzOF0sNTQ6WzIsMTM4XSw1NzpbMiwxMzhdLDczOlsyLDEzOF0sNzg6WzIsMTM4XSw4NjpbMiwxMzhdLDkxOlsyLDEzOF0sOTM6WzIsMTM4XSw5ODpbMiwxMzhdLDEwMjpbMiwxMzhdLDEwNDpbMiwxMzhdLDEwNTpbMiwxMzhdLDEwNjpbMiwxMzhdLDExMDpbMiwxMzhdLDExODpbMiwxMzhdLDEyNjpbMiwxMzhdLDEyODpbMiwxMzhdLDEyOTpbMiwxMzhdLDEzMjpbMiwxMzhdLDEzMzpbMiwxMzhdLDEzNDpbMiwxMzhdLDEzNTpbMiwxMzhdLDEzNjpbMiwxMzhdLDEzNzpbMiwxMzhdfSx7MTpbMiwxNzJdLDY6WzIsMTcyXSwyNTpbMiwxNzJdLDI2OlsyLDE3Ml0sNDk6WzIsMTcyXSw1NDpbMiwxNzJdLDU3OlsyLDE3Ml0sNzM6WzIsMTcyXSw3ODpbMiwxNzJdLDg2OlsyLDE3Ml0sOTE6WzIsMTcyXSw5MzpbMiwxNzJdLDEwMjpbMiwxNzJdLDEwNDpbMiwxNzJdLDEwNTpbMiwxNzJdLDEwNjpbMiwxNzJdLDExMDpbMiwxNzJdLDExODpbMiwxNzJdLDEyNjpbMiwxNzJdLDEyODpbMiwxNzJdLDEyOTpbMiwxNzJdLDEzMjpbMiwxNzJdLDEzMzpbMiwxNzJdLDEzNDpbMiwxNzJdLDEzNTpbMiwxNzJdLDEzNjpbMiwxNzJdLDEzNzpbMiwxNzJdfSx7NTozMTYsMjU6WzEsNV19LHsyNjpbMSwzMTddfSx7NjpbMSwzMThdLDI2OlsyLDE3OF0sMTIxOlsyLDE3OF0sMTIzOlsyLDE3OF19LHs4OjMxOSw5OjExOCwxMDoyMCwxMToyMSwxMjpbMSwyMl0sMTM6OCwxNDo5LDE1OjEwLDE2OjExLDE3OjEyLDE4OjEzLDE5OjE0LDIwOjE1LDIxOjE2LDIyOjE3LDIzOjE4LDI0OjE5LDI3OjYyLDI4OlsxLDczXSwyOTo0OSwzMDpbMSw3MV0sMzE6WzEsNzJdLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OlsxLDUzXSwzNzpbMSw1NF0sMzg6WzEsNTVdLDM5OjIzLDQ0OjYzLDQ1OlsxLDQ1XSw0NjpbMSw0Nl0sNDc6WzEsMjldLDUwOjMwLDUxOlsxLDYwXSw1MjpbMSw2MV0sNTg6NDcsNTk6NDgsNjE6MzYsNjM6MjUsNjQ6MjYsNjU6MjcsNzY6WzEsNzBdLDc5OlsxLDQzXSw4MzpbMSwyOF0sODg6WzEsNThdLDg5OlsxLDU5XSw5MDpbMSw1N10sOTY6WzEsMzhdLDEwMDpbMSw0NF0sMTAxOlsxLDU2XSwxMDM6MzksMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwNzo0MCwxMDg6WzEsNjddLDEwOTo0MSwxMTA6WzEsNjhdLDExMTo2OSwxMTk6WzEsNDJdLDEyNDozNywxMjU6WzEsNjRdLDEyNzpbMSwzMV0sMTI4OlsxLDMyXSwxMjk6WzEsMzNdLDEzMDpbMSwzNF0sMTMxOlsxLDM1XX0sezE6WzIsMTAzXSw2OlsyLDEwM10sMjU6WzIsMTAzXSwyNjpbMiwxMDNdLDQ5OlsyLDEwM10sNTQ6WzIsMTAzXSw1NzpbMiwxMDNdLDczOlsyLDEwM10sNzg6WzIsMTAzXSw4NjpbMiwxMDNdLDkxOlsyLDEwM10sOTM6WzIsMTAzXSwxMDI6WzIsMTAzXSwxMDQ6WzIsMTAzXSwxMDU6WzIsMTAzXSwxMDY6WzIsMTAzXSwxMTA6WzIsMTAzXSwxMTg6WzIsMTAzXSwxMjY6WzIsMTAzXSwxMjg6WzIsMTAzXSwxMjk6WzIsMTAzXSwxMzI6WzIsMTAzXSwxMzM6WzIsMTAzXSwxMzQ6WzIsMTAzXSwxMzU6WzIsMTAzXSwxMzY6WzIsMTAzXSwxMzc6WzIsMTAzXX0sezE6WzIsMTQxXSw2OlsyLDE0MV0sMjU6WzIsMTQxXSwyNjpbMiwxNDFdLDQ5OlsyLDE0MV0sNTQ6WzIsMTQxXSw1NzpbMiwxNDFdLDY2OlsyLDE0MV0sNjc6WzIsMTQxXSw2ODpbMiwxNDFdLDY5OlsyLDE0MV0sNzE6WzIsMTQxXSw3MzpbMiwxNDFdLDc0OlsyLDE0MV0sNzg6WzIsMTQxXSw4NDpbMiwxNDFdLDg1OlsyLDE0MV0sODY6WzIsMTQxXSw5MTpbMiwxNDFdLDkzOlsyLDE0MV0sMTAyOlsyLDE0MV0sMTA0OlsyLDE0MV0sMTA1OlsyLDE0MV0sMTA2OlsyLDE0MV0sMTEwOlsyLDE0MV0sMTE4OlsyLDE0MV0sMTI2OlsyLDE0MV0sMTI4OlsyLDE0MV0sMTI5OlsyLDE0MV0sMTMyOlsyLDE0MV0sMTMzOlsyLDE0MV0sMTM0OlsyLDE0MV0sMTM1OlsyLDE0MV0sMTM2OlsyLDE0MV0sMTM3OlsyLDE0MV19LHsxOlsyLDExOV0sNjpbMiwxMTldLDI1OlsyLDExOV0sMjY6WzIsMTE5XSw0OTpbMiwxMTldLDU0OlsyLDExOV0sNTc6WzIsMTE5XSw2NjpbMiwxMTldLDY3OlsyLDExOV0sNjg6WzIsMTE5XSw2OTpbMiwxMTldLDcxOlsyLDExOV0sNzM6WzIsMTE5XSw3NDpbMiwxMTldLDc4OlsyLDExOV0sODQ6WzIsMTE5XSw4NTpbMiwxMTldLDg2OlsyLDExOV0sOTE6WzIsMTE5XSw5MzpbMiwxMTldLDEwMjpbMiwxMTldLDEwNDpbMiwxMTldLDEwNTpbMiwxMTldLDEwNjpbMiwxMTldLDExMDpbMiwxMTldLDExODpbMiwxMTldLDEyNjpbMiwxMTldLDEyODpbMiwxMTldLDEyOTpbMiwxMTldLDEzMjpbMiwxMTldLDEzMzpbMiwxMTldLDEzNDpbMiwxMTldLDEzNTpbMiwxMTldLDEzNjpbMiwxMTldLDEzNzpbMiwxMTldfSx7NjpbMiwxMjZdLDI1OlsyLDEyNl0sMjY6WzIsMTI2XSw1NDpbMiwxMjZdLDg2OlsyLDEyNl0sOTE6WzIsMTI2XX0sezY6WzIsNTNdLDI1OlsyLDUzXSwyNjpbMiw1M10sNTM6MzIwLDU0OlsxLDIyOV19LHs2OlsyLDEyN10sMjU6WzIsMTI3XSwyNjpbMiwxMjddLDU0OlsyLDEyN10sODY6WzIsMTI3XSw5MTpbMiwxMjddfSx7MTpbMiwxNjddLDY6WzIsMTY3XSwyNTpbMiwxNjddLDI2OlsyLDE2N10sNDk6WzIsMTY3XSw1NDpbMiwxNjddLDU3OlsyLDE2N10sNzM6WzIsMTY3XSw3ODpbMiwxNjddLDg2OlsyLDE2N10sOTE6WzIsMTY3XSw5MzpbMiwxNjddLDEwMjpbMiwxNjddLDEwMzo4NywxMDQ6WzIsMTY3XSwxMDU6WzIsMTY3XSwxMDY6WzIsMTY3XSwxMDk6ODgsMTEwOlsyLDE2N10sMTExOjY5LDExODpbMSwzMjFdLDEyNjpbMiwxNjddLDEyODpbMSw4MF0sMTI5OlsxLDc5XSwxMzI6WzEsNzhdLDEzMzpbMSw4MV0sMTM0OlsxLDgyXSwxMzU6WzEsODNdLDEzNjpbMSw4NF0sMTM3OlsxLDg1XX0sezE6WzIsMTY5XSw2OlsyLDE2OV0sMjU6WzIsMTY5XSwyNjpbMiwxNjldLDQ5OlsyLDE2OV0sNTQ6WzIsMTY5XSw1NzpbMiwxNjldLDczOlsyLDE2OV0sNzg6WzIsMTY5XSw4NjpbMiwxNjldLDkxOlsyLDE2OV0sOTM6WzIsMTY5XSwxMDI6WzIsMTY5XSwxMDM6ODcsMTA0OlsyLDE2OV0sMTA1OlsxLDMyMl0sMTA2OlsyLDE2OV0sMTA5Ojg4LDExMDpbMiwxNjldLDExMTo2OSwxMTg6WzIsMTY5XSwxMjY6WzIsMTY5XSwxMjg6WzEsODBdLDEyOTpbMSw3OV0sMTMyOlsxLDc4XSwxMzM6WzEsODFdLDEzNDpbMSw4Ml0sMTM1OlsxLDgzXSwxMzY6WzEsODRdLDEzNzpbMSw4NV19LHsxOlsyLDE2OF0sNjpbMiwxNjhdLDI1OlsyLDE2OF0sMjY6WzIsMTY4XSw0OTpbMiwxNjhdLDU0OlsyLDE2OF0sNTc6WzIsMTY4XSw3MzpbMiwxNjhdLDc4OlsyLDE2OF0sODY6WzIsMTY4XSw5MTpbMiwxNjhdLDkzOlsyLDE2OF0sMTAyOlsyLDE2OF0sMTAzOjg3LDEwNDpbMiwxNjhdLDEwNTpbMiwxNjhdLDEwNjpbMiwxNjhdLDEwOTo4OCwxMTA6WzIsMTY4XSwxMTE6NjksMTE4OlsyLDE2OF0sMTI2OlsyLDE2OF0sMTI4OlsxLDgwXSwxMjk6WzEsNzldLDEzMjpbMSw3OF0sMTMzOlsxLDgxXSwxMzQ6WzEsODJdLDEzNTpbMSw4M10sMTM2OlsxLDg0XSwxMzc6WzEsODVdfSx7NjpbMiw5NF0sMjU6WzIsOTRdLDI2OlsyLDk0XSw1NDpbMiw5NF0sNzg6WzIsOTRdfSx7NjpbMiw1M10sMjU6WzIsNTNdLDI2OlsyLDUzXSw1MzozMjMsNTQ6WzEsMjM5XX0sezI2OlsxLDMyNF0sMTAzOjg3LDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDk6ODgsMTEwOlsxLDY4XSwxMTE6NjksMTI2OlsxLDg2XSwxMjg6WzEsODBdLDEyOTpbMSw3OV0sMTMyOlsxLDc4XSwxMzM6WzEsODFdLDEzNDpbMSw4Ml0sMTM1OlsxLDgzXSwxMzY6WzEsODRdLDEzNzpbMSw4NV19LHs2OlsxLDI1MF0sMjU6WzEsMjUxXSwyNjpbMSwzMjVdfSx7MjY6WzEsMzI2XX0sezE6WzIsMTc1XSw2OlsyLDE3NV0sMjU6WzIsMTc1XSwyNjpbMiwxNzVdLDQ5OlsyLDE3NV0sNTQ6WzIsMTc1XSw1NzpbMiwxNzVdLDczOlsyLDE3NV0sNzg6WzIsMTc1XSw4NjpbMiwxNzVdLDkxOlsyLDE3NV0sOTM6WzIsMTc1XSwxMDI6WzIsMTc1XSwxMDQ6WzIsMTc1XSwxMDU6WzIsMTc1XSwxMDY6WzIsMTc1XSwxMTA6WzIsMTc1XSwxMTg6WzIsMTc1XSwxMjY6WzIsMTc1XSwxMjg6WzIsMTc1XSwxMjk6WzIsMTc1XSwxMzI6WzIsMTc1XSwxMzM6WzIsMTc1XSwxMzQ6WzIsMTc1XSwxMzU6WzIsMTc1XSwxMzY6WzIsMTc1XSwxMzc6WzIsMTc1XX0sezI2OlsyLDE3OV0sMTIxOlsyLDE3OV0sMTIzOlsyLDE3OV19LHsyNTpbMiwxMzJdLDU0OlsyLDEzMl0sMTAzOjg3LDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDk6ODgsMTEwOlsxLDY4XSwxMTE6NjksMTI2OlsxLDg2XSwxMjg6WzEsODBdLDEyOTpbMSw3OV0sMTMyOlsxLDc4XSwxMzM6WzEsODFdLDEzNDpbMSw4Ml0sMTM1OlsxLDgzXSwxMzY6WzEsODRdLDEzNzpbMSw4NV19LHs2OlsxLDI3MV0sMjU6WzEsMjcyXSwyNjpbMSwzMjddfSx7ODozMjgsOToxMTgsMTA6MjAsMTE6MjEsMTI6WzEsMjJdLDEzOjgsMTQ6OSwxNToxMCwxNjoxMSwxNzoxMiwxODoxMywxOToxNCwyMDoxNSwyMToxNiwyMjoxNywyMzoxOCwyNDoxOSwyNzo2MiwyODpbMSw3M10sMjk6NDksMzA6WzEsNzFdLDMxOlsxLDcyXSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjpbMSw1M10sMzc6WzEsNTRdLDM4OlsxLDU1XSwzOToyMyw0NDo2Myw0NTpbMSw0NV0sNDY6WzEsNDZdLDQ3OlsxLDI5XSw1MDozMCw1MTpbMSw2MF0sNTI6WzEsNjFdLDU4OjQ3LDU5OjQ4LDYxOjM2LDYzOjI1LDY0OjI2LDY1OjI3LDc2OlsxLDcwXSw3OTpbMSw0M10sODM6WzEsMjhdLDg4OlsxLDU4XSw4OTpbMSw1OV0sOTA6WzEsNTddLDk2OlsxLDM4XSwxMDA6WzEsNDRdLDEwMTpbMSw1Nl0sMTAzOjM5LDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDc6NDAsMTA4OlsxLDY3XSwxMDk6NDEsMTEwOlsxLDY4XSwxMTE6NjksMTE5OlsxLDQyXSwxMjQ6MzcsMTI1OlsxLDY0XSwxMjc6WzEsMzFdLDEyODpbMSwzMl0sMTI5OlsxLDMzXSwxMzA6WzEsMzRdLDEzMTpbMSwzNV19LHs4OjMyOSw5OjExOCwxMDoyMCwxMToyMSwxMjpbMSwyMl0sMTM6OCwxNDo5LDE1OjEwLDE2OjExLDE3OjEyLDE4OjEzLDE5OjE0LDIwOjE1LDIxOjE2LDIyOjE3LDIzOjE4LDI0OjE5LDI3OjYyLDI4OlsxLDczXSwyOTo0OSwzMDpbMSw3MV0sMzE6WzEsNzJdLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OlsxLDUzXSwzNzpbMSw1NF0sMzg6WzEsNTVdLDM5OjIzLDQ0OjYzLDQ1OlsxLDQ1XSw0NjpbMSw0Nl0sNDc6WzEsMjldLDUwOjMwLDUxOlsxLDYwXSw1MjpbMSw2MV0sNTg6NDcsNTk6NDgsNjE6MzYsNjM6MjUsNjQ6MjYsNjU6MjcsNzY6WzEsNzBdLDc5OlsxLDQzXSw4MzpbMSwyOF0sODg6WzEsNThdLDg5OlsxLDU5XSw5MDpbMSw1N10sOTY6WzEsMzhdLDEwMDpbMSw0NF0sMTAxOlsxLDU2XSwxMDM6MzksMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwNzo0MCwxMDg6WzEsNjddLDEwOTo0MSwxMTA6WzEsNjhdLDExMTo2OSwxMTk6WzEsNDJdLDEyNDozNywxMjU6WzEsNjRdLDEyNzpbMSwzMV0sMTI4OlsxLDMyXSwxMjk6WzEsMzNdLDEzMDpbMSwzNF0sMTMxOlsxLDM1XX0sezY6WzEsMjgyXSwyNTpbMSwyODNdLDI2OlsxLDMzMF19LHs2OlsyLDQxXSwyNTpbMiw0MV0sMjY6WzIsNDFdLDU0OlsyLDQxXSw3ODpbMiw0MV19LHs2OlsyLDU5XSwyNTpbMiw1OV0sMjY6WzIsNTldLDQ5OlsyLDU5XSw1NDpbMiw1OV19LHsxOlsyLDE3M10sNjpbMiwxNzNdLDI1OlsyLDE3M10sMjY6WzIsMTczXSw0OTpbMiwxNzNdLDU0OlsyLDE3M10sNTc6WzIsMTczXSw3MzpbMiwxNzNdLDc4OlsyLDE3M10sODY6WzIsMTczXSw5MTpbMiwxNzNdLDkzOlsyLDE3M10sMTAyOlsyLDE3M10sMTA0OlsyLDE3M10sMTA1OlsyLDE3M10sMTA2OlsyLDE3M10sMTEwOlsyLDE3M10sMTE4OlsyLDE3M10sMTI2OlsyLDE3M10sMTI4OlsyLDE3M10sMTI5OlsyLDE3M10sMTMyOlsyLDE3M10sMTMzOlsyLDE3M10sMTM0OlsyLDE3M10sMTM1OlsyLDE3M10sMTM2OlsyLDE3M10sMTM3OlsyLDE3M119LHs2OlsyLDEyOF0sMjU6WzIsMTI4XSwyNjpbMiwxMjhdLDU0OlsyLDEyOF0sODY6WzIsMTI4XSw5MTpbMiwxMjhdfSx7MTpbMiwxNzBdLDY6WzIsMTcwXSwyNTpbMiwxNzBdLDI2OlsyLDE3MF0sNDk6WzIsMTcwXSw1NDpbMiwxNzBdLDU3OlsyLDE3MF0sNzM6WzIsMTcwXSw3ODpbMiwxNzBdLDg2OlsyLDE3MF0sOTE6WzIsMTcwXSw5MzpbMiwxNzBdLDEwMjpbMiwxNzBdLDEwMzo4NywxMDQ6WzIsMTcwXSwxMDU6WzIsMTcwXSwxMDY6WzIsMTcwXSwxMDk6ODgsMTEwOlsyLDE3MF0sMTExOjY5LDExODpbMiwxNzBdLDEyNjpbMiwxNzBdLDEyODpbMSw4MF0sMTI5OlsxLDc5XSwxMzI6WzEsNzhdLDEzMzpbMSw4MV0sMTM0OlsxLDgyXSwxMzU6WzEsODNdLDEzNjpbMSw4NF0sMTM3OlsxLDg1XX0sezE6WzIsMTcxXSw2OlsyLDE3MV0sMjU6WzIsMTcxXSwyNjpbMiwxNzFdLDQ5OlsyLDE3MV0sNTQ6WzIsMTcxXSw1NzpbMiwxNzFdLDczOlsyLDE3MV0sNzg6WzIsMTcxXSw4NjpbMiwxNzFdLDkxOlsyLDE3MV0sOTM6WzIsMTcxXSwxMDI6WzIsMTcxXSwxMDM6ODcsMTA0OlsyLDE3MV0sMTA1OlsyLDE3MV0sMTA2OlsyLDE3MV0sMTA5Ojg4LDExMDpbMiwxNzFdLDExMTo2OSwxMTg6WzIsMTcxXSwxMjY6WzIsMTcxXSwxMjg6WzEsODBdLDEyOTpbMSw3OV0sMTMyOlsxLDc4XSwxMzM6WzEsODFdLDEzNDpbMSw4Ml0sMTM1OlsxLDgzXSwxMzY6WzEsODRdLDEzNzpbMSw4NV19LHs2OlsyLDk1XSwyNTpbMiw5NV0sMjY6WzIsOTVdLDU0OlsyLDk1XSw3ODpbMiw5NV19XSxkZWZhdWx0QWN0aW9uczp7NjA6WzIsNTFdLDYxOlsyLDUyXSw3NTpbMiwzXSw5NDpbMiwxMDldLDE5MTpbMiw4OV19LHBhcnNlRXJyb3I6ZnVuY3Rpb24oZSl7dGhyb3cgRXJyb3IoZSlcbn0scGFyc2U6ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciBlO3JldHVybiBlPW4ubGV4ZXIubGV4KCl8fDEsXCJudW1iZXJcIiE9dHlwZW9mIGUmJihlPW4uc3ltYm9sc19bZV18fGUpLGV9dmFyIG49dGhpcyxpPVswXSxzPVtudWxsXSxyPVtdLGE9dGhpcy50YWJsZSxvPVwiXCIsYz0wLGg9MCxsPTA7dGhpcy5sZXhlci5zZXRJbnB1dChlKSx0aGlzLmxleGVyLnl5PXRoaXMueXksdGhpcy55eS5sZXhlcj10aGlzLmxleGVyLHRoaXMueXkucGFyc2VyPXRoaXMsdGhpcy5sZXhlci55eWxsb2M9PT12b2lkIDAmJih0aGlzLmxleGVyLnl5bGxvYz17fSk7dmFyIHU9dGhpcy5sZXhlci55eWxsb2M7ci5wdXNoKHUpO3ZhciBwPXRoaXMubGV4ZXIub3B0aW9ucyYmdGhpcy5sZXhlci5vcHRpb25zLnJhbmdlcztcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLnl5LnBhcnNlRXJyb3ImJih0aGlzLnBhcnNlRXJyb3I9dGhpcy55eS5wYXJzZUVycm9yKTtmb3IodmFyIGQsZixtLGcsYixrLHksdix3LFQ9e307Oyl7aWYobT1pW2kubGVuZ3RoLTFdLHRoaXMuZGVmYXVsdEFjdGlvbnNbbV0/Zz10aGlzLmRlZmF1bHRBY3Rpb25zW21dOigobnVsbD09PWR8fGQ9PT12b2lkIDApJiYoZD10KCkpLGc9YVttXSYmYVttXVtkXSksZz09PXZvaWQgMHx8IWcubGVuZ3RofHwhZ1swXSl7dmFyIEM9XCJcIjtpZighbCl7dz1bXTtmb3IoayBpbiBhW21dKXRoaXMudGVybWluYWxzX1trXSYmaz4yJiZ3LnB1c2goXCInXCIrdGhpcy50ZXJtaW5hbHNfW2tdK1wiJ1wiKTtDPXRoaXMubGV4ZXIuc2hvd1Bvc2l0aW9uP1wiUGFyc2UgZXJyb3Igb24gbGluZSBcIisoYysxKStcIjpcXG5cIit0aGlzLmxleGVyLnNob3dQb3NpdGlvbigpK1wiXFxuRXhwZWN0aW5nIFwiK3cuam9pbihcIiwgXCIpK1wiLCBnb3QgJ1wiKyh0aGlzLnRlcm1pbmFsc19bZF18fGQpK1wiJ1wiOlwiUGFyc2UgZXJyb3Igb24gbGluZSBcIisoYysxKStcIjogVW5leHBlY3RlZCBcIisoMT09ZD9cImVuZCBvZiBpbnB1dFwiOlwiJ1wiKyh0aGlzLnRlcm1pbmFsc19bZF18fGQpK1wiJ1wiKSx0aGlzLnBhcnNlRXJyb3IoQyx7dGV4dDp0aGlzLmxleGVyLm1hdGNoLHRva2VuOnRoaXMudGVybWluYWxzX1tkXXx8ZCxsaW5lOnRoaXMubGV4ZXIueXlsaW5lbm8sbG9jOnUsZXhwZWN0ZWQ6d30pfX1pZihnWzBdaW5zdGFuY2VvZiBBcnJheSYmZy5sZW5ndGg+MSl0aHJvdyBFcnJvcihcIlBhcnNlIEVycm9yOiBtdWx0aXBsZSBhY3Rpb25zIHBvc3NpYmxlIGF0IHN0YXRlOiBcIittK1wiLCB0b2tlbjogXCIrZCk7c3dpdGNoKGdbMF0pe2Nhc2UgMTppLnB1c2goZCkscy5wdXNoKHRoaXMubGV4ZXIueXl0ZXh0KSxyLnB1c2godGhpcy5sZXhlci55eWxsb2MpLGkucHVzaChnWzFdKSxkPW51bGwsZj8oZD1mLGY9bnVsbCk6KGg9dGhpcy5sZXhlci55eWxlbmcsbz10aGlzLmxleGVyLnl5dGV4dCxjPXRoaXMubGV4ZXIueXlsaW5lbm8sdT10aGlzLmxleGVyLnl5bGxvYyxsPjAmJmwtLSk7YnJlYWs7Y2FzZSAyOmlmKHk9dGhpcy5wcm9kdWN0aW9uc19bZ1sxXV1bMV0sVC4kPXNbcy5sZW5ndGgteV0sVC5fJD17Zmlyc3RfbGluZTpyW3IubGVuZ3RoLSh5fHwxKV0uZmlyc3RfbGluZSxsYXN0X2xpbmU6cltyLmxlbmd0aC0xXS5sYXN0X2xpbmUsZmlyc3RfY29sdW1uOnJbci5sZW5ndGgtKHl8fDEpXS5maXJzdF9jb2x1bW4sbGFzdF9jb2x1bW46cltyLmxlbmd0aC0xXS5sYXN0X2NvbHVtbn0scCYmKFQuXyQucmFuZ2U9W3Jbci5sZW5ndGgtKHl8fDEpXS5yYW5nZVswXSxyW3IubGVuZ3RoLTFdLnJhbmdlWzFdXSksYj10aGlzLnBlcmZvcm1BY3Rpb24uY2FsbChULG8saCxjLHRoaXMueXksZ1sxXSxzLHIpLGIhPT12b2lkIDApcmV0dXJuIGI7eSYmKGk9aS5zbGljZSgwLDIqLTEqeSkscz1zLnNsaWNlKDAsLTEqeSkscj1yLnNsaWNlKDAsLTEqeSkpLGkucHVzaCh0aGlzLnByb2R1Y3Rpb25zX1tnWzFdXVswXSkscy5wdXNoKFQuJCksci5wdXNoKFQuXyQpLHY9YVtpW2kubGVuZ3RoLTJdXVtpW2kubGVuZ3RoLTFdXSxpLnB1c2godik7YnJlYWs7Y2FzZSAzOnJldHVybiEwfX1yZXR1cm4hMH19O3JldHVybiBlLnByb3RvdHlwZT10LHQuUGFyc2VyPWUsbmV3IGV9KCk7cmVxdWlyZSE9PXZvaWQgMCYmZSE9PXZvaWQgMCYmKGUucGFyc2VyPXQsZS5QYXJzZXI9dC5QYXJzZXIsZS5wYXJzZT1mdW5jdGlvbigpe3JldHVybiB0LnBhcnNlLmFwcGx5KHQsYXJndW1lbnRzKX0sZS5tYWluPWZ1bmN0aW9uKHQpe3RbMV18fChjb25zb2xlLmxvZyhcIlVzYWdlOiBcIit0WzBdK1wiIEZJTEVcIikscHJvY2Vzcy5leGl0KDEpKTt2YXIgbj1yZXF1aXJlKFwiZnNcIikucmVhZEZpbGVTeW5jKHJlcXVpcmUoXCJwYXRoXCIpLm5vcm1hbGl6ZSh0WzFdKSxcInV0ZjhcIik7cmV0dXJuIGUucGFyc2VyLnBhcnNlKG4pfSxcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlJiZyZXF1aXJlLm1haW49PT1tb2R1bGUmJmUubWFpbihwcm9jZXNzLmFyZ3Yuc2xpY2UoMSkpKX0scmVxdWlyZVtcIi4vc2NvcGVcIl09bmV3IGZ1bmN0aW9uKCl7dmFyIGU9dGhpczsoZnVuY3Rpb24oKXt2YXIgdCxuLGkscztzPXJlcXVpcmUoXCIuL2hlbHBlcnNcIiksbj1zLmV4dGVuZCxpPXMubGFzdCxlLlNjb3BlPXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQsbixpKXt0aGlzLnBhcmVudD10LHRoaXMuZXhwcmVzc2lvbnM9bix0aGlzLm1ldGhvZD1pLHRoaXMudmFyaWFibGVzPVt7bmFtZTpcImFyZ3VtZW50c1wiLHR5cGU6XCJhcmd1bWVudHNcIn1dLHRoaXMucG9zaXRpb25zPXt9LHRoaXMucGFyZW50fHwoZS5yb290PXRoaXMpfXJldHVybiBlLnJvb3Q9bnVsbCxlLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0aGlzLnNoYXJlZCYmIW4/dGhpcy5wYXJlbnQuYWRkKGUsdCxuKTpPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5wb3NpdGlvbnMsZSk/dGhpcy52YXJpYWJsZXNbdGhpcy5wb3NpdGlvbnNbZV1dLnR5cGU9dDp0aGlzLnBvc2l0aW9uc1tlXT10aGlzLnZhcmlhYmxlcy5wdXNoKHtuYW1lOmUsdHlwZTp0fSktMX0sZS5wcm90b3R5cGUubmFtZWRNZXRob2Q9ZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4obnVsbCE9KGU9dGhpcy5tZXRob2QpP2UubmFtZTp2b2lkIDApfHwhdGhpcy5wYXJlbnQ/dGhpcy5tZXRob2Q6dGhpcy5wYXJlbnQubmFtZWRNZXRob2QoKX0sZS5wcm90b3R5cGUuZmluZD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jaGVjayhlKT8hMDoodGhpcy5hZGQoZSxcInZhclwiKSwhMSl9LGUucHJvdG90eXBlLnBhcmFtZXRlcj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zaGFyZWQmJnRoaXMucGFyZW50LmNoZWNrKGUsITApP3ZvaWQgMDp0aGlzLmFkZChlLFwicGFyYW1cIil9LGUucHJvdG90eXBlLmNoZWNrPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiEhKHRoaXMudHlwZShlKXx8KG51bGwhPSh0PXRoaXMucGFyZW50KT90LmNoZWNrKGUpOnZvaWQgMCkpfSxlLnByb3RvdHlwZS50ZW1wb3Jhcnk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5sZW5ndGg+MT9cIl9cIitlKyh0PjE/dC0xOlwiXCIpOlwiX1wiKyh0K3BhcnNlSW50KGUsMzYpKS50b1N0cmluZygzNikucmVwbGFjZSgvXFxkL2csXCJhXCIpfSxlLnByb3RvdHlwZS50eXBlPWZ1bmN0aW9uKGUpe3ZhciB0LG4saSxzO2ZvcihzPXRoaXMudmFyaWFibGVzLG49MCxpPXMubGVuZ3RoO2k+bjtuKyspaWYodD1zW25dLHQubmFtZT09PWUpcmV0dXJuIHQudHlwZTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZnJlZVZhcmlhYmxlPWZ1bmN0aW9uKGUsdCl7dmFyIG4saTtmb3IobnVsbD09dCYmKHQ9ITApLG49MDt0aGlzLmNoZWNrKGk9dGhpcy50ZW1wb3JhcnkoZSxuKSk7KW4rKztyZXR1cm4gdCYmdGhpcy5hZGQoaSxcInZhclwiLCEwKSxpfSxlLnByb3RvdHlwZS5hc3NpZ249ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5hZGQoZSx7dmFsdWU6dCxhc3NpZ25lZDohMH0sITApLHRoaXMuaGFzQXNzaWdubWVudHM9ITB9LGUucHJvdG90eXBlLmhhc0RlY2xhcmF0aW9ucz1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5kZWNsYXJlZFZhcmlhYmxlcygpLmxlbmd0aH0sZS5wcm90b3R5cGUuZGVjbGFyZWRWYXJpYWJsZXM9ZnVuY3Rpb24oKXt2YXIgZSx0LG4saSxzLHI7Zm9yKGU9W10sdD1bXSxyPXRoaXMudmFyaWFibGVzLGk9MCxzPXIubGVuZ3RoO3M+aTtpKyspbj1yW2ldLFwidmFyXCI9PT1uLnR5cGUmJihcIl9cIj09PW4ubmFtZS5jaGFyQXQoMCk/dDplKS5wdXNoKG4ubmFtZSk7cmV0dXJuIGUuc29ydCgpLmNvbmNhdCh0LnNvcnQoKSl9LGUucHJvdG90eXBlLmFzc2lnbmVkVmFyaWFibGVzPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLGkscztmb3IoaT10aGlzLnZhcmlhYmxlcyxzPVtdLHQ9MCxuPWkubGVuZ3RoO24+dDt0KyspZT1pW3RdLGUudHlwZS5hc3NpZ25lZCYmcy5wdXNoKFwiXCIrZS5uYW1lK1wiID0gXCIrZS50eXBlLnZhbHVlKTtyZXR1cm4gc30sZX0oKX0pLmNhbGwodGhpcyl9LHJlcXVpcmVbXCIuL25vZGVzXCJdPW5ldyBmdW5jdGlvbigpe3ZhciBlPXRoaXM7KGZ1bmN0aW9uKCl7dmFyIHQsbixpLHMscixhLG8sYyxoLGwsdSxwLGQsZixtLGcsYixrLHksdix3LFQsQyxGLEwsRSxOLHgsRCxTLEEsUixJLF8sJCxPLE0saixCLFYsUCxVLHEsSCxHLFcsWCxZLEsseixKLFosUSxldCx0dCxudCxpdCxzdCxydCxhdCxvdCxjdCxodCxsdCx1dCxwdCxkdCxmdCxtdD17fS5oYXNPd25Qcm9wZXJ0eSxndD1mdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9Zm9yKHZhciBpIGluIHQpbXQuY2FsbCh0LGkpJiYoZVtpXT10W2ldKTtyZXR1cm4gbi5wcm90b3R5cGU9dC5wcm90b3R5cGUsZS5wcm90b3R5cGU9bmV3IG4sZS5fX3N1cGVyX189dC5wcm90b3R5cGUsZX0sYnQ9W10uaW5kZXhPZnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAsbj10aGlzLmxlbmd0aDtuPnQ7dCsrKWlmKHQgaW4gdGhpcyYmdGhpc1t0XT09PWUpcmV0dXJuIHQ7cmV0dXJuLTF9LGt0PVtdLnNsaWNlO0Vycm9yLnN0YWNrVHJhY2VMaW1pdD0xLzAsVj1yZXF1aXJlKFwiLi9zY29wZVwiKS5TY29wZSxkdD1yZXF1aXJlKFwiLi9sZXhlclwiKSwkPWR0LlJFU0VSVkVELEI9ZHQuU1RSSUNUX1BST1NDUklCRUQsZnQ9cmVxdWlyZShcIi4vaGVscGVyc1wiKSxRPWZ0LmNvbXBhY3QsaXQ9ZnQuZmxhdHRlbixudD1mdC5leHRlbmQsb3Q9ZnQubWVyZ2UsZXQ9ZnQuZGVsLGx0PWZ0LnN0YXJ0cyx0dD1mdC5lbmRzLHJ0PWZ0Lmxhc3QsaHQ9ZnQuc29tZSxaPWZ0LmFkZExvY2F0aW9uRGF0YUZuLGF0PWZ0LmxvY2F0aW9uRGF0YVRvU3RyaW5nLGUuZXh0ZW5kPW50LGUuYWRkTG9jYXRpb25EYXRhRm49WixKPWZ1bmN0aW9uKCl7cmV0dXJuITB9LFM9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sRz1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxEPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmVnYXRlZD0hdGhpcy5uZWdhdGVkLHRoaXN9LGUuQ29kZUZyYWdtZW50PWw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dmFyIG47dGhpcy5jb2RlPVwiXCIrdCx0aGlzLmxvY2F0aW9uRGF0YT1udWxsIT1lP2UubG9jYXRpb25EYXRhOnZvaWQgMCx0aGlzLnR5cGU9KG51bGwhPWU/bnVsbCE9KG49ZS5jb25zdHJ1Y3Rvcik/bi5uYW1lOnZvaWQgMDp2b2lkIDApfHxcInVua25vd25cIn1yZXR1cm4gZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIlwiK3RoaXMuY29kZStbdGhpcy5sb2NhdGlvbkRhdGE/XCI6IFwiK2F0KHRoaXMubG9jYXRpb25EYXRhKTp2b2lkIDBdfSxlfSgpLHN0PWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBmdW5jdGlvbigpe3ZhciBuLGkscztmb3Iocz1bXSxuPTAsaT1lLmxlbmd0aDtpPm47bisrKXQ9ZVtuXSxzLnB1c2godC5jb2RlKTtyZXR1cm4gc30oKS5qb2luKFwiXCIpfSxlLkJhc2U9cz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUucHJvdG90eXBlLmNvbXBpbGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gc3QodGhpcy5jb21waWxlVG9GcmFnbWVudHMoZSx0KSl9LGUucHJvdG90eXBlLmNvbXBpbGVUb0ZyYWdtZW50cz1mdW5jdGlvbihlLHQpe3ZhciBuO3JldHVybiBlPW50KHt9LGUpLHQmJihlLmxldmVsPXQpLG49dGhpcy51bmZvbGRTb2FrKGUpfHx0aGlzLG4udGFiPWUuaW5kZW50LGUubGV2ZWwhPT1FJiZuLmlzU3RhdGVtZW50KGUpP24uY29tcGlsZUNsb3N1cmUoZSk6bi5jb21waWxlTm9kZShlKX0sZS5wcm90b3R5cGUuY29tcGlsZUNsb3N1cmU9ZnVuY3Rpb24oZSl7aWYodGhpcy5qdW1wcygpKXRocm93IFN5bnRheEVycm9yKFwiY2Fubm90IHVzZSBhIHB1cmUgc3RhdGVtZW50IGluIGFuIGV4cHJlc3Npb24uXCIpO3JldHVybiBlLnNoYXJlZFNjb3BlPSEwLGMud3JhcCh0aGlzKS5jb21waWxlTm9kZShlKX0sZS5wcm90b3R5cGUuY2FjaGU9ZnVuY3Rpb24oZSx0LG4pe3ZhciBzLHI7cmV0dXJuIHRoaXMuaXNDb21wbGV4KCk/KHM9bmV3IE4obnx8ZS5zY29wZS5mcmVlVmFyaWFibGUoXCJyZWZcIikpLHI9bmV3IGkocyx0aGlzKSx0P1tyLmNvbXBpbGVUb0ZyYWdtZW50cyhlLHQpLFt0aGlzLm1ha2VDb2RlKHMudmFsdWUpXV06W3Isc10pOihzPXQ/dGhpcy5jb21waWxlVG9GcmFnbWVudHMoZSx0KTp0aGlzLFtzLHNdKX0sZS5wcm90b3R5cGUuY2FjaGVUb0NvZGVGcmFnbWVudHM9ZnVuY3Rpb24oZSl7cmV0dXJuW3N0KGVbMF0pLHN0KGVbMV0pXX0sZS5wcm90b3R5cGUubWFrZVJldHVybj1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gdD10aGlzLnVud3JhcEFsbCgpLGU/bmV3IGEobmV3IE4oXCJcIitlK1wiLnB1c2hcIiksW3RdKTpuZXcgTSh0KX0sZS5wcm90b3R5cGUuY29udGFpbnM9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIHQ9ITEsdGhpcy50cmF2ZXJzZUNoaWxkcmVuKCExLGZ1bmN0aW9uKG4pe3JldHVybiBlKG4pPyh0PSEwLCExKTp2b2lkIDB9KSx0fSxlLnByb3RvdHlwZS5jb250YWluc1R5cGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBlfHx0aGlzLmNvbnRhaW5zKGZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgZX0pfSxlLnByb3RvdHlwZS5sYXN0Tm9uQ29tbWVudD1mdW5jdGlvbihlKXt2YXIgdDtmb3IodD1lLmxlbmd0aDt0LS07KWlmKCEoZVt0XWluc3RhbmNlb2YgdSkpcmV0dXJuIGVbdF07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKGUsdCl7dmFyIG4saTtyZXR1cm4gbnVsbD09ZSYmKGU9XCJcIiksbnVsbD09dCYmKHQ9dGhpcy5jb25zdHJ1Y3Rvci5uYW1lKSxuPXRoaXMubG9jYXRpb25EYXRhP2F0KHRoaXMubG9jYXRpb25EYXRhKTpcIj8/XCIsaT1cIlxcblwiK2UrbitcIjogXCIrdCx0aGlzLnNvYWsmJihpKz1cIj9cIiksdGhpcy5lYWNoQ2hpbGQoZnVuY3Rpb24odCl7cmV0dXJuIGkrPXQudG9TdHJpbmcoZStIKX0pLGl9LGUucHJvdG90eXBlLmVhY2hDaGlsZD1mdW5jdGlvbihlKXt2YXIgdCxuLGkscyxyLGEsbyxjO2lmKCF0aGlzLmNoaWxkcmVuKXJldHVybiB0aGlzO2ZvcihvPXRoaXMuY2hpbGRyZW4saT0wLHI9by5sZW5ndGg7cj5pO2krKylpZih0PW9baV0sdGhpc1t0XSlmb3IoYz1pdChbdGhpc1t0XV0pLHM9MCxhPWMubGVuZ3RoO2E+cztzKyspaWYobj1jW3NdLGUobik9PT0hMSlyZXR1cm4gdGhpcztyZXR1cm4gdGhpc30sZS5wcm90b3R5cGUudHJhdmVyc2VDaGlsZHJlbj1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVhY2hDaGlsZChmdW5jdGlvbihuKXtyZXR1cm4gdChuKT09PSExPyExOm4udHJhdmVyc2VDaGlsZHJlbihlLHQpfSl9LGUucHJvdG90eXBlLmludmVydD1mdW5jdGlvbigpe3JldHVybiBuZXcgUihcIiFcIix0aGlzKX0sZS5wcm90b3R5cGUudW53cmFwQWxsPWZ1bmN0aW9uKCl7dmFyIGU7Zm9yKGU9dGhpcztlIT09KGU9ZS51bndyYXAoKSk7KTtyZXR1cm4gZX0sZS5wcm90b3R5cGUuY2hpbGRyZW49W10sZS5wcm90b3R5cGUuaXNTdGF0ZW1lbnQ9UyxlLnByb3RvdHlwZS5qdW1wcz1TLGUucHJvdG90eXBlLmlzQ29tcGxleD1KLGUucHJvdG90eXBlLmlzQ2hhaW5hYmxlPVMsZS5wcm90b3R5cGUuaXNBc3NpZ25hYmxlPVMsZS5wcm90b3R5cGUudW53cmFwPUcsZS5wcm90b3R5cGUudW5mb2xkU29haz1TLGUucHJvdG90eXBlLmFzc2lnbnM9UyxlLnByb3RvdHlwZS51cGRhdGVMb2NhdGlvbkRhdGFJZk1pc3Npbmc9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubG9jYXRpb25EYXRhfHwodGhpcy5sb2NhdGlvbkRhdGE9e30sbnQodGhpcy5sb2NhdGlvbkRhdGEsZSkpLHRoaXMuZWFjaENoaWxkKGZ1bmN0aW9uKHQpe3JldHVybiB0LnVwZGF0ZUxvY2F0aW9uRGF0YUlmTWlzc2luZyhlKX0pfSxlLnByb3RvdHlwZS5tYWtlQ29kZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGwodGhpcyxlKX0sZS5wcm90b3R5cGUud3JhcEluQnJhY2VzPWZ1bmN0aW9uKGUpe3JldHVybltdLmNvbmNhdCh0aGlzLm1ha2VDb2RlKFwiKFwiKSxlLHRoaXMubWFrZUNvZGUoXCIpXCIpKX0sZS5wcm90b3R5cGUuam9pbkZyYWdtZW50QXJyYXlzPWZ1bmN0aW9uKGUsdCl7dmFyIG4saSxzLHIsYTtmb3Iobj1bXSxzPXI9MCxhPWUubGVuZ3RoO2E+cjtzPSsrcilpPWVbc10scyYmbi5wdXNoKHRoaXMubWFrZUNvZGUodCkpLG49bi5jb25jYXQoaSk7cmV0dXJuIG59LGV9KCksZS5CbG9jaz1yPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7dGhpcy5leHByZXNzaW9ucz1RKGl0KGV8fFtdKSl9cmV0dXJuIGd0KHQsZSksdC5wcm90b3R5cGUuY2hpbGRyZW49W1wiZXhwcmVzc2lvbnNcIl0sdC5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5leHByZXNzaW9ucy5wdXNoKGUpLHRoaXN9LHQucHJvdG90eXBlLnBvcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmV4cHJlc3Npb25zLnBvcCgpfSx0LnByb3RvdHlwZS51bnNoaWZ0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmV4cHJlc3Npb25zLnVuc2hpZnQoZSksdGhpc30sdC5wcm90b3R5cGUudW53cmFwPWZ1bmN0aW9uKCl7cmV0dXJuIDE9PT10aGlzLmV4cHJlc3Npb25zLmxlbmd0aD90aGlzLmV4cHJlc3Npb25zWzBdOnRoaXN9LHQucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5leHByZXNzaW9ucy5sZW5ndGh9LHQucHJvdG90eXBlLmlzU3RhdGVtZW50PWZ1bmN0aW9uKGUpe3ZhciB0LG4saSxzO2ZvcihzPXRoaXMuZXhwcmVzc2lvbnMsbj0wLGk9cy5sZW5ndGg7aT5uO24rKylpZih0PXNbbl0sdC5pc1N0YXRlbWVudChlKSlyZXR1cm4hMDtyZXR1cm4hMX0sdC5wcm90b3R5cGUuanVtcHM9ZnVuY3Rpb24oZSl7dmFyIHQsbixpLHM7Zm9yKHM9dGhpcy5leHByZXNzaW9ucyxuPTAsaT1zLmxlbmd0aDtpPm47bisrKWlmKHQ9c1tuXSx0Lmp1bXBzKGUpKXJldHVybiB0fSx0LnByb3RvdHlwZS5tYWtlUmV0dXJuPWZ1bmN0aW9uKGUpe3ZhciB0LG47Zm9yKG49dGhpcy5leHByZXNzaW9ucy5sZW5ndGg7bi0tOylpZih0PXRoaXMuZXhwcmVzc2lvbnNbbl0sISh0IGluc3RhbmNlb2YgdSkpe3RoaXMuZXhwcmVzc2lvbnNbbl09dC5tYWtlUmV0dXJuKGUpLHQgaW5zdGFuY2VvZiBNJiYhdC5leHByZXNzaW9uJiZ0aGlzLmV4cHJlc3Npb25zLnNwbGljZShuLDEpO2JyZWFrfXJldHVybiB0aGlzfSx0LnByb3RvdHlwZS5jb21waWxlVG9GcmFnbWVudHM9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gbnVsbD09ZSYmKGU9e30pLGUuc2NvcGU/dC5fX3N1cGVyX18uY29tcGlsZVRvRnJhZ21lbnRzLmNhbGwodGhpcyxlLG4pOnRoaXMuY29tcGlsZVJvb3QoZSl9LHQucHJvdG90eXBlLmNvbXBpbGVOb2RlPWZ1bmN0aW9uKGUpe3ZhciBuLGkscyxyLGEsbyxjLGgsbDtmb3IodGhpcy50YWI9ZS5pbmRlbnQsbz1lLmxldmVsPT09RSxpPVtdLGw9dGhpcy5leHByZXNzaW9ucyxyPWM9MCxoPWwubGVuZ3RoO2g+YztyPSsrYylhPWxbcl0sYT1hLnVud3JhcEFsbCgpLGE9YS51bmZvbGRTb2FrKGUpfHxhLGEgaW5zdGFuY2VvZiB0P2kucHVzaChhLmNvbXBpbGVOb2RlKGUpKTpvPyhhLmZyb250PSEwLHM9YS5jb21waWxlVG9GcmFnbWVudHMoZSksYS5pc1N0YXRlbWVudChlKXx8KHMudW5zaGlmdCh0aGlzLm1ha2VDb2RlKFwiXCIrdGhpcy50YWIpKSxzLnB1c2godGhpcy5tYWtlQ29kZShcIjtcIikpKSxpLnB1c2gocykpOmkucHVzaChhLmNvbXBpbGVUb0ZyYWdtZW50cyhlLEMpKTtyZXR1cm4gbz90aGlzLnNwYWNlZD9bXS5jb25jYXQodGhpcy5tYWtlQ29kZShcIlxcblwiKSx0aGlzLmpvaW5GcmFnbWVudEFycmF5cyhpLFwiXFxuXFxuXCIpLHRoaXMubWFrZUNvZGUoXCJcXG5cIikpOnRoaXMuam9pbkZyYWdtZW50QXJyYXlzKGksXCJcXG5cIik6KG49aS5sZW5ndGg/dGhpcy5qb2luRnJhZ21lbnRBcnJheXMoaSxcIiwgXCIpOlt0aGlzLm1ha2VDb2RlKFwidm9pZCAwXCIpXSxpLmxlbmd0aD4xJiZlLmxldmVsPj1DP3RoaXMud3JhcEluQnJhY2VzKG4pOm4pfSx0LnByb3RvdHlwZS5jb21waWxlUm9vdD1mdW5jdGlvbihlKXt2YXIgdCxuLGkscyxyLGE7cmV0dXJuIGUuaW5kZW50PWUuYmFyZT9cIlwiOkgsZS5zY29wZT1uZXcgVihudWxsLHRoaXMsbnVsbCksZS5sZXZlbD1FLHRoaXMuc3BhY2VkPSEwLHM9W10sZS5iYXJlfHwocj1mdW5jdGlvbigpe3ZhciBlLG4scyxyO2ZvcihzPXRoaXMuZXhwcmVzc2lvbnMscj1bXSxpPWU9MCxuPXMubGVuZ3RoO24+ZSYmKHQ9c1tpXSx0LnVud3JhcCgpaW5zdGFuY2VvZiB1KTtpPSsrZSlyLnB1c2godCk7cmV0dXJuIHJ9LmNhbGwodGhpcyksYT10aGlzLmV4cHJlc3Npb25zLnNsaWNlKHIubGVuZ3RoKSx0aGlzLmV4cHJlc3Npb25zPXIsci5sZW5ndGgmJihzPXRoaXMuY29tcGlsZU5vZGUob3QoZSx7aW5kZW50OlwiXCJ9KSkscy5wdXNoKHRoaXMubWFrZUNvZGUoXCJcXG5cIikpKSx0aGlzLmV4cHJlc3Npb25zPWEpLG49dGhpcy5jb21waWxlV2l0aERlY2xhcmF0aW9ucyhlKSxlLmJhcmU/bjpbXS5jb25jYXQocyx0aGlzLm1ha2VDb2RlKFwiKGZ1bmN0aW9uKCkge1xcblwiKSxuLHRoaXMubWFrZUNvZGUoXCJcXG59KS5jYWxsKHRoaXMpO1xcblwiKSl9LHQucHJvdG90eXBlLmNvbXBpbGVXaXRoRGVjbGFyYXRpb25zPWZ1bmN0aW9uKGUpe3ZhciB0LG4saSxzLHIsYSxvLGMsaCxsLHAsZCxmLG07Zm9yKHM9W10sYT1bXSxkPXRoaXMuZXhwcmVzc2lvbnMscj1sPTAscD1kLmxlbmd0aDtwPmwmJihpPWRbcl0saT1pLnVud3JhcCgpLGkgaW5zdGFuY2VvZiB1fHxpIGluc3RhbmNlb2YgTik7cj0rK2wpO3JldHVybiBlPW90KGUse2xldmVsOkV9KSxyJiYobz10aGlzLmV4cHJlc3Npb25zLnNwbGljZShyLDllOSksZj1bdGhpcy5zcGFjZWQsITFdLGg9ZlswXSx0aGlzLnNwYWNlZD1mWzFdLG09W3RoaXMuY29tcGlsZU5vZGUoZSksaF0scz1tWzBdLHRoaXMuc3BhY2VkPW1bMV0sdGhpcy5leHByZXNzaW9ucz1vKSxhPXRoaXMuY29tcGlsZU5vZGUoZSksYz1lLnNjb3BlLGMuZXhwcmVzc2lvbnM9PT10aGlzJiYobj1lLnNjb3BlLmhhc0RlY2xhcmF0aW9ucygpLHQ9Yy5oYXNBc3NpZ25tZW50cywobnx8dCkmJihyJiZzLnB1c2godGhpcy5tYWtlQ29kZShcIlxcblwiKSkscy5wdXNoKHRoaXMubWFrZUNvZGUoXCJcIit0aGlzLnRhYitcInZhciBcIikpLG4mJnMucHVzaCh0aGlzLm1ha2VDb2RlKGMuZGVjbGFyZWRWYXJpYWJsZXMoKS5qb2luKFwiLCBcIikpKSx0JiYobiYmcy5wdXNoKHRoaXMubWFrZUNvZGUoXCIsXFxuXCIrKHRoaXMudGFiK0gpKSkscy5wdXNoKHRoaXMubWFrZUNvZGUoYy5hc3NpZ25lZFZhcmlhYmxlcygpLmpvaW4oXCIsXFxuXCIrKHRoaXMudGFiK0gpKSkpKSxzLnB1c2godGhpcy5tYWtlQ29kZShcIjtcXG5cIikpKSkscy5jb25jYXQoYSl9LHQud3JhcD1mdW5jdGlvbihlKXtyZXR1cm4gMT09PWUubGVuZ3RoJiZlWzBdaW5zdGFuY2VvZiB0P2VbMF06bmV3IHQoZSl9LHR9KHMpLGUuTGl0ZXJhbD1OPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7dGhpcy52YWx1ZT1lfXJldHVybiBndCh0LGUpLHQucHJvdG90eXBlLm1ha2VSZXR1cm49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc1N0YXRlbWVudCgpP3RoaXM6dC5fX3N1cGVyX18ubWFrZVJldHVybi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHQucHJvdG90eXBlLmlzQXNzaWduYWJsZT1mdW5jdGlvbigpe3JldHVybiBtLnRlc3QodGhpcy52YWx1ZSl9LHQucHJvdG90eXBlLmlzU3RhdGVtZW50PWZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuXCJicmVha1wiPT09KGU9dGhpcy52YWx1ZSl8fFwiY29udGludWVcIj09PWV8fFwiZGVidWdnZXJcIj09PWV9LHQucHJvdG90eXBlLmlzQ29tcGxleD1TLHQucHJvdG90eXBlLmFzc2lnbnM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10aGlzLnZhbHVlfSx0LnByb3RvdHlwZS5qdW1wcz1mdW5jdGlvbihlKXtyZXR1cm5cImJyZWFrXCIhPT10aGlzLnZhbHVlfHwobnVsbCE9ZT9lLmxvb3A6dm9pZCAwKXx8KG51bGwhPWU/ZS5ibG9jazp2b2lkIDApP1wiY29udGludWVcIiE9PXRoaXMudmFsdWV8fChudWxsIT1lP2UubG9vcDp2b2lkIDApP3ZvaWQgMDp0aGlzOnRoaXN9LHQucHJvdG90eXBlLmNvbXBpbGVOb2RlPWZ1bmN0aW9uKGUpe3ZhciB0LG4saTtyZXR1cm4gbj1cInRoaXNcIj09PXRoaXMudmFsdWU/KG51bGwhPShpPWUuc2NvcGUubWV0aG9kKT9pLmJvdW5kOnZvaWQgMCk/ZS5zY29wZS5tZXRob2QuY29udGV4dDp0aGlzLnZhbHVlOnRoaXMudmFsdWUucmVzZXJ2ZWQ/J1wiJyt0aGlzLnZhbHVlKydcIic6dGhpcy52YWx1ZSx0PXRoaXMuaXNTdGF0ZW1lbnQoKT9cIlwiK3RoaXMudGFiK24rXCI7XCI6bixbdGhpcy5tYWtlQ29kZSh0KV19LHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuJyBcIicrdGhpcy52YWx1ZSsnXCInfSx0fShzKSxlLlVuZGVmaW5lZD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIHQuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gZ3QodCxlKSx0LnByb3RvdHlwZS5pc0Fzc2lnbmFibGU9Uyx0LnByb3RvdHlwZS5pc0NvbXBsZXg9Uyx0LnByb3RvdHlwZS5jb21waWxlTm9kZT1mdW5jdGlvbihlKXtyZXR1cm5bdGhpcy5tYWtlQ29kZShlLmxldmVsPj13P1wiKHZvaWQgMClcIjpcInZvaWQgMFwiKV19LHR9KHMpLGUuTnVsbD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIHQuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gZ3QodCxlKSx0LnByb3RvdHlwZS5pc0Fzc2lnbmFibGU9Uyx0LnByb3RvdHlwZS5pc0NvbXBsZXg9Uyx0LnByb3RvdHlwZS5jb21waWxlTm9kZT1mdW5jdGlvbigpe3JldHVyblt0aGlzLm1ha2VDb2RlKFwibnVsbFwiKV19LHR9KHMpLGUuQm9vbD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3RoaXMudmFsPWV9cmV0dXJuIGd0KHQsZSksdC5wcm90b3R5cGUuaXNBc3NpZ25hYmxlPVMsdC5wcm90b3R5cGUuaXNDb21wbGV4PVMsdC5wcm90b3R5cGUuY29tcGlsZU5vZGU9ZnVuY3Rpb24oKXtyZXR1cm5bdGhpcy5tYWtlQ29kZSh0aGlzLnZhbCldfSx0fShzKSxlLlJldHVybj1NPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7ZSYmIWUudW53cmFwKCkuaXNVbmRlZmluZWQmJih0aGlzLmV4cHJlc3Npb249ZSl9cmV0dXJuIGd0KHQsZSksdC5wcm90b3R5cGUuY2hpbGRyZW49W1wiZXhwcmVzc2lvblwiXSx0LnByb3RvdHlwZS5pc1N0YXRlbWVudD1KLHQucHJvdG90eXBlLm1ha2VSZXR1cm49Ryx0LnByb3RvdHlwZS5qdW1wcz1HLHQucHJvdG90eXBlLmNvbXBpbGVUb0ZyYWdtZW50cz1mdW5jdGlvbihlLG4pe3ZhciBpLHM7cmV0dXJuIGk9bnVsbCE9KHM9dGhpcy5leHByZXNzaW9uKT9zLm1ha2VSZXR1cm4oKTp2b2lkIDAsIWl8fGkgaW5zdGFuY2VvZiB0P3QuX19zdXBlcl9fLmNvbXBpbGVUb0ZyYWdtZW50cy5jYWxsKHRoaXMsZSxuKTppLmNvbXBpbGVUb0ZyYWdtZW50cyhlLG4pfSx0LnByb3RvdHlwZS5jb21waWxlTm9kZT1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gdD1bXSx0LnB1c2godGhpcy5tYWtlQ29kZSh0aGlzLnRhYisoXCJyZXR1cm5cIitbdGhpcy5leHByZXNzaW9uP1wiIFwiOnZvaWQgMF0pKSksdGhpcy5leHByZXNzaW9uJiYodD10LmNvbmNhdCh0aGlzLmV4cHJlc3Npb24uY29tcGlsZVRvRnJhZ21lbnRzKGUsTCkpKSx0LnB1c2godGhpcy5tYWtlQ29kZShcIjtcIikpLHR9LHR9KHMpLGUuVmFsdWU9Sz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsbixpKXtyZXR1cm4hbiYmZSBpbnN0YW5jZW9mIHQ/ZToodGhpcy5iYXNlPWUsdGhpcy5wcm9wZXJ0aWVzPW58fFtdLGkmJih0aGlzW2ldPSEwKSx0aGlzKX1yZXR1cm4gZ3QodCxlKSx0LnByb3RvdHlwZS5jaGlsZHJlbj1bXCJiYXNlXCIsXCJwcm9wZXJ0aWVzXCJdLHQucHJvdG90eXBlLmFkZD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wcm9wZXJ0aWVzPXRoaXMucHJvcGVydGllcy5jb25jYXQoZSksdGhpc30sdC5wcm90b3R5cGUuaGFzUHJvcGVydGllcz1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5wcm9wZXJ0aWVzLmxlbmd0aH0sdC5wcm90b3R5cGUuaXNBcnJheT1mdW5jdGlvbigpe3JldHVybiF0aGlzLnByb3BlcnRpZXMubGVuZ3RoJiZ0aGlzLmJhc2UgaW5zdGFuY2VvZiBufSx0LnByb3RvdHlwZS5pc0NvbXBsZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oYXNQcm9wZXJ0aWVzKCl8fHRoaXMuYmFzZS5pc0NvbXBsZXgoKX0sdC5wcm90b3R5cGUuaXNBc3NpZ25hYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFzUHJvcGVydGllcygpfHx0aGlzLmJhc2UuaXNBc3NpZ25hYmxlKCl9LHQucHJvdG90eXBlLmlzU2ltcGxlTnVtYmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmFzZSBpbnN0YW5jZW9mIE4mJmoudGVzdCh0aGlzLmJhc2UudmFsdWUpfSx0LnByb3RvdHlwZS5pc1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJhc2UgaW5zdGFuY2VvZiBOJiZiLnRlc3QodGhpcy5iYXNlLnZhbHVlKX0sdC5wcm90b3R5cGUuaXNBdG9taWM9ZnVuY3Rpb24oKXt2YXIgZSx0LG4saTtmb3IoaT10aGlzLnByb3BlcnRpZXMuY29uY2F0KHRoaXMuYmFzZSksdD0wLG49aS5sZW5ndGg7bj50O3QrKylpZihlPWlbdF0sZS5zb2FrfHxlIGluc3RhbmNlb2YgYSlyZXR1cm4hMTtyZXR1cm4hMH0sdC5wcm90b3R5cGUuaXNTdGF0ZW1lbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIXRoaXMucHJvcGVydGllcy5sZW5ndGgmJnRoaXMuYmFzZS5pc1N0YXRlbWVudChlKX0sdC5wcm90b3R5cGUuYXNzaWducz1mdW5jdGlvbihlKXtyZXR1cm4hdGhpcy5wcm9wZXJ0aWVzLmxlbmd0aCYmdGhpcy5iYXNlLmFzc2lnbnMoZSl9LHQucHJvdG90eXBlLmp1bXBzPWZ1bmN0aW9uKGUpe3JldHVybiF0aGlzLnByb3BlcnRpZXMubGVuZ3RoJiZ0aGlzLmJhc2UuanVtcHMoZSl9LHQucHJvdG90eXBlLmlzT2JqZWN0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnByb3BlcnRpZXMubGVuZ3RoPyExOnRoaXMuYmFzZSBpbnN0YW5jZW9mIEEmJighZXx8dGhpcy5iYXNlLmdlbmVyYXRlZCl9LHQucHJvdG90eXBlLmlzU3BsaWNlPWZ1bmN0aW9uKCl7cmV0dXJuIHJ0KHRoaXMucHJvcGVydGllcylpbnN0YW5jZW9mIFB9LHQucHJvdG90eXBlLnVud3JhcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnByb3BlcnRpZXMubGVuZ3RoP3RoaXM6dGhpcy5iYXNlfSx0LnByb3RvdHlwZS5jYWNoZVJlZmVyZW5jZT1mdW5jdGlvbihlKXt2YXIgbixzLHIsYTtyZXR1cm4gcj1ydCh0aGlzLnByb3BlcnRpZXMpLDI+dGhpcy5wcm9wZXJ0aWVzLmxlbmd0aCYmIXRoaXMuYmFzZS5pc0NvbXBsZXgoKSYmIShudWxsIT1yP3IuaXNDb21wbGV4KCk6dm9pZCAwKT9bdGhpcyx0aGlzXToobj1uZXcgdCh0aGlzLmJhc2UsdGhpcy5wcm9wZXJ0aWVzLnNsaWNlKDAsLTEpKSxuLmlzQ29tcGxleCgpJiYocz1uZXcgTihlLnNjb3BlLmZyZWVWYXJpYWJsZShcImJhc2VcIikpLG49bmV3IHQobmV3IF8obmV3IGkocyxuKSkpKSxyPyhyLmlzQ29tcGxleCgpJiYoYT1uZXcgTihlLnNjb3BlLmZyZWVWYXJpYWJsZShcIm5hbWVcIikpLHI9bmV3IHYobmV3IGkoYSxyLmluZGV4KSksYT1uZXcgdihhKSksW24uYWRkKHIpLG5ldyB0KHN8fG4uYmFzZSxbYXx8cl0pXSk6W24sc10pfSx0LnByb3RvdHlwZS5jb21waWxlTm9kZT1mdW5jdGlvbihlKXt2YXIgdCxuLGkscyxyO2Zvcih0aGlzLmJhc2UuZnJvbnQ9dGhpcy5mcm9udCxpPXRoaXMucHJvcGVydGllcyx0PXRoaXMuYmFzZS5jb21waWxlVG9GcmFnbWVudHMoZSxpLmxlbmd0aD93Om51bGwpLCh0aGlzLmJhc2UgaW5zdGFuY2VvZiBffHxpLmxlbmd0aCkmJmoudGVzdChzdCh0KSkmJnQucHVzaCh0aGlzLm1ha2VDb2RlKFwiLlwiKSkscz0wLHI9aS5sZW5ndGg7cj5zO3MrKyluPWlbc10sdC5wdXNoLmFwcGx5KHQsbi5jb21waWxlVG9GcmFnbWVudHMoZSkpO3JldHVybiB0fSx0LnByb3RvdHlwZS51bmZvbGRTb2FrPWZ1bmN0aW9uKGUpe3ZhciBuLHM9dGhpcztyZXR1cm4gbnVsbCE9KG49dGhpcy51bmZvbGRlZFNvYWspP246dGhpcy51bmZvbGRlZFNvYWs9ZnVuY3Rpb24oKXt2YXIgbixyLGEsbyxjLGgsbCx1LGQsZjtpZihhPXMuYmFzZS51bmZvbGRTb2FrKGUpKXJldHVybihkPWEuYm9keS5wcm9wZXJ0aWVzKS5wdXNoLmFwcGx5KGQscy5wcm9wZXJ0aWVzKSxhO2ZvcihmPXMucHJvcGVydGllcyxyPWw9MCx1PWYubGVuZ3RoO3U+bDtyPSsrbClpZihvPWZbcl0sby5zb2FrKXJldHVybiBvLnNvYWs9ITEsbj1uZXcgdChzLmJhc2Uscy5wcm9wZXJ0aWVzLnNsaWNlKDAscikpLGg9bmV3IHQocy5iYXNlLHMucHJvcGVydGllcy5zbGljZShyKSksbi5pc0NvbXBsZXgoKSYmKGM9bmV3IE4oZS5zY29wZS5mcmVlVmFyaWFibGUoXCJyZWZcIikpLG49bmV3IF8obmV3IGkoYyxuKSksaC5iYXNlPWMpLG5ldyBrKG5ldyBwKG4pLGgse3NvYWs6ITB9KTtyZXR1cm4hMX0oKX0sdH0ocyksZS5Db21tZW50PXU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt0aGlzLmNvbW1lbnQ9ZX1yZXR1cm4gZ3QodCxlKSx0LnByb3RvdHlwZS5pc1N0YXRlbWVudD1KLHQucHJvdG90eXBlLm1ha2VSZXR1cm49Ryx0LnByb3RvdHlwZS5jb21waWxlTm9kZT1mdW5jdGlvbihlLHQpe3ZhciBuO3JldHVybiBuPVwiLypcIitjdCh0aGlzLmNvbW1lbnQsdGhpcy50YWIpKyhcIlxcblwiK3RoaXMudGFiK1wiKi9cXG5cIiksKHR8fGUubGV2ZWwpPT09RSYmKG49ZS5pbmRlbnQrbiksW3RoaXMubWFrZUNvZGUobildfSx0fShzKSxlLkNhbGw9YT1mdW5jdGlvbihlKXtmdW5jdGlvbiBuKGUsdCxuKXt0aGlzLmFyZ3M9bnVsbCE9dD90OltdLHRoaXMuc29haz1uLHRoaXMuaXNOZXc9ITEsdGhpcy5pc1N1cGVyPVwic3VwZXJcIj09PWUsdGhpcy52YXJpYWJsZT10aGlzLmlzU3VwZXI/bnVsbDplfXJldHVybiBndChuLGUpLG4ucHJvdG90eXBlLmNoaWxkcmVuPVtcInZhcmlhYmxlXCIsXCJhcmdzXCJdLG4ucHJvdG90eXBlLm5ld0luc3RhbmNlPWZ1bmN0aW9uKCl7dmFyIGUsdDtyZXR1cm4gZT0obnVsbCE9KHQ9dGhpcy52YXJpYWJsZSk/dC5iYXNlOnZvaWQgMCl8fHRoaXMudmFyaWFibGUsZSBpbnN0YW5jZW9mIG4mJiFlLmlzTmV3P2UubmV3SW5zdGFuY2UoKTp0aGlzLmlzTmV3PSEwLHRoaXN9LG4ucHJvdG90eXBlLnN1cGVyUmVmZXJlbmNlPWZ1bmN0aW9uKGUpe3ZhciBuLGk7aWYoaT1lLnNjb3BlLm5hbWVkTWV0aG9kKCksbnVsbCE9aT9pLmtsYXNzOnZvaWQgMClyZXR1cm4gbj1bbmV3IHQobmV3IE4oXCJfX3N1cGVyX19cIikpXSxpW1wic3RhdGljXCJdJiZuLnB1c2gobmV3IHQobmV3IE4oXCJjb25zdHJ1Y3RvclwiKSkpLG4ucHVzaChuZXcgdChuZXcgTihpLm5hbWUpKSksbmV3IEsobmV3IE4oaS5rbGFzcyksbikuY29tcGlsZShlKTtpZihudWxsIT1pP2kuY3Rvcjp2b2lkIDApcmV0dXJuXCJcIitpLm5hbWUrXCIuX19zdXBlcl9fLmNvbnN0cnVjdG9yXCI7dGhyb3cgU3ludGF4RXJyb3IoXCJjYW5ub3QgY2FsbCBzdXBlciBvdXRzaWRlIG9mIGFuIGluc3RhbmNlIG1ldGhvZC5cIil9LG4ucHJvdG90eXBlLnN1cGVyVGhpcz1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gdD1lLnNjb3BlLm1ldGhvZCx0JiYhdC5rbGFzcyYmdC5jb250ZXh0fHxcInRoaXNcIn0sbi5wcm90b3R5cGUudW5mb2xkU29haz1mdW5jdGlvbihlKXt2YXIgdCxpLHMscixhLG8sYyxoLGw7aWYodGhpcy5zb2FrKXtpZih0aGlzLnZhcmlhYmxlKXtpZihpPXV0KGUsdGhpcyxcInZhcmlhYmxlXCIpKXJldHVybiBpO2g9bmV3IEsodGhpcy52YXJpYWJsZSkuY2FjaGVSZWZlcmVuY2UoZSkscz1oWzBdLGE9aFsxXX1lbHNlIHM9bmV3IE4odGhpcy5zdXBlclJlZmVyZW5jZShlKSksYT1uZXcgSyhzKTtyZXR1cm4gYT1uZXcgbihhLHRoaXMuYXJncyksYS5pc05ldz10aGlzLmlzTmV3LHM9bmV3IE4oXCJ0eXBlb2YgXCIrcy5jb21waWxlKGUpKycgPT09IFwiZnVuY3Rpb25cIicpLG5ldyBrKHMsbmV3IEsoYSkse3NvYWs6ITB9KX1mb3IodD10aGlzLHI9W107OylpZih0LnZhcmlhYmxlIGluc3RhbmNlb2YgbilyLnB1c2godCksdD10LnZhcmlhYmxlO2Vsc2V7aWYoISh0LnZhcmlhYmxlIGluc3RhbmNlb2YgSykpYnJlYWs7aWYoci5wdXNoKHQpLCEoKHQ9dC52YXJpYWJsZS5iYXNlKWluc3RhbmNlb2YgbikpYnJlYWt9Zm9yKGw9ci5yZXZlcnNlKCksbz0wLGM9bC5sZW5ndGg7Yz5vO28rKyl0PWxbb10saSYmKHQudmFyaWFibGUgaW5zdGFuY2VvZiBuP3QudmFyaWFibGU9aTp0LnZhcmlhYmxlLmJhc2U9aSksaT11dChlLHQsXCJ2YXJpYWJsZVwiKTtyZXR1cm4gaX0sbi5wcm90b3R5cGUuY29tcGlsZU5vZGU9ZnVuY3Rpb24oZSl7dmFyIHQsbixpLHMscixhLG8sYyxoLGw7aWYobnVsbCE9KGg9dGhpcy52YXJpYWJsZSkmJihoLmZyb250PXRoaXMuZnJvbnQpLHM9VS5jb21waWxlU3BsYXR0ZWRBcnJheShlLHRoaXMuYXJncywhMCkscy5sZW5ndGgpcmV0dXJuIHRoaXMuY29tcGlsZVNwbGF0KGUscyk7Zm9yKGk9W10sbD10aGlzLmFyZ3Msbj1vPTAsYz1sLmxlbmd0aDtjPm87bj0rK28pdD1sW25dLG4mJmkucHVzaCh0aGlzLm1ha2VDb2RlKFwiLCBcIikpLGkucHVzaC5hcHBseShpLHQuY29tcGlsZVRvRnJhZ21lbnRzKGUsQykpO3JldHVybiByPVtdLHRoaXMuaXNTdXBlcj8oYT10aGlzLnN1cGVyUmVmZXJlbmNlKGUpKyhcIi5jYWxsKFwiK3RoaXMuc3VwZXJUaGlzKGUpKSxpLmxlbmd0aCYmKGErPVwiLCBcIiksci5wdXNoKHRoaXMubWFrZUNvZGUoYSkpKToodGhpcy5pc05ldyYmci5wdXNoKHRoaXMubWFrZUNvZGUoXCJuZXcgXCIpKSxyLnB1c2guYXBwbHkocix0aGlzLnZhcmlhYmxlLmNvbXBpbGVUb0ZyYWdtZW50cyhlLHcpKSxyLnB1c2godGhpcy5tYWtlQ29kZShcIihcIikpKSxyLnB1c2guYXBwbHkocixpKSxyLnB1c2godGhpcy5tYWtlQ29kZShcIilcIikpLHJ9LG4ucHJvdG90eXBlLmNvbXBpbGVTcGxhdD1mdW5jdGlvbihlLHQpe3ZhciBuLGkscyxyLGEsbztyZXR1cm4gdGhpcy5pc1N1cGVyP1tdLmNvbmNhdCh0aGlzLm1ha2VDb2RlKFwiXCIrdGhpcy5zdXBlclJlZmVyZW5jZShlKStcIi5hcHBseShcIit0aGlzLnN1cGVyVGhpcyhlKStcIiwgXCIpLHQsdGhpcy5tYWtlQ29kZShcIilcIikpOnRoaXMuaXNOZXc/KHI9dGhpcy50YWIrSCxbXS5jb25jYXQodGhpcy5tYWtlQ29kZShcIihmdW5jdGlvbihmdW5jLCBhcmdzLCBjdG9yKSB7XFxuXCIrcitcImN0b3IucHJvdG90eXBlID0gZnVuYy5wcm90b3R5cGU7XFxuXCIrcitcInZhciBjaGlsZCA9IG5ldyBjdG9yLCByZXN1bHQgPSBmdW5jLmFwcGx5KGNoaWxkLCBhcmdzKTtcXG5cIityK1wicmV0dXJuIE9iamVjdChyZXN1bHQpID09PSByZXN1bHQgPyByZXN1bHQgOiBjaGlsZDtcXG5cIit0aGlzLnRhYitcIn0pKFwiKSx0aGlzLnZhcmlhYmxlLmNvbXBpbGVUb0ZyYWdtZW50cyhlLEMpLHRoaXMubWFrZUNvZGUoXCIsIFwiKSx0LHRoaXMubWFrZUNvZGUoXCIsIGZ1bmN0aW9uKCl7fSlcIikpKToobj1bXSxpPW5ldyBLKHRoaXMudmFyaWFibGUpLChhPWkucHJvcGVydGllcy5wb3AoKSkmJmkuaXNDb21wbGV4KCk/KG89ZS5zY29wZS5mcmVlVmFyaWFibGUoXCJyZWZcIiksbj1uLmNvbmNhdCh0aGlzLm1ha2VDb2RlKFwiKFwiK28rXCIgPSBcIiksaS5jb21waWxlVG9GcmFnbWVudHMoZSxDKSx0aGlzLm1ha2VDb2RlKFwiKVwiKSxhLmNvbXBpbGVUb0ZyYWdtZW50cyhlKSkpOihzPWkuY29tcGlsZVRvRnJhZ21lbnRzKGUsdyksai50ZXN0KHN0KHMpKSYmKHM9dGhpcy53cmFwSW5CcmFjZXMocykpLGE/KG89c3Qocykscy5wdXNoLmFwcGx5KHMsYS5jb21waWxlVG9GcmFnbWVudHMoZSkpKTpvPVwibnVsbFwiLG49bi5jb25jYXQocykpLG49bi5jb25jYXQodGhpcy5tYWtlQ29kZShcIi5hcHBseShcIitvK1wiLCBcIiksdCx0aGlzLm1ha2VDb2RlKFwiKVwiKSkpfSxufShzKSxlLkV4dGVuZHM9ZD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsdCl7dGhpcy5jaGlsZD1lLHRoaXMucGFyZW50PXR9cmV0dXJuIGd0KHQsZSksdC5wcm90b3R5cGUuY2hpbGRyZW49W1wiY2hpbGRcIixcInBhcmVudFwiXSx0LnByb3RvdHlwZS5jb21waWxlVG9GcmFnbWVudHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBhKG5ldyBLKG5ldyBOKHB0KFwiZXh0ZW5kc1wiKSkpLFt0aGlzLmNoaWxkLHRoaXMucGFyZW50XSkuY29tcGlsZVRvRnJhZ21lbnRzKGUpfSx0fShzKSxlLkFjY2Vzcz10PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSx0KXt0aGlzLm5hbWU9ZSx0aGlzLm5hbWUuYXNLZXk9ITAsdGhpcy5zb2FrPVwic29ha1wiPT09dH1yZXR1cm4gZ3QodCxlKSx0LnByb3RvdHlwZS5jaGlsZHJlbj1bXCJuYW1lXCJdLHQucHJvdG90eXBlLmNvbXBpbGVUb0ZyYWdtZW50cz1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gdD10aGlzLm5hbWUuY29tcGlsZVRvRnJhZ21lbnRzKGUpLG0udGVzdChzdCh0KSk/dC51bnNoaWZ0KHRoaXMubWFrZUNvZGUoXCIuXCIpKToodC51bnNoaWZ0KHRoaXMubWFrZUNvZGUoXCJbXCIpKSx0LnB1c2godGhpcy5tYWtlQ29kZShcIl1cIikpKSx0fSx0LnByb3RvdHlwZS5pc0NvbXBsZXg9Uyx0fShzKSxlLkluZGV4PXY9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt0aGlzLmluZGV4PWV9cmV0dXJuIGd0KHQsZSksdC5wcm90b3R5cGUuY2hpbGRyZW49W1wiaW5kZXhcIl0sdC5wcm90b3R5cGUuY29tcGlsZVRvRnJhZ21lbnRzPWZ1bmN0aW9uKGUpe3JldHVybltdLmNvbmNhdCh0aGlzLm1ha2VDb2RlKFwiW1wiKSx0aGlzLmluZGV4LmNvbXBpbGVUb0ZyYWdtZW50cyhlLEwpLHRoaXMubWFrZUNvZGUoXCJdXCIpKX0sdC5wcm90b3R5cGUuaXNDb21wbGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5kZXguaXNDb21wbGV4KCl9LHR9KHMpLGUuUmFuZ2U9Tz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsdCxuKXt0aGlzLmZyb209ZSx0aGlzLnRvPXQsdGhpcy5leGNsdXNpdmU9XCJleGNsdXNpdmVcIj09PW4sdGhpcy5lcXVhbHM9dGhpcy5leGNsdXNpdmU/XCJcIjpcIj1cIn1yZXR1cm4gZ3QodCxlKSx0LnByb3RvdHlwZS5jaGlsZHJlbj1bXCJmcm9tXCIsXCJ0b1wiXSx0LnByb3RvdHlwZS5jb21waWxlVmFyaWFibGVzPWZ1bmN0aW9uKGUpe3ZhciB0LG4saSxzLHI7cmV0dXJuIGU9b3QoZSx7dG9wOiEwfSksbj10aGlzLmNhY2hlVG9Db2RlRnJhZ21lbnRzKHRoaXMuZnJvbS5jYWNoZShlLEMpKSx0aGlzLmZyb21DPW5bMF0sdGhpcy5mcm9tVmFyPW5bMV0saT10aGlzLmNhY2hlVG9Db2RlRnJhZ21lbnRzKHRoaXMudG8uY2FjaGUoZSxDKSksdGhpcy50b0M9aVswXSx0aGlzLnRvVmFyPWlbMV0sKHQ9ZXQoZSxcInN0ZXBcIikpJiYocz10aGlzLmNhY2hlVG9Db2RlRnJhZ21lbnRzKHQuY2FjaGUoZSxDKSksdGhpcy5zdGVwPXNbMF0sdGhpcy5zdGVwVmFyPXNbMV0pLHI9W3RoaXMuZnJvbVZhci5tYXRjaChqKSx0aGlzLnRvVmFyLm1hdGNoKGopXSx0aGlzLmZyb21OdW09clswXSx0aGlzLnRvTnVtPXJbMV0sdGhpcy5zdGVwVmFyP3RoaXMuc3RlcE51bT10aGlzLnN0ZXBWYXIubWF0Y2goaik6dm9pZCAwfSx0LnByb3RvdHlwZS5jb21waWxlTm9kZT1mdW5jdGlvbihlKXt2YXIgdCxuLGkscyxyLGEsbyxjLGgsbCx1LHAsZCxmO3JldHVybiB0aGlzLmZyb21WYXJ8fHRoaXMuY29tcGlsZVZhcmlhYmxlcyhlKSxlLmluZGV4PyhvPXRoaXMuZnJvbU51bSYmdGhpcy50b051bSxyPWV0KGUsXCJpbmRleFwiKSxhPWV0KGUsXCJuYW1lXCIpLGg9YSYmYSE9PXIscD1cIlwiK3IrXCIgPSBcIit0aGlzLmZyb21DLHRoaXMudG9DIT09dGhpcy50b1ZhciYmKHArPVwiLCBcIit0aGlzLnRvQyksdGhpcy5zdGVwIT09dGhpcy5zdGVwVmFyJiYocCs9XCIsIFwiK3RoaXMuc3RlcCksZD1bXCJcIityK1wiIDxcIit0aGlzLmVxdWFscyxcIlwiK3IrXCIgPlwiK3RoaXMuZXF1YWxzXSxjPWRbMF0scz1kWzFdLG49dGhpcy5zdGVwTnVtPyt0aGlzLnN0ZXBOdW0+MD9cIlwiK2MrXCIgXCIrdGhpcy50b1ZhcjpcIlwiK3MrXCIgXCIrdGhpcy50b1ZhcjpvPyhmPVsrdGhpcy5mcm9tTnVtLCt0aGlzLnRvTnVtXSxpPWZbMF0sdT1mWzFdLGYsdT49aT9cIlwiK2MrXCIgXCIrdTpcIlwiK3MrXCIgXCIrdSk6KHQ9dGhpcy5zdGVwVmFyP1wiXCIrdGhpcy5zdGVwVmFyK1wiID4gMFwiOlwiXCIrdGhpcy5mcm9tVmFyK1wiIDw9IFwiK3RoaXMudG9WYXIsXCJcIit0K1wiID8gXCIrYytcIiBcIit0aGlzLnRvVmFyK1wiIDogXCIrcytcIiBcIit0aGlzLnRvVmFyKSxsPXRoaXMuc3RlcFZhcj9cIlwiK3IrXCIgKz0gXCIrdGhpcy5zdGVwVmFyOm8/aD91Pj1pP1wiKytcIityOlwiLS1cIityOnU+PWk/XCJcIityK1wiKytcIjpcIlwiK3IrXCItLVwiOmg/XCJcIit0K1wiID8gKytcIityK1wiIDogLS1cIityOlwiXCIrdCtcIiA/IFwiK3IrXCIrKyA6IFwiK3IrXCItLVwiLGgmJihwPVwiXCIrYStcIiA9IFwiK3ApLGgmJihsPVwiXCIrYStcIiA9IFwiK2wpLFt0aGlzLm1ha2VDb2RlKFwiXCIrcCtcIjsgXCIrbitcIjsgXCIrbCldKTp0aGlzLmNvbXBpbGVBcnJheShlKX0sdC5wcm90b3R5cGUuY29tcGlsZUFycmF5PWZ1bmN0aW9uKGUpe3ZhciB0LG4saSxzLHIsYSxvLGMsaCxsLHUscCxkO3JldHVybiB0aGlzLmZyb21OdW0mJnRoaXMudG9OdW0mJjIwPj1NYXRoLmFicyh0aGlzLmZyb21OdW0tdGhpcy50b051bSk/KGg9ZnVuY3Rpb24oKXtkPVtdO2Zvcih2YXIgZT1wPSt0aGlzLmZyb21OdW0sdD0rdGhpcy50b051bTt0Pj1wP3Q+PWU6ZT49dDt0Pj1wP2UrKzplLS0pZC5wdXNoKGUpO3JldHVybiBkfS5hcHBseSh0aGlzKSx0aGlzLmV4Y2x1c2l2ZSYmaC5wb3AoKSxbdGhpcy5tYWtlQ29kZShcIltcIitoLmpvaW4oXCIsIFwiKStcIl1cIildKTooYT10aGlzLnRhYitILHI9ZS5zY29wZS5mcmVlVmFyaWFibGUoXCJpXCIpLGw9ZS5zY29wZS5mcmVlVmFyaWFibGUoXCJyZXN1bHRzXCIpLGM9XCJcXG5cIithK2wrXCIgPSBbXTtcIix0aGlzLmZyb21OdW0mJnRoaXMudG9OdW0/KGUuaW5kZXg9cixuPXN0KHRoaXMuY29tcGlsZU5vZGUoZSkpKToodT1cIlwiK3IrXCIgPSBcIit0aGlzLmZyb21DKyh0aGlzLnRvQyE9PXRoaXMudG9WYXI/XCIsIFwiK3RoaXMudG9DOlwiXCIpLGk9XCJcIit0aGlzLmZyb21WYXIrXCIgPD0gXCIrdGhpcy50b1ZhcixuPVwidmFyIFwiK3UrXCI7IFwiK2krXCIgPyBcIityK1wiIDxcIit0aGlzLmVxdWFscytcIiBcIit0aGlzLnRvVmFyK1wiIDogXCIrcitcIiA+XCIrdGhpcy5lcXVhbHMrXCIgXCIrdGhpcy50b1ZhcitcIjsgXCIraStcIiA/IFwiK3IrXCIrKyA6IFwiK3IrXCItLVwiKSxvPVwieyBcIitsK1wiLnB1c2goXCIrcitcIik7IH1cXG5cIithK1wicmV0dXJuIFwiK2wrXCI7XFxuXCIrZS5pbmRlbnQscz1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZT9lLmNvbnRhaW5zKGZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgTiYmXCJhcmd1bWVudHNcIj09PWUudmFsdWUmJiFlLmFzS2V5fSk6dm9pZCAwfSwocyh0aGlzLmZyb20pfHxzKHRoaXMudG8pKSYmKHQ9XCIsIGFyZ3VtZW50c1wiKSxbdGhpcy5tYWtlQ29kZShcIihmdW5jdGlvbigpIHtcIitjK1wiXFxuXCIrYStcImZvciAoXCIrbitcIilcIitvK1wifSkuYXBwbHkodGhpc1wiKyhudWxsIT10P3Q6XCJcIikrXCIpXCIpXSl9LHR9KHMpLGUuU2xpY2U9UD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3RoaXMucmFuZ2U9ZSx0Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpfXJldHVybiBndCh0LGUpLHQucHJvdG90eXBlLmNoaWxkcmVuPVtcInJhbmdlXCJdLHQucHJvdG90eXBlLmNvbXBpbGVOb2RlPWZ1bmN0aW9uKGUpe3ZhciB0LG4saSxzLHIsYSxvO3JldHVybiBvPXRoaXMucmFuZ2Uscj1vLnRvLGk9by5mcm9tLHM9aSYmaS5jb21waWxlVG9GcmFnbWVudHMoZSxMKXx8W3RoaXMubWFrZUNvZGUoXCIwXCIpXSxyJiYodD1yLmNvbXBpbGVUb0ZyYWdtZW50cyhlLEwpLG49c3QodCksKHRoaXMucmFuZ2UuZXhjbHVzaXZlfHwtMSE9PStuKSYmKGE9XCIsIFwiKyh0aGlzLnJhbmdlLmV4Y2x1c2l2ZT9uOmoudGVzdChuKT9cIlwiKygrbisxKToodD1yLmNvbXBpbGVUb0ZyYWdtZW50cyhlLHcpLFwiK1wiK3N0KHQpK1wiICsgMSB8fCA5ZTlcIikpKSksW3RoaXMubWFrZUNvZGUoXCIuc2xpY2UoXCIrc3QocykrKGF8fFwiXCIpK1wiKVwiKV19LHR9KHMpLGUuT2JqPUE9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHQpe3RoaXMuZ2VuZXJhdGVkPW51bGwhPXQ/dDohMSx0aGlzLm9iamVjdHM9dGhpcy5wcm9wZXJ0aWVzPWV8fFtdfXJldHVybiBndCh0LGUpLHQucHJvdG90eXBlLmNoaWxkcmVuPVtcInByb3BlcnRpZXNcIl0sdC5wcm90b3R5cGUuY29tcGlsZU5vZGU9ZnVuY3Rpb24oZSl7dmFyIHQsbixzLHIsYSxvLGMsaCxsLHAsZCxmLG07aWYobD10aGlzLnByb3BlcnRpZXMsIWwubGVuZ3RoKXJldHVyblt0aGlzLm1ha2VDb2RlKHRoaXMuZnJvbnQ/XCIoe30pXCI6XCJ7fVwiKV07aWYodGhpcy5nZW5lcmF0ZWQpZm9yKHA9MCxmPWwubGVuZ3RoO2Y+cDtwKyspaWYoYz1sW3BdLGMgaW5zdGFuY2VvZiBLKXRocm93IEVycm9yKFwiY2Fubm90IGhhdmUgYW4gaW1wbGljaXQgdmFsdWUgaW4gYW4gaW1wbGljaXQgb2JqZWN0XCIpO2ZvcihzPWUuaW5kZW50Kz1ILG89dGhpcy5sYXN0Tm9uQ29tbWVudCh0aGlzLnByb3BlcnRpZXMpLHQ9W10sbj1kPTAsbT1sLmxlbmd0aDttPmQ7bj0rK2QpaD1sW25dLGE9bj09PWwubGVuZ3RoLTE/XCJcIjpoPT09b3x8aCBpbnN0YW5jZW9mIHU/XCJcXG5cIjpcIixcXG5cIixyPWggaW5zdGFuY2VvZiB1P1wiXCI6cyxoIGluc3RhbmNlb2YgSyYmaFtcInRoaXNcIl0mJihoPW5ldyBpKGgucHJvcGVydGllc1swXS5uYW1lLGgsXCJvYmplY3RcIikpLGggaW5zdGFuY2VvZiB1fHwoaCBpbnN0YW5jZW9mIGl8fChoPW5ldyBpKGgsaCxcIm9iamVjdFwiKSksKGgudmFyaWFibGUuYmFzZXx8aC52YXJpYWJsZSkuYXNLZXk9ITApLHImJnQucHVzaCh0aGlzLm1ha2VDb2RlKHIpKSx0LnB1c2guYXBwbHkodCxoLmNvbXBpbGVUb0ZyYWdtZW50cyhlLEUpKSxhJiZ0LnB1c2godGhpcy5tYWtlQ29kZShhKSk7cmV0dXJuIHQudW5zaGlmdCh0aGlzLm1ha2VDb2RlKFwie1wiKyhsLmxlbmd0aCYmXCJcXG5cIikpKSx0LnB1c2godGhpcy5tYWtlQ29kZShcIlwiKyhsLmxlbmd0aCYmXCJcXG5cIit0aGlzLnRhYikrXCJ9XCIpKSx0aGlzLmZyb250P3RoaXMud3JhcEluQnJhY2VzKHQpOnR9LHQucHJvdG90eXBlLmFzc2lnbnM9ZnVuY3Rpb24oZSl7dmFyIHQsbixpLHM7Zm9yKHM9dGhpcy5wcm9wZXJ0aWVzLG49MCxpPXMubGVuZ3RoO2k+bjtuKyspaWYodD1zW25dLHQuYXNzaWducyhlKSlyZXR1cm4hMDtyZXR1cm4hMX0sdH0ocyksZS5BcnI9bj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3RoaXMub2JqZWN0cz1lfHxbXX1yZXR1cm4gZ3QodCxlKSx0LnByb3RvdHlwZS5jaGlsZHJlbj1bXCJvYmplY3RzXCJdLHQucHJvdG90eXBlLmNvbXBpbGVOb2RlPWZ1bmN0aW9uKGUpe3ZhciB0LG4saSxzLHIsYSxvO2lmKCF0aGlzLm9iamVjdHMubGVuZ3RoKXJldHVyblt0aGlzLm1ha2VDb2RlKFwiW11cIildO2lmKGUuaW5kZW50Kz1ILHQ9VS5jb21waWxlU3BsYXR0ZWRBcnJheShlLHRoaXMub2JqZWN0cyksdC5sZW5ndGgpcmV0dXJuIHQ7Zm9yKHQ9W10sbj1mdW5jdGlvbigpe3ZhciB0LG4saSxzO2ZvcihpPXRoaXMub2JqZWN0cyxzPVtdLHQ9MCxuPWkubGVuZ3RoO24+dDt0Kyspcj1pW3RdLHMucHVzaChyLmNvbXBpbGVUb0ZyYWdtZW50cyhlLEMpKTtyZXR1cm4gc30uY2FsbCh0aGlzKSxzPWE9MCxvPW4ubGVuZ3RoO28+YTtzPSsrYSlpPW5bc10scyYmdC5wdXNoKHRoaXMubWFrZUNvZGUoXCIsIFwiKSksdC5wdXNoLmFwcGx5KHQsaSk7cmV0dXJuIHN0KHQpLmluZGV4T2YoXCJcXG5cIik+PTA/KHQudW5zaGlmdCh0aGlzLm1ha2VDb2RlKFwiW1xcblwiK2UuaW5kZW50KSksdC5wdXNoKHRoaXMubWFrZUNvZGUoXCJcXG5cIit0aGlzLnRhYitcIl1cIikpKToodC51bnNoaWZ0KHRoaXMubWFrZUNvZGUoXCJbXCIpKSx0LnB1c2godGhpcy5tYWtlQ29kZShcIl1cIikpKSx0fSx0LnByb3RvdHlwZS5hc3NpZ25zPWZ1bmN0aW9uKGUpe3ZhciB0LG4saSxzO2ZvcihzPXRoaXMub2JqZWN0cyxuPTAsaT1zLmxlbmd0aDtpPm47bisrKWlmKHQ9c1tuXSx0LmFzc2lnbnMoZSkpcmV0dXJuITA7cmV0dXJuITF9LHR9KHMpLGUuQ2xhc3M9bz1mdW5jdGlvbihlKXtmdW5jdGlvbiBuKGUsdCxuKXt0aGlzLnZhcmlhYmxlPWUsdGhpcy5wYXJlbnQ9dCx0aGlzLmJvZHk9bnVsbCE9bj9uOm5ldyByLHRoaXMuYm91bmRGdW5jcz1bXSx0aGlzLmJvZHkuY2xhc3NCb2R5PSEwfXJldHVybiBndChuLGUpLG4ucHJvdG90eXBlLmNoaWxkcmVuPVtcInZhcmlhYmxlXCIsXCJwYXJlbnRcIixcImJvZHlcIl0sbi5wcm90b3R5cGUuZGV0ZXJtaW5lTmFtZT1mdW5jdGlvbigpe3ZhciBlLG47aWYoIXRoaXMudmFyaWFibGUpcmV0dXJuIG51bGw7aWYoZT0obj1ydCh0aGlzLnZhcmlhYmxlLnByb3BlcnRpZXMpKT9uIGluc3RhbmNlb2YgdCYmbi5uYW1lLnZhbHVlOnRoaXMudmFyaWFibGUuYmFzZS52YWx1ZSxidC5jYWxsKEIsZSk+PTApdGhyb3cgU3ludGF4RXJyb3IoXCJ2YXJpYWJsZSBuYW1lIG1heSBub3QgYmUgXCIrZSk7cmV0dXJuIGUmJihlPW0udGVzdChlKSYmZSl9LG4ucHJvdG90eXBlLnNldENvbnRleHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYm9keS50cmF2ZXJzZUNoaWxkcmVuKCExLGZ1bmN0aW9uKHQpe3JldHVybiB0LmNsYXNzQm9keT8hMTp0IGluc3RhbmNlb2YgTiYmXCJ0aGlzXCI9PT10LnZhbHVlP3QudmFsdWU9ZTp0IGluc3RhbmNlb2YgaCYmKHQua2xhc3M9ZSx0LmJvdW5kKT90LmNvbnRleHQ9ZTp2b2lkIDB9KX0sbi5wcm90b3R5cGUuYWRkQm91bmRGdW5jdGlvbnM9ZnVuY3Rpb24oZSl7dmFyIG4scyxhLG8sYyxsLHUscCxkLGY7aWYodGhpcy5ib3VuZEZ1bmNzLmxlbmd0aClmb3IoZS5zY29wZS5hc3NpZ24oXCJfdGhpc1wiLFwidGhpc1wiKSxkPXRoaXMuYm91bmRGdW5jcyx1PTAscD1kLmxlbmd0aDtwPnU7dSsrKWY9ZFt1XSxjPWZbMF0sYT1mWzFdLG89bmV3IEsobmV3IE4oXCJ0aGlzXCIpLFtuZXcgdChjKV0pLG49bmV3IHIoW25ldyBNKG5ldyBOKFwiXCIrdGhpcy5jdG9yLm5hbWUrXCIucHJvdG90eXBlLlwiK2MudmFsdWUrXCIuYXBwbHkoX3RoaXMsIGFyZ3VtZW50cylcIikpXSksbD1uZXcgaChhLnBhcmFtcyxuLFwiYm91bmRmdW5jXCIpLHM9bmV3IGkobyxsKSx0aGlzLmN0b3IuYm9keS51bnNoaWZ0KHMpfSxuLnByb3RvdHlwZS5hZGRQcm9wZXJ0aWVzPWZ1bmN0aW9uKGUsbixzKXt2YXIgcixhLG8sYyxsO3JldHVybiBsPWUuYmFzZS5wcm9wZXJ0aWVzLnNsaWNlKDApLG89ZnVuY3Rpb24oKXt2YXIgZTtmb3IoZT1bXTtyPWwuc2hpZnQoKTspe2lmKHIgaW5zdGFuY2VvZiBpKWlmKGE9ci52YXJpYWJsZS5iYXNlLGRlbGV0ZSByLmNvbnRleHQsYz1yLnZhbHVlLFwiY29uc3RydWN0b3JcIj09PWEudmFsdWUpe2lmKHRoaXMuY3Rvcil0aHJvdyBFcnJvcihcImNhbm5vdCBkZWZpbmUgbW9yZSB0aGFuIG9uZSBjb25zdHJ1Y3RvciBpbiBhIGNsYXNzXCIpO2lmKGMuYm91bmQpdGhyb3cgRXJyb3IoXCJjYW5ub3QgZGVmaW5lIGEgY29uc3RydWN0b3IgYXMgYSBib3VuZCBmdW5jdGlvblwiKTtjIGluc3RhbmNlb2YgaD9yPXRoaXMuY3Rvcj1jOih0aGlzLmV4dGVybmFsQ3Rvcj1zLnNjb3BlLmZyZWVWYXJpYWJsZShcImNsYXNzXCIpLHI9bmV3IGkobmV3IE4odGhpcy5leHRlcm5hbEN0b3IpLGMpKX1lbHNlIHIudmFyaWFibGVbXCJ0aGlzXCJdPyhjW1wic3RhdGljXCJdPSEwLGMuYm91bmQmJihjLmNvbnRleHQ9bikpOihyLnZhcmlhYmxlPW5ldyBLKG5ldyBOKG4pLFtuZXcgdChuZXcgTihcInByb3RvdHlwZVwiKSksbmV3IHQoYSldKSxjIGluc3RhbmNlb2YgaCYmYy5ib3VuZCYmKHRoaXMuYm91bmRGdW5jcy5wdXNoKFthLGNdKSxjLmJvdW5kPSExKSk7ZS5wdXNoKHIpfXJldHVybiBlfS5jYWxsKHRoaXMpLFEobyl9LG4ucHJvdG90eXBlLndhbGtCb2R5PWZ1bmN0aW9uKGUsdCl7dmFyIGk9dGhpcztyZXR1cm4gdGhpcy50cmF2ZXJzZUNoaWxkcmVuKCExLGZ1bmN0aW9uKHMpe3ZhciBhLG8sYyxoLGwsdSxwO2lmKGE9ITAscyBpbnN0YW5jZW9mIG4pcmV0dXJuITE7aWYocyBpbnN0YW5jZW9mIHIpe2ZvcihwPW89cy5leHByZXNzaW9ucyxjPWw9MCx1PXAubGVuZ3RoO3U+bDtjPSsrbCloPXBbY10saCBpbnN0YW5jZW9mIEsmJmguaXNPYmplY3QoITApJiYoYT0hMSxvW2NdPWkuYWRkUHJvcGVydGllcyhoLGUsdCkpO3MuZXhwcmVzc2lvbnM9bz1pdChvKX1yZXR1cm4gYSYmIShzIGluc3RhbmNlb2Ygbil9KX0sbi5wcm90b3R5cGUuaG9pc3REaXJlY3RpdmVQcm9sb2d1ZT1mdW5jdGlvbigpe3ZhciBlLHQsbjtmb3IodD0wLGU9dGhpcy5ib2R5LmV4cHJlc3Npb25zOyhuPWVbdF0pJiZuIGluc3RhbmNlb2YgdXx8biBpbnN0YW5jZW9mIEsmJm4uaXNTdHJpbmcoKTspKyt0O3JldHVybiB0aGlzLmRpcmVjdGl2ZXM9ZS5zcGxpY2UoMCx0KX0sbi5wcm90b3R5cGUuZW5zdXJlQ29uc3RydWN0b3I9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY3Rvcnx8KHRoaXMuY3Rvcj1uZXcgaCx0aGlzLnBhcmVudCYmdGhpcy5jdG9yLmJvZHkucHVzaChuZXcgTihcIlwiK2UrXCIuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcIikpLHRoaXMuZXh0ZXJuYWxDdG9yJiZ0aGlzLmN0b3IuYm9keS5wdXNoKG5ldyBOKFwiXCIrdGhpcy5leHRlcm5hbEN0b3IrXCIuYXBwbHkodGhpcywgYXJndW1lbnRzKVwiKSksdGhpcy5jdG9yLmJvZHkubWFrZVJldHVybigpLHRoaXMuYm9keS5leHByZXNzaW9ucy51bnNoaWZ0KHRoaXMuY3RvcikpLHRoaXMuY3Rvci5jdG9yPXRoaXMuY3Rvci5uYW1lPWUsdGhpcy5jdG9yLmtsYXNzPW51bGwsdGhpcy5jdG9yLm5vUmV0dXJuPSEwfSxuLnByb3RvdHlwZS5jb21waWxlTm9kZT1mdW5jdGlvbihlKXt2YXIgdCxuLHMscixhLG8sbDtyZXR1cm4gbj10aGlzLmRldGVybWluZU5hbWUoKSxhPW58fFwiX0NsYXNzXCIsYS5yZXNlcnZlZCYmKGE9XCJfXCIrYSkscj1uZXcgTihhKSx0aGlzLmhvaXN0RGlyZWN0aXZlUHJvbG9ndWUoKSx0aGlzLnNldENvbnRleHQoYSksdGhpcy53YWxrQm9keShhLGUpLHRoaXMuZW5zdXJlQ29uc3RydWN0b3IoYSksdGhpcy5ib2R5LnNwYWNlZD0hMCx0aGlzLmN0b3IgaW5zdGFuY2VvZiBofHx0aGlzLmJvZHkuZXhwcmVzc2lvbnMudW5zaGlmdCh0aGlzLmN0b3IpLHRoaXMuYm9keS5leHByZXNzaW9ucy5wdXNoKHIpLChsPXRoaXMuYm9keS5leHByZXNzaW9ucykudW5zaGlmdC5hcHBseShsLHRoaXMuZGlyZWN0aXZlcyksdGhpcy5hZGRCb3VuZEZ1bmN0aW9ucyhlKSx0PWMud3JhcCh0aGlzLmJvZHkpLHRoaXMucGFyZW50JiYodGhpcy5zdXBlckNsYXNzPW5ldyBOKGUuc2NvcGUuZnJlZVZhcmlhYmxlKFwic3VwZXJcIiwhMSkpLHRoaXMuYm9keS5leHByZXNzaW9ucy51bnNoaWZ0KG5ldyBkKHIsdGhpcy5zdXBlckNsYXNzKSksdC5hcmdzLnB1c2godGhpcy5wYXJlbnQpLG89dC52YXJpYWJsZS5wYXJhbXN8fHQudmFyaWFibGUuYmFzZS5wYXJhbXMsby5wdXNoKG5ldyBJKHRoaXMuc3VwZXJDbGFzcykpKSxzPW5ldyBfKHQsITApLHRoaXMudmFyaWFibGUmJihzPW5ldyBpKHRoaXMudmFyaWFibGUscykpLHMuY29tcGlsZVRvRnJhZ21lbnRzKGUpfSxufShzKSxlLkFzc2lnbj1pPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIG4oZSx0LG4saSl7dmFyIHMscixhO2lmKHRoaXMudmFyaWFibGU9ZSx0aGlzLnZhbHVlPXQsdGhpcy5jb250ZXh0PW4sdGhpcy5wYXJhbT1pJiZpLnBhcmFtLHRoaXMuc3VicGF0dGVybj1pJiZpLnN1YnBhdHRlcm4sYT1yPXRoaXMudmFyaWFibGUudW53cmFwQWxsKCkudmFsdWUscz1idC5jYWxsKEIsYSk+PTAscyYmXCJvYmplY3RcIiE9PXRoaXMuY29udGV4dCl0aHJvdyBTeW50YXhFcnJvcigndmFyaWFibGUgbmFtZSBtYXkgbm90IGJlIFwiJytyKydcIicpfXJldHVybiBndChuLGUpLG4ucHJvdG90eXBlLmNoaWxkcmVuPVtcInZhcmlhYmxlXCIsXCJ2YWx1ZVwiXSxuLnByb3RvdHlwZS5pc1N0YXRlbWVudD1mdW5jdGlvbihlKXtyZXR1cm4obnVsbCE9ZT9lLmxldmVsOnZvaWQgMCk9PT1FJiZudWxsIT10aGlzLmNvbnRleHQmJmJ0LmNhbGwodGhpcy5jb250ZXh0LFwiP1wiKT49MH0sbi5wcm90b3R5cGUuYXNzaWducz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpc1tcIm9iamVjdFwiPT09dGhpcy5jb250ZXh0P1widmFsdWVcIjpcInZhcmlhYmxlXCJdLmFzc2lnbnMoZSl9LG4ucHJvdG90eXBlLnVuZm9sZFNvYWs9ZnVuY3Rpb24oZSl7cmV0dXJuIHV0KGUsdGhpcyxcInZhcmlhYmxlXCIpfSxuLnByb3RvdHlwZS5jb21waWxlTm9kZT1mdW5jdGlvbihlKXt2YXIgdCxuLGkscyxyLGEsbyxjLGwsdSxwO2lmKGk9dGhpcy52YXJpYWJsZSBpbnN0YW5jZW9mIEspe2lmKHRoaXMudmFyaWFibGUuaXNBcnJheSgpfHx0aGlzLnZhcmlhYmxlLmlzT2JqZWN0KCkpcmV0dXJuIHRoaXMuY29tcGlsZVBhdHRlcm5NYXRjaChlKTtpZih0aGlzLnZhcmlhYmxlLmlzU3BsaWNlKCkpcmV0dXJuIHRoaXMuY29tcGlsZVNwbGljZShlKTtpZihcInx8PVwiPT09KGM9dGhpcy5jb250ZXh0KXx8XCImJj1cIj09PWN8fFwiPz1cIj09PWMpcmV0dXJuIHRoaXMuY29tcGlsZUNvbmRpdGlvbmFsKGUpfWlmKG49dGhpcy52YXJpYWJsZS5jb21waWxlVG9GcmFnbWVudHMoZSxDKSxyPXN0KG4pLCF0aGlzLmNvbnRleHQpe2lmKCEobz10aGlzLnZhcmlhYmxlLnVud3JhcEFsbCgpKS5pc0Fzc2lnbmFibGUoKSl0aHJvdyBTeW50YXhFcnJvcignXCInK3RoaXMudmFyaWFibGUuY29tcGlsZShlKSsnXCIgY2Fubm90IGJlIGFzc2lnbmVkLicpOyhcImZ1bmN0aW9uXCI9PXR5cGVvZiBvLmhhc1Byb3BlcnRpZXM/by5oYXNQcm9wZXJ0aWVzKCk6dm9pZCAwKXx8KHRoaXMucGFyYW0/ZS5zY29wZS5hZGQocixcInZhclwiKTplLnNjb3BlLmZpbmQocikpfXJldHVybiB0aGlzLnZhbHVlIGluc3RhbmNlb2YgaCYmKHM9eC5leGVjKHIpKSYmKHNbMV0mJih0aGlzLnZhbHVlLmtsYXNzPXNbMV0pLHRoaXMudmFsdWUubmFtZT1udWxsIT0obD1udWxsIT0odT1udWxsIT0ocD1zWzJdKT9wOnNbM10pP3U6c1s0XSk/bDpzWzVdKSxhPXRoaXMudmFsdWUuY29tcGlsZVRvRnJhZ21lbnRzKGUsQyksXCJvYmplY3RcIj09PXRoaXMuY29udGV4dD9uLmNvbmNhdCh0aGlzLm1ha2VDb2RlKFwiOiBcIiksYSk6KHQ9bi5jb25jYXQodGhpcy5tYWtlQ29kZShcIiBcIisodGhpcy5jb250ZXh0fHxcIj1cIikrXCIgXCIpLGEpLEM+PWUubGV2ZWw/dDp0aGlzLndyYXBJbkJyYWNlcyh0KSl9LG4ucHJvdG90eXBlLmNvbXBpbGVQYXR0ZXJuTWF0Y2g9ZnVuY3Rpb24oZSl7dmFyIGkscyxyLGEsbyxjLGgsbCx1LHAsZCxmLGcsYixrLHksdyxULEwseCxELFMsQSxSLEksTyxNLGo7aWYoeT1lLmxldmVsPT09RSxUPXRoaXMudmFsdWUsZD10aGlzLnZhcmlhYmxlLmJhc2Uub2JqZWN0cywhKGY9ZC5sZW5ndGgpKXJldHVybiByPVQuY29tcGlsZVRvRnJhZ21lbnRzKGUpLGUubGV2ZWw+PUY/dGhpcy53cmFwSW5CcmFjZXMocik6cjtpZihoPXRoaXMudmFyaWFibGUuaXNPYmplY3QoKSx5JiYxPT09ZiYmISgocD1kWzBdKWluc3RhbmNlb2YgVSkpe2lmKHAgaW5zdGFuY2VvZiBuPyhBPXAsUj1BLnZhcmlhYmxlLGM9Ui5iYXNlLHA9QS52YWx1ZSk6Yz1oP3BbXCJ0aGlzXCJdP3AucHJvcGVydGllc1swXS5uYW1lOnA6bmV3IE4oMCksaT1tLnRlc3QoYy51bndyYXAoKS52YWx1ZXx8MCksVD1uZXcgSyhUKSxULnByb3BlcnRpZXMucHVzaChuZXcoaT90OnYpKGMpKSxJPXAudW53cmFwKCkudmFsdWUsYnQuY2FsbCgkLEkpPj0wKXRocm93IG5ldyBTeW50YXhFcnJvcihcImFzc2lnbm1lbnQgdG8gYSByZXNlcnZlZCB3b3JkOiBcIitwLmNvbXBpbGUoZSkrXCIgPSBcIitULmNvbXBpbGUoZSkpO3JldHVybiBuZXcgbihwLFQsbnVsbCx7cGFyYW06dGhpcy5wYXJhbX0pLmNvbXBpbGVUb0ZyYWdtZW50cyhlLEUpfWZvcihMPVQuY29tcGlsZVRvRnJhZ21lbnRzKGUsQykseD1zdChMKSxzPVtdLGs9ITEsKCFtLnRlc3QoeCl8fHRoaXMudmFyaWFibGUuYXNzaWducyh4KSkmJihzLnB1c2goW3RoaXMubWFrZUNvZGUoXCJcIisoZz1lLnNjb3BlLmZyZWVWYXJpYWJsZShcInJlZlwiKSkrXCIgPSBcIildLmNvbmNhdChrdC5jYWxsKEwpKSksTD1bdGhpcy5tYWtlQ29kZShnKV0seD1nKSxvPUQ9MCxTPWQubGVuZ3RoO1M+RDtvPSsrRCl7aWYocD1kW29dLGM9byxoJiYocCBpbnN0YW5jZW9mIG4/KE89cCxNPU8udmFyaWFibGUsYz1NLmJhc2UscD1PLnZhbHVlKTpwLmJhc2UgaW5zdGFuY2VvZiBfPyhqPW5ldyBLKHAudW53cmFwQWxsKCkpLmNhY2hlUmVmZXJlbmNlKGUpLHA9alswXSxjPWpbMV0pOmM9cFtcInRoaXNcIl0/cC5wcm9wZXJ0aWVzWzBdLm5hbWU6cCksIWsmJnAgaW5zdGFuY2VvZiBVKXU9cC5uYW1lLnVud3JhcCgpLnZhbHVlLHA9cC51bndyYXAoKSx3PVwiXCIrZitcIiA8PSBcIit4K1wiLmxlbmd0aCA/IFwiK3B0KFwic2xpY2VcIikrXCIuY2FsbChcIit4K1wiLCBcIitvLChiPWYtby0xKT8obD1lLnNjb3BlLmZyZWVWYXJpYWJsZShcImlcIiksdys9XCIsIFwiK2wrXCIgPSBcIit4K1wiLmxlbmd0aCAtIFwiK2IrXCIpIDogKFwiK2wrXCIgPSBcIitvK1wiLCBbXSlcIik6dys9XCIpIDogW11cIix3PW5ldyBOKHcpLGs9XCJcIitsK1wiKytcIjtcbmVsc2V7aWYodT1wLnVud3JhcCgpLnZhbHVlLHAgaW5zdGFuY2VvZiBVKXRocm93IHA9cC5uYW1lLmNvbXBpbGVUb0ZyYWdtZW50cyhlKSxuZXcgU3ludGF4RXJyb3IoXCJtdWx0aXBsZSBzcGxhdHMgYXJlIGRpc2FsbG93ZWQgaW4gYW4gYXNzaWdubWVudDogXCIrcCtcIi4uLlwiKTtcIm51bWJlclwiPT10eXBlb2YgYz8oYz1uZXcgTihrfHxjKSxpPSExKTppPWgmJm0udGVzdChjLnVud3JhcCgpLnZhbHVlfHwwKSx3PW5ldyBLKG5ldyBOKHgpLFtuZXcoaT90OnYpKGMpXSl9aWYobnVsbCE9dSYmYnQuY2FsbCgkLHUpPj0wKXRocm93IG5ldyBTeW50YXhFcnJvcihcImFzc2lnbm1lbnQgdG8gYSByZXNlcnZlZCB3b3JkOiBcIitwLmNvbXBpbGUoZSkrXCIgPSBcIit3LmNvbXBpbGUoZSkpO3MucHVzaChuZXcgbihwLHcsbnVsbCx7cGFyYW06dGhpcy5wYXJhbSxzdWJwYXR0ZXJuOiEwfSkuY29tcGlsZVRvRnJhZ21lbnRzKGUsQykpfXJldHVybiB5fHx0aGlzLnN1YnBhdHRlcm58fHMucHVzaChMKSxhPXRoaXMuam9pbkZyYWdtZW50QXJyYXlzKHMsXCIsIFwiKSxDPmUubGV2ZWw/YTp0aGlzLndyYXBJbkJyYWNlcyhhKX0sbi5wcm90b3R5cGUuY29tcGlsZUNvbmRpdGlvbmFsPWZ1bmN0aW9uKGUpe3ZhciB0LGkscztpZihzPXRoaXMudmFyaWFibGUuY2FjaGVSZWZlcmVuY2UoZSksdD1zWzBdLGk9c1sxXSwhdC5wcm9wZXJ0aWVzLmxlbmd0aCYmdC5iYXNlIGluc3RhbmNlb2YgTiYmXCJ0aGlzXCIhPT10LmJhc2UudmFsdWUmJiFlLnNjb3BlLmNoZWNrKHQuYmFzZS52YWx1ZSkpdGhyb3cgRXJyb3IoJ3RoZSB2YXJpYWJsZSBcIicrdC5iYXNlLnZhbHVlK1wiXFxcIiBjYW4ndCBiZSBhc3NpZ25lZCB3aXRoIFwiK3RoaXMuY29udGV4dCtcIiBiZWNhdXNlIGl0IGhhcyBub3QgYmVlbiBkZWZpbmVkLlwiKTtyZXR1cm4gYnQuY2FsbCh0aGlzLmNvbnRleHQsXCI/XCIpPj0wJiYoZS5pc0V4aXN0ZW50aWFsRXF1YWxzPSEwKSxuZXcgUih0aGlzLmNvbnRleHQuc2xpY2UoMCwtMSksdCxuZXcgbihpLHRoaXMudmFsdWUsXCI9XCIpKS5jb21waWxlVG9GcmFnbWVudHMoZSl9LG4ucHJvdG90eXBlLmNvbXBpbGVTcGxpY2U9ZnVuY3Rpb24oZSl7dmFyIHQsbixpLHMscixhLG8sYyxoLGwsdSxwO3JldHVybiBsPXRoaXMudmFyaWFibGUucHJvcGVydGllcy5wb3AoKS5yYW5nZSxpPWwuZnJvbSxvPWwudG8sbj1sLmV4Y2x1c2l2ZSxhPXRoaXMudmFyaWFibGUuY29tcGlsZShlKSxpPyh1PXRoaXMuY2FjaGVUb0NvZGVGcmFnbWVudHMoaS5jYWNoZShlLEYpKSxzPXVbMF0scj11WzFdKTpzPXI9XCIwXCIsbz8obnVsbCE9aT9pLmlzU2ltcGxlTnVtYmVyKCk6dm9pZCAwKSYmby5pc1NpbXBsZU51bWJlcigpPyhvPStvLmNvbXBpbGUoZSktK3Isbnx8KG8rPTEpKToobz1vLmNvbXBpbGUoZSx3KStcIiAtIFwiK3Isbnx8KG8rPVwiICsgMVwiKSk6bz1cIjllOVwiLHA9dGhpcy52YWx1ZS5jYWNoZShlLEMpLGM9cFswXSxoPXBbMV0sdD1bXS5jb25jYXQodGhpcy5tYWtlQ29kZShcIltdLnNwbGljZS5hcHBseShcIithK1wiLCBbXCIrcytcIiwgXCIrbytcIl0uY29uY2F0KFwiKSxjLHRoaXMubWFrZUNvZGUoXCIpKSwgXCIpLGgpLGUubGV2ZWw+RT90aGlzLndyYXBJbkJyYWNlcyh0KTp0fSxufShzKSxlLkNvZGU9aD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsdCxuKXt0aGlzLnBhcmFtcz1lfHxbXSx0aGlzLmJvZHk9dHx8bmV3IHIsdGhpcy5ib3VuZD1cImJvdW5kZnVuY1wiPT09bix0aGlzLmJvdW5kJiYodGhpcy5jb250ZXh0PVwiX3RoaXNcIil9cmV0dXJuIGd0KHQsZSksdC5wcm90b3R5cGUuY2hpbGRyZW49W1wicGFyYW1zXCIsXCJib2R5XCJdLHQucHJvdG90eXBlLmlzU3RhdGVtZW50PWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLmN0b3J9LHQucHJvdG90eXBlLmp1bXBzPVMsdC5wcm90b3R5cGUuY29tcGlsZU5vZGU9ZnVuY3Rpb24oZSl7dmFyIHQscyxyLGEsbyxjLGgsbCx1LHAsZCxmLG0sZyxiLHksdixULEMsRixMLEUseCxELFMsQSxJLF8sJCxPLE0saixCLFAsVSxxO2ZvcihlLnNjb3BlPW5ldyBWKGUuc2NvcGUsdGhpcy5ib2R5LHRoaXMpLGUuc2NvcGUuc2hhcmVkPWV0KGUsXCJzaGFyZWRTY29wZVwiKSxlLmluZGVudCs9SCxkZWxldGUgZS5iYXJlLGRlbGV0ZSBlLmlzRXhpc3RlbnRpYWxFcXVhbHMscD1bXSxyPVtdLE89dGhpcy5wYXJhbU5hbWVzKCkseT0wLEY9Ty5sZW5ndGg7Rj55O3krKyloPU9beV0sZS5zY29wZS5jaGVjayhoKXx8ZS5zY29wZS5wYXJhbWV0ZXIoaCk7Zm9yKE09dGhpcy5wYXJhbXMsdj0wLEw9TS5sZW5ndGg7TD52O3YrKylpZih1PU1bdl0sdS5zcGxhdCl7Zm9yKGo9dGhpcy5wYXJhbXMsVD0wLEU9ai5sZW5ndGg7RT5UO1QrKylsPWpbVF0ubmFtZSxsW1widGhpc1wiXSYmKGw9bC5wcm9wZXJ0aWVzWzBdLm5hbWUpLGwudmFsdWUmJmUuc2NvcGUuYWRkKGwudmFsdWUsXCJ2YXJcIiwhMCk7Zj1uZXcgaShuZXcgSyhuZXcgbihmdW5jdGlvbigpe3ZhciB0LG4saSxzO2ZvcihpPXRoaXMucGFyYW1zLHM9W10sdD0wLG49aS5sZW5ndGg7bj50O3QrKylsPWlbdF0scy5wdXNoKGwuYXNSZWZlcmVuY2UoZSkpO3JldHVybiBzfS5jYWxsKHRoaXMpKSksbmV3IEsobmV3IE4oXCJhcmd1bWVudHNcIikpKTticmVha31mb3IoQj10aGlzLnBhcmFtcyxDPTAseD1CLmxlbmd0aDt4PkM7QysrKXU9QltDXSx1LmlzQ29tcGxleCgpPyhnPWQ9dS5hc1JlZmVyZW5jZShlKSx1LnZhbHVlJiYoZz1uZXcgUihcIj9cIixkLHUudmFsdWUpKSxyLnB1c2gobmV3IGkobmV3IEsodS5uYW1lKSxnLFwiPVwiLHtwYXJhbTohMH0pKSk6KGQ9dSx1LnZhbHVlJiYoYz1uZXcgTihkLm5hbWUudmFsdWUrXCIgPT0gbnVsbFwiKSxnPW5ldyBpKG5ldyBLKHUubmFtZSksdS52YWx1ZSxcIj1cIiksci5wdXNoKG5ldyBrKGMsZykpKSksZnx8cC5wdXNoKGQpO2ZvcihiPXRoaXMuYm9keS5pc0VtcHR5KCksZiYmci51bnNoaWZ0KGYpLHIubGVuZ3RoJiYoUD10aGlzLmJvZHkuZXhwcmVzc2lvbnMpLnVuc2hpZnQuYXBwbHkoUCxyKSxhPUk9MCxEPXAubGVuZ3RoO0Q+STthPSsrSSlsPXBbYV0scFthXT1sLmNvbXBpbGVUb0ZyYWdtZW50cyhlKSxlLnNjb3BlLnBhcmFtZXRlcihzdChwW2FdKSk7Zm9yKG09W10sVT10aGlzLnBhcmFtTmFtZXMoKSxfPTAsUz1VLmxlbmd0aDtTPl87XysrKXtpZihoPVVbX10sYnQuY2FsbChtLGgpPj0wKXRocm93IFN5bnRheEVycm9yKFwibXVsdGlwbGUgcGFyYW1ldGVycyBuYW1lZCAnXCIraCtcIidcIik7bS5wdXNoKGgpfWZvcihifHx0aGlzLm5vUmV0dXJufHx0aGlzLmJvZHkubWFrZVJldHVybigpLHRoaXMuYm91bmQmJigobnVsbCE9KHE9ZS5zY29wZS5wYXJlbnQubWV0aG9kKT9xLmJvdW5kOnZvaWQgMCk/dGhpcy5ib3VuZD10aGlzLmNvbnRleHQ9ZS5zY29wZS5wYXJlbnQubWV0aG9kLmNvbnRleHQ6dGhpc1tcInN0YXRpY1wiXXx8ZS5zY29wZS5wYXJlbnQuYXNzaWduKFwiX3RoaXNcIixcInRoaXNcIikpLG89ZS5pbmRlbnQscz1cImZ1bmN0aW9uXCIsdGhpcy5jdG9yJiYocys9XCIgXCIrdGhpcy5uYW1lKSxzKz1cIihcIix0PVt0aGlzLm1ha2VDb2RlKHMpXSxhPSQ9MCxBPXAubGVuZ3RoO0E+JDthPSsrJClsPXBbYV0sYSYmdC5wdXNoKHRoaXMubWFrZUNvZGUoXCIsIFwiKSksdC5wdXNoLmFwcGx5KHQsbCk7cmV0dXJuIHQucHVzaCh0aGlzLm1ha2VDb2RlKFwiKSB7XCIpKSx0aGlzLmJvZHkuaXNFbXB0eSgpfHwodD10LmNvbmNhdCh0aGlzLm1ha2VDb2RlKFwiXFxuXCIpLHRoaXMuYm9keS5jb21waWxlV2l0aERlY2xhcmF0aW9ucyhlKSx0aGlzLm1ha2VDb2RlKFwiXFxuXCIrdGhpcy50YWIpKSksdC5wdXNoKHRoaXMubWFrZUNvZGUoXCJ9XCIpKSx0aGlzLmN0b3I/W3RoaXMubWFrZUNvZGUodGhpcy50YWIpXS5jb25jYXQoa3QuY2FsbCh0KSk6dGhpcy5mcm9udHx8ZS5sZXZlbD49dz90aGlzLndyYXBJbkJyYWNlcyh0KTp0fSx0LnByb3RvdHlwZS5wYXJhbU5hbWVzPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLGkscztmb3IoZT1bXSxzPXRoaXMucGFyYW1zLG49MCxpPXMubGVuZ3RoO2k+bjtuKyspdD1zW25dLGUucHVzaC5hcHBseShlLHQubmFtZXMoKSk7cmV0dXJuIGV9LHQucHJvdG90eXBlLnRyYXZlcnNlQ2hpbGRyZW49ZnVuY3Rpb24oZSxuKXtyZXR1cm4gZT90Ll9fc3VwZXJfXy50cmF2ZXJzZUNoaWxkcmVuLmNhbGwodGhpcyxlLG4pOnZvaWQgMH0sdH0ocyksZS5QYXJhbT1JPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSx0LG4pe3ZhciBpO2lmKHRoaXMubmFtZT1lLHRoaXMudmFsdWU9dCx0aGlzLnNwbGF0PW4saT1lPXRoaXMubmFtZS51bndyYXBBbGwoKS52YWx1ZSxidC5jYWxsKEIsaSk+PTApdGhyb3cgU3ludGF4RXJyb3IoJ3BhcmFtZXRlciBuYW1lIFwiJytlKydcIiBpcyBub3QgYWxsb3dlZCcpfXJldHVybiBndCh0LGUpLHQucHJvdG90eXBlLmNoaWxkcmVuPVtcIm5hbWVcIixcInZhbHVlXCJdLHQucHJvdG90eXBlLmNvbXBpbGVUb0ZyYWdtZW50cz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5uYW1lLmNvbXBpbGVUb0ZyYWdtZW50cyhlLEMpfSx0LnByb3RvdHlwZS5hc1JlZmVyZW5jZT1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gdGhpcy5yZWZlcmVuY2U/dGhpcy5yZWZlcmVuY2U6KHQ9dGhpcy5uYW1lLHRbXCJ0aGlzXCJdPyh0PXQucHJvcGVydGllc1swXS5uYW1lLHQudmFsdWUucmVzZXJ2ZWQmJih0PW5ldyBOKGUuc2NvcGUuZnJlZVZhcmlhYmxlKHQudmFsdWUpKSkpOnQuaXNDb21wbGV4KCkmJih0PW5ldyBOKGUuc2NvcGUuZnJlZVZhcmlhYmxlKFwiYXJnXCIpKSksdD1uZXcgSyh0KSx0aGlzLnNwbGF0JiYodD1uZXcgVSh0KSksdGhpcy5yZWZlcmVuY2U9dCl9LHQucHJvdG90eXBlLmlzQ29tcGxleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5hbWUuaXNDb21wbGV4KCl9LHQucHJvdG90eXBlLm5hbWVzPWZ1bmN0aW9uKGUpe3ZhciB0LG4scyxyLGEsbztpZihudWxsPT1lJiYoZT10aGlzLm5hbWUpLHQ9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIHQ9ZS5wcm9wZXJ0aWVzWzBdLm5hbWUudmFsdWUsdC5yZXNlcnZlZD9bXTpbdF19LGUgaW5zdGFuY2VvZiBOKXJldHVybltlLnZhbHVlXTtpZihlIGluc3RhbmNlb2YgSylyZXR1cm4gdChlKTtmb3Iobj1bXSxvPWUub2JqZWN0cyxyPTAsYT1vLmxlbmd0aDthPnI7cisrKWlmKHM9b1tyXSxzIGluc3RhbmNlb2YgaSluLnB1c2guYXBwbHkobix0aGlzLm5hbWVzKHMudmFsdWUudW53cmFwKCkpKTtlbHNlIGlmKHMgaW5zdGFuY2VvZiBVKW4ucHVzaChzLm5hbWUudW53cmFwKCkudmFsdWUpO2Vsc2V7aWYoIShzIGluc3RhbmNlb2YgSykpdGhyb3cgU3ludGF4RXJyb3IoXCJpbGxlZ2FsIHBhcmFtZXRlciBcIitzLmNvbXBpbGUoKSk7cy5pc0FycmF5KCl8fHMuaXNPYmplY3QoKT9uLnB1c2guYXBwbHkobix0aGlzLm5hbWVzKHMuYmFzZSkpOnNbXCJ0aGlzXCJdP24ucHVzaC5hcHBseShuLHQocykpOm4ucHVzaChzLmJhc2UudmFsdWUpfXJldHVybiBufSx0fShzKSxlLlNwbGF0PVU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt0aGlzLm5hbWU9ZS5jb21waWxlP2U6bmV3IE4oZSl9cmV0dXJuIGd0KHQsZSksdC5wcm90b3R5cGUuY2hpbGRyZW49W1wibmFtZVwiXSx0LnByb3RvdHlwZS5pc0Fzc2lnbmFibGU9Six0LnByb3RvdHlwZS5hc3NpZ25zPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm5hbWUuYXNzaWducyhlKX0sdC5wcm90b3R5cGUuY29tcGlsZVRvRnJhZ21lbnRzPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm5hbWUuY29tcGlsZVRvRnJhZ21lbnRzKGUpfSx0LnByb3RvdHlwZS51bndyYXA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYW1lfSx0LmNvbXBpbGVTcGxhdHRlZEFycmF5PWZ1bmN0aW9uKGUsbixpKXt2YXIgcyxyLGEsbyxjLGgsbCx1LHAsZDtmb3IobD0tMTsodT1uWysrbF0pJiYhKHUgaW5zdGFuY2VvZiB0KTspO2lmKGw+PW4ubGVuZ3RoKXJldHVybltdO2lmKDE9PT1uLmxlbmd0aClyZXR1cm4gdT1uWzBdLGM9dS5jb21waWxlVG9GcmFnbWVudHMoZSxDKSxpP2M6W10uY29uY2F0KHUubWFrZUNvZGUoXCJcIitwdChcInNsaWNlXCIpK1wiLmNhbGwoXCIpLGMsdS5tYWtlQ29kZShcIilcIikpO2ZvcihzPW4uc2xpY2UobCksaD1wPTAsZD1zLmxlbmd0aDtkPnA7aD0rK3ApdT1zW2hdLGE9dS5jb21waWxlVG9GcmFnbWVudHMoZSxDKSxzW2hdPXUgaW5zdGFuY2VvZiB0P1tdLmNvbmNhdCh1Lm1ha2VDb2RlKFwiXCIrcHQoXCJzbGljZVwiKStcIi5jYWxsKFwiKSxhLHUubWFrZUNvZGUoXCIpXCIpKTpbXS5jb25jYXQodS5tYWtlQ29kZShcIltcIiksYSx1Lm1ha2VDb2RlKFwiXVwiKSk7cmV0dXJuIDA9PT1sPyh1PW5bMF0sbz11LmpvaW5GcmFnbWVudEFycmF5cyhzLnNsaWNlKDEpLFwiLCBcIiksc1swXS5jb25jYXQodS5tYWtlQ29kZShcIi5jb25jYXQoXCIpLG8sdS5tYWtlQ29kZShcIilcIikpKToocj1mdW5jdGlvbigpe3ZhciB0LGkscyxyO2ZvcihzPW4uc2xpY2UoMCxsKSxyPVtdLHQ9MCxpPXMubGVuZ3RoO2k+dDt0KyspdT1zW3RdLHIucHVzaCh1LmNvbXBpbGVUb0ZyYWdtZW50cyhlLEMpKTtyZXR1cm4gcn0oKSxyPW5bMF0uam9pbkZyYWdtZW50QXJyYXlzKHIsXCIsIFwiKSxvPW5bbF0uam9pbkZyYWdtZW50QXJyYXlzKHMsXCIsIFwiKSxbXS5jb25jYXQoblswXS5tYWtlQ29kZShcIltcIikscixuW2xdLm1ha2VDb2RlKFwiXS5jb25jYXQoXCIpLG8scnQobikubWFrZUNvZGUoXCIpXCIpKSl9LHR9KHMpLGUuV2hpbGU9ej1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsdCl7dGhpcy5jb25kaXRpb249KG51bGwhPXQ/dC5pbnZlcnQ6dm9pZCAwKT9lLmludmVydCgpOmUsdGhpcy5ndWFyZD1udWxsIT10P3QuZ3VhcmQ6dm9pZCAwfXJldHVybiBndCh0LGUpLHQucHJvdG90eXBlLmNoaWxkcmVuPVtcImNvbmRpdGlvblwiLFwiZ3VhcmRcIixcImJvZHlcIl0sdC5wcm90b3R5cGUuaXNTdGF0ZW1lbnQ9Six0LnByb3RvdHlwZS5tYWtlUmV0dXJuPWZ1bmN0aW9uKGUpe3JldHVybiBlP3QuX19zdXBlcl9fLm1ha2VSZXR1cm4uYXBwbHkodGhpcyxhcmd1bWVudHMpOih0aGlzLnJldHVybnM9IXRoaXMuanVtcHMoe2xvb3A6ITB9KSx0aGlzKX0sdC5wcm90b3R5cGUuYWRkQm9keT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5ib2R5PWUsdGhpc30sdC5wcm90b3R5cGUuanVtcHM9ZnVuY3Rpb24oKXt2YXIgZSx0LG4saTtpZihlPXRoaXMuYm9keS5leHByZXNzaW9ucywhZS5sZW5ndGgpcmV0dXJuITE7Zm9yKG49MCxpPWUubGVuZ3RoO2k+bjtuKyspaWYodD1lW25dLHQuanVtcHMoe2xvb3A6ITB9KSlyZXR1cm4gdDtyZXR1cm4hMX0sdC5wcm90b3R5cGUuY29tcGlsZU5vZGU9ZnVuY3Rpb24oZSl7dmFyIHQsbixpLHM7cmV0dXJuIGUuaW5kZW50Kz1ILHM9XCJcIixuPXRoaXMuYm9keSxuLmlzRW1wdHkoKT9uPVwiXCI6KHRoaXMucmV0dXJucyYmKG4ubWFrZVJldHVybihpPWUuc2NvcGUuZnJlZVZhcmlhYmxlKFwicmVzdWx0c1wiKSkscz1cIlwiK3RoaXMudGFiK2krXCIgPSBbXTtcXG5cIiksdGhpcy5ndWFyZCYmKG4uZXhwcmVzc2lvbnMubGVuZ3RoPjE/bi5leHByZXNzaW9ucy51bnNoaWZ0KG5ldyBrKG5ldyBfKHRoaXMuZ3VhcmQpLmludmVydCgpLG5ldyBOKFwiY29udGludWVcIikpKTp0aGlzLmd1YXJkJiYobj1yLndyYXAoW25ldyBrKHRoaXMuZ3VhcmQsbildKSkpLG49W10uY29uY2F0KHRoaXMubWFrZUNvZGUoXCJcXG5cIiksbi5jb21waWxlVG9GcmFnbWVudHMoZSxFKSx0aGlzLm1ha2VDb2RlKFwiXFxuXCIrdGhpcy50YWIpKSksdD1bXS5jb25jYXQodGhpcy5tYWtlQ29kZShzK3RoaXMudGFiK1wid2hpbGUgKFwiKSx0aGlzLmNvbmRpdGlvbi5jb21waWxlVG9GcmFnbWVudHMoZSxMKSx0aGlzLm1ha2VDb2RlKFwiKSB7XCIpLG4sdGhpcy5tYWtlQ29kZShcIn1cIikpLHRoaXMucmV0dXJucyYmdC5wdXNoKHRoaXMubWFrZUNvZGUoXCJcXG5cIit0aGlzLnRhYitcInJldHVybiBcIitpK1wiO1wiKSksdH0sdH0ocyksZS5PcD1SPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSx0LGkscyl7aWYoXCJpblwiPT09ZSlyZXR1cm4gbmV3IHkodCxpKTtpZihcImRvXCI9PT1lKXJldHVybiB0aGlzLmdlbmVyYXRlRG8odCk7aWYoXCJuZXdcIj09PWUpe2lmKHQgaW5zdGFuY2VvZiBhJiYhdFtcImRvXCJdJiYhdC5pc05ldylyZXR1cm4gdC5uZXdJbnN0YW5jZSgpOyh0IGluc3RhbmNlb2YgaCYmdC5ib3VuZHx8dFtcImRvXCJdKSYmKHQ9bmV3IF8odCkpfXJldHVybiB0aGlzLm9wZXJhdG9yPW5bZV18fGUsdGhpcy5maXJzdD10LHRoaXMuc2Vjb25kPWksdGhpcy5mbGlwPSEhcyx0aGlzfXZhciBuLHM7cmV0dXJuIGd0KHQsZSksbj17XCI9PVwiOlwiPT09XCIsXCIhPVwiOlwiIT09XCIsb2Y6XCJpblwifSxzPXtcIiE9PVwiOlwiPT09XCIsXCI9PT1cIjpcIiE9PVwifSx0LnByb3RvdHlwZS5jaGlsZHJlbj1bXCJmaXJzdFwiLFwic2Vjb25kXCJdLHQucHJvdG90eXBlLmlzU2ltcGxlTnVtYmVyPVMsdC5wcm90b3R5cGUuaXNVbmFyeT1mdW5jdGlvbigpe3JldHVybiF0aGlzLnNlY29uZH0sdC5wcm90b3R5cGUuaXNDb21wbGV4PWZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuISh0aGlzLmlzVW5hcnkoKSYmKFwiK1wiPT09KGU9dGhpcy5vcGVyYXRvcil8fFwiLVwiPT09ZSkpfHx0aGlzLmZpcnN0LmlzQ29tcGxleCgpfSx0LnByb3RvdHlwZS5pc0NoYWluYWJsZT1mdW5jdGlvbigpe3ZhciBlO3JldHVyblwiPFwiPT09KGU9dGhpcy5vcGVyYXRvcil8fFwiPlwiPT09ZXx8XCI+PVwiPT09ZXx8XCI8PVwiPT09ZXx8XCI9PT1cIj09PWV8fFwiIT09XCI9PT1lfSx0LnByb3RvdHlwZS5pbnZlcnQ9ZnVuY3Rpb24oKXt2YXIgZSxuLGkscixhO2lmKHRoaXMuaXNDaGFpbmFibGUoKSYmdGhpcy5maXJzdC5pc0NoYWluYWJsZSgpKXtmb3IoZT0hMCxuPXRoaXM7biYmbi5vcGVyYXRvcjspZSYmKGU9bi5vcGVyYXRvciBpbiBzKSxuPW4uZmlyc3Q7aWYoIWUpcmV0dXJuIG5ldyBfKHRoaXMpLmludmVydCgpO2ZvcihuPXRoaXM7biYmbi5vcGVyYXRvcjspbi5pbnZlcnQ9IW4uaW52ZXJ0LG4ub3BlcmF0b3I9c1tuLm9wZXJhdG9yXSxuPW4uZmlyc3Q7cmV0dXJuIHRoaXN9cmV0dXJuKHI9c1t0aGlzLm9wZXJhdG9yXSk/KHRoaXMub3BlcmF0b3I9cix0aGlzLmZpcnN0LnVud3JhcCgpaW5zdGFuY2VvZiB0JiZ0aGlzLmZpcnN0LmludmVydCgpLHRoaXMpOnRoaXMuc2Vjb25kP25ldyBfKHRoaXMpLmludmVydCgpOlwiIVwiPT09dGhpcy5vcGVyYXRvciYmKGk9dGhpcy5maXJzdC51bndyYXAoKSlpbnN0YW5jZW9mIHQmJihcIiFcIj09PShhPWkub3BlcmF0b3IpfHxcImluXCI9PT1hfHxcImluc3RhbmNlb2ZcIj09PWEpP2k6bmV3IHQoXCIhXCIsdGhpcyl9LHQucHJvdG90eXBlLnVuZm9sZFNvYWs9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuKFwiKytcIj09PSh0PXRoaXMub3BlcmF0b3IpfHxcIi0tXCI9PT10fHxcImRlbGV0ZVwiPT09dCkmJnV0KGUsdGhpcyxcImZpcnN0XCIpfSx0LnByb3RvdHlwZS5nZW5lcmF0ZURvPWZ1bmN0aW9uKGUpe3ZhciB0LG4scyxyLG8sYyxsLHU7Zm9yKHI9W10sbj1lIGluc3RhbmNlb2YgaSYmKG89ZS52YWx1ZS51bndyYXAoKSlpbnN0YW5jZW9mIGg/bzplLHU9bi5wYXJhbXN8fFtdLGM9MCxsPXUubGVuZ3RoO2w+YztjKyspcz11W2NdLHMudmFsdWU/KHIucHVzaChzLnZhbHVlKSxkZWxldGUgcy52YWx1ZSk6ci5wdXNoKHMpO3JldHVybiB0PW5ldyBhKGUsciksdFtcImRvXCJdPSEwLHR9LHQucHJvdG90eXBlLmNvbXBpbGVOb2RlPWZ1bmN0aW9uKGUpe3ZhciB0LG4saSxzO2lmKG49dGhpcy5pc0NoYWluYWJsZSgpJiZ0aGlzLmZpcnN0LmlzQ2hhaW5hYmxlKCksbnx8KHRoaXMuZmlyc3QuZnJvbnQ9dGhpcy5mcm9udCksXCJkZWxldGVcIj09PXRoaXMub3BlcmF0b3ImJmUuc2NvcGUuY2hlY2sodGhpcy5maXJzdC51bndyYXBBbGwoKS52YWx1ZSkpdGhyb3cgU3ludGF4RXJyb3IoXCJkZWxldGUgb3BlcmFuZCBtYXkgbm90IGJlIGFyZ3VtZW50IG9yIHZhclwiKTtpZigoXCItLVwiPT09KGk9dGhpcy5vcGVyYXRvcil8fFwiKytcIj09PWkpJiYocz10aGlzLmZpcnN0LnVud3JhcEFsbCgpLnZhbHVlLGJ0LmNhbGwoQixzKT49MCkpdGhyb3cgU3ludGF4RXJyb3IoXCJwcmVmaXggaW5jcmVtZW50L2RlY3JlbWVudCBtYXkgbm90IGhhdmUgZXZhbCBvciBhcmd1bWVudHMgb3BlcmFuZFwiKTtyZXR1cm4gdGhpcy5pc1VuYXJ5KCk/dGhpcy5jb21waWxlVW5hcnkoZSk6bj90aGlzLmNvbXBpbGVDaGFpbihlKTpcIj9cIj09PXRoaXMub3BlcmF0b3I/dGhpcy5jb21waWxlRXhpc3RlbmNlKGUpOih0PVtdLmNvbmNhdCh0aGlzLmZpcnN0LmNvbXBpbGVUb0ZyYWdtZW50cyhlLEYpLHRoaXMubWFrZUNvZGUoXCIgXCIrdGhpcy5vcGVyYXRvcitcIiBcIiksdGhpcy5zZWNvbmQuY29tcGlsZVRvRnJhZ21lbnRzKGUsRikpLEY+PWUubGV2ZWw/dDp0aGlzLndyYXBJbkJyYWNlcyh0KSl9LHQucHJvdG90eXBlLmNvbXBpbGVDaGFpbj1mdW5jdGlvbihlKXt2YXIgdCxuLGkscztyZXR1cm4gcz10aGlzLmZpcnN0LnNlY29uZC5jYWNoZShlKSx0aGlzLmZpcnN0LnNlY29uZD1zWzBdLGk9c1sxXSxuPXRoaXMuZmlyc3QuY29tcGlsZVRvRnJhZ21lbnRzKGUsRiksdD1uLmNvbmNhdCh0aGlzLm1ha2VDb2RlKFwiIFwiKyh0aGlzLmludmVydD9cIiYmXCI6XCJ8fFwiKStcIiBcIiksaS5jb21waWxlVG9GcmFnbWVudHMoZSksdGhpcy5tYWtlQ29kZShcIiBcIit0aGlzLm9wZXJhdG9yK1wiIFwiKSx0aGlzLnNlY29uZC5jb21waWxlVG9GcmFnbWVudHMoZSxGKSksdGhpcy53cmFwSW5CcmFjZXModCl9LHQucHJvdG90eXBlLmNvbXBpbGVFeGlzdGVuY2U9ZnVuY3Rpb24oZSl7dmFyIHQsbjtyZXR1cm4gdGhpcy5maXJzdC5pc0NvbXBsZXgoKT8obj1uZXcgTihlLnNjb3BlLmZyZWVWYXJpYWJsZShcInJlZlwiKSksdD1uZXcgXyhuZXcgaShuLHRoaXMuZmlyc3QpKSk6KHQ9dGhpcy5maXJzdCxuPXQpLG5ldyBrKG5ldyBwKHQpLG4se3R5cGU6XCJpZlwifSkuYWRkRWxzZSh0aGlzLnNlY29uZCkuY29tcGlsZVRvRnJhZ21lbnRzKGUpfSx0LnByb3RvdHlwZS5jb21waWxlVW5hcnk9ZnVuY3Rpb24oZSl7dmFyIG4saSxzO3JldHVybiBpPVtdLG49dGhpcy5vcGVyYXRvcixpLnB1c2goW3RoaXMubWFrZUNvZGUobildKSxcIiFcIj09PW4mJnRoaXMuZmlyc3QgaW5zdGFuY2VvZiBwPyh0aGlzLmZpcnN0Lm5lZ2F0ZWQ9IXRoaXMuZmlyc3QubmVnYXRlZCx0aGlzLmZpcnN0LmNvbXBpbGVUb0ZyYWdtZW50cyhlKSk6ZS5sZXZlbD49dz9uZXcgXyh0aGlzKS5jb21waWxlVG9GcmFnbWVudHMoZSk6KHM9XCIrXCI9PT1ufHxcIi1cIj09PW4sKFwibmV3XCI9PT1ufHxcInR5cGVvZlwiPT09bnx8XCJkZWxldGVcIj09PW58fHMmJnRoaXMuZmlyc3QgaW5zdGFuY2VvZiB0JiZ0aGlzLmZpcnN0Lm9wZXJhdG9yPT09bikmJmkucHVzaChbdGhpcy5tYWtlQ29kZShcIiBcIildKSwocyYmdGhpcy5maXJzdCBpbnN0YW5jZW9mIHR8fFwibmV3XCI9PT1uJiZ0aGlzLmZpcnN0LmlzU3RhdGVtZW50KGUpKSYmKHRoaXMuZmlyc3Q9bmV3IF8odGhpcy5maXJzdCkpLGkucHVzaCh0aGlzLmZpcnN0LmNvbXBpbGVUb0ZyYWdtZW50cyhlLEYpKSx0aGlzLmZsaXAmJmkucmV2ZXJzZSgpLHRoaXMuam9pbkZyYWdtZW50QXJyYXlzKGksXCJcIikpfSx0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbihlKXtyZXR1cm4gdC5fX3N1cGVyX18udG9TdHJpbmcuY2FsbCh0aGlzLGUsdGhpcy5jb25zdHJ1Y3Rvci5uYW1lK1wiIFwiK3RoaXMub3BlcmF0b3IpfSx0fShzKSxlLkluPXk9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHQpe3RoaXMub2JqZWN0PWUsdGhpcy5hcnJheT10fXJldHVybiBndCh0LGUpLHQucHJvdG90eXBlLmNoaWxkcmVuPVtcIm9iamVjdFwiLFwiYXJyYXlcIl0sdC5wcm90b3R5cGUuaW52ZXJ0PUQsdC5wcm90b3R5cGUuY29tcGlsZU5vZGU9ZnVuY3Rpb24oZSl7dmFyIHQsbixpLHMscjtpZih0aGlzLmFycmF5IGluc3RhbmNlb2YgSyYmdGhpcy5hcnJheS5pc0FycmF5KCkpe2ZvcihyPXRoaXMuYXJyYXkuYmFzZS5vYmplY3RzLGk9MCxzPXIubGVuZ3RoO3M+aTtpKyspaWYobj1yW2ldLG4gaW5zdGFuY2VvZiBVKXt0PSEwO2JyZWFrfWlmKCF0KXJldHVybiB0aGlzLmNvbXBpbGVPclRlc3QoZSl9cmV0dXJuIHRoaXMuY29tcGlsZUxvb3BUZXN0KGUpfSx0LnByb3RvdHlwZS5jb21waWxlT3JUZXN0PWZ1bmN0aW9uKGUpe3ZhciB0LG4saSxzLHIsYSxvLGMsaCxsLHUscDtpZigwPT09dGhpcy5hcnJheS5iYXNlLm9iamVjdHMubGVuZ3RoKXJldHVyblt0aGlzLm1ha2VDb2RlKFwiXCIrISF0aGlzLm5lZ2F0ZWQpXTtmb3IobD10aGlzLm9iamVjdC5jYWNoZShlLEYpLGE9bFswXSxyPWxbMV0sdT10aGlzLm5lZ2F0ZWQ/W1wiICE9PSBcIixcIiAmJiBcIl06W1wiID09PSBcIixcIiB8fCBcIl0sdD11WzBdLG49dVsxXSxvPVtdLHA9dGhpcy5hcnJheS5iYXNlLm9iamVjdHMsaT1jPTAsaD1wLmxlbmd0aDtoPmM7aT0rK2Mpcz1wW2ldLGkmJm8ucHVzaCh0aGlzLm1ha2VDb2RlKG4pKSxvPW8uY29uY2F0KGk/cjphLHRoaXMubWFrZUNvZGUodCkscy5jb21waWxlVG9GcmFnbWVudHMoZSx3KSk7cmV0dXJuIEY+ZS5sZXZlbD9vOnRoaXMud3JhcEluQnJhY2VzKG8pfSx0LnByb3RvdHlwZS5jb21waWxlTG9vcFRlc3Q9ZnVuY3Rpb24oZSl7dmFyIHQsbixpLHM7cmV0dXJuIHM9dGhpcy5vYmplY3QuY2FjaGUoZSxDKSxpPXNbMF0sbj1zWzFdLHQ9W10uY29uY2F0KHRoaXMubWFrZUNvZGUocHQoXCJpbmRleE9mXCIpK1wiLmNhbGwoXCIpLHRoaXMuYXJyYXkuY29tcGlsZVRvRnJhZ21lbnRzKGUsQyksdGhpcy5tYWtlQ29kZShcIiwgXCIpLG4sdGhpcy5tYWtlQ29kZShcIikgXCIrKHRoaXMubmVnYXRlZD9cIjwgMFwiOlwiPj0gMFwiKSkpLHN0KGkpPT09c3Qobik/dDoodD1pLmNvbmNhdCh0aGlzLm1ha2VDb2RlKFwiLCBcIiksdCksQz5lLmxldmVsP3Q6dGhpcy53cmFwSW5CcmFjZXModCkpfSx0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbihlKXtyZXR1cm4gdC5fX3N1cGVyX18udG9TdHJpbmcuY2FsbCh0aGlzLGUsdGhpcy5jb25zdHJ1Y3Rvci5uYW1lKyh0aGlzLm5lZ2F0ZWQ/XCIhXCI6XCJcIikpfSx0fShzKSxlLlRyeT1YPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSx0LG4saSl7dGhpcy5hdHRlbXB0PWUsdGhpcy5lcnJvcj10LHRoaXMucmVjb3Zlcnk9bix0aGlzLmVuc3VyZT1pfXJldHVybiBndCh0LGUpLHQucHJvdG90eXBlLmNoaWxkcmVuPVtcImF0dGVtcHRcIixcInJlY292ZXJ5XCIsXCJlbnN1cmVcIl0sdC5wcm90b3R5cGUuaXNTdGF0ZW1lbnQ9Six0LnByb3RvdHlwZS5qdW1wcz1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gdGhpcy5hdHRlbXB0Lmp1bXBzKGUpfHwobnVsbCE9KHQ9dGhpcy5yZWNvdmVyeSk/dC5qdW1wcyhlKTp2b2lkIDApfSx0LnByb3RvdHlwZS5tYWtlUmV0dXJuPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmF0dGVtcHQmJih0aGlzLmF0dGVtcHQ9dGhpcy5hdHRlbXB0Lm1ha2VSZXR1cm4oZSkpLHRoaXMucmVjb3ZlcnkmJih0aGlzLnJlY292ZXJ5PXRoaXMucmVjb3ZlcnkubWFrZVJldHVybihlKSksdGhpc30sdC5wcm90b3R5cGUuY29tcGlsZU5vZGU9ZnVuY3Rpb24oZSl7dmFyIHQsbixzLHI7cmV0dXJuIGUuaW5kZW50Kz1ILHI9dGhpcy5hdHRlbXB0LmNvbXBpbGVUb0ZyYWdtZW50cyhlLEUpLHQ9ZnVuY3Rpb24oKXt2YXIgdCxuO2lmKHRoaXMucmVjb3Zlcnkpe2lmKChcImZ1bmN0aW9uXCI9PXR5cGVvZih0PXRoaXMuZXJyb3IpLmlzT2JqZWN0P3QuaXNPYmplY3QoKTp2b2lkIDApJiYocz1uZXcgTihcIl9lcnJvclwiKSx0aGlzLnJlY292ZXJ5LnVuc2hpZnQobmV3IGkodGhpcy5lcnJvcixzKSksdGhpcy5lcnJvcj1zKSxuPXRoaXMuZXJyb3IudmFsdWUsYnQuY2FsbChCLG4pPj0wKXRocm93IFN5bnRheEVycm9yKCdjYXRjaCB2YXJpYWJsZSBtYXkgbm90IGJlIFwiJyt0aGlzLmVycm9yLnZhbHVlKydcIicpO3JldHVybiBlLnNjb3BlLmNoZWNrKHRoaXMuZXJyb3IudmFsdWUpfHxlLnNjb3BlLmFkZCh0aGlzLmVycm9yLnZhbHVlLFwicGFyYW1cIiksW10uY29uY2F0KHRoaXMubWFrZUNvZGUoXCIgY2F0Y2ggKFwiKSx0aGlzLmVycm9yLmNvbXBpbGVUb0ZyYWdtZW50cyhlKSx0aGlzLm1ha2VDb2RlKFwiKSB7XFxuXCIpLHRoaXMucmVjb3ZlcnkuY29tcGlsZVRvRnJhZ21lbnRzKGUsRSksdGhpcy5tYWtlQ29kZShcIlxcblwiK3RoaXMudGFiK1wifVwiKSl9cmV0dXJuIHRoaXMuZW5zdXJlfHx0aGlzLnJlY292ZXJ5P1tdOlt0aGlzLm1ha2VDb2RlKFwiIGNhdGNoIChfZXJyb3IpIHt9XCIpXX0uY2FsbCh0aGlzKSxuPXRoaXMuZW5zdXJlP1tdLmNvbmNhdCh0aGlzLm1ha2VDb2RlKFwiIGZpbmFsbHkge1xcblwiKSx0aGlzLmVuc3VyZS5jb21waWxlVG9GcmFnbWVudHMoZSxFKSx0aGlzLm1ha2VDb2RlKFwiXFxuXCIrdGhpcy50YWIrXCJ9XCIpKTpbXSxbXS5jb25jYXQodGhpcy5tYWtlQ29kZShcIlwiK3RoaXMudGFiK1widHJ5IHtcXG5cIikscix0aGlzLm1ha2VDb2RlKFwiXFxuXCIrdGhpcy50YWIrXCJ9XCIpLHQsbil9LHR9KHMpLGUuVGhyb3c9Vz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3RoaXMuZXhwcmVzc2lvbj1lfXJldHVybiBndCh0LGUpLHQucHJvdG90eXBlLmNoaWxkcmVuPVtcImV4cHJlc3Npb25cIl0sdC5wcm90b3R5cGUuaXNTdGF0ZW1lbnQ9Six0LnByb3RvdHlwZS5qdW1wcz1TLHQucHJvdG90eXBlLm1ha2VSZXR1cm49Ryx0LnByb3RvdHlwZS5jb21waWxlTm9kZT1mdW5jdGlvbihlKXtyZXR1cm5bXS5jb25jYXQodGhpcy5tYWtlQ29kZSh0aGlzLnRhYitcInRocm93IFwiKSx0aGlzLmV4cHJlc3Npb24uY29tcGlsZVRvRnJhZ21lbnRzKGUpLHRoaXMubWFrZUNvZGUoXCI7XCIpKX0sdH0ocyksZS5FeGlzdGVuY2U9cD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3RoaXMuZXhwcmVzc2lvbj1lfXJldHVybiBndCh0LGUpLHQucHJvdG90eXBlLmNoaWxkcmVuPVtcImV4cHJlc3Npb25cIl0sdC5wcm90b3R5cGUuaW52ZXJ0PUQsdC5wcm90b3R5cGUuY29tcGlsZU5vZGU9ZnVuY3Rpb24oZSl7dmFyIHQsbixpLHM7cmV0dXJuIHRoaXMuZXhwcmVzc2lvbi5mcm9udD10aGlzLmZyb250LGk9dGhpcy5leHByZXNzaW9uLmNvbXBpbGUoZSxGKSxtLnRlc3QoaSkmJiFlLnNjb3BlLmNoZWNrKGkpPyhzPXRoaXMubmVnYXRlZD9bXCI9PT1cIixcInx8XCJdOltcIiE9PVwiLFwiJiZcIl0sdD1zWzBdLG49c1sxXSxpPVwidHlwZW9mIFwiK2krXCIgXCIrdCsnIFwidW5kZWZpbmVkXCIgJytuK1wiIFwiK2krXCIgXCIrdCtcIiBudWxsXCIpOmk9XCJcIitpK1wiIFwiKyh0aGlzLm5lZ2F0ZWQ/XCI9PVwiOlwiIT1cIikrXCIgbnVsbFwiLFt0aGlzLm1ha2VDb2RlKFQ+PWUubGV2ZWw/aTpcIihcIitpK1wiKVwiKV19LHR9KHMpLGUuUGFyZW5zPV89ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt0aGlzLmJvZHk9ZX1yZXR1cm4gZ3QodCxlKSx0LnByb3RvdHlwZS5jaGlsZHJlbj1bXCJib2R5XCJdLHQucHJvdG90eXBlLnVud3JhcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJvZHl9LHQucHJvdG90eXBlLmlzQ29tcGxleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJvZHkuaXNDb21wbGV4KCl9LHQucHJvdG90eXBlLmNvbXBpbGVOb2RlPWZ1bmN0aW9uKGUpe3ZhciB0LG4saTtyZXR1cm4gbj10aGlzLmJvZHkudW53cmFwKCksbiBpbnN0YW5jZW9mIEsmJm4uaXNBdG9taWMoKT8obi5mcm9udD10aGlzLmZyb250LG4uY29tcGlsZVRvRnJhZ21lbnRzKGUpKTooaT1uLmNvbXBpbGVUb0ZyYWdtZW50cyhlLEwpLHQ9Rj5lLmxldmVsJiYobiBpbnN0YW5jZW9mIFJ8fG4gaW5zdGFuY2VvZiBhfHxuIGluc3RhbmNlb2YgZiYmbi5yZXR1cm5zKSx0P2k6dGhpcy53cmFwSW5CcmFjZXMoaSkpfSx0fShzKSxlLkZvcj1mPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSx0KXt2YXIgbjtpZih0aGlzLnNvdXJjZT10LnNvdXJjZSx0aGlzLmd1YXJkPXQuZ3VhcmQsdGhpcy5zdGVwPXQuc3RlcCx0aGlzLm5hbWU9dC5uYW1lLHRoaXMuaW5kZXg9dC5pbmRleCx0aGlzLmJvZHk9ci53cmFwKFtlXSksdGhpcy5vd249ISF0Lm93bix0aGlzLm9iamVjdD0hIXQub2JqZWN0LHRoaXMub2JqZWN0JiYobj1bdGhpcy5pbmRleCx0aGlzLm5hbWVdLHRoaXMubmFtZT1uWzBdLHRoaXMuaW5kZXg9blsxXSksdGhpcy5pbmRleCBpbnN0YW5jZW9mIEspdGhyb3cgU3ludGF4RXJyb3IoXCJpbmRleCBjYW5ub3QgYmUgYSBwYXR0ZXJuIG1hdGNoaW5nIGV4cHJlc3Npb25cIik7aWYodGhpcy5yYW5nZT10aGlzLnNvdXJjZSBpbnN0YW5jZW9mIEsmJnRoaXMuc291cmNlLmJhc2UgaW5zdGFuY2VvZiBPJiYhdGhpcy5zb3VyY2UucHJvcGVydGllcy5sZW5ndGgsdGhpcy5wYXR0ZXJuPXRoaXMubmFtZSBpbnN0YW5jZW9mIEssdGhpcy5yYW5nZSYmdGhpcy5pbmRleCl0aHJvdyBTeW50YXhFcnJvcihcImluZGV4ZXMgZG8gbm90IGFwcGx5IHRvIHJhbmdlIGxvb3BzXCIpO2lmKHRoaXMucmFuZ2UmJnRoaXMucGF0dGVybil0aHJvdyBTeW50YXhFcnJvcihcImNhbm5vdCBwYXR0ZXJuIG1hdGNoIG92ZXIgcmFuZ2UgbG9vcHNcIik7dGhpcy5yZXR1cm5zPSExfXJldHVybiBndCh0LGUpLHQucHJvdG90eXBlLmNoaWxkcmVuPVtcImJvZHlcIixcInNvdXJjZVwiLFwiZ3VhcmRcIixcInN0ZXBcIl0sdC5wcm90b3R5cGUuY29tcGlsZU5vZGU9ZnVuY3Rpb24oZSl7dmFyIHQsbixzLGEsbyxjLGgsbCx1LHAsZCxmLGcsYix5LHYsdyxULEYsTCx4LEQsUyxBLFIsSSwkLE8sQixWLFAsVSxxLEc7cmV0dXJuIHQ9ci53cmFwKFt0aGlzLmJvZHldKSxUPW51bGwhPShxPXJ0KHQuZXhwcmVzc2lvbnMpKT9xLmp1bXBzKCk6dm9pZCAwLFQmJlQgaW5zdGFuY2VvZiBNJiYodGhpcy5yZXR1cm5zPSExKSwkPXRoaXMucmFuZ2U/dGhpcy5zb3VyY2UuYmFzZTp0aGlzLnNvdXJjZSxJPWUuc2NvcGUsTD10aGlzLm5hbWUmJnRoaXMubmFtZS5jb21waWxlKGUsQyksYj10aGlzLmluZGV4JiZ0aGlzLmluZGV4LmNvbXBpbGUoZSxDKSxMJiYhdGhpcy5wYXR0ZXJuJiZJLmZpbmQoTCksYiYmSS5maW5kKGIpLHRoaXMucmV0dXJucyYmKFI9SS5mcmVlVmFyaWFibGUoXCJyZXN1bHRzXCIpKSx5PXRoaXMub2JqZWN0JiZifHxJLmZyZWVWYXJpYWJsZShcImlcIiksdj10aGlzLnJhbmdlJiZMfHxifHx5LHc9diE9PXk/XCJcIit2K1wiID0gXCI6XCJcIix0aGlzLnN0ZXAmJiF0aGlzLnJhbmdlJiYoRz10aGlzLmNhY2hlVG9Db2RlRnJhZ21lbnRzKHRoaXMuc3RlcC5jYWNoZShlLEMpKSxPPUdbMF0sVj1HWzFdLEI9Vi5tYXRjaChqKSksdGhpcy5wYXR0ZXJuJiYoTD15KSxVPVwiXCIsZD1cIlwiLGg9XCJcIixmPXRoaXMudGFiK0gsdGhpcy5yYW5nZT9wPSQuY29tcGlsZVRvRnJhZ21lbnRzKG90KGUse2luZGV4OnksbmFtZTpMLHN0ZXA6dGhpcy5zdGVwfSkpOihQPXRoaXMuc291cmNlLmNvbXBpbGUoZSxDKSwhTCYmIXRoaXMub3dufHxtLnRlc3QoUCl8fChoKz1cIlwiK3RoaXMudGFiKyhEPUkuZnJlZVZhcmlhYmxlKFwicmVmXCIpKStcIiA9IFwiK1ArXCI7XFxuXCIsUD1EKSxMJiYhdGhpcy5wYXR0ZXJuJiYoeD1cIlwiK0wrXCIgPSBcIitQK1wiW1wiK3YrXCJdXCIpLHRoaXMub2JqZWN0fHwoTyE9PVYmJihoKz1cIlwiK3RoaXMudGFiK08rXCI7XFxuXCIpLHRoaXMuc3RlcCYmQiYmKHU9MD4rQil8fChGPUkuZnJlZVZhcmlhYmxlKFwibGVuXCIpKSxvPVwiXCIrdyt5K1wiID0gMCwgXCIrRitcIiA9IFwiK1ArXCIubGVuZ3RoXCIsYz1cIlwiK3creStcIiA9IFwiK1ArXCIubGVuZ3RoIC0gMVwiLHM9XCJcIit5K1wiIDwgXCIrRixhPVwiXCIreStcIiA+PSAwXCIsdGhpcy5zdGVwPyhCP3UmJihzPWEsbz1jKToocz1cIlwiK1YrXCIgPiAwID8gXCIrcytcIiA6IFwiK2Esbz1cIihcIitWK1wiID4gMCA/IChcIitvK1wiKSA6IFwiK2MrXCIpXCIpLGc9XCJcIit5K1wiICs9IFwiK1YpOmc9XCJcIisodiE9PXk/XCIrK1wiK3k6XCJcIit5K1wiKytcIikscD1bdGhpcy5tYWtlQ29kZShcIlwiK28rXCI7IFwiK3MrXCI7IFwiK3crZyldKSksdGhpcy5yZXR1cm5zJiYoUz1cIlwiK3RoaXMudGFiK1IrXCIgPSBbXTtcXG5cIixBPVwiXFxuXCIrdGhpcy50YWIrXCJyZXR1cm4gXCIrUitcIjtcIix0Lm1ha2VSZXR1cm4oUikpLHRoaXMuZ3VhcmQmJih0LmV4cHJlc3Npb25zLmxlbmd0aD4xP3QuZXhwcmVzc2lvbnMudW5zaGlmdChuZXcgayhuZXcgXyh0aGlzLmd1YXJkKS5pbnZlcnQoKSxuZXcgTihcImNvbnRpbnVlXCIpKSk6dGhpcy5ndWFyZCYmKHQ9ci53cmFwKFtuZXcgayh0aGlzLmd1YXJkLHQpXSkpKSx0aGlzLnBhdHRlcm4mJnQuZXhwcmVzc2lvbnMudW5zaGlmdChuZXcgaSh0aGlzLm5hbWUsbmV3IE4oXCJcIitQK1wiW1wiK3YrXCJdXCIpKSksbD1bXS5jb25jYXQodGhpcy5tYWtlQ29kZShoKSx0aGlzLnBsdWNrRGlyZWN0Q2FsbChlLHQpKSx4JiYoVT1cIlxcblwiK2YreCtcIjtcIiksdGhpcy5vYmplY3QmJihwPVt0aGlzLm1ha2VDb2RlKFwiXCIrditcIiBpbiBcIitQKV0sdGhpcy5vd24mJihkPVwiXFxuXCIrZitcImlmICghXCIrcHQoXCJoYXNQcm9wXCIpK1wiLmNhbGwoXCIrUCtcIiwgXCIrditcIikpIGNvbnRpbnVlO1wiKSksbj10LmNvbXBpbGVUb0ZyYWdtZW50cyhvdChlLHtpbmRlbnQ6Zn0pLEUpLG4mJm4ubGVuZ3RoPjAmJihuPVtdLmNvbmNhdCh0aGlzLm1ha2VDb2RlKFwiXFxuXCIpLG4sdGhpcy5tYWtlQ29kZShcIlxcblwiKSkpLFtdLmNvbmNhdChsLHRoaXMubWFrZUNvZGUoXCJcIisoU3x8XCJcIikrdGhpcy50YWIrXCJmb3IgKFwiKSxwLHRoaXMubWFrZUNvZGUoXCIpIHtcIitkK1UpLG4sdGhpcy5tYWtlQ29kZShcIlwiK3RoaXMudGFiK1wifVwiKyhBfHxcIlwiKSkpfSx0LnByb3RvdHlwZS5wbHVja0RpcmVjdENhbGw9ZnVuY3Rpb24oZSx0KXt2YXIgbixzLHIsbyxjLGwsdSxwLGQsZixtLGcsYixrLHk7Zm9yKHM9W10sZj10LmV4cHJlc3Npb25zLGM9cD0wLGQ9Zi5sZW5ndGg7ZD5wO2M9KytwKXI9ZltjXSxyPXIudW53cmFwQWxsKCksciBpbnN0YW5jZW9mIGEmJih1PXIudmFyaWFibGUudW53cmFwQWxsKCksKHUgaW5zdGFuY2VvZiBofHx1IGluc3RhbmNlb2YgSyYmKG51bGwhPShtPXUuYmFzZSk/bS51bndyYXBBbGwoKTp2b2lkIDApaW5zdGFuY2VvZiBoJiYxPT09dS5wcm9wZXJ0aWVzLmxlbmd0aCYmKFwiY2FsbFwiPT09KGc9bnVsbCE9KGI9dS5wcm9wZXJ0aWVzWzBdLm5hbWUpP2IudmFsdWU6dm9pZCAwKXx8XCJhcHBseVwiPT09ZykpJiYobz0obnVsbCE9KGs9dS5iYXNlKT9rLnVud3JhcEFsbCgpOnZvaWQgMCl8fHUsbD1uZXcgTihlLnNjb3BlLmZyZWVWYXJpYWJsZShcImZuXCIpKSxuPW5ldyBLKGwpLHUuYmFzZSYmKHk9W24sdV0sdS5iYXNlPXlbMF0sbj15WzFdKSx0LmV4cHJlc3Npb25zW2NdPW5ldyBhKG4sci5hcmdzKSxzPXMuY29uY2F0KHRoaXMubWFrZUNvZGUodGhpcy50YWIpLG5ldyBpKGwsbykuY29tcGlsZVRvRnJhZ21lbnRzKGUsRSksdGhpcy5tYWtlQ29kZShcIjtcXG5cIikpKSk7cmV0dXJuIHN9LHR9KHopLGUuU3dpdGNoPXE9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHQsbil7dGhpcy5zdWJqZWN0PWUsdGhpcy5jYXNlcz10LHRoaXMub3RoZXJ3aXNlPW59cmV0dXJuIGd0KHQsZSksdC5wcm90b3R5cGUuY2hpbGRyZW49W1wic3ViamVjdFwiLFwiY2FzZXNcIixcIm90aGVyd2lzZVwiXSx0LnByb3RvdHlwZS5pc1N0YXRlbWVudD1KLHQucHJvdG90eXBlLmp1bXBzPWZ1bmN0aW9uKGUpe3ZhciB0LG4saSxzLHIsYSxvO2ZvcihudWxsPT1lJiYoZT17YmxvY2s6ITB9KSxyPXRoaXMuY2FzZXMsaT0wLHM9ci5sZW5ndGg7cz5pO2krKylpZihhPXJbaV0sbj1hWzBdLHQ9YVsxXSx0Lmp1bXBzKGUpKXJldHVybiB0O3JldHVybiBudWxsIT0obz10aGlzLm90aGVyd2lzZSk/by5qdW1wcyhlKTp2b2lkIDB9LHQucHJvdG90eXBlLm1ha2VSZXR1cm49ZnVuY3Rpb24oZSl7dmFyIHQsbixpLHMsYTtmb3Iocz10aGlzLmNhc2VzLG49MCxpPXMubGVuZ3RoO2k+bjtuKyspdD1zW25dLHRbMV0ubWFrZVJldHVybihlKTtyZXR1cm4gZSYmKHRoaXMub3RoZXJ3aXNlfHwodGhpcy5vdGhlcndpc2U9bmV3IHIoW25ldyBOKFwidm9pZCAwXCIpXSkpKSxudWxsIT0oYT10aGlzLm90aGVyd2lzZSkmJmEubWFrZVJldHVybihlKSx0aGlzfSx0LnByb3RvdHlwZS5jb21waWxlTm9kZT1mdW5jdGlvbihlKXt2YXIgdCxuLGkscyxyLGEsbyxjLGgsbCx1LHAsZCxmLG0sZztmb3IoYz1lLmluZGVudCtILGg9ZS5pbmRlbnQ9YytILGE9W10uY29uY2F0KHRoaXMubWFrZUNvZGUodGhpcy50YWIrXCJzd2l0Y2ggKFwiKSx0aGlzLnN1YmplY3Q/dGhpcy5zdWJqZWN0LmNvbXBpbGVUb0ZyYWdtZW50cyhlLEwpOnRoaXMubWFrZUNvZGUoXCJmYWxzZVwiKSx0aGlzLm1ha2VDb2RlKFwiKSB7XFxuXCIpKSxmPXRoaXMuY2FzZXMsbz1sPTAscD1mLmxlbmd0aDtwPmw7bz0rK2wpe2ZvcihtPWZbb10scz1tWzBdLHQ9bVsxXSxnPWl0KFtzXSksdT0wLGQ9Zy5sZW5ndGg7ZD51O3UrKylpPWdbdV0sdGhpcy5zdWJqZWN0fHwoaT1pLmludmVydCgpKSxhPWEuY29uY2F0KHRoaXMubWFrZUNvZGUoYytcImNhc2UgXCIpLGkuY29tcGlsZVRvRnJhZ21lbnRzKGUsTCksdGhpcy5tYWtlQ29kZShcIjpcXG5cIikpO2lmKChuPXQuY29tcGlsZVRvRnJhZ21lbnRzKGUsRSkpLmxlbmd0aD4wJiYoYT1hLmNvbmNhdChuLHRoaXMubWFrZUNvZGUoXCJcXG5cIikpKSxvPT09dGhpcy5jYXNlcy5sZW5ndGgtMSYmIXRoaXMub3RoZXJ3aXNlKWJyZWFrO3I9dGhpcy5sYXN0Tm9uQ29tbWVudCh0LmV4cHJlc3Npb25zKSxyIGluc3RhbmNlb2YgTXx8ciBpbnN0YW5jZW9mIE4mJnIuanVtcHMoKSYmXCJkZWJ1Z2dlclwiIT09ci52YWx1ZXx8YS5wdXNoKGkubWFrZUNvZGUoaCtcImJyZWFrO1xcblwiKSl9cmV0dXJuIHRoaXMub3RoZXJ3aXNlJiZ0aGlzLm90aGVyd2lzZS5leHByZXNzaW9ucy5sZW5ndGgmJmEucHVzaC5hcHBseShhLFt0aGlzLm1ha2VDb2RlKGMrXCJkZWZhdWx0OlxcblwiKV0uY29uY2F0KGt0LmNhbGwodGhpcy5vdGhlcndpc2UuY29tcGlsZVRvRnJhZ21lbnRzKGUsRSkpLFt0aGlzLm1ha2VDb2RlKFwiXFxuXCIpXSkpLGEucHVzaCh0aGlzLm1ha2VDb2RlKHRoaXMudGFiK1wifVwiKSksYX0sdH0ocyksZS5JZj1rPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSx0LG4pe3RoaXMuYm9keT10LG51bGw9PW4mJihuPXt9KSx0aGlzLmNvbmRpdGlvbj1cInVubGVzc1wiPT09bi50eXBlP2UuaW52ZXJ0KCk6ZSx0aGlzLmVsc2VCb2R5PW51bGwsdGhpcy5pc0NoYWluPSExLHRoaXMuc29haz1uLnNvYWt9cmV0dXJuIGd0KHQsZSksdC5wcm90b3R5cGUuY2hpbGRyZW49W1wiY29uZGl0aW9uXCIsXCJib2R5XCIsXCJlbHNlQm9keVwiXSx0LnByb3RvdHlwZS5ib2R5Tm9kZT1mdW5jdGlvbigpe3ZhciBlO3JldHVybiBudWxsIT0oZT10aGlzLmJvZHkpP2UudW53cmFwKCk6dm9pZCAwfSx0LnByb3RvdHlwZS5lbHNlQm9keU5vZGU9ZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gbnVsbCE9KGU9dGhpcy5lbHNlQm9keSk/ZS51bndyYXAoKTp2b2lkIDB9LHQucHJvdG90eXBlLmFkZEVsc2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuaXNDaGFpbj90aGlzLmVsc2VCb2R5Tm9kZSgpLmFkZEVsc2UoZSk6KHRoaXMuaXNDaGFpbj1lIGluc3RhbmNlb2YgdCx0aGlzLmVsc2VCb2R5PXRoaXMuZW5zdXJlQmxvY2soZSkpLHRoaXN9LHQucHJvdG90eXBlLmlzU3RhdGVtZW50PWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybihudWxsIT1lP2UubGV2ZWw6dm9pZCAwKT09PUV8fHRoaXMuYm9keU5vZGUoKS5pc1N0YXRlbWVudChlKXx8KG51bGwhPSh0PXRoaXMuZWxzZUJvZHlOb2RlKCkpP3QuaXNTdGF0ZW1lbnQoZSk6dm9pZCAwKX0sdC5wcm90b3R5cGUuanVtcHM9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIHRoaXMuYm9keS5qdW1wcyhlKXx8KG51bGwhPSh0PXRoaXMuZWxzZUJvZHkpP3QuanVtcHMoZSk6dm9pZCAwKX0sdC5wcm90b3R5cGUuY29tcGlsZU5vZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuaXNTdGF0ZW1lbnQoZSk/dGhpcy5jb21waWxlU3RhdGVtZW50KGUpOnRoaXMuY29tcGlsZUV4cHJlc3Npb24oZSl9LHQucHJvdG90eXBlLm1ha2VSZXR1cm49ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJih0aGlzLmVsc2VCb2R5fHwodGhpcy5lbHNlQm9keT1uZXcgcihbbmV3IE4oXCJ2b2lkIDBcIildKSkpLHRoaXMuYm9keSYmKHRoaXMuYm9keT1uZXcgcihbdGhpcy5ib2R5Lm1ha2VSZXR1cm4oZSldKSksdGhpcy5lbHNlQm9keSYmKHRoaXMuZWxzZUJvZHk9bmV3IHIoW3RoaXMuZWxzZUJvZHkubWFrZVJldHVybihlKV0pKSx0aGlzfSx0LnByb3RvdHlwZS5lbnN1cmVCbG9jaz1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHI/ZTpuZXcgcihbZV0pfSx0LnByb3RvdHlwZS5jb21waWxlU3RhdGVtZW50PWZ1bmN0aW9uKGUpe3ZhciBuLGkscyxyLGEsbyxjO3JldHVybiBzPWV0KGUsXCJjaGFpbkNoaWxkXCIpLChhPWV0KGUsXCJpc0V4aXN0ZW50aWFsRXF1YWxzXCIpKT9uZXcgdCh0aGlzLmNvbmRpdGlvbi5pbnZlcnQoKSx0aGlzLmVsc2VCb2R5Tm9kZSgpLHt0eXBlOlwiaWZcIn0pLmNvbXBpbGVUb0ZyYWdtZW50cyhlKTooYz1lLmluZGVudCtILHI9dGhpcy5jb25kaXRpb24uY29tcGlsZVRvRnJhZ21lbnRzKGUsTCksaT10aGlzLmVuc3VyZUJsb2NrKHRoaXMuYm9keSkuY29tcGlsZVRvRnJhZ21lbnRzKG90KGUse2luZGVudDpjfSkpLG89W10uY29uY2F0KHRoaXMubWFrZUNvZGUoXCJpZiAoXCIpLHIsdGhpcy5tYWtlQ29kZShcIikge1xcblwiKSxpLHRoaXMubWFrZUNvZGUoXCJcXG5cIit0aGlzLnRhYitcIn1cIikpLHN8fG8udW5zaGlmdCh0aGlzLm1ha2VDb2RlKHRoaXMudGFiKSksdGhpcy5lbHNlQm9keT8obj1vLmNvbmNhdCh0aGlzLm1ha2VDb2RlKFwiIGVsc2UgXCIpKSx0aGlzLmlzQ2hhaW4/KGUuY2hhaW5DaGlsZD0hMCxuPW4uY29uY2F0KHRoaXMuZWxzZUJvZHkudW53cmFwKCkuY29tcGlsZVRvRnJhZ21lbnRzKGUsRSkpKTpuPW4uY29uY2F0KHRoaXMubWFrZUNvZGUoXCJ7XFxuXCIpLHRoaXMuZWxzZUJvZHkuY29tcGlsZVRvRnJhZ21lbnRzKG90KGUse2luZGVudDpjfSksRSksdGhpcy5tYWtlQ29kZShcIlxcblwiK3RoaXMudGFiK1wifVwiKSksbik6byl9LHQucHJvdG90eXBlLmNvbXBpbGVFeHByZXNzaW9uPWZ1bmN0aW9uKGUpe3ZhciB0LG4saSxzO3JldHVybiBpPXRoaXMuY29uZGl0aW9uLmNvbXBpbGVUb0ZyYWdtZW50cyhlLFQpLG49dGhpcy5ib2R5Tm9kZSgpLmNvbXBpbGVUb0ZyYWdtZW50cyhlLEMpLHQ9dGhpcy5lbHNlQm9keU5vZGUoKT90aGlzLmVsc2VCb2R5Tm9kZSgpLmNvbXBpbGVUb0ZyYWdtZW50cyhlLEMpOlt0aGlzLm1ha2VDb2RlKFwidm9pZCAwXCIpXSxzPWkuY29uY2F0KHRoaXMubWFrZUNvZGUoXCIgPyBcIiksbix0aGlzLm1ha2VDb2RlKFwiIDogXCIpLHQpLGUubGV2ZWw+PVQ/dGhpcy53cmFwSW5CcmFjZXMocyk6c30sdC5wcm90b3R5cGUudW5mb2xkU29haz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNvYWsmJnRoaXN9LHR9KHMpLGM9e3dyYXA6ZnVuY3Rpb24oZSxuLGkpe3ZhciBzLG8sYyxsLHU7aWYoZS5qdW1wcygpKXJldHVybiBlO2lmKGM9bmV3IGgoW10sci53cmFwKFtlXSkpLHM9W10sKGw9ZS5jb250YWlucyh0aGlzLmxpdGVyYWxBcmdzKSl8fGUuY29udGFpbnModGhpcy5saXRlcmFsVGhpcykpe2lmKGwmJmUuY2xhc3NCb2R5KXRocm93IFN5bnRheEVycm9yKFwiQ2xhc3MgYm9kaWVzIHNob3VsZG4ndCByZWZlcmVuY2UgYXJndW1lbnRzXCIpO3U9bmV3IE4obD9cImFwcGx5XCI6XCJjYWxsXCIpLHM9W25ldyBOKFwidGhpc1wiKV0sbCYmcy5wdXNoKG5ldyBOKFwiYXJndW1lbnRzXCIpKSxjPW5ldyBLKGMsW25ldyB0KHUpXSl9cmV0dXJuIGMubm9SZXR1cm49aSxvPW5ldyBhKGMscyksbj9yLndyYXAoW29dKTpvfSxsaXRlcmFsQXJnczpmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIE4mJlwiYXJndW1lbnRzXCI9PT1lLnZhbHVlJiYhZS5hc0tleX0sbGl0ZXJhbFRoaXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBOJiZcInRoaXNcIj09PWUudmFsdWUmJiFlLmFzS2V5fHxlIGluc3RhbmNlb2YgaCYmZS5ib3VuZHx8ZSBpbnN0YW5jZW9mIGEmJmUuaXNTdXBlcn19LHV0PWZ1bmN0aW9uKGUsdCxuKXt2YXIgaTtpZihpPXRbbl0udW5mb2xkU29hayhlKSlyZXR1cm4gdFtuXT1pLmJvZHksaS5ib2R5PW5ldyBLKHQpLGl9LFk9e1wiZXh0ZW5kc1wiOmZ1bmN0aW9uKCl7cmV0dXJuXCJmdW5jdGlvbihjaGlsZCwgcGFyZW50KSB7IGZvciAodmFyIGtleSBpbiBwYXJlbnQpIHsgaWYgKFwiK3B0KFwiaGFzUHJvcFwiKStcIi5jYWxsKHBhcmVudCwga2V5KSkgY2hpbGRba2V5XSA9IHBhcmVudFtrZXldOyB9IGZ1bmN0aW9uIGN0b3IoKSB7IHRoaXMuY29uc3RydWN0b3IgPSBjaGlsZDsgfSBjdG9yLnByb3RvdHlwZSA9IHBhcmVudC5wcm90b3R5cGU7IGNoaWxkLnByb3RvdHlwZSA9IG5ldyBjdG9yKCk7IGNoaWxkLl9fc3VwZXJfXyA9IHBhcmVudC5wcm90b3R5cGU7IHJldHVybiBjaGlsZDsgfVwifSxpbmRleE9mOmZ1bmN0aW9uKCl7cmV0dXJuXCJbXS5pbmRleE9mIHx8IGZ1bmN0aW9uKGl0ZW0pIHsgZm9yICh2YXIgaSA9IDAsIGwgPSB0aGlzLmxlbmd0aDsgaSA8IGw7IGkrKykgeyBpZiAoaSBpbiB0aGlzICYmIHRoaXNbaV0gPT09IGl0ZW0pIHJldHVybiBpOyB9IHJldHVybiAtMTsgfVwifSxoYXNQcm9wOmZ1bmN0aW9uKCl7cmV0dXJuXCJ7fS5oYXNPd25Qcm9wZXJ0eVwifSxzbGljZTpmdW5jdGlvbigpe3JldHVyblwiW10uc2xpY2VcIn19LEU9MSxMPTIsQz0zLFQ9NCxGPTUsdz02LEg9XCIgIFwiLGc9XCJbJEEtWmEtel9cXFxceDdmLVxcXFx1ZmZmZl1bJFxcXFx3XFxcXHg3Zi1cXFxcdWZmZmZdKlwiLG09UmVnRXhwKFwiXlwiK2crXCIkXCIpLGo9L15bKy1dP1xcZCskLyx4PVJlZ0V4cChcIl4oPzooXCIrZytcIilcXFxcLnByb3RvdHlwZSg/OlxcXFwuKFwiK2crXCIpfFxcXFxbKFxcXCIoPzpbXlxcXFxcXFxcXFxcIlxcXFxyXFxcXG5dfFxcXFxcXFxcLikqXFxcInwnKD86W15cXFxcXFxcXCdcXFxcclxcXFxuXXxcXFxcXFxcXC4pKicpXFxcXF18XFxcXFsoMHhbXFxcXGRhLWZBLUZdK3xcXFxcZCpcXFxcLj9cXFxcZCsoPzpbZUVdWystXT9cXFxcZCspPylcXFxcXSkpfChcIitnK1wiKSRcIiksYj0vXlsnXCJdLyxwdD1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gdD1cIl9fXCIrZSxWLnJvb3QuYXNzaWduKHQsWVtlXSgpKSx0fSxjdD1mdW5jdGlvbihlLHQpe3JldHVybiBlPWUucmVwbGFjZSgvXFxuL2csXCIkJlwiK3QpLGUucmVwbGFjZSgvXFxzKyQvLFwiXCIpfX0pLmNhbGwodGhpcyl9LHJlcXVpcmVbXCIuL3NvdXJjZW1hcFwiXT1uZXcgZnVuY3Rpb24oKXt2YXIgZT10aGlzOyhmdW5jdGlvbigpe3ZhciB0LG4saSxzLHIsYSxvLGM7bj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5nZW5lcmF0ZWRMaW5lPWUsdGhpcy5jb2x1bW5NYXA9e30sdGhpcy5jb2x1bW5NYXBwaW5ncz1bXX1yZXR1cm4gZS5wcm90b3R5cGUuYWRkTWFwcGluZz1mdW5jdGlvbihlLHQsbil7dmFyIGkscztyZXR1cm4gcz10WzBdLGk9dFsxXSxudWxsPT1uJiYobj17fSksdGhpcy5jb2x1bW5NYXBbZV0mJm4ubm9SZXBsYWNlP3ZvaWQgMDoodGhpcy5jb2x1bW5NYXBbZV09e2dlbmVyYXRlZExpbmU6dGhpcy5nZW5lcmF0ZWRMaW5lLGdlbmVyYXRlZENvbHVtbjplLHNvdXJjZUxpbmU6cyxzb3VyY2VDb2x1bW46aX0sdGhpcy5jb2x1bW5NYXBwaW5ncy5wdXNoKHRoaXMuY29sdW1uTWFwW2VdKSx0aGlzLmNvbHVtbk1hcHBpbmdzLnNvcnQoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5nZW5lcmF0ZWRDb2x1bW4tdC5nZW5lcmF0ZWRDb2x1bW59KSl9LGUucHJvdG90eXBlLmdldFNvdXJjZVBvc2l0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0LG4saSxzLHIsYTtmb3IodD1udWxsLGk9bnVsbCxhPXRoaXMuY29sdW1uTWFwcGluZ3Mscz0wLHI9YS5sZW5ndGg7cj5zJiYobj1hW3NdLCEobi5nZW5lcmF0ZWRDb2x1bW4+ZSkpO3MrKylpPW47cmV0dXJuIGk/dD1baS5zb3VyY2VMaW5lLGkuc291cmNlQ29sdW1uXTp2b2lkIDB9LGV9KCksZS5Tb3VyY2VNYXA9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5nZW5lcmF0ZWRMaW5lcz1bXX1yZXR1cm4gZS5wcm90b3R5cGUuYWRkTWFwcGluZz1mdW5jdGlvbihlLHQsaSl7dmFyIHMscixhO3JldHVybiBudWxsPT1pJiYoaT17fSkscj10WzBdLHM9dFsxXSxhPXRoaXMuZ2VuZXJhdGVkTGluZXNbcl0sYXx8KGE9dGhpcy5nZW5lcmF0ZWRMaW5lc1tyXT1uZXcgbihyKSksYS5hZGRNYXBwaW5nKHMsZSxpKX0sZS5wcm90b3R5cGUuZ2V0U291cmNlUG9zaXRpb249ZnVuY3Rpb24oZSl7dmFyIHQsbixpLHM7cmV0dXJuIGk9ZVswXSxuPWVbMV0sdD1udWxsLHM9dGhpcy5nZW5lcmF0ZWRMaW5lc1tpXSxzJiYodD1zLmdldFNvdXJjZVBvc2l0aW9uKG4pKSx0fSxlLnByb3RvdHlwZS5mb3JFYWNoTWFwcGluZz1mdW5jdGlvbihlKXt2YXIgdCxuLGkscyxyLGEsbztmb3IoYT10aGlzLmdlbmVyYXRlZExpbmVzLG89W10sbj1zPTAscj1hLmxlbmd0aDtyPnM7bj0rK3MpaT1hW25dLGk/by5wdXNoKGZ1bmN0aW9uKCl7dmFyIG4scyxyLGE7Zm9yKHI9aS5jb2x1bW5NYXBwaW5ncyxhPVtdLG49MCxzPXIubGVuZ3RoO3M+bjtuKyspdD1yW25dLGEucHVzaChlKHQpKTtyZXR1cm4gYX0oKSk6by5wdXNoKHZvaWQgMCk7cmV0dXJuIG99LGV9KCksZS5nZW5lcmF0ZVYzU291cmNlTWFwPWZ1bmN0aW9uKHQsbixpKXt2YXIgcyxyLGEsbyxjLGgsbDtyZXR1cm4gbnVsbD09biYmKG49bnVsbCksbnVsbD09aSYmKGk9bnVsbCksbD0wLHI9MCxvPTAsYT0wLGg9ITEsYz1cIlwiLHQuZm9yRWFjaE1hcHBpbmcoZnVuY3Rpb24odCl7Zm9yKDt0LmdlbmVyYXRlZExpbmU+bDspcj0wLGg9ITEsYys9XCI7XCIsbCsrO3JldHVybiBoJiYoYys9XCIsXCIsaD0hMSksYys9ZS52bHFFbmNvZGVWYWx1ZSh0LmdlbmVyYXRlZENvbHVtbi1yKSxyPXQuZ2VuZXJhdGVkQ29sdW1uLGMrPWUudmxxRW5jb2RlVmFsdWUoMCksYys9ZS52bHFFbmNvZGVWYWx1ZSh0LnNvdXJjZUxpbmUtbyksbz10LnNvdXJjZUxpbmUsYys9ZS52bHFFbmNvZGVWYWx1ZSh0LnNvdXJjZUNvbHVtbi1hKSxhPXQuc291cmNlQ29sdW1uLGg9ITB9KSxzPXt2ZXJzaW9uOjMsZmlsZTppLHNvdXJjZVJvb3Q6XCJcIixzb3VyY2VzOm4/W25dOltdLG5hbWVzOltdLG1hcHBpbmdzOmN9LEpTT04uc3RyaW5naWZ5KHMsbnVsbCwyKX0sZS5sb2FkVjNTb3VyY2VNYXA9ZnVuY3Rpb24oKXtyZXR1cm4gdG9kbygpfSx0PVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1wiLGk9dC5sZW5ndGgtMSxjPWZ1bmN0aW9uKGUpe2lmKGU+aSl0aHJvdyBFcnJvcihcIkNhbm5vdCBlbmNvZGUgdmFsdWUgXCIrZStcIiA+IFwiK2kpO2lmKDA+ZSl0aHJvdyBFcnJvcihcIkNhbm5vdCBlbmNvZGUgdmFsdWUgXCIrZStcIiA8IDBcIik7cmV0dXJuIHRbZV19LG89ZnVuY3Rpb24oZSl7dmFyIG47aWYobj10LmluZGV4T2YoZSksLTE9PT1uKXRocm93IEVycm9yKFwiSW52YWxpZCBCYXNlIDY0IGNoYXJhY3RlcjogXCIrZSk7cmV0dXJuIG59LHI9NSxzPTE8PHIsYT1zLTEsZS52bHFFbmNvZGVWYWx1ZT1mdW5jdGlvbihlKXt2YXIgdCxuLGksbztmb3IoaT0wPmU/MTowLG89KE1hdGguYWJzKGUpPDwxKStpLHQ9XCJcIjtvfHwhdDspbj1vJmEsbz4+PXIsbyYmKG58PXMpLHQrPWMobik7cmV0dXJuIHR9LGUudmxxRGVjb2RlVmFsdWU9ZnVuY3Rpb24oZSx0KXt2YXIgbixpLGMsaCxsLHUscCxkO2ZvcihudWxsPT10JiYodD0wKSx1PXQsYz0hMSxkPTAsaT0wOyFjOylsPW8oZVt1XSksdSs9MSxoPWwmYSxkKz1oPDxpLGwmc3x8KGM9ITApLGkrPXI7cmV0dXJuIG49dS10LHA9MSZkLGQ+Pj0xLHAmJihkPS1kKSxbZCxuXX19KS5jYWxsKHRoaXMpfSxyZXF1aXJlW1wiLi9jb2ZmZWUtc2NyaXB0XCJdPW5ldyBmdW5jdGlvbigpe3ZhciBlPXRoaXM7KGZ1bmN0aW9uKCl7dmFyIHQsbixpLHMscixhLG8sYyxoLGwsdSxwLGQsZixtPXt9Lmhhc093blByb3BlcnR5O2lmKHM9cmVxdWlyZShcImZzXCIpLGg9cmVxdWlyZShcInBhdGhcIiksdD1yZXF1aXJlKFwiLi9sZXhlclwiKS5MZXhlcixjPXJlcXVpcmUoXCIuL3BhcnNlclwiKS5wYXJzZXIscj1yZXF1aXJlKFwiLi9oZWxwZXJzXCIpLHU9cmVxdWlyZShcInZtXCIpLGw9cmVxdWlyZShcIi4vc291cmNlbWFwXCIpLG89ZnVuY3Rpb24oZSx0KXt2YXIgaSxhO3JldHVybiBpPXMucmVhZEZpbGVTeW5jKHQsXCJ1dGY4XCIpLGE9NjUyNzk9PT1pLmNoYXJDb2RlQXQoMCk/aS5zdWJzdHJpbmcoMSk6aSxlLl9jb21waWxlKG4oYSx7ZmlsZW5hbWU6dCxsaXRlcmF0ZTpyLmlzTGl0ZXJhdGUodCl9KSx0KX0scmVxdWlyZS5leHRlbnNpb25zKWZvcihmPVtcIi5jb2ZmZWVcIixcIi5saXRjb2ZmZWVcIixcIi5tZFwiLFwiLmNvZmZlZS5tZFwiXSxwPTAsZD1mLmxlbmd0aDtkPnA7cCsrKWk9ZltwXSxyZXF1aXJlLmV4dGVuc2lvbnNbaV09bztlLlZFUlNJT049XCIxLjYuMVwiLGUuaGVscGVycz1yLGUuY29tcGlsZT1uPWZ1bmN0aW9uKHQsbil7dmFyIGkscyxvLGgsdSxwLGQsZixtLGcsYixrLHksdjtudWxsPT1uJiYobj17fSksZz1lLmhlbHBlcnMubWVyZ2U7dHJ5e2ZvcihuLnNvdXJjZU1hcCYmKHM9ci5iYXNlRmlsZU5hbWUobi5maWxlbmFtZSksbT1yLmJhc2VGaWxlTmFtZShuLmZpbGVuYW1lLCEwKStcIi5qc1wiLGs9bmV3IGwuU291cmNlTWFwKSxwPWMucGFyc2UoYS50b2tlbml6ZSh0LG4pKS5jb21waWxlVG9GcmFnbWVudHMobiksaD0wLG4uaGVhZGVyJiYoaCs9MSksbi5zb3VyY2VNYXAmJihoKz0xKSxvPTAsZj1cIlwiLHk9MCx2PXAubGVuZ3RoO3Y+eTt5KyspdT1wW3ldLGsmJih1LmxvY2F0aW9uRGF0YSYmay5hZGRNYXBwaW5nKFt1LmxvY2F0aW9uRGF0YS5maXJzdF9saW5lLHUubG9jYXRpb25EYXRhLmZpcnN0X2NvbHVtbl0sW2gsb10se25vUmVwbGFjZTohMH0pLGI9ci5jb3VudCh1LmNvZGUsXCJcXG5cIiksaCs9YixvPXUuY29kZS5sZW5ndGgtKGI/dS5jb2RlLmxhc3RJbmRleE9mKFwiXFxuXCIpOjApKSxmKz11LmNvZGV9Y2F0Y2godyl7dGhyb3cgbi5maWxlbmFtZSYmKHcubWVzc2FnZT1cIkluIFwiK24uZmlsZW5hbWUrXCIsIFwiK3cubWVzc2FnZSksd31yZXR1cm4gbi5oZWFkZXImJihkPVwiR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCBcIit0aGlzLlZFUlNJT04sZj1cIi8vIFwiK2QrXCJcXG5cIitmKSxuLnNvdXJjZU1hcD8oaT17anM6Zn0sayYmKGkuc291cmNlTWFwPWssaS52M1NvdXJjZU1hcD1sLmdlbmVyYXRlVjNTb3VyY2VNYXAoayxzLG0pKSxpKTpmfSxlLnRva2Vucz1mdW5jdGlvbihlLHQpe3JldHVybiBhLnRva2VuaXplKGUsdCl9LGUubm9kZXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZT9jLnBhcnNlKGEudG9rZW5pemUoZSx0KSk6Yy5wYXJzZShlKX0sZS5ydW49ZnVuY3Rpb24oZSx0KXt2YXIgaTtyZXR1cm4gbnVsbD09dCYmKHQ9e30pLGk9cmVxdWlyZS5tYWluLGkuZmlsZW5hbWU9cHJvY2Vzcy5hcmd2WzFdPXQuZmlsZW5hbWU/cy5yZWFscGF0aFN5bmModC5maWxlbmFtZSk6XCIuXCIsaS5tb2R1bGVDYWNoZSYmKGkubW9kdWxlQ2FjaGU9e30pLGkucGF0aHM9cmVxdWlyZShcIm1vZHVsZVwiKS5fbm9kZU1vZHVsZVBhdGhzKGguZGlybmFtZShzLnJlYWxwYXRoU3luYyh0LmZpbGVuYW1lKSkpLCFyLmlzQ29mZmVlKGkuZmlsZW5hbWUpfHxyZXF1aXJlLmV4dGVuc2lvbnM/aS5fY29tcGlsZShuKGUsdCksaS5maWxlbmFtZSk6aS5fY29tcGlsZShlLGkuZmlsZW5hbWUpfSxlLmV2YWw9ZnVuY3Rpb24oZSx0KXt2YXIgaSxzLHIsYSxvLGMsbCxwLGQsZixnLGIsayx5O2lmKG51bGw9PXQmJih0PXt9KSxlPWUudHJpbSgpKXtpZihzPXUuU2NyaXB0KXtpZihudWxsIT10LnNhbmRib3gpe2lmKHQuc2FuZGJveCBpbnN0YW5jZW9mIHMuY3JlYXRlQ29udGV4dCgpLmNvbnN0cnVjdG9yKWw9dC5zYW5kYm94O2Vsc2V7bD1zLmNyZWF0ZUNvbnRleHQoKSxiPXQuc2FuZGJveDtmb3IoYSBpbiBiKW0uY2FsbChiLGEpJiYocD1iW2FdLGxbYV09cCl9bC5nbG9iYWw9bC5yb290PWwuR0xPQkFMPWx9ZWxzZSBsPWdsb2JhbDtpZihsLl9fZmlsZW5hbWU9dC5maWxlbmFtZXx8XCJldmFsXCIsbC5fX2Rpcm5hbWU9aC5kaXJuYW1lKGwuX19maWxlbmFtZSksbD09PWdsb2JhbCYmIWwubW9kdWxlJiYhbC5yZXF1aXJlKXtmb3IoaT1yZXF1aXJlKFwibW9kdWxlXCIpLGwubW9kdWxlPWc9bmV3IGkodC5tb2R1bGVuYW1lfHxcImV2YWxcIiksbC5yZXF1aXJlPXk9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuX2xvYWQoZSxnLCEwKX0sZy5maWxlbmFtZT1sLl9fZmlsZW5hbWUsaz1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhyZXF1aXJlKSxkPTAsZj1rLmxlbmd0aDtmPmQ7ZCsrKWM9a1tkXSxcInBhdGhzXCIhPT1jJiYoeVtjXT1yZXF1aXJlW2NdKTt5LnBhdGhzPWcucGF0aHM9aS5fbm9kZU1vZHVsZVBhdGhzKHByb2Nlc3MuY3dkKCkpLHkucmVzb2x2ZT1mdW5jdGlvbihlKXtyZXR1cm4gaS5fcmVzb2x2ZUZpbGVuYW1lKGUsZyl9fX1vPXt9O2ZvcihhIGluIHQpbS5jYWxsKHQsYSkmJihwPXRbYV0sb1thXT1wKTtyZXR1cm4gby5iYXJlPSEwLHI9bihlLG8pLGw9PT1nbG9iYWw/dS5ydW5JblRoaXNDb250ZXh0KHIpOnUucnVuSW5Db250ZXh0KHIsbCl9fSxhPW5ldyB0LGMubGV4ZXI9e2xleDpmdW5jdGlvbigpe3ZhciBlLHQ7cmV0dXJuIHQ9dGhpcy50b2tlbnNbdGhpcy5wb3MrK10sdD8oZT10WzBdLHRoaXMueXl0ZXh0PXRbMV0sdGhpcy55eWxsb2M9dFsyXSx0aGlzLnl5bGluZW5vPXRoaXMueXlsbG9jLmZpcnN0X2xpbmUpOmU9XCJcIixlfSxzZXRJbnB1dDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50b2tlbnM9ZSx0aGlzLnBvcz0wfSx1cGNvbWluZ0lucHV0OmZ1bmN0aW9uKCl7cmV0dXJuXCJcIn19LGMueXk9cmVxdWlyZShcIi4vbm9kZXNcIil9KS5jYWxsKHRoaXMpfSxyZXF1aXJlW1wiLi9icm93c2VyXCJdPW5ldyBmdW5jdGlvbigpe3ZhciBleHBvcnRzPXRoaXM7KGZ1bmN0aW9uKCl7dmFyIENvZmZlZVNjcmlwdCxydW5TY3JpcHRzLF9faW5kZXhPZj1bXS5pbmRleE9mfHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxuPXRoaXMubGVuZ3RoO24+dDt0KyspaWYodCBpbiB0aGlzJiZ0aGlzW3RdPT09ZSlyZXR1cm4gdDtyZXR1cm4tMX07Q29mZmVlU2NyaXB0PXJlcXVpcmUoXCIuL2NvZmZlZS1zY3JpcHRcIiksQ29mZmVlU2NyaXB0LnJlcXVpcmU9cmVxdWlyZSxDb2ZmZWVTY3JpcHQuZXZhbD1mdW5jdGlvbihjb2RlLG9wdGlvbnMpe3ZhciBfcmVmO3JldHVybiBudWxsPT1vcHRpb25zJiYob3B0aW9ucz17fSksbnVsbD09KF9yZWY9b3B0aW9ucy5iYXJlKSYmKG9wdGlvbnMuYmFyZT0hMCksZXZhbChDb2ZmZWVTY3JpcHQuY29tcGlsZShjb2RlLG9wdGlvbnMpKX0sQ29mZmVlU2NyaXB0LnJ1bj1mdW5jdGlvbihlLHQpe3JldHVybiBudWxsPT10JiYodD17fSksdC5iYXJlPSEwLEZ1bmN0aW9uKENvZmZlZVNjcmlwdC5jb21waWxlKGUsdCkpKCl9LFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJm51bGwhPT13aW5kb3cmJihDb2ZmZWVTY3JpcHQubG9hZD1mdW5jdGlvbihlLHQsbil7dmFyIGk7cmV0dXJuIG51bGw9PW4mJihuPXt9KSxpPXdpbmRvdy5BY3RpdmVYT2JqZWN0P25ldyB3aW5kb3cuQWN0aXZlWE9iamVjdChcIk1pY3Jvc29mdC5YTUxIVFRQXCIpOm5ldyBYTUxIdHRwUmVxdWVzdCxpLm9wZW4oXCJHRVRcIixlLCEwKSxcIm92ZXJyaWRlTWltZVR5cGVcImluIGkmJmkub3ZlcnJpZGVNaW1lVHlwZShcInRleHQvcGxhaW5cIiksaS5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXt2YXIgcztpZig0PT09aS5yZWFkeVN0YXRlKXtpZigwIT09KHM9aS5zdGF0dXMpJiYyMDAhPT1zKXRocm93IEVycm9yKFwiQ291bGQgbm90IGxvYWQgXCIrZSk7aWYoQ29mZmVlU2NyaXB0LnJ1bihpLnJlc3BvbnNlVGV4dCxuKSx0KXJldHVybiB0KCl9fSxpLnNlbmQobnVsbCl9LHJ1blNjcmlwdHM9ZnVuY3Rpb24oKXt2YXIgZSx0LG4saSxzLHIsYTtyZXR1cm4gYT1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKSx0PVtcInRleHQvY29mZmVlc2NyaXB0XCIsXCJ0ZXh0L2xpdGVyYXRlLWNvZmZlZXNjcmlwdFwiXSxlPWZ1bmN0aW9uKCl7dmFyIGUsbixpLHM7Zm9yKHM9W10sZT0wLG49YS5sZW5ndGg7bj5lO2UrKylyPWFbZV0saT1yLnR5cGUsX19pbmRleE9mLmNhbGwodCxpKT49MCYmcy5wdXNoKHIpO3JldHVybiBzfSgpLGk9MCxzPWUubGVuZ3RoLChuPWZ1bmN0aW9uKCl7dmFyIHMscixhO3JldHVybiBhPWVbaSsrXSxzPW51bGwhPWE/YS50eXBlOnZvaWQgMCxfX2luZGV4T2YuY2FsbCh0LHMpPj0wPyhyPXtsaXRlcmF0ZTpcInRleHQvbGl0ZXJhdGUtY29mZmVlc2NyaXB0XCI9PT1zfSxhLnNyYz9Db2ZmZWVTY3JpcHQubG9hZChhLnNyYyxuLHIpOihDb2ZmZWVTY3JpcHQucnVuKGEuaW5uZXJIVE1MLHIpLG4oKSkpOnZvaWQgMH0pKCksbnVsbH0sd2luZG93LmFkZEV2ZW50TGlzdGVuZXI/YWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixydW5TY3JpcHRzLCExKTphdHRhY2hFdmVudChcIm9ubG9hZFwiLHJ1blNjcmlwdHMpKX0pLmNhbGwodGhpcyl9LHJlcXVpcmVbXCIuL2NvZmZlZS1zY3JpcHRcIl19KCk7XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShmdW5jdGlvbigpe3JldHVybiBDb2ZmZWVTY3JpcHR9KTpyb290LkNvZmZlZVNjcmlwdD1Db2ZmZWVTY3JpcHR9KSh0aGlzKTsiXX0=
